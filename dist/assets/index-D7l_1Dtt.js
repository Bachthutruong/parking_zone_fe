import{r as g,a as Qs,b as D,R as es,c as kg,d as Ll,g as xt}from"./vendor-BqSMHcVE.js";import{u as Qd,L as $r,O as ef,a as tf,N as Mx,R as wk,b as yt,B as Nk}from"./router-BXaqELzt.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var C1={exports:{}},rf={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sk=g,Ak=Symbol.for("react.element"),Ok=Symbol.for("react.fragment"),_k=Object.prototype.hasOwnProperty,Pk=Sk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ck={key:!0,ref:!0,__self:!0,__source:!0};function k1(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)_k.call(t,n)&&!Ck.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Ak,type:e,key:i,ref:o,props:s,_owner:Pk.current}}rf.Fragment=Ok;rf.jsx=k1;rf.jsxs=k1;C1.exports=rf;var a=C1.exports,Nm={},Rx=Qs;Nm.createRoot=Rx.createRoot,Nm.hydrateRoot=Rx.hydrateRoot;function T1(e,t){return function(){return e.apply(t,arguments)}}const{toString:kk}=Object.prototype,{getPrototypeOf:Tg}=Object,{iterator:nf,toStringTag:E1}=Symbol,af=(e=>t=>{const r=kk.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Nn=e=>(e=e.toLowerCase(),t=>af(t)===e),sf=e=>t=>typeof t===e,{isArray:vo}=Array,jc=sf("undefined");function Tk(e){return e!==null&&!jc(e)&&e.constructor!==null&&!jc(e.constructor)&&Ar(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const $1=Nn("ArrayBuffer");function Ek(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&$1(e.buffer),t}const $k=sf("string"),Ar=sf("function"),D1=sf("number"),of=e=>e!==null&&typeof e=="object",Dk=e=>e===!0||e===!1,uu=e=>{if(af(e)!=="object")return!1;const t=Tg(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(E1 in e)&&!(nf in e)},Ik=Nn("Date"),Mk=Nn("File"),Rk=Nn("Blob"),Lk=Nn("FileList"),Fk=e=>of(e)&&Ar(e.pipe),Bk=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Ar(e.append)&&((t=af(e))==="formdata"||t==="object"&&Ar(e.toString)&&e.toString()==="[object FormData]"))},Vk=Nn("URLSearchParams"),[zk,Uk,Wk,Hk]=["ReadableStream","Request","Response","Headers"].map(Nn),qk=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Nl(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,s;if(typeof e!="object"&&(e=[e]),vo(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{const i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let c;for(n=0;n<o;n++)c=i[n],t.call(null,e[c],c,e)}}function I1(e,t){t=t.toLowerCase();const r=Object.keys(e);let n=r.length,s;for(;n-- >0;)if(s=r[n],t===s.toLowerCase())return s;return null}const vs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,M1=e=>!jc(e)&&e!==vs;function Sm(){const{caseless:e}=M1(this)&&this||{},t={},r=(n,s)=>{const i=e&&I1(t,s)||s;uu(t[i])&&uu(n)?t[i]=Sm(t[i],n):uu(n)?t[i]=Sm({},n):vo(n)?t[i]=n.slice():t[i]=n};for(let n=0,s=arguments.length;n<s;n++)arguments[n]&&Nl(arguments[n],r);return t}const Kk=(e,t,r,{allOwnKeys:n}={})=>(Nl(t,(s,i)=>{r&&Ar(s)?e[i]=T1(s,r):e[i]=s},{allOwnKeys:n}),e),Gk=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Zk=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},Xk=(e,t,r,n)=>{let s,i,o;const c={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)o=s[i],(!n||n(o,e,t))&&!c[o]&&(t[o]=e[o],c[o]=!0);e=r!==!1&&Tg(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},Yk=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},Jk=e=>{if(!e)return null;if(vo(e))return e;let t=e.length;if(!D1(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},Qk=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Tg(Uint8Array)),eT=(e,t)=>{const n=(e&&e[nf]).call(e);let s;for(;(s=n.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},tT=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},rT=Nn("HTMLFormElement"),nT=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),Lx=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),aT=Nn("RegExp"),R1=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Nl(r,(s,i)=>{let o;(o=t(s,i,e))!==!1&&(n[i]=o||s)}),Object.defineProperties(e,n)},sT=e=>{R1(e,(t,r)=>{if(Ar(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Ar(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},iT=(e,t)=>{const r={},n=s=>{s.forEach(i=>{r[i]=!0})};return vo(e)?n(e):n(String(e).split(t)),r},oT=()=>{},cT=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function lT(e){return!!(e&&Ar(e.append)&&e[E1]==="FormData"&&e[nf])}const uT=e=>{const t=new Array(10),r=(n,s)=>{if(of(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[s]=n;const i=vo(n)?[]:{};return Nl(n,(o,c)=>{const l=r(o,s+1);!jc(l)&&(i[c]=l)}),t[s]=void 0,i}}return n};return r(e,0)},dT=Nn("AsyncFunction"),fT=e=>e&&(of(e)||Ar(e))&&Ar(e.then)&&Ar(e.catch),L1=((e,t)=>e?setImmediate:t?((r,n)=>(vs.addEventListener("message",({source:s,data:i})=>{s===vs&&i===r&&n.length&&n.shift()()},!1),s=>{n.push(s),vs.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Ar(vs.postMessage)),hT=typeof queueMicrotask<"u"?queueMicrotask.bind(vs):typeof process<"u"&&process.nextTick||L1,mT=e=>e!=null&&Ar(e[nf]),ne={isArray:vo,isArrayBuffer:$1,isBuffer:Tk,isFormData:Bk,isArrayBufferView:Ek,isString:$k,isNumber:D1,isBoolean:Dk,isObject:of,isPlainObject:uu,isReadableStream:zk,isRequest:Uk,isResponse:Wk,isHeaders:Hk,isUndefined:jc,isDate:Ik,isFile:Mk,isBlob:Rk,isRegExp:aT,isFunction:Ar,isStream:Fk,isURLSearchParams:Vk,isTypedArray:Qk,isFileList:Lk,forEach:Nl,merge:Sm,extend:Kk,trim:qk,stripBOM:Gk,inherits:Zk,toFlatObject:Xk,kindOf:af,kindOfTest:Nn,endsWith:Yk,toArray:Jk,forEachEntry:eT,matchAll:tT,isHTMLForm:rT,hasOwnProperty:Lx,hasOwnProp:Lx,reduceDescriptors:R1,freezeMethods:sT,toObjectSet:iT,toCamelCase:nT,noop:oT,toFiniteNumber:cT,findKey:I1,global:vs,isContextDefined:M1,isSpecCompliantForm:lT,toJSONObject:uT,isAsyncFn:dT,isThenable:fT,setImmediate:L1,asap:hT,isIterable:mT};function Xe(e,t,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}ne.inherits(Xe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ne.toJSONObject(this.config),code:this.code,status:this.status}}});const F1=Xe.prototype,B1={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{B1[e]={value:e}});Object.defineProperties(Xe,B1);Object.defineProperty(F1,"isAxiosError",{value:!0});Xe.from=(e,t,r,n,s,i)=>{const o=Object.create(F1);return ne.toFlatObject(e,o,function(l){return l!==Error.prototype},c=>c!=="isAxiosError"),Xe.call(o,e.message,t,r,n,s),o.cause=e,o.name=e.name,i&&Object.assign(o,i),o};const pT=null;function Am(e){return ne.isPlainObject(e)||ne.isArray(e)}function V1(e){return ne.endsWith(e,"[]")?e.slice(0,-2):e}function Fx(e,t,r){return e?e.concat(t).map(function(s,i){return s=V1(s),!r&&i?"["+s+"]":s}).join(r?".":""):t}function gT(e){return ne.isArray(e)&&!e.some(Am)}const vT=ne.toFlatObject(ne,{},null,function(t){return/^is[A-Z]/.test(t)});function cf(e,t,r){if(!ne.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=ne.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,x){return!ne.isUndefined(x[m])});const n=r.metaTokens,s=r.visitor||d,i=r.dots,o=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&ne.isSpecCompliantForm(t);if(!ne.isFunction(s))throw new TypeError("visitor must be a function");function u(v){if(v===null)return"";if(ne.isDate(v))return v.toISOString();if(ne.isBoolean(v))return v.toString();if(!l&&ne.isBlob(v))throw new Xe("Blob is not supported. Use a Buffer instead.");return ne.isArrayBuffer(v)||ne.isTypedArray(v)?l&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function d(v,m,x){let b=v;if(v&&!x&&typeof v=="object"){if(ne.endsWith(m,"{}"))m=n?m:m.slice(0,-2),v=JSON.stringify(v);else if(ne.isArray(v)&&gT(v)||(ne.isFileList(v)||ne.endsWith(m,"[]"))&&(b=ne.toArray(v)))return m=V1(m),b.forEach(function(j,S){!(ne.isUndefined(j)||j===null)&&t.append(o===!0?Fx([m],S,i):o===null?m:m+"[]",u(j))}),!1}return Am(v)?!0:(t.append(Fx(x,m,i),u(v)),!1)}const f=[],h=Object.assign(vT,{defaultVisitor:d,convertValue:u,isVisitable:Am});function p(v,m){if(!ne.isUndefined(v)){if(f.indexOf(v)!==-1)throw Error("Circular reference detected in "+m.join("."));f.push(v),ne.forEach(v,function(b,y){(!(ne.isUndefined(b)||b===null)&&s.call(t,b,ne.isString(y)?y.trim():y,m,h))===!0&&p(b,m?m.concat(y):[y])}),f.pop()}}if(!ne.isObject(e))throw new TypeError("data must be an object");return p(e),t}function Bx(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Eg(e,t){this._pairs=[],e&&cf(e,this,t)}const z1=Eg.prototype;z1.append=function(t,r){this._pairs.push([t,r])};z1.toString=function(t){const r=t?function(n){return t.call(this,n,Bx)}:Bx;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function xT(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function U1(e,t,r){if(!t)return e;const n=r&&r.encode||xT;ne.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let i;if(s?i=s(t,r):i=ne.isURLSearchParams(t)?t.toString():new Eg(t,r).toString(n),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class Vx{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ne.forEach(this.handlers,function(n){n!==null&&t(n)})}}const W1={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},yT=typeof URLSearchParams<"u"?URLSearchParams:Eg,bT=typeof FormData<"u"?FormData:null,jT=typeof Blob<"u"?Blob:null,wT={isBrowser:!0,classes:{URLSearchParams:yT,FormData:bT,Blob:jT},protocols:["http","https","file","blob","url","data"]},$g=typeof window<"u"&&typeof document<"u",Om=typeof navigator=="object"&&navigator||void 0,NT=$g&&(!Om||["ReactNative","NativeScript","NS"].indexOf(Om.product)<0),ST=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",AT=$g&&window.location.href||"http://localhost",OT=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:$g,hasStandardBrowserEnv:NT,hasStandardBrowserWebWorkerEnv:ST,navigator:Om,origin:AT},Symbol.toStringTag,{value:"Module"})),hr={...OT,...wT};function _T(e,t){return cf(e,new hr.classes.URLSearchParams,Object.assign({visitor:function(r,n,s,i){return hr.isNode&&ne.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function PT(e){return ne.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function CT(e){const t={},r=Object.keys(e);let n;const s=r.length;let i;for(n=0;n<s;n++)i=r[n],t[i]=e[i];return t}function H1(e){function t(r,n,s,i){let o=r[i++];if(o==="__proto__")return!0;const c=Number.isFinite(+o),l=i>=r.length;return o=!o&&ne.isArray(s)?s.length:o,l?(ne.hasOwnProp(s,o)?s[o]=[s[o],n]:s[o]=n,!c):((!s[o]||!ne.isObject(s[o]))&&(s[o]=[]),t(r,n,s[o],i)&&ne.isArray(s[o])&&(s[o]=CT(s[o])),!c)}if(ne.isFormData(e)&&ne.isFunction(e.entries)){const r={};return ne.forEachEntry(e,(n,s)=>{t(PT(n),s,r,0)}),r}return null}function kT(e,t,r){if(ne.isString(e))try{return(t||JSON.parse)(e),ne.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Sl={transitional:W1,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,i=ne.isObject(t);if(i&&ne.isHTMLForm(t)&&(t=new FormData(t)),ne.isFormData(t))return s?JSON.stringify(H1(t)):t;if(ne.isArrayBuffer(t)||ne.isBuffer(t)||ne.isStream(t)||ne.isFile(t)||ne.isBlob(t)||ne.isReadableStream(t))return t;if(ne.isArrayBufferView(t))return t.buffer;if(ne.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return _T(t,this.formSerializer).toString();if((c=ne.isFileList(t))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return cf(c?{"files[]":t}:t,l&&new l,this.formSerializer)}}return i||s?(r.setContentType("application/json",!1),kT(t)):t}],transformResponse:[function(t){const r=this.transitional||Sl.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(ne.isResponse(t)||ne.isReadableStream(t))return t;if(t&&ne.isString(t)&&(n&&!this.responseType||s)){const o=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(c){if(o)throw c.name==="SyntaxError"?Xe.from(c,Xe.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:hr.classes.FormData,Blob:hr.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ne.forEach(["delete","get","head","post","put","patch"],e=>{Sl.headers[e]={}});const TT=ne.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ET=e=>{const t={};let r,n,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),r=o.substring(0,s).trim().toLowerCase(),n=o.substring(s+1).trim(),!(!r||t[r]&&TT[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},zx=Symbol("internals");function Fo(e){return e&&String(e).trim().toLowerCase()}function du(e){return e===!1||e==null?e:ne.isArray(e)?e.map(du):String(e)}function $T(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const DT=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function bh(e,t,r,n,s){if(ne.isFunction(n))return n.call(this,t,r);if(s&&(t=r),!!ne.isString(t)){if(ne.isString(n))return t.indexOf(n)!==-1;if(ne.isRegExp(n))return n.test(t)}}function IT(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function MT(e,t){const r=ne.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(s,i,o){return this[n].call(this,t,s,i,o)},configurable:!0})})}let Or=class{constructor(t){t&&this.set(t)}set(t,r,n){const s=this;function i(c,l,u){const d=Fo(l);if(!d)throw new Error("header name must be a non-empty string");const f=ne.findKey(s,d);(!f||s[f]===void 0||u===!0||u===void 0&&s[f]!==!1)&&(s[f||l]=du(c))}const o=(c,l)=>ne.forEach(c,(u,d)=>i(u,d,l));if(ne.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(ne.isString(t)&&(t=t.trim())&&!DT(t))o(ET(t),r);else if(ne.isObject(t)&&ne.isIterable(t)){let c={},l,u;for(const d of t){if(!ne.isArray(d))throw TypeError("Object iterator must return a key-value pair");c[u=d[0]]=(l=c[u])?ne.isArray(l)?[...l,d[1]]:[l,d[1]]:d[1]}o(c,r)}else t!=null&&i(r,t,n);return this}get(t,r){if(t=Fo(t),t){const n=ne.findKey(this,t);if(n){const s=this[n];if(!r)return s;if(r===!0)return $T(s);if(ne.isFunction(r))return r.call(this,s,n);if(ne.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Fo(t),t){const n=ne.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||bh(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let s=!1;function i(o){if(o=Fo(o),o){const c=ne.findKey(n,o);c&&(!r||bh(n,n[c],c,r))&&(delete n[c],s=!0)}}return ne.isArray(t)?t.forEach(i):i(t),s}clear(t){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const i=r[n];(!t||bh(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const r=this,n={};return ne.forEach(this,(s,i)=>{const o=ne.findKey(n,i);if(o){r[o]=du(s),delete r[i];return}const c=t?IT(i):String(i).trim();c!==i&&delete r[i],r[c]=du(s),n[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return ne.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=t&&ne.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(s=>n.set(s)),n}static accessor(t){const n=(this[zx]=this[zx]={accessors:{}}).accessors,s=this.prototype;function i(o){const c=Fo(o);n[c]||(MT(s,o),n[c]=!0)}return ne.isArray(t)?t.forEach(i):i(t),this}};Or.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ne.reduceDescriptors(Or.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});ne.freezeMethods(Or);function jh(e,t){const r=this||Sl,n=t||r,s=Or.from(n.headers);let i=n.data;return ne.forEach(e,function(c){i=c.call(r,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function q1(e){return!!(e&&e.__CANCEL__)}function xo(e,t,r){Xe.call(this,e??"canceled",Xe.ERR_CANCELED,t,r),this.name="CanceledError"}ne.inherits(xo,Xe,{__CANCEL__:!0});function K1(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new Xe("Request failed with status code "+r.status,[Xe.ERR_BAD_REQUEST,Xe.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function RT(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function LT(e,t){e=e||10;const r=new Array(e),n=new Array(e);let s=0,i=0,o;return t=t!==void 0?t:1e3,function(l){const u=Date.now(),d=n[i];o||(o=u),r[s]=l,n[s]=u;let f=i,h=0;for(;f!==s;)h+=r[f++],f=f%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),u-o<t)return;const p=d&&u-d;return p?Math.round(h*1e3/p):void 0}}function FT(e,t){let r=0,n=1e3/t,s,i;const o=(u,d=Date.now())=>{r=d,s=null,i&&(clearTimeout(i),i=null),e.apply(null,u)};return[(...u)=>{const d=Date.now(),f=d-r;f>=n?o(u,d):(s=u,i||(i=setTimeout(()=>{i=null,o(s)},n-f)))},()=>s&&o(s)]}const Nu=(e,t,r=3)=>{let n=0;const s=LT(50,250);return FT(i=>{const o=i.loaded,c=i.lengthComputable?i.total:void 0,l=o-n,u=s(l),d=o<=c;n=o;const f={loaded:o,total:c,progress:c?o/c:void 0,bytes:l,rate:u||void 0,estimated:u&&c&&d?(c-o)/u:void 0,event:i,lengthComputable:c!=null,[t?"download":"upload"]:!0};e(f)},r)},Ux=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},Wx=e=>(...t)=>ne.asap(()=>e(...t)),BT=hr.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,hr.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(hr.origin),hr.navigator&&/(msie|trident)/i.test(hr.navigator.userAgent)):()=>!0,VT=hr.hasStandardBrowserEnv?{write(e,t,r,n,s,i){const o=[e+"="+encodeURIComponent(t)];ne.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),ne.isString(n)&&o.push("path="+n),ne.isString(s)&&o.push("domain="+s),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function zT(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function UT(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function G1(e,t,r){let n=!zT(t);return e&&(n||r==!1)?UT(e,t):t}const Hx=e=>e instanceof Or?{...e}:e;function Ds(e,t){t=t||{};const r={};function n(u,d,f,h){return ne.isPlainObject(u)&&ne.isPlainObject(d)?ne.merge.call({caseless:h},u,d):ne.isPlainObject(d)?ne.merge({},d):ne.isArray(d)?d.slice():d}function s(u,d,f,h){if(ne.isUndefined(d)){if(!ne.isUndefined(u))return n(void 0,u,f,h)}else return n(u,d,f,h)}function i(u,d){if(!ne.isUndefined(d))return n(void 0,d)}function o(u,d){if(ne.isUndefined(d)){if(!ne.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function c(u,d,f){if(f in t)return n(u,d);if(f in e)return n(void 0,u)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:c,headers:(u,d,f)=>s(Hx(u),Hx(d),f,!0)};return ne.forEach(Object.keys(Object.assign({},e,t)),function(d){const f=l[d]||s,h=f(e[d],t[d],d);ne.isUndefined(h)&&f!==c||(r[d]=h)}),r}const Z1=e=>{const t=Ds({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:c}=t;t.headers=o=Or.from(o),t.url=U1(G1(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),c&&o.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let l;if(ne.isFormData(r)){if(hr.hasStandardBrowserEnv||hr.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[u,...d]=l?l.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...d].join("; "))}}if(hr.hasStandardBrowserEnv&&(n&&ne.isFunction(n)&&(n=n(t)),n||n!==!1&&BT(t.url))){const u=s&&i&&VT.read(i);u&&o.set(s,u)}return t},WT=typeof XMLHttpRequest<"u",HT=WT&&function(e){return new Promise(function(r,n){const s=Z1(e);let i=s.data;const o=Or.from(s.headers).normalize();let{responseType:c,onUploadProgress:l,onDownloadProgress:u}=s,d,f,h,p,v;function m(){p&&p(),v&&v(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let x=new XMLHttpRequest;x.open(s.method.toUpperCase(),s.url,!0),x.timeout=s.timeout;function b(){if(!x)return;const j=Or.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),N={data:!c||c==="text"||c==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:j,config:e,request:x};K1(function(A){r(A),m()},function(A){n(A),m()},N),x=null}"onloadend"in x?x.onloadend=b:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(b)},x.onabort=function(){x&&(n(new Xe("Request aborted",Xe.ECONNABORTED,e,x)),x=null)},x.onerror=function(){n(new Xe("Network Error",Xe.ERR_NETWORK,e,x)),x=null},x.ontimeout=function(){let S=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const N=s.transitional||W1;s.timeoutErrorMessage&&(S=s.timeoutErrorMessage),n(new Xe(S,N.clarifyTimeoutError?Xe.ETIMEDOUT:Xe.ECONNABORTED,e,x)),x=null},i===void 0&&o.setContentType(null),"setRequestHeader"in x&&ne.forEach(o.toJSON(),function(S,N){x.setRequestHeader(N,S)}),ne.isUndefined(s.withCredentials)||(x.withCredentials=!!s.withCredentials),c&&c!=="json"&&(x.responseType=s.responseType),u&&([h,v]=Nu(u,!0),x.addEventListener("progress",h)),l&&x.upload&&([f,p]=Nu(l),x.upload.addEventListener("progress",f),x.upload.addEventListener("loadend",p)),(s.cancelToken||s.signal)&&(d=j=>{x&&(n(!j||j.type?new xo(null,e,x):j),x.abort(),x=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const y=RT(s.url);if(y&&hr.protocols.indexOf(y)===-1){n(new Xe("Unsupported protocol "+y+":",Xe.ERR_BAD_REQUEST,e));return}x.send(i||null)})},qT=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,s;const i=function(u){if(!s){s=!0,c();const d=u instanceof Error?u:this.reason;n.abort(d instanceof Xe?d:new xo(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,i(new Xe(`timeout ${t} of ms exceeded`,Xe.ETIMEDOUT))},t);const c=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:l}=n;return l.unsubscribe=()=>ne.asap(c),l}},KT=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,s;for(;n<r;)s=n+t,yield e.slice(n,s),n=s},GT=async function*(e,t){for await(const r of ZT(e))yield*KT(r,t)},ZT=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},qx=(e,t,r,n)=>{const s=GT(e,t);let i=0,o,c=l=>{o||(o=!0,n&&n(l))};return new ReadableStream({async pull(l){try{const{done:u,value:d}=await s.next();if(u){c(),l.close();return}let f=d.byteLength;if(r){let h=i+=f;r(h)}l.enqueue(new Uint8Array(d))}catch(u){throw c(u),u}},cancel(l){return c(l),s.return()}},{highWaterMark:2})},lf=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",X1=lf&&typeof ReadableStream=="function",XT=lf&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Y1=(e,...t)=>{try{return!!e(...t)}catch{return!1}},YT=X1&&Y1(()=>{let e=!1;const t=new Request(hr.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Kx=64*1024,_m=X1&&Y1(()=>ne.isReadableStream(new Response("").body)),Su={stream:_m&&(e=>e.body)};lf&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Su[t]&&(Su[t]=ne.isFunction(e[t])?r=>r[t]():(r,n)=>{throw new Xe(`Response type '${t}' is not supported`,Xe.ERR_NOT_SUPPORT,n)})})})(new Response);const JT=async e=>{if(e==null)return 0;if(ne.isBlob(e))return e.size;if(ne.isSpecCompliantForm(e))return(await new Request(hr.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(ne.isArrayBufferView(e)||ne.isArrayBuffer(e))return e.byteLength;if(ne.isURLSearchParams(e)&&(e=e+""),ne.isString(e))return(await XT(e)).byteLength},QT=async(e,t)=>{const r=ne.toFiniteNumber(e.getContentLength());return r??JT(t)},eE=lf&&(async e=>{let{url:t,method:r,data:n,signal:s,cancelToken:i,timeout:o,onDownloadProgress:c,onUploadProgress:l,responseType:u,headers:d,withCredentials:f="same-origin",fetchOptions:h}=Z1(e);u=u?(u+"").toLowerCase():"text";let p=qT([s,i&&i.toAbortSignal()],o),v;const m=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let x;try{if(l&&YT&&r!=="get"&&r!=="head"&&(x=await QT(d,n))!==0){let N=new Request(t,{method:"POST",body:n,duplex:"half"}),w;if(ne.isFormData(n)&&(w=N.headers.get("content-type"))&&d.setContentType(w),N.body){const[A,O]=Ux(x,Nu(Wx(l)));n=qx(N.body,Kx,A,O)}}ne.isString(f)||(f=f?"include":"omit");const b="credentials"in Request.prototype;v=new Request(t,{...h,signal:p,method:r.toUpperCase(),headers:d.normalize().toJSON(),body:n,duplex:"half",credentials:b?f:void 0});let y=await fetch(v,h);const j=_m&&(u==="stream"||u==="response");if(_m&&(c||j&&m)){const N={};["status","statusText","headers"].forEach(_=>{N[_]=y[_]});const w=ne.toFiniteNumber(y.headers.get("content-length")),[A,O]=c&&Ux(w,Nu(Wx(c),!0))||[];y=new Response(qx(y.body,Kx,A,()=>{O&&O(),m&&m()}),N)}u=u||"text";let S=await Su[ne.findKey(Su,u)||"text"](y,e);return!j&&m&&m(),await new Promise((N,w)=>{K1(N,w,{data:S,headers:Or.from(y.headers),status:y.status,statusText:y.statusText,config:e,request:v})})}catch(b){throw m&&m(),b&&b.name==="TypeError"&&/Load failed|fetch/i.test(b.message)?Object.assign(new Xe("Network Error",Xe.ERR_NETWORK,e,v),{cause:b.cause||b}):Xe.from(b,b&&b.code,e,v)}}),Pm={http:pT,xhr:HT,fetch:eE};ne.forEach(Pm,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Gx=e=>`- ${e}`,tE=e=>ne.isFunction(e)||e===null||e===!1,J1={getAdapter:e=>{e=ne.isArray(e)?e:[e];const{length:t}=e;let r,n;const s={};for(let i=0;i<t;i++){r=e[i];let o;if(n=r,!tE(r)&&(n=Pm[(o=String(r)).toLowerCase()],n===void 0))throw new Xe(`Unknown adapter '${o}'`);if(n)break;s[o||"#"+i]=n}if(!n){const i=Object.entries(s).map(([c,l])=>`adapter ${c} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=t?i.length>1?`since :
`+i.map(Gx).join(`
`):" "+Gx(i[0]):"as no adapter specified";throw new Xe("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:Pm};function wh(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new xo(null,e)}function Zx(e){return wh(e),e.headers=Or.from(e.headers),e.data=jh.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),J1.getAdapter(e.adapter||Sl.adapter)(e).then(function(n){return wh(e),n.data=jh.call(e,e.transformResponse,n),n.headers=Or.from(n.headers),n},function(n){return q1(n)||(wh(e),n&&n.response&&(n.response.data=jh.call(e,e.transformResponse,n.response),n.response.headers=Or.from(n.response.headers))),Promise.reject(n)})}const Q1="1.10.0",uf={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{uf[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Xx={};uf.transitional=function(t,r,n){function s(i,o){return"[Axios v"+Q1+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return(i,o,c)=>{if(t===!1)throw new Xe(s(o," has been removed"+(r?" in "+r:"")),Xe.ERR_DEPRECATED);return r&&!Xx[o]&&(Xx[o]=!0,console.warn(s(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,o,c):!0}};uf.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function rE(e,t,r){if(typeof e!="object")throw new Xe("options must be an object",Xe.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const i=n[s],o=t[i];if(o){const c=e[i],l=c===void 0||o(c,i,e);if(l!==!0)throw new Xe("option "+i+" must be "+l,Xe.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Xe("Unknown option "+i,Xe.ERR_BAD_OPTION)}}const fu={assertOptions:rE,validators:uf},_n=fu.validators;let Os=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Vx,response:new Vx}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Ds(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:i}=r;n!==void 0&&fu.assertOptions(n,{silentJSONParsing:_n.transitional(_n.boolean),forcedJSONParsing:_n.transitional(_n.boolean),clarifyTimeoutError:_n.transitional(_n.boolean)},!1),s!=null&&(ne.isFunction(s)?r.paramsSerializer={serialize:s}:fu.assertOptions(s,{encode:_n.function,serialize:_n.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),fu.assertOptions(r,{baseUrl:_n.spelling("baseURL"),withXsrfToken:_n.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&ne.merge(i.common,i[r.method]);i&&ne.forEach(["delete","get","head","post","put","patch","common"],v=>{delete i[v]}),r.headers=Or.concat(o,i);const c=[];let l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(r)===!1||(l=l&&m.synchronous,c.unshift(m.fulfilled,m.rejected))});const u=[];this.interceptors.response.forEach(function(m){u.push(m.fulfilled,m.rejected)});let d,f=0,h;if(!l){const v=[Zx.bind(this),void 0];for(v.unshift.apply(v,c),v.push.apply(v,u),h=v.length,d=Promise.resolve(r);f<h;)d=d.then(v[f++],v[f++]);return d}h=c.length;let p=r;for(f=0;f<h;){const v=c[f++],m=c[f++];try{p=v(p)}catch(x){m.call(this,x);break}}try{d=Zx.call(this,p)}catch(v){return Promise.reject(v)}for(f=0,h=u.length;f<h;)d=d.then(u[f++],u[f++]);return d}getUri(t){t=Ds(this.defaults,t);const r=G1(t.baseURL,t.url,t.allowAbsoluteUrls);return U1(r,t.params,t.paramsSerializer)}};ne.forEach(["delete","get","head","options"],function(t){Os.prototype[t]=function(r,n){return this.request(Ds(n||{},{method:t,url:r,data:(n||{}).data}))}});ne.forEach(["post","put","patch"],function(t){function r(n){return function(i,o,c){return this.request(Ds(c||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Os.prototype[t]=r(),Os.prototype[t+"Form"]=r(!0)});let nE=class eN{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(s=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](s);n._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(c=>{n.subscribe(c),i=c}).then(s);return o.cancel=function(){n.unsubscribe(i)},o},t(function(i,o,c){n.reason||(n.reason=new xo(i,o,c),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new eN(function(s){t=s}),cancel:t}}};function aE(e){return function(r){return e.apply(null,r)}}function sE(e){return ne.isObject(e)&&e.isAxiosError===!0}const Cm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Cm).forEach(([e,t])=>{Cm[t]=e});function tN(e){const t=new Os(e),r=T1(Os.prototype.request,t);return ne.extend(r,Os.prototype,t,{allOwnKeys:!0}),ne.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return tN(Ds(e,s))},r}const Ft=tN(Sl);Ft.Axios=Os;Ft.CanceledError=xo;Ft.CancelToken=nE;Ft.isCancel=q1;Ft.VERSION=Q1;Ft.toFormData=cf;Ft.AxiosError=Xe;Ft.Cancel=Ft.CanceledError;Ft.all=function(t){return Promise.all(t)};Ft.spread=aE;Ft.isAxiosError=sE;Ft.mergeConfig=Ds;Ft.AxiosHeaders=Or;Ft.formToJSON=e=>H1(ne.isHTMLForm(e)?new FormData(e):e);Ft.getAdapter=J1.getAdapter;Ft.HttpStatusCode=Cm;Ft.default=Ft;const{Axios:xde,AxiosError:yde,CanceledError:bde,isCancel:jde,CancelToken:wde,VERSION:Nde,all:Sde,Cancel:Ade,isAxiosError:Ode,spread:_de,toFormData:Pde,AxiosHeaders:Cde,HttpStatusCode:kde,formToJSON:Tde,getAdapter:Ede,mergeConfig:$de}=Ft,iE="http://localhost:5002/api",Ae=Ft.create({baseURL:iE,headers:{"Content-Type":"application/json"}});Ae.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));Ae.interceptors.response.use(e=>e,e=>{var t,r,n,s,i,o;if(console.error("API Error:",{status:(t=e.response)==null?void 0:t.status,message:(n=(r=e.response)==null?void 0:r.data)==null?void 0:n.message,url:(s=e.config)==null?void 0:s.url,method:(i=e.config)==null?void 0:i.method}),((o=e.response)==null?void 0:o.status)===401){const c=window.location.pathname;["/booking","/lookup","/booking-confirmation"].includes(c)?console.log("Unauthorized on public route - continuing without auth"):(console.log("Unauthorized on protected route - logging out user"),localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login")}return Promise.reject(e)});const oE=async e=>(await Ae.post("/auth/register",e)).data,cE=async e=>(await Ae.post("/auth/login",e)).data,lE=async()=>(await Ae.get("/auth/profile")).data.user,rN=async e=>(await Ae.post("/auth/check-vip",{email:e})).data,uE=async e=>(await Ae.post("/auth/check-vip-code",{vipCode:e})).data;let dE={data:""},fE=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||dE,hE=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,mE=/\/\*[^]*?\*\/|  +/g,Yx=/\n+/g,Ma=(e,t)=>{let r="",n="",s="";for(let i in e){let o=e[i];i[0]=="@"?i[1]=="i"?r=i+" "+o+";":n+=i[1]=="f"?Ma(o,i):i+"{"+Ma(o,i[1]=="k"?"":t)+"}":typeof o=="object"?n+=Ma(o,t?t.replace(/([^,])+/g,c=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,c):c?c+" "+l:l)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Ma.p?Ma.p(i,o):i+":"+o+";")}return r+(t&&s?t+"{"+s+"}":s)+n},ea={},nN=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+nN(e[r]);return t}return e},pE=(e,t,r,n,s)=>{let i=nN(e),o=ea[i]||(ea[i]=(l=>{let u=0,d=11;for(;u<l.length;)d=101*d+l.charCodeAt(u++)>>>0;return"go"+d})(i));if(!ea[o]){let l=i!==e?e:(u=>{let d,f,h=[{}];for(;d=hE.exec(u.replace(mE,""));)d[4]?h.shift():d[3]?(f=d[3].replace(Yx," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][d[1]]=d[2].replace(Yx," ").trim();return h[0]})(e);ea[o]=Ma(s?{["@keyframes "+o]:l}:l,r?"":"."+o)}let c=r&&ea.g?ea.g:null;return r&&(ea.g=ea[o]),((l,u,d,f)=>{f?u.data=u.data.replace(f,l):u.data.indexOf(l)===-1&&(u.data=d?l+u.data:u.data+l)})(ea[o],t,n,c),o},gE=(e,t,r)=>e.reduce((n,s,i)=>{let o=t[i];if(o&&o.call){let c=o(r),l=c&&c.props&&c.props.className||/^go/.test(c)&&c;o=l?"."+l:c&&typeof c=="object"?c.props?"":Ma(c,""):c===!1?"":c}return n+s+(o??"")},"");function df(e){let t=this||{},r=e.call?e(t.p):e;return pE(r.unshift?r.raw?gE(r,[].slice.call(arguments,1),t.p):r.reduce((n,s)=>Object.assign(n,s&&s.call?s(t.p):s),{}):r,fE(t.target),t.g,t.o,t.k)}let aN,km,Tm;df.bind({g:1});let va=df.bind({k:1});function vE(e,t,r,n){Ma.p=t,aN=e,km=r,Tm=n}function ts(e,t){let r=this||{};return function(){let n=arguments;function s(i,o){let c=Object.assign({},i),l=c.className||s.className;r.p=Object.assign({theme:km&&km()},c),r.o=/ *go\d+/.test(l),c.className=df.apply(r,n)+(l?" "+l:"");let u=e;return e[0]&&(u=c.as||e,delete c.as),Tm&&u[0]&&Tm(c),aN(u,c)}return s}}var xE=e=>typeof e=="function",Au=(e,t)=>xE(e)?e(t):e,yE=(()=>{let e=0;return()=>(++e).toString()})(),sN=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),bE=20,iN=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,bE)};case 1:return{...e,toasts:e.toasts.map(i=>i.id===t.toast.id?{...i,...t.toast}:i)};case 2:let{toast:r}=t;return iN(e,{type:e.toasts.find(i=>i.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=t;return{...e,toasts:e.toasts.map(i=>i.id===n||n===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(i=>i.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let s=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+s}))}}},hu=[],xs={toasts:[],pausedAt:void 0},ei=e=>{xs=iN(xs,e),hu.forEach(t=>{t(xs)})},jE={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},wE=(e={})=>{let[t,r]=g.useState(xs),n=g.useRef(xs);g.useEffect(()=>(n.current!==xs&&r(xs),hu.push(r),()=>{let i=hu.indexOf(r);i>-1&&hu.splice(i,1)}),[]);let s=t.toasts.map(i=>{var o,c,l;return{...e,...e[i.type],...i,removeDelay:i.removeDelay||((o=e[i.type])==null?void 0:o.removeDelay)||(e==null?void 0:e.removeDelay),duration:i.duration||((c=e[i.type])==null?void 0:c.duration)||(e==null?void 0:e.duration)||jE[i.type],style:{...e.style,...(l=e[i.type])==null?void 0:l.style,...i.style}}});return{...t,toasts:s}},NE=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||yE()}),Al=e=>(t,r)=>{let n=NE(t,e,r);return ei({type:2,toast:n}),n.id},Y=(e,t)=>Al("blank")(e,t);Y.error=Al("error");Y.success=Al("success");Y.loading=Al("loading");Y.custom=Al("custom");Y.dismiss=e=>{ei({type:3,toastId:e})};Y.remove=e=>ei({type:4,toastId:e});Y.promise=(e,t,r)=>{let n=Y.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(s=>{let i=t.success?Au(t.success,s):void 0;return i?Y.success(i,{id:n,...r,...r==null?void 0:r.success}):Y.dismiss(n),s}).catch(s=>{let i=t.error?Au(t.error,s):void 0;i?Y.error(i,{id:n,...r,...r==null?void 0:r.error}):Y.dismiss(n)}),e};var SE=(e,t)=>{ei({type:1,toast:{id:e,height:t}})},AE=()=>{ei({type:5,time:Date.now()})},uc=new Map,OE=1e3,_E=(e,t=OE)=>{if(uc.has(e))return;let r=setTimeout(()=>{uc.delete(e),ei({type:4,toastId:e})},t);uc.set(e,r)},PE=e=>{let{toasts:t,pausedAt:r}=wE(e);g.useEffect(()=>{if(r)return;let i=Date.now(),o=t.map(c=>{if(c.duration===1/0)return;let l=(c.duration||0)+c.pauseDuration-(i-c.createdAt);if(l<0){c.visible&&Y.dismiss(c.id);return}return setTimeout(()=>Y.dismiss(c.id),l)});return()=>{o.forEach(c=>c&&clearTimeout(c))}},[t,r]);let n=g.useCallback(()=>{r&&ei({type:6,time:Date.now()})},[r]),s=g.useCallback((i,o)=>{let{reverseOrder:c=!1,gutter:l=8,defaultPosition:u}=o||{},d=t.filter(p=>(p.position||u)===(i.position||u)&&p.height),f=d.findIndex(p=>p.id===i.id),h=d.filter((p,v)=>v<f&&p.visible).length;return d.filter(p=>p.visible).slice(...c?[h+1]:[0,h]).reduce((p,v)=>p+(v.height||0)+l,0)},[t]);return g.useEffect(()=>{t.forEach(i=>{if(i.dismissed)_E(i.id,i.removeDelay);else{let o=uc.get(i.id);o&&(clearTimeout(o),uc.delete(i.id))}})},[t]),{toasts:t,handlers:{updateHeight:SE,startPause:AE,endPause:n,calculateOffset:s}}},CE=va`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,kE=va`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,TE=va`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,EE=ts("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${CE} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${kE} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${TE} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,$E=va`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,DE=ts("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${$E} 1s linear infinite;
`,IE=va`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,ME=va`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,RE=ts("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${IE} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${ME} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,LE=ts("div")`
  position: absolute;
`,FE=ts("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,BE=va`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,VE=ts("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${BE} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,zE=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?g.createElement(VE,null,t):t:r==="blank"?null:g.createElement(FE,null,g.createElement(DE,{...n}),r!=="loading"&&g.createElement(LE,null,r==="error"?g.createElement(EE,{...n}):g.createElement(RE,{...n})))},UE=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,WE=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,HE="0%{opacity:0;} 100%{opacity:1;}",qE="0%{opacity:1;} 100%{opacity:0;}",KE=ts("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,GE=ts("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,ZE=(e,t)=>{let r=e.includes("top")?1:-1,[n,s]=sN()?[HE,qE]:[UE(r),WE(r)];return{animation:t?`${va(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${va(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},XE=g.memo(({toast:e,position:t,style:r,children:n})=>{let s=e.height?ZE(e.position||t||"top-center",e.visible):{opacity:0},i=g.createElement(zE,{toast:e}),o=g.createElement(GE,{...e.ariaProps},Au(e.message,e));return g.createElement(KE,{className:e.className,style:{...s,...r,...e.style}},typeof n=="function"?n({icon:i,message:o}):g.createElement(g.Fragment,null,i,o))});vE(g.createElement);var YE=({id:e,className:t,style:r,onHeightUpdate:n,children:s})=>{let i=g.useCallback(o=>{if(o){let c=()=>{let l=o.getBoundingClientRect().height;n(e,l)};c(),new MutationObserver(c).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return g.createElement("div",{ref:i,className:t,style:r},s)},JE=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:sN()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...s}},QE=df`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Fl=16,e$=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:s,containerStyle:i,containerClassName:o})=>{let{toasts:c,handlers:l}=PE(r);return g.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Fl,left:Fl,right:Fl,bottom:Fl,pointerEvents:"none",...i},className:o,onMouseEnter:l.startPause,onMouseLeave:l.endPause},c.map(u=>{let d=u.position||t,f=l.calculateOffset(u,{reverseOrder:e,gutter:n,defaultPosition:t}),h=JE(d,f);return g.createElement(YE,{id:u.id,key:u.id,onHeightUpdate:l.updateHeight,className:u.visible?QE:"",style:h},u.type==="custom"?Au(u.message,u):s?s(u):g.createElement(XE,{toast:u,position:d}))}))},Bo=Y;const oN=g.createContext(void 0),yo=()=>{const e=g.useContext(oN);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},t$=({children:e})=>{const[t,r]=g.useState(null),[n,s]=g.useState(null),[i,o]=g.useState(!0);g.useEffect(()=>{(async()=>{const h=localStorage.getItem("token"),p=localStorage.getItem("user");if(h&&p)try{s(h),r(JSON.parse(p)),await lE()}catch{localStorage.removeItem("token"),localStorage.removeItem("user"),s(null),r(null)}o(!1)})()},[]);const d={user:t,token:n,login:async(f,h)=>{var p,v;try{const m=await cE({email:f,password:h}),{token:x,user:b}=m;s(x),r(b),localStorage.setItem("token",x),localStorage.setItem("user",JSON.stringify(b)),Bo.success("登入成功！"+b.email)}catch(m){const x=((v=(p=m.response)==null?void 0:p.data)==null?void 0:v.error)||"登入失敗";throw Bo.error(x),m}},register:async f=>{var h,p;try{const v=await oE(f),{token:m,user:x}=v;s(m),r(x),localStorage.setItem("token",m),localStorage.setItem("user",JSON.stringify(x)),Bo.success("註冊成功！")}catch(v){const m=((p=(h=v.response)==null?void 0:h.data)==null?void 0:p.error)||"註冊失敗";throw Bo.error(m),v}},logout:()=>{s(null),r(null),localStorage.removeItem("token"),localStorage.removeItem("user"),Bo.success("登出成功！")},loading:i};return a.jsx(oN.Provider,{value:d,children:e})},r$=g.createContext(void 0),n$=({children:e,defaultTheme:t="system",storageKey:r="vite-ui-theme"})=>{const[n,s]=g.useState(()=>localStorage.getItem(r)||t);g.useEffect(()=>{const o=window.document.documentElement;if(o.classList.remove("light","dark"),n==="system"){const c=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";o.classList.add(c)}else o.classList.add(n);localStorage.setItem(r,n)},[n,r]),g.useEffect(()=>{const o=window.matchMedia("(prefers-color-scheme: dark)"),c=()=>{if(n==="system"){const l=window.document.documentElement;l.classList.remove("light","dark");const u=o.matches?"dark":"light";l.classList.add(u)}};return o.addEventListener("change",c),()=>o.removeEventListener("change",c)},[n]);const i={theme:n,setTheme:o=>{localStorage.setItem(r,o),s(o)}};return a.jsx(r$.Provider,{value:i,children:e})};function Jx(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function a$(...e){return t=>{let r=!1;const n=e.map(s=>{const i=Jx(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():Jx(e[s],null)}}}}function sn(e){const t=i$(e),r=g.forwardRef((n,s)=>{const{children:i,...o}=n,c=g.Children.toArray(i),l=c.find(c$);if(l){const u=l.props.children,d=c.map(f=>f===l?g.Children.count(u)>1?g.Children.only(null):g.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:g.isValidElement(u)?g.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}var s$=sn("Slot");function i$(e){const t=g.forwardRef((r,n)=>{const{children:s,...i}=r;if(g.isValidElement(s)){const o=u$(s),c=l$(i,s.props);return s.type!==g.Fragment&&(c.ref=n?a$(n,o):o),g.cloneElement(s,c)}return g.Children.count(s)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var o$=Symbol("radix.slottable");function c$(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===o$}function l$(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...c)=>{const l=i(...c);return s(...c),l}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function u$(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function cN(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=cN(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ze(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=cN(e))&&(n&&(n+=" "),n+=t);return n}const Qx=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,ey=Ze,Dg=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return ey(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],f=i==null?void 0:i[u];if(d===null)return null;const h=Qx(d)||Qx(f);return s[u][h]}),c=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),l=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(v=>{let[m,x]=v;return Array.isArray(x)?x.includes({...i,...c}[m]):{...i,...c}[m]===x})?[...u,f,h]:u},[]);return ey(e,o,l,r==null?void 0:r.class,r==null?void 0:r.className)},Ig="-",d$=e=>{const t=h$(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const c=o.split(Ig);return c[0]===""&&c.length!==1&&c.shift(),lN(c,t)||f$(o)},getConflictingClassGroupIds:(o,c)=>{const l=r[o]||[];return c&&n[o]?[...l,...n[o]]:l}}},lN=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?lN(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(Ig);return(o=t.validators.find(({validator:c})=>c(i)))==null?void 0:o.classGroupId},ty=/^\[(.+)\]$/,f$=e=>{if(ty.test(e)){const t=ty.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},h$=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return p$(Object.entries(e.classGroups),r).forEach(([i,o])=>{Em(o,n,i,t)}),n},Em=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:ry(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(m$(s)){Em(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,o])=>{Em(o,ry(t,i),r,n)})})},ry=(e,t)=>{let r=e;return t.split(Ig).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},m$=e=>e.isThemeGetter,p$=(e,t)=>t?e.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,c])=>[t+o,c])):i);return[r,s]}):e,g$=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return s(i,o),o},set(i,o){r.has(i)?r.set(i,o):s(i,o)}}},uN="!",v$=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],i=t.length,o=c=>{const l=[];let u=0,d=0,f;for(let x=0;x<c.length;x++){let b=c[x];if(u===0){if(b===s&&(n||c.slice(x,x+i)===t)){l.push(c.slice(d,x)),d=x+i;continue}if(b==="/"){f=x;continue}}b==="["?u++:b==="]"&&u--}const h=l.length===0?c:c.substring(d),p=h.startsWith(uN),v=p?h.substring(1):h,m=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:v,maybePostfixModifierPosition:m}};return r?c=>r({className:c,parseClassName:o}):o},x$=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},y$=e=>({cache:g$(e.cacheSize),parseClassName:v$(e),...d$(e)}),b$=/\s+/,j$=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(b$);let c="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=r(u);let v=!!p,m=n(v?h.substring(0,p):h);if(!m){if(!v){c=u+(c.length>0?" "+c:c);continue}if(m=n(h),!m){c=u+(c.length>0?" "+c:c);continue}v=!1}const x=x$(d).join(":"),b=f?x+uN:x,y=b+m;if(i.includes(y))continue;i.push(y);const j=s(m,v);for(let S=0;S<j.length;++S){const N=j[S];i.push(b+N)}c=u+(c.length>0?" "+c:c)}return c};function w$(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=dN(t))&&(n&&(n+=" "),n+=r);return n}const dN=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=dN(e[n]))&&(r&&(r+=" "),r+=t);return r};function N$(e,...t){let r,n,s,i=o;function o(l){const u=t.reduce((d,f)=>f(d),e());return r=y$(u),n=r.cache.get,s=r.cache.set,i=c,c(l)}function c(l){const u=n(l);if(u)return u;const d=j$(l,r);return s(l,d),d}return function(){return i(w$.apply(null,arguments))}}const At=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},fN=/^\[(?:([a-z-]+):)?(.+)\]$/i,S$=/^\d+\/\d+$/,A$=new Set(["px","full","screen"]),O$=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,_$=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,P$=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,C$=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,k$=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ta=e=>_i(e)||A$.has(e)||S$.test(e),Ca=e=>bo(e,"length",L$),_i=e=>!!e&&!Number.isNaN(Number(e)),Nh=e=>bo(e,"number",_i),Vo=e=>!!e&&Number.isInteger(Number(e)),T$=e=>e.endsWith("%")&&_i(e.slice(0,-1)),Qe=e=>fN.test(e),ka=e=>O$.test(e),E$=new Set(["length","size","percentage"]),$$=e=>bo(e,E$,hN),D$=e=>bo(e,"position",hN),I$=new Set(["image","url"]),M$=e=>bo(e,I$,B$),R$=e=>bo(e,"",F$),zo=()=>!0,bo=(e,t,r)=>{const n=fN.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},L$=e=>_$.test(e)&&!P$.test(e),hN=()=>!1,F$=e=>C$.test(e),B$=e=>k$.test(e),V$=()=>{const e=At("colors"),t=At("spacing"),r=At("blur"),n=At("brightness"),s=At("borderColor"),i=At("borderRadius"),o=At("borderSpacing"),c=At("borderWidth"),l=At("contrast"),u=At("grayscale"),d=At("hueRotate"),f=At("invert"),h=At("gap"),p=At("gradientColorStops"),v=At("gradientColorStopPositions"),m=At("inset"),x=At("margin"),b=At("opacity"),y=At("padding"),j=At("saturate"),S=At("scale"),N=At("sepia"),w=At("skew"),A=At("space"),O=At("translate"),_=()=>["auto","contain","none"],C=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",Qe,t],k=()=>[Qe,t],T=()=>["",ta,Ca],E=()=>["auto",_i,Qe],I=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],F=()=>["solid","dashed","dotted","double","none"],$=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],q=()=>["start","end","center","between","around","evenly","stretch"],M=()=>["","0",Qe],J=()=>["auto","avoid","all","avoid-page","page","left","right","column"],V=()=>[_i,Qe];return{cacheSize:500,separator:":",theme:{colors:[zo],spacing:[ta,Ca],blur:["none","",ka,Qe],brightness:V(),borderColor:[e],borderRadius:["none","","full",ka,Qe],borderSpacing:k(),borderWidth:T(),contrast:V(),grayscale:M(),hueRotate:V(),invert:M(),gap:k(),gradientColorStops:[e],gradientColorStopPositions:[T$,Ca],inset:P(),margin:P(),opacity:V(),padding:k(),saturate:V(),scale:V(),sepia:M(),skew:V(),space:k(),translate:k()},classGroups:{aspect:[{aspect:["auto","square","video",Qe]}],container:["container"],columns:[{columns:[ka]}],"break-after":[{"break-after":J()}],"break-before":[{"break-before":J()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...I(),Qe]}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:_()}],"overscroll-x":[{"overscroll-x":_()}],"overscroll-y":[{"overscroll-y":_()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Vo,Qe]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Qe]}],grow:[{grow:M()}],shrink:[{shrink:M()}],order:[{order:["first","last","none",Vo,Qe]}],"grid-cols":[{"grid-cols":[zo]}],"col-start-end":[{col:["auto",{span:["full",Vo,Qe]},Qe]}],"col-start":[{"col-start":E()}],"col-end":[{"col-end":E()}],"grid-rows":[{"grid-rows":[zo]}],"row-start-end":[{row:["auto",{span:[Vo,Qe]},Qe]}],"row-start":[{"row-start":E()}],"row-end":[{"row-end":E()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Qe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Qe]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Qe,t]}],"min-w":[{"min-w":[Qe,t,"min","max","fit"]}],"max-w":[{"max-w":[Qe,t,"none","full","min","max","fit","prose",{screen:[ka]},ka]}],h:[{h:[Qe,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Qe,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Qe,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Qe,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ka,Ca]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Nh]}],"font-family":[{font:[zo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Qe]}],"line-clamp":[{"line-clamp":["none",_i,Nh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ta,Qe]}],"list-image":[{"list-image":["none",Qe]}],"list-style-type":[{list:["none","disc","decimal",Qe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...F(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ta,Ca]}],"underline-offset":[{"underline-offset":["auto",ta,Qe]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Qe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Qe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...I(),D$]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",$$]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},M$]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...F(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:F()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...F()]}],"outline-offset":[{"outline-offset":[ta,Qe]}],"outline-w":[{outline:[ta,Ca]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:T()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[ta,Ca]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ka,R$]}],"shadow-color":[{shadow:[zo]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...$(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":$()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ka,Qe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[j]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[j]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Qe]}],duration:[{duration:V()}],ease:[{ease:["linear","in","out","in-out",Qe]}],delay:[{delay:V()}],animate:[{animate:["none","spin","ping","pulse","bounce",Qe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[Vo,Qe]}],"translate-x":[{"translate-x":[O]}],"translate-y":[{"translate-y":[O]}],"skew-x":[{"skew-x":[w]}],"skew-y":[{"skew-y":[w]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Qe]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Qe]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Qe]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ta,Ca,Nh]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},z$=N$(V$);function He(...e){return z$(Ze(e))}const Mg=Dg("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),W=g.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},i)=>{const o=n?s$:"button";return a.jsx(o,{className:He(Mg({variant:t,size:r,className:e})),ref:i,...s})});W.displayName="Button";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var U$={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W$=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ne=(e,t)=>{const r=g.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:c="",children:l,...u},d)=>g.createElement("svg",{ref:d,...U$,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${W$(e)}`,c].join(" "),...u},[...t.map(([f,h])=>g.createElement(f,h)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H$=Ne("Accessibility",[["circle",{cx:"16",cy:"4",r:"1",key:"1grugj"}],["path",{d:"m18 19 1-7-6 1",key:"r0i19z"}],["path",{d:"m5 8 3-3 5.5 3-2.36 3.5",key:"9ptxx2"}],["path",{d:"M4.24 14.5a5 5 0 0 0 6.88 6",key:"10kmtu"}],["path",{d:"M13.76 17.5a5 5 0 0 0-6.88-6",key:"2qq6rc"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q$=Ne("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pi=Ne("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ci=Ne("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K$=Ne("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G$=Ne("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=Ne("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mu=Ne("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z$=Ne("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ny=Ne("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=Ne("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=Ne("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=Ne("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pN=Ne("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gN=Ne("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dc=Ne("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fc=Ne("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X$=Ne("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qr=Ne("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pu=Ne("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=Ne("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uo=Ne("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yi=Ne("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=Ne("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y$=Ne("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=Ne("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=Ne("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=Ne("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=Ne("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ay=Ne("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J$=Ne("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q$=Ne("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eD=Ne("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ou=Ne("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sh=Ne("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sy=Ne("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=Ne("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rg=Ne("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ki=Ne("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=Ne("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tD=Ne("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lg=Ne("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=Ne("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bi=Ne("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=Ne("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=Ne("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=Ne("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kr=Ne("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $m=Ne("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fg=Ne("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=Ne("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ac=Ne("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gr=Ne("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=Ne("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wc=Ne("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _u=Ne("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dm=Ne("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=Ne("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wo=Ne("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=Ne("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=Ne("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pu=Ne("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=Ne("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2",key:"187lwq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _r=Ne("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cu=Ne("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=Ne("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=Ne("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nr=Ne("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=Ne("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=Ne("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=Ne("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ti=Ne("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=Ne("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),dD=()=>{const{user:e,logout:t}=yo(),r=Qd(),[n,s]=g.useState(!1),i=o=>r.pathname===o;return a.jsx("header",{className:"border-b bg-[#39653f] text-white",children:a.jsxs("div",{className:"container mx-auto px-4 py-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx($r,{to:"/",className:"flex items-center space-x-2",children:a.jsx("img",{src:"/logo.png",alt:"晶順出國停車場",className:"h-8 w-auto"})}),a.jsxs("nav",{className:"hidden md:flex items-center space-x-6",children:[a.jsx($r,{to:"/",className:`text-sm font-medium transition-colors hover:text-white/80 ${i("/")||i("/booking")?"text-white":"text-white/70"}`,children:"線上預約"}),a.jsx($r,{to:"/lookup",className:`text-sm font-medium transition-colors hover:text-white/80 ${i("/lookup")?"text-white":"text-white/70"}`,children:"查詢預約"})]}),a.jsx("div",{className:"md:hidden",children:a.jsx(W,{variant:"ghost",size:"sm",className:"text-white hover:bg-white/10",onClick:()=>s(!n),children:n?a.jsx(ti,{className:"h-5 w-5"}):a.jsx(Lg,{className:"h-5 w-5"})})}),a.jsx("div",{className:"flex items-center space-x-4",children:e?a.jsxs("div",{className:"flex items-center space-x-4",children:[e.role==="admin"&&a.jsx($r,{to:"/admin/dashboard",children:a.jsx(W,{variant:"outline",size:"sm",className:"text-white bg-[#39653f] border-white hover:bg-white/10",children:"Admin Panel"})}),e.role==="staff"&&a.jsx($r,{to:"/staff/dashboard",children:a.jsx(W,{variant:"outline",size:"sm",className:"text-white border-white hover:bg-white/10",children:"Staff Panel"})}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Nr,{className:"h-4 w-4 text-white"}),a.jsx("span",{className:"text-sm font-medium text-white",children:e.name}),e.isVIP&&a.jsx("span",{className:"bg-yellow-100 text-yellow-800 text-xs px-2 py-1 rounded-full",children:"VIP"})]}),a.jsx(W,{variant:"ghost",size:"sm",className:"text-white hover:bg-white/10",onClick:t,children:a.jsx(Rg,{className:"h-4 w-4"})})]}):a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx($r,{to:"/login",children:a.jsx(W,{variant:"ghost",size:"sm",className:"text-white hover:bg-white/10",children:"登入"})}),a.jsx($r,{to:"/register",children:a.jsx(W,{size:"sm",className:"bg-white text-[#39653f] hover:bg-white/90",children:"註冊"})})]})})]}),n&&a.jsx("div",{className:"md:hidden border-t border-white/20 bg-[#39653f]",children:a.jsxs("div",{className:"px-4 py-2 space-y-1",children:[a.jsx($r,{to:"/",className:`block px-3 py-2 rounded-md text-sm font-medium transition-colors ${i("/")||i("/booking")?"bg-white/20 text-white":"text-white/70 hover:text-white hover:bg-white/10"}`,onClick:()=>s(!1),children:"線上預約"}),a.jsx($r,{to:"/lookup",className:`block px-3 py-2 rounded-md text-sm font-medium transition-colors ${i("/lookup")?"bg-white/20 text-white":"text-white/70 hover:text-white hover:bg-white/10"}`,onClick:()=>s(!1),children:"查詢預約"})]})})]})})},fD=()=>a.jsx("footer",{className:"bg-[#39653f] text-white",children:a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsxs("div",{className:"text-center space-y-6",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("img",{src:"/logo.png",alt:"晶順出國停車場",className:"h-12 w-auto"})}),a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx("p",{className:"text-white/90 leading-relaxed text-lg",children:"晶順出國停車場位於大園區，桃園機場外圍。我們提供多元化的停車服務，包括露天停車場與室內停車場，滿足不同出國的顧客需求。此外，我們還提供24小時免費機場接送服務，確保您從停車場到機場航廈的過程快速、安全、無縫銜接，讓您的旅程從一開始就充滿愉快與便利…"}),a.jsx("div",{className:"mt-4",children:a.jsx("a",{href:"https://jingparking.com/about-us/",target:"_blank",rel:"noopener noreferrer",className:"text-white font-semibold hover:text-white/80 transition-colors",children:"繼續了解我們"})})]})]})})}),hD=()=>a.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[a.jsx(dD,{}),a.jsx("main",{className:"flex-1 container mx-auto px-4 py-8",children:a.jsx(ef,{})}),a.jsx(fD,{})]}),mD=()=>{const{logout:e,user:t}=yo(),r=Qd(),[n,s]=D.useState(!1),i=()=>{e(),Y.success("登出成功")},c=(()=>{const u=[{path:"/admin",icon:bN,label:"儀表板",exact:!0,roles:["admin","staff"]},{path:"/admin/bookings",icon:Et,label:"預約",exact:!1,roles:["admin","staff"]}],d=[{path:"/admin/users",icon:ca,label:"用戶",exact:!1,roles:["admin"]},{path:"/admin/parking-types",icon:Z$,label:"停車場",exact:!1,roles:["admin"]},{path:"/admin/services",icon:bi,label:"附加服務",exact:!1,roles:["admin"]},{path:"/admin/discounts",icon:Pu,label:"折扣碼",exact:!1,roles:["admin"]},{path:"/admin/notifications",icon:jN,label:"通知",exact:!1,roles:["admin"]},{path:"/admin/maintenance",icon:lD,label:"維護日期",exact:!1,roles:["admin"]},{path:"/admin/special-pricing",icon:ha,label:"特殊價格",exact:!1,roles:["admin"]},{path:"/admin/manual-booking",icon:Kr,label:"手動預約",exact:!1,roles:["admin","staff"]},{path:"/admin/today-overview",icon:qr,label:"今日概覽",exact:!1,roles:["admin","staff"]},{path:"/admin/settings",icon:wc,label:"系統設定",exact:!1,roles:["admin"]}];return[...u,...d].filter(f=>f.roles.includes((t==null?void 0:t.role)||"user"))})(),l=(u,d=!1)=>d?r.pathname===u:r.pathname.startsWith(u);return a.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[n&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>s(!1)}),a.jsx("aside",{className:`
        fixed inset-y-0 left-0 z-50 w-64 bg-[#39653f] shadow-lg transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0
        ${n?"translate-x-0":"-translate-x-full"}
      `,children:a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/20",children:[a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx("img",{src:"/logo.png",alt:"晶順出國停車場",className:"h-8 w-auto"})}),a.jsx(W,{variant:"ghost",size:"sm",className:"lg:hidden text-white hover:bg-white/10",onClick:()=>s(!1),children:a.jsx(ti,{className:"h-4 w-4"})})]}),a.jsx("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:c.map(u=>{const d=u.icon;return a.jsxs($r,{to:u.path,className:`
                    flex items-center space-x-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors
                    ${l(u.path,u.exact)?"bg-white/20 text-white border-r-2 border-white":"text-white/70 hover:bg-white/10 hover:text-white"}
                  `,onClick:()=>s(!1),children:[a.jsx(d,{className:"h-5 w-5"}),a.jsx("span",{children:u.label})]},u.path)})}),a.jsx("div",{className:"p-4 border-t border-white/20",children:a.jsxs(W,{variant:"ghost",className:"w-full justify-start text-white/70 hover:text-white hover:bg-white/10",onClick:i,children:[a.jsx(Rg,{className:"h-5 w-5 mr-3"}),"登出"]})})]})}),a.jsxs("div",{className:"flex-1 flex flex-col lg:ml-0",children:[a.jsxs("header",{className:"bg-white shadow-sm border-b px-4 py-3 flex items-center justify-between",children:[a.jsx(W,{variant:"ghost",size:"sm",className:"lg:hidden",onClick:()=>s(!0),children:a.jsx(Lg,{className:"h-5 w-5"})}),a.jsx("div",{className:"flex items-center space-x-4",children:a.jsxs("div",{className:"text-sm text-gray-600",children:["Chào mừng, ",(t==null?void 0:t.role)==="admin"?"Admin":"Staff"]})})]}),a.jsx("main",{className:"flex-1 p-6 overflow-auto",children:a.jsx(ef,{})})]})]})},pD=()=>{const{logout:e}=yo(),t=Qd(),[r,n]=D.useState(!1),s=()=>{e(),Y.success("登出成功")},i=[{path:"/staff",icon:bN,label:"儀表板",exact:!0},{path:"/staff/bookings",icon:Et,label:"預約",exact:!1}],o=(c,l=!1)=>l?t.pathname===c:t.pathname.startsWith(c);return a.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[r&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>n(!1)}),a.jsx("aside",{className:`
        fixed inset-y-0 left-0 z-50 w-64 bg-[#39653f] shadow-lg transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0
        ${r?"translate-x-0":"-translate-x-full"}
      `,children:a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/20",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("img",{src:"/logo.png",alt:"晶順出國停車場",className:"h-8 w-auto"}),a.jsx("span",{className:"text-lg font-semibold text-white",children:"晶順出國停車場"})]}),a.jsx(W,{variant:"ghost",size:"sm",className:"lg:hidden",onClick:()=>n(!1),children:a.jsx(ti,{className:"h-4 w-4"})})]}),a.jsx("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:i.map(c=>{const l=c.icon;return a.jsxs($r,{to:c.path,className:`
                    flex items-center space-x-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors
                    ${o(c.path,c.exact)?"bg-white/20 text-white border-r-2 border-white":"text-white/70 hover:bg-white/10 hover:text-white"}
                  `,onClick:()=>n(!1),children:[a.jsx(l,{className:"h-5 w-5"}),a.jsx("span",{children:c.label})]},c.path)})}),a.jsx("div",{className:"p-4 border-t",children:a.jsxs(W,{variant:"ghost",className:"w-full justify-start text-white/70 hover:text-white hover:bg-white/10",onClick:s,children:[a.jsx(Rg,{className:"h-5 w-5 mr-3"}),"Đăng xuất"]})})]})}),a.jsxs("div",{className:"flex-1 flex flex-col lg:ml-0",children:[a.jsxs("header",{className:"bg-white shadow-sm border-b px-4 py-3 flex items-center justify-between",children:[a.jsx(W,{variant:"ghost",size:"sm",className:"lg:hidden",onClick:()=>n(!0),children:a.jsx(Lg,{className:"h-5 w-5"})}),a.jsx("div",{className:"flex items-center space-x-4",children:a.jsx("div",{className:"text-sm text-gray-600",children:"Chào mừng, Staff"})})]}),a.jsx("main",{className:"flex-1 p-6 overflow-auto",children:a.jsx(ef,{})})]})]})},ue=g.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:He("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));ue.displayName="Card";const xe=g.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:He("flex flex-col space-y-1.5 p-6",e),...t}));xe.displayName="CardHeader";const ye=g.forwardRef(({className:e,...t},r)=>a.jsx("h3",{ref:r,className:He("text-2xl font-semibold leading-none tracking-tight",e),...t}));ye.displayName="CardTitle";const rt=g.forwardRef(({className:e,...t},r)=>a.jsx("p",{ref:r,className:He("text-sm text-muted-foreground",e),...t}));rt.displayName="CardDescription";const he=g.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:He("p-6 pt-0",e),...t}));he.displayName="CardContent";const gD=g.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:He("flex items-center p-6 pt-0",e),...t}));gD.displayName="CardFooter";const le=g.forwardRef(({className:e,type:t,...r},n)=>a.jsx("input",{type:t,className:He("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));le.displayName="Input";const or=e=>{const t=new Date(e),r=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0");return`${r}/${n}/${s}`},sc=e=>{const t=new Date(e),r=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0"),i=t.getDay();return`${r}/${n}/${s} (星期${["天","一","二","三","四","五","六"][i]})`},$t=e=>{const t=new Date(e),r=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0"),i=String(t.getHours()).padStart(2,"0"),o=String(t.getMinutes()).padStart(2,"0");return`${r}/${n}/${s} ${i}:${o}`},Ho=(e,t)=>{const r=or(e),n=or(t);return r===n?r:`${r} - ${n}`},Ti=e=>new Date(e).toISOString().slice(0,16),Ei=e=>new Date(e).toISOString().split("T")[0],wN=e=>e?new Date(e).toISOString():"",NN=e=>{if(!e)return"";const[t,r,n]=e.split("-").map(Number);return new Date(Date.UTC(t,r-1,n)).toISOString()},iy=({id:e,value:t,onChange:r,min:n,max:s,className:i="",placeholder:o,type:c="datetime-local"})=>{const[l,u]=g.useState(!1),[d,f]=g.useState(""),[h,p]=g.useState(""),v=g.useRef(null),m=g.useRef(null);g.useEffect(()=>{f(t?c==="datetime-local"?$t(t):or(t):"")},[t,c]),g.useEffect(()=>{h&&l&&f(c==="datetime-local"?$t(h):or(h))},[h,l,c]),g.useEffect(()=>{const w=A=>{m.current&&!m.current.contains(A.target)&&v.current&&!v.current.contains(A.target)&&u(!1)};return document.addEventListener("mousedown",w),()=>document.removeEventListener("mousedown",w)},[]);const x=()=>{u(!0),p(t)},b=w=>{const A=w.target.value;if(f(A),A.includes("/"))try{const O=A.split(" "),_=O[0],C=O[1]||(c==="datetime-local"?"00:00":"");if(_.includes("/")){const[P,k,T]=_.split("/");if(P&&k&&T){let E;if(c==="datetime-local"){const[I,F]=C.split(":");E=new Date(parseInt(P),parseInt(k)-1,parseInt(T),parseInt(I||"0"),parseInt(F||"0")).toISOString()}else E=new Date(parseInt(P),parseInt(k)-1,parseInt(T)).toISOString();isNaN(new Date(E).getTime())||r(E)}}}catch(O){console.error("Error parsing date:",O)}},y=w=>{const A=w.target.value;if(c==="datetime-local"){const O=wN(A);p(O),r(O)}else{const O=NN(A);r(O),u(!1)}},j=()=>{const w=h||t;return w?c==="datetime-local"?Ti(w):Ei(w):""},S=()=>{if(n)return c==="datetime-local"?Ti(n):Ei(n)},N=()=>{if(s)return c==="datetime-local"?Ti(s):Ei(s)};return a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:"relative",children:[a.jsx(le,{ref:v,id:e,type:"text",value:d,onChange:b,onClick:x,placeholder:o||(c==="datetime-local"?"年/月/日 00:00":"年/月/日"),className:i,style:{fontFamily:"monospace",cursor:"pointer"}}),a.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:c==="datetime-local"?a.jsx(qr,{className:"h-4 w-4 text-gray-400"}):a.jsx(Et,{className:"h-4 w-4 text-gray-400"})})]}),l&&a.jsx("div",{ref:m,className:"absolute top-full left-0 z-50 mt-1 bg-white border border-gray-300 rounded-md shadow-lg p-4 min-w-[300px]",children:a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"text-sm font-medium text-gray-700",children:c==="datetime-local"?"選擇日期和時間":"選擇日期"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-xs text-gray-600",children:"使用原生選擇器:"}),a.jsx("input",{type:c,value:j(),onChange:y,min:S(),max:N(),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),h&&a.jsxs("div",{className:"text-xs text-gray-500",children:["當前選擇: ",c==="datetime-local"?$t(h):or(h)]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-xs text-gray-600",children:"或直接輸入 (yyyy/mm/dd):"}),a.jsx("input",{type:"text",value:h?c==="datetime-local"?$t(h):or(h):d,onChange:b,placeholder:c==="datetime-local"?"年/月/日 00:00":"年/月/日",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono"})]}),a.jsxs("div",{className:"flex justify-end space-x-2 pt-2",children:[a.jsx("button",{type:"button",onClick:()=>{p(""),u(!1)},className:"px-3 py-1 text-sm text-gray-600 hover:text-gray-800",children:"取消"}),a.jsx("button",{type:"button",onClick:()=>{h&&r(h),p(""),u(!1)},className:"px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700",children:"完成"})]})]})})]})};function oy(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Bg(...e){return t=>{let r=!1;const n=e.map(s=>{const i=oy(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():oy(e[s],null)}}}}function Zn(...e){return g.useCallback(Bg(...e),e)}var SN=g.forwardRef((e,t)=>{const{children:r,...n}=e,s=g.Children.toArray(r),i=s.find(xD);if(i){const o=i.props.children,c=s.map(l=>l===i?g.Children.count(o)>1?g.Children.only(null):g.isValidElement(o)?o.props.children:null:l);return a.jsx(Im,{...n,ref:t,children:g.isValidElement(o)?g.cloneElement(o,void 0,c):null})}return a.jsx(Im,{...n,ref:t,children:r})});SN.displayName="Slot";var Im=g.forwardRef((e,t)=>{const{children:r,...n}=e;if(g.isValidElement(r)){const s=bD(r),i=yD(n,r.props);return r.type!==g.Fragment&&(i.ref=t?Bg(t,s):s),g.cloneElement(r,i)}return g.Children.count(r)>1?g.Children.only(null):null});Im.displayName="SlotClone";var vD=({children:e})=>a.jsx(a.Fragment,{children:e});function xD(e){return g.isValidElement(e)&&e.type===vD}function yD(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...c)=>{i(...c),s(...c)}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function bD(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var jD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Cr=jD.reduce((e,t)=>{const r=g.forwardRef((n,s)=>{const{asChild:i,...o}=n,c=i?SN:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...o,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function wD(e,t){e&&Qs.flushSync(()=>e.dispatchEvent(t))}var ND="Label",AN=g.forwardRef((e,t)=>a.jsx(Cr.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));AN.displayName=ND;var ON=AN;const SD=Dg("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Z=g.forwardRef(({className:e,...t},r)=>a.jsx(ON,{ref:r,className:He(SD(),e),...t}));Z.displayName=ON.displayName;const AD=Dg("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Le({className:e,variant:t,...r}){return a.jsx("div",{className:He(AD({variant:t}),e),...r})}function cy(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function OD(...e){return t=>{let r=!1;const n=e.map(s=>{const i=cy(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():cy(e[s],null)}}}}function Vg(...e){return g.useCallback(OD(...e),e)}function _D(e,t=[]){let r=[];function n(i,o){const c=g.createContext(o),l=r.length;r=[...r,o];const u=f=>{var b;const{scope:h,children:p,...v}=f,m=((b=h==null?void 0:h[e])==null?void 0:b[l])||c,x=g.useMemo(()=>v,Object.values(v));return a.jsx(m.Provider,{value:x,children:p})};u.displayName=i+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[l])||c,v=g.useContext(p);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(o=>g.createContext(o));return function(c){const l=(c==null?void 0:c[e])||i;return g.useMemo(()=>({[`__scope${e}`]:{...c,[e]:l}}),[c,l])}};return s.scopeName=e,[n,PD(s,...t)]}function PD(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((c,{useScope:l,scopeName:u})=>{const f=l(i)[`__scope${u}`];return{...c,...f}},{});return g.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function ly(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}var ku=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},CD=es[" useInsertionEffect ".trim().toString()]||ku;function kD({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,i,o]=TD({defaultProp:t,onChange:r}),c=e!==void 0,l=c?e:s;{const d=g.useRef(e!==void 0);g.useEffect(()=>{const f=d.current;f!==c&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=c},[c,n])}const u=g.useCallback(d=>{var f;if(c){const h=ED(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else i(d)},[c,e,i,o]);return[l,u]}function TD({defaultProp:e,onChange:t}){const[r,n]=g.useState(e),s=g.useRef(r),i=g.useRef(t);return CD(()=>{i.current=t},[t]),g.useEffect(()=>{var o;s.current!==r&&((o=i.current)==null||o.call(i,r),s.current=r)},[r,s]),[r,n,i]}function ED(e){return typeof e=="function"}function $D(e){const t=g.useRef({value:e,previous:e});return g.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function DD(e){const[t,r]=g.useState(void 0);return ku(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,c;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,c=u.blockSize}else o=e.offsetWidth,c=e.offsetHeight;r({width:o,height:c})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}function ID(e,t){return g.useReducer((r,n)=>t[r][n]??r,e)}var _N=e=>{const{present:t,children:r}=e,n=MD(t),s=typeof r=="function"?r({present:n.isPresent}):g.Children.only(r),i=Vg(n.ref,RD(s));return typeof r=="function"||n.isPresent?g.cloneElement(s,{ref:i}):null};_N.displayName="Presence";function MD(e){const[t,r]=g.useState(),n=g.useRef(null),s=g.useRef(e),i=g.useRef("none"),o=e?"mounted":"unmounted",[c,l]=ID(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const u=Bl(n.current);i.current=c==="mounted"?u:"none"},[c]),ku(()=>{const u=n.current,d=s.current;if(d!==e){const h=i.current,p=Bl(u);e?l("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,l]),ku(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const m=Bl(n.current).includes(p.animationName);if(p.target===t&&m&&(l("ANIMATION_END"),!s.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},h=p=>{p.target===t&&(i.current=Bl(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:g.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Bl(e){return(e==null?void 0:e.animationName)||"none"}function RD(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var LD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],zg=LD.reduce((e,t)=>{const r=sn(`Primitive.${t}`),n=g.forwardRef((s,i)=>{const{asChild:o,...c}=s,l=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(l,{...c,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),ff="Checkbox",[FD,Dde]=_D(ff),[BD,Ug]=FD(ff);function VD(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:s,disabled:i,form:o,name:c,onCheckedChange:l,required:u,value:d="on",internal_do_not_use_render:f}=e,[h,p]=kD({prop:r,defaultProp:s??!1,onChange:l,caller:ff}),[v,m]=g.useState(null),[x,b]=g.useState(null),y=g.useRef(!1),j=v?!!o||!!v.closest("form"):!0,S={checked:h,disabled:i,setChecked:p,control:v,setControl:m,name:c,form:o,value:d,hasConsumerStoppedPropagationRef:y,required:u,defaultChecked:Ua(s)?!1:s,isFormControl:j,bubbleInput:x,setBubbleInput:b};return a.jsx(BD,{scope:t,...S,children:zD(f)?f(S):n})}var PN="CheckboxTrigger",CN=g.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},s)=>{const{control:i,value:o,disabled:c,checked:l,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:p,bubbleInput:v}=Ug(PN,e),m=Vg(s,d),x=g.useRef(l);return g.useEffect(()=>{const b=i==null?void 0:i.form;if(b){const y=()=>f(x.current);return b.addEventListener("reset",y),()=>b.removeEventListener("reset",y)}},[i,f]),a.jsx(zg.button,{type:"button",role:"checkbox","aria-checked":Ua(l)?"mixed":l,"aria-required":u,"data-state":DN(l),"data-disabled":c?"":void 0,disabled:c,value:o,...n,ref:m,onKeyDown:ly(t,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:ly(r,b=>{f(y=>Ua(y)?!0:!y),v&&p&&(h.current=b.isPropagationStopped(),h.current||b.stopPropagation())})})});CN.displayName=PN;var Wg=g.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:i,required:o,disabled:c,value:l,onCheckedChange:u,form:d,...f}=e;return a.jsx(VD,{__scopeCheckbox:r,checked:s,defaultChecked:i,disabled:c,required:o,onCheckedChange:u,name:n,form:d,value:l,internal_do_not_use_render:({isFormControl:h})=>a.jsxs(a.Fragment,{children:[a.jsx(CN,{...f,ref:t,__scopeCheckbox:r}),h&&a.jsx($N,{__scopeCheckbox:r})]})})});Wg.displayName=ff;var kN="CheckboxIndicator",TN=g.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...s}=e,i=Ug(kN,r);return a.jsx(_N,{present:n||Ua(i.checked)||i.checked===!0,children:a.jsx(zg.span,{"data-state":DN(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});TN.displayName=kN;var EN="CheckboxBubbleInput",$N=g.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:o,required:c,disabled:l,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:p}=Ug(EN,e),v=Vg(r,p),m=$D(i),x=DD(n);g.useEffect(()=>{const y=h;if(!y)return;const j=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(j,"checked").set,w=!s.current;if(m!==i&&N){const A=new Event("click",{bubbles:w});y.indeterminate=Ua(i),N.call(y,Ua(i)?!1:i),y.dispatchEvent(A)}},[h,m,i,s]);const b=g.useRef(Ua(i)?!1:i);return a.jsx(zg.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??b.current,required:c,disabled:l,name:u,value:d,form:f,...t,tabIndex:-1,ref:v,style:{...t.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});$N.displayName=EN;function zD(e){return typeof e=="function"}function Ua(e){return e==="indeterminate"}function DN(e){return Ua(e)?"indeterminate":e?"checked":"unchecked"}const Fa=g.forwardRef(({className:e,...t},r)=>a.jsx(Wg,{ref:r,className:He("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:a.jsx(TN,{className:He("flex items-center justify-center text-current"),children:a.jsx(pN,{className:"h-4 w-4"})})}));Fa.displayName=Wg.displayName;const rr=g.forwardRef(({className:e,...t},r)=>a.jsx("textarea",{className:He("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...t}));rr.displayName="Textarea";var UD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],WD=UD.reduce((e,t)=>{const r=sn(`Primitive.${t}`),n=g.forwardRef((s,i)=>{const{asChild:o,...c}=s,l=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(l,{...c,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),HD="Separator",uy="horizontal",qD=["horizontal","vertical"],IN=g.forwardRef((e,t)=>{const{decorative:r,orientation:n=uy,...s}=e,i=KD(n)?n:uy,c=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return a.jsx(WD.div,{"data-orientation":i,...c,...s,ref:t})});IN.displayName=HD;function KD(e){return qD.includes(e)}var MN=IN;const ys=g.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},s)=>a.jsx(MN,{ref:s,decorative:r,orientation:t,className:He("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));ys.displayName=MN.displayName;const GD=async e=>(await Ae.post("/bookings/calculate-price",e)).data,ZD=async e=>(await Ae.post("/bookings",e)).data,XD=async(e,t)=>{const r={};return e&&(r.phone=e),t&&(r.licensePlate=t),(await Ae.get("/bookings/search",{params:r})).data.bookings},YD=async e=>(await Ae.get(`/bookings/${e}`)).data.booking,JD=async()=>(await Ae.get("/parking")).data.parkingTypes,QD=async()=>(await Ae.get("/addon-services")).data.services,eI=async()=>(await Ae.get("/admin/dashboard")).data,tI=async e=>(await Ae.get(`/admin/bookings/stats/${e}`)).data,rI=async()=>(await Ae.get("/admin/parking-types/stats")).data.parkingTypes,nI=async()=>(await Ae.get("/admin/parking/current-status")).data,dy=async e=>(await Ae.get("/admin/bookings",{params:e})).data,aI=async(e,t)=>(await Ae.patch(`/admin/bookings/${e}/status`,{status:t})).data,sI=async e=>(await Ae.get("/admin/users",{params:e})).data,fy=async(e,t,r)=>{console.log("🔍 Frontend VIP Update Request:",{userId:e,isVIP:t,vipDiscount:r,url:`/admin/users/${e}/vip`,data:{isVIP:t,vipDiscount:r}});const n=await Ae.patch(`/admin/users/${e}/vip`,{isVIP:t,vipDiscount:r});return console.log("🔍 Frontend VIP Update Response:",n.data),n.data},Ah=async(e,t)=>(await Ae.put(`/admin/users/${e}`,t)).data,iI=async e=>{try{return(await Ae.get(`/admin/users/${e}/stats`)).data}catch(t){throw console.error("Error getting user stats:",t),t}},oI=async e=>(await Ae.post("/admin/users",e)).data,cI=async e=>(await Ae.delete(`/admin/users/${e}`)).data,hf=async()=>(await Ae.get("/admin/parking-types")).data,lI=async e=>(await Ae.post("/admin/parking-types",e)).data,uI=async(e,t)=>(await Ae.put(`/admin/parking-types/${e}`,t)).data,dI=async e=>(await Ae.delete(`/admin/parking-types/${e}`)).data,RN=async e=>(await Ae.get("/admin/addon-services",{params:e})).data,fI=async e=>(await Ae.post("/admin/addon-services",e)).data,hI=async(e,t)=>(await Ae.put(`/admin/addon-services/${e}`,t)).data,mI=async e=>(await Ae.delete(`/admin/addon-services/${e}`)).data,pI=async e=>(await Ae.get("/admin/discount-codes",{params:e})).data,gI=async e=>(await Ae.post("/admin/discount-codes",e)).data,vI=async(e,t)=>(await Ae.put(`/admin/discount-codes/${e}`,t)).data,xI=async e=>(await Ae.delete(`/admin/discount-codes/${e}`)).data,yI=async e=>(await Ae.post("/admin/bookings/manual",e)).data,bI=async()=>(await Ae.get("/admin/terms")).data,hy=async(e,t)=>(await Ae.put(`/admin/terms/${e}`,t)).data,jI=async e=>(await Ae.post("/admin/terms/save-all",e)).data,wI=async e=>(await Ae.get("/admin/notification-templates",{params:e})).data,NI=async e=>(await Ae.post("/admin/notification-templates",e)).data,SI=async(e,t)=>(await Ae.put(`/admin/notification-templates/${e}`,t)).data,AI=async e=>(await Ae.delete(`/admin/notification-templates/${e}`)).data,OI=async e=>(await Ae.post("/admin/notifications/test",e)).data,_I=async e=>(await Ae.post("/admin/notifications/bulk",e)).data,PI=async()=>(await Ae.get("/admin/notifications/stats")).data,CI=async(e,t)=>(await Ae.post(`/admin/parking-types/${e}/special-prices`,t)).data,my=async(e,t,r)=>(await Ae.post(`/admin/parking-types/${e}/special-prices/bulk`,{specialPrices:t,forceOverride:r})).data,py=async(e,t,r)=>(await Ae.put(`/admin/parking-types/${e}/special-prices/${t}`,r)).data,gy=async(e,t)=>(await Ae.delete(`/admin/parking-types/${e}/special-prices/${t}`)).data,kI=async e=>(await Ae.get(`/admin/parking-types/${e}/special-prices`)).data,TI=async()=>(await Ae.get("/bookings/today/summary")).data,Hg=async()=>(await Ae.get("/system-settings")).data.settings,EI=async e=>(await Ae.put("/admin/settings",e)).data,$I=async e=>(await Ae.put("/admin/settings",e)).data,DI=async e=>(await Ae.get("/maintenance",{params:e})).data,II=async e=>(await Ae.post("/maintenance",e)).data,MI=async(e,t)=>(await Ae.put(`/maintenance/${e}`,t)).data,RI=async e=>(await Ae.delete(`/maintenance/${e}`)).data,LN=async(e,t,r)=>{try{const i=((await Ae.get(`/maintenance/check/range?startDate=${t}&endDate=${r}`)).data.maintenanceDays||[]).filter(o=>{const c=o.isActive,l=o.affectedParkingTypes.some(p=>p._id===e),u=new Date(o.date);u.setHours(0,0,0,0);const d=new Date(t);d.setHours(0,0,0,0);const f=new Date(r);f.setHours(23,59,59,999);const h=u>=d&&u<=f;return c&&l&&h});return{hasMaintenance:i.length>0,maintenanceDays:i}}catch(n){return console.error("Error checking maintenance:",n),{hasMaintenance:!1,maintenanceDays:[]}}},FN=({images:e,showFullscreen:t=!0,className:r=""})=>{const[n,s]=g.useState(0),[i,o]=g.useState(!1),c=()=>{s(p=>p===0?e.length-1:p-1)},l=()=>{s(p=>(p+1)%e.length)},u=p=>{s(p)},d=()=>{o(!0)},f=()=>{o(!1)};if(!e||e.length===0)return a.jsx("div",{className:`flex items-center justify-center bg-gray-100 rounded-lg h-48 ${r}`,children:a.jsxs("div",{className:"text-center text-gray-500",children:[a.jsx("div",{className:"text-4xl mb-2",children:"📷"}),a.jsx("p",{children:"暫無圖片"})]})});const h=e[n];return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:`relative ${r}`,children:[a.jsxs("div",{className:"relative aspect-video overflow-hidden rounded-lg bg-gray-100",children:[a.jsx("img",{src:h.url,alt:h.originalName,className:"w-full h-full object-cover",onError:p=>{const v=p.target;v.src="/logo.png"}}),e.length>1&&a.jsxs(a.Fragment,{children:[a.jsx(W,{variant:"outline",size:"icon",className:"absolute left-2 top-1/2 transform -translate-y-1/2 bg-white/80 hover:bg-white",onClick:c,children:a.jsx(dc,{className:"h-4 w-4"})}),a.jsx(W,{variant:"outline",size:"icon",className:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-white/80 hover:bg-white",onClick:l,children:a.jsx(fc,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"absolute top-2 right-2 bg-black/50 text-white px-2 py-1 rounded text-sm",children:[n+1," / ",e.length]}),t&&a.jsx(W,{variant:"outline",size:"sm",className:"absolute bottom-2 right-2 bg-white/80 hover:bg-white",onClick:d,children:a.jsx(tD,{className:"h-4 w-4"})})]}),e.length>1&&a.jsx("div",{className:"flex space-x-2 mt-3 overflow-x-auto",children:e.map((p,v)=>a.jsx("button",{className:`flex-shrink-0 w-16 h-12 rounded overflow-hidden border-2 transition-all ${v===n?"border-blue-500 ring-2 ring-blue-200":"border-gray-200 hover:border-gray-300"}`,onClick:()=>u(v),children:a.jsx("img",{src:p.thumbnailUrl||p.url,alt:p.originalName,className:"w-full h-full object-cover",onError:m=>{const x=m.target;x.src="/logo.png"}})},p._id))})]}),i&&a.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-90 flex items-center justify-center",onClick:f,children:a.jsxs("div",{className:"relative w-full h-full flex items-center justify-center p-4",onClick:p=>p.stopPropagation(),children:[a.jsx(W,{variant:"outline",size:"icon",className:"absolute top-4 right-4 bg-white/80 hover:bg-white z-10",onClick:f,children:a.jsx(ti,{className:"h-4 w-4"})}),a.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[a.jsx("img",{src:h.url,alt:h.originalName,className:"max-w-full max-h-full object-contain",onError:p=>{const v=p.target;v.src="/logo.png"}}),e.length>1&&a.jsxs(a.Fragment,{children:[a.jsx(W,{variant:"outline",size:"icon",className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-white/80 hover:bg-white",onClick:c,children:a.jsx(dc,{className:"h-4 w-4"})}),a.jsx(W,{variant:"outline",size:"icon",className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-white/80 hover:bg-white",onClick:l,children:a.jsx(fc,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-black/50 text-white px-3 py-1 rounded text-sm",children:[n+1," / ",e.length]})]})]})})]})},vy=()=>{var Ce;const e=tf(),[t,r]=g.useState(1),[n,s]=g.useState(!1),[i,o]=g.useState(null);console.log(i,"systemSettings");const[c,l]=g.useState([]),[u,d]=g.useState([]),[f,h]=g.useState([]);console.log(f,"availableSlots");const[p,v]=g.useState(null),[m,x]=g.useState(null),[b,y]=g.useState(!1),[j,S]=g.useState(null),[N,w]=g.useState(null),[A,O]=g.useState(!1),[_,C]=g.useState(""),[P,k]=g.useState(!1),[T,E]=g.useState([]);console.log(T,"conflictingDays");const[I,F]=g.useState(""),[$,q]=g.useState(""),[M,J]=g.useState([]),[V,z]=g.useState({agreedToTerms:!1,parkingTypeId:"",checkInTime:"",checkOutTime:"",selectedAddonServices:[],discountCode:"",driverName:"",phone:"",email:"",licensePlate:"",passengerCount:1,luggageCount:0,termsAccepted:!1}),[B,G]=g.useState(!1),[ce,we]=g.useState(null),[pe,Oe]=g.useState(3);g.useEffect(()=>{R()},[]);const R=async()=>{try{s(!0),w(null);const[re,Te,te]=await Promise.all([Hg(),JD(),QD()]);o(re),console.log(re,"settings"),l(Array.isArray(Te)?Te:[]),d(Array.isArray(te)?te:[]),F((re==null?void 0:re.bookingTerms)||""),q((re==null?void 0:re.bookingRules)||""),Oe((re==null?void 0:re.minBookingDays)||3);const me=JSON.parse(localStorage.getItem("user")||"{}");y(me.isVIP||!1)}catch(re){console.error("Error loading initial data:",re),w("無法載入系統資料"),Y.error("無法載入系統資料"),l([]),d([])}finally{s(!1)}};g.useEffect(()=>{V.parkingTypeId&&V.checkInTime&&V.checkOutTime?(de(),fe(),ee()):(h([]),v(null),E([]),J([]),G(!1),we(null))},[V.parkingTypeId,V.checkInTime,V.checkOutTime]),g.useEffect(()=>{const re=setTimeout(()=>{V.email&&Se(V.email)},1e3);return()=>clearTimeout(re)},[V.email]);const de=async()=>{try{const Te=(await Ae.post("/bookings/check-availability",{parkingTypeId:V.parkingTypeId,checkInTime:V.checkInTime,checkOutTime:V.checkOutTime})).data;if(Te.success)h(Te.availableSlots),v(Te.pricing),E([]);else{h([]),v(null);const te=await Me();E(te),Y.error(Te.message||"停車場在此時間段已滿")}}catch(re){console.error("Error checking availability:",re),Y.error("檢查可用性時發生錯誤")}},fe=async()=>{if(!(!V.parkingTypeId||!V.checkInTime||!V.checkOutTime))try{const re=await LN(V.parkingTypeId,V.checkInTime,V.checkOutTime);J(re.maintenanceDays),re.hasMaintenance&&Y.error("此停車場在選定時間內正在維護")}catch(re){console.error("Error checking maintenance:",re)}},ee=async()=>{if(!(!V.checkInTime||!V.checkOutTime||!V.parkingTypeId))try{const re=new Date(V.checkInTime),Te=new Date(V.checkOutTime),te=new Date(re),me=[],Be=[];for(;te<=Te;){const U=te.toISOString().split("T")[0];try{(await Ae.post("/bookings/check-availability",{parkingTypeId:V.parkingTypeId,checkInTime:`${U}T00:00:00.000Z`,checkOutTime:`${U}T23:59:59.999Z`})).data.success?Be.push({date:U,formattedDate:sc(te)}):me.push({date:U,formattedDate:sc(te)})}catch(ie){console.error("Error checking day availability:",ie),me.push({date:U,formattedDate:sc(te)})}te.setDate(te.getDate()+1)}me.length>0?(G(!0),we({conflictingDates:me,availableDates:Be,totalDays:Math.ceil((Te.getTime()-re.getTime())/(1e3*60*60*24))+1,conflictingDays:me.length,availableDays:Be.length})):(G(!1),we(null))}catch(re){console.error("Error checking date range availability:",re)}},Me=async()=>{if(!V.checkInTime||!V.checkOutTime)return[];const re=[],Te=new Date(V.checkInTime),te=new Date(V.checkOutTime),me=new Date(Te);for(;me<=te;){const Be=me.toISOString().split("T")[0];try{(await Ae.post("/bookings/check-availability",{parkingTypeId:V.parkingTypeId,checkInTime:`${Be}T00:00:00.000Z`,checkOutTime:`${Be}T23:59:59.999Z`})).data.success||re.push(Be)}catch(U){console.error("Error checking day availability:",U),re.push(Be)}me.setDate(me.getDate()+1)}return re},Se=async re=>{if(!(!re||!re.includes("@")))try{const Te=JSON.parse(localStorage.getItem("user")||"{}");if(Te.email===re&&Te.isVIP){S(Te),y(!0),Y.success(`🎉 歡迎VIP會員！您享有${Te.vipDiscount||0}%折扣！`);return}const te=await rN(re);te.success&&te.user&&te.user.isVIP?(S(te.user),y(!0),Y.success(`🎉 歡迎VIP會員！您享有${te.user.vipDiscount||0}%折扣！`)):(S(null),y(!1))}catch(Te){console.error("Error checking VIP status:",Te),S(null),y(!1)}},tt=async()=>{if(!_.trim()){Y.error("請輸入VIP碼");return}k(!0);try{const re=await uE(_.trim());re.success&&re.user&&re.user.isVIP?(S(re.user),y(!0),O(!1),C(""),z(Te=>({...Te,driverName:re.user.name,email:re.user.email,phone:re.user.phone,licensePlate:re.user.licensePlate||""})),Y.success(`🎉 歡迎VIP會員！您享有${re.user.vipDiscount||0}%折扣！`)):(Y.error(re.message||"VIP碼無效"),S(null),y(!1))}catch(re){console.error("Error checking VIP code:",re),Y.error("檢查VIP碼時發生錯誤"),S(null),y(!1)}finally{k(!1)}},nt=async()=>{var re,Te,te,me;if(!((re=V.discountCode)!=null&&re.trim())){Y.error("請輸入折扣碼");return}if(!V.parkingTypeId||!V.checkInTime||!V.checkOutTime){Y.error("請在應用折扣碼之前選擇停車場和時間");return}try{const Be=JSON.parse(localStorage.getItem("user")||"{}"),ie=(await Ae.post("/bookings/apply-discount",{discountCode:V.discountCode,parkingTypeId:V.parkingTypeId,checkInTime:V.checkInTime,checkOutTime:V.checkOutTime,addonServices:V.selectedAddonServices,isVIP:b,userEmail:V.email||Be.email})).data;ie.success?(x(ie.discountInfo),Y.success("折扣碼應用成功！")):(Y.error(ie.message||"折扣碼無效"),x(null))}catch(Be){if(console.error("Error applying discount:",Be),((Te=Be.response)==null?void 0:Te.status)===401)Y.error("請登入以使用折扣碼");else{const U=((me=(te=Be.response)==null?void 0:te.data)==null?void 0:me.message)||Be.message||"無法應用折扣碼";Y.error(U)}x(null)}},ze=async()=>{var re,Te,te,me,Be,U,ie;if(!V.termsAccepted){Y.error("您必須同意條款");return}if(!V.parkingTypeId){Y.error("請選擇停車場類型");return}if(!V.checkInTime||!V.checkOutTime){Y.error("請選擇預約時間");return}if(V.checkInTime&&V.checkOutTime){const Ve=new Date(V.checkInTime),Ee=new Date(V.checkOutTime),Je=Math.abs(Ee.getTime()-Ve.getTime()),Ct=Math.ceil(Je/(1e3*60*60*24));if(Ct<pe){Y.error(`最少需要預約 ${pe} 天，您選擇了 ${Ct} 天`);return}}if(!V.driverName||!V.phone||!V.email||!V.licensePlate){Y.error("請填寫完整的個人資料");return}try{s(!0);const Ve={parkingTypeId:V.parkingTypeId,checkInTime:V.checkInTime,checkOutTime:V.checkOutTime,driverName:V.driverName,phone:V.phone,email:V.email,licensePlate:V.licensePlate,passengerCount:V.passengerCount,luggageCount:V.luggageCount,addonServices:V.selectedAddonServices,discountCode:V.discountCode,termsAccepted:V.termsAccepted,departureTerminal:V.departureTerminal,returnTerminal:V.returnTerminal},Ee=await ZD(Ve);console.log("Booking result:",Ee);const Je={bookingId:Ee.booking._id,bookingNumber:Ee.booking.bookingNumber||`BK${Ee.booking._id.slice(-6).toUpperCase()}`,parkingType:{name:((re=Ee.booking.parkingType)==null?void 0:re.name)||"Unknown",type:((Te=Ee.booking.parkingType)==null?void 0:Te.type)||"indoor",location:((te=Ee.booking.parkingType)==null?void 0:te.location)||""},driverName:Ee.booking.driverName,phone:Ee.booking.phone,email:Ee.booking.email,licensePlate:Ee.booking.licensePlate,checkInTime:Ee.booking.checkInTime,checkOutTime:Ee.booking.checkOutTime,durationDays:Ee.booking.durationDays||1,totalAmount:Ee.booking.totalAmount,isVIP:Ee.booking.isVIP,vipDiscount:Ee.booking.vipDiscount,finalAmount:Ee.booking.finalAmount,addonServices:((me=Ee.booking.addonServices)==null?void 0:me.map(Ct=>{var Jt,ar,Vt;return{name:((Jt=Ct.service)==null?void 0:Jt.name)||"Unknown Service",price:((ar=Ct.service)==null?void 0:ar.price)||0,icon:((Vt=Ct.service)==null?void 0:Vt.icon)||"🔧"}}))||[],discountAmount:Ee.booking.discountAmount||0,paymentMethod:Ee.booking.paymentMethod||"cash",status:Ee.booking.status,passengerCount:Ee.booking.passengerCount,departureTerminal:Ee.booking.departureTerminal,returnTerminal:Ee.booking.returnTerminal};e("/booking-confirmation",{state:{bookingData:Je,pricing:p,discountInfo:m}})}catch(Ve){if(console.error("Error creating booking:",Ve),((Be=Ve.response)==null?void 0:Be.status)===401)Y.error("請登入以創建預約");else{const Ee=((ie=(U=Ve.response)==null?void 0:U.data)==null?void 0:ie.message)||Ve.message||"無法創建預約";Y.error(Ee)}}finally{s(!1)}},L=re=>re.icon?re.icon:{indoor:"🏢",outdoor:"☀️",disabled:"♿"}[re.type]||"🚗",X=re=>{const Te={indoor:{label:"室內",color:"bg-blue-100 text-blue-800 border-blue-200"},outdoor:{label:"戶外",color:"bg-green-100 text-green-800 border-green-200"},disabled:{label:"無障礙",color:"bg-orange-100 text-orange-800 border-orange-200"}},te=Te[re]||Te.indoor;return a.jsx(Le,{variant:"outline",className:te.color,children:te.label})},Q=re=>re==null?"0 TWD":re.toLocaleString("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0,maximumFractionDigits:0}),K=re=>re==null?"":typeof re=="string"?re:typeof re=="number"?re.toString():typeof re=="object"?(console.warn("Attempting to render object as text:",re),"[Object]"):String(re),ae=[{id:1,title:"條款",icon:a.jsx(_s,{className:"h-4 w-4"})},{id:2,title:"選擇停車場",icon:a.jsx(Is,{className:"h-4 w-4"})},{id:3,title:"服務",icon:a.jsx(Dm,{className:"h-4 w-4"})},{id:4,title:"個人資料",icon:a.jsx(Nr,{className:"h-4 w-4"})}],oe=()=>{var re,Te;switch(t){case 1:return a.jsx("div",{className:"space-y-6",children:a.jsxs(ue,{className:"border-0 shadow-lg",children:[a.jsx(xe,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-b",children:a.jsxs(ye,{className:"flex items-center space-x-3 text-blue-900",children:[a.jsx(_u,{className:"h-6 w-6 text-blue-600"}),a.jsx("span",{children:"條款和規定"})]})}),a.jsxs(he,{className:"p-6 space-y-6",children:[a.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:"請在預約停車位之前仔細閱讀規定和條款。"}),a.jsxs("div",{className:"space-y-6",children:[I&&a.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[a.jsxs("h4",{className:"font-semibold mb-3 text-blue-800 flex items-center",children:[a.jsx(_s,{className:"h-4 w-4 mr-2"}),"預約條款"]}),a.jsx("div",{className:"whitespace-pre-line text-sm leading-relaxed text-gray-700",children:I})]}),$&&a.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[a.jsxs("h4",{className:"font-semibold mb-3 text-green-800 flex items-center",children:[a.jsx(_u,{className:"h-4 w-4 mr-2"}),"預約規定"]}),a.jsx("div",{className:"whitespace-pre-line text-sm leading-relaxed text-gray-700",children:$})]}),!I&&!$&&a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold mb-3 text-blue-800",children:"一般規定"}),a.jsxs("div",{className:"space-y-3 text-sm text-gray-700",children:[a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("span",{className:"font-bold text-blue-600",children:"1."}),a.jsx("span",{children:"客戶必須按預約時間準時到達。"})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("span",{className:"font-bold text-blue-600",children:"2."}),a.jsx("span",{children:"不得超過預約時間停放車輛。"})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("span",{className:"font-bold text-blue-600",children:"3."}),a.jsx("span",{children:"遵守停車場安全規定。"})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("span",{className:"font-bold text-blue-600",children:"4."}),a.jsx("span",{children:"客戶對車內財物負責。"})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("span",{className:"font-bold text-blue-600",children:"5."}),a.jsx("span",{children:"停車場對天災造成的損害不承擔責任。"})]})]})]})})]}),a.jsx("div",{className:"border-t pt-6",children:a.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-gray-50 rounded-lg",children:[a.jsx(Fa,{id:"agreedToTerms",checked:V.agreedToTerms,onCheckedChange:te=>z(me=>({...me,agreedToTerms:!!te}))}),a.jsx(Z,{htmlFor:"agreedToTerms",className:"text-sm font-medium",children:"我已閱讀並同意上述條款"})]})})]})]})});case 2:return a.jsx("div",{className:"space-y-6",children:a.jsxs(ue,{className:"border-0 shadow-lg",children:[a.jsx(xe,{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-b",children:a.jsxs(ye,{className:"flex items-center space-x-3 text-green-900",children:[a.jsx(Is,{className:"h-6 w-6 text-green-600"}),a.jsx("span",{children:"選擇停車場類型和時間"})]})}),a.jsxs(he,{className:"p-6 space-y-8",children:[a.jsxs("div",{children:[a.jsx(Z,{className:"text-lg font-semibold text-gray-800 mb-4 block",children:"停車場類型"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:(c||[]).filter(te=>te.isActive).map(te=>{const me=V.parkingTypeId===te._id,Be=M.some(U=>U.affectedParkingTypes.some(ie=>ie._id===te._id));return a.jsx(ue,{className:`transition-all duration-300 ${Be?"opacity-50 cursor-not-allowed bg-gray-100 border-gray-300":me?"cursor-pointer border-2 border-blue-500 bg-gradient-to-br from-blue-50 to-indigo-50 shadow-lg hover:shadow-xl hover:scale-105":"cursor-pointer border-gray-200 hover:border-blue-300 hover:shadow-xl hover:scale-105"}`,onClick:()=>{Be||z(U=>({...U,parkingTypeId:te._id}))},children:a.jsxs(he,{className:"p-6",children:[te.images&&te.images.length>0?a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"text-sm text-gray-600 mb-2 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"mr-2",children:"📷"}),te.images.length," 張圖片"]}),a.jsx("div",{className:"text-xs text-gray-500",children:"點擊圖片查看 • 使用箭頭或縮圖切換"})]}),a.jsx(FN,{images:te.images,showFullscreen:!0,className:"w-full"})]}):a.jsx("div",{className:"mb-4 flex items-center justify-center bg-gray-100 rounded-lg h-48",children:a.jsxs("div",{className:"text-center text-gray-500",children:[a.jsx("div",{className:"text-4xl mb-2",children:"📷"}),a.jsx("p",{className:"text-sm",children:"暫無圖片"})]})}),a.jsx("div",{className:"flex items-start justify-between mb-4",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"text-3xl",children:L(te)}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-lg text-gray-900",children:te.name}),a.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[X(te.type||"indoor"),Be&&a.jsx(Le,{variant:"destructive",className:"bg-red-100 text-red-800 border-red-200",children:"🔧 維護中"})]})]})]})}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"容量:"}),a.jsxs("span",{className:"font-medium text-gray-900",children:[te.totalSpaces," 位"]})]}),te.description&&a.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:K(te.description)}),a.jsx("div",{className:"pt-3 border-t",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:Q(te.pricePerDay)}),a.jsx("p",{className:"text-sm text-gray-500",children:"/天"})]})})]})]})},te._id)})})]}),V.parkingTypeId&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx(Z,{className:"text-lg font-semibold text-gray-800 mb-4 block",children:"選擇預約時間"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"checkInTime",className:"text-sm font-medium text-gray-700",children:"進入時間 *"}),a.jsx("div",{className:"relative",children:a.jsx(iy,{id:"checkInTime",type:"datetime-local",value:V.checkInTime,onChange:te=>{if(z(me=>({...me,checkInTime:te})),te&&V.checkOutTime){const me=new Date(te),Be=new Date(me);Be.setDate(me.getDate()+pe),new Date(V.checkOutTime)<Be&&z(ie=>({...ie,checkOutTime:Be.toISOString().slice(0,16)}))}},min:new Date().toISOString().slice(0,16),className:"pl-10",placeholder:"年/月/日 00:00"})}),a.jsxs("p",{className:"text-xs text-gray-500",children:["最少預約 ",pe," 天"]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"checkOutTime",className:"text-sm font-medium text-gray-700",children:"回國時間 *"}),a.jsx("div",{className:"relative",children:a.jsx(iy,{id:"checkOutTime",type:"datetime-local",value:V.checkOutTime,onChange:te=>{if(V.checkInTime){const me=new Date(V.checkInTime),Be=new Date(te),U=new Date(me);if(U.setDate(me.getDate()+pe),Be<U){Y.error(`最少需要預約 ${pe} 天`);return}}z(me=>({...me,checkOutTime:te}))},min:V.checkInTime?(()=>{const te=new Date(V.checkInTime),me=new Date(te);return me.setDate(te.getDate()+pe),me.toISOString().slice(0,16)})():new Date().toISOString().slice(0,16),className:"pl-10",placeholder:"年/月/日 00:00"})}),a.jsxs("p",{className:"text-xs text-gray-500",children:["從進入時間起最少 ",pe," 天"]})]})]})]}),B&&ce&&a.jsxs("div",{className:"p-6 bg-red-50 border border-red-200 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[a.jsx(Pi,{className:"h-5 w-5 text-red-600"}),a.jsx("h3",{className:"text-lg font-semibold text-red-800",children:"您所選的日期，停車位已經被約完，詳細如下："})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-red-700 mb-2",children:"您選的日期："}),a.jsxs("div",{className:"space-y-2",children:[ce.conflictingDates.map((te,me)=>a.jsxs("div",{className:"flex items-center space-x-2 text-red-600",children:[a.jsx("span",{children:"•"}),a.jsx("span",{children:te.formattedDate}),a.jsx("span",{className:"text-red-500 font-medium",children:"(x 無空位)"})]},me)),ce.availableDates.map((te,me)=>a.jsxs("div",{className:"flex items-center space-x-2 text-green-600",children:[a.jsx("span",{children:"•"}),a.jsx("span",{children:te.formattedDate})]},me))]})]}),a.jsx("div",{className:"bg-white p-4 rounded-lg border border-red-200",children:a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-red-700",children:"總計："}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsxs("span",{className:"text-sm text-red-600",children:[ce.conflictingDays," 天已滿"]}),a.jsxs("span",{className:"text-sm text-green-600",children:[ce.availableDays," 天空閒"]})]})]})}),a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[a.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"建議："}),a.jsxs("div",{className:"space-y-1 text-sm text-blue-700",children:[a.jsx("div",{children:"• 選擇其他時間範圍"}),a.jsx("div",{children:"• 選擇較短的時間範圍"}),a.jsx("div",{children:"• 聯繫我們以獲得支援"})]})]})]})]}),M.length>0&&a.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx(Pi,{className:"h-5 w-5 text-red-600"}),a.jsx("span",{className:"font-medium text-red-800",children:"⚠️ 停車場正在維護"})]}),a.jsxs("div",{className:"text-sm text-red-700",children:[a.jsx("p",{children:"所選停車場在此時間內正在維護:"}),a.jsx("ul",{className:"mt-2 space-y-1",children:M.map((te,me)=>a.jsxs("li",{className:"flex items-center space-x-2",children:[a.jsx("span",{children:"•"}),a.jsxs("span",{children:[or(te.date),": ",te.reason]})]},me))}),a.jsx("p",{className:"mt-2 font-medium",children:"請選擇其他時間或停車場。"})]})]})]})]})]})});case 3:return a.jsx("div",{className:"space-y-6",children:a.jsxs(ue,{className:"border-0 shadow-lg",children:[a.jsxs(xe,{className:"bg-gradient-to-r from-purple-50 to-pink-50 border-b",children:[a.jsxs(ye,{className:"flex items-center space-x-3 text-purple-900",children:[a.jsx(Dm,{className:"h-6 w-6 text-purple-600"}),a.jsx("span",{children:"服務"})]}),a.jsx(rt,{className:"text-purple-700",children:"選擇您需要的服務"})]}),a.jsx(he,{className:"p-6",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:(u||[]).filter(te=>te.isActive).map(te=>{const me=V.selectedAddonServices.includes(te._id);return a.jsx(ue,{className:`cursor-pointer transition-all duration-300 hover:shadow-xl hover:scale-105 ${me?"border-2 border-purple-500 bg-gradient-to-br from-purple-50 to-pink-50 shadow-lg":"border-gray-200 hover:border-purple-300"}`,onClick:()=>{z(me?Be=>({...Be,selectedAddonServices:(Be.selectedAddonServices||[]).filter(U=>U!==te._id)}):Be=>({...Be,selectedAddonServices:[...Be.selectedAddonServices,te._id]}))},children:a.jsxs(he,{className:"p-6",children:[a.jsx("div",{className:"flex items-start justify-between mb-4",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"text-3xl",children:te.icon}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-lg text-gray-900",children:te.name}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:te.description})]})]})}),a.jsx("div",{className:"text-center pt-3 border-t",children:a.jsx("p",{className:"text-2xl font-bold text-purple-600",children:Q(te.price)})})]})},te._id)})})})]})});case 4:return a.jsxs("div",{className:"space-y-6",children:[p&&a.jsxs(ue,{className:"border-0 shadow-lg",children:[a.jsx(xe,{className:"bg-gradient-to-r from-emerald-50 to-teal-50 border-b",children:a.jsxs(ye,{className:"flex items-center space-x-3 text-emerald-900",children:[a.jsx(Fg,{className:"h-6 w-6 text-emerald-600"}),a.jsx("span",{children:"價格摘要"})]})}),a.jsx(he,{className:"p-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"bg-gray-50 p-3 rounded-lg",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-semibold text-gray-900",children:"基本價格"}),a.jsxs("div",{className:"text-sm text-gray-600",children:[(re=c.find(te=>te._id===V.parkingTypeId))==null?void 0:re.name," • ",p.durationDays," 天"]})]}),a.jsx("span",{className:"font-semibold text-gray-900",children:Q(p.totalPrice)})]})}),(p==null?void 0:p.dailyPrices)&&p.dailyPrices.length>0&&a.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[a.jsx("div",{className:"text-sm font-semibold text-blue-700 mb-2",children:"📅 每日價格詳細:"}),a.jsx("div",{className:"space-y-2",children:p.dailyPrices.map((te,me)=>a.jsxs("div",{className:"flex justify-between items-center text-sm bg-white p-2 rounded",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-gray-600",children:sc(te.date)}),te.isSpecialPrice&&a.jsxs(Le,{variant:"outline",className:"text-xs bg-orange-100 text-orange-700 border-orange-200 max-w-32 truncate",title:te.specialPriceReason,children:["💰 ",te.specialPriceReason||"特殊價格"]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[te.isSpecialPrice&&a.jsx("span",{className:"text-xs text-gray-500 line-through",children:Q(te.originalPrice)}),a.jsx("span",{className:`font-semibold ${te.isSpecialPrice?"text-orange-600":"text-blue-600"}`,children:Q(te.price)})]})]},me))})]}),V.selectedAddonServices.length>0&&a.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[a.jsx("div",{className:"text-sm font-semibold text-blue-700 mb-2",children:"🚀 附加服務:"}),a.jsx("div",{className:"space-y-2",children:V.selectedAddonServices.map(te=>{const me=u.find(Be=>Be._id===te);return me?a.jsxs("div",{className:"flex justify-between items-center text-sm bg-white p-2 rounded",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-lg",children:me.icon}),a.jsx("span",{children:me.name})]}),a.jsx("span",{className:"font-semibold text-blue-600",children:Q(me.price)})]},te):null})})]}),b&&j&&a.jsxs("div",{className:"flex justify-between items-center py-2 bg-blue-50 rounded-lg px-3",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-blue-600",children:"👑 VIP 折扣:"}),a.jsxs("span",{className:"text-xs text-blue-500 bg-blue-100 px-2 py-1 rounded",children:[j.vipDiscount,"% 折扣"]})]}),m?a.jsxs("span",{className:"font-semibold text-blue-600",children:["-",Q(m.vipDiscount||0)]}):a.jsxs("span",{className:"text-sm text-blue-600",children:["~",Q(Math.round(((p==null?void 0:p.totalPrice)||0)*(j.vipDiscount/100)))]})]}),m&&m.discountAmount>0&&a.jsxs("div",{className:"flex justify-between items-center py-2 bg-green-50 rounded-lg px-3",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-green-600",children:"🎫 優惠券:"}),a.jsxs("span",{className:"text-xs text-green-500 bg-green-100 px-2 py-1 rounded",children:[m.code," (",m.discountType==="percentage"?`${m.discountValue}%`:"固定",")"]})]}),a.jsxs("span",{className:"font-semibold text-green-600",children:["-",Q(m.discountAmount)]})]}),a.jsx(ys,{}),a.jsx("div",{className:"bg-gradient-to-r from-emerald-100 to-teal-100 p-4 rounded-lg border-2 border-emerald-300",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-semibold text-gray-700",children:"總原價:"}),a.jsx("span",{className:"font-semibold text-gray-900",children:Q(p.totalPrice+(u||[]).filter(te=>V.selectedAddonServices.includes(te._id)).reduce((te,me)=>te+me.price,0))})]}),m&&(m.discountAmount>0||m.vipDiscount>0)||b&&j?a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-semibold text-green-700",children:"總折扣:"}),a.jsxs("span",{className:"font-bold text-green-700 text-lg",children:["-",Q(m?m.totalDiscount||m.discountAmount||0:(()=>{const me=((p==null?void 0:p.totalPrice)||0)+u.filter(Be=>V.selectedAddonServices.includes(Be._id)).reduce((Be,U)=>Be+U.price,0);return Math.round(me*((j==null?void 0:j.vipDiscount)/100))})())]})]}):null,a.jsx("div",{className:"border-t pt-2",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-bold text-lg text-gray-900",children:"總付款:"}),a.jsx("span",{className:"text-2xl font-bold text-emerald-600",children:(()=>{const me=((p==null?void 0:p.totalPrice)||0)+u.filter(Be=>V.selectedAddonServices.includes(Be._id)).reduce((Be,U)=>Be+U.price,0);if(m)return Q(m.finalAmount);if(b&&j){const Be=me*(j.vipDiscount/100);return Q(Math.round(me-Be))}else return Q(me)})()})]})})]})})]})})]}),a.jsxs(ue,{className:"border-0 shadow-lg",children:[a.jsxs(xe,{className:"bg-gradient-to-r from-indigo-50 to-blue-50 border-b",children:[a.jsxs(ye,{className:"flex items-center space-x-3 text-indigo-900",children:[a.jsx(Nr,{className:"h-6 w-6 text-indigo-600"}),a.jsx("span",{children:"個人資料"}),b&&a.jsx(Le,{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white border-0",children:"👑 VIP Member"})]}),a.jsx(rt,{className:"text-indigo-700",children:"填寫個人資料以完成預約"})]}),a.jsxs(he,{className:"p-6 space-y-6",children:[!b&&a.jsxs("div",{className:"bg-gradient-to-r from-yellow-50 to-orange-50 border border-yellow-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx("span",{className:"text-yellow-800 font-medium",children:"👑 您是VIP會員嗎？"})}),a.jsx(W,{type:"button",variant:"outline",size:"sm",onClick:()=>O(!A),className:"border-yellow-300 text-yellow-700 hover:bg-yellow-100",children:A?"隱藏":"輸入VIP碼"})]}),A&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(le,{placeholder:"輸入您的VIP碼",value:_,onChange:te=>C(te.target.value),className:"flex-1"}),a.jsx(W,{type:"button",onClick:tt,disabled:P,className:"bg-[#39653f] hover:bg-[#2d4f33] text-white",children:P?"正在檢查...":"檢查"})]}),a.jsx("p",{className:"text-xs text-yellow-700",children:"💡 VIP碼格式: 年份 + 電話號碼 (例如: 1140908805805)"})]})]}),a.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 border border-green-200 rounded-lg p-4",children:[a.jsx("div",{className:"flex items-center justify-between mb-3",children:a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx("span",{className:"text-green-800 font-medium",children:"🎫 您有折扣碼嗎？"})})}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(le,{placeholder:"輸入折扣碼",value:V.discountCode,onChange:te=>z(me=>({...me,discountCode:te.target.value})),className:"flex-1"}),a.jsx(W,{type:"button",onClick:nt,disabled:!((Te=V.discountCode)!=null&&Te.trim())||!V.parkingTypeId||!V.checkInTime||!V.checkOutTime,className:"bg-[#39653f] hover:bg-[#2d4f33] text-white",children:"應用"})]}),a.jsx("p",{className:"text-xs text-green-700",children:"💡 輸入有效的折扣碼以獲得額外優惠"})]}),m&&a.jsxs("div",{className:"mt-3 p-3 bg-white rounded-lg border border-green-200",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx("span",{className:"text-green-600",children:"✅"}),a.jsx("span",{className:"font-medium text-green-800",children:"折扣已應用！"})]}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"折扣碼:"}),a.jsx("span",{className:"font-semibold text-green-600",children:m.code})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"折扣金額:"}),a.jsxs("span",{className:"font-semibold text-green-600",children:["-",Q(m.discountAmount)]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"最終金額:"}),a.jsx("span",{className:"font-semibold text-green-600",children:Q(m.finalAmount)})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"driverName",className:"text-sm font-medium text-gray-700",children:"您的姓名 *"}),a.jsx(le,{id:"driverName",value:V.driverName,onChange:te=>z(me=>({...me,driverName:te.target.value})),placeholder:"輸入您的姓名"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"phone",className:"text-sm font-medium text-gray-700",children:"電話號碼 *"}),a.jsx(le,{id:"phone",value:V.phone,onChange:te=>z(me=>({...me,phone:te.target.value})),placeholder:"輸入電話號碼"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"email",className:"text-sm font-medium text-gray-700",children:"信箱 *"}),a.jsxs("div",{className:"relative",children:[a.jsx(le,{id:"email",type:"email",value:V.email,onChange:te=>z(me=>({...me,email:te.target.value})),placeholder:"輸入電子郵件",className:b?"border-yellow-400 bg-yellow-50":""}),b&&j&&a.jsx("div",{className:"absolute -top-2 -right-2",children:a.jsxs(Le,{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white border-0 text-xs",children:["👑 VIP ",j.vipDiscount,"%"]})})]}),b&&j&&a.jsxs("div",{className:"text-xs text-yellow-600 bg-yellow-50 p-2 rounded",children:["✨ 歡迎VIP會員！您自動享有",j.vipDiscount,"%折扣。"]}),!b&&V.email&&!j&&a.jsx("div",{className:"text-xs text-gray-500 bg-gray-50 p-2 rounded",children:"ℹ️ 普通客戶 - 無VIP優惠"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"licensePlate",className:"text-sm font-medium text-gray-700",children:"車牌號碼 *"}),a.jsx(le,{id:"licensePlate",value:V.licensePlate,onChange:te=>z(me=>({...me,licensePlate:te.target.value.toUpperCase()})),placeholder:"輸入車牌號碼"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"passengerCount",className:"text-sm font-medium text-gray-700",children:"接駁人數 (上限5人，多一個人現場收100元/人)"}),a.jsx(le,{id:"passengerCount",type:"number",min:"1",value:V.passengerCount,onChange:te=>z(me=>({...me,passengerCount:parseInt(te.target.value)}))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"luggageCount",className:"text-sm font-medium text-gray-700",children:"行李數量（免費1個，第2個以上現場收100元/行李）"}),a.jsx(le,{id:"luggageCount",type:"number",min:"0",value:V.luggageCount,onChange:te=>z(me=>({...me,luggageCount:parseInt(te.target.value)}))})]})]}),V.passengerCount>0&&a.jsxs("div",{className:"space-y-6 bg-blue-50 p-4 rounded-lg border border-blue-200",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-blue-800 font-medium",children:"✈️ 航廈選擇"}),a.jsx("span",{className:"text-xs text-blue-600",children:"(接駁服務需要)"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"departureTerminal",className:"text-sm font-medium text-gray-700",children:"出發航廈（前往機場）"}),a.jsxs("select",{id:"departureTerminal",value:V.departureTerminal||"",onChange:te=>z(me=>({...me,departureTerminal:te.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"請選擇出發航廈"}),a.jsx("option",{value:"terminal1",children:"第一航廈"}),a.jsx("option",{value:"terminal2",children:"第二航廈"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"returnTerminal",className:"text-sm font-medium text-gray-700",children:"回程航廈（接回停車場）"}),a.jsxs("select",{id:"returnTerminal",value:V.returnTerminal||"",onChange:te=>z(me=>({...me,returnTerminal:te.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"請選擇回程航廈"}),a.jsx("option",{value:"terminal1",children:"第一航廈"}),a.jsx("option",{value:"terminal2",children:"第二航廈"})]})]})]}),a.jsx("div",{className:"text-xs text-blue-600 bg-blue-100 p-2 rounded",children:"💡 請確認航廈選擇正確，以確保接駁服務順利進行"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"notes",className:"text-sm font-medium text-gray-700",children:"備註"}),a.jsx(rr,{id:"notes",placeholder:"輸入備註 (如果有的話)",rows:3})]})]})]}),a.jsx(ue,{className:"border-0 shadow-lg",children:a.jsx(he,{className:"p-6",children:a.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-gray-50 rounded-lg",children:[a.jsx(Fa,{id:"termsAccepted",checked:V.termsAccepted,onCheckedChange:te=>z(me=>({...me,termsAccepted:!!te}))}),a.jsx(Z,{htmlFor:"termsAccepted",className:"text-sm font-medium",children:"我同意所有預約條款和條件"})]})})})]});default:return null}};return n?a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}):N?a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsx(ue,{className:"border-0 shadow-lg",children:a.jsxs(he,{className:"pt-6",children:[a.jsxs("div",{className:"flex items-center space-x-2 text-red-600",children:[a.jsx(Pi,{className:"h-5 w-5"}),a.jsx("span",{children:N})]}),a.jsx(W,{onClick:R,className:"mt-4",children:"重試"})]})})}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50",children:a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsx("div",{className:"mb-8",children:a.jsx("div",{className:"flex items-center justify-between bg-white rounded-lg shadow-lg p-4",children:ae.map((re,Te)=>a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`flex items-center justify-center w-12 h-12 rounded-full border-2 transition-all duration-300 ${t>=re.id?"bg-[#39653f] border-[#39653f] text-white shadow-lg":"bg-white border-gray-300 text-gray-500"}`,children:t>re.id?a.jsx(pr,{className:"h-6 w-6"}):re.icon}),a.jsx("span",{className:`ml-3 text-sm font-medium transition-colors duration-300 ${t>=re.id?"text-blue-600":"text-gray-500"}`,children:re.title}),Te<ae.length-1&&a.jsx("div",{className:`w-20 h-0.5 mx-4 transition-colors duration-300 ${t>re.id?"bg-[#39653f]":"bg-gray-300"}`})]},re.id))})}),t>=2&&V.checkInTime&&V.checkOutTime&&a.jsx("div",{className:"mb-6",children:a.jsx(ue,{className:"border-2 border-blue-200 bg-gradient-to-r from-blue-50 to-indigo-50",children:a.jsx(he,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(qr,{className:"h-5 w-5 text-blue-600"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-blue-900",children:"已選擇時間:"}),a.jsxs("div",{className:"flex items-center space-x-4 text-sm text-blue-800",children:[a.jsxs("span",{children:[a.jsx("strong",{children:"進入:"})," ",$t(V.checkInTime)]}),a.jsx("span",{className:"text-blue-600",children:"→"}),a.jsxs("span",{children:[a.jsx("strong",{children:"離開:"})," ",$t(V.checkOutTime)]})]})]})]}),V.parkingTypeId&&a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-sm text-blue-700",children:[a.jsx("strong",{children:"停車場:"})," ",((Ce=c.find(re=>re._id===V.parkingTypeId))==null?void 0:Ce.name)||"未選擇"]}),a.jsx("div",{className:"text-xs text-blue-600",children:(()=>{const re=new Date(V.checkInTime),Te=new Date(V.checkOutTime),te=Math.abs(Te.getTime()-re.getTime());return`${Math.ceil(te/(1e3*60*60*24))} 天`})()})]})]})})})}),oe(),a.jsxs("div",{className:"flex justify-between mt-8",children:[a.jsxs(W,{variant:"outline",onClick:()=>r(re=>Math.max(1,re-1)),disabled:t===1,className:"px-6 py-3",children:[a.jsx(K$,{className:"h-4 w-4 mr-2"}),"返回"]}),a.jsx("div",{className:"flex space-x-3",children:t<ae.length?a.jsxs(W,{onClick:()=>r(re=>re+1),disabled:t===1&&!V.agreedToTerms||t===2&&!V.parkingTypeId||t===2&&(!V.checkInTime||!V.checkOutTime)||t===2&&M.length>0,className:"px-8 py-3 bg-[#39653f] hover:bg-[#2d4f33]",children:["下一步",a.jsx(G$,{className:"h-4 w-4 ml-2"})]}):a.jsx(W,{onClick:ze,disabled:n||!V.termsAccepted,className:"px-8 py-3 bg-[#39653f] hover:bg-[#2d4f33]",children:n?"正在處理...":"完成預約"})})]})]})})})},LI=()=>{var p,v,m,x,b;const e=Qd(),t=tf(),[r,n]=g.useState(null),[s,i]=g.useState(!0),o=(p=e.state)==null?void 0:p.bookingData;g.useEffect(()=>{c()},[]);const c=async()=>{try{const y=await Hg();n(y)}catch(y){console.error("Error loading system settings:",y)}finally{i(!1)}},l=y=>y==null?"0 TWD":y.toLocaleString("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0,maximumFractionDigits:0}),u=()=>{if(!o)return[];const y=[],j=new Date(o.checkInTime),S=new Date(o.checkOutTime),N=Math.max(1,o.durationDays||1),w=Math.round((o.totalAmount||0)/N),A=new Date(j);for(;A<S;){const O=new Date(A).toISOString().split("T")[0];y.push({date:O,price:w}),A.setDate(A.getDate()+1)}return y},d=y=>{if(y.icon)return a.jsx("span",{className:"text-lg",children:y.icon});switch(y.type||y){case"indoor":return a.jsx(ny,{className:"h-5 w-5 text-blue-600"});case"outdoor":return a.jsx(sD,{className:"h-5 w-5 text-yellow-600"});case"disabled":return a.jsx(H$,{className:"h-5 w-5 text-green-600"});default:return a.jsx(ir,{className:"h-5 w-5 text-gray-600"})}},f=y=>{const j={pending:{label:"等待確認",variant:"secondary",color:"bg-yellow-100 text-yellow-800"},confirmed:{label:"預約成功",variant:"default",color:"bg-green-100 text-green-800"},"checked-in":{label:"已進入停車場",variant:"default",color:"bg-blue-100 text-blue-800"},"checked-out":{label:"已離開停車場",variant:"outline",color:"bg-gray-100 text-gray-800"},cancelled:{label:"已取消",variant:"destructive",color:"bg-red-100 text-red-800"}},S=j[y]||j.pending;return a.jsx(Le,{variant:S.variant,className:S.color,children:S.label})},h=()=>{t("/")};return s?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"正在加載信息..."})]})}):o?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-8",children:a.jsxs("div",{className:"container mx-auto px-4 max-w-full",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-green-100 rounded-full mb-4",children:a.jsx(pr,{className:"h-10 w-10 text-green-600"})}),a.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"預約成功！"}),a.jsx("p",{className:"text-gray-600",children:"感謝您使用我們的服務"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs(ue,{className:"border-2 border-green-200 bg-green-50/50",children:[a.jsx(xe,{className:"pb-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(ye,{className:"text-xl text-gray-800",children:"預約信息"}),a.jsxs(rt,{className:"text-gray-600",children:["預約編號: ",a.jsx("span",{className:"font-mono font-bold text-blue-600",children:o.bookingNumber})]})]}),f(o.status)]})}),a.jsxs(he,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Et,{className:"h-5 w-5 text-blue-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"進入停車場日期"}),a.jsx("p",{className:"font-semibold",children:or(o.checkInTime)})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(qr,{className:"h-5 w-5 text-blue-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"離開停車場日期"}),a.jsx("p",{className:"font-semibold",children:or(o.checkOutTime)})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Is,{className:"h-5 w-5 text-blue-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"停車場類型"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[d(o.parkingType),a.jsx("p",{className:"font-semibold",children:o.parkingType.name})]})]})]})]})]}),a.jsxs(ue,{children:[a.jsx(xe,{children:a.jsxs(ye,{className:"flex items-center space-x-2",children:[a.jsx(Nr,{className:"h-5 w-5 text-blue-600"}),a.jsx("span",{children:"客戶信息"}),o.isVIP&&a.jsx(Le,{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white border-0",children:"👑 VIP 會員"})]})}),a.jsx(he,{className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Nr,{className:"h-5 w-5 text-gray-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"您的姓名"}),a.jsx("p",{className:"font-semibold",children:o.driverName})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(ir,{className:"h-5 w-5 text-gray-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"車牌號碼"}),a.jsx("p",{className:"font-semibold font-mono",children:o.licensePlate})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(fa,{className:"h-5 w-5 text-gray-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"電話號碼"}),a.jsx("p",{className:"font-semibold",children:o.phone})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(ki,{className:"h-5 w-5 text-gray-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"電子郵件"}),a.jsx("p",{className:"font-semibold",children:o.email})]})]})]})})]}),o.passengerCount&&o.passengerCount>0&&a.jsxs(ue,{children:[a.jsx(xe,{children:a.jsxs(ye,{className:"flex items-center space-x-2",children:[a.jsx(ny,{className:"h-5 w-5 text-blue-600"}),a.jsx("span",{children:"接駁服務信息"})]})}),a.jsx(he,{children:a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[a.jsx("span",{className:"text-blue-800 font-medium",children:"✈️ 航廈選擇"}),a.jsx("span",{className:"text-xs text-blue-600",children:"(接駁服務)"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-blue-600 text-sm",children:"🚀"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"出發航廈"}),a.jsx("p",{className:"font-semibold",children:o.departureTerminal==="terminal1"?"第一航廈":o.departureTerminal==="terminal2"?"第二航廈":"未選擇"})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-green-600 text-sm",children:"🏠"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"回程航廈"}),a.jsx("p",{className:"font-semibold",children:o.returnTerminal==="terminal1"?"第一航廈":o.returnTerminal==="terminal2"?"第二航廈":"未選擇"})]})]})]}),a.jsx("div",{className:"mt-3 text-xs text-blue-600 bg-blue-100 p-2 rounded",children:"💡 接駁服務將根據您選擇的航廈提供服務"})]})})})]}),a.jsxs(ue,{children:[a.jsx(xe,{children:a.jsxs(ye,{className:"flex items-center space-x-2",children:[a.jsx(Fg,{className:"h-5 w-5 text-blue-600"}),a.jsx("span",{children:"付款詳情"})]})}),a.jsx(he,{children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("span",{className:"text-gray-600",children:["基本費用 (",o.durationDays," 天)"]}),a.jsx("span",{className:"font-semibold",children:l(o.totalAmount)})]}),(o.dailyPrices&&o.dailyPrices.length>0||!0)&&a.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[a.jsx("div",{className:"text-sm font-semibold text-blue-700 mb-2",children:"📅 每日價格詳細:"}),a.jsx("div",{className:"space-y-2",children:(o.dailyPrices&&o.dailyPrices.length>0?o.dailyPrices:u()).map((y,j)=>a.jsxs("div",{className:"flex justify-between items-center text-sm bg-white p-2 rounded",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-gray-600",children:sc(y.date)}),y.isSpecialPrice&&a.jsxs(Le,{variant:"outline",className:"text-xs bg-orange-100 text-orange-700 border-orange-200 max-w-32 truncate",title:y.specialPriceReason,children:["💰 ",y.specialPriceReason||"特殊價格"]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[y.isSpecialPrice&&y.originalPrice?a.jsx("span",{className:"text-xs text-gray-500 line-through",children:l(y.originalPrice)}):null,a.jsx("span",{className:`font-semibold ${y.isSpecialPrice?"text-orange-600":"text-blue-600"}`,children:l(y.price)})]})]},j))})]}),o.addonServices.length>0&&a.jsxs(a.Fragment,{children:[a.jsx(ys,{}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm font-medium text-gray-700",children:"附加服務:"}),o.addonServices.map((y,j)=>a.jsxs("div",{className:"flex justify-between items-center text-sm",children:[a.jsx("span",{className:"text-gray-600",children:y.name}),a.jsx("span",{children:l(y.price)})]},j))]})]}),o.discountAmount>0&&a.jsxs(a.Fragment,{children:[a.jsx(ys,{}),a.jsxs("div",{className:"flex justify-between items-center py-2 bg-green-50 rounded-lg px-3",children:[a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx("span",{className:"text-green-600",children:"🎫 折扣:"})}),a.jsxs("span",{className:"font-semibold text-green-600",children:["-",l(o.discountAmount)]})]})]}),o.vipDiscount&&o.vipDiscount>0&&a.jsxs(a.Fragment,{children:[a.jsx(ys,{}),a.jsxs("div",{className:"flex justify-between items-center py-2 bg-blue-50 rounded-lg px-3",children:[a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx("span",{className:"text-blue-600",children:"👑 VIP 折扣:"})}),a.jsxs("span",{className:"font-semibold text-blue-600",children:["-",l(o.vipDiscount)]})]})]}),a.jsx(ys,{}),a.jsx("div",{className:"bg-gradient-to-r from-emerald-100 to-teal-100 p-3 rounded-lg border-2 border-emerald-300",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-semibold",children:"總費用:"}),a.jsx("span",{className:"font-semibold",children:l(o.totalAmount)})]}),(o.discountAmount>0||o.vipDiscount&&o.vipDiscount>0)&&a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-semibold text-green-700",children:"總折扣:"}),a.jsxs("span",{className:"font-bold text-green-700 text-lg",children:["-",l((o.discountAmount||0)+(o.vipDiscount||0))]})]}),a.jsx("div",{className:"border-t pt-2",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-bold text-lg",children:"總付款:"}),a.jsx("span",{className:"font-bold text-emerald-800 text-xl",children:l(o.finalAmount)})]})})]})})]})})]})]}),a.jsxs("div",{className:"space-y-6",children:[r&&a.jsxs(ue,{children:[a.jsx(xe,{children:a.jsxs(ye,{className:"text-lg flex items-center space-x-2",children:[a.jsx(_s,{className:"h-5 w-5 text-blue-600"}),a.jsx("span",{children:"聯繫信息"})]})}),a.jsxs(he,{className:"space-y-3 text-sm",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(fa,{className:"h-4 w-4 text-gray-500"}),a.jsx("span",{children:((v=r.contactInfo)==null?void 0:v.phone)||"N/A"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ki,{className:"h-4 w-4 text-gray-500"}),a.jsx("span",{children:((m=r.contactInfo)==null?void 0:m.email)||"N/A"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Is,{className:"h-4 w-4 text-gray-500"}),a.jsx("span",{children:((x=r.contactInfo)==null?void 0:x.address)||"N/A"})]}),((b=r.contactInfo)==null?void 0:b.website)&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(_s,{className:"h-4 w-4 text-gray-500"}),a.jsx("a",{href:r.contactInfo.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:r.contactInfo.website})]})]})]}),a.jsxs(ue,{className:"border-amber-200 bg-amber-50/50",children:[a.jsx(xe,{children:a.jsx(ye,{className:"text-lg text-amber-800",children:"重要提示"})}),a.jsxs(he,{className:"text-sm text-amber-700 space-y-2",children:[a.jsx("p",{children:"• 請按預約時間到達"}),a.jsx("p",{children:"• 請攜帶車輛證明文件和駕駛執照"}),a.jsx("p",{children:"• 如有變更，請立即聯繫"}),a.jsx("p",{children:"• 保留預約編號以供查詢"})]})]})]})]})]})}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-red-500 text-6xl mb-4",children:"⚠️"}),a.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"找不到預約信息"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"請返回預約頁面"}),a.jsxs(W,{onClick:h,className:"bg-[#39653f] hover:bg-[#2d4f33]",children:[a.jsx(Q$,{className:"h-4 w-4 mr-2"}),"返回主頁"]})]})})};function Wa(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function xy(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function FI(...e){return t=>{let r=!1;const n=e.map(s=>{const i=xy(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():xy(e[s],null)}}}}function ri(...e){return g.useCallback(FI(...e),e)}function BI(e,t){const r=g.createContext(t),n=i=>{const{children:o,...c}=i,l=g.useMemo(()=>c,Object.values(c));return a.jsx(r.Provider,{value:l,children:o})};n.displayName=e+"Provider";function s(i){const o=g.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,s]}function VI(e,t=[]){let r=[];function n(i,o){const c=g.createContext(o),l=r.length;r=[...r,o];const u=f=>{var b;const{scope:h,children:p,...v}=f,m=((b=h==null?void 0:h[e])==null?void 0:b[l])||c,x=g.useMemo(()=>v,Object.values(v));return a.jsx(m.Provider,{value:x,children:p})};u.displayName=i+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[l])||c,v=g.useContext(p);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(o=>g.createContext(o));return function(c){const l=(c==null?void 0:c[e])||i;return g.useMemo(()=>({[`__scope${e}`]:{...c,[e]:l}}),[c,l])}};return s.scopeName=e,[n,zI(s,...t)]}function zI(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((c,{useScope:l,scopeName:u})=>{const f=l(i)[`__scope${u}`];return{...c,...f}},{});return g.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var Nc=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},UI=es[" useId ".trim().toString()]||(()=>{}),WI=0;function Oh(e){const[t,r]=g.useState(UI());return Nc(()=>{r(n=>n??String(WI++))},[e]),e||(t?`radix-${t}`:"")}var HI=es[" useInsertionEffect ".trim().toString()]||Nc;function qI({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,i,o]=KI({defaultProp:t,onChange:r}),c=e!==void 0,l=c?e:s;{const d=g.useRef(e!==void 0);g.useEffect(()=>{const f=d.current;f!==c&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=c},[c,n])}const u=g.useCallback(d=>{var f;if(c){const h=GI(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else i(d)},[c,e,i,o]);return[l,u]}function KI({defaultProp:e,onChange:t}){const[r,n]=g.useState(e),s=g.useRef(r),i=g.useRef(t);return HI(()=>{i.current=t},[t]),g.useEffect(()=>{var o;s.current!==r&&((o=i.current)==null||o.call(i,r),s.current=r)},[r,s]),[r,n,i]}function GI(e){return typeof e=="function"}var ZI=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Sa=ZI.reduce((e,t)=>{const r=sn(`Primitive.${t}`),n=g.forwardRef((s,i)=>{const{asChild:o,...c}=s,l=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(l,{...c,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function XI(e,t){e&&Qs.flushSync(()=>e.dispatchEvent(t))}function Sc(e){const t=g.useRef(e);return g.useEffect(()=>{t.current=e}),g.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function YI(e,t=globalThis==null?void 0:globalThis.document){const r=Sc(e);g.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var JI="DismissableLayer",Mm="dismissableLayer.update",QI="dismissableLayer.pointerDownOutside",eM="dismissableLayer.focusOutside",yy,BN=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),VN=g.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:c,...l}=e,u=g.useContext(BN),[d,f]=g.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=g.useState({}),v=ri(t,A=>f(A)),m=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=m.indexOf(x),y=d?m.indexOf(d):-1,j=u.layersWithOutsidePointerEventsDisabled.size>0,S=y>=b,N=nM(A=>{const O=A.target,_=[...u.branches].some(C=>C.contains(O));!S||_||(s==null||s(A),o==null||o(A),A.defaultPrevented||c==null||c())},h),w=aM(A=>{const O=A.target;[...u.branches].some(C=>C.contains(O))||(i==null||i(A),o==null||o(A),A.defaultPrevented||c==null||c())},h);return YI(A=>{y===u.layers.size-1&&(n==null||n(A),!A.defaultPrevented&&c&&(A.preventDefault(),c()))},h),g.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(yy=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),by(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=yy)}},[d,h,r,u]),g.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),by())},[d,u]),g.useEffect(()=>{const A=()=>p({});return document.addEventListener(Mm,A),()=>document.removeEventListener(Mm,A)},[]),a.jsx(Sa.div,{...l,ref:v,style:{pointerEvents:j?S?"auto":"none":void 0,...e.style},onFocusCapture:Wa(e.onFocusCapture,w.onFocusCapture),onBlurCapture:Wa(e.onBlurCapture,w.onBlurCapture),onPointerDownCapture:Wa(e.onPointerDownCapture,N.onPointerDownCapture)})});VN.displayName=JI;var tM="DismissableLayerBranch",rM=g.forwardRef((e,t)=>{const r=g.useContext(BN),n=g.useRef(null),s=ri(t,n);return g.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),a.jsx(Sa.div,{...e,ref:s})});rM.displayName=tM;function nM(e,t=globalThis==null?void 0:globalThis.document){const r=Sc(e),n=g.useRef(!1),s=g.useRef(()=>{});return g.useEffect(()=>{const i=c=>{if(c.target&&!n.current){let l=function(){zN(QI,r,u,{discrete:!0})};const u={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=l,t.addEventListener("click",s.current,{once:!0})):l()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function aM(e,t=globalThis==null?void 0:globalThis.document){const r=Sc(e),n=g.useRef(!1);return g.useEffect(()=>{const s=i=>{i.target&&!n.current&&zN(eM,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function by(){const e=new CustomEvent(Mm);document.dispatchEvent(e)}function zN(e,t,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?XI(s,i):s.dispatchEvent(i)}var _h="focusScope.autoFocusOnMount",Ph="focusScope.autoFocusOnUnmount",jy={bubbles:!1,cancelable:!0},sM="FocusScope",UN=g.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[c,l]=g.useState(null),u=Sc(s),d=Sc(i),f=g.useRef(null),h=ri(t,m=>l(m)),p=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(n){let m=function(j){if(p.paused||!c)return;const S=j.target;c.contains(S)?f.current=S:Ta(f.current,{select:!0})},x=function(j){if(p.paused||!c)return;const S=j.relatedTarget;S!==null&&(c.contains(S)||Ta(f.current,{select:!0}))},b=function(j){if(document.activeElement===document.body)for(const N of j)N.removedNodes.length>0&&Ta(c)};document.addEventListener("focusin",m),document.addEventListener("focusout",x);const y=new MutationObserver(b);return c&&y.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",x),y.disconnect()}}},[n,c,p.paused]),g.useEffect(()=>{if(c){Ny.add(p);const m=document.activeElement;if(!c.contains(m)){const b=new CustomEvent(_h,jy);c.addEventListener(_h,u),c.dispatchEvent(b),b.defaultPrevented||(iM(dM(WN(c)),{select:!0}),document.activeElement===m&&Ta(c))}return()=>{c.removeEventListener(_h,u),setTimeout(()=>{const b=new CustomEvent(Ph,jy);c.addEventListener(Ph,d),c.dispatchEvent(b),b.defaultPrevented||Ta(m??document.body,{select:!0}),c.removeEventListener(Ph,d),Ny.remove(p)},0)}}},[c,u,d,p]);const v=g.useCallback(m=>{if(!r&&!n||p.paused)return;const x=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,b=document.activeElement;if(x&&b){const y=m.currentTarget,[j,S]=oM(y);j&&S?!m.shiftKey&&b===S?(m.preventDefault(),r&&Ta(j,{select:!0})):m.shiftKey&&b===j&&(m.preventDefault(),r&&Ta(S,{select:!0})):b===y&&m.preventDefault()}},[r,n,p.paused]);return a.jsx(Sa.div,{tabIndex:-1,...o,ref:h,onKeyDown:v})});UN.displayName=sM;function iM(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Ta(n,{select:t}),document.activeElement!==r)return}function oM(e){const t=WN(e),r=wy(t,e),n=wy(t.reverse(),e);return[r,n]}function WN(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function wy(e,t){for(const r of e)if(!cM(r,{upTo:t}))return r}function cM(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function lM(e){return e instanceof HTMLInputElement&&"select"in e}function Ta(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&lM(e)&&t&&e.select()}}var Ny=uM();function uM(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Sy(e,t),e.unshift(t)},remove(t){var r;e=Sy(e,t),(r=e[0])==null||r.resume()}}}function Sy(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function dM(e){return e.filter(t=>t.tagName!=="A")}var fM="Portal",HN=g.forwardRef((e,t)=>{var c;const{container:r,...n}=e,[s,i]=g.useState(!1);Nc(()=>i(!0),[]);const o=r||s&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return o?kg.createPortal(a.jsx(Sa.div,{...n,ref:t}),o):null});HN.displayName=fM;function hM(e,t){return g.useReducer((r,n)=>t[r][n]??r,e)}var mf=e=>{const{present:t,children:r}=e,n=mM(t),s=typeof r=="function"?r({present:n.isPresent}):g.Children.only(r),i=ri(n.ref,pM(s));return typeof r=="function"||n.isPresent?g.cloneElement(s,{ref:i}):null};mf.displayName="Presence";function mM(e){const[t,r]=g.useState(),n=g.useRef(null),s=g.useRef(e),i=g.useRef("none"),o=e?"mounted":"unmounted",[c,l]=hM(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const u=Vl(n.current);i.current=c==="mounted"?u:"none"},[c]),Nc(()=>{const u=n.current,d=s.current;if(d!==e){const h=i.current,p=Vl(u);e?l("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,l]),Nc(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const m=Vl(n.current).includes(p.animationName);if(p.target===t&&m&&(l("ANIMATION_END"),!s.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},h=p=>{p.target===t&&(i.current=Vl(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:g.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Vl(e){return(e==null?void 0:e.animationName)||"none"}function pM(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Ch=0;function gM(){g.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Ay()),document.body.insertAdjacentElement("beforeend",e[1]??Ay()),Ch++,()=>{Ch===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Ch--}},[])}function Ay(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Cn=function(){return Cn=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Cn.apply(this,arguments)};function qN(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function vM(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var gu="right-scroll-bar-position",vu="width-before-scroll-bar",xM="with-scroll-bars-hidden",yM="--removed-body-scroll-bar-size";function kh(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function bM(e,t){var r=g.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var jM=typeof window<"u"?g.useLayoutEffect:g.useEffect,Oy=new WeakMap;function wM(e,t){var r=bM(null,function(n){return e.forEach(function(s){return kh(s,n)})});return jM(function(){var n=Oy.get(r);if(n){var s=new Set(n),i=new Set(e),o=r.current;s.forEach(function(c){i.has(c)||kh(c,null)}),i.forEach(function(c){s.has(c)||kh(c,o)})}Oy.set(r,e)},[e]),r}function NM(e){return e}function SM(e,t){t===void 0&&(t=NM);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(c){return c!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(c){return i(c)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var c=r;r=[],c.forEach(i),o=r}var l=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(l)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return s}function AM(e){e===void 0&&(e={});var t=SM(null);return t.options=Cn({async:!0,ssr:!1},e),t}var KN=function(e){var t=e.sideCar,r=qN(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return g.createElement(n,Cn({},r))};KN.isSideCarExport=!0;function OM(e,t){return e.useMedium(t),KN}var GN=AM(),Th=function(){},pf=g.forwardRef(function(e,t){var r=g.useRef(null),n=g.useState({onScrollCapture:Th,onWheelCapture:Th,onTouchMoveCapture:Th}),s=n[0],i=n[1],o=e.forwardProps,c=e.children,l=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,p=e.noIsolation,v=e.inert,m=e.allowPinchZoom,x=e.as,b=x===void 0?"div":x,y=e.gapMode,j=qN(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,N=wM([r,t]),w=Cn(Cn({},j),s);return g.createElement(g.Fragment,null,d&&g.createElement(S,{sideCar:GN,removeScrollBar:u,shards:f,noIsolation:p,inert:v,setCallbacks:i,allowPinchZoom:!!m,lockRef:r,gapMode:y}),o?g.cloneElement(g.Children.only(c),Cn(Cn({},w),{ref:N})):g.createElement(b,Cn({},w,{className:l,ref:N}),c))});pf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};pf.classNames={fullWidth:vu,zeroRight:gu};var _M=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function PM(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=_M();return t&&e.setAttribute("nonce",t),e}function CM(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function kM(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var TM=function(){var e=0,t=null;return{add:function(r){e==0&&(t=PM())&&(CM(t,r),kM(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},EM=function(){var e=TM();return function(t,r){g.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},ZN=function(){var e=EM(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},$M={left:0,top:0,right:0,gap:0},Eh=function(e){return parseInt(e||"",10)||0},DM=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Eh(r),Eh(n),Eh(s)]},IM=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return $M;var t=DM(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},MM=ZN(),$i="data-scroll-locked",RM=function(e,t,r,n){var s=e.left,i=e.top,o=e.right,c=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(xM,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(c,"px ").concat(n,`;
  }
  body[`).concat($i,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(c,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(gu,` {
    right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(vu,` {
    margin-right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(gu," .").concat(gu,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(vu," .").concat(vu,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat($i,`] {
    `).concat(yM,": ").concat(c,`px;
  }
`)},_y=function(){var e=parseInt(document.body.getAttribute($i)||"0",10);return isFinite(e)?e:0},LM=function(){g.useEffect(function(){return document.body.setAttribute($i,(_y()+1).toString()),function(){var e=_y()-1;e<=0?document.body.removeAttribute($i):document.body.setAttribute($i,e.toString())}},[])},FM=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;LM();var i=g.useMemo(function(){return IM(s)},[s]);return g.createElement(MM,{styles:RM(i,!t,s,r?"":"!important")})},Rm=!1;if(typeof window<"u")try{var zl=Object.defineProperty({},"passive",{get:function(){return Rm=!0,!0}});window.addEventListener("test",zl,zl),window.removeEventListener("test",zl,zl)}catch{Rm=!1}var li=Rm?{passive:!1}:!1,BM=function(e){return e.tagName==="TEXTAREA"},XN=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!BM(e)&&r[t]==="visible")},VM=function(e){return XN(e,"overflowY")},zM=function(e){return XN(e,"overflowX")},Py=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=YN(e,n);if(s){var i=JN(e,n),o=i[1],c=i[2];if(o>c)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},UM=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},WM=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},YN=function(e,t){return e==="v"?VM(t):zM(t)},JN=function(e,t){return e==="v"?UM(t):WM(t)},HM=function(e,t){return e==="h"&&t==="rtl"?-1:1},qM=function(e,t,r,n,s){var i=HM(e,window.getComputedStyle(t).direction),o=i*n,c=r.target,l=t.contains(c),u=!1,d=o>0,f=0,h=0;do{var p=JN(e,c),v=p[0],m=p[1],x=p[2],b=m-x-i*v;(v||b)&&YN(e,c)&&(f+=b,h+=v),c instanceof ShadowRoot?c=c.host:c=c.parentNode}while(!l&&c!==document.body||l&&(t.contains(c)||t===c));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},Ul=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Cy=function(e){return[e.deltaX,e.deltaY]},ky=function(e){return e&&"current"in e?e.current:e},KM=function(e,t){return e[0]===t[0]&&e[1]===t[1]},GM=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},ZM=0,ui=[];function XM(e){var t=g.useRef([]),r=g.useRef([0,0]),n=g.useRef(),s=g.useState(ZM++)[0],i=g.useState(ZN)[0],o=g.useRef(e);g.useEffect(function(){o.current=e},[e]),g.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var m=vM([e.lockRef.current],(e.shards||[]).map(ky),!0).filter(Boolean);return m.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var c=g.useCallback(function(m,x){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var b=Ul(m),y=r.current,j="deltaX"in m?m.deltaX:y[0]-b[0],S="deltaY"in m?m.deltaY:y[1]-b[1],N,w=m.target,A=Math.abs(j)>Math.abs(S)?"h":"v";if("touches"in m&&A==="h"&&w.type==="range")return!1;var O=Py(A,w);if(!O)return!0;if(O?N=A:(N=A==="v"?"h":"v",O=Py(A,w)),!O)return!1;if(!n.current&&"changedTouches"in m&&(j||S)&&(n.current=N),!N)return!0;var _=n.current||N;return qM(_,x,m,_==="h"?j:S)},[]),l=g.useCallback(function(m){var x=m;if(!(!ui.length||ui[ui.length-1]!==i)){var b="deltaY"in x?Cy(x):Ul(x),y=t.current.filter(function(N){return N.name===x.type&&(N.target===x.target||x.target===N.shadowParent)&&KM(N.delta,b)})[0];if(y&&y.should){x.cancelable&&x.preventDefault();return}if(!y){var j=(o.current.shards||[]).map(ky).filter(Boolean).filter(function(N){return N.contains(x.target)}),S=j.length>0?c(x,j[0]):!o.current.noIsolation;S&&x.cancelable&&x.preventDefault()}}},[]),u=g.useCallback(function(m,x,b,y){var j={name:m,delta:x,target:b,should:y,shadowParent:YM(b)};t.current.push(j),setTimeout(function(){t.current=t.current.filter(function(S){return S!==j})},1)},[]),d=g.useCallback(function(m){r.current=Ul(m),n.current=void 0},[]),f=g.useCallback(function(m){u(m.type,Cy(m),m.target,c(m,e.lockRef.current))},[]),h=g.useCallback(function(m){u(m.type,Ul(m),m.target,c(m,e.lockRef.current))},[]);g.useEffect(function(){return ui.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,li),document.addEventListener("touchmove",l,li),document.addEventListener("touchstart",d,li),function(){ui=ui.filter(function(m){return m!==i}),document.removeEventListener("wheel",l,li),document.removeEventListener("touchmove",l,li),document.removeEventListener("touchstart",d,li)}},[]);var p=e.removeScrollBar,v=e.inert;return g.createElement(g.Fragment,null,v?g.createElement(i,{styles:GM(s)}):null,p?g.createElement(FM,{gapMode:e.gapMode}):null)}function YM(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const JM=OM(GN,XM);var gf=g.forwardRef(function(e,t){return g.createElement(pf,Cn({},e,{ref:t,sideCar:JM}))});gf.classNames=pf.classNames;var QM=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},di=new WeakMap,Wl=new WeakMap,Hl={},$h=0,QN=function(e){return e&&(e.host||QN(e.parentNode))},eR=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=QN(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},tR=function(e,t,r,n){var s=eR(t,Array.isArray(e)?e:[e]);Hl[r]||(Hl[r]=new WeakMap);var i=Hl[r],o=[],c=new Set,l=new Set(s),u=function(f){!f||c.has(f)||(c.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(c.has(h))d(h);else try{var p=h.getAttribute(n),v=p!==null&&p!=="false",m=(di.get(h)||0)+1,x=(i.get(h)||0)+1;di.set(h,m),i.set(h,x),o.push(h),m===1&&v&&Wl.set(h,!0),x===1&&h.setAttribute(r,"true"),v||h.setAttribute(n,"true")}catch(b){console.error("aria-hidden: cannot operate on ",h,b)}})};return d(t),c.clear(),$h++,function(){o.forEach(function(f){var h=di.get(f)-1,p=i.get(f)-1;di.set(f,h),i.set(f,p),h||(Wl.has(f)||f.removeAttribute(n),Wl.delete(f)),p||f.removeAttribute(r)}),$h--,$h||(di=new WeakMap,di=new WeakMap,Wl=new WeakMap,Hl={})}},qg=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=QM(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),tR(n,s,r,"aria-hidden")):function(){return null}},vf="Dialog",[eS,Ide]=VI(vf),[rR,Sn]=eS(vf),tS=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,c=g.useRef(null),l=g.useRef(null),[u,d]=qI({prop:n,defaultProp:s??!1,onChange:i,caller:vf});return a.jsx(rR,{scope:t,triggerRef:c,contentRef:l,contentId:Oh(),titleId:Oh(),descriptionId:Oh(),open:u,onOpenChange:d,onOpenToggle:g.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};tS.displayName=vf;var rS="DialogTrigger",nR=g.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Sn(rS,r),i=ri(t,s.triggerRef);return a.jsx(Sa.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Zg(s.open),...n,ref:i,onClick:Wa(e.onClick,s.onOpenToggle)})});nR.displayName=rS;var Kg="DialogPortal",[aR,nS]=eS(Kg,{forceMount:void 0}),aS=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,i=Sn(Kg,t);return a.jsx(aR,{scope:t,forceMount:r,children:g.Children.map(n,o=>a.jsx(mf,{present:r||i.open,children:a.jsx(HN,{asChild:!0,container:s,children:o})}))})};aS.displayName=Kg;var Tu="DialogOverlay",sS=g.forwardRef((e,t)=>{const r=nS(Tu,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=Sn(Tu,e.__scopeDialog);return i.modal?a.jsx(mf,{present:n||i.open,children:a.jsx(iR,{...s,ref:t})}):null});sS.displayName=Tu;var sR=sn("DialogOverlay.RemoveScroll"),iR=g.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Sn(Tu,r);return a.jsx(gf,{as:sR,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(Sa.div,{"data-state":Zg(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Ms="DialogContent",iS=g.forwardRef((e,t)=>{const r=nS(Ms,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=Sn(Ms,e.__scopeDialog);return a.jsx(mf,{present:n||i.open,children:i.modal?a.jsx(oR,{...s,ref:t}):a.jsx(cR,{...s,ref:t})})});iS.displayName=Ms;var oR=g.forwardRef((e,t)=>{const r=Sn(Ms,e.__scopeDialog),n=g.useRef(null),s=ri(t,r.contentRef,n);return g.useEffect(()=>{const i=n.current;if(i)return qg(i)},[]),a.jsx(oS,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Wa(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Wa(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,c=o.button===0&&o.ctrlKey===!0;(o.button===2||c)&&i.preventDefault()}),onFocusOutside:Wa(e.onFocusOutside,i=>i.preventDefault())})}),cR=g.forwardRef((e,t)=>{const r=Sn(Ms,e.__scopeDialog),n=g.useRef(!1),s=g.useRef(!1);return a.jsx(oS,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,c;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(c=r.triggerRef.current)==null||c.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var l,u;(l=e.onInteractOutside)==null||l.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),oS=g.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,c=Sn(Ms,r),l=g.useRef(null),u=ri(t,l);return gM(),a.jsxs(a.Fragment,{children:[a.jsx(UN,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(VN,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":Zg(c.open),...o,ref:u,onDismiss:()=>c.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(lR,{titleId:c.titleId}),a.jsx(dR,{contentRef:l,descriptionId:c.descriptionId})]})]})}),Gg="DialogTitle",cS=g.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Sn(Gg,r);return a.jsx(Sa.h2,{id:s.titleId,...n,ref:t})});cS.displayName=Gg;var lS="DialogDescription",uS=g.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Sn(lS,r);return a.jsx(Sa.p,{id:s.descriptionId,...n,ref:t})});uS.displayName=lS;var dS="DialogClose",fS=g.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Sn(dS,r);return a.jsx(Sa.button,{type:"button",...n,ref:t,onClick:Wa(e.onClick,()=>s.onOpenChange(!1))})});fS.displayName=dS;function Zg(e){return e?"open":"closed"}var hS="DialogTitleWarning",[Mde,mS]=BI(hS,{contentName:Ms,titleName:Gg,docsSlug:"dialog"}),lR=({titleId:e})=>{const t=mS(hS),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return g.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},uR="DialogDescriptionWarning",dR=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${mS(uR).contentName}}.`;return g.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},fR=tS,hR=aS,pS=sS,gS=iS,vS=cS,xS=uS,mR=fS;const ft=fR,pR=hR,yS=g.forwardRef(({className:e,...t},r)=>a.jsx(pS,{ref:r,className:He("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));yS.displayName=pS.displayName;const it=g.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(pR,{children:[a.jsx(yS,{}),a.jsxs(gS,{ref:n,className:He("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,a.jsxs(mR,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(ti,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));it.displayName=gS.displayName;const ot=({className:e,...t})=>a.jsx("div",{className:He("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});ot.displayName="DialogHeader";const ct=({className:e,...t})=>a.jsx("div",{className:He("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});ct.displayName="DialogFooter";const lt=g.forwardRef(({className:e,...t},r)=>a.jsx(vS,{ref:r,className:He("text-lg font-semibold leading-none tracking-tight",e),...t}));lt.displayName=vS.displayName;const ut=g.forwardRef(({className:e,...t},r)=>a.jsx(xS,{ref:r,className:He("text-sm text-muted-foreground",e),...t}));ut.displayName=xS.displayName;const gR=()=>{const[e,t]=g.useState("phone"),[r,n]=g.useState(""),[s,i]=g.useState(!1),[o,c]=g.useState([]),[l,u]=g.useState(null),[d,f]=g.useState(!1),[h,p]=g.useState(!1),[v,m]=g.useState({status:"",dateFrom:"",dateTo:"",minAmount:"",maxAmount:""}),[x,b]=g.useState([]),y=async()=>{var C;if(!r.trim()){Y.error("請輸入搜尋資訊");return}try{i(!0);const P=e==="phone"?r.trim():void 0,k=e==="licensePlate"?r.trim().toUpperCase():void 0,T=await XD(P,k);c(T||[]),b(T||[]),(T==null?void 0:T.length)===0&&Y("找不到任何預約",{icon:"ℹ️"})}catch(P){((C=P.response)==null?void 0:C.status)===401?Y.error("請登入以查詢預約"):Y.error(P.message||"搜尋時發生錯誤")}finally{i(!1)}},j=async C=>{var P;try{const k=await YD(C);u(k),f(!0)}catch(k){((P=k.response)==null?void 0:P.status)===401?Y.error("請登入以查看預約詳情"):Y.error(k.message||"無法載入預約詳情")}},S=C=>{const P={pending:{label:"等待確認",variant:"secondary",color:"bg-yellow-100 text-yellow-800"},confirmed:{label:"預約成功",variant:"default",color:"bg-blue-100 text-blue-800"},"checked-in":{label:"已進入停車場",variant:"default",color:"bg-green-100 text-green-800"},"checked-out":{label:"已離開停車場",variant:"secondary",color:"bg-gray-100 text-gray-800"},cancelled:{label:"已取消",variant:"destructive",color:"bg-red-100 text-red-800"}},k=P[C]||P.pending;return a.jsx(Le,{variant:k.variant,className:k.color,children:k.label})},N=C=>new Date(C).toLocaleString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),w=C=>C.toLocaleString("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0,maximumFractionDigits:0}),A=C=>{if(C.icon)return C.icon;switch(C.type||C){case"indoor":return"🏢";case"outdoor":return"🌤";case"disabled":return"♿️";default:return"🚗"}},O=()=>{let C=[...o];if(v.status&&(C=C.filter(P=>P.status===v.status)),v.dateFrom){const P=new Date(v.dateFrom);C=C.filter(k=>new Date(k.checkInTime)>=P)}if(v.dateTo){const P=new Date(v.dateTo);C=C.filter(k=>new Date(k.checkInTime)<=P)}if(v.minAmount){const P=parseFloat(v.minAmount);C=C.filter(k=>k.finalAmount>=P)}if(v.maxAmount){const P=parseFloat(v.maxAmount);C=C.filter(k=>k.finalAmount<=P)}b(C)},_=()=>{m({status:"",dateFrom:"",dateTo:"",minAmount:"",maxAmount:""}),b(o)};return D.useEffect(()=>{O()},[v,o]),a.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold",children:"查詢預約"}),a.jsx("p",{className:"text-gray-600",children:"請輸入電話號碼或車牌號碼以查詢預約"})]}),a.jsxs(ue,{className:"mb-8",children:[a.jsxs(xe,{children:[a.jsxs(ye,{className:"flex items-center space-x-2",children:[a.jsx(Gr,{className:"h-5 w-5"}),a.jsx("span",{children:"查詢預約"})]}),a.jsx(rt,{children:"選擇搜索方法並輸入信息"})]}),a.jsx(he,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex space-x-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"radio",id:"phone",name:"searchType",value:"phone",checked:e==="phone",onChange:C=>t(C.target.value),className:"w-4 h-4 text-blue-600"}),a.jsxs(Z,{htmlFor:"phone",className:"flex items-center space-x-2 cursor-pointer",children:[a.jsx(fa,{className:"h-4 w-4"}),a.jsx("span",{children:"電話號碼"})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"radio",id:"licensePlate",name:"searchType",value:"licensePlate",checked:e==="licensePlate",onChange:C=>t(C.target.value),className:"w-4 h-4 text-blue-600"}),a.jsxs(Z,{htmlFor:"licensePlate",className:"flex items-center space-x-2 cursor-pointer",children:[a.jsx(ir,{className:"h-4 w-4"}),a.jsx("span",{children:"車牌號碼"})]})]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx(Z,{htmlFor:"searchValue",children:e==="phone"?"電話號碼":"車牌號碼"}),a.jsx(le,{id:"searchValue",placeholder:e==="phone"?"請輸入電話號碼":"請輸入車牌號碼",value:r,onChange:C=>n(C.target.value),onKeyPress:C=>C.key==="Enter"&&y()})]}),a.jsxs("div",{className:"flex items-end space-x-2",children:[a.jsxs(W,{variant:"outline",onClick:()=>p(!h),className:"px-4",children:[a.jsx(mr,{className:"h-4 w-4 mr-2"}),"過濾器"]}),a.jsx(W,{onClick:y,disabled:s||!r.trim(),className:"px-6",children:s?a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):a.jsxs(a.Fragment,{children:[a.jsx(Gr,{className:"h-4 w-4 mr-2"}),"搜索"]})})]})]}),h&&a.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h4",{className:"font-medium text-gray-700",children:"高級過濾器"}),a.jsxs(W,{variant:"outline",size:"sm",onClick:_,children:[a.jsx(ti,{className:"h-4 w-4 mr-1"}),"清除過濾器"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"status",children:"狀態"}),a.jsxs("select",{id:"status",value:v.status,onChange:C=>m(P=>({...P,status:C.target.value})),className:"w-full p-2 border border-gray-300 rounded-md",children:[a.jsx("option",{value:"",children:"所有狀態"}),a.jsx("option",{value:"pending",children:"等待確認"}),a.jsx("option",{value:"confirmed",children:"預約成功"}),a.jsx("option",{value:"checked-in",children:"已進入停車場"}),a.jsx("option",{value:"checked-out",children:"已離開停車場"}),a.jsx("option",{value:"cancelled",children:"已取消"})]})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"dateFrom",children:"從日期"}),a.jsx(le,{id:"dateFrom",type:"date",value:v.dateFrom,onChange:C=>m(P=>({...P,dateFrom:C.target.value}))})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"dateTo",children:"到日期"}),a.jsx(le,{id:"dateTo",type:"date",value:v.dateTo,onChange:C=>m(P=>({...P,dateTo:C.target.value}))})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"minAmount",children:"最小金額"}),a.jsx(le,{id:"minAmount",type:"number",placeholder:"0",value:v.minAmount,onChange:C=>m(P=>({...P,minAmount:C.target.value}))})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"maxAmount",children:"最大金額"}),a.jsx(le,{id:"maxAmount",type:"number",placeholder:"1000000",value:v.maxAmount,onChange:C=>m(P=>({...P,maxAmount:C.target.value}))})]})]})]})]})})]}),o.length>0&&a.jsxs(ue,{children:[a.jsxs(xe,{children:[a.jsx(ye,{children:"搜索結果"}),a.jsxs(rt,{children:["找到 ",x.length," 預約 ",x.length!==o.length&&`(總共 ${o.length})`]})]}),a.jsx(he,{children:a.jsx("div",{className:"space-y-4",children:x.map(C=>a.jsx(ue,{className:"hover:shadow-md transition-shadow",children:a.jsx(he,{className:"p-4",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx("h3",{className:"font-semibold",children:C.driverName}),S(C.status)]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(fa,{className:"h-4 w-4"}),a.jsx("span",{children:C.phone})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ir,{className:"h-4 w-4"}),a.jsx("span",{children:C.licensePlate})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Is,{className:"h-4 w-4"}),a.jsx("span",{children:C.parkingType.name}),a.jsx("span",{className:"text-lg",children:A(C.parkingType)})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Et,{className:"h-4 w-4"}),a.jsxs("span",{children:["進入停車場: ",N(C.checkInTime)]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(qr,{className:"h-4 w-4"}),a.jsxs("span",{children:["離開停車場: ",N(C.checkOutTime)]})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsxs("span",{className:"font-medium",children:["總金額: ",w(C.finalAmount)]})}),C.discountAmount>0&&a.jsx("div",{className:"flex items-center space-x-2 text-green-600",children:a.jsxs("span",{className:"text-xs",children:["🎫 折扣: -",w(C.discountAmount)]})}),C.vipDiscount&&C.vipDiscount>0&&a.jsx("div",{className:"flex items-center space-x-2 text-blue-600",children:a.jsxs("span",{className:"text-xs",children:["👑 VIP: -",w(C.vipDiscount)]})})]})]}),C.addonServices&&C.addonServices.length>0&&a.jsxs("div",{className:"mt-3",children:[a.jsx("div",{className:"text-sm font-medium text-gray-700 mb-1",children:"附加服務:"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:C.addonServices.map((P,k)=>{var T,E,I;return a.jsxs(Le,{variant:"outline",className:"text-xs",children:[((T=P.service)==null?void 0:T.icon)||P.icon||"🔧"," ",((E=P.service)==null?void 0:E.name)||P.name||"Unknown Service"," - ",w(((I=P.service)==null?void 0:I.price)||P.price||0)]},k)})})]})]}),a.jsxs(W,{variant:"outline",size:"sm",onClick:()=>j(C._id),children:[a.jsx(Ou,{className:"h-4 w-4 mr-1"}),"詳細信息"]})]})})},C._id))})})]}),o.length===0&&!s&&r&&a.jsx(ue,{children:a.jsxs(he,{className:"p-8 text-center",children:[a.jsx(Pi,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"找不到預約"}),a.jsxs("p",{className:"text-gray-500",children:["找不到任何預約與 ",e==="phone"?"電話號碼":"車牌號碼"," 相關。"]})]})}),a.jsx(ft,{open:d,onOpenChange:f,children:a.jsxs(it,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[a.jsxs(ot,{children:[a.jsx(lt,{children:"預約詳細信息"}),a.jsx(ut,{children:"預約詳細信息"})]}),l&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsxs("h4",{className:"font-semibold mb-3 flex items-center",children:[a.jsx(Nr,{className:"h-4 w-4 mr-2"}),"客戶信息"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"姓名:"})," ",l.driverName]}),a.jsxs("div",{children:[a.jsx("strong",{children:"電話號碼:"})," ",l.phone]}),a.jsxs("div",{children:[a.jsx("strong",{children:"電子郵件:"})," ",l.email]}),a.jsxs("div",{children:[a.jsx("strong",{children:"VIP 狀態:"})," ",l.isVIP?"👑 VIP 會員":"普通客戶"]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"車牌號碼:"})," ",l.licensePlate]}),a.jsxs("div",{children:[a.jsx("strong",{children:"乘客:"})," ",l.passengerCount," 人"]}),a.jsxs("div",{children:[a.jsx("strong",{children:"行李:"})," ",l.luggageCount," 件"]})]})]})]}),a.jsxs("div",{children:[a.jsxs("h4",{className:"font-semibold mb-3 flex items-center",children:[a.jsx(Et,{className:"h-4 w-4 mr-2"}),"預約信息"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"停車場:"})," ",l.parkingType.name]}),a.jsxs("div",{children:[a.jsx("strong",{children:"類型:"})," ",A(l.parkingType)," ",l.parkingType.type||"indoor"]}),a.jsxs("div",{children:[a.jsx("strong",{children:"狀態:"})," ",S(l.status)]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"進入停車場:"})," ",N(l.checkInTime)]}),a.jsxs("div",{children:[a.jsx("strong",{children:"離開停車場:"})," ",N(l.checkOutTime)]}),a.jsxs("div",{children:[a.jsx("strong",{children:"VIP:"})," ",l.isVIP?"是":"否"]})]})]})]}),(l.estimatedArrivalTime||l.flightNumber||l.notes)&&a.jsxs("div",{children:[a.jsxs("h4",{className:"font-semibold mb-3 flex items-center",children:[a.jsx(Ou,{className:"h-4 w-4 mr-2"}),"附加信息"]}),a.jsxs("div",{className:"space-y-2 text-sm",children:[l.estimatedArrivalTime&&a.jsxs("div",{children:[a.jsx("strong",{children:"預計到達時間:"})," ",N(l.estimatedArrivalTime)]}),l.flightNumber&&a.jsxs("div",{children:[a.jsx("strong",{children:"航班號:"})," ",l.flightNumber]}),l.notes&&a.jsxs("div",{children:[a.jsx("strong",{children:"備註:"})," ",l.notes]})]})]}),l.addonServices&&l.addonServices.length>0&&a.jsxs("div",{children:[a.jsxs("h4",{className:"font-semibold mb-3 flex items-center",children:[a.jsx(bi,{className:"h-4 w-4 mr-2"}),"附加服務"]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:l.addonServices.map((C,P)=>{var k,T,E;return a.jsxs(Le,{variant:"outline",children:[((k=C.service)==null?void 0:k.icon)||C.icon||"🔧"," ",((T=C.service)==null?void 0:T.name)||C.name||"Unknown Service"," - ",w(((E=C.service)==null?void 0:E.price)||C.price||0)]},P)})})]}),a.jsxs("div",{children:[a.jsxs("h4",{className:"font-semibold mb-3 flex items-center",children:[a.jsx("span",{className:"text-lg mr-2",children:"💰"}),"付款信息"]}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"總金額:"})," ",w(l.totalAmount)]}),l.discountAmount>0&&a.jsx("div",{className:"bg-green-50 p-2 rounded",children:a.jsxs("div",{children:[a.jsx("strong",{children:"🎫 折扣:"})," -",w(l.discountAmount)]})}),l.vipDiscount&&l.vipDiscount>0&&a.jsx("div",{className:"bg-blue-50 p-2 rounded",children:a.jsxs("div",{children:[a.jsx("strong",{children:"👑 VIP 折扣:"})," -",w(l.vipDiscount)]})}),a.jsxs("div",{className:"border-t pt-2",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"總折扣:"})," -",w((l.discountAmount||0)+(l.vipDiscount||0))]}),a.jsxs("div",{children:[a.jsx("strong",{children:"付款:"})," ",w(l.finalAmount)]})]}),a.jsxs("div",{children:[a.jsx("strong",{children:"付款方式:"})," ",l.paymentMethod]}),a.jsxs("div",{children:[a.jsx("strong",{children:"付款狀態:"})," ",l.paymentStatus]})]})]})]}),a.jsx(ct,{children:a.jsx(W,{variant:"outline",onClick:()=>f(!1),children:"關閉"})})]})})]})};var Ol=e=>e.type==="checkbox",bs=e=>e instanceof Date,vr=e=>e==null;const bS=e=>typeof e=="object";var Lt=e=>!vr(e)&&!Array.isArray(e)&&bS(e)&&!bs(e),vR=e=>Lt(e)&&e.target?Ol(e.target)?e.target.checked:e.target.value:e,xR=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,yR=(e,t)=>e.has(xR(t)),bR=e=>{const t=e.constructor&&e.constructor.prototype;return Lt(t)&&t.hasOwnProperty("isPrototypeOf")},Xg=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Qr(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(Xg&&(e instanceof Blob||n))&&(r||Lt(e)))if(t=r?[]:{},!r&&!bR(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=Qr(e[s]));else return e;return t}var xf=e=>Array.isArray(e)?e.filter(Boolean):[],Ut=e=>e===void 0,$e=(e,t,r)=>{if(!t||!Lt(e))return r;const n=xf(t.split(/[,[\].]+?/)).reduce((s,i)=>vr(s)?s:s[i],e);return Ut(n)||n===e?Ut(e[t])?r:e[t]:n},Pn=e=>typeof e=="boolean",Yg=e=>/^\w*$/.test(e),jS=e=>xf(e.replace(/["|']|\]/g,"").split(/\.|\[/)),gt=(e,t,r)=>{let n=-1;const s=Yg(t)?[t]:jS(t),i=s.length,o=i-1;for(;++n<i;){const c=s[n];let l=r;if(n!==o){const u=e[c];l=Lt(u)||Array.isArray(u)?u:isNaN(+s[n+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;e[c]=l,e=e[c]}return e};const Ty={BLUR:"blur",FOCUS_OUT:"focusout"},mn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ra={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};D.createContext(null);var jR=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const o=i;return t._proxyFormState[o]!==mn.all&&(t._proxyFormState[o]=!n||mn.all),e[o]}});return s},wr=e=>Lt(e)&&!Object.keys(e).length,wR=(e,t,r,n)=>{r(e);const{name:s,...i}=e;return wr(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===mn.all)},xu=e=>Array.isArray(e)?e:[e];function NR(e){const t=D.useRef(e);t.current=e,D.useEffect(()=>{const r=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{r&&r.unsubscribe()}},[e.disabled])}var $n=e=>typeof e=="string",SR=(e,t,r,n,s)=>$n(e)?(n&&t.watch.add(e),$e(r,e,s)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),$e(r,i))):(n&&(t.watchAll=!0),r),wS=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},Ey=e=>({isOnSubmit:!e||e===mn.onSubmit,isOnBlur:e===mn.onBlur,isOnChange:e===mn.onChange,isOnAll:e===mn.all,isOnTouch:e===mn.onTouched}),$y=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const hc=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const i=$e(e,s);if(i){const{_f:o,...c}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],s)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(hc(c,t))break}else if(Lt(c)&&hc(c,t))break}}};var AR=(e,t,r)=>{const n=xu($e(e,r));return gt(n,"root",t[r]),gt(e,r,n),e},Jg=e=>e.type==="file",kn=e=>typeof e=="function",Eu=e=>{if(!Xg)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},yu=e=>$n(e),Qg=e=>e.type==="radio",$u=e=>e instanceof RegExp;const Dy={value:!1,isValid:!1},Iy={value:!0,isValid:!0};var NS=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Ut(e[0].attributes.value)?Ut(e[0].value)||e[0].value===""?Iy:{value:e[0].value,isValid:!0}:Iy:Dy}return Dy};const My={isValid:!1,value:null};var SS=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,My):My;function Ry(e,t,r="validate"){if(yu(e)||Array.isArray(e)&&e.every(yu)||Pn(e)&&!e)return{type:r,message:yu(e)?e:"",ref:t}}var fi=e=>Lt(e)&&!$u(e)?e:{value:e,message:""},Ly=async(e,t,r,n,s,i)=>{const{ref:o,refs:c,required:l,maxLength:u,minLength:d,min:f,max:h,pattern:p,validate:v,name:m,valueAsNumber:x,mount:b}=e._f,y=$e(r,m);if(!b||t.has(m))return{};const j=c?c[0]:o,S=k=>{s&&j.reportValidity&&(j.setCustomValidity(Pn(k)?"":k||""),j.reportValidity())},N={},w=Qg(o),A=Ol(o),O=w||A,_=(x||Jg(o))&&Ut(o.value)&&Ut(y)||Eu(o)&&o.value===""||y===""||Array.isArray(y)&&!y.length,C=wS.bind(null,m,n,N),P=(k,T,E,I=ra.maxLength,F=ra.minLength)=>{const $=k?T:E;N[m]={type:k?I:F,message:$,ref:o,...C(k?I:F,$)}};if(i?!Array.isArray(y)||!y.length:l&&(!O&&(_||vr(y))||Pn(y)&&!y||A&&!NS(c).isValid||w&&!SS(c).isValid)){const{value:k,message:T}=yu(l)?{value:!!l,message:l}:fi(l);if(k&&(N[m]={type:ra.required,message:T,ref:j,...C(ra.required,T)},!n))return S(T),N}if(!_&&(!vr(f)||!vr(h))){let k,T;const E=fi(h),I=fi(f);if(!vr(y)&&!isNaN(y)){const F=o.valueAsNumber||y&&+y;vr(E.value)||(k=F>E.value),vr(I.value)||(T=F<I.value)}else{const F=o.valueAsDate||new Date(y),$=J=>new Date(new Date().toDateString()+" "+J),q=o.type=="time",M=o.type=="week";$n(E.value)&&y&&(k=q?$(y)>$(E.value):M?y>E.value:F>new Date(E.value)),$n(I.value)&&y&&(T=q?$(y)<$(I.value):M?y<I.value:F<new Date(I.value))}if((k||T)&&(P(!!k,E.message,I.message,ra.max,ra.min),!n))return S(N[m].message),N}if((u||d)&&!_&&($n(y)||i&&Array.isArray(y))){const k=fi(u),T=fi(d),E=!vr(k.value)&&y.length>+k.value,I=!vr(T.value)&&y.length<+T.value;if((E||I)&&(P(E,k.message,T.message),!n))return S(N[m].message),N}if(p&&!_&&$n(y)){const{value:k,message:T}=fi(p);if($u(k)&&!y.match(k)&&(N[m]={type:ra.pattern,message:T,ref:o,...C(ra.pattern,T)},!n))return S(T),N}if(v){if(kn(v)){const k=await v(y,r),T=Ry(k,j);if(T&&(N[m]={...T,...C(ra.validate,T.message)},!n))return S(T.message),N}else if(Lt(v)){let k={};for(const T in v){if(!wr(k)&&!n)break;const E=Ry(await v[T](y,r),j,T);E&&(k={...E,...C(T,E.message)},S(E.message),n&&(N[m]=k))}if(!wr(k)&&(N[m]={ref:j,...k},!n))return N}}return S(!0),N};function OR(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Ut(e)?n++:e[t[n++]];return e}function _R(e){for(const t in e)if(e.hasOwnProperty(t)&&!Ut(e[t]))return!1;return!0}function Gt(e,t){const r=Array.isArray(t)?t:Yg(t)?[t]:jS(t),n=r.length===1?e:OR(e,r),s=r.length-1,i=r[s];return n&&delete n[i],s!==0&&(Lt(n)&&wr(n)||Array.isArray(n)&&_R(n))&&Gt(e,r.slice(0,-1)),e}var Dh=()=>{let e=[];return{get observers(){return e},next:s=>{for(const i of e)i.next&&i.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(i=>i!==s)}}),unsubscribe:()=>{e=[]}}},Lm=e=>vr(e)||!bS(e);function Ra(e,t){if(Lm(e)||Lm(t))return e===t;if(bs(e)&&bs(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const s of r){const i=e[s];if(!n.includes(s))return!1;if(s!=="ref"){const o=t[s];if(bs(i)&&bs(o)||Lt(i)&&Lt(o)||Array.isArray(i)&&Array.isArray(o)?!Ra(i,o):i!==o)return!1}}return!0}var AS=e=>e.type==="select-multiple",PR=e=>Qg(e)||Ol(e),Ih=e=>Eu(e)&&e.isConnected,OS=e=>{for(const t in e)if(kn(e[t]))return!0;return!1};function Du(e,t={}){const r=Array.isArray(e);if(Lt(e)||r)for(const n in e)Array.isArray(e[n])||Lt(e[n])&&!OS(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Du(e[n],t[n])):vr(e[n])||(t[n]=!0);return t}function _S(e,t,r){const n=Array.isArray(e);if(Lt(e)||n)for(const s in e)Array.isArray(e[s])||Lt(e[s])&&!OS(e[s])?Ut(t)||Lm(r[s])?r[s]=Array.isArray(e[s])?Du(e[s],[]):{...Du(e[s])}:_S(e[s],vr(t)?{}:t[s],r[s]):r[s]=!Ra(e[s],t[s]);return r}var qo=(e,t)=>_S(e,t,Du(t)),PS=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Ut(e)?e:t?e===""?NaN:e&&+e:r&&$n(e)?new Date(e):n?n(e):e;function Mh(e){const t=e.ref;return Jg(t)?t.files:Qg(t)?SS(e.refs).value:AS(t)?[...t.selectedOptions].map(({value:r})=>r):Ol(t)?NS(e.refs).value:PS(Ut(t.value)?e.ref.value:t.value,e)}var CR=(e,t,r,n)=>{const s={};for(const i of e){const o=$e(t,i);o&&gt(s,i,o._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},Ko=e=>Ut(e)?e:$u(e)?e.source:Lt(e)?$u(e.value)?e.value.source:e.value:e;const Fy="AsyncFunction";var kR=e=>!!e&&!!e.validate&&!!(kn(e.validate)&&e.validate.constructor.name===Fy||Lt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===Fy)),TR=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function By(e,t,r){const n=$e(e,r);if(n||Yg(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const i=s.join("."),o=$e(t,i),c=$e(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(c&&c.type)return{name:i,error:c};s.pop()}return{name:r}}var ER=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,$R=(e,t)=>!xf($e(e,t)).length&&Gt(e,t);const DR={mode:mn.onSubmit,reValidateMode:mn.onChange,shouldFocusError:!0};function IR(e={}){let t={...DR,...e},r={submitCount:0,isDirty:!1,isLoading:kn(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},s=Lt(t.defaultValues)||Lt(t.values)?Qr(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:Qr(s),o={action:!1,mount:!1,watch:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:Dh(),array:Dh(),state:Dh()},h=Ey(t.mode),p=Ey(t.reValidateMode),v=t.criteriaMode===mn.all,m=L=>X=>{clearTimeout(u),u=setTimeout(L,X)},x=async L=>{if(!t.disabled&&(d.isValid||L)){const X=t.resolver?wr((await O()).errors):await C(n,!0);X!==r.isValid&&f.state.next({isValid:X})}},b=(L,X)=>{!t.disabled&&(d.isValidating||d.validatingFields)&&((L||Array.from(c.mount)).forEach(Q=>{Q&&(X?gt(r.validatingFields,Q,X):Gt(r.validatingFields,Q))}),f.state.next({validatingFields:r.validatingFields,isValidating:!wr(r.validatingFields)}))},y=(L,X=[],Q,K,ae=!0,oe=!0)=>{if(K&&Q&&!t.disabled){if(o.action=!0,oe&&Array.isArray($e(n,L))){const Ce=Q($e(n,L),K.argA,K.argB);ae&&gt(n,L,Ce)}if(oe&&Array.isArray($e(r.errors,L))){const Ce=Q($e(r.errors,L),K.argA,K.argB);ae&&gt(r.errors,L,Ce),$R(r.errors,L)}if(d.touchedFields&&oe&&Array.isArray($e(r.touchedFields,L))){const Ce=Q($e(r.touchedFields,L),K.argA,K.argB);ae&&gt(r.touchedFields,L,Ce)}d.dirtyFields&&(r.dirtyFields=qo(s,i)),f.state.next({name:L,isDirty:k(L,X),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else gt(i,L,X)},j=(L,X)=>{gt(r.errors,L,X),f.state.next({errors:r.errors})},S=L=>{r.errors=L,f.state.next({errors:r.errors,isValid:!1})},N=(L,X,Q,K)=>{const ae=$e(n,L);if(ae){const oe=$e(i,L,Ut(Q)?$e(s,L):Q);Ut(oe)||K&&K.defaultChecked||X?gt(i,L,X?oe:Mh(ae._f)):I(L,oe),o.mount&&x()}},w=(L,X,Q,K,ae)=>{let oe=!1,Ce=!1;const re={name:L};if(!t.disabled){const Te=!!($e(n,L)&&$e(n,L)._f&&$e(n,L)._f.disabled);if(!Q||K){d.isDirty&&(Ce=r.isDirty,r.isDirty=re.isDirty=k(),oe=Ce!==re.isDirty);const te=Te||Ra($e(s,L),X);Ce=!!(!Te&&$e(r.dirtyFields,L)),te||Te?Gt(r.dirtyFields,L):gt(r.dirtyFields,L,!0),re.dirtyFields=r.dirtyFields,oe=oe||d.dirtyFields&&Ce!==!te}if(Q){const te=$e(r.touchedFields,L);te||(gt(r.touchedFields,L,Q),re.touchedFields=r.touchedFields,oe=oe||d.touchedFields&&te!==Q)}oe&&ae&&f.state.next(re)}return oe?re:{}},A=(L,X,Q,K)=>{const ae=$e(r.errors,L),oe=d.isValid&&Pn(X)&&r.isValid!==X;if(t.delayError&&Q?(l=m(()=>j(L,Q)),l(t.delayError)):(clearTimeout(u),l=null,Q?gt(r.errors,L,Q):Gt(r.errors,L)),(Q?!Ra(ae,Q):ae)||!wr(K)||oe){const Ce={...K,...oe&&Pn(X)?{isValid:X}:{},errors:r.errors,name:L};r={...r,...Ce},f.state.next(Ce)}},O=async L=>{b(L,!0);const X=await t.resolver(i,t.context,CR(L||c.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return b(L),X},_=async L=>{const{errors:X}=await O(L);if(L)for(const Q of L){const K=$e(X,Q);K?gt(r.errors,Q,K):Gt(r.errors,Q)}else r.errors=X;return X},C=async(L,X,Q={valid:!0})=>{for(const K in L){const ae=L[K];if(ae){const{_f:oe,...Ce}=ae;if(oe){const re=c.array.has(oe.name),Te=ae._f&&kR(ae._f);Te&&d.validatingFields&&b([K],!0);const te=await Ly(ae,c.disabled,i,v,t.shouldUseNativeValidation&&!X,re);if(Te&&d.validatingFields&&b([K]),te[oe.name]&&(Q.valid=!1,X))break;!X&&($e(te,oe.name)?re?AR(r.errors,te,oe.name):gt(r.errors,oe.name,te[oe.name]):Gt(r.errors,oe.name))}!wr(Ce)&&await C(Ce,X,Q)}}return Q.valid},P=()=>{for(const L of c.unMount){const X=$e(n,L);X&&(X._f.refs?X._f.refs.every(Q=>!Ih(Q)):!Ih(X._f.ref))&&we(L)}c.unMount=new Set},k=(L,X)=>!t.disabled&&(L&&X&&gt(i,L,X),!Ra(V(),s)),T=(L,X,Q)=>SR(L,c,{...o.mount?i:Ut(X)?s:$n(L)?{[L]:X}:X},Q,X),E=L=>xf($e(o.mount?i:s,L,t.shouldUnregister?$e(s,L,[]):[])),I=(L,X,Q={})=>{const K=$e(n,L);let ae=X;if(K){const oe=K._f;oe&&(!oe.disabled&&gt(i,L,PS(X,oe)),ae=Eu(oe.ref)&&vr(X)?"":X,AS(oe.ref)?[...oe.ref.options].forEach(Ce=>Ce.selected=ae.includes(Ce.value)):oe.refs?Ol(oe.ref)?oe.refs.length>1?oe.refs.forEach(Ce=>(!Ce.defaultChecked||!Ce.disabled)&&(Ce.checked=Array.isArray(ae)?!!ae.find(re=>re===Ce.value):ae===Ce.value)):oe.refs[0]&&(oe.refs[0].checked=!!ae):oe.refs.forEach(Ce=>Ce.checked=Ce.value===ae):Jg(oe.ref)?oe.ref.value="":(oe.ref.value=ae,oe.ref.type||f.values.next({name:L,values:{...i}})))}(Q.shouldDirty||Q.shouldTouch)&&w(L,ae,Q.shouldTouch,Q.shouldDirty,!0),Q.shouldValidate&&J(L)},F=(L,X,Q)=>{for(const K in X){const ae=X[K],oe=`${L}.${K}`,Ce=$e(n,oe);(c.array.has(L)||Lt(ae)||Ce&&!Ce._f)&&!bs(ae)?F(oe,ae,Q):I(oe,ae,Q)}},$=(L,X,Q={})=>{const K=$e(n,L),ae=c.array.has(L),oe=Qr(X);gt(i,L,oe),ae?(f.array.next({name:L,values:{...i}}),(d.isDirty||d.dirtyFields)&&Q.shouldDirty&&f.state.next({name:L,dirtyFields:qo(s,i),isDirty:k(L,oe)})):K&&!K._f&&!vr(oe)?F(L,oe,Q):I(L,oe,Q),$y(L,c)&&f.state.next({...r}),f.values.next({name:o.mount?L:void 0,values:{...i}})},q=async L=>{o.mount=!0;const X=L.target;let Q=X.name,K=!0;const ae=$e(n,Q),oe=()=>X.type?Mh(ae._f):vR(L),Ce=re=>{K=Number.isNaN(re)||bs(re)&&isNaN(re.getTime())||Ra(re,$e(i,Q,re))};if(ae){let re,Te;const te=oe(),me=L.type===Ty.BLUR||L.type===Ty.FOCUS_OUT,Be=!TR(ae._f)&&!t.resolver&&!$e(r.errors,Q)&&!ae._f.deps||ER(me,$e(r.touchedFields,Q),r.isSubmitted,p,h),U=$y(Q,c,me);gt(i,Q,te),me?(ae._f.onBlur&&ae._f.onBlur(L),l&&l(0)):ae._f.onChange&&ae._f.onChange(L);const ie=w(Q,te,me,!1),Ve=!wr(ie)||U;if(!me&&f.values.next({name:Q,type:L.type,values:{...i}}),Be)return d.isValid&&(t.mode==="onBlur"&&me?x():me||x()),Ve&&f.state.next({name:Q,...U?{}:ie});if(!me&&U&&f.state.next({...r}),t.resolver){const{errors:Ee}=await O([Q]);if(Ce(te),K){const Je=By(r.errors,n,Q),Ct=By(Ee,n,Je.name||Q);re=Ct.error,Q=Ct.name,Te=wr(Ee)}}else b([Q],!0),re=(await Ly(ae,c.disabled,i,v,t.shouldUseNativeValidation))[Q],b([Q]),Ce(te),K&&(re?Te=!1:d.isValid&&(Te=await C(n,!0)));K&&(ae._f.deps&&J(ae._f.deps),A(Q,Te,re,ie))}},M=(L,X)=>{if($e(r.errors,X)&&L.focus)return L.focus(),1},J=async(L,X={})=>{let Q,K;const ae=xu(L);if(t.resolver){const oe=await _(Ut(L)?L:ae);Q=wr(oe),K=L?!ae.some(Ce=>$e(oe,Ce)):Q}else L?(K=(await Promise.all(ae.map(async oe=>{const Ce=$e(n,oe);return await C(Ce&&Ce._f?{[oe]:Ce}:Ce)}))).every(Boolean),!(!K&&!r.isValid)&&x()):K=Q=await C(n);return f.state.next({...!$n(L)||d.isValid&&Q!==r.isValid?{}:{name:L},...t.resolver||!L?{isValid:Q}:{},errors:r.errors}),X.shouldFocus&&!K&&hc(n,M,L?ae:c.mount),K},V=L=>{const X={...o.mount?i:s};return Ut(L)?X:$n(L)?$e(X,L):L.map(Q=>$e(X,Q))},z=(L,X)=>({invalid:!!$e((X||r).errors,L),isDirty:!!$e((X||r).dirtyFields,L),error:$e((X||r).errors,L),isValidating:!!$e(r.validatingFields,L),isTouched:!!$e((X||r).touchedFields,L)}),B=L=>{L&&xu(L).forEach(X=>Gt(r.errors,X)),f.state.next({errors:L?r.errors:{}})},G=(L,X,Q)=>{const K=($e(n,L,{_f:{}})._f||{}).ref,ae=$e(r.errors,L)||{},{ref:oe,message:Ce,type:re,...Te}=ae;gt(r.errors,L,{...Te,...X,ref:K}),f.state.next({name:L,errors:r.errors,isValid:!1}),Q&&Q.shouldFocus&&K&&K.focus&&K.focus()},ce=(L,X)=>kn(L)?f.values.subscribe({next:Q=>L(T(void 0,X),Q)}):T(L,X,!0),we=(L,X={})=>{for(const Q of L?xu(L):c.mount)c.mount.delete(Q),c.array.delete(Q),X.keepValue||(Gt(n,Q),Gt(i,Q)),!X.keepError&&Gt(r.errors,Q),!X.keepDirty&&Gt(r.dirtyFields,Q),!X.keepTouched&&Gt(r.touchedFields,Q),!X.keepIsValidating&&Gt(r.validatingFields,Q),!t.shouldUnregister&&!X.keepDefaultValue&&Gt(s,Q);f.values.next({values:{...i}}),f.state.next({...r,...X.keepDirty?{isDirty:k()}:{}}),!X.keepIsValid&&x()},pe=({disabled:L,name:X,field:Q,fields:K})=>{(Pn(L)&&o.mount||L||c.disabled.has(X))&&(L?c.disabled.add(X):c.disabled.delete(X),w(X,Mh(Q?Q._f:$e(K,X)._f),!1,!1,!0))},Oe=(L,X={})=>{let Q=$e(n,L);const K=Pn(X.disabled)||Pn(t.disabled);return gt(n,L,{...Q||{},_f:{...Q&&Q._f?Q._f:{ref:{name:L}},name:L,mount:!0,...X}}),c.mount.add(L),Q?pe({field:Q,disabled:Pn(X.disabled)?X.disabled:t.disabled,name:L}):N(L,!0,X.value),{...K?{disabled:X.disabled||t.disabled}:{},...t.progressive?{required:!!X.required,min:Ko(X.min),max:Ko(X.max),minLength:Ko(X.minLength),maxLength:Ko(X.maxLength),pattern:Ko(X.pattern)}:{},name:L,onChange:q,onBlur:q,ref:ae=>{if(ae){Oe(L,X),Q=$e(n,L);const oe=Ut(ae.value)&&ae.querySelectorAll&&ae.querySelectorAll("input,select,textarea")[0]||ae,Ce=PR(oe),re=Q._f.refs||[];if(Ce?re.find(Te=>Te===oe):oe===Q._f.ref)return;gt(n,L,{_f:{...Q._f,...Ce?{refs:[...re.filter(Ih),oe,...Array.isArray($e(s,L))?[{}]:[]],ref:{type:oe.type,name:L}}:{ref:oe}}}),N(L,!1,void 0,oe)}else Q=$e(n,L,{}),Q._f&&(Q._f.mount=!1),(t.shouldUnregister||X.shouldUnregister)&&!(yR(c.array,L)&&o.action)&&c.unMount.add(L)}}},R=()=>t.shouldFocusError&&hc(n,M,c.mount),de=L=>{Pn(L)&&(f.state.next({disabled:L}),hc(n,(X,Q)=>{const K=$e(n,Q);K&&(X.disabled=K._f.disabled||L,Array.isArray(K._f.refs)&&K._f.refs.forEach(ae=>{ae.disabled=K._f.disabled||L}))},0,!1))},fe=(L,X)=>async Q=>{let K;Q&&(Q.preventDefault&&Q.preventDefault(),Q.persist&&Q.persist());let ae=Qr(i);if(c.disabled.size)for(const oe of c.disabled)gt(ae,oe,void 0);if(f.state.next({isSubmitting:!0}),t.resolver){const{errors:oe,values:Ce}=await O();r.errors=oe,ae=Ce}else await C(n);if(Gt(r.errors,"root"),wr(r.errors)){f.state.next({errors:{}});try{await L(ae,Q)}catch(oe){K=oe}}else X&&await X({...r.errors},Q),R(),setTimeout(R);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:wr(r.errors)&&!K,submitCount:r.submitCount+1,errors:r.errors}),K)throw K},ee=(L,X={})=>{$e(n,L)&&(Ut(X.defaultValue)?$(L,Qr($e(s,L))):($(L,X.defaultValue),gt(s,L,Qr(X.defaultValue))),X.keepTouched||Gt(r.touchedFields,L),X.keepDirty||(Gt(r.dirtyFields,L),r.isDirty=X.defaultValue?k(L,Qr($e(s,L))):k()),X.keepError||(Gt(r.errors,L),d.isValid&&x()),f.state.next({...r}))},Me=(L,X={})=>{const Q=L?Qr(L):s,K=Qr(Q),ae=wr(L),oe=ae?s:K;if(X.keepDefaultValues||(s=Q),!X.keepValues){if(X.keepDirtyValues){const Ce=new Set([...c.mount,...Object.keys(qo(s,i))]);for(const re of Array.from(Ce))$e(r.dirtyFields,re)?gt(oe,re,$e(i,re)):$(re,$e(oe,re))}else{if(Xg&&Ut(L))for(const Ce of c.mount){const re=$e(n,Ce);if(re&&re._f){const Te=Array.isArray(re._f.refs)?re._f.refs[0]:re._f.ref;if(Eu(Te)){const te=Te.closest("form");if(te){te.reset();break}}}}n={}}i=t.shouldUnregister?X.keepDefaultValues?Qr(s):{}:Qr(oe),f.array.next({values:{...oe}}),f.values.next({values:{...oe}})}c={mount:X.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!X.keepIsValid||!!X.keepDirtyValues,o.watch=!!t.shouldUnregister,f.state.next({submitCount:X.keepSubmitCount?r.submitCount:0,isDirty:ae?!1:X.keepDirty?r.isDirty:!!(X.keepDefaultValues&&!Ra(L,s)),isSubmitted:X.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ae?{}:X.keepDirtyValues?X.keepDefaultValues&&i?qo(s,i):r.dirtyFields:X.keepDefaultValues&&L?qo(s,L):X.keepDirty?r.dirtyFields:{},touchedFields:X.keepTouched?r.touchedFields:{},errors:X.keepErrors?r.errors:{},isSubmitSuccessful:X.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Se=(L,X)=>Me(kn(L)?L(i):L,X);return{control:{register:Oe,unregister:we,getFieldState:z,handleSubmit:fe,setError:G,_executeSchema:O,_getWatch:T,_getDirty:k,_updateValid:x,_removeUnmounted:P,_updateFieldArray:y,_updateDisabledField:pe,_getFieldArray:E,_reset:Me,_resetDefaultValues:()=>kn(t.defaultValues)&&t.defaultValues().then(L=>{Se(L,t.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:L=>{r={...r,...L}},_disableForm:de,_subjects:f,_proxyFormState:d,_setErrors:S,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(L){o=L},get _defaultValues(){return s},get _names(){return c},set _names(L){c=L},get _formState(){return r},set _formState(L){r=L},get _options(){return t},set _options(L){t={...t,...L}}},trigger:J,register:Oe,handleSubmit:fe,watch:ce,setValue:$,getValues:V,reset:Se,resetField:ee,clearErrors:B,unregister:we,setError:G,setFocus:(L,X={})=>{const Q=$e(n,L),K=Q&&Q._f;if(K){const ae=K.refs?K.refs[0]:K.ref;ae.focus&&(ae.focus(),X.shouldSelect&&kn(ae.select)&&ae.select())}},getFieldState:z}}function CS(e={}){const t=D.useRef(void 0),r=D.useRef(void 0),[n,s]=D.useState({isDirty:!1,isValidating:!1,isLoading:kn(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:kn(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...IR(e),formState:n});const i=t.current.control;return i._options=e,NR({subject:i._subjects.state,next:o=>{wR(o,i._proxyFormState,i._updateFormState)&&s({...i._formState})}}),D.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),D.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),D.useEffect(()=>{e.values&&!Ra(e.values,r.current)?(i._reset(e.values,i._options.resetOptions),r.current=e.values,s(o=>({...o}))):i._resetDefaultValues()},[e.values,i]),D.useEffect(()=>{e.errors&&i._setErrors(e.errors)},[e.errors,i]),D.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),D.useEffect(()=>{e.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})},[e.shouldUnregister,i]),t.current.formState=jR(n,i),t.current}const Vy=(e,t,r)=>{if(e&&"reportValidity"in e){const n=$e(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},kS=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?Vy(n.ref,r,e):n.refs&&n.refs.forEach(s=>Vy(s,r,e))}},MR=(e,t)=>{t.shouldUseNativeValidation&&kS(e,t);const r={};for(const n in e){const s=$e(t.fields,n),i=Object.assign(e[n]||{},{ref:s&&s.ref});if(RR(t.names||Object.keys(e),n)){const o=Object.assign({},$e(r,n));gt(o,"root",i),gt(r,n,o)}else gt(r,n,i)}return r},RR=(e,t)=>e.some(r=>r.startsWith(t+"."));var LR=function(e,t){for(var r={};e.length;){var n=e[0],s=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var c=n.unionErrors[0].errors[0];r[o]={message:c.message,type:c.code}}else r[o]={message:i,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var l=r[o].types,u=l&&l[n.code];r[o]=wS(o,t,r,s,u?[].concat(u,n.message):n.message)}e.shift()}return r},TS=function(e,t,r){return r===void 0&&(r={}),function(n,s,i){try{return Promise.resolve(function(o,c){try{var l=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return i.shouldUseNativeValidation&&kS({},i),{errors:{},values:r.raw?n:u}})}catch(u){return c(u)}return l&&l.then?l.then(void 0,c):l}(0,function(o){if(function(c){return Array.isArray(c==null?void 0:c.errors)}(o))return{values:{},errors:MR(LR(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},dt;(function(e){e.assertEqual=s=>s;function t(s){}e.assertIs=t;function r(s){throw new Error}e.assertNever=r,e.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},e.getValidEnumValues=s=>{const i=e.objectKeys(s).filter(c=>typeof s[s[c]]!="number"),o={};for(const c of i)o[c]=s[c];return e.objectValues(o)},e.objectValues=s=>e.objectKeys(s).map(function(i){return s[i]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},e.find=(s,i)=>{for(const o of s)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function n(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(dt||(dt={}));var Fm;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(Fm||(Fm={}));const ke=dt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ia=e=>{switch(typeof e){case"undefined":return ke.undefined;case"string":return ke.string;case"number":return isNaN(e)?ke.nan:ke.number;case"boolean":return ke.boolean;case"function":return ke.function;case"bigint":return ke.bigint;case"symbol":return ke.symbol;case"object":return Array.isArray(e)?ke.array:e===null?ke.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?ke.promise:typeof Map<"u"&&e instanceof Map?ke.map:typeof Set<"u"&&e instanceof Set?ke.set:typeof Date<"u"&&e instanceof Date?ke.date:ke.object;default:return ke.unknown}},ge=dt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),FR=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class Fr extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},n={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let c=n,l=0;for(;l<o.path.length;){const u=o.path[l];l===o.path.length-1?(c[u]=c[u]||{_errors:[]},c[u]._errors.push(r(o))):c[u]=c[u]||{_errors:[]},c=c[u],l++}}};return s(this),n}static assert(t){if(!(t instanceof Fr))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,dt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const s of this.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(t(s))):n.push(t(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Fr.create=e=>new Fr(e);const Bi=(e,t)=>{let r;switch(e.code){case ge.invalid_type:e.received===ke.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case ge.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,dt.jsonStringifyReplacer)}`;break;case ge.unrecognized_keys:r=`Unrecognized key(s) in object: ${dt.joinValues(e.keys,", ")}`;break;case ge.invalid_union:r="Invalid input";break;case ge.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${dt.joinValues(e.options)}`;break;case ge.invalid_enum_value:r=`Invalid enum value. Expected ${dt.joinValues(e.options)}, received '${e.received}'`;break;case ge.invalid_arguments:r="Invalid function arguments";break;case ge.invalid_return_type:r="Invalid function return type";break;case ge.invalid_date:r="Invalid date";break;case ge.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:dt.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case ge.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case ge.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case ge.custom:r="Invalid input";break;case ge.invalid_intersection_types:r="Intersection results could not be merged";break;case ge.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case ge.not_finite:r="Number must be finite";break;default:r=t.defaultError,dt.assertNever(e)}return{message:r}};let ES=Bi;function BR(e){ES=e}function Iu(){return ES}const Mu=e=>{const{data:t,path:r,errorMaps:n,issueData:s}=e,i=[...r,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let c="";const l=n.filter(u=>!!u).slice().reverse();for(const u of l)c=u(o,{data:t,defaultError:c}).message;return{...s,path:i,message:c}},VR=[];function je(e,t){const r=Iu(),n=Mu({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===Bi?void 0:Bi].filter(s=>!!s)});e.common.issues.push(n)}class gr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const s of r){if(s.status==="aborted")return Ke;s.status==="dirty"&&t.dirty(),n.push(s.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const s of r){const i=await s.key,o=await s.value;n.push({key:i,value:o})}return gr.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const s of r){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return Ke;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(n[i.value]=o.value)}return{status:t.value,value:n}}}const Ke=Object.freeze({status:"aborted"}),ji=e=>({status:"dirty",value:e}),jr=e=>({status:"valid",value:e}),Bm=e=>e.status==="aborted",Vm=e=>e.status==="dirty",Rs=e=>e.status==="valid",Ac=e=>typeof Promise<"u"&&e instanceof Promise;function Ru(e,t,r,n){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function $S(e,t,r,n,s){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}var Re;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Re||(Re={}));var ic,oc;class Un{constructor(t,r,n,s){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const zy=(e,t)=>{if(Rs(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Fr(e.common.issues);return this._error=r,this._error}}};function Ye(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:s}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(o,c)=>{var l,u;const{message:d}=e;return o.code==="invalid_enum_value"?{message:d??c.defaultError}:typeof c.data>"u"?{message:(l=d??n)!==null&&l!==void 0?l:c.defaultError}:o.code!=="invalid_type"?{message:c.defaultError}:{message:(u=d??r)!==null&&u!==void 0?u:c.defaultError}},description:s}}class et{get description(){return this._def.description}_getType(t){return ia(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:ia(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new gr,ctx:{common:t.parent.common,data:t.data,parsedType:ia(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Ac(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){var n;const s={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ia(t)},i=this._parseSync({data:t,path:s.path,parent:s});return zy(s,i)}"~validate"(t){var r,n;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ia(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:s});return Rs(i)?{value:i.value}:{issues:s.common.issues}}catch(i){!((n=(r=i==null?void 0:i.message)===null||r===void 0?void 0:r.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:s}).then(i=>Rs(i)?{value:i.value}:{issues:s.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ia(t)},s=this._parse({data:t,path:n.path,parent:n}),i=await(Ac(s)?s:Promise.resolve(s));return zy(n,i)}refine(t,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,i)=>{const o=t(s),c=()=>i.addIssue({code:ge.custom,...n(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(c(),!1)):o?!0:(c(),!1)})}refinement(t,r){return this._refinement((n,s)=>t(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(t){return new yn({schema:this,typeName:qe.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Mn.create(this,this._def)}nullable(){return Za.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return vn.create(this)}promise(){return zi.create(this,this._def)}or(t){return Cc.create([this,t],this._def)}and(t){return kc.create(this,t,this._def)}transform(t){return new yn({...Ye(this._def),schema:this,typeName:qe.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new Ic({...Ye(this._def),innerType:this,defaultValue:r,typeName:qe.ZodDefault})}brand(){return new ev({typeName:qe.ZodBranded,type:this,...Ye(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new Mc({...Ye(this._def),innerType:this,catchValue:r,typeName:qe.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return _l.create(this,t)}readonly(){return Rc.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const zR=/^c[^\s-]{8,}$/i,UR=/^[0-9a-z]+$/,WR=/^[0-9A-HJKMNP-TV-Z]{26}$/i,HR=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,qR=/^[a-z0-9_-]{21}$/i,KR=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,GR=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,ZR=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,XR="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Rh;const YR=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,JR=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,QR=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,e4=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,t4=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,r4=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,DS="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",n4=new RegExp(`^${DS}$`);function IS(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function a4(e){return new RegExp(`^${IS(e)}$`)}function MS(e){let t=`${DS}T${IS(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function s4(e,t){return!!((t==="v4"||!t)&&YR.test(e)||(t==="v6"||!t)&&QR.test(e))}function i4(e,t){if(!KR.test(e))return!1;try{const[r]=e.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||!s.typ||!s.alg||t&&s.alg!==t)}catch{return!1}}function o4(e,t){return!!((t==="v4"||!t)&&JR.test(e)||(t==="v6"||!t)&&e4.test(e))}class gn extends et{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==ke.string){const i=this._getOrReturnCtx(t);return je(i,{code:ge.invalid_type,expected:ke.string,received:i.parsedType}),Ke}const n=new gr;let s;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(s=this._getOrReturnCtx(t,s),je(s,{code:ge.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(s=this._getOrReturnCtx(t,s),je(s,{code:ge.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,c=t.data.length<i.value;(o||c)&&(s=this._getOrReturnCtx(t,s),o?je(s,{code:ge.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):c&&je(s,{code:ge.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")ZR.test(t.data)||(s=this._getOrReturnCtx(t,s),je(s,{validation:"email",code:ge.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")Rh||(Rh=new RegExp(XR,"u")),Rh.test(t.data)||(s=this._getOrReturnCtx(t,s),je(s,{validation:"emoji",code:ge.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")HR.test(t.data)||(s=this._getOrReturnCtx(t,s),je(s,{validation:"uuid",code:ge.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")qR.test(t.data)||(s=this._getOrReturnCtx(t,s),je(s,{validation:"nanoid",code:ge.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")zR.test(t.data)||(s=this._getOrReturnCtx(t,s),je(s,{validation:"cuid",code:ge.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")UR.test(t.data)||(s=this._getOrReturnCtx(t,s),je(s,{validation:"cuid2",code:ge.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")WR.test(t.data)||(s=this._getOrReturnCtx(t,s),je(s,{validation:"ulid",code:ge.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),je(s,{validation:"url",code:ge.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),je(s,{validation:"regex",code:ge.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(t,s),je(s,{code:ge.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(s=this._getOrReturnCtx(t,s),je(s,{code:ge.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(s=this._getOrReturnCtx(t,s),je(s,{code:ge.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?MS(i).test(t.data)||(s=this._getOrReturnCtx(t,s),je(s,{code:ge.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?n4.test(t.data)||(s=this._getOrReturnCtx(t,s),je(s,{code:ge.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?a4(i).test(t.data)||(s=this._getOrReturnCtx(t,s),je(s,{code:ge.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?GR.test(t.data)||(s=this._getOrReturnCtx(t,s),je(s,{validation:"duration",code:ge.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?s4(t.data,i.version)||(s=this._getOrReturnCtx(t,s),je(s,{validation:"ip",code:ge.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?i4(t.data,i.alg)||(s=this._getOrReturnCtx(t,s),je(s,{validation:"jwt",code:ge.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?o4(t.data,i.version)||(s=this._getOrReturnCtx(t,s),je(s,{validation:"cidr",code:ge.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?t4.test(t.data)||(s=this._getOrReturnCtx(t,s),je(s,{validation:"base64",code:ge.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?r4.test(t.data)||(s=this._getOrReturnCtx(t,s),je(s,{validation:"base64url",code:ge.invalid_string,message:i.message}),n.dirty()):dt.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(s=>t.test(s),{validation:r,code:ge.invalid_string,...Re.errToObj(n)})}_addCheck(t){return new gn({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Re.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Re.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Re.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Re.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Re.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Re.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Re.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Re.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Re.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Re.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Re.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Re.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Re.errToObj(t)})}datetime(t){var r,n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1,local:(n=t==null?void 0:t.local)!==null&&n!==void 0?n:!1,...Re.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Re.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Re.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Re.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...Re.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Re.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Re.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Re.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Re.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Re.errToObj(r)})}nonempty(t){return this.min(1,Re.errToObj(t))}trim(){return new gn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new gn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new gn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}gn.create=e=>{var t;return new gn({checks:[],typeName:qe.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Ye(e)})};function c4(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,s=r>n?r:n,i=parseInt(e.toFixed(s).replace(".","")),o=parseInt(t.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}class qa extends et{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==ke.number){const i=this._getOrReturnCtx(t);return je(i,{code:ge.invalid_type,expected:ke.number,received:i.parsedType}),Ke}let n;const s=new gr;for(const i of this._def.checks)i.kind==="int"?dt.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),je(n,{code:ge.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),je(n,{code:ge.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),je(n,{code:ge.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?c4(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),je(n,{code:ge.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),je(n,{code:ge.not_finite,message:i.message}),s.dirty()):dt.assertNever(i);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Re.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Re.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Re.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Re.toString(r))}setLimit(t,r,n,s){return new qa({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Re.toString(s)}]})}_addCheck(t){return new qa({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Re.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Re.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Re.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Re.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Re.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Re.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Re.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Re.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Re.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&dt.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}qa.create=e=>new qa({checks:[],typeName:qe.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Ye(e)});class Ka extends et{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==ke.bigint)return this._getInvalidInput(t);let n;const s=new gr;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),je(n,{code:ge.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),je(n,{code:ge.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),je(n,{code:ge.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):dt.assertNever(i);return{status:s.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return je(r,{code:ge.invalid_type,expected:ke.bigint,received:r.parsedType}),Ke}gte(t,r){return this.setLimit("min",t,!0,Re.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Re.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Re.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Re.toString(r))}setLimit(t,r,n,s){return new Ka({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Re.toString(s)}]})}_addCheck(t){return new Ka({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Re.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Re.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Re.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Re.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Re.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Ka.create=e=>{var t;return new Ka({checks:[],typeName:qe.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Ye(e)})};class Oc extends et{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==ke.boolean){const n=this._getOrReturnCtx(t);return je(n,{code:ge.invalid_type,expected:ke.boolean,received:n.parsedType}),Ke}return jr(t.data)}}Oc.create=e=>new Oc({typeName:qe.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Ye(e)});class Ls extends et{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==ke.date){const i=this._getOrReturnCtx(t);return je(i,{code:ge.invalid_type,expected:ke.date,received:i.parsedType}),Ke}if(isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return je(i,{code:ge.invalid_date}),Ke}const n=new gr;let s;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(s=this._getOrReturnCtx(t,s),je(s,{code:ge.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(s=this._getOrReturnCtx(t,s),je(s,{code:ge.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):dt.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Ls({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Re.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Re.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Ls.create=e=>new Ls({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:qe.ZodDate,...Ye(e)});class Lu extends et{_parse(t){if(this._getType(t)!==ke.symbol){const n=this._getOrReturnCtx(t);return je(n,{code:ge.invalid_type,expected:ke.symbol,received:n.parsedType}),Ke}return jr(t.data)}}Lu.create=e=>new Lu({typeName:qe.ZodSymbol,...Ye(e)});class _c extends et{_parse(t){if(this._getType(t)!==ke.undefined){const n=this._getOrReturnCtx(t);return je(n,{code:ge.invalid_type,expected:ke.undefined,received:n.parsedType}),Ke}return jr(t.data)}}_c.create=e=>new _c({typeName:qe.ZodUndefined,...Ye(e)});class Pc extends et{_parse(t){if(this._getType(t)!==ke.null){const n=this._getOrReturnCtx(t);return je(n,{code:ge.invalid_type,expected:ke.null,received:n.parsedType}),Ke}return jr(t.data)}}Pc.create=e=>new Pc({typeName:qe.ZodNull,...Ye(e)});class Vi extends et{constructor(){super(...arguments),this._any=!0}_parse(t){return jr(t.data)}}Vi.create=e=>new Vi({typeName:qe.ZodAny,...Ye(e)});class Ps extends et{constructor(){super(...arguments),this._unknown=!0}_parse(t){return jr(t.data)}}Ps.create=e=>new Ps({typeName:qe.ZodUnknown,...Ye(e)});class xa extends et{_parse(t){const r=this._getOrReturnCtx(t);return je(r,{code:ge.invalid_type,expected:ke.never,received:r.parsedType}),Ke}}xa.create=e=>new xa({typeName:qe.ZodNever,...Ye(e)});class Fu extends et{_parse(t){if(this._getType(t)!==ke.undefined){const n=this._getOrReturnCtx(t);return je(n,{code:ge.invalid_type,expected:ke.void,received:n.parsedType}),Ke}return jr(t.data)}}Fu.create=e=>new Fu({typeName:qe.ZodVoid,...Ye(e)});class vn extends et{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),s=this._def;if(r.parsedType!==ke.array)return je(r,{code:ge.invalid_type,expected:ke.array,received:r.parsedType}),Ke;if(s.exactLength!==null){const o=r.data.length>s.exactLength.value,c=r.data.length<s.exactLength.value;(o||c)&&(je(r,{code:o?ge.too_big:ge.too_small,minimum:c?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(je(r,{code:ge.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(je(r,{code:ge.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,c)=>s.type._parseAsync(new Un(r,o,r.path,c)))).then(o=>gr.mergeArray(n,o));const i=[...r.data].map((o,c)=>s.type._parseSync(new Un(r,o,r.path,c)));return gr.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new vn({...this._def,minLength:{value:t,message:Re.toString(r)}})}max(t,r){return new vn({...this._def,maxLength:{value:t,message:Re.toString(r)}})}length(t,r){return new vn({...this._def,exactLength:{value:t,message:Re.toString(r)}})}nonempty(t){return this.min(1,t)}}vn.create=(e,t)=>new vn({type:e,minLength:null,maxLength:null,exactLength:null,typeName:qe.ZodArray,...Ye(t)});function vi(e){if(e instanceof Tt){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=Mn.create(vi(n))}return new Tt({...e._def,shape:()=>t})}else return e instanceof vn?new vn({...e._def,type:vi(e.element)}):e instanceof Mn?Mn.create(vi(e.unwrap())):e instanceof Za?Za.create(vi(e.unwrap())):e instanceof Wn?Wn.create(e.items.map(t=>vi(t))):e}class Tt extends et{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=dt.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==ke.object){const u=this._getOrReturnCtx(t);return je(u,{code:ge.invalid_type,expected:ke.object,received:u.parsedType}),Ke}const{status:n,ctx:s}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),c=[];if(!(this._def.catchall instanceof xa&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||c.push(u);const l=[];for(const u of o){const d=i[u],f=s.data[u];l.push({key:{status:"valid",value:u},value:d._parse(new Un(s,f,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof xa){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of c)l.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")c.length>0&&(je(s,{code:ge.unrecognized_keys,keys:c}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of c){const f=s.data[d];l.push({key:{status:"valid",value:d},value:u._parse(new Un(s,f,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of l){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>gr.mergeObjectSync(n,u)):gr.mergeObjectSync(n,l)}get shape(){return this._def.shape()}strict(t){return Re.errToObj,new Tt({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var s,i,o,c;const l=(o=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(c=Re.errToObj(t).message)!==null&&c!==void 0?c:l}:{message:l}}}:{}})}strip(){return new Tt({...this._def,unknownKeys:"strip"})}passthrough(){return new Tt({...this._def,unknownKeys:"passthrough"})}extend(t){return new Tt({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Tt({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:qe.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Tt({...this._def,catchall:t})}pick(t){const r={};return dt.objectKeys(t).forEach(n=>{t[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new Tt({...this._def,shape:()=>r})}omit(t){const r={};return dt.objectKeys(this.shape).forEach(n=>{t[n]||(r[n]=this.shape[n])}),new Tt({...this._def,shape:()=>r})}deepPartial(){return vi(this)}partial(t){const r={};return dt.objectKeys(this.shape).forEach(n=>{const s=this.shape[n];t&&!t[n]?r[n]=s:r[n]=s.optional()}),new Tt({...this._def,shape:()=>r})}required(t){const r={};return dt.objectKeys(this.shape).forEach(n=>{if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof Mn;)i=i._def.innerType;r[n]=i}}),new Tt({...this._def,shape:()=>r})}keyof(){return RS(dt.objectKeys(this.shape))}}Tt.create=(e,t)=>new Tt({shape:()=>e,unknownKeys:"strip",catchall:xa.create(),typeName:qe.ZodObject,...Ye(t)});Tt.strictCreate=(e,t)=>new Tt({shape:()=>e,unknownKeys:"strict",catchall:xa.create(),typeName:qe.ZodObject,...Ye(t)});Tt.lazycreate=(e,t)=>new Tt({shape:e,unknownKeys:"strip",catchall:xa.create(),typeName:qe.ZodObject,...Ye(t)});class Cc extends et{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function s(i){for(const c of i)if(c.result.status==="valid")return c.result;for(const c of i)if(c.result.status==="dirty")return r.common.issues.push(...c.ctx.common.issues),c.result;const o=i.map(c=>new Fr(c.ctx.common.issues));return je(r,{code:ge.invalid_union,unionErrors:o}),Ke}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const l of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=l._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const c=o.map(l=>new Fr(l));return je(r,{code:ge.invalid_union,unionErrors:c}),Ke}}get options(){return this._def.options}}Cc.create=(e,t)=>new Cc({options:e,typeName:qe.ZodUnion,...Ye(t)});const aa=e=>e instanceof Ec?aa(e.schema):e instanceof yn?aa(e.innerType()):e instanceof $c?[e.value]:e instanceof Ga?e.options:e instanceof Dc?dt.objectValues(e.enum):e instanceof Ic?aa(e._def.innerType):e instanceof _c?[void 0]:e instanceof Pc?[null]:e instanceof Mn?[void 0,...aa(e.unwrap())]:e instanceof Za?[null,...aa(e.unwrap())]:e instanceof ev||e instanceof Rc?aa(e.unwrap()):e instanceof Mc?aa(e._def.innerType):[];class yf extends et{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==ke.object)return je(r,{code:ge.invalid_type,expected:ke.object,received:r.parsedType}),Ke;const n=this.discriminator,s=r.data[n],i=this.optionsMap.get(s);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(je(r,{code:ge.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Ke)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){const s=new Map;for(const i of r){const o=aa(i.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const c of o){if(s.has(c))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(c)}`);s.set(c,i)}}return new yf({typeName:qe.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:s,...Ye(n)})}}function zm(e,t){const r=ia(e),n=ia(t);if(e===t)return{valid:!0,data:e};if(r===ke.object&&n===ke.object){const s=dt.objectKeys(t),i=dt.objectKeys(e).filter(c=>s.indexOf(c)!==-1),o={...e,...t};for(const c of i){const l=zm(e[c],t[c]);if(!l.valid)return{valid:!1};o[c]=l.data}return{valid:!0,data:o}}else if(r===ke.array&&n===ke.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let i=0;i<e.length;i++){const o=e[i],c=t[i],l=zm(o,c);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return r===ke.date&&n===ke.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class kc extends et{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=(i,o)=>{if(Bm(i)||Bm(o))return Ke;const c=zm(i.value,o.value);return c.valid?((Vm(i)||Vm(o))&&r.dirty(),{status:r.value,value:c.data}):(je(n,{code:ge.invalid_intersection_types}),Ke)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}kc.create=(e,t,r)=>new kc({left:e,right:t,typeName:qe.ZodIntersection,...Ye(r)});class Wn extends et{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ke.array)return je(n,{code:ge.invalid_type,expected:ke.array,received:n.parsedType}),Ke;if(n.data.length<this._def.items.length)return je(n,{code:ge.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ke;!this._def.rest&&n.data.length>this._def.items.length&&(je(n,{code:ge.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,c)=>{const l=this._def.items[c]||this._def.rest;return l?l._parse(new Un(n,o,n.path,c)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>gr.mergeArray(r,o)):gr.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new Wn({...this._def,rest:t})}}Wn.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Wn({items:e,typeName:qe.ZodTuple,rest:null,...Ye(t)})};class Tc extends et{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ke.object)return je(n,{code:ge.invalid_type,expected:ke.object,received:n.parsedType}),Ke;const s=[],i=this._def.keyType,o=this._def.valueType;for(const c in n.data)s.push({key:i._parse(new Un(n,c,n.path,c)),value:o._parse(new Un(n,n.data[c],n.path,c)),alwaysSet:c in n.data});return n.common.async?gr.mergeObjectAsync(r,s):gr.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof et?new Tc({keyType:t,valueType:r,typeName:qe.ZodRecord,...Ye(n)}):new Tc({keyType:gn.create(),valueType:t,typeName:qe.ZodRecord,...Ye(r)})}}class Bu extends et{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ke.map)return je(n,{code:ge.invalid_type,expected:ke.map,received:n.parsedType}),Ke;const s=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([c,l],u)=>({key:s._parse(new Un(n,c,n.path,[u,"key"])),value:i._parse(new Un(n,l,n.path,[u,"value"]))}));if(n.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const l of o){const u=await l.key,d=await l.value;if(u.status==="aborted"||d.status==="aborted")return Ke;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),c.set(u.value,d.value)}return{status:r.value,value:c}})}else{const c=new Map;for(const l of o){const u=l.key,d=l.value;if(u.status==="aborted"||d.status==="aborted")return Ke;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),c.set(u.value,d.value)}return{status:r.value,value:c}}}}Bu.create=(e,t,r)=>new Bu({valueType:t,keyType:e,typeName:qe.ZodMap,...Ye(r)});class Fs extends et{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ke.set)return je(n,{code:ge.invalid_type,expected:ke.set,received:n.parsedType}),Ke;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(je(n,{code:ge.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(je(n,{code:ge.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const i=this._def.valueType;function o(l){const u=new Set;for(const d of l){if(d.status==="aborted")return Ke;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const c=[...n.data.values()].map((l,u)=>i._parse(new Un(n,l,n.path,u)));return n.common.async?Promise.all(c).then(l=>o(l)):o(c)}min(t,r){return new Fs({...this._def,minSize:{value:t,message:Re.toString(r)}})}max(t,r){return new Fs({...this._def,maxSize:{value:t,message:Re.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Fs.create=(e,t)=>new Fs({valueType:e,minSize:null,maxSize:null,typeName:qe.ZodSet,...Ye(t)});class Di extends et{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==ke.function)return je(r,{code:ge.invalid_type,expected:ke.function,received:r.parsedType}),Ke;function n(c,l){return Mu({data:c,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Iu(),Bi].filter(u=>!!u),issueData:{code:ge.invalid_arguments,argumentsError:l}})}function s(c,l){return Mu({data:c,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Iu(),Bi].filter(u=>!!u),issueData:{code:ge.invalid_return_type,returnTypeError:l}})}const i={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof zi){const c=this;return jr(async function(...l){const u=new Fr([]),d=await c._def.args.parseAsync(l,i).catch(p=>{throw u.addIssue(n(l,p)),u}),f=await Reflect.apply(o,this,d);return await c._def.returns._def.type.parseAsync(f,i).catch(p=>{throw u.addIssue(s(f,p)),u})})}else{const c=this;return jr(function(...l){const u=c._def.args.safeParse(l,i);if(!u.success)throw new Fr([n(l,u.error)]);const d=Reflect.apply(o,this,u.data),f=c._def.returns.safeParse(d,i);if(!f.success)throw new Fr([s(d,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new Di({...this._def,args:Wn.create(t).rest(Ps.create())})}returns(t){return new Di({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new Di({args:t||Wn.create([]).rest(Ps.create()),returns:r||Ps.create(),typeName:qe.ZodFunction,...Ye(n)})}}class Ec extends et{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Ec.create=(e,t)=>new Ec({getter:e,typeName:qe.ZodLazy,...Ye(t)});class $c extends et{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return je(r,{received:r.data,code:ge.invalid_literal,expected:this._def.value}),Ke}return{status:"valid",value:t.data}}get value(){return this._def.value}}$c.create=(e,t)=>new $c({value:e,typeName:qe.ZodLiteral,...Ye(t)});function RS(e,t){return new Ga({values:e,typeName:qe.ZodEnum,...Ye(t)})}class Ga extends et{constructor(){super(...arguments),ic.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return je(r,{expected:dt.joinValues(n),received:r.parsedType,code:ge.invalid_type}),Ke}if(Ru(this,ic)||$S(this,ic,new Set(this._def.values)),!Ru(this,ic).has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return je(r,{received:r.data,code:ge.invalid_enum_value,options:n}),Ke}return jr(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Ga.create(t,{...this._def,...r})}exclude(t,r=this._def){return Ga.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}ic=new WeakMap;Ga.create=RS;class Dc extends et{constructor(){super(...arguments),oc.set(this,void 0)}_parse(t){const r=dt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==ke.string&&n.parsedType!==ke.number){const s=dt.objectValues(r);return je(n,{expected:dt.joinValues(s),received:n.parsedType,code:ge.invalid_type}),Ke}if(Ru(this,oc)||$S(this,oc,new Set(dt.getValidEnumValues(this._def.values))),!Ru(this,oc).has(t.data)){const s=dt.objectValues(r);return je(n,{received:n.data,code:ge.invalid_enum_value,options:s}),Ke}return jr(t.data)}get enum(){return this._def.values}}oc=new WeakMap;Dc.create=(e,t)=>new Dc({values:e,typeName:qe.ZodNativeEnum,...Ye(t)});class zi extends et{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==ke.promise&&r.common.async===!1)return je(r,{code:ge.invalid_type,expected:ke.promise,received:r.parsedType}),Ke;const n=r.parsedType===ke.promise?r.data:Promise.resolve(r.data);return jr(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}zi.create=(e,t)=>new zi({type:e,typeName:qe.ZodPromise,...Ye(t)});class yn extends et{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===qe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=this._def.effect||null,i={addIssue:o=>{je(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async c=>{if(r.value==="aborted")return Ke;const l=await this._def.schema._parseAsync({data:c,path:n.path,parent:n});return l.status==="aborted"?Ke:l.status==="dirty"||r.value==="dirty"?ji(l.value):l});{if(r.value==="aborted")return Ke;const c=this._def.schema._parseSync({data:o,path:n.path,parent:n});return c.status==="aborted"?Ke:c.status==="dirty"||r.value==="dirty"?ji(c.value):c}}if(s.type==="refinement"){const o=c=>{const l=s.refinement(c,i);if(n.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(n.common.async===!1){const c=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return c.status==="aborted"?Ke:(c.status==="dirty"&&r.dirty(),o(c.value),{status:r.value,value:c.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(c=>c.status==="aborted"?Ke:(c.status==="dirty"&&r.dirty(),o(c.value).then(()=>({status:r.value,value:c.value}))))}if(s.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Rs(o))return o;const c=s.transform(o.value,i);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:c}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>Rs(o)?Promise.resolve(s.transform(o.value,i)).then(c=>({status:r.value,value:c})):o);dt.assertNever(s)}}yn.create=(e,t,r)=>new yn({schema:e,typeName:qe.ZodEffects,effect:t,...Ye(r)});yn.createWithPreprocess=(e,t,r)=>new yn({schema:t,effect:{type:"preprocess",transform:e},typeName:qe.ZodEffects,...Ye(r)});class Mn extends et{_parse(t){return this._getType(t)===ke.undefined?jr(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Mn.create=(e,t)=>new Mn({innerType:e,typeName:qe.ZodOptional,...Ye(t)});class Za extends et{_parse(t){return this._getType(t)===ke.null?jr(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Za.create=(e,t)=>new Za({innerType:e,typeName:qe.ZodNullable,...Ye(t)});class Ic extends et{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===ke.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Ic.create=(e,t)=>new Ic({innerType:e,typeName:qe.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Ye(t)});class Mc extends et{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Ac(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Fr(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Fr(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Mc.create=(e,t)=>new Mc({innerType:e,typeName:qe.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Ye(t)});class Vu extends et{_parse(t){if(this._getType(t)!==ke.nan){const n=this._getOrReturnCtx(t);return je(n,{code:ge.invalid_type,expected:ke.nan,received:n.parsedType}),Ke}return{status:"valid",value:t.data}}}Vu.create=e=>new Vu({typeName:qe.ZodNaN,...Ye(e)});const l4=Symbol("zod_brand");class ev extends et{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class _l extends et{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Ke:i.status==="dirty"?(r.dirty(),ji(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Ke:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(t,r){return new _l({in:t,out:r,typeName:qe.ZodPipeline})}}class Rc extends et{_parse(t){const r=this._def.innerType._parse(t),n=s=>(Rs(s)&&(s.value=Object.freeze(s.value)),s);return Ac(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}Rc.create=(e,t)=>new Rc({innerType:e,typeName:qe.ZodReadonly,...Ye(t)});function Uy(e,t){const r=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof r=="string"?{message:r}:r}function LS(e,t={},r){return e?Vi.create().superRefine((n,s)=>{var i,o;const c=e(n);if(c instanceof Promise)return c.then(l=>{var u,d;if(!l){const f=Uy(t,n),h=(d=(u=f.fatal)!==null&&u!==void 0?u:r)!==null&&d!==void 0?d:!0;s.addIssue({code:"custom",...f,fatal:h})}});if(!c){const l=Uy(t,n),u=(o=(i=l.fatal)!==null&&i!==void 0?i:r)!==null&&o!==void 0?o:!0;s.addIssue({code:"custom",...l,fatal:u})}}):Vi.create()}const u4={object:Tt.lazycreate};var qe;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(qe||(qe={}));const d4=(e,t={message:`Input not instance of ${e.name}`})=>LS(r=>r instanceof e,t),FS=gn.create,BS=qa.create,f4=Vu.create,h4=Ka.create,VS=Oc.create,m4=Ls.create,p4=Lu.create,g4=_c.create,v4=Pc.create,x4=Vi.create,y4=Ps.create,b4=xa.create,j4=Fu.create,w4=vn.create,N4=Tt.create,S4=Tt.strictCreate,A4=Cc.create,O4=yf.create,_4=kc.create,P4=Wn.create,C4=Tc.create,k4=Bu.create,T4=Fs.create,E4=Di.create,$4=Ec.create,D4=$c.create,I4=Ga.create,M4=Dc.create,R4=zi.create,Wy=yn.create,L4=Mn.create,F4=Za.create,B4=yn.createWithPreprocess,V4=_l.create,z4=()=>FS().optional(),U4=()=>BS().optional(),W4=()=>VS().optional(),H4={string:e=>gn.create({...e,coerce:!0}),number:e=>qa.create({...e,coerce:!0}),boolean:e=>Oc.create({...e,coerce:!0}),bigint:e=>Ka.create({...e,coerce:!0}),date:e=>Ls.create({...e,coerce:!0})},q4=Ke;var oa=Object.freeze({__proto__:null,defaultErrorMap:Bi,setErrorMap:BR,getErrorMap:Iu,makeIssue:Mu,EMPTY_PATH:VR,addIssueToContext:je,ParseStatus:gr,INVALID:Ke,DIRTY:ji,OK:jr,isAborted:Bm,isDirty:Vm,isValid:Rs,isAsync:Ac,get util(){return dt},get objectUtil(){return Fm},ZodParsedType:ke,getParsedType:ia,ZodType:et,datetimeRegex:MS,ZodString:gn,ZodNumber:qa,ZodBigInt:Ka,ZodBoolean:Oc,ZodDate:Ls,ZodSymbol:Lu,ZodUndefined:_c,ZodNull:Pc,ZodAny:Vi,ZodUnknown:Ps,ZodNever:xa,ZodVoid:Fu,ZodArray:vn,ZodObject:Tt,ZodUnion:Cc,ZodDiscriminatedUnion:yf,ZodIntersection:kc,ZodTuple:Wn,ZodRecord:Tc,ZodMap:Bu,ZodSet:Fs,ZodFunction:Di,ZodLazy:Ec,ZodLiteral:$c,ZodEnum:Ga,ZodNativeEnum:Dc,ZodPromise:zi,ZodEffects:yn,ZodTransformer:yn,ZodOptional:Mn,ZodNullable:Za,ZodDefault:Ic,ZodCatch:Mc,ZodNaN:Vu,BRAND:l4,ZodBranded:ev,ZodPipeline:_l,ZodReadonly:Rc,custom:LS,Schema:et,ZodSchema:et,late:u4,get ZodFirstPartyTypeKind(){return qe},coerce:H4,any:x4,array:w4,bigint:h4,boolean:VS,date:m4,discriminatedUnion:O4,effect:Wy,enum:I4,function:E4,instanceof:d4,intersection:_4,lazy:$4,literal:D4,map:k4,nan:f4,nativeEnum:M4,never:b4,null:v4,nullable:F4,number:BS,object:N4,oboolean:W4,onumber:U4,optional:L4,ostring:z4,pipeline:V4,preprocess:B4,promise:R4,record:C4,set:T4,strictObject:S4,string:FS,symbol:p4,transformer:Wy,tuple:P4,undefined:g4,union:A4,unknown:y4,void:j4,NEVER:q4,ZodIssueCode:ge,quotelessJson:FR,ZodError:Fr});const K4=oa.object({email:oa.string().email("電子郵件格式無效"),password:oa.string().min(6,"密碼至少需要6個字符")}),G4=()=>{const[e,t]=g.useState(!1),[r,n]=g.useState(!1),{login:s}=yo(),i=tf(),{register:o,handleSubmit:c,formState:{errors:l}}=CS({resolver:TS(K4)}),u=async d=>{n(!0);try{await s(d.email,d.password),i("/")}catch{}finally{n(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted/30 py-12",children:a.jsxs(ue,{className:"w-full max-w-md",children:[a.jsxs(xe,{className:"text-center",children:[a.jsx(ye,{className:"text-2xl",children:"登入"}),a.jsx(rt,{children:"登入您的帳戶以繼續"})]}),a.jsxs(he,{children:[a.jsxs("form",{onSubmit:c(u),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"email",children:"電子郵件"}),a.jsx(le,{id:"email",type:"email",placeholder:"請輸入您的電子郵件",...o("email"),className:l.email?"border-red-500":""}),l.email&&a.jsx("p",{className:"text-sm text-red-500",children:l.email.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"password",children:"密碼"}),a.jsxs("div",{className:"relative",children:[a.jsx(le,{id:"password",type:e?"text":"password",placeholder:"請輸入密碼",...o("password"),className:l.password?"border-red-500":""}),a.jsx("button",{type:"button",onClick:()=>t(!e),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground",children:e?a.jsx(yN,{className:"h-4 w-4"}):a.jsx(za,{className:"h-4 w-4"})})]}),l.password&&a.jsx("p",{className:"text-sm text-red-500",children:l.password.message})]}),a.jsx(W,{type:"submit",className:"w-full",disabled:r,children:r?"登入中...":"登入"})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs("p",{className:"text-sm text-muted-foreground",children:["還沒有帳戶？"," ",a.jsx($r,{to:"/register",className:"text-primary hover:underline",children:"立即註冊"})]})})]})]})})},Z4=oa.object({name:oa.string().min(2,"姓名至少需要2個字符"),email:oa.string().email("電子郵件格式無效"),phone:oa.string().min(10,"電話號碼無效"),password:oa.string().min(6,"密碼至少需要6個字符"),licensePlate:oa.string().optional()}),X4=()=>{const[e,t]=g.useState(!1),[r,n]=g.useState(!1),{register:s}=yo(),i=tf(),{register:o,handleSubmit:c,formState:{errors:l}}=CS({resolver:TS(Z4)}),u=async d=>{n(!0);try{await s(d),i("/")}catch{}finally{n(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted/30 py-12",children:a.jsxs(ue,{className:"w-full max-w-md",children:[a.jsxs(xe,{className:"text-center",children:[a.jsx(ye,{className:"text-2xl",children:"註冊"}),a.jsx(rt,{children:"創建新帳戶以使用服務"})]}),a.jsxs(he,{children:[a.jsxs("form",{onSubmit:c(u),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"name",children:"姓名"}),a.jsx(le,{id:"name",type:"text",placeholder:"請輸入您的姓名",...o("name"),className:l.name?"border-red-500":""}),l.name&&a.jsx("p",{className:"text-sm text-red-500",children:l.name.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"email",children:"電子郵件"}),a.jsx(le,{id:"email",type:"email",placeholder:"請輸入您的電子郵件",...o("email"),className:l.email?"border-red-500":""}),l.email&&a.jsx("p",{className:"text-sm text-red-500",children:l.email.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"phone",children:"電話號碼"}),a.jsx(le,{id:"phone",type:"tel",placeholder:"請輸入電話號碼",...o("phone"),className:l.phone?"border-red-500":""}),l.phone&&a.jsx("p",{className:"text-sm text-red-500",children:l.phone.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"licensePlate",children:"車牌號碼 (選填)"}),a.jsx(le,{id:"licensePlate",type:"text",placeholder:"請輸入車牌號碼",...o("licensePlate")})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"password",children:"密碼"}),a.jsxs("div",{className:"relative",children:[a.jsx(le,{id:"password",type:e?"text":"password",placeholder:"請輸入密碼",...o("password"),className:l.password?"border-red-500":""}),a.jsx("button",{type:"button",onClick:()=>t(!e),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground",children:e?a.jsx(yN,{className:"h-4 w-4"}):a.jsx(za,{className:"h-4 w-4"})})]}),l.password&&a.jsx("p",{className:"text-sm text-red-500",children:l.password.message})]}),a.jsx(W,{type:"submit",className:"w-full",disabled:r,children:r?"註冊中...":"註冊"})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs("p",{className:"text-sm text-muted-foreground",children:["已有帳戶？"," ",a.jsx($r,{to:"/login",className:"text-primary hover:underline",children:"登入"})]})})]})]})})};function ma(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function tv(e,t=[]){let r=[];function n(i,o){const c=g.createContext(o),l=r.length;r=[...r,o];const u=f=>{var b;const{scope:h,children:p,...v}=f,m=((b=h==null?void 0:h[e])==null?void 0:b[l])||c,x=g.useMemo(()=>v,Object.values(v));return a.jsx(m.Provider,{value:x,children:p})};u.displayName=i+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[l])||c,v=g.useContext(p);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(o=>g.createContext(o));return function(c){const l=(c==null?void 0:c[e])||i;return g.useMemo(()=>({[`__scope${e}`]:{...c,[e]:l}}),[c,l])}};return s.scopeName=e,[n,Y4(s,...t)]}function Y4(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((c,{useScope:l,scopeName:u})=>{const f=l(i)[`__scope${u}`];return{...c,...f}},{});return g.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function Hy(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function J4(...e){return t=>{let r=!1;const n=e.map(s=>{const i=Hy(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():Hy(e[s],null)}}}}function zu(...e){return g.useCallback(J4(...e),e)}function Q4(e){const t=e+"CollectionProvider",[r,n]=tv(t),[s,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:x,children:b}=m,y=D.useRef(null),j=D.useRef(new Map).current;return a.jsx(s,{scope:x,itemMap:j,collectionRef:y,children:b})};o.displayName=t;const c=e+"CollectionSlot",l=sn(c),u=D.forwardRef((m,x)=>{const{scope:b,children:y}=m,j=i(c,b),S=zu(x,j.collectionRef);return a.jsx(l,{ref:S,children:y})});u.displayName=c;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=sn(d),p=D.forwardRef((m,x)=>{const{scope:b,children:y,...j}=m,S=D.useRef(null),N=zu(x,S),w=i(d,b);return D.useEffect(()=>(w.itemMap.set(S,{ref:S,...j}),()=>void w.itemMap.delete(S))),a.jsx(h,{[f]:"",ref:N,children:y})});p.displayName=d;function v(m){const x=i(e+"CollectionConsumer",m);return D.useCallback(()=>{const y=x.collectionRef.current;if(!y)return[];const j=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(x.itemMap.values()).sort((w,A)=>j.indexOf(w.ref.current)-j.indexOf(A.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:u,ItemSlot:p},v,n]}var Uu=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},e3=es[" useId ".trim().toString()]||(()=>{}),t3=0;function zS(e){const[t,r]=g.useState(e3());return Uu(()=>{r(n=>n??String(t3++))},[e]),t?`radix-${t}`:""}var r3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],jo=r3.reduce((e,t)=>{const r=sn(`Primitive.${t}`),n=g.forwardRef((s,i)=>{const{asChild:o,...c}=s,l=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(l,{...c,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function n3(e){const t=g.useRef(e);return g.useEffect(()=>{t.current=e}),g.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}var a3=es[" useInsertionEffect ".trim().toString()]||Uu;function US({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,i,o]=s3({defaultProp:t,onChange:r}),c=e!==void 0,l=c?e:s;{const d=g.useRef(e!==void 0);g.useEffect(()=>{const f=d.current;f!==c&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=c},[c,n])}const u=g.useCallback(d=>{var f;if(c){const h=i3(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else i(d)},[c,e,i,o]);return[l,u]}function s3({defaultProp:e,onChange:t}){const[r,n]=g.useState(e),s=g.useRef(r),i=g.useRef(t);return a3(()=>{i.current=t},[t]),g.useEffect(()=>{var o;s.current!==r&&((o=i.current)==null||o.call(i,r),s.current=r)},[r,s]),[r,n,i]}function i3(e){return typeof e=="function"}var o3=g.createContext(void 0);function WS(e){const t=g.useContext(o3);return e||t||"ltr"}var Lh="rovingFocusGroup.onEntryFocus",c3={bubbles:!1,cancelable:!0},Pl="RovingFocusGroup",[Um,HS,l3]=Q4(Pl),[u3,qS]=tv(Pl,[l3]),[d3,f3]=u3(Pl),KS=g.forwardRef((e,t)=>a.jsx(Um.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(Um.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(h3,{...e,ref:t})})}));KS.displayName=Pl;var h3=g.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=g.useRef(null),p=zu(t,h),v=WS(i),[m,x]=US({prop:o,defaultProp:c??null,onChange:l,caller:Pl}),[b,y]=g.useState(!1),j=n3(u),S=HS(r),N=g.useRef(!1),[w,A]=g.useState(0);return g.useEffect(()=>{const O=h.current;if(O)return O.addEventListener(Lh,j),()=>O.removeEventListener(Lh,j)},[j]),a.jsx(d3,{scope:r,orientation:n,dir:v,loop:s,currentTabStopId:m,onItemFocus:g.useCallback(O=>x(O),[x]),onItemShiftTab:g.useCallback(()=>y(!0),[]),onFocusableItemAdd:g.useCallback(()=>A(O=>O+1),[]),onFocusableItemRemove:g.useCallback(()=>A(O=>O-1),[]),children:a.jsx(jo.div,{tabIndex:b||w===0?-1:0,"data-orientation":n,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:ma(e.onMouseDown,()=>{N.current=!0}),onFocus:ma(e.onFocus,O=>{const _=!N.current;if(O.target===O.currentTarget&&_&&!b){const C=new CustomEvent(Lh,c3);if(O.currentTarget.dispatchEvent(C),!C.defaultPrevented){const P=S().filter(F=>F.focusable),k=P.find(F=>F.active),T=P.find(F=>F.id===m),I=[k,T,...P].filter(Boolean).map(F=>F.ref.current);XS(I,d)}}N.current=!1}),onBlur:ma(e.onBlur,()=>y(!1))})})}),GS="RovingFocusGroupItem",ZS=g.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,children:o,...c}=e,l=zS(),u=i||l,d=f3(GS,r),f=d.currentTabStopId===u,h=HS(r),{onFocusableItemAdd:p,onFocusableItemRemove:v,currentTabStopId:m}=d;return g.useEffect(()=>{if(n)return p(),()=>v()},[n,p,v]),a.jsx(Um.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:a.jsx(jo.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...c,ref:t,onMouseDown:ma(e.onMouseDown,x=>{n?d.onItemFocus(u):x.preventDefault()}),onFocus:ma(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:ma(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){d.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const b=g3(x,d.orientation,d.dir);if(b!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let j=h().filter(S=>S.focusable).map(S=>S.ref.current);if(b==="last")j.reverse();else if(b==="prev"||b==="next"){b==="prev"&&j.reverse();const S=j.indexOf(x.currentTarget);j=d.loop?v3(j,S+1):j.slice(S+1)}setTimeout(()=>XS(j))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:m!=null}):o})})});ZS.displayName=GS;var m3={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function p3(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function g3(e,t,r){const n=p3(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return m3[n]}function XS(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function v3(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var x3=KS,y3=ZS;function b3(e,t){return g.useReducer((r,n)=>t[r][n]??r,e)}var YS=e=>{const{present:t,children:r}=e,n=j3(t),s=typeof r=="function"?r({present:n.isPresent}):g.Children.only(r),i=zu(n.ref,w3(s));return typeof r=="function"||n.isPresent?g.cloneElement(s,{ref:i}):null};YS.displayName="Presence";function j3(e){const[t,r]=g.useState(),n=g.useRef(null),s=g.useRef(e),i=g.useRef("none"),o=e?"mounted":"unmounted",[c,l]=b3(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const u=ql(n.current);i.current=c==="mounted"?u:"none"},[c]),Uu(()=>{const u=n.current,d=s.current;if(d!==e){const h=i.current,p=ql(u);e?l("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,l]),Uu(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const m=ql(n.current).includes(p.animationName);if(p.target===t&&m&&(l("ANIMATION_END"),!s.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},h=p=>{p.target===t&&(i.current=ql(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:g.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function ql(e){return(e==null?void 0:e.animationName)||"none"}function w3(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var bf="Tabs",[N3,Rde]=tv(bf,[qS]),JS=qS(),[S3,rv]=N3(bf),QS=g.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:c,activationMode:l="automatic",...u}=e,d=WS(c),[f,h]=US({prop:n,onChange:s,defaultProp:i??"",caller:bf});return a.jsx(S3,{scope:r,baseId:zS(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:l,children:a.jsx(jo.div,{dir:d,"data-orientation":o,...u,ref:t})})});QS.displayName=bf;var eA="TabsList",tA=g.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,i=rv(eA,r),o=JS(r);return a.jsx(x3,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:a.jsx(jo.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});tA.displayName=eA;var rA="TabsTrigger",nA=g.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...i}=e,o=rv(rA,r),c=JS(r),l=iA(o.baseId,n),u=oA(o.baseId,n),d=n===o.value;return a.jsx(y3,{asChild:!0,...c,focusable:!s,active:d,children:a.jsx(jo.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:t,onMouseDown:ma(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:ma(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:ma(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!s&&f&&o.onValueChange(n)})})})});nA.displayName=rA;var aA="TabsContent",sA=g.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:i,...o}=e,c=rv(aA,r),l=iA(c.baseId,n),u=oA(c.baseId,n),d=n===c.value,f=g.useRef(d);return g.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),a.jsx(YS,{present:s||d,children:({present:h})=>a.jsx(jo.div,{"data-state":d?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});sA.displayName=aA;function iA(e,t){return`${e}-trigger-${t}`}function oA(e,t){return`${e}-content-${t}`}var A3=QS,cA=tA,lA=nA,uA=sA;const wo=A3,ni=g.forwardRef(({className:e,...t},r)=>a.jsx(cA,{ref:r,className:He("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));ni.displayName=cA.displayName;const Mt=g.forwardRef(({className:e,...t},r)=>a.jsx(lA,{ref:r,className:He("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Mt.displayName=lA.displayName;const er=g.forwardRef(({className:e,...t},r)=>a.jsx(uA,{ref:r,className:He("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));er.displayName=uA.displayName;function qy(e,[t,r]){return Math.min(r,Math.max(t,e))}function Wt(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function nv(e,t=[]){let r=[];function n(i,o){const c=g.createContext(o),l=r.length;r=[...r,o];const u=f=>{var b;const{scope:h,children:p,...v}=f,m=((b=h==null?void 0:h[e])==null?void 0:b[l])||c,x=g.useMemo(()=>v,Object.values(v));return a.jsx(m.Provider,{value:x,children:p})};u.displayName=i+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[l])||c,v=g.useContext(p);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(o=>g.createContext(o));return function(c){const l=(c==null?void 0:c[e])||i;return g.useMemo(()=>({[`__scope${e}`]:{...c,[e]:l}}),[c,l])}};return s.scopeName=e,[n,O3(s,...t)]}function O3(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((c,{useScope:l,scopeName:u})=>{const f=l(i)[`__scope${u}`];return{...c,...f}},{});return g.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function Ky(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function _3(...e){return t=>{let r=!1;const n=e.map(s=>{const i=Ky(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():Ky(e[s],null)}}}}function cr(...e){return g.useCallback(_3(...e),e)}function P3(e){const t=e+"CollectionProvider",[r,n]=nv(t),[s,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:x,children:b}=m,y=D.useRef(null),j=D.useRef(new Map).current;return a.jsx(s,{scope:x,itemMap:j,collectionRef:y,children:b})};o.displayName=t;const c=e+"CollectionSlot",l=sn(c),u=D.forwardRef((m,x)=>{const{scope:b,children:y}=m,j=i(c,b),S=cr(x,j.collectionRef);return a.jsx(l,{ref:S,children:y})});u.displayName=c;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=sn(d),p=D.forwardRef((m,x)=>{const{scope:b,children:y,...j}=m,S=D.useRef(null),N=cr(x,S),w=i(d,b);return D.useEffect(()=>(w.itemMap.set(S,{ref:S,...j}),()=>void w.itemMap.delete(S))),a.jsx(h,{[f]:"",ref:N,children:y})});p.displayName=d;function v(m){const x=i(e+"CollectionConsumer",m);return D.useCallback(()=>{const y=x.collectionRef.current;if(!y)return[];const j=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(x.itemMap.values()).sort((w,A)=>j.indexOf(w.ref.current)-j.indexOf(A.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:u,ItemSlot:p},v,n]}var C3=g.createContext(void 0);function k3(e){const t=g.useContext(C3);return e||t||"ltr"}var T3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Bt=T3.reduce((e,t)=>{const r=sn(`Primitive.${t}`),n=g.forwardRef((s,i)=>{const{asChild:o,...c}=s,l=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(l,{...c,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function E3(e,t){e&&Qs.flushSync(()=>e.dispatchEvent(t))}function Bs(e){const t=g.useRef(e);return g.useEffect(()=>{t.current=e}),g.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function $3(e,t=globalThis==null?void 0:globalThis.document){const r=Bs(e);g.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var D3="DismissableLayer",Wm="dismissableLayer.update",I3="dismissableLayer.pointerDownOutside",M3="dismissableLayer.focusOutside",Gy,dA=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),fA=g.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:c,...l}=e,u=g.useContext(dA),[d,f]=g.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=g.useState({}),v=cr(t,A=>f(A)),m=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=m.indexOf(x),y=d?m.indexOf(d):-1,j=u.layersWithOutsidePointerEventsDisabled.size>0,S=y>=b,N=F3(A=>{const O=A.target,_=[...u.branches].some(C=>C.contains(O));!S||_||(s==null||s(A),o==null||o(A),A.defaultPrevented||c==null||c())},h),w=B3(A=>{const O=A.target;[...u.branches].some(C=>C.contains(O))||(i==null||i(A),o==null||o(A),A.defaultPrevented||c==null||c())},h);return $3(A=>{y===u.layers.size-1&&(n==null||n(A),!A.defaultPrevented&&c&&(A.preventDefault(),c()))},h),g.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Gy=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Zy(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Gy)}},[d,h,r,u]),g.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Zy())},[d,u]),g.useEffect(()=>{const A=()=>p({});return document.addEventListener(Wm,A),()=>document.removeEventListener(Wm,A)},[]),a.jsx(Bt.div,{...l,ref:v,style:{pointerEvents:j?S?"auto":"none":void 0,...e.style},onFocusCapture:Wt(e.onFocusCapture,w.onFocusCapture),onBlurCapture:Wt(e.onBlurCapture,w.onBlurCapture),onPointerDownCapture:Wt(e.onPointerDownCapture,N.onPointerDownCapture)})});fA.displayName=D3;var R3="DismissableLayerBranch",L3=g.forwardRef((e,t)=>{const r=g.useContext(dA),n=g.useRef(null),s=cr(t,n);return g.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),a.jsx(Bt.div,{...e,ref:s})});L3.displayName=R3;function F3(e,t=globalThis==null?void 0:globalThis.document){const r=Bs(e),n=g.useRef(!1),s=g.useRef(()=>{});return g.useEffect(()=>{const i=c=>{if(c.target&&!n.current){let l=function(){hA(I3,r,u,{discrete:!0})};const u={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=l,t.addEventListener("click",s.current,{once:!0})):l()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function B3(e,t=globalThis==null?void 0:globalThis.document){const r=Bs(e),n=g.useRef(!1);return g.useEffect(()=>{const s=i=>{i.target&&!n.current&&hA(M3,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Zy(){const e=new CustomEvent(Wm);document.dispatchEvent(e)}function hA(e,t,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?E3(s,i):s.dispatchEvent(i)}var Fh=0;function V3(){g.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Xy()),document.body.insertAdjacentElement("beforeend",e[1]??Xy()),Fh++,()=>{Fh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Fh--}},[])}function Xy(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Bh="focusScope.autoFocusOnMount",Vh="focusScope.autoFocusOnUnmount",Yy={bubbles:!1,cancelable:!0},z3="FocusScope",mA=g.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[c,l]=g.useState(null),u=Bs(s),d=Bs(i),f=g.useRef(null),h=cr(t,m=>l(m)),p=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(n){let m=function(j){if(p.paused||!c)return;const S=j.target;c.contains(S)?f.current=S:Ea(f.current,{select:!0})},x=function(j){if(p.paused||!c)return;const S=j.relatedTarget;S!==null&&(c.contains(S)||Ea(f.current,{select:!0}))},b=function(j){if(document.activeElement===document.body)for(const N of j)N.removedNodes.length>0&&Ea(c)};document.addEventListener("focusin",m),document.addEventListener("focusout",x);const y=new MutationObserver(b);return c&&y.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",x),y.disconnect()}}},[n,c,p.paused]),g.useEffect(()=>{if(c){Qy.add(p);const m=document.activeElement;if(!c.contains(m)){const b=new CustomEvent(Bh,Yy);c.addEventListener(Bh,u),c.dispatchEvent(b),b.defaultPrevented||(U3(G3(pA(c)),{select:!0}),document.activeElement===m&&Ea(c))}return()=>{c.removeEventListener(Bh,u),setTimeout(()=>{const b=new CustomEvent(Vh,Yy);c.addEventListener(Vh,d),c.dispatchEvent(b),b.defaultPrevented||Ea(m??document.body,{select:!0}),c.removeEventListener(Vh,d),Qy.remove(p)},0)}}},[c,u,d,p]);const v=g.useCallback(m=>{if(!r&&!n||p.paused)return;const x=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,b=document.activeElement;if(x&&b){const y=m.currentTarget,[j,S]=W3(y);j&&S?!m.shiftKey&&b===S?(m.preventDefault(),r&&Ea(j,{select:!0})):m.shiftKey&&b===j&&(m.preventDefault(),r&&Ea(S,{select:!0})):b===y&&m.preventDefault()}},[r,n,p.paused]);return a.jsx(Bt.div,{tabIndex:-1,...o,ref:h,onKeyDown:v})});mA.displayName=z3;function U3(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Ea(n,{select:t}),document.activeElement!==r)return}function W3(e){const t=pA(e),r=Jy(t,e),n=Jy(t.reverse(),e);return[r,n]}function pA(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Jy(e,t){for(const r of e)if(!H3(r,{upTo:t}))return r}function H3(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function q3(e){return e instanceof HTMLInputElement&&"select"in e}function Ea(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&q3(e)&&t&&e.select()}}var Qy=K3();function K3(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=eb(e,t),e.unshift(t)},remove(t){var r;e=eb(e,t),(r=e[0])==null||r.resume()}}}function eb(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function G3(e){return e.filter(t=>t.tagName!=="A")}var Pr=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},Z3=es[" useId ".trim().toString()]||(()=>{}),X3=0;function av(e){const[t,r]=g.useState(Z3());return Pr(()=>{r(n=>n??String(X3++))},[e]),t?`radix-${t}`:""}const Y3=["top","right","bottom","left"],Xa=Math.min,Ir=Math.max,Wu=Math.round,Kl=Math.floor,Rn=e=>({x:e,y:e}),J3={left:"right",right:"left",bottom:"top",top:"bottom"},Q3={start:"end",end:"start"};function Hm(e,t,r){return Ir(e,Xa(t,r))}function ya(e,t){return typeof e=="function"?e(t):e}function ba(e){return e.split("-")[0]}function No(e){return e.split("-")[1]}function sv(e){return e==="x"?"y":"x"}function iv(e){return e==="y"?"height":"width"}function Ya(e){return["top","bottom"].includes(ba(e))?"y":"x"}function ov(e){return sv(Ya(e))}function eL(e,t,r){r===void 0&&(r=!1);const n=No(e),s=ov(e),i=iv(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Hu(o)),[o,Hu(o)]}function tL(e){const t=Hu(e);return[qm(e),t,qm(t)]}function qm(e){return e.replace(/start|end/g,t=>Q3[t])}function rL(e,t,r){const n=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?s:n:t?n:s;case"left":case"right":return t?i:o;default:return[]}}function nL(e,t,r,n){const s=No(e);let i=rL(ba(e),r==="start",n);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(qm)))),i}function Hu(e){return e.replace(/left|right|bottom|top/g,t=>J3[t])}function aL(e){return{top:0,right:0,bottom:0,left:0,...e}}function gA(e){return typeof e!="number"?aL(e):{top:e,right:e,bottom:e,left:e}}function qu(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function tb(e,t,r){let{reference:n,floating:s}=e;const i=Ya(t),o=ov(t),c=iv(o),l=ba(t),u=i==="y",d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,h=n[c]/2-s[c]/2;let p;switch(l){case"top":p={x:d,y:n.y-s.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-s.width,y:f};break;default:p={x:n.x,y:n.y}}switch(No(t)){case"start":p[o]-=h*(r&&u?-1:1);break;case"end":p[o]+=h*(r&&u?-1:1);break}return p}const sL=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:o}=r,c=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=tb(u,n,l),h=n,p={},v=0;for(let m=0;m<c.length;m++){const{name:x,fn:b}=c[m],{x:y,y:j,data:S,reset:N}=await b({x:d,y:f,initialPlacement:n,placement:h,strategy:s,middlewareData:p,rects:u,platform:o,elements:{reference:e,floating:t}});d=y??d,f=j??f,p={...p,[x]:{...p[x],...S}},N&&v<=50&&(v++,typeof N=="object"&&(N.placement&&(h=N.placement),N.rects&&(u=N.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):N.rects),{x:d,y:f}=tb(u,h,l)),m=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:p}};async function Lc(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:i,rects:o,elements:c,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=ya(t,e),v=gA(p),x=c[h?f==="floating"?"reference":"floating":f],b=qu(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(x)))==null||r?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:u,rootBoundary:d,strategy:l})),y=f==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,j=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating)),S=await(i.isElement==null?void 0:i.isElement(j))?await(i.getScale==null?void 0:i.getScale(j))||{x:1,y:1}:{x:1,y:1},N=qu(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:y,offsetParent:j,strategy:l}):y);return{top:(b.top-N.top+v.top)/S.y,bottom:(N.bottom-b.bottom+v.bottom)/S.y,left:(b.left-N.left+v.left)/S.x,right:(N.right-b.right+v.right)/S.x}}const iL=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:i,platform:o,elements:c,middlewareData:l}=t,{element:u,padding:d=0}=ya(e,t)||{};if(u==null)return{};const f=gA(d),h={x:r,y:n},p=ov(s),v=iv(p),m=await o.getDimensions(u),x=p==="y",b=x?"top":"left",y=x?"bottom":"right",j=x?"clientHeight":"clientWidth",S=i.reference[v]+i.reference[p]-h[p]-i.floating[v],N=h[p]-i.reference[p],w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let A=w?w[j]:0;(!A||!await(o.isElement==null?void 0:o.isElement(w)))&&(A=c.floating[j]||i.floating[v]);const O=S/2-N/2,_=A/2-m[v]/2-1,C=Xa(f[b],_),P=Xa(f[y],_),k=C,T=A-m[v]-P,E=A/2-m[v]/2+O,I=Hm(k,E,T),F=!l.arrow&&No(s)!=null&&E!==I&&i.reference[v]/2-(E<k?C:P)-m[v]/2<0,$=F?E<k?E-k:E-T:0;return{[p]:h[p]+$,data:{[p]:I,centerOffset:E-I-$,...F&&{alignmentOffset:$}},reset:F}}}),oL=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:i,rects:o,initialPlacement:c,platform:l,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:m=!0,...x}=ya(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const b=ba(s),y=Ya(c),j=ba(c)===c,S=await(l.isRTL==null?void 0:l.isRTL(u.floating)),N=h||(j||!m?[Hu(c)]:tL(c)),w=v!=="none";!h&&w&&N.push(...nL(c,m,v,S));const A=[c,...N],O=await Lc(t,x),_=[];let C=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&_.push(O[b]),f){const E=eL(s,o,S);_.push(O[E[0]],O[E[1]])}if(C=[...C,{placement:s,overflows:_}],!_.every(E=>E<=0)){var P,k;const E=(((P=i.flip)==null?void 0:P.index)||0)+1,I=A[E];if(I)return{data:{index:E,overflows:C},reset:{placement:I}};let F=(k=C.filter($=>$.overflows[0]<=0).sort(($,q)=>$.overflows[1]-q.overflows[1])[0])==null?void 0:k.placement;if(!F)switch(p){case"bestFit":{var T;const $=(T=C.filter(q=>{if(w){const M=Ya(q.placement);return M===y||M==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(M=>M>0).reduce((M,J)=>M+J,0)]).sort((q,M)=>q[1]-M[1])[0])==null?void 0:T[0];$&&(F=$);break}case"initialPlacement":F=c;break}if(s!==F)return{reset:{placement:F}}}return{}}}};function rb(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function nb(e){return Y3.some(t=>e[t]>=0)}const cL=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=ya(e,t);switch(n){case"referenceHidden":{const i=await Lc(t,{...s,elementContext:"reference"}),o=rb(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:nb(o)}}}case"escaped":{const i=await Lc(t,{...s,altBoundary:!0}),o=rb(i,r.floating);return{data:{escapedOffsets:o,escaped:nb(o)}}}default:return{}}}}};async function lL(e,t){const{placement:r,platform:n,elements:s}=e,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=ba(r),c=No(r),l=Ya(r)==="y",u=["left","top"].includes(o)?-1:1,d=i&&l?-1:1,f=ya(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return c&&typeof v=="number"&&(p=c==="end"?v*-1:v),l?{x:p*d,y:h*u}:{x:h*u,y:p*d}}const uL=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:i,placement:o,middlewareData:c}=t,l=await lL(t,e);return o===((r=c.offset)==null?void 0:r.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},dL=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:c={fn:x=>{let{x:b,y}=x;return{x:b,y}}},...l}=ya(e,t),u={x:r,y:n},d=await Lc(t,l),f=Ya(ba(s)),h=sv(f);let p=u[h],v=u[f];if(i){const x=h==="y"?"top":"left",b=h==="y"?"bottom":"right",y=p+d[x],j=p-d[b];p=Hm(y,p,j)}if(o){const x=f==="y"?"top":"left",b=f==="y"?"bottom":"right",y=v+d[x],j=v-d[b];v=Hm(y,v,j)}const m=c.fn({...t,[h]:p,[f]:v});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[h]:i,[f]:o}}}}}},fL=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:i,middlewareData:o}=t,{offset:c=0,mainAxis:l=!0,crossAxis:u=!0}=ya(e,t),d={x:r,y:n},f=Ya(s),h=sv(f);let p=d[h],v=d[f];const m=ya(c,t),x=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const j=h==="y"?"height":"width",S=i.reference[h]-i.floating[j]+x.mainAxis,N=i.reference[h]+i.reference[j]-x.mainAxis;p<S?p=S:p>N&&(p=N)}if(u){var b,y;const j=h==="y"?"width":"height",S=["top","left"].includes(ba(s)),N=i.reference[f]-i.floating[j]+(S&&((b=o.offset)==null?void 0:b[f])||0)+(S?0:x.crossAxis),w=i.reference[f]+i.reference[j]+(S?0:((y=o.offset)==null?void 0:y[f])||0)-(S?x.crossAxis:0);v<N?v=N:v>w&&(v=w)}return{[h]:p,[f]:v}}}},hL=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:i,platform:o,elements:c}=t,{apply:l=()=>{},...u}=ya(e,t),d=await Lc(t,u),f=ba(s),h=No(s),p=Ya(s)==="y",{width:v,height:m}=i.floating;let x,b;f==="top"||f==="bottom"?(x=f,b=h===(await(o.isRTL==null?void 0:o.isRTL(c.floating))?"start":"end")?"left":"right"):(b=f,x=h==="end"?"top":"bottom");const y=m-d.top-d.bottom,j=v-d.left-d.right,S=Xa(m-d[x],y),N=Xa(v-d[b],j),w=!t.middlewareData.shift;let A=S,O=N;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(O=j),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(A=y),w&&!h){const C=Ir(d.left,0),P=Ir(d.right,0),k=Ir(d.top,0),T=Ir(d.bottom,0);p?O=v-2*(C!==0||P!==0?C+P:Ir(d.left,d.right)):A=m-2*(k!==0||T!==0?k+T:Ir(d.top,d.bottom))}await l({...t,availableWidth:O,availableHeight:A});const _=await o.getDimensions(c.floating);return v!==_.width||m!==_.height?{reset:{rects:!0}}:{}}}};function jf(){return typeof window<"u"}function So(e){return vA(e)?(e.nodeName||"").toLowerCase():"#document"}function Br(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Xn(e){var t;return(t=(vA(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function vA(e){return jf()?e instanceof Node||e instanceof Br(e).Node:!1}function bn(e){return jf()?e instanceof Element||e instanceof Br(e).Element:!1}function Hn(e){return jf()?e instanceof HTMLElement||e instanceof Br(e).HTMLElement:!1}function ab(e){return!jf()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Br(e).ShadowRoot}function Cl(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=jn(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(s)}function mL(e){return["table","td","th"].includes(So(e))}function wf(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function cv(e){const t=lv(),r=bn(e)?jn(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function pL(e){let t=Ja(e);for(;Hn(t)&&!Ui(t);){if(cv(t))return t;if(wf(t))return null;t=Ja(t)}return null}function lv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ui(e){return["html","body","#document"].includes(So(e))}function jn(e){return Br(e).getComputedStyle(e)}function Nf(e){return bn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ja(e){if(So(e)==="html")return e;const t=e.assignedSlot||e.parentNode||ab(e)&&e.host||Xn(e);return ab(t)?t.host:t}function xA(e){const t=Ja(e);return Ui(t)?e.ownerDocument?e.ownerDocument.body:e.body:Hn(t)&&Cl(t)?t:xA(t)}function Fc(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=xA(e),i=s===((n=e.ownerDocument)==null?void 0:n.body),o=Br(s);if(i){const c=Km(o);return t.concat(o,o.visualViewport||[],Cl(s)?s:[],c&&r?Fc(c):[])}return t.concat(s,Fc(s,[],r))}function Km(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function yA(e){const t=jn(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=Hn(e),i=s?e.offsetWidth:r,o=s?e.offsetHeight:n,c=Wu(r)!==i||Wu(n)!==o;return c&&(r=i,n=o),{width:r,height:n,$:c}}function uv(e){return bn(e)?e:e.contextElement}function Ii(e){const t=uv(e);if(!Hn(t))return Rn(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:i}=yA(t);let o=(i?Wu(r.width):r.width)/n,c=(i?Wu(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!c||!Number.isFinite(c))&&(c=1),{x:o,y:c}}const gL=Rn(0);function bA(e){const t=Br(e);return!lv()||!t.visualViewport?gL:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function vL(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Br(e)?!1:t}function Vs(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),i=uv(e);let o=Rn(1);t&&(n?bn(n)&&(o=Ii(n)):o=Ii(e));const c=vL(i,r,n)?bA(i):Rn(0);let l=(s.left+c.x)/o.x,u=(s.top+c.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(i){const h=Br(i),p=n&&bn(n)?Br(n):n;let v=h,m=Km(v);for(;m&&n&&p!==v;){const x=Ii(m),b=m.getBoundingClientRect(),y=jn(m),j=b.left+(m.clientLeft+parseFloat(y.paddingLeft))*x.x,S=b.top+(m.clientTop+parseFloat(y.paddingTop))*x.y;l*=x.x,u*=x.y,d*=x.x,f*=x.y,l+=j,u+=S,v=Br(m),m=Km(v)}}return qu({width:d,height:f,x:l,y:u})}function dv(e,t){const r=Nf(e).scrollLeft;return t?t.left+r:Vs(Xn(e)).left+r}function jA(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-(r?0:dv(e,n)),i=n.top+t.scrollTop;return{x:s,y:i}}function xL(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const i=s==="fixed",o=Xn(n),c=t?wf(t.floating):!1;if(n===o||c&&i)return r;let l={scrollLeft:0,scrollTop:0},u=Rn(1);const d=Rn(0),f=Hn(n);if((f||!f&&!i)&&((So(n)!=="body"||Cl(o))&&(l=Nf(n)),Hn(n))){const p=Vs(n);u=Ii(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}const h=o&&!f&&!i?jA(o,l,!0):Rn(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-l.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-l.scrollTop*u.y+d.y+h.y}}function yL(e){return Array.from(e.getClientRects())}function bL(e){const t=Xn(e),r=Nf(e),n=e.ownerDocument.body,s=Ir(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Ir(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+dv(e);const c=-r.scrollTop;return jn(n).direction==="rtl"&&(o+=Ir(t.clientWidth,n.clientWidth)-s),{width:s,height:i,x:o,y:c}}function jL(e,t){const r=Br(e),n=Xn(e),s=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,c=0,l=0;if(s){i=s.width,o=s.height;const u=lv();(!u||u&&t==="fixed")&&(c=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:c,y:l}}function wL(e,t){const r=Vs(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,i=Hn(e)?Ii(e):Rn(1),o=e.clientWidth*i.x,c=e.clientHeight*i.y,l=s*i.x,u=n*i.y;return{width:o,height:c,x:l,y:u}}function sb(e,t,r){let n;if(t==="viewport")n=jL(e,r);else if(t==="document")n=bL(Xn(e));else if(bn(t))n=wL(t,r);else{const s=bA(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return qu(n)}function wA(e,t){const r=Ja(e);return r===t||!bn(r)||Ui(r)?!1:jn(r).position==="fixed"||wA(r,t)}function NL(e,t){const r=t.get(e);if(r)return r;let n=Fc(e,[],!1).filter(c=>bn(c)&&So(c)!=="body"),s=null;const i=jn(e).position==="fixed";let o=i?Ja(e):e;for(;bn(o)&&!Ui(o);){const c=jn(o),l=cv(o);!l&&c.position==="fixed"&&(s=null),(i?!l&&!s:!l&&c.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Cl(o)&&!l&&wA(e,o))?n=n.filter(d=>d!==o):s=c,o=Ja(o)}return t.set(e,n),n}function SL(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const o=[...r==="clippingAncestors"?wf(t)?[]:NL(t,this._c):[].concat(r),n],c=o[0],l=o.reduce((u,d)=>{const f=sb(t,d,s);return u.top=Ir(f.top,u.top),u.right=Xa(f.right,u.right),u.bottom=Xa(f.bottom,u.bottom),u.left=Ir(f.left,u.left),u},sb(t,c,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function AL(e){const{width:t,height:r}=yA(e);return{width:t,height:r}}function OL(e,t,r){const n=Hn(t),s=Xn(t),i=r==="fixed",o=Vs(e,!0,i,t);let c={scrollLeft:0,scrollTop:0};const l=Rn(0);if(n||!n&&!i)if((So(t)!=="body"||Cl(s))&&(c=Nf(t)),n){const h=Vs(t,!0,i,t);l.x=h.x+t.clientLeft,l.y=h.y+t.clientTop}else s&&(l.x=dv(s));const u=s&&!n&&!i?jA(s,c):Rn(0),d=o.left+c.scrollLeft-l.x-u.x,f=o.top+c.scrollTop-l.y-u.y;return{x:d,y:f,width:o.width,height:o.height}}function zh(e){return jn(e).position==="static"}function ib(e,t){if(!Hn(e)||jn(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Xn(e)===r&&(r=r.ownerDocument.body),r}function NA(e,t){const r=Br(e);if(wf(e))return r;if(!Hn(e)){let s=Ja(e);for(;s&&!Ui(s);){if(bn(s)&&!zh(s))return s;s=Ja(s)}return r}let n=ib(e,t);for(;n&&mL(n)&&zh(n);)n=ib(n,t);return n&&Ui(n)&&zh(n)&&!cv(n)?r:n||pL(e)||r}const _L=async function(e){const t=this.getOffsetParent||NA,r=this.getDimensions,n=await r(e.floating);return{reference:OL(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function PL(e){return jn(e).direction==="rtl"}const CL={convertOffsetParentRelativeRectToViewportRelativeRect:xL,getDocumentElement:Xn,getClippingRect:SL,getOffsetParent:NA,getElementRects:_L,getClientRects:yL,getDimensions:AL,getScale:Ii,isElement:bn,isRTL:PL};function SA(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function kL(e,t){let r=null,n;const s=Xn(e);function i(){var c;clearTimeout(n),(c=r)==null||c.disconnect(),r=null}function o(c,l){c===void 0&&(c=!1),l===void 0&&(l=1),i();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:p}=u;if(c||t(),!h||!p)return;const v=Kl(f),m=Kl(s.clientWidth-(d+h)),x=Kl(s.clientHeight-(f+p)),b=Kl(d),j={rootMargin:-v+"px "+-m+"px "+-x+"px "+-b+"px",threshold:Ir(0,Xa(1,l))||1};let S=!0;function N(w){const A=w[0].intersectionRatio;if(A!==l){if(!S)return o();A?o(!1,A):n=setTimeout(()=>{o(!1,1e-7)},1e3)}A===1&&!SA(u,e.getBoundingClientRect())&&o(),S=!1}try{r=new IntersectionObserver(N,{...j,root:s.ownerDocument})}catch{r=new IntersectionObserver(N,j)}r.observe(e)}return o(!0),i}function TL(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,u=uv(e),d=s||i?[...u?Fc(u):[],...Fc(t)]:[];d.forEach(b=>{s&&b.addEventListener("scroll",r,{passive:!0}),i&&b.addEventListener("resize",r)});const f=u&&c?kL(u,r):null;let h=-1,p=null;o&&(p=new ResizeObserver(b=>{let[y]=b;y&&y.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var j;(j=p)==null||j.observe(t)})),r()}),u&&!l&&p.observe(u),p.observe(t));let v,m=l?Vs(e):null;l&&x();function x(){const b=Vs(e);m&&!SA(m,b)&&r(),m=b,v=requestAnimationFrame(x)}return r(),()=>{var b;d.forEach(y=>{s&&y.removeEventListener("scroll",r),i&&y.removeEventListener("resize",r)}),f==null||f(),(b=p)==null||b.disconnect(),p=null,l&&cancelAnimationFrame(v)}}const EL=uL,$L=dL,DL=oL,IL=hL,ML=cL,ob=iL,RL=fL,LL=(e,t,r)=>{const n=new Map,s={platform:CL,...r},i={...s.platform,_c:n};return sL(e,t,{...s,platform:i})};var bu=typeof document<"u"?g.useLayoutEffect:g.useEffect;function Ku(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Ku(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&e.$$typeof)&&!Ku(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function AA(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function cb(e,t){const r=AA(e);return Math.round(t*r)/r}function Uh(e){const t=g.useRef(e);return bu(()=>{t.current=e}),t}function FL(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:o}={},transform:c=!0,whileElementsMounted:l,open:u}=e,[d,f]=g.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=g.useState(n);Ku(h,n)||p(n);const[v,m]=g.useState(null),[x,b]=g.useState(null),y=g.useCallback(q=>{q!==w.current&&(w.current=q,m(q))},[]),j=g.useCallback(q=>{q!==A.current&&(A.current=q,b(q))},[]),S=i||v,N=o||x,w=g.useRef(null),A=g.useRef(null),O=g.useRef(d),_=l!=null,C=Uh(l),P=Uh(s),k=Uh(u),T=g.useCallback(()=>{if(!w.current||!A.current)return;const q={placement:t,strategy:r,middleware:h};P.current&&(q.platform=P.current),LL(w.current,A.current,q).then(M=>{const J={...M,isPositioned:k.current!==!1};E.current&&!Ku(O.current,J)&&(O.current=J,Qs.flushSync(()=>{f(J)}))})},[h,t,r,P,k]);bu(()=>{u===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,f(q=>({...q,isPositioned:!1})))},[u]);const E=g.useRef(!1);bu(()=>(E.current=!0,()=>{E.current=!1}),[]),bu(()=>{if(S&&(w.current=S),N&&(A.current=N),S&&N){if(C.current)return C.current(S,N,T);T()}},[S,N,T,C,_]);const I=g.useMemo(()=>({reference:w,floating:A,setReference:y,setFloating:j}),[y,j]),F=g.useMemo(()=>({reference:S,floating:N}),[S,N]),$=g.useMemo(()=>{const q={position:r,left:0,top:0};if(!F.floating)return q;const M=cb(F.floating,d.x),J=cb(F.floating,d.y);return c?{...q,transform:"translate("+M+"px, "+J+"px)",...AA(F.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:M,top:J}},[r,c,F.floating,d.x,d.y]);return g.useMemo(()=>({...d,update:T,refs:I,elements:F,floatingStyles:$}),[d,T,I,F,$])}const BL=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?ob({element:n.current,padding:s}).fn(r):{}:n?ob({element:n,padding:s}).fn(r):{}}}},VL=(e,t)=>({...EL(e),options:[e,t]}),zL=(e,t)=>({...$L(e),options:[e,t]}),UL=(e,t)=>({...RL(e),options:[e,t]}),WL=(e,t)=>({...DL(e),options:[e,t]}),HL=(e,t)=>({...IL(e),options:[e,t]}),qL=(e,t)=>({...ML(e),options:[e,t]}),KL=(e,t)=>({...BL(e),options:[e,t]});var GL="Arrow",OA=g.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...i}=e;return a.jsx(Bt.svg,{...i,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});OA.displayName=GL;var ZL=OA;function XL(e){const[t,r]=g.useState(void 0);return Pr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,c;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,c=u.blockSize}else o=e.offsetWidth,c=e.offsetHeight;r({width:o,height:c})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var fv="Popper",[_A,PA]=nv(fv),[YL,CA]=_A(fv),kA=e=>{const{__scopePopper:t,children:r}=e,[n,s]=g.useState(null);return a.jsx(YL,{scope:t,anchor:n,onAnchorChange:s,children:r})};kA.displayName=fv;var TA="PopperAnchor",EA=g.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,i=CA(TA,r),o=g.useRef(null),c=cr(t,o);return g.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:a.jsx(Bt.div,{...s,ref:c})});EA.displayName=TA;var hv="PopperContent",[JL,QL]=_A(hv),$A=g.forwardRef((e,t)=>{var pe,Oe,R,de,fe,ee;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:c=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:v,...m}=e,x=CA(hv,r),[b,y]=g.useState(null),j=cr(t,Me=>y(Me)),[S,N]=g.useState(null),w=XL(S),A=(w==null?void 0:w.width)??0,O=(w==null?void 0:w.height)??0,_=n+(i!=="center"?"-"+i:""),C=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},P=Array.isArray(u)?u:[u],k=P.length>0,T={padding:C,boundary:P.filter(tF),altBoundary:k},{refs:E,floatingStyles:I,placement:F,isPositioned:$,middlewareData:q}=FL({strategy:"fixed",placement:_,whileElementsMounted:(...Me)=>TL(...Me,{animationFrame:p==="always"}),elements:{reference:x.anchor},middleware:[VL({mainAxis:s+O,alignmentAxis:o}),l&&zL({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?UL():void 0,...T}),l&&WL({...T}),HL({...T,apply:({elements:Me,rects:Se,availableWidth:tt,availableHeight:nt})=>{const{width:ze,height:L}=Se.reference,X=Me.floating.style;X.setProperty("--radix-popper-available-width",`${tt}px`),X.setProperty("--radix-popper-available-height",`${nt}px`),X.setProperty("--radix-popper-anchor-width",`${ze}px`),X.setProperty("--radix-popper-anchor-height",`${L}px`)}}),S&&KL({element:S,padding:c}),rF({arrowWidth:A,arrowHeight:O}),h&&qL({strategy:"referenceHidden",...T})]}),[M,J]=MA(F),V=Bs(v);Pr(()=>{$&&(V==null||V())},[$,V]);const z=(pe=q.arrow)==null?void 0:pe.x,B=(Oe=q.arrow)==null?void 0:Oe.y,G=((R=q.arrow)==null?void 0:R.centerOffset)!==0,[ce,we]=g.useState();return Pr(()=>{b&&we(window.getComputedStyle(b).zIndex)},[b]),a.jsx("div",{ref:E.setFloating,"data-radix-popper-content-wrapper":"",style:{...I,transform:$?I.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ce,"--radix-popper-transform-origin":[(de=q.transformOrigin)==null?void 0:de.x,(fe=q.transformOrigin)==null?void 0:fe.y].join(" "),...((ee=q.hide)==null?void 0:ee.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(JL,{scope:r,placedSide:M,onArrowChange:N,arrowX:z,arrowY:B,shouldHideArrow:G,children:a.jsx(Bt.div,{"data-side":M,"data-align":J,...m,ref:j,style:{...m.style,animation:$?void 0:"none"}})})})});$A.displayName=hv;var DA="PopperArrow",eF={top:"bottom",right:"left",bottom:"top",left:"right"},IA=g.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,i=QL(DA,n),o=eF[i.placedSide];return a.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:a.jsx(ZL,{...s,ref:r,style:{...s.style,display:"block"}})})});IA.displayName=DA;function tF(e){return e!==null}var rF=e=>({name:"transformOrigin",options:e,fn(t){var x,b,y;const{placement:r,rects:n,middlewareData:s}=t,o=((x=s.arrow)==null?void 0:x.centerOffset)!==0,c=o?0:e.arrowWidth,l=o?0:e.arrowHeight,[u,d]=MA(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((b=s.arrow)==null?void 0:b.x)??0)+c/2,p=(((y=s.arrow)==null?void 0:y.y)??0)+l/2;let v="",m="";return u==="bottom"?(v=o?f:`${h}px`,m=`${-l}px`):u==="top"?(v=o?f:`${h}px`,m=`${n.floating.height+l}px`):u==="right"?(v=`${-l}px`,m=o?f:`${p}px`):u==="left"&&(v=`${n.floating.width+l}px`,m=o?f:`${p}px`),{data:{x:v,y:m}}}});function MA(e){const[t,r="center"]=e.split("-");return[t,r]}var nF=kA,aF=EA,sF=$A,iF=IA,oF="Portal",RA=g.forwardRef((e,t)=>{var c;const{container:r,...n}=e,[s,i]=g.useState(!1);Pr(()=>i(!0),[]);const o=r||s&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return o?kg.createPortal(a.jsx(Bt.div,{...n,ref:t}),o):null});RA.displayName=oF;var cF=es[" useInsertionEffect ".trim().toString()]||Pr;function lb({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,i,o]=lF({defaultProp:t,onChange:r}),c=e!==void 0,l=c?e:s;{const d=g.useRef(e!==void 0);g.useEffect(()=>{const f=d.current;f!==c&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=c},[c,n])}const u=g.useCallback(d=>{var f;if(c){const h=uF(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else i(d)},[c,e,i,o]);return[l,u]}function lF({defaultProp:e,onChange:t}){const[r,n]=g.useState(e),s=g.useRef(r),i=g.useRef(t);return cF(()=>{i.current=t},[t]),g.useEffect(()=>{var o;s.current!==r&&((o=i.current)==null||o.call(i,r),s.current=r)},[r,s]),[r,n,i]}function uF(e){return typeof e=="function"}function dF(e){const t=g.useRef({value:e,previous:e});return g.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var LA=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),fF="VisuallyHidden",hF=g.forwardRef((e,t)=>a.jsx(Bt.span,{...e,ref:t,style:{...LA,...e.style}}));hF.displayName=fF;var mF=[" ","Enter","ArrowUp","ArrowDown"],pF=[" ","Enter"],zs="Select",[Sf,Af,gF]=P3(zs),[Ao,Lde]=nv(zs,[gF,PA]),Of=PA(),[vF,rs]=Ao(zs),[xF,yF]=Ao(zs),FA=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:i,value:o,defaultValue:c,onValueChange:l,dir:u,name:d,autoComplete:f,disabled:h,required:p,form:v}=e,m=Of(t),[x,b]=g.useState(null),[y,j]=g.useState(null),[S,N]=g.useState(!1),w=k3(u),[A,O]=lb({prop:n,defaultProp:s??!1,onChange:i,caller:zs}),[_,C]=lb({prop:o,defaultProp:c,onChange:l,caller:zs}),P=g.useRef(null),k=x?v||!!x.closest("form"):!0,[T,E]=g.useState(new Set),I=Array.from(T).map(F=>F.props.value).join(";");return a.jsx(nF,{...m,children:a.jsxs(vF,{required:p,scope:t,trigger:x,onTriggerChange:b,valueNode:y,onValueNodeChange:j,valueNodeHasChildren:S,onValueNodeHasChildrenChange:N,contentId:av(),value:_,onValueChange:C,open:A,onOpenChange:O,dir:w,triggerPointerDownPosRef:P,disabled:h,children:[a.jsx(Sf.Provider,{scope:t,children:a.jsx(xF,{scope:e.__scopeSelect,onNativeOptionAdd:g.useCallback(F=>{E($=>new Set($).add(F))},[]),onNativeOptionRemove:g.useCallback(F=>{E($=>{const q=new Set($);return q.delete(F),q})},[]),children:r})}),k?a.jsxs(lO,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:_,onChange:F=>C(F.target.value),disabled:h,form:v,children:[_===void 0?a.jsx("option",{value:""}):null,Array.from(T)]},I):null]})})};FA.displayName=zs;var BA="SelectTrigger",VA=g.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,i=Of(r),o=rs(BA,r),c=o.disabled||n,l=cr(t,o.onTriggerChange),u=Af(r),d=g.useRef("touch"),[f,h,p]=dO(m=>{const x=u().filter(j=>!j.disabled),b=x.find(j=>j.value===o.value),y=fO(x,m,b);y!==void 0&&o.onValueChange(y.value)}),v=m=>{c||(o.onOpenChange(!0),p()),m&&(o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return a.jsx(aF,{asChild:!0,...i,children:a.jsx(Bt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":uO(o.value)?"":void 0,...s,ref:l,onClick:Wt(s.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&v(m)}),onPointerDown:Wt(s.onPointerDown,m=>{d.current=m.pointerType;const x=m.target;x.hasPointerCapture(m.pointerId)&&x.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(v(m),m.preventDefault())}),onKeyDown:Wt(s.onKeyDown,m=>{const x=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&h(m.key),!(x&&m.key===" ")&&mF.includes(m.key)&&(v(),m.preventDefault())})})})});VA.displayName=BA;var zA="SelectValue",UA=g.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:i,placeholder:o="",...c}=e,l=rs(zA,r),{onValueNodeHasChildrenChange:u}=l,d=i!==void 0,f=cr(t,l.onValueNodeChange);return Pr(()=>{u(d)},[u,d]),a.jsx(Bt.span,{...c,ref:f,style:{pointerEvents:"none"},children:uO(l.value)?a.jsx(a.Fragment,{children:o}):i})});UA.displayName=zA;var bF="SelectIcon",WA=g.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return a.jsx(Bt.span,{"aria-hidden":!0,...s,ref:t,children:n||"▼"})});WA.displayName=bF;var jF="SelectPortal",HA=e=>a.jsx(RA,{asChild:!0,...e});HA.displayName=jF;var Us="SelectContent",qA=g.forwardRef((e,t)=>{const r=rs(Us,e.__scopeSelect),[n,s]=g.useState();if(Pr(()=>{s(new DocumentFragment)},[]),!r.open){const i=n;return i?Qs.createPortal(a.jsx(KA,{scope:e.__scopeSelect,children:a.jsx(Sf.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),i):null}return a.jsx(GA,{...e,ref:t})});qA.displayName=Us;var dn=10,[KA,ns]=Ao(Us),wF="SelectContentImpl",NF=sn("SelectContent.RemoveScroll"),GA=g.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:c,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:v,hideWhenDetached:m,avoidCollisions:x,...b}=e,y=rs(Us,r),[j,S]=g.useState(null),[N,w]=g.useState(null),A=cr(t,pe=>S(pe)),[O,_]=g.useState(null),[C,P]=g.useState(null),k=Af(r),[T,E]=g.useState(!1),I=g.useRef(!1);g.useEffect(()=>{if(j)return qg(j)},[j]),V3();const F=g.useCallback(pe=>{const[Oe,...R]=k().map(ee=>ee.ref.current),[de]=R.slice(-1),fe=document.activeElement;for(const ee of pe)if(ee===fe||(ee==null||ee.scrollIntoView({block:"nearest"}),ee===Oe&&N&&(N.scrollTop=0),ee===de&&N&&(N.scrollTop=N.scrollHeight),ee==null||ee.focus(),document.activeElement!==fe))return},[k,N]),$=g.useCallback(()=>F([O,j]),[F,O,j]);g.useEffect(()=>{T&&$()},[T,$]);const{onOpenChange:q,triggerPointerDownPosRef:M}=y;g.useEffect(()=>{if(j){let pe={x:0,y:0};const Oe=de=>{var fe,ee;pe={x:Math.abs(Math.round(de.pageX)-(((fe=M.current)==null?void 0:fe.x)??0)),y:Math.abs(Math.round(de.pageY)-(((ee=M.current)==null?void 0:ee.y)??0))}},R=de=>{pe.x<=10&&pe.y<=10?de.preventDefault():j.contains(de.target)||q(!1),document.removeEventListener("pointermove",Oe),M.current=null};return M.current!==null&&(document.addEventListener("pointermove",Oe),document.addEventListener("pointerup",R,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Oe),document.removeEventListener("pointerup",R,{capture:!0})}}},[j,q,M]),g.useEffect(()=>{const pe=()=>q(!1);return window.addEventListener("blur",pe),window.addEventListener("resize",pe),()=>{window.removeEventListener("blur",pe),window.removeEventListener("resize",pe)}},[q]);const[J,V]=dO(pe=>{const Oe=k().filter(fe=>!fe.disabled),R=Oe.find(fe=>fe.ref.current===document.activeElement),de=fO(Oe,pe,R);de&&setTimeout(()=>de.ref.current.focus())}),z=g.useCallback((pe,Oe,R)=>{const de=!I.current&&!R;(y.value!==void 0&&y.value===Oe||de)&&(_(pe),de&&(I.current=!0))},[y.value]),B=g.useCallback(()=>j==null?void 0:j.focus(),[j]),G=g.useCallback((pe,Oe,R)=>{const de=!I.current&&!R;(y.value!==void 0&&y.value===Oe||de)&&P(pe)},[y.value]),ce=n==="popper"?Gm:ZA,we=ce===Gm?{side:c,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:v,hideWhenDetached:m,avoidCollisions:x}:{};return a.jsx(KA,{scope:r,content:j,viewport:N,onViewportChange:w,itemRefCallback:z,selectedItem:O,onItemLeave:B,itemTextRefCallback:G,focusSelectedItem:$,selectedItemText:C,position:n,isPositioned:T,searchRef:J,children:a.jsx(gf,{as:NF,allowPinchZoom:!0,children:a.jsx(mA,{asChild:!0,trapped:y.open,onMountAutoFocus:pe=>{pe.preventDefault()},onUnmountAutoFocus:Wt(s,pe=>{var Oe;(Oe=y.trigger)==null||Oe.focus({preventScroll:!0}),pe.preventDefault()}),children:a.jsx(fA,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:pe=>pe.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:a.jsx(ce,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:pe=>pe.preventDefault(),...b,...we,onPlaced:()=>E(!0),ref:A,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:Wt(b.onKeyDown,pe=>{const Oe=pe.ctrlKey||pe.altKey||pe.metaKey;if(pe.key==="Tab"&&pe.preventDefault(),!Oe&&pe.key.length===1&&V(pe.key),["ArrowUp","ArrowDown","Home","End"].includes(pe.key)){let de=k().filter(fe=>!fe.disabled).map(fe=>fe.ref.current);if(["ArrowUp","End"].includes(pe.key)&&(de=de.slice().reverse()),["ArrowUp","ArrowDown"].includes(pe.key)){const fe=pe.target,ee=de.indexOf(fe);de=de.slice(ee+1)}setTimeout(()=>F(de)),pe.preventDefault()}})})})})})})});GA.displayName=wF;var SF="SelectItemAlignedPosition",ZA=g.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,i=rs(Us,r),o=ns(Us,r),[c,l]=g.useState(null),[u,d]=g.useState(null),f=cr(t,A=>d(A)),h=Af(r),p=g.useRef(!1),v=g.useRef(!0),{viewport:m,selectedItem:x,selectedItemText:b,focusSelectedItem:y}=o,j=g.useCallback(()=>{if(i.trigger&&i.valueNode&&c&&u&&m&&x&&b){const A=i.trigger.getBoundingClientRect(),O=u.getBoundingClientRect(),_=i.valueNode.getBoundingClientRect(),C=b.getBoundingClientRect();if(i.dir!=="rtl"){const fe=C.left-O.left,ee=_.left-fe,Me=A.left-ee,Se=A.width+Me,tt=Math.max(Se,O.width),nt=window.innerWidth-dn,ze=qy(ee,[dn,Math.max(dn,nt-tt)]);c.style.minWidth=Se+"px",c.style.left=ze+"px"}else{const fe=O.right-C.right,ee=window.innerWidth-_.right-fe,Me=window.innerWidth-A.right-ee,Se=A.width+Me,tt=Math.max(Se,O.width),nt=window.innerWidth-dn,ze=qy(ee,[dn,Math.max(dn,nt-tt)]);c.style.minWidth=Se+"px",c.style.right=ze+"px"}const P=h(),k=window.innerHeight-dn*2,T=m.scrollHeight,E=window.getComputedStyle(u),I=parseInt(E.borderTopWidth,10),F=parseInt(E.paddingTop,10),$=parseInt(E.borderBottomWidth,10),q=parseInt(E.paddingBottom,10),M=I+F+T+q+$,J=Math.min(x.offsetHeight*5,M),V=window.getComputedStyle(m),z=parseInt(V.paddingTop,10),B=parseInt(V.paddingBottom,10),G=A.top+A.height/2-dn,ce=k-G,we=x.offsetHeight/2,pe=x.offsetTop+we,Oe=I+F+pe,R=M-Oe;if(Oe<=G){const fe=P.length>0&&x===P[P.length-1].ref.current;c.style.bottom="0px";const ee=u.clientHeight-m.offsetTop-m.offsetHeight,Me=Math.max(ce,we+(fe?B:0)+ee+$),Se=Oe+Me;c.style.height=Se+"px"}else{const fe=P.length>0&&x===P[0].ref.current;c.style.top="0px";const Me=Math.max(G,I+m.offsetTop+(fe?z:0)+we)+R;c.style.height=Me+"px",m.scrollTop=Oe-G+m.offsetTop}c.style.margin=`${dn}px 0`,c.style.minHeight=J+"px",c.style.maxHeight=k+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[h,i.trigger,i.valueNode,c,u,m,x,b,i.dir,n]);Pr(()=>j(),[j]);const[S,N]=g.useState();Pr(()=>{u&&N(window.getComputedStyle(u).zIndex)},[u]);const w=g.useCallback(A=>{A&&v.current===!0&&(j(),y==null||y(),v.current=!1)},[j,y]);return a.jsx(OF,{scope:r,contentWrapper:c,shouldExpandOnScrollRef:p,onScrollButtonChange:w,children:a.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:a.jsx(Bt.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});ZA.displayName=SF;var AF="SelectPopperPosition",Gm=g.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=dn,...i}=e,o=Of(r);return a.jsx(sF,{...o,...i,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Gm.displayName=AF;var[OF,mv]=Ao(Us,{}),Zm="SelectViewport",XA=g.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,i=ns(Zm,r),o=mv(Zm,r),c=cr(t,i.onViewportChange),l=g.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(Sf.Slot,{scope:r,children:a.jsx(Bt.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Wt(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const p=Math.abs(l.current-d.scrollTop);if(p>0){const v=window.innerHeight-dn*2,m=parseFloat(f.style.minHeight),x=parseFloat(f.style.height),b=Math.max(m,x);if(b<v){const y=b+p,j=Math.min(v,y),S=y-j;f.style.height=j+"px",f.style.bottom==="0px"&&(d.scrollTop=S>0?S:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});XA.displayName=Zm;var YA="SelectGroup",[_F,PF]=Ao(YA),CF=g.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=av();return a.jsx(_F,{scope:r,id:s,children:a.jsx(Bt.div,{role:"group","aria-labelledby":s,...n,ref:t})})});CF.displayName=YA;var JA="SelectLabel",QA=g.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=PF(JA,r);return a.jsx(Bt.div,{id:s.id,...n,ref:t})});QA.displayName=JA;var Gu="SelectItem",[kF,eO]=Ao(Gu),tO=g.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:i,...o}=e,c=rs(Gu,r),l=ns(Gu,r),u=c.value===n,[d,f]=g.useState(i??""),[h,p]=g.useState(!1),v=cr(t,y=>{var j;return(j=l.itemRefCallback)==null?void 0:j.call(l,y,n,s)}),m=av(),x=g.useRef("touch"),b=()=>{s||(c.onValueChange(n),c.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(kF,{scope:r,value:n,disabled:s,textId:m,isSelected:u,onItemTextChange:g.useCallback(y=>{f(j=>j||((y==null?void 0:y.textContent)??"").trim())},[]),children:a.jsx(Sf.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:a.jsx(Bt.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:v,onFocus:Wt(o.onFocus,()=>p(!0)),onBlur:Wt(o.onBlur,()=>p(!1)),onClick:Wt(o.onClick,()=>{x.current!=="mouse"&&b()}),onPointerUp:Wt(o.onPointerUp,()=>{x.current==="mouse"&&b()}),onPointerDown:Wt(o.onPointerDown,y=>{x.current=y.pointerType}),onPointerMove:Wt(o.onPointerMove,y=>{var j;x.current=y.pointerType,s?(j=l.onItemLeave)==null||j.call(l):x.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Wt(o.onPointerLeave,y=>{var j;y.currentTarget===document.activeElement&&((j=l.onItemLeave)==null||j.call(l))}),onKeyDown:Wt(o.onKeyDown,y=>{var S;((S=l.searchRef)==null?void 0:S.current)!==""&&y.key===" "||(pF.includes(y.key)&&b(),y.key===" "&&y.preventDefault())})})})})});tO.displayName=Gu;var cc="SelectItemText",rO=g.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...i}=e,o=rs(cc,r),c=ns(cc,r),l=eO(cc,r),u=yF(cc,r),[d,f]=g.useState(null),h=cr(t,b=>f(b),l.onItemTextChange,b=>{var y;return(y=c.itemTextRefCallback)==null?void 0:y.call(c,b,l.value,l.disabled)}),p=d==null?void 0:d.textContent,v=g.useMemo(()=>a.jsx("option",{value:l.value,disabled:l.disabled,children:p},l.value),[l.disabled,l.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:x}=u;return Pr(()=>(m(v),()=>x(v)),[m,x,v]),a.jsxs(a.Fragment,{children:[a.jsx(Bt.span,{id:l.textId,...i,ref:h}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Qs.createPortal(i.children,o.valueNode):null]})});rO.displayName=cc;var nO="SelectItemIndicator",aO=g.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return eO(nO,r).isSelected?a.jsx(Bt.span,{"aria-hidden":!0,...n,ref:t}):null});aO.displayName=nO;var Xm="SelectScrollUpButton",sO=g.forwardRef((e,t)=>{const r=ns(Xm,e.__scopeSelect),n=mv(Xm,e.__scopeSelect),[s,i]=g.useState(!1),o=cr(t,n.onScrollButtonChange);return Pr(()=>{if(r.viewport&&r.isPositioned){let c=function(){const u=l.scrollTop>0;i(u)};const l=r.viewport;return c(),l.addEventListener("scroll",c),()=>l.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),s?a.jsx(oO,{...e,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:l}=r;c&&l&&(c.scrollTop=c.scrollTop-l.offsetHeight)}}):null});sO.displayName=Xm;var Ym="SelectScrollDownButton",iO=g.forwardRef((e,t)=>{const r=ns(Ym,e.__scopeSelect),n=mv(Ym,e.__scopeSelect),[s,i]=g.useState(!1),o=cr(t,n.onScrollButtonChange);return Pr(()=>{if(r.viewport&&r.isPositioned){let c=function(){const u=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<u;i(d)};const l=r.viewport;return c(),l.addEventListener("scroll",c),()=>l.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),s?a.jsx(oO,{...e,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:l}=r;c&&l&&(c.scrollTop=c.scrollTop+l.offsetHeight)}}):null});iO.displayName=Ym;var oO=g.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,i=ns("SelectScrollButton",r),o=g.useRef(null),c=Af(r),l=g.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return g.useEffect(()=>()=>l(),[l]),Pr(()=>{var d;const u=c().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[c]),a.jsx(Bt.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:Wt(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Wt(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Wt(s.onPointerLeave,()=>{l()})})}),TF="SelectSeparator",cO=g.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return a.jsx(Bt.div,{"aria-hidden":!0,...n,ref:t})});cO.displayName=TF;var Jm="SelectArrow",EF=g.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Of(r),i=rs(Jm,r),o=ns(Jm,r);return i.open&&o.position==="popper"?a.jsx(iF,{...s,...n,ref:t}):null});EF.displayName=Jm;var $F="SelectBubbleInput",lO=g.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const s=g.useRef(null),i=cr(n,s),o=dF(t);return g.useEffect(()=>{const c=s.current;if(!c)return;const l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(c,t),c.dispatchEvent(f)}},[o,t]),a.jsx(Bt.select,{...r,style:{...LA,...r.style},ref:i,defaultValue:t})});lO.displayName=$F;function uO(e){return e===""||e===void 0}function dO(e){const t=Bs(e),r=g.useRef(""),n=g.useRef(0),s=g.useCallback(o=>{const c=r.current+o;t(c),function l(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>l(""),1e3))}(c)},[t]),i=g.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,i]}function fO(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=DF(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==r));const l=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==r?l:void 0}function DF(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var IF=FA,hO=VA,MF=UA,RF=WA,LF=HA,mO=qA,FF=XA,pO=QA,gO=tO,BF=rO,VF=aO,vO=sO,xO=iO,yO=cO;const tn=IF,rn=MF,Rr=g.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(hO,{ref:n,className:He("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,a.jsx(RF,{asChild:!0,children:a.jsx(gN,{className:"h-4 w-4 opacity-50"})})]}));Rr.displayName=hO.displayName;const bO=g.forwardRef(({className:e,...t},r)=>a.jsx(vO,{ref:r,className:He("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(X$,{className:"h-4 w-4"})}));bO.displayName=vO.displayName;const jO=g.forwardRef(({className:e,...t},r)=>a.jsx(xO,{ref:r,className:He("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(gN,{className:"h-4 w-4"})}));jO.displayName=xO.displayName;const Lr=g.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>a.jsx(LF,{children:a.jsxs(mO,{ref:s,className:He("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[a.jsx(bO,{}),a.jsx(FF,{className:He("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(jO,{})]})}));Lr.displayName=mO.displayName;const zF=g.forwardRef(({className:e,...t},r)=>a.jsx(pO,{ref:r,className:He("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));zF.displayName=pO.displayName;const at=g.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(gO,{ref:n,className:He("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(VF,{children:a.jsx(pN,{className:"h-4 w-4"})})}),a.jsx(BF,{children:t})]}));at.displayName=gO.displayName;const UF=g.forwardRef(({className:e,...t},r)=>a.jsx(yO,{ref:r,className:He("-mx-1 my-1 h-px bg-muted",e),...t}));UF.displayName=yO.displayName;var WF=Array.isArray,kr=WF,HF=typeof Ll=="object"&&Ll&&Ll.Object===Object&&Ll,wO=HF,qF=wO,KF=typeof self=="object"&&self&&self.Object===Object&&self,GF=qF||KF||Function("return this")(),Yn=GF,ZF=Yn,XF=ZF.Symbol,kl=XF,ub=kl,NO=Object.prototype,YF=NO.hasOwnProperty,JF=NO.toString,Go=ub?ub.toStringTag:void 0;function QF(e){var t=YF.call(e,Go),r=e[Go];try{e[Go]=void 0;var n=!0}catch{}var s=JF.call(e);return n&&(t?e[Go]=r:delete e[Go]),s}var e5=QF,t5=Object.prototype,r5=t5.toString;function n5(e){return r5.call(e)}var a5=n5,db=kl,s5=e5,i5=a5,o5="[object Null]",c5="[object Undefined]",fb=db?db.toStringTag:void 0;function l5(e){return e==null?e===void 0?c5:o5:fb&&fb in Object(e)?s5(e):i5(e)}var Aa=l5;function u5(e){return e!=null&&typeof e=="object"}var Oa=u5,d5=Aa,f5=Oa,h5="[object Symbol]";function m5(e){return typeof e=="symbol"||f5(e)&&d5(e)==h5}var Oo=m5,p5=kr,g5=Oo,v5=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,x5=/^\w*$/;function y5(e,t){if(p5(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||g5(e)?!0:x5.test(e)||!v5.test(e)||t!=null&&e in Object(t)}var pv=y5;function b5(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var as=b5;const _o=xt(as);var j5=Aa,w5=as,N5="[object AsyncFunction]",S5="[object Function]",A5="[object GeneratorFunction]",O5="[object Proxy]";function _5(e){if(!w5(e))return!1;var t=j5(e);return t==S5||t==A5||t==N5||t==O5}var gv=_5;const We=xt(gv);var P5=Yn,C5=P5["__core-js_shared__"],k5=C5,Wh=k5,hb=function(){var e=/[^.]+$/.exec(Wh&&Wh.keys&&Wh.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function T5(e){return!!hb&&hb in e}var E5=T5,$5=Function.prototype,D5=$5.toString;function I5(e){if(e!=null){try{return D5.call(e)}catch{}try{return e+""}catch{}}return""}var SO=I5,M5=gv,R5=E5,L5=as,F5=SO,B5=/[\\^$.*+?()[\]{}|]/g,V5=/^\[object .+?Constructor\]$/,z5=Function.prototype,U5=Object.prototype,W5=z5.toString,H5=U5.hasOwnProperty,q5=RegExp("^"+W5.call(H5).replace(B5,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function K5(e){if(!L5(e)||R5(e))return!1;var t=M5(e)?q5:V5;return t.test(F5(e))}var G5=K5;function Z5(e,t){return e==null?void 0:e[t]}var X5=Z5,Y5=G5,J5=X5;function Q5(e,t){var r=J5(e,t);return Y5(r)?r:void 0}var ai=Q5,e6=ai,t6=e6(Object,"create"),_f=t6,mb=_f;function r6(){this.__data__=mb?mb(null):{},this.size=0}var n6=r6;function a6(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var s6=a6,i6=_f,o6="__lodash_hash_undefined__",c6=Object.prototype,l6=c6.hasOwnProperty;function u6(e){var t=this.__data__;if(i6){var r=t[e];return r===o6?void 0:r}return l6.call(t,e)?t[e]:void 0}var d6=u6,f6=_f,h6=Object.prototype,m6=h6.hasOwnProperty;function p6(e){var t=this.__data__;return f6?t[e]!==void 0:m6.call(t,e)}var g6=p6,v6=_f,x6="__lodash_hash_undefined__";function y6(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=v6&&t===void 0?x6:t,this}var b6=y6,j6=n6,w6=s6,N6=d6,S6=g6,A6=b6;function Po(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Po.prototype.clear=j6;Po.prototype.delete=w6;Po.prototype.get=N6;Po.prototype.has=S6;Po.prototype.set=A6;var O6=Po;function _6(){this.__data__=[],this.size=0}var P6=_6;function C6(e,t){return e===t||e!==e&&t!==t}var vv=C6,k6=vv;function T6(e,t){for(var r=e.length;r--;)if(k6(e[r][0],t))return r;return-1}var Pf=T6,E6=Pf,$6=Array.prototype,D6=$6.splice;function I6(e){var t=this.__data__,r=E6(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():D6.call(t,r,1),--this.size,!0}var M6=I6,R6=Pf;function L6(e){var t=this.__data__,r=R6(t,e);return r<0?void 0:t[r][1]}var F6=L6,B6=Pf;function V6(e){return B6(this.__data__,e)>-1}var z6=V6,U6=Pf;function W6(e,t){var r=this.__data__,n=U6(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var H6=W6,q6=P6,K6=M6,G6=F6,Z6=z6,X6=H6;function Co(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Co.prototype.clear=q6;Co.prototype.delete=K6;Co.prototype.get=G6;Co.prototype.has=Z6;Co.prototype.set=X6;var Cf=Co,Y6=ai,J6=Yn,Q6=Y6(J6,"Map"),xv=Q6,pb=O6,eB=Cf,tB=xv;function rB(){this.size=0,this.__data__={hash:new pb,map:new(tB||eB),string:new pb}}var nB=rB;function aB(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var sB=aB,iB=sB;function oB(e,t){var r=e.__data__;return iB(t)?r[typeof t=="string"?"string":"hash"]:r.map}var kf=oB,cB=kf;function lB(e){var t=cB(this,e).delete(e);return this.size-=t?1:0,t}var uB=lB,dB=kf;function fB(e){return dB(this,e).get(e)}var hB=fB,mB=kf;function pB(e){return mB(this,e).has(e)}var gB=pB,vB=kf;function xB(e,t){var r=vB(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var yB=xB,bB=nB,jB=uB,wB=hB,NB=gB,SB=yB;function ko(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ko.prototype.clear=bB;ko.prototype.delete=jB;ko.prototype.get=wB;ko.prototype.has=NB;ko.prototype.set=SB;var yv=ko,AO=yv,AB="Expected a function";function bv(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(AB);var r=function(){var n=arguments,s=t?t.apply(this,n):n[0],i=r.cache;if(i.has(s))return i.get(s);var o=e.apply(this,n);return r.cache=i.set(s,o)||i,o};return r.cache=new(bv.Cache||AO),r}bv.Cache=AO;var OO=bv;const OB=xt(OO);var _B=OO,PB=500;function CB(e){var t=_B(e,function(n){return r.size===PB&&r.clear(),n}),r=t.cache;return t}var kB=CB,TB=kB,EB=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$B=/\\(\\)?/g,DB=TB(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(EB,function(r,n,s,i){t.push(s?i.replace($B,"$1"):n||r)}),t}),IB=DB;function MB(e,t){for(var r=-1,n=e==null?0:e.length,s=Array(n);++r<n;)s[r]=t(e[r],r,e);return s}var jv=MB,gb=kl,RB=jv,LB=kr,FB=Oo,vb=gb?gb.prototype:void 0,xb=vb?vb.toString:void 0;function _O(e){if(typeof e=="string")return e;if(LB(e))return RB(e,_O)+"";if(FB(e))return xb?xb.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var BB=_O,VB=BB;function zB(e){return e==null?"":VB(e)}var PO=zB,UB=kr,WB=pv,HB=IB,qB=PO;function KB(e,t){return UB(e)?e:WB(e,t)?[e]:HB(qB(e))}var CO=KB,GB=Oo;function ZB(e){if(typeof e=="string"||GB(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Tf=ZB,XB=CO,YB=Tf;function JB(e,t){t=XB(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[YB(t[r++])];return r&&r==n?e:void 0}var wv=JB,QB=wv;function e8(e,t,r){var n=e==null?void 0:QB(e,t);return n===void 0?r:n}var kO=e8;const Vr=xt(kO);function t8(e){return e==null}var r8=t8;const Ge=xt(r8);var n8=Aa,a8=kr,s8=Oa,i8="[object String]";function o8(e){return typeof e=="string"||!a8(e)&&s8(e)&&n8(e)==i8}var c8=o8;const Ws=xt(c8);var TO={exports:{}},pt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nv=Symbol.for("react.element"),Sv=Symbol.for("react.portal"),Ef=Symbol.for("react.fragment"),$f=Symbol.for("react.strict_mode"),Df=Symbol.for("react.profiler"),If=Symbol.for("react.provider"),Mf=Symbol.for("react.context"),l8=Symbol.for("react.server_context"),Rf=Symbol.for("react.forward_ref"),Lf=Symbol.for("react.suspense"),Ff=Symbol.for("react.suspense_list"),Bf=Symbol.for("react.memo"),Vf=Symbol.for("react.lazy"),u8=Symbol.for("react.offscreen"),EO;EO=Symbol.for("react.module.reference");function cn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Nv:switch(e=e.type,e){case Ef:case Df:case $f:case Lf:case Ff:return e;default:switch(e=e&&e.$$typeof,e){case l8:case Mf:case Rf:case Vf:case Bf:case If:return e;default:return t}}case Sv:return t}}}pt.ContextConsumer=Mf;pt.ContextProvider=If;pt.Element=Nv;pt.ForwardRef=Rf;pt.Fragment=Ef;pt.Lazy=Vf;pt.Memo=Bf;pt.Portal=Sv;pt.Profiler=Df;pt.StrictMode=$f;pt.Suspense=Lf;pt.SuspenseList=Ff;pt.isAsyncMode=function(){return!1};pt.isConcurrentMode=function(){return!1};pt.isContextConsumer=function(e){return cn(e)===Mf};pt.isContextProvider=function(e){return cn(e)===If};pt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Nv};pt.isForwardRef=function(e){return cn(e)===Rf};pt.isFragment=function(e){return cn(e)===Ef};pt.isLazy=function(e){return cn(e)===Vf};pt.isMemo=function(e){return cn(e)===Bf};pt.isPortal=function(e){return cn(e)===Sv};pt.isProfiler=function(e){return cn(e)===Df};pt.isStrictMode=function(e){return cn(e)===$f};pt.isSuspense=function(e){return cn(e)===Lf};pt.isSuspenseList=function(e){return cn(e)===Ff};pt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Ef||e===Df||e===$f||e===Lf||e===Ff||e===u8||typeof e=="object"&&e!==null&&(e.$$typeof===Vf||e.$$typeof===Bf||e.$$typeof===If||e.$$typeof===Mf||e.$$typeof===Rf||e.$$typeof===EO||e.getModuleId!==void 0)};pt.typeOf=cn;TO.exports=pt;var d8=TO.exports,f8=Aa,h8=Oa,m8="[object Number]";function p8(e){return typeof e=="number"||h8(e)&&f8(e)==m8}var $O=p8;const g8=xt($O);var v8=$O;function x8(e){return v8(e)&&e!=+e}var y8=x8;const To=xt(y8);var xr=function(t){return t===0?0:t>0?1:-1},js=function(t){return Ws(t)&&t.indexOf("%")===t.length-1},ve=function(t){return g8(t)&&!To(t)},b8=function(t){return Ge(t)},Xt=function(t){return ve(t)||Ws(t)},j8=0,si=function(t){var r=++j8;return"".concat(t||"").concat(r)},yr=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ve(t)&&!Ws(t))return n;var i;if(js(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return To(i)&&(i=n),s&&i>r&&(i=r),i},La=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},w8=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},s=0;s<r;s++)if(!n[t[s]])n[t[s]]=!0;else return!0;return!1},Zt=function(t,r){return ve(t)&&ve(r)?function(n){return t+n*(r-t)}:function(){return r}};function Zu(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Vr(n,t))===r})}var N8=function(t,r){return ve(t)&&ve(r)?t-r:Ws(t)&&Ws(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Mi(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function Qm(e){"@babel/helpers - typeof";return Qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qm(e)}var S8=["viewBox","children"],A8=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],yb=["points","pathLength"],Hh={svg:S8,polygon:yb,polyline:yb},Av=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Xu=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(g.isValidElement(t)&&(n=t.props),!_o(n))return null;var s={};return Object.keys(n).forEach(function(i){Av.includes(i)&&(s[i]=r||function(o){return n[i](n,o)})}),s},O8=function(t,r,n){return function(s){return t(r,n,s),null}},Hs=function(t,r,n){if(!_o(t)||Qm(t)!=="object")return null;var s=null;return Object.keys(t).forEach(function(i){var o=t[i];Av.includes(i)&&typeof o=="function"&&(s||(s={}),s[i]=O8(o,r,n))}),s},_8=["children"],P8=["children"];function bb(e,t){if(e==null)return{};var r=C8(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function C8(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ep(e){"@babel/helpers - typeof";return ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ep(e)}var jb={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},pa=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},wb=null,qh=null,Ov=function e(t){if(t===wb&&Array.isArray(qh))return qh;var r=[];return g.Children.forEach(t,function(n){Ge(n)||(d8.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),qh=r,wb=t,r};function zr(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(s){return pa(s)}):n=[pa(t)],Ov(e).forEach(function(s){var i=Vr(s,"type.displayName")||Vr(s,"type.name");n.indexOf(i)!==-1&&r.push(s)}),r}function Dr(e,t){var r=zr(e,t);return r&&r[0]}var Nb=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,s=r.height;return!(!ve(n)||n<=0||!ve(s)||s<=0)},k8=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],T8=function(t){return t&&t.type&&Ws(t.type)&&k8.indexOf(t.type)>=0},DO=function(t){return t&&ep(t)==="object"&&"clipDot"in t},E8=function(t,r,n,s){var i,o=(i=Hh==null?void 0:Hh[s])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!We(t)&&(s&&o.includes(r)||A8.includes(r))||n&&Av.includes(r)},Fe=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(g.isValidElement(t)&&(s=t.props),!_o(s))return null;var i={};return Object.keys(s).forEach(function(o){var c;E8((c=s)===null||c===void 0?void 0:c[o],o,r,n)&&(i[o]=s[o])}),i},tp=function e(t,r){if(t===r)return!0;var n=g.Children.count(t);if(n!==g.Children.count(r))return!1;if(n===0)return!0;if(n===1)return Sb(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var s=0;s<n;s++){var i=t[s],o=r[s];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!Sb(i,o))return!1}return!0},Sb=function(t,r){if(Ge(t)&&Ge(r))return!0;if(!Ge(t)&&!Ge(r)){var n=t.props||{},s=n.children,i=bb(n,_8),o=r.props||{},c=o.children,l=bb(o,P8);return s&&c?Mi(i,l)&&tp(s,c):!s&&!c?Mi(i,l):!1}return!1},Ab=function(t,r){var n=[],s={};return Ov(t).forEach(function(i,o){if(T8(i))n.push(i);else if(i){var c=pa(i.type),l=r[c]||{},u=l.handler,d=l.once;if(u&&(!d||!s[c])){var f=u(i,c,o);n.push(f),s[c]=!0}}}),n},$8=function(t){var r=t&&t.type;return r&&jb[r]?jb[r]:null},D8=function(t,r){return Ov(r).indexOf(t)},I8=["children","width","height","viewBox","className","style","title","desc"];function rp(){return rp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rp.apply(this,arguments)}function M8(e,t){if(e==null)return{};var r=R8(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function R8(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function np(e){var t=e.children,r=e.width,n=e.height,s=e.viewBox,i=e.className,o=e.style,c=e.title,l=e.desc,u=M8(e,I8),d=s||{width:r,height:n,x:0,y:0},f=Ze("recharts-surface",i);return D.createElement("svg",rp({},Fe(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),D.createElement("title",null,c),D.createElement("desc",null,l),t)}var L8=["children","className"];function ap(){return ap=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ap.apply(this,arguments)}function F8(e,t){if(e==null)return{};var r=B8(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function B8(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var st=D.forwardRef(function(e,t){var r=e.children,n=e.className,s=F8(e,L8),i=Ze("recharts-layer",n);return D.createElement("g",ap({className:i},Fe(s,!0),{ref:t}),r)}),xn=function(t,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i]};function V8(e,t,r){var n=-1,s=e.length;t<0&&(t=-t>s?0:s+t),r=r>s?s:r,r<0&&(r+=s),s=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(s);++n<s;)i[n]=e[n+t];return i}var z8=V8,U8=z8;function W8(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:U8(e,t,r)}var H8=W8,q8="\\ud800-\\udfff",K8="\\u0300-\\u036f",G8="\\ufe20-\\ufe2f",Z8="\\u20d0-\\u20ff",X8=K8+G8+Z8,Y8="\\ufe0e\\ufe0f",J8="\\u200d",Q8=RegExp("["+J8+q8+X8+Y8+"]");function eV(e){return Q8.test(e)}var IO=eV;function tV(e){return e.split("")}var rV=tV,MO="\\ud800-\\udfff",nV="\\u0300-\\u036f",aV="\\ufe20-\\ufe2f",sV="\\u20d0-\\u20ff",iV=nV+aV+sV,oV="\\ufe0e\\ufe0f",cV="["+MO+"]",sp="["+iV+"]",ip="\\ud83c[\\udffb-\\udfff]",lV="(?:"+sp+"|"+ip+")",RO="[^"+MO+"]",LO="(?:\\ud83c[\\udde6-\\uddff]){2}",FO="[\\ud800-\\udbff][\\udc00-\\udfff]",uV="\\u200d",BO=lV+"?",VO="["+oV+"]?",dV="(?:"+uV+"(?:"+[RO,LO,FO].join("|")+")"+VO+BO+")*",fV=VO+BO+dV,hV="(?:"+[RO+sp+"?",sp,LO,FO,cV].join("|")+")",mV=RegExp(ip+"(?="+ip+")|"+hV+fV,"g");function pV(e){return e.match(mV)||[]}var gV=pV,vV=rV,xV=IO,yV=gV;function bV(e){return xV(e)?yV(e):vV(e)}var jV=bV,wV=H8,NV=IO,SV=jV,AV=PO;function OV(e){return function(t){t=AV(t);var r=NV(t)?SV(t):void 0,n=r?r[0]:t.charAt(0),s=r?wV(r,1).join(""):t.slice(1);return n[e]()+s}}var _V=OV,PV=_V,CV=PV("toUpperCase"),kV=CV;const zf=xt(kV);function wt(e){return function(){return e}}const zO=Math.cos,Yu=Math.sin,An=Math.sqrt,Ju=Math.PI,Uf=2*Ju,op=Math.PI,cp=2*op,hs=1e-6,TV=cp-hs;function UO(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function EV(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return UO;const r=10**t;return function(n){this._+=n[0];for(let s=1,i=n.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class $V{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?UO:EV(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,s){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,r,n,s,i,o){this._append`C${+t},${+r},${+n},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,s,i){if(t=+t,r=+r,n=+n,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,c=this._y1,l=n-t,u=s-r,d=o-t,f=c-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>hs)if(!(Math.abs(f*l-u*d)>hs)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-o,v=s-c,m=l*l+u*u,x=p*p+v*v,b=Math.sqrt(m),y=Math.sqrt(h),j=i*Math.tan((op-Math.acos((m+h-x)/(2*b*y)))/2),S=j/y,N=j/b;Math.abs(S-1)>hs&&this._append`L${t+S*d},${r+S*f}`,this._append`A${i},${i},0,0,${+(f*p>d*v)},${this._x1=t+N*l},${this._y1=r+N*u}`}}arc(t,r,n,s,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let c=n*Math.cos(s),l=n*Math.sin(s),u=t+c,d=r+l,f=1^o,h=o?s-i:i-s;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>hs||Math.abs(this._y1-d)>hs)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%cp+cp),h>TV?this._append`A${n},${n},0,1,${f},${t-c},${r-l}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>hs&&this._append`A${n},${n},0,${+(h>=op)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function _v(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new $V(t)}function Pv(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function WO(e){this._context=e}WO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Wf(e){return new WO(e)}function HO(e){return e[0]}function qO(e){return e[1]}function KO(e,t){var r=wt(!0),n=null,s=Wf,i=null,o=_v(c);e=typeof e=="function"?e:e===void 0?HO:wt(e),t=typeof t=="function"?t:t===void 0?qO:wt(t);function c(l){var u,d=(l=Pv(l)).length,f,h=!1,p;for(n==null&&(i=s(p=o())),u=0;u<=d;++u)!(u<d&&r(f=l[u],u,l))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,l),+t(f,u,l));if(p)return i=null,p+""||null}return c.x=function(l){return arguments.length?(e=typeof l=="function"?l:wt(+l),c):e},c.y=function(l){return arguments.length?(t=typeof l=="function"?l:wt(+l),c):t},c.defined=function(l){return arguments.length?(r=typeof l=="function"?l:wt(!!l),c):r},c.curve=function(l){return arguments.length?(s=l,n!=null&&(i=s(n)),c):s},c.context=function(l){return arguments.length?(l==null?n=i=null:i=s(n=l),c):n},c}function Gl(e,t,r){var n=null,s=wt(!0),i=null,o=Wf,c=null,l=_v(u);e=typeof e=="function"?e:e===void 0?HO:wt(+e),t=typeof t=="function"?t:wt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?qO:wt(+r);function u(f){var h,p,v,m=(f=Pv(f)).length,x,b=!1,y,j=new Array(m),S=new Array(m);for(i==null&&(c=o(y=l())),h=0;h<=m;++h){if(!(h<m&&s(x=f[h],h,f))===b)if(b=!b)p=h,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),v=h-1;v>=p;--v)c.point(j[v],S[v]);c.lineEnd(),c.areaEnd()}b&&(j[h]=+e(x,h,f),S[h]=+t(x,h,f),c.point(n?+n(x,h,f):j[h],r?+r(x,h,f):S[h]))}if(y)return c=null,y+""||null}function d(){return KO().defined(s).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:wt(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:wt(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:wt(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:wt(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:wt(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:wt(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(s=typeof f=="function"?f:wt(!!f),u):s},u.curve=function(f){return arguments.length?(o=f,i!=null&&(c=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=c=null:c=o(i=f),u):i},u}class GO{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function DV(e){return new GO(e,!0)}function IV(e){return new GO(e,!1)}const Cv={draw(e,t){const r=An(t/Ju);e.moveTo(r,0),e.arc(0,0,r,0,Uf)}},MV={draw(e,t){const r=An(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},ZO=An(1/3),RV=ZO*2,LV={draw(e,t){const r=An(t/RV),n=r*ZO;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},FV={draw(e,t){const r=An(t),n=-r/2;e.rect(n,n,r,r)}},BV=.8908130915292852,XO=Yu(Ju/10)/Yu(7*Ju/10),VV=Yu(Uf/10)*XO,zV=-zO(Uf/10)*XO,UV={draw(e,t){const r=An(t*BV),n=VV*r,s=zV*r;e.moveTo(0,-r),e.lineTo(n,s);for(let i=1;i<5;++i){const o=Uf*i/5,c=zO(o),l=Yu(o);e.lineTo(l*r,-c*r),e.lineTo(c*n-l*s,l*n+c*s)}e.closePath()}},Kh=An(3),WV={draw(e,t){const r=-An(t/(Kh*3));e.moveTo(0,r*2),e.lineTo(-Kh*r,-r),e.lineTo(Kh*r,-r),e.closePath()}},Xr=-.5,Yr=An(3)/2,lp=1/An(12),HV=(lp/2+1)*3,qV={draw(e,t){const r=An(t/HV),n=r/2,s=r*lp,i=n,o=r*lp+r,c=-i,l=o;e.moveTo(n,s),e.lineTo(i,o),e.lineTo(c,l),e.lineTo(Xr*n-Yr*s,Yr*n+Xr*s),e.lineTo(Xr*i-Yr*o,Yr*i+Xr*o),e.lineTo(Xr*c-Yr*l,Yr*c+Xr*l),e.lineTo(Xr*n+Yr*s,Xr*s-Yr*n),e.lineTo(Xr*i+Yr*o,Xr*o-Yr*i),e.lineTo(Xr*c+Yr*l,Xr*l-Yr*c),e.closePath()}};function KV(e,t){let r=null,n=_v(s);e=typeof e=="function"?e:wt(e||Cv),t=typeof t=="function"?t:wt(t===void 0?64:+t);function s(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:wt(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:wt(+i),s):t},s.context=function(i){return arguments.length?(r=i??null,s):r},s}function Qu(){}function ed(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function YO(e){this._context=e}YO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ed(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ed(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function GV(e){return new YO(e)}function JO(e){this._context=e}JO.prototype={areaStart:Qu,areaEnd:Qu,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:ed(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ZV(e){return new JO(e)}function QO(e){this._context=e}QO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:ed(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function XV(e){return new QO(e)}function e_(e){this._context=e}e_.prototype={areaStart:Qu,areaEnd:Qu,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function YV(e){return new e_(e)}function Ob(e){return e<0?-1:1}function _b(e,t,r){var n=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(n||s<0&&-0),o=(r-e._y1)/(s||n<0&&-0),c=(i*s+o*n)/(n+s);return(Ob(i)+Ob(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(c))||0}function Pb(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Gh(e,t,r){var n=e._x0,s=e._y0,i=e._x1,o=e._y1,c=(i-n)/3;e._context.bezierCurveTo(n+c,s+c*t,i-c,o-c*r,i,o)}function td(e){this._context=e}td.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Gh(this,this._t0,Pb(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Gh(this,Pb(this,r=_b(this,e,t)),r);break;default:Gh(this,this._t0,r=_b(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function t_(e){this._context=new r_(e)}(t_.prototype=Object.create(td.prototype)).point=function(e,t){td.prototype.point.call(this,t,e)};function r_(e){this._context=e}r_.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,i){this._context.bezierCurveTo(t,e,n,r,i,s)}};function JV(e){return new td(e)}function QV(e){return new t_(e)}function n_(e){this._context=e}n_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Cb(e),s=Cb(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],s[0][i],n[1][i],s[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Cb(e){var t,r=e.length-1,n,s=new Array(r),i=new Array(r),o=new Array(r);for(s[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=s[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(s[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)s[t]=(o[t]-s[t+1])/i[t];for(i[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function ez(e){return new n_(e)}function Hf(e,t){this._context=e,this._t=t}Hf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function tz(e){return new Hf(e,.5)}function rz(e){return new Hf(e,0)}function nz(e){return new Hf(e,1)}function Wi(e,t){if((o=e.length)>1)for(var r=1,n,s,i=e[t[0]],o,c=i.length;r<o;++r)for(s=i,i=e[t[r]],n=0;n<c;++n)i[n][1]+=i[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function up(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function az(e,t){return e[t]}function sz(e){const t=[];return t.key=e,t}function iz(){var e=wt([]),t=up,r=Wi,n=az;function s(i){var o=Array.from(e.apply(this,arguments),sz),c,l=o.length,u=-1,d;for(const f of i)for(c=0,++u;c<l;++c)(o[c][u]=[0,+n(f,o[c].key,u,i)]).data=f;for(c=0,d=Pv(t(o));c<l;++c)o[d[c]].index=c;return r(o,d),o}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:wt(Array.from(i)),s):e},s.value=function(i){return arguments.length?(n=typeof i=="function"?i:wt(+i),s):n},s.order=function(i){return arguments.length?(t=i==null?up:typeof i=="function"?i:wt(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(r=i??Wi,s):r},s}function oz(e,t){if((n=e.length)>0){for(var r,n,s=0,i=e[0].length,o;s<i;++s){for(o=r=0;r<n;++r)o+=e[r][s][1]||0;if(o)for(r=0;r<n;++r)e[r][s][1]/=o}Wi(e,t)}}function cz(e,t){if((s=e.length)>0){for(var r=0,n=e[t[0]],s,i=n.length;r<i;++r){for(var o=0,c=0;o<s;++o)c+=e[o][r][1]||0;n[r][1]+=n[r][0]=-c/2}Wi(e,t)}}function lz(e,t){if(!(!((o=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var r=0,n=1,s,i,o;n<i;++n){for(var c=0,l=0,u=0;c<o;++c){for(var d=e[t[c]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,v=0;v<c;++v){var m=e[t[v]],x=m[n][1]||0,b=m[n-1][1]||0;p+=x-b}l+=f,u+=p*f}s[n-1][1]+=s[n-1][0]=r,l&&(r-=u/l)}s[n-1][1]+=s[n-1][0]=r,Wi(e,t)}}function Bc(e){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bc(e)}var uz=["type","size","sizeType"];function dp(){return dp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dp.apply(this,arguments)}function kb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Tb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kb(Object(r),!0).forEach(function(n){dz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dz(e,t,r){return t=fz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fz(e){var t=hz(e,"string");return Bc(t)=="symbol"?t:t+""}function hz(e,t){if(Bc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mz(e,t){if(e==null)return{};var r=pz(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function pz(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var a_={symbolCircle:Cv,symbolCross:MV,symbolDiamond:LV,symbolSquare:FV,symbolStar:UV,symbolTriangle:WV,symbolWye:qV},gz=Math.PI/180,vz=function(t){var r="symbol".concat(zf(t));return a_[r]||Cv},xz=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*gz;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},yz=function(t,r){a_["symbol".concat(zf(t))]=r},kv=function(t){var r=t.type,n=r===void 0?"circle":r,s=t.size,i=s===void 0?64:s,o=t.sizeType,c=o===void 0?"area":o,l=mz(t,uz),u=Tb(Tb({},l),{},{type:n,size:i,sizeType:c}),d=function(){var x=vz(n),b=KV().type(x).size(xz(i,c,n));return b()},f=u.className,h=u.cx,p=u.cy,v=Fe(u,!0);return h===+h&&p===+p&&i===+i?D.createElement("path",dp({},v,{className:Ze("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};kv.registerSymbol=yz;function Hi(e){"@babel/helpers - typeof";return Hi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hi(e)}function fp(){return fp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fp.apply(this,arguments)}function Eb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function bz(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Eb(Object(r),!0).forEach(function(n){Vc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Eb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wz(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i_(n.key),n)}}function Nz(e,t,r){return t&&wz(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Sz(e,t,r){return t=rd(t),Az(e,s_()?Reflect.construct(t,r||[],rd(e).constructor):t.apply(e,r))}function Az(e,t){if(t&&(Hi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oz(e)}function Oz(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s_=function(){return!!e})()}function rd(e){return rd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rd(e)}function _z(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hp(e,t)}function hp(e,t){return hp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},hp(e,t)}function Vc(e,t,r){return t=i_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i_(e){var t=Pz(e,"string");return Hi(t)=="symbol"?t:t+""}function Pz(e,t){if(Hi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Jr=32,Tv=function(e){function t(){return jz(this,t),Sz(this,t,arguments)}return _z(t,e),Nz(t,[{key:"renderIcon",value:function(n){var s=this.props.inactiveColor,i=Jr/2,o=Jr/6,c=Jr/3,l=n.inactive?s:n.color;if(n.type==="plainline")return D.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Jr,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return D.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(i,"h").concat(c,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*c,",").concat(i,`
            H`).concat(Jr,"M").concat(2*c,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(c,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return D.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Jr/8,"h").concat(Jr,"v").concat(Jr*3/4,"h").concat(-Jr,"z"),className:"recharts-legend-icon"});if(D.isValidElement(n.legendIcon)){var u=bz({},n);return delete u.legendIcon,D.cloneElement(n.legendIcon,u)}return D.createElement(kv,{fill:l,cx:i,cy:i,size:Jr,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,s=this.props,i=s.payload,o=s.iconSize,c=s.layout,l=s.formatter,u=s.inactiveColor,d={x:0,y:0,width:Jr,height:Jr},f={display:c==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,v){var m=p.formatter||l,x=Ze(Vc(Vc({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",p.inactive));if(p.type==="none")return null;var b=We(p.value)?null:p.value;xn(!We(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=p.inactive?u:p.color;return D.createElement("li",fp({className:x,style:f,key:"legend-item-".concat(v)},Hs(n.props,p,v)),D.createElement(np,{width:o,height:o,viewBox:d,style:h},n.renderIcon(p)),D.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},m?m(b,p,v):b))})}},{key:"render",value:function(){var n=this.props,s=n.payload,i=n.layout,o=n.align;if(!s||!s.length)return null;var c={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return D.createElement("ul",{className:"recharts-default-legend",style:c},this.renderItems())}}])}(g.PureComponent);Vc(Tv,"displayName","Legend");Vc(Tv,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Cz=Cf;function kz(){this.__data__=new Cz,this.size=0}var Tz=kz;function Ez(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var $z=Ez;function Dz(e){return this.__data__.get(e)}var Iz=Dz;function Mz(e){return this.__data__.has(e)}var Rz=Mz,Lz=Cf,Fz=xv,Bz=yv,Vz=200;function zz(e,t){var r=this.__data__;if(r instanceof Lz){var n=r.__data__;if(!Fz||n.length<Vz-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Bz(n)}return r.set(e,t),this.size=r.size,this}var Uz=zz,Wz=Cf,Hz=Tz,qz=$z,Kz=Iz,Gz=Rz,Zz=Uz;function Eo(e){var t=this.__data__=new Wz(e);this.size=t.size}Eo.prototype.clear=Hz;Eo.prototype.delete=qz;Eo.prototype.get=Kz;Eo.prototype.has=Gz;Eo.prototype.set=Zz;var o_=Eo,Xz="__lodash_hash_undefined__";function Yz(e){return this.__data__.set(e,Xz),this}var Jz=Yz;function Qz(e){return this.__data__.has(e)}var eU=Qz,tU=yv,rU=Jz,nU=eU;function nd(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new tU;++t<r;)this.add(e[t])}nd.prototype.add=nd.prototype.push=rU;nd.prototype.has=nU;var c_=nd;function aU(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var l_=aU;function sU(e,t){return e.has(t)}var u_=sU,iU=c_,oU=l_,cU=u_,lU=1,uU=2;function dU(e,t,r,n,s,i){var o=r&lU,c=e.length,l=t.length;if(c!=l&&!(o&&l>c))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,p=r&uU?new iU:void 0;for(i.set(e,t),i.set(t,e);++f<c;){var v=e[f],m=t[f];if(n)var x=o?n(m,v,f,t,e,i):n(v,m,f,e,t,i);if(x!==void 0){if(x)continue;h=!1;break}if(p){if(!oU(t,function(b,y){if(!cU(p,y)&&(v===b||s(v,b,r,n,i)))return p.push(y)})){h=!1;break}}else if(!(v===m||s(v,m,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var d_=dU,fU=Yn,hU=fU.Uint8Array,mU=hU;function pU(e){var t=-1,r=Array(e.size);return e.forEach(function(n,s){r[++t]=[s,n]}),r}var gU=pU;function vU(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var Ev=vU,$b=kl,Db=mU,xU=vv,yU=d_,bU=gU,jU=Ev,wU=1,NU=2,SU="[object Boolean]",AU="[object Date]",OU="[object Error]",_U="[object Map]",PU="[object Number]",CU="[object RegExp]",kU="[object Set]",TU="[object String]",EU="[object Symbol]",$U="[object ArrayBuffer]",DU="[object DataView]",Ib=$b?$b.prototype:void 0,Zh=Ib?Ib.valueOf:void 0;function IU(e,t,r,n,s,i,o){switch(r){case DU:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case $U:return!(e.byteLength!=t.byteLength||!i(new Db(e),new Db(t)));case SU:case AU:case PU:return xU(+e,+t);case OU:return e.name==t.name&&e.message==t.message;case CU:case TU:return e==t+"";case _U:var c=bU;case kU:var l=n&wU;if(c||(c=jU),e.size!=t.size&&!l)return!1;var u=o.get(e);if(u)return u==t;n|=NU,o.set(e,t);var d=yU(c(e),c(t),n,s,i,o);return o.delete(e),d;case EU:if(Zh)return Zh.call(e)==Zh.call(t)}return!1}var MU=IU;function RU(e,t){for(var r=-1,n=t.length,s=e.length;++r<n;)e[s+r]=t[r];return e}var f_=RU,LU=f_,FU=kr;function BU(e,t,r){var n=t(e);return FU(e)?n:LU(n,r(e))}var VU=BU;function zU(e,t){for(var r=-1,n=e==null?0:e.length,s=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[s++]=o)}return i}var UU=zU;function WU(){return[]}var HU=WU,qU=UU,KU=HU,GU=Object.prototype,ZU=GU.propertyIsEnumerable,Mb=Object.getOwnPropertySymbols,XU=Mb?function(e){return e==null?[]:(e=Object(e),qU(Mb(e),function(t){return ZU.call(e,t)}))}:KU,YU=XU;function JU(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var QU=JU,eW=Aa,tW=Oa,rW="[object Arguments]";function nW(e){return tW(e)&&eW(e)==rW}var aW=nW,Rb=aW,sW=Oa,h_=Object.prototype,iW=h_.hasOwnProperty,oW=h_.propertyIsEnumerable,cW=Rb(function(){return arguments}())?Rb:function(e){return sW(e)&&iW.call(e,"callee")&&!oW.call(e,"callee")},$v=cW,ad={exports:{}};function lW(){return!1}var uW=lW;ad.exports;(function(e,t){var r=Yn,n=uW,s=t&&!t.nodeType&&t,i=s&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===s,c=o?r.Buffer:void 0,l=c?c.isBuffer:void 0,u=l||n;e.exports=u})(ad,ad.exports);var m_=ad.exports,dW=9007199254740991,fW=/^(?:0|[1-9]\d*)$/;function hW(e,t){var r=typeof e;return t=t??dW,!!t&&(r=="number"||r!="symbol"&&fW.test(e))&&e>-1&&e%1==0&&e<t}var Dv=hW,mW=9007199254740991;function pW(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=mW}var Iv=pW,gW=Aa,vW=Iv,xW=Oa,yW="[object Arguments]",bW="[object Array]",jW="[object Boolean]",wW="[object Date]",NW="[object Error]",SW="[object Function]",AW="[object Map]",OW="[object Number]",_W="[object Object]",PW="[object RegExp]",CW="[object Set]",kW="[object String]",TW="[object WeakMap]",EW="[object ArrayBuffer]",$W="[object DataView]",DW="[object Float32Array]",IW="[object Float64Array]",MW="[object Int8Array]",RW="[object Int16Array]",LW="[object Int32Array]",FW="[object Uint8Array]",BW="[object Uint8ClampedArray]",VW="[object Uint16Array]",zW="[object Uint32Array]",Ot={};Ot[DW]=Ot[IW]=Ot[MW]=Ot[RW]=Ot[LW]=Ot[FW]=Ot[BW]=Ot[VW]=Ot[zW]=!0;Ot[yW]=Ot[bW]=Ot[EW]=Ot[jW]=Ot[$W]=Ot[wW]=Ot[NW]=Ot[SW]=Ot[AW]=Ot[OW]=Ot[_W]=Ot[PW]=Ot[CW]=Ot[kW]=Ot[TW]=!1;function UW(e){return xW(e)&&vW(e.length)&&!!Ot[gW(e)]}var WW=UW;function HW(e){return function(t){return e(t)}}var p_=HW,sd={exports:{}};sd.exports;(function(e,t){var r=wO,n=t&&!t.nodeType&&t,s=n&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===n,o=i&&r.process,c=function(){try{var l=s&&s.require&&s.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();e.exports=c})(sd,sd.exports);var qW=sd.exports,KW=WW,GW=p_,Lb=qW,Fb=Lb&&Lb.isTypedArray,ZW=Fb?GW(Fb):KW,g_=ZW,XW=QU,YW=$v,JW=kr,QW=m_,e9=Dv,t9=g_,r9=Object.prototype,n9=r9.hasOwnProperty;function a9(e,t){var r=JW(e),n=!r&&YW(e),s=!r&&!n&&QW(e),i=!r&&!n&&!s&&t9(e),o=r||n||s||i,c=o?XW(e.length,String):[],l=c.length;for(var u in e)(t||n9.call(e,u))&&!(o&&(u=="length"||s&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||e9(u,l)))&&c.push(u);return c}var s9=a9,i9=Object.prototype;function o9(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||i9;return e===r}var c9=o9;function l9(e,t){return function(r){return e(t(r))}}var v_=l9,u9=v_,d9=u9(Object.keys,Object),f9=d9,h9=c9,m9=f9,p9=Object.prototype,g9=p9.hasOwnProperty;function v9(e){if(!h9(e))return m9(e);var t=[];for(var r in Object(e))g9.call(e,r)&&r!="constructor"&&t.push(r);return t}var x9=v9,y9=gv,b9=Iv;function j9(e){return e!=null&&b9(e.length)&&!y9(e)}var Tl=j9,w9=s9,N9=x9,S9=Tl;function A9(e){return S9(e)?w9(e):N9(e)}var qf=A9,O9=VU,_9=YU,P9=qf;function C9(e){return O9(e,P9,_9)}var k9=C9,Bb=k9,T9=1,E9=Object.prototype,$9=E9.hasOwnProperty;function D9(e,t,r,n,s,i){var o=r&T9,c=Bb(e),l=c.length,u=Bb(t),d=u.length;if(l!=d&&!o)return!1;for(var f=l;f--;){var h=c[f];if(!(o?h in t:$9.call(t,h)))return!1}var p=i.get(e),v=i.get(t);if(p&&v)return p==t&&v==e;var m=!0;i.set(e,t),i.set(t,e);for(var x=o;++f<l;){h=c[f];var b=e[h],y=t[h];if(n)var j=o?n(y,b,h,t,e,i):n(b,y,h,e,t,i);if(!(j===void 0?b===y||s(b,y,r,n,i):j)){m=!1;break}x||(x=h=="constructor")}if(m&&!x){var S=e.constructor,N=t.constructor;S!=N&&"constructor"in e&&"constructor"in t&&!(typeof S=="function"&&S instanceof S&&typeof N=="function"&&N instanceof N)&&(m=!1)}return i.delete(e),i.delete(t),m}var I9=D9,M9=ai,R9=Yn,L9=M9(R9,"DataView"),F9=L9,B9=ai,V9=Yn,z9=B9(V9,"Promise"),U9=z9,W9=ai,H9=Yn,q9=W9(H9,"Set"),x_=q9,K9=ai,G9=Yn,Z9=K9(G9,"WeakMap"),X9=Z9,mp=F9,pp=xv,gp=U9,vp=x_,xp=X9,y_=Aa,$o=SO,Vb="[object Map]",Y9="[object Object]",zb="[object Promise]",Ub="[object Set]",Wb="[object WeakMap]",Hb="[object DataView]",J9=$o(mp),Q9=$o(pp),e7=$o(gp),t7=$o(vp),r7=$o(xp),ms=y_;(mp&&ms(new mp(new ArrayBuffer(1)))!=Hb||pp&&ms(new pp)!=Vb||gp&&ms(gp.resolve())!=zb||vp&&ms(new vp)!=Ub||xp&&ms(new xp)!=Wb)&&(ms=function(e){var t=y_(e),r=t==Y9?e.constructor:void 0,n=r?$o(r):"";if(n)switch(n){case J9:return Hb;case Q9:return Vb;case e7:return zb;case t7:return Ub;case r7:return Wb}return t});var n7=ms,Xh=o_,a7=d_,s7=MU,i7=I9,qb=n7,Kb=kr,Gb=m_,o7=g_,c7=1,Zb="[object Arguments]",Xb="[object Array]",Zl="[object Object]",l7=Object.prototype,Yb=l7.hasOwnProperty;function u7(e,t,r,n,s,i){var o=Kb(e),c=Kb(t),l=o?Xb:qb(e),u=c?Xb:qb(t);l=l==Zb?Zl:l,u=u==Zb?Zl:u;var d=l==Zl,f=u==Zl,h=l==u;if(h&&Gb(e)){if(!Gb(t))return!1;o=!0,d=!1}if(h&&!d)return i||(i=new Xh),o||o7(e)?a7(e,t,r,n,s,i):s7(e,t,l,r,n,s,i);if(!(r&c7)){var p=d&&Yb.call(e,"__wrapped__"),v=f&&Yb.call(t,"__wrapped__");if(p||v){var m=p?e.value():e,x=v?t.value():t;return i||(i=new Xh),s(m,x,r,n,i)}}return h?(i||(i=new Xh),i7(e,t,r,n,s,i)):!1}var d7=u7,f7=d7,Jb=Oa;function b_(e,t,r,n,s){return e===t?!0:e==null||t==null||!Jb(e)&&!Jb(t)?e!==e&&t!==t:f7(e,t,r,n,b_,s)}var Mv=b_,h7=o_,m7=Mv,p7=1,g7=2;function v7(e,t,r,n){var s=r.length,i=s,o=!n;if(e==null)return!i;for(e=Object(e);s--;){var c=r[s];if(o&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++s<i;){c=r[s];var l=c[0],u=e[l],d=c[1];if(o&&c[2]){if(u===void 0&&!(l in e))return!1}else{var f=new h7;if(n)var h=n(u,d,l,e,t,f);if(!(h===void 0?m7(d,u,p7|g7,n,f):h))return!1}}return!0}var x7=v7,y7=as;function b7(e){return e===e&&!y7(e)}var j_=b7,j7=j_,w7=qf;function N7(e){for(var t=w7(e),r=t.length;r--;){var n=t[r],s=e[n];t[r]=[n,s,j7(s)]}return t}var S7=N7;function A7(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var w_=A7,O7=x7,_7=S7,P7=w_;function C7(e){var t=_7(e);return t.length==1&&t[0][2]?P7(t[0][0],t[0][1]):function(r){return r===e||O7(r,e,t)}}var k7=C7;function T7(e,t){return e!=null&&t in Object(e)}var E7=T7,$7=CO,D7=$v,I7=kr,M7=Dv,R7=Iv,L7=Tf;function F7(e,t,r){t=$7(t,e);for(var n=-1,s=t.length,i=!1;++n<s;){var o=L7(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=s?i:(s=e==null?0:e.length,!!s&&R7(s)&&M7(o,s)&&(I7(e)||D7(e)))}var B7=F7,V7=E7,z7=B7;function U7(e,t){return e!=null&&z7(e,t,V7)}var W7=U7,H7=Mv,q7=kO,K7=W7,G7=pv,Z7=j_,X7=w_,Y7=Tf,J7=1,Q7=2;function eH(e,t){return G7(e)&&Z7(t)?X7(Y7(e),t):function(r){var n=q7(r,e);return n===void 0&&n===t?K7(r,e):H7(t,n,J7|Q7)}}var tH=eH;function rH(e){return e}var Do=rH;function nH(e){return function(t){return t==null?void 0:t[e]}}var aH=nH,sH=wv;function iH(e){return function(t){return sH(t,e)}}var oH=iH,cH=aH,lH=oH,uH=pv,dH=Tf;function fH(e){return uH(e)?cH(dH(e)):lH(e)}var hH=fH,mH=k7,pH=tH,gH=Do,vH=kr,xH=hH;function yH(e){return typeof e=="function"?e:e==null?gH:typeof e=="object"?vH(e)?pH(e[0],e[1]):mH(e):xH(e)}var Jn=yH;function bH(e,t,r,n){for(var s=e.length,i=r+(n?1:-1);n?i--:++i<s;)if(t(e[i],i,e))return i;return-1}var N_=bH;function jH(e){return e!==e}var wH=jH;function NH(e,t,r){for(var n=r-1,s=e.length;++n<s;)if(e[n]===t)return n;return-1}var SH=NH,AH=N_,OH=wH,_H=SH;function PH(e,t,r){return t===t?_H(e,t,r):AH(e,OH,r)}var CH=PH,kH=CH;function TH(e,t){var r=e==null?0:e.length;return!!r&&kH(e,t,0)>-1}var EH=TH;function $H(e,t,r){for(var n=-1,s=e==null?0:e.length;++n<s;)if(r(t,e[n]))return!0;return!1}var DH=$H;function IH(){}var MH=IH,Yh=x_,RH=MH,LH=Ev,FH=1/0,BH=Yh&&1/LH(new Yh([,-0]))[1]==FH?function(e){return new Yh(e)}:RH,VH=BH,zH=c_,UH=EH,WH=DH,HH=u_,qH=VH,KH=Ev,GH=200;function ZH(e,t,r){var n=-1,s=UH,i=e.length,o=!0,c=[],l=c;if(r)o=!1,s=WH;else if(i>=GH){var u=t?null:qH(e);if(u)return KH(u);o=!1,s=HH,l=new zH}else l=t?[]:c;e:for(;++n<i;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;t&&l.push(f),c.push(d)}else s(l,f,r)||(l!==c&&l.push(f),c.push(d))}return c}var XH=ZH,YH=Jn,JH=XH;function QH(e,t){return e&&e.length?JH(e,YH(t)):[]}var eq=QH;const Qb=xt(eq);function S_(e,t,r){return t===!0?Qb(e,r):We(t)?Qb(e,t):e}function qi(e){"@babel/helpers - typeof";return qi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qi(e)}var tq=["ref"];function e0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function na(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e0(Object(r),!0).forEach(function(n){Kf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t0(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,O_(n.key),n)}}function nq(e,t,r){return t&&t0(e.prototype,t),r&&t0(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function aq(e,t,r){return t=id(t),sq(e,A_()?Reflect.construct(t,r||[],id(e).constructor):t.apply(e,r))}function sq(e,t){if(t&&(qi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iq(e)}function iq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(A_=function(){return!!e})()}function id(e){return id=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},id(e)}function oq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yp(e,t)}function yp(e,t){return yp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},yp(e,t)}function Kf(e,t,r){return t=O_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O_(e){var t=cq(e,"string");return qi(t)=="symbol"?t:t+""}function cq(e,t){if(qi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function lq(e,t){if(e==null)return{};var r=uq(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function uq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function dq(e){return e.value}function fq(e,t){if(D.isValidElement(e))return D.cloneElement(e,t);if(typeof e=="function")return D.createElement(e,t);t.ref;var r=lq(t,tq);return D.createElement(Tv,r)}var r0=1,Cs=function(e){function t(){var r;rq(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=aq(this,t,[].concat(s)),Kf(r,"lastBoundingBox",{width:-1,height:-1}),r}return oq(t,e),nq(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>r0||Math.abs(s.height-this.lastBoundingBox.height)>r0)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,n&&n(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?na({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var s=this.props,i=s.layout,o=s.align,c=s.verticalAlign,l=s.margin,u=s.chartWidth,d=s.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(c==="middle"){var v=this.getBBoxSnapshot();h={top:((d||0)-v.height)/2}}else h=c==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return na(na({},f),h)}},{key:"render",value:function(){var n=this,s=this.props,i=s.content,o=s.width,c=s.height,l=s.wrapperStyle,u=s.payloadUniqBy,d=s.payload,f=na(na({position:"absolute",width:o||"auto",height:c||"auto"},this.getDefaultPosition(l)),l);return D.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},fq(i,na(na({},this.props),{},{payload:S_(d,u,dq)})))}}],[{key:"getWithHeight",value:function(n,s){var i=na(na({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&ve(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||s}:null}}])}(g.PureComponent);Kf(Cs,"displayName","Legend");Kf(Cs,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var n0=kl,hq=$v,mq=kr,a0=n0?n0.isConcatSpreadable:void 0;function pq(e){return mq(e)||hq(e)||!!(a0&&e&&e[a0])}var gq=pq,vq=f_,xq=gq;function __(e,t,r,n,s){var i=-1,o=e.length;for(r||(r=xq),s||(s=[]);++i<o;){var c=e[i];t>0&&r(c)?t>1?__(c,t-1,r,n,s):vq(s,c):n||(s[s.length]=c)}return s}var P_=__;function yq(e){return function(t,r,n){for(var s=-1,i=Object(t),o=n(t),c=o.length;c--;){var l=o[e?c:++s];if(r(i[l],l,i)===!1)break}return t}}var bq=yq,jq=bq,wq=jq(),Nq=wq,Sq=Nq,Aq=qf;function Oq(e,t){return e&&Sq(e,t,Aq)}var C_=Oq,_q=Tl;function Pq(e,t){return function(r,n){if(r==null)return r;if(!_q(r))return e(r,n);for(var s=r.length,i=t?s:-1,o=Object(r);(t?i--:++i<s)&&n(o[i],i,o)!==!1;);return r}}var Cq=Pq,kq=C_,Tq=Cq,Eq=Tq(kq),Rv=Eq,$q=Rv,Dq=Tl;function Iq(e,t){var r=-1,n=Dq(e)?Array(e.length):[];return $q(e,function(s,i,o){n[++r]=t(s,i,o)}),n}var k_=Iq;function Mq(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var Rq=Mq,s0=Oo;function Lq(e,t){if(e!==t){var r=e!==void 0,n=e===null,s=e===e,i=s0(e),o=t!==void 0,c=t===null,l=t===t,u=s0(t);if(!c&&!u&&!i&&e>t||i&&o&&l&&!c&&!u||n&&o&&l||!r&&l||!s)return 1;if(!n&&!i&&!u&&e<t||u&&r&&s&&!n&&!i||c&&r&&s||!o&&s||!l)return-1}return 0}var Fq=Lq,Bq=Fq;function Vq(e,t,r){for(var n=-1,s=e.criteria,i=t.criteria,o=s.length,c=r.length;++n<o;){var l=Bq(s[n],i[n]);if(l){if(n>=c)return l;var u=r[n];return l*(u=="desc"?-1:1)}}return e.index-t.index}var zq=Vq,Jh=jv,Uq=wv,Wq=Jn,Hq=k_,qq=Rq,Kq=p_,Gq=zq,Zq=Do,Xq=kr;function Yq(e,t,r){t.length?t=Jh(t,function(i){return Xq(i)?function(o){return Uq(o,i.length===1?i[0]:i)}:i}):t=[Zq];var n=-1;t=Jh(t,Kq(Wq));var s=Hq(e,function(i,o,c){var l=Jh(t,function(u){return u(i)});return{criteria:l,index:++n,value:i}});return qq(s,function(i,o){return Gq(i,o,r)})}var Jq=Yq;function Qq(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var eK=Qq,tK=eK,i0=Math.max;function rK(e,t,r){return t=i0(t===void 0?e.length-1:t,0),function(){for(var n=arguments,s=-1,i=i0(n.length-t,0),o=Array(i);++s<i;)o[s]=n[t+s];s=-1;for(var c=Array(t+1);++s<t;)c[s]=n[s];return c[t]=r(o),tK(e,this,c)}}var nK=rK;function aK(e){return function(){return e}}var sK=aK,iK=ai,oK=function(){try{var e=iK(Object,"defineProperty");return e({},"",{}),e}catch{}}(),T_=oK,cK=sK,o0=T_,lK=Do,uK=o0?function(e,t){return o0(e,"toString",{configurable:!0,enumerable:!1,value:cK(t),writable:!0})}:lK,dK=uK,fK=800,hK=16,mK=Date.now;function pK(e){var t=0,r=0;return function(){var n=mK(),s=hK-(n-r);if(r=n,s>0){if(++t>=fK)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var gK=pK,vK=dK,xK=gK,yK=xK(vK),bK=yK,jK=Do,wK=nK,NK=bK;function SK(e,t){return NK(wK(e,t,jK),e+"")}var AK=SK,OK=vv,_K=Tl,PK=Dv,CK=as;function kK(e,t,r){if(!CK(r))return!1;var n=typeof t;return(n=="number"?_K(r)&&PK(t,r.length):n=="string"&&t in r)?OK(r[t],e):!1}var Gf=kK,TK=P_,EK=Jq,$K=AK,c0=Gf,DK=$K(function(e,t){if(e==null)return[];var r=t.length;return r>1&&c0(e,t[0],t[1])?t=[]:r>2&&c0(t[0],t[1],t[2])&&(t=[t[0]]),EK(e,TK(t,1),[])}),IK=DK;const Lv=xt(IK);function zc(e){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zc(e)}function bp(){return bp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bp.apply(this,arguments)}function MK(e,t){return BK(e)||FK(e,t)||LK(e,t)||RK()}function RK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LK(e,t){if(e){if(typeof e=="string")return l0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l0(e,t)}}function l0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function FK(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(d){u=!0,s=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return c}}function BK(e){if(Array.isArray(e))return e}function u0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Qh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u0(Object(r),!0).forEach(function(n){VK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VK(e,t,r){return t=zK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zK(e){var t=UK(e,"string");return zc(t)=="symbol"?t:t+""}function UK(e,t){if(zc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WK(e){return Array.isArray(e)&&Xt(e[0])&&Xt(e[1])?e.join(" ~ "):e}var HK=function(t){var r=t.separator,n=r===void 0?" : ":r,s=t.contentStyle,i=s===void 0?{}:s,o=t.itemStyle,c=o===void 0?{}:o,l=t.labelStyle,u=l===void 0?{}:l,d=t.payload,f=t.formatter,h=t.itemSorter,p=t.wrapperClassName,v=t.labelClassName,m=t.label,x=t.labelFormatter,b=t.accessibilityLayer,y=b===void 0?!1:b,j=function(){if(d&&d.length){var k={padding:0,margin:0},T=(h?Lv(d,h):d).map(function(E,I){if(E.type==="none")return null;var F=Qh({display:"block",paddingTop:4,paddingBottom:4,color:E.color||"#000"},c),$=E.formatter||f||WK,q=E.value,M=E.name,J=q,V=M;if($&&J!=null&&V!=null){var z=$(q,M,E,I,d);if(Array.isArray(z)){var B=MK(z,2);J=B[0],V=B[1]}else J=z}return D.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(I),style:F},Xt(V)?D.createElement("span",{className:"recharts-tooltip-item-name"},V):null,Xt(V)?D.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,D.createElement("span",{className:"recharts-tooltip-item-value"},J),D.createElement("span",{className:"recharts-tooltip-item-unit"},E.unit||""))});return D.createElement("ul",{className:"recharts-tooltip-item-list",style:k},T)}return null},S=Qh({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),N=Qh({margin:0},u),w=!Ge(m),A=w?m:"",O=Ze("recharts-default-tooltip",p),_=Ze("recharts-tooltip-label",v);w&&x&&d!==void 0&&d!==null&&(A=x(m,d));var C=y?{role:"status","aria-live":"assertive"}:{};return D.createElement("div",bp({className:O,style:S},C),D.createElement("p",{className:_,style:N},D.isValidElement(A)?A:"".concat(A)),j())};function Uc(e){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uc(e)}function Xl(e,t,r){return t=qK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qK(e){var t=KK(e,"string");return Uc(t)=="symbol"?t:t+""}function KK(e,t){if(Uc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Uc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zo="recharts-tooltip-wrapper",GK={visibility:"hidden"};function ZK(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Ze(Zo,Xl(Xl(Xl(Xl({},"".concat(Zo,"-right"),ve(r)&&t&&ve(t.x)&&r>=t.x),"".concat(Zo,"-left"),ve(r)&&t&&ve(t.x)&&r<t.x),"".concat(Zo,"-bottom"),ve(n)&&t&&ve(t.y)&&n>=t.y),"".concat(Zo,"-top"),ve(n)&&t&&ve(t.y)&&n<t.y))}function d0(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,s=e.offsetTopLeft,i=e.position,o=e.reverseDirection,c=e.tooltipDimension,l=e.viewBox,u=e.viewBoxDimension;if(i&&ve(i[n]))return i[n];var d=r[n]-c-s,f=r[n]+s;if(t[n])return o[n]?d:f;if(o[n]){var h=d,p=l[n];return h<p?Math.max(f,l[n]):Math.max(d,l[n])}var v=f+c,m=l[n]+u;return v>m?Math.max(d,l[n]):Math.max(f,l[n])}function XK(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function YK(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,s=e.position,i=e.reverseDirection,o=e.tooltipBox,c=e.useTranslate3d,l=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=d0({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),f=d0({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),u=XK({translateX:d,translateY:f,useTranslate3d:c})):u=GK,{cssProperties:u,cssClasses:ZK({translateX:d,translateY:f,coordinate:r})}}function Ki(e){"@babel/helpers - typeof";return Ki=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ki(e)}function f0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function h0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f0(Object(r),!0).forEach(function(n){wp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QK(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$_(n.key),n)}}function eG(e,t,r){return t&&QK(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function tG(e,t,r){return t=od(t),rG(e,E_()?Reflect.construct(t,r||[],od(e).constructor):t.apply(e,r))}function rG(e,t){if(t&&(Ki(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nG(e)}function nG(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E_=function(){return!!e})()}function od(e){return od=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},od(e)}function aG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jp(e,t)}function jp(e,t){return jp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},jp(e,t)}function wp(e,t,r){return t=$_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $_(e){var t=sG(e,"string");return Ki(t)=="symbol"?t:t+""}function sG(e,t){if(Ki(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ki(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var m0=1,iG=function(e){function t(){var r;JK(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=tG(this,t,[].concat(s)),wp(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),wp(r,"handleKeyDown",function(o){if(o.key==="Escape"){var c,l,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(c=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&c!==void 0?c:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return aG(t,e),eG(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>m0||Math.abs(n.height-this.state.lastBoundingBox.height)>m0)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,c=s.animationDuration,l=s.animationEasing,u=s.children,d=s.coordinate,f=s.hasPayload,h=s.isAnimationActive,p=s.offset,v=s.position,m=s.reverseDirection,x=s.useTranslate3d,b=s.viewBox,y=s.wrapperStyle,j=YK({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:p,position:v,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:b}),S=j.cssClasses,N=j.cssProperties,w=h0(h0({transition:h&&i?"transform ".concat(c,"ms ").concat(l):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},y);return D.createElement("div",{tabIndex:-1,className:S,style:w,ref:function(O){n.wrapperNode=O}},u)}}])}(g.PureComponent),oG=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ss={isSsr:oG()};function Gi(e){"@babel/helpers - typeof";return Gi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gi(e)}function p0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function g0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p0(Object(r),!0).forEach(function(n){Fv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lG(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,I_(n.key),n)}}function uG(e,t,r){return t&&lG(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function dG(e,t,r){return t=cd(t),fG(e,D_()?Reflect.construct(t,r||[],cd(e).constructor):t.apply(e,r))}function fG(e,t){if(t&&(Gi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hG(e)}function hG(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(D_=function(){return!!e})()}function cd(e){return cd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cd(e)}function mG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Np(e,t)}function Np(e,t){return Np=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Np(e,t)}function Fv(e,t,r){return t=I_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I_(e){var t=pG(e,"string");return Gi(t)=="symbol"?t:t+""}function pG(e,t){if(Gi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function gG(e){return e.dataKey}function vG(e,t){return D.isValidElement(e)?D.cloneElement(e,t):typeof e=="function"?D.createElement(e,t):D.createElement(HK,t)}var dr=function(e){function t(){return cG(this,t),dG(this,t,arguments)}return mG(t,e),uG(t,[{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,c=s.animationDuration,l=s.animationEasing,u=s.content,d=s.coordinate,f=s.filterNull,h=s.isAnimationActive,p=s.offset,v=s.payload,m=s.payloadUniqBy,x=s.position,b=s.reverseDirection,y=s.useTranslate3d,j=s.viewBox,S=s.wrapperStyle,N=v??[];f&&N.length&&(N=S_(v.filter(function(A){return A.value!=null&&(A.hide!==!0||n.props.includeHidden)}),m,gG));var w=N.length>0;return D.createElement(iG,{allowEscapeViewBox:o,animationDuration:c,animationEasing:l,isAnimationActive:h,active:i,coordinate:d,hasPayload:w,offset:p,position:x,reverseDirection:b,useTranslate3d:y,viewBox:j,wrapperStyle:S},vG(u,g0(g0({},this.props),{},{payload:N})))}}])}(g.PureComponent);Fv(dr,"displayName","Tooltip");Fv(dr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ss.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var xG=Yn,yG=function(){return xG.Date.now()},bG=yG,jG=/\s/;function wG(e){for(var t=e.length;t--&&jG.test(e.charAt(t)););return t}var NG=wG,SG=NG,AG=/^\s+/;function OG(e){return e&&e.slice(0,SG(e)+1).replace(AG,"")}var _G=OG,PG=_G,v0=as,CG=Oo,x0=NaN,kG=/^[-+]0x[0-9a-f]+$/i,TG=/^0b[01]+$/i,EG=/^0o[0-7]+$/i,$G=parseInt;function DG(e){if(typeof e=="number")return e;if(CG(e))return x0;if(v0(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=v0(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=PG(e);var r=TG.test(e);return r||EG.test(e)?$G(e.slice(2),r?2:8):kG.test(e)?x0:+e}var M_=DG,IG=as,em=bG,y0=M_,MG="Expected a function",RG=Math.max,LG=Math.min;function FG(e,t,r){var n,s,i,o,c,l,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(MG);t=y0(t)||0,IG(r)&&(d=!!r.leading,f="maxWait"in r,i=f?RG(y0(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function p(w){var A=n,O=s;return n=s=void 0,u=w,o=e.apply(O,A),o}function v(w){return u=w,c=setTimeout(b,t),d?p(w):o}function m(w){var A=w-l,O=w-u,_=t-A;return f?LG(_,i-O):_}function x(w){var A=w-l,O=w-u;return l===void 0||A>=t||A<0||f&&O>=i}function b(){var w=em();if(x(w))return y(w);c=setTimeout(b,m(w))}function y(w){return c=void 0,h&&n?p(w):(n=s=void 0,o)}function j(){c!==void 0&&clearTimeout(c),u=0,n=l=s=c=void 0}function S(){return c===void 0?o:y(em())}function N(){var w=em(),A=x(w);if(n=arguments,s=this,l=w,A){if(c===void 0)return v(l);if(f)return clearTimeout(c),c=setTimeout(b,t),p(l)}return c===void 0&&(c=setTimeout(b,t)),o}return N.cancel=j,N.flush=S,N}var BG=FG,VG=BG,zG=as,UG="Expected a function";function WG(e,t,r){var n=!0,s=!0;if(typeof e!="function")throw new TypeError(UG);return zG(r)&&(n="leading"in r?!!r.leading:n,s="trailing"in r?!!r.trailing:s),VG(e,t,{leading:n,maxWait:t,trailing:s})}var HG=WG;const R_=xt(HG);function Wc(e){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wc(e)}function b0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Yl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b0(Object(r),!0).forEach(function(n){qG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qG(e,t,r){return t=KG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KG(e){var t=GG(e,"string");return Wc(t)=="symbol"?t:t+""}function GG(e,t){if(Wc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZG(e,t){return QG(e)||JG(e,t)||YG(e,t)||XG()}function XG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YG(e,t){if(e){if(typeof e=="string")return j0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j0(e,t)}}function j0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function JG(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(d){u=!0,s=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return c}}function QG(e){if(Array.isArray(e))return e}var ls=g.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,s=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,c=e.height,l=c===void 0?"100%":c,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,p=e.children,v=e.debounce,m=v===void 0?0:v,x=e.id,b=e.className,y=e.onResize,j=e.style,S=j===void 0?{}:j,N=g.useRef(null),w=g.useRef();w.current=y,g.useImperativeHandle(t,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var A=g.useState({containerWidth:s.width,containerHeight:s.height}),O=ZG(A,2),_=O[0],C=O[1],P=g.useCallback(function(T,E){C(function(I){var F=Math.round(T),$=Math.round(E);return I.containerWidth===F&&I.containerHeight===$?I:{containerWidth:F,containerHeight:$}})},[]);g.useEffect(function(){var T=function(M){var J,V=M[0].contentRect,z=V.width,B=V.height;P(z,B),(J=w.current)===null||J===void 0||J.call(w,z,B)};m>0&&(T=R_(T,m,{trailing:!0,leading:!1}));var E=new ResizeObserver(T),I=N.current.getBoundingClientRect(),F=I.width,$=I.height;return P(F,$),E.observe(N.current),function(){E.disconnect()}},[P,m]);var k=g.useMemo(function(){var T=_.containerWidth,E=_.containerHeight;if(T<0||E<0)return null;xn(js(o)||js(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),xn(!r||r>0,"The aspect(%s) must be greater than zero.",r);var I=js(o)?T:o,F=js(l)?E:l;r&&r>0&&(I?F=I/r:F&&(I=F*r),h&&F>h&&(F=h)),xn(I>0||F>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,I,F,o,l,d,f,r);var $=!Array.isArray(p)&&pa(p.type).endsWith("Chart");return D.Children.map(p,function(q){return D.isValidElement(q)?g.cloneElement(q,Yl({width:I,height:F},$?{style:Yl({height:"100%",width:"100%",maxHeight:F,maxWidth:I},q.props.style)}:{})):q})},[r,p,l,h,f,d,_,o]);return D.createElement("div",{id:x?"".concat(x):void 0,className:Ze("recharts-responsive-container",b),style:Yl(Yl({},S),{},{width:o,height:l,minWidth:d,minHeight:f,maxHeight:h}),ref:N},k)}),Hc=function(t){return null};Hc.displayName="Cell";function qc(e){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qc(e)}function w0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Sp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w0(Object(r),!0).forEach(function(n){eZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eZ(e,t,r){return t=tZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tZ(e){var t=rZ(e,"string");return qc(t)=="symbol"?t:t+""}function rZ(e,t){if(qc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hi={widthCache:{},cacheCount:0},nZ=2e3,aZ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},N0="recharts_measurement_span";function sZ(e){var t=Sp({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var mc=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ss.isSsr)return{width:0,height:0};var n=sZ(r),s=JSON.stringify({text:t,copyStyle:n});if(hi.widthCache[s])return hi.widthCache[s];try{var i=document.getElementById(N0);i||(i=document.createElement("span"),i.setAttribute("id",N0),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=Sp(Sp({},aZ),n);Object.assign(i.style,o),i.textContent="".concat(t);var c=i.getBoundingClientRect(),l={width:c.width,height:c.height};return hi.widthCache[s]=l,++hi.cacheCount>nZ&&(hi.cacheCount=0,hi.widthCache={}),l}catch{return{width:0,height:0}}},iZ=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Kc(e){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kc(e)}function ld(e,t){return uZ(e)||lZ(e,t)||cZ(e,t)||oZ()}function oZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cZ(e,t){if(e){if(typeof e=="string")return S0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return S0(e,t)}}function S0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lZ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(d){u=!0,s=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return c}}function uZ(e){if(Array.isArray(e))return e}function dZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A0(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hZ(n.key),n)}}function fZ(e,t,r){return t&&A0(e.prototype,t),r&&A0(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function hZ(e){var t=mZ(e,"string");return Kc(t)=="symbol"?t:t+""}function mZ(e,t){if(Kc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var O0=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,_0=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,pZ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,gZ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,L_={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},vZ=Object.keys(L_),wi="NaN";function xZ(e,t){return e*L_[t]}var Jl=function(){function e(t,r){dZ(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!pZ.test(r)&&(this.num=NaN,this.unit=""),vZ.includes(r)&&(this.num=xZ(t,r),this.unit="px")}return fZ(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,s=(n=gZ.exec(r))!==null&&n!==void 0?n:[],i=ld(s,3),o=i[1],c=i[2];return new e(parseFloat(o),c??"")}}])}();function F_(e){if(e.includes(wi))return wi;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=O0.exec(t))!==null&&r!==void 0?r:[],s=ld(n,4),i=s[1],o=s[2],c=s[3],l=Jl.parse(i??""),u=Jl.parse(c??""),d=o==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return wi;t=t.replace(O0,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=_0.exec(t))!==null&&f!==void 0?f:[],p=ld(h,4),v=p[1],m=p[2],x=p[3],b=Jl.parse(v??""),y=Jl.parse(x??""),j=m==="+"?b.add(y):b.subtract(y);if(j.isNaN())return wi;t=t.replace(_0,j.toString())}return t}var P0=/\(([^()]*)\)/;function yZ(e){for(var t=e;t.includes("(");){var r=P0.exec(t),n=ld(r,2),s=n[1];t=t.replace(P0,F_(s))}return t}function bZ(e){var t=e.replace(/\s+/g,"");return t=yZ(t),t=F_(t),t}function jZ(e){try{return bZ(e)}catch{return wi}}function tm(e){var t=jZ(e.slice(5,-1));return t===wi?"":t}var wZ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],NZ=["dx","dy","angle","className","breakAll"];function Ap(){return Ap=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ap.apply(this,arguments)}function C0(e,t){if(e==null)return{};var r=SZ(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function SZ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function k0(e,t){return PZ(e)||_Z(e,t)||OZ(e,t)||AZ()}function AZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OZ(e,t){if(e){if(typeof e=="string")return T0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return T0(e,t)}}function T0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _Z(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(d){u=!0,s=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return c}}function PZ(e){if(Array.isArray(e))return e}var B_=/[ \f\n\r\t\v\u2028\u2029]+/,V_=function(t){var r=t.children,n=t.breakAll,s=t.style;try{var i=[];Ge(r)||(n?i=r.toString().split(""):i=r.toString().split(B_));var o=i.map(function(l){return{word:l,width:mc(l,s).width}}),c=n?0:mc(" ",s).width;return{wordsWithComputedWidth:o,spaceWidth:c}}catch{return null}},CZ=function(t,r,n,s,i){var o=t.maxLines,c=t.children,l=t.style,u=t.breakAll,d=ve(o),f=c,h=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return I.reduce(function(F,$){var q=$.word,M=$.width,J=F[F.length-1];if(J&&(s==null||i||J.width+M+n<Number(s)))J.words.push(q),J.width+=M+n;else{var V={words:[q],width:M};F.push(V)}return F},[])},p=h(r),v=function(I){return I.reduce(function(F,$){return F.width>$.width?F:$})};if(!d)return p;for(var m="…",x=function(I){var F=f.slice(0,I),$=V_({breakAll:u,style:l,children:F+m}).wordsWithComputedWidth,q=h($),M=q.length>o||v(q).width>Number(s);return[M,q]},b=0,y=f.length-1,j=0,S;b<=y&&j<=f.length-1;){var N=Math.floor((b+y)/2),w=N-1,A=x(w),O=k0(A,2),_=O[0],C=O[1],P=x(N),k=k0(P,1),T=k[0];if(!_&&!T&&(b=N+1),_&&T&&(y=N-1),!_&&T){S=C;break}j++}return S||p},E0=function(t){var r=Ge(t)?[]:t.toString().split(B_);return[{words:r}]},kZ=function(t){var r=t.width,n=t.scaleToFit,s=t.children,i=t.style,o=t.breakAll,c=t.maxLines;if((r||n)&&!ss.isSsr){var l,u,d=V_({breakAll:o,children:s,style:i});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;l=f,u=h}else return E0(s);return CZ({breakAll:o,children:s,maxLines:c,style:i},l,u,r,n)}return E0(s)},$0="#808080",qs=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,i=s===void 0?0:s,o=t.lineHeight,c=o===void 0?"1em":o,l=t.capHeight,u=l===void 0?"0.71em":l,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,p=h===void 0?"start":h,v=t.verticalAnchor,m=v===void 0?"end":v,x=t.fill,b=x===void 0?$0:x,y=C0(t,wZ),j=g.useMemo(function(){return kZ({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:f,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,f,y.style,y.width]),S=y.dx,N=y.dy,w=y.angle,A=y.className,O=y.breakAll,_=C0(y,NZ);if(!Xt(n)||!Xt(i))return null;var C=n+(ve(S)?S:0),P=i+(ve(N)?N:0),k;switch(m){case"start":k=tm("calc(".concat(u,")"));break;case"middle":k=tm("calc(".concat((j.length-1)/2," * -").concat(c," + (").concat(u," / 2))"));break;default:k=tm("calc(".concat(j.length-1," * -").concat(c,")"));break}var T=[];if(f){var E=j[0].width,I=y.width;T.push("scale(".concat((ve(I)?I/E:1)/E,")"))}return w&&T.push("rotate(".concat(w,", ").concat(C,", ").concat(P,")")),T.length&&(_.transform=T.join(" ")),D.createElement("text",Ap({},Fe(_,!0),{x:C,y:P,className:Ze("recharts-text",A),textAnchor:p,fill:b.includes("url")?$0:b}),j.map(function(F,$){var q=F.words.join(O?"":" ");return D.createElement("tspan",{x:C,dy:$===0?k:c,key:"".concat(q,"-").concat($)},q)}))};function Ha(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function TZ(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Bv(e){let t,r,n;e.length!==2?(t=Ha,r=(c,l)=>Ha(e(c),l),n=(c,l)=>e(c)-l):(t=e===Ha||e===TZ?e:EZ,r=e,n=e);function s(c,l,u=0,d=c.length){if(u<d){if(t(l,l)!==0)return d;do{const f=u+d>>>1;r(c[f],l)<0?u=f+1:d=f}while(u<d)}return u}function i(c,l,u=0,d=c.length){if(u<d){if(t(l,l)!==0)return d;do{const f=u+d>>>1;r(c[f],l)<=0?u=f+1:d=f}while(u<d)}return u}function o(c,l,u=0,d=c.length){const f=s(c,l,u,d-1);return f>u&&n(c[f-1],l)>-n(c[f],l)?f-1:f}return{left:s,center:o,right:i}}function EZ(){return 0}function z_(e){return e===null?NaN:+e}function*$Z(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const DZ=Bv(Ha),El=DZ.right;Bv(z_).center;class D0 extends Map{constructor(t,r=RZ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(I0(this,t))}has(t){return super.has(I0(this,t))}set(t,r){return super.set(IZ(this,t),r)}delete(t){return super.delete(MZ(this,t))}}function I0({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function IZ({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function MZ({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function RZ(e){return e!==null&&typeof e=="object"?e.valueOf():e}function LZ(e=Ha){if(e===Ha)return U_;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function U_(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const FZ=Math.sqrt(50),BZ=Math.sqrt(10),VZ=Math.sqrt(2);function ud(e,t,r){const n=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(n)),i=n/Math.pow(10,s),o=i>=FZ?10:i>=BZ?5:i>=VZ?2:1;let c,l,u;return s<0?(u=Math.pow(10,-s)/o,c=Math.round(e*u),l=Math.round(t*u),c/u<e&&++c,l/u>t&&--l,u=-u):(u=Math.pow(10,s)*o,c=Math.round(e/u),l=Math.round(t/u),c*u<e&&++c,l*u>t&&--l),l<c&&.5<=r&&r<2?ud(e,t,r*2):[c,l,u]}function Op(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[s,i,o]=n?ud(t,e,r):ud(e,t,r);if(!(i>=s))return[];const c=i-s+1,l=new Array(c);if(n)if(o<0)for(let u=0;u<c;++u)l[u]=(i-u)/-o;else for(let u=0;u<c;++u)l[u]=(i-u)*o;else if(o<0)for(let u=0;u<c;++u)l[u]=(s+u)/-o;else for(let u=0;u<c;++u)l[u]=(s+u)*o;return l}function _p(e,t,r){return t=+t,e=+e,r=+r,ud(e,t,r)[2]}function Pp(e,t,r){t=+t,e=+e,r=+r;const n=t<e,s=n?_p(t,e,r):_p(e,t,r);return(n?-1:1)*(s<0?1/-s:s)}function M0(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function R0(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function W_(e,t,r=0,n=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(s=s===void 0?U_:LZ(s);n>r;){if(n-r>600){const l=n-r+1,u=t-r+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(u-l/2<0?-1:1),p=Math.max(r,Math.floor(t-u*f/l+h)),v=Math.min(n,Math.floor(t+(l-u)*f/l+h));W_(e,t,p,v,s)}const i=e[t];let o=r,c=n;for(Xo(e,r,t),s(e[n],i)>0&&Xo(e,r,n);o<c;){for(Xo(e,o,c),++o,--c;s(e[o],i)<0;)++o;for(;s(e[c],i)>0;)--c}s(e[r],i)===0?Xo(e,r,c):(++c,Xo(e,c,n)),c<=t&&(r=c+1),t<=c&&(n=c-1)}return e}function Xo(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function zZ(e,t,r){if(e=Float64Array.from($Z(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return R0(e);if(t>=1)return M0(e);var n,s=(n-1)*t,i=Math.floor(s),o=M0(W_(e,i).subarray(0,i+1)),c=R0(e.subarray(i+1));return o+(c-o)*(s-i)}}function UZ(e,t,r=z_){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,i=Math.floor(s),o=+r(e[i],i,e),c=+r(e[i+1],i+1,e);return o+(c-o)*(s-i)}}function WZ(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(s);++n<s;)i[n]=e+n*r;return i}function ln(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function _a(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Cp=Symbol("implicit");function Vv(){var e=new D0,t=[],r=[],n=Cp;function s(i){let o=e.get(i);if(o===void 0){if(n!==Cp)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new D0;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return Vv(t,r).unknown(n)},ln.apply(s,arguments),s}function Gc(){var e=Vv().unknown(void 0),t=e.domain,r=e.range,n=0,s=1,i,o,c=!1,l=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,p=s<n,v=p?s:n,m=p?n:s;i=(m-v)/Math.max(1,h-l+u*2),c&&(i=Math.floor(i)),v+=(m-v-i*(h-l))*d,o=i*(1-l),c&&(v=Math.round(v),o=Math.round(o));var x=WZ(h).map(function(b){return v+i*b});return r(p?x.reverse():x)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,s]=h,n=+n,s=+s,f()):[n,s]},e.rangeRound=function(h){return[n,s]=h,n=+n,s=+s,c=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(c=!!h,f()):c},e.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return Gc(t(),[n,s]).round(c).paddingInner(l).paddingOuter(u).align(d)},ln.apply(f(),arguments)}function H_(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return H_(t())},e}function pc(){return H_(Gc.apply(null,arguments).paddingInner(1))}function zv(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function q_(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function $l(){}var Zc=.7,dd=1/Zc,Ri="\\s*([+-]?\\d+)\\s*",Xc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ln="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",HZ=/^#([0-9a-f]{3,8})$/,qZ=new RegExp(`^rgb\\(${Ri},${Ri},${Ri}\\)$`),KZ=new RegExp(`^rgb\\(${Ln},${Ln},${Ln}\\)$`),GZ=new RegExp(`^rgba\\(${Ri},${Ri},${Ri},${Xc}\\)$`),ZZ=new RegExp(`^rgba\\(${Ln},${Ln},${Ln},${Xc}\\)$`),XZ=new RegExp(`^hsl\\(${Xc},${Ln},${Ln}\\)$`),YZ=new RegExp(`^hsla\\(${Xc},${Ln},${Ln},${Xc}\\)$`),L0={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};zv($l,Yc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:F0,formatHex:F0,formatHex8:JZ,formatHsl:QZ,formatRgb:B0,toString:B0});function F0(){return this.rgb().formatHex()}function JZ(){return this.rgb().formatHex8()}function QZ(){return K_(this).formatHsl()}function B0(){return this.rgb().formatRgb()}function Yc(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=HZ.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?V0(t):r===3?new Sr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Ql(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Ql(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=qZ.exec(e))?new Sr(t[1],t[2],t[3],1):(t=KZ.exec(e))?new Sr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=GZ.exec(e))?Ql(t[1],t[2],t[3],t[4]):(t=ZZ.exec(e))?Ql(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=XZ.exec(e))?W0(t[1],t[2]/100,t[3]/100,1):(t=YZ.exec(e))?W0(t[1],t[2]/100,t[3]/100,t[4]):L0.hasOwnProperty(e)?V0(L0[e]):e==="transparent"?new Sr(NaN,NaN,NaN,0):null}function V0(e){return new Sr(e>>16&255,e>>8&255,e&255,1)}function Ql(e,t,r,n){return n<=0&&(e=t=r=NaN),new Sr(e,t,r,n)}function eX(e){return e instanceof $l||(e=Yc(e)),e?(e=e.rgb(),new Sr(e.r,e.g,e.b,e.opacity)):new Sr}function kp(e,t,r,n){return arguments.length===1?eX(e):new Sr(e,t,r,n??1)}function Sr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}zv(Sr,kp,q_($l,{brighter(e){return e=e==null?dd:Math.pow(dd,e),new Sr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Zc:Math.pow(Zc,e),new Sr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Sr(ks(this.r),ks(this.g),ks(this.b),fd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:z0,formatHex:z0,formatHex8:tX,formatRgb:U0,toString:U0}));function z0(){return`#${ws(this.r)}${ws(this.g)}${ws(this.b)}`}function tX(){return`#${ws(this.r)}${ws(this.g)}${ws(this.b)}${ws((isNaN(this.opacity)?1:this.opacity)*255)}`}function U0(){const e=fd(this.opacity);return`${e===1?"rgb(":"rgba("}${ks(this.r)}, ${ks(this.g)}, ${ks(this.b)}${e===1?")":`, ${e})`}`}function fd(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ks(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ws(e){return e=ks(e),(e<16?"0":"")+e.toString(16)}function W0(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new pn(e,t,r,n)}function K_(e){if(e instanceof pn)return new pn(e.h,e.s,e.l,e.opacity);if(e instanceof $l||(e=Yc(e)),!e)return new pn;if(e instanceof pn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,c=i-s,l=(i+s)/2;return c?(t===i?o=(r-n)/c+(r<n)*6:r===i?o=(n-t)/c+2:o=(t-r)/c+4,c/=l<.5?i+s:2-i-s,o*=60):c=l>0&&l<1?0:o,new pn(o,c,l,e.opacity)}function rX(e,t,r,n){return arguments.length===1?K_(e):new pn(e,t,r,n??1)}function pn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}zv(pn,rX,q_($l,{brighter(e){return e=e==null?dd:Math.pow(dd,e),new pn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Zc:Math.pow(Zc,e),new pn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new Sr(rm(e>=240?e-240:e+120,s,n),rm(e,s,n),rm(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new pn(H0(this.h),eu(this.s),eu(this.l),fd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=fd(this.opacity);return`${e===1?"hsl(":"hsla("}${H0(this.h)}, ${eu(this.s)*100}%, ${eu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function H0(e){return e=(e||0)%360,e<0?e+360:e}function eu(e){return Math.max(0,Math.min(1,e||0))}function rm(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Uv=e=>()=>e;function nX(e,t){return function(r){return e+r*t}}function aX(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function sX(e){return(e=+e)==1?G_:function(t,r){return r-t?aX(t,r,e):Uv(isNaN(t)?r:t)}}function G_(e,t){var r=t-e;return r?nX(e,r):Uv(isNaN(e)?t:e)}const q0=function e(t){var r=sX(t);function n(s,i){var o=r((s=kp(s)).r,(i=kp(i)).r),c=r(s.g,i.g),l=r(s.b,i.b),u=G_(s.opacity,i.opacity);return function(d){return s.r=o(d),s.g=c(d),s.b=l(d),s.opacity=u(d),s+""}}return n.gamma=e,n}(1);function iX(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(i){for(s=0;s<r;++s)n[s]=e[s]*(1-i)+t[s]*i;return n}}function oX(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function cX(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)s[o]=Io(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(c){for(o=0;o<n;++o)i[o]=s[o](c);return i}}function lX(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function hd(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function uX(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=Io(e[s],t[s]):n[s]=t[s];return function(i){for(s in r)n[s]=r[s](i);return n}}var Tp=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,nm=new RegExp(Tp.source,"g");function dX(e){return function(){return e}}function fX(e){return function(t){return e(t)+""}}function hX(e,t){var r=Tp.lastIndex=nm.lastIndex=0,n,s,i,o=-1,c=[],l=[];for(e=e+"",t=t+"";(n=Tp.exec(e))&&(s=nm.exec(t));)(i=s.index)>r&&(i=t.slice(r,i),c[o]?c[o]+=i:c[++o]=i),(n=n[0])===(s=s[0])?c[o]?c[o]+=s:c[++o]=s:(c[++o]=null,l.push({i:o,x:hd(n,s)})),r=nm.lastIndex;return r<t.length&&(i=t.slice(r),c[o]?c[o]+=i:c[++o]=i),c.length<2?l[0]?fX(l[0].x):dX(t):(t=l.length,function(u){for(var d=0,f;d<t;++d)c[(f=l[d]).i]=f.x(u);return c.join("")})}function Io(e,t){var r=typeof t,n;return t==null||r==="boolean"?Uv(t):(r==="number"?hd:r==="string"?(n=Yc(t))?(t=n,q0):hX:t instanceof Yc?q0:t instanceof Date?lX:oX(t)?iX:Array.isArray(t)?cX:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?uX:hd)(e,t)}function Wv(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function mX(e,t){t===void 0&&(t=e,e=Io);for(var r=0,n=t.length-1,s=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(s,s=t[++r]);return function(o){var c=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[c](o-c)}}function pX(e){return function(){return e}}function md(e){return+e}var K0=[0,1];function br(e){return e}function Ep(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:pX(isNaN(t)?NaN:.5)}function gX(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function vX(e,t,r){var n=e[0],s=e[1],i=t[0],o=t[1];return s<n?(n=Ep(s,n),i=r(o,i)):(n=Ep(n,s),i=r(i,o)),function(c){return i(n(c))}}function xX(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)s[o]=Ep(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(c){var l=El(e,c,1,n)-1;return i[l](s[l](c))}}function Dl(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Zf(){var e=K0,t=K0,r=Io,n,s,i,o=br,c,l,u;function d(){var h=Math.min(e.length,t.length);return o!==br&&(o=gX(e[0],e[h-1])),c=h>2?xX:vX,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(l||(l=c(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(s((u||(u=c(t,e.map(n),hd)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,md),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=Wv,d()},f.clamp=function(h){return arguments.length?(o=h?!0:br,d()):o!==br},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,p){return n=h,s=p,d()}}function Hv(){return Zf()(br,br)}function yX(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function pd(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Zi(e){return e=pd(Math.abs(e)),e?e[1]:NaN}function bX(e,t){return function(r,n){for(var s=r.length,i=[],o=0,c=e[0],l=0;s>0&&c>0&&(l+c+1>n&&(c=Math.max(1,n-l)),i.push(r.substring(s-=c,s+c)),!((l+=c+1)>n));)c=e[o=(o+1)%e.length];return i.reverse().join(t)}}function jX(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var wX=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Jc(e){if(!(t=wX.exec(e)))throw new Error("invalid format: "+e);var t;return new qv({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Jc.prototype=qv.prototype;function qv(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}qv.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function NX(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var Z_;function SX(e,t){var r=pd(e,t);if(!r)return e+"";var n=r[0],s=r[1],i=s-(Z_=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+pd(e,Math.max(0,t+i-1))[0]}function G0(e,t){var r=pd(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const Z0={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:yX,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>G0(e*100,t),r:G0,s:SX,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function X0(e){return e}var Y0=Array.prototype.map,J0=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function AX(e){var t=e.grouping===void 0||e.thousands===void 0?X0:bX(Y0.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?X0:jX(Y0.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Jc(f);var h=f.fill,p=f.align,v=f.sign,m=f.symbol,x=f.zero,b=f.width,y=f.comma,j=f.precision,S=f.trim,N=f.type;N==="n"?(y=!0,N="g"):Z0[N]||(j===void 0&&(j=12),S=!0,N="g"),(x||h==="0"&&p==="=")&&(x=!0,h="0",p="=");var w=m==="$"?r:m==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",A=m==="$"?n:/[%p]/.test(N)?o:"",O=Z0[N],_=/[defgprs%]/.test(N);j=j===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function C(P){var k=w,T=A,E,I,F;if(N==="c")T=O(P)+T,P="";else{P=+P;var $=P<0||1/P<0;if(P=isNaN(P)?l:O(Math.abs(P),j),S&&(P=NX(P)),$&&+P==0&&v!=="+"&&($=!1),k=($?v==="("?v:c:v==="-"||v==="("?"":v)+k,T=(N==="s"?J0[8+Z_/3]:"")+T+($&&v==="("?")":""),_){for(E=-1,I=P.length;++E<I;)if(F=P.charCodeAt(E),48>F||F>57){T=(F===46?s+P.slice(E+1):P.slice(E))+T,P=P.slice(0,E);break}}}y&&!x&&(P=t(P,1/0));var q=k.length+P.length+T.length,M=q<b?new Array(b-q+1).join(h):"";switch(y&&x&&(P=t(M+P,M.length?b-T.length:1/0),M=""),p){case"<":P=k+P+T+M;break;case"=":P=k+M+P+T;break;case"^":P=M.slice(0,q=M.length>>1)+k+P+T+M.slice(q);break;default:P=M+k+P+T;break}return i(P)}return C.toString=function(){return f+""},C}function d(f,h){var p=u((f=Jc(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(Zi(h)/3)))*3,m=Math.pow(10,-v),x=J0[8+v/3];return function(b){return p(m*b)+x}}return{format:u,formatPrefix:d}}var tu,Kv,X_;OX({thousands:",",grouping:[3],currency:["$",""]});function OX(e){return tu=AX(e),Kv=tu.format,X_=tu.formatPrefix,tu}function _X(e){return Math.max(0,-Zi(Math.abs(e)))}function PX(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Zi(t)/3)))*3-Zi(Math.abs(e)))}function CX(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Zi(t)-Zi(e))+1}function Y_(e,t,r,n){var s=Pp(e,t,r),i;switch(n=Jc(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=PX(s,o))&&(n.precision=i),X_(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=CX(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=_X(s))&&(n.precision=i-(n.type==="%")*2);break}}return Kv(n)}function is(e){var t=e.domain;return e.ticks=function(r){var n=t();return Op(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var s=t();return Y_(s[0],s[s.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,i=n.length-1,o=n[s],c=n[i],l,u,d=10;for(c<o&&(u=o,o=c,c=u,u=s,s=i,i=u);d-- >0;){if(u=_p(o,c,r),u===l)return n[s]=o,n[i]=c,t(n);if(u>0)o=Math.floor(o/u)*u,c=Math.ceil(c/u)*u;else if(u<0)o=Math.ceil(o*u)/u,c=Math.floor(c*u)/u;else break;l=u}return e},e}function gd(){var e=Hv();return e.copy=function(){return Dl(e,gd())},ln.apply(e,arguments),is(e)}function J_(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,md),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return J_(e).unknown(t)},e=arguments.length?Array.from(e,md):[0,1],is(r)}function Q_(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],i=e[n],o;return i<s&&(o=r,r=n,n=o,o=s,s=i,i=o),e[r]=t.floor(s),e[n]=t.ceil(i),e}function Q0(e){return Math.log(e)}function ej(e){return Math.exp(e)}function kX(e){return-Math.log(-e)}function TX(e){return-Math.exp(-e)}function EX(e){return isFinite(e)?+("1e"+e):e<0?0:e}function $X(e){return e===10?EX:e===Math.E?Math.exp:t=>Math.pow(e,t)}function DX(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function tj(e){return(t,r)=>-e(-t,r)}function Gv(e){const t=e(Q0,ej),r=t.domain;let n=10,s,i;function o(){return s=DX(n),i=$X(n),r()[0]<0?(s=tj(s),i=tj(i),e(kX,TX)):e(Q0,ej),t}return t.base=function(c){return arguments.length?(n=+c,o()):n},t.domain=function(c){return arguments.length?(r(c),o()):r()},t.ticks=c=>{const l=r();let u=l[0],d=l[l.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=s(u),p=s(d),v,m;const x=c==null?10:+c;let b=[];if(!(n%1)&&p-h<x){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(v=1;v<n;++v)if(m=h<0?v/i(-h):v*i(h),!(m<u)){if(m>d)break;b.push(m)}}else for(;h<=p;++h)for(v=n-1;v>=1;--v)if(m=h>0?v/i(-h):v*i(h),!(m<u)){if(m>d)break;b.push(m)}b.length*2<x&&(b=Op(u,d,x))}else b=Op(h,p,Math.min(p-h,x)).map(i);return f?b.reverse():b},t.tickFormat=(c,l)=>{if(c==null&&(c=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Jc(l)).precision==null&&(l.trim=!0),l=Kv(l)),c===1/0)return l;const u=Math.max(1,n*c/t.ticks().length);return d=>{let f=d/i(Math.round(s(d)));return f*n<n-.5&&(f*=n),f<=u?l(d):""}},t.nice=()=>r(Q_(r(),{floor:c=>i(Math.floor(s(c))),ceil:c=>i(Math.ceil(s(c)))})),t}function eP(){const e=Gv(Zf()).domain([1,10]);return e.copy=()=>Dl(e,eP()).base(e.base()),ln.apply(e,arguments),e}function rj(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function nj(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Zv(e){var t=1,r=e(rj(t),nj(t));return r.constant=function(n){return arguments.length?e(rj(t=+n),nj(t)):t},is(r)}function tP(){var e=Zv(Zf());return e.copy=function(){return Dl(e,tP()).constant(e.constant())},ln.apply(e,arguments)}function aj(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function IX(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function MX(e){return e<0?-e*e:e*e}function Xv(e){var t=e(br,br),r=1;function n(){return r===1?e(br,br):r===.5?e(IX,MX):e(aj(r),aj(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},is(t)}function Yv(){var e=Xv(Zf());return e.copy=function(){return Dl(e,Yv()).exponent(e.exponent())},ln.apply(e,arguments),e}function RX(){return Yv.apply(null,arguments).exponent(.5)}function sj(e){return Math.sign(e)*e*e}function LX(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function rP(){var e=Hv(),t=[0,1],r=!1,n;function s(i){var o=LX(e(i));return isNaN(o)?n:r?Math.round(o):o}return s.invert=function(i){return e.invert(sj(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,md)).map(sj)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return rP(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},ln.apply(s,arguments),is(s)}function nP(){var e=[],t=[],r=[],n;function s(){var o=0,c=Math.max(1,t.length);for(r=new Array(c-1);++o<c;)r[o-1]=UZ(e,o/c);return i}function i(o){return o==null||isNaN(o=+o)?n:t[El(r,o)]}return i.invertExtent=function(o){var c=t.indexOf(o);return c<0?[NaN,NaN]:[c>0?r[c-1]:e[0],c<r.length?r[c]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let c of o)c!=null&&!isNaN(c=+c)&&e.push(c);return e.sort(Ha),s()},i.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return nP().domain(e).range(t).unknown(n)},ln.apply(i,arguments)}function aP(){var e=0,t=1,r=1,n=[.5],s=[0,1],i;function o(l){return l!=null&&l<=l?s[El(n,l,0,r)]:i}function c(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return o}return o.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,c()):[e,t]},o.range=function(l){return arguments.length?(r=(s=Array.from(l)).length-1,c()):s.slice()},o.invertExtent=function(l){var u=s.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(l){return arguments.length&&(i=l),o},o.thresholds=function(){return n.slice()},o.copy=function(){return aP().domain([e,t]).range(s).unknown(i)},ln.apply(is(o),arguments)}function sP(){var e=[.5],t=[0,1],r,n=1;function s(i){return i!=null&&i<=i?t[El(e,i,0,n)]:r}return s.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return sP().domain(e).range(t).unknown(r)},ln.apply(s,arguments)}const am=new Date,sm=new Date;function Yt(e,t,r,n){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const o=s(i),c=s.ceil(i);return i-o<c-i?o:c},s.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,c)=>{const l=[];if(i=s.ceil(i),c=c==null?1:Math.floor(c),!(i<o)||!(c>0))return l;let u;do l.push(u=new Date(+i)),t(i,c),e(i);while(u<i&&i<o);return l},s.filter=i=>Yt(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,c)=>{if(o>=o)if(c<0)for(;++c<=0;)for(;t(o,-1),!i(o););else for(;--c>=0;)for(;t(o,1),!i(o););}),r&&(s.count=(i,o)=>(am.setTime(+i),sm.setTime(+o),e(am),e(sm),Math.floor(r(am,sm))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(n?o=>n(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const vd=Yt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);vd.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Yt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):vd);vd.range;const la=1e3,nn=la*60,ua=nn*60,ja=ua*24,Jv=ja*7,ij=ja*30,im=ja*365,Ns=Yt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*la)},(e,t)=>(t-e)/la,e=>e.getUTCSeconds());Ns.range;const Qv=Yt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*la)},(e,t)=>{e.setTime(+e+t*nn)},(e,t)=>(t-e)/nn,e=>e.getMinutes());Qv.range;const ex=Yt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*nn)},(e,t)=>(t-e)/nn,e=>e.getUTCMinutes());ex.range;const tx=Yt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*la-e.getMinutes()*nn)},(e,t)=>{e.setTime(+e+t*ua)},(e,t)=>(t-e)/ua,e=>e.getHours());tx.range;const rx=Yt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ua)},(e,t)=>(t-e)/ua,e=>e.getUTCHours());rx.range;const Il=Yt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*nn)/ja,e=>e.getDate()-1);Il.range;const Xf=Yt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ja,e=>e.getUTCDate()-1);Xf.range;const iP=Yt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ja,e=>Math.floor(e/ja));iP.range;function ii(e){return Yt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*nn)/Jv)}const Yf=ii(0),xd=ii(1),FX=ii(2),BX=ii(3),Xi=ii(4),VX=ii(5),zX=ii(6);Yf.range;xd.range;FX.range;BX.range;Xi.range;VX.range;zX.range;function oi(e){return Yt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Jv)}const Jf=oi(0),yd=oi(1),UX=oi(2),WX=oi(3),Yi=oi(4),HX=oi(5),qX=oi(6);Jf.range;yd.range;UX.range;WX.range;Yi.range;HX.range;qX.range;const nx=Yt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());nx.range;const ax=Yt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());ax.range;const wa=Yt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());wa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Yt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});wa.range;const Na=Yt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Na.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Yt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Na.range;function oP(e,t,r,n,s,i){const o=[[Ns,1,la],[Ns,5,5*la],[Ns,15,15*la],[Ns,30,30*la],[i,1,nn],[i,5,5*nn],[i,15,15*nn],[i,30,30*nn],[s,1,ua],[s,3,3*ua],[s,6,6*ua],[s,12,12*ua],[n,1,ja],[n,2,2*ja],[r,1,Jv],[t,1,ij],[t,3,3*ij],[e,1,im]];function c(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:l(u,d,f),v=p?p.range(u,+d+1):[];return h?v.reverse():v}function l(u,d,f){const h=Math.abs(d-u)/f,p=Bv(([,,x])=>x).right(o,h);if(p===o.length)return e.every(Pp(u/im,d/im,f));if(p===0)return vd.every(Math.max(Pp(u,d,f),1));const[v,m]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return v.every(m)}return[c,l]}const[KX,GX]=oP(Na,ax,Jf,iP,rx,ex),[ZX,XX]=oP(wa,nx,Yf,Il,tx,Qv);function om(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function cm(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Yo(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function YX(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,i=e.days,o=e.shortDays,c=e.months,l=e.shortMonths,u=Jo(s),d=Qo(s),f=Jo(i),h=Qo(i),p=Jo(o),v=Qo(o),m=Jo(c),x=Qo(c),b=Jo(l),y=Qo(l),j={a:$,A:q,b:M,B:J,c:null,d:fj,e:fj,f:bY,g:kY,G:EY,H:vY,I:xY,j:yY,L:cP,m:jY,M:wY,p:V,q:z,Q:pj,s:gj,S:NY,u:SY,U:AY,V:OY,w:_Y,W:PY,x:null,X:null,y:CY,Y:TY,Z:$Y,"%":mj},S={a:B,A:G,b:ce,B:we,c:null,d:hj,e:hj,f:RY,g:KY,G:ZY,H:DY,I:IY,j:MY,L:uP,m:LY,M:FY,p:pe,q:Oe,Q:pj,s:gj,S:BY,u:VY,U:zY,V:UY,w:WY,W:HY,x:null,X:null,y:qY,Y:GY,Z:XY,"%":mj},N={a:C,A:P,b:k,B:T,c:E,d:uj,e:uj,f:hY,g:lj,G:cj,H:dj,I:dj,j:lY,L:fY,m:cY,M:uY,p:_,q:oY,Q:pY,s:gY,S:dY,u:rY,U:nY,V:aY,w:tY,W:sY,x:I,X:F,y:lj,Y:cj,Z:iY,"%":mY};j.x=w(r,j),j.X=w(n,j),j.c=w(t,j),S.x=w(r,S),S.X=w(n,S),S.c=w(t,S);function w(R,de){return function(fe){var ee=[],Me=-1,Se=0,tt=R.length,nt,ze,L;for(fe instanceof Date||(fe=new Date(+fe));++Me<tt;)R.charCodeAt(Me)===37&&(ee.push(R.slice(Se,Me)),(ze=oj[nt=R.charAt(++Me)])!=null?nt=R.charAt(++Me):ze=nt==="e"?" ":"0",(L=de[nt])&&(nt=L(fe,ze)),ee.push(nt),Se=Me+1);return ee.push(R.slice(Se,Me)),ee.join("")}}function A(R,de){return function(fe){var ee=Yo(1900,void 0,1),Me=O(ee,R,fe+="",0),Se,tt;if(Me!=fe.length)return null;if("Q"in ee)return new Date(ee.Q);if("s"in ee)return new Date(ee.s*1e3+("L"in ee?ee.L:0));if(de&&!("Z"in ee)&&(ee.Z=0),"p"in ee&&(ee.H=ee.H%12+ee.p*12),ee.m===void 0&&(ee.m="q"in ee?ee.q:0),"V"in ee){if(ee.V<1||ee.V>53)return null;"w"in ee||(ee.w=1),"Z"in ee?(Se=cm(Yo(ee.y,0,1)),tt=Se.getUTCDay(),Se=tt>4||tt===0?yd.ceil(Se):yd(Se),Se=Xf.offset(Se,(ee.V-1)*7),ee.y=Se.getUTCFullYear(),ee.m=Se.getUTCMonth(),ee.d=Se.getUTCDate()+(ee.w+6)%7):(Se=om(Yo(ee.y,0,1)),tt=Se.getDay(),Se=tt>4||tt===0?xd.ceil(Se):xd(Se),Se=Il.offset(Se,(ee.V-1)*7),ee.y=Se.getFullYear(),ee.m=Se.getMonth(),ee.d=Se.getDate()+(ee.w+6)%7)}else("W"in ee||"U"in ee)&&("w"in ee||(ee.w="u"in ee?ee.u%7:"W"in ee?1:0),tt="Z"in ee?cm(Yo(ee.y,0,1)).getUTCDay():om(Yo(ee.y,0,1)).getDay(),ee.m=0,ee.d="W"in ee?(ee.w+6)%7+ee.W*7-(tt+5)%7:ee.w+ee.U*7-(tt+6)%7);return"Z"in ee?(ee.H+=ee.Z/100|0,ee.M+=ee.Z%100,cm(ee)):om(ee)}}function O(R,de,fe,ee){for(var Me=0,Se=de.length,tt=fe.length,nt,ze;Me<Se;){if(ee>=tt)return-1;if(nt=de.charCodeAt(Me++),nt===37){if(nt=de.charAt(Me++),ze=N[nt in oj?de.charAt(Me++):nt],!ze||(ee=ze(R,fe,ee))<0)return-1}else if(nt!=fe.charCodeAt(ee++))return-1}return ee}function _(R,de,fe){var ee=u.exec(de.slice(fe));return ee?(R.p=d.get(ee[0].toLowerCase()),fe+ee[0].length):-1}function C(R,de,fe){var ee=p.exec(de.slice(fe));return ee?(R.w=v.get(ee[0].toLowerCase()),fe+ee[0].length):-1}function P(R,de,fe){var ee=f.exec(de.slice(fe));return ee?(R.w=h.get(ee[0].toLowerCase()),fe+ee[0].length):-1}function k(R,de,fe){var ee=b.exec(de.slice(fe));return ee?(R.m=y.get(ee[0].toLowerCase()),fe+ee[0].length):-1}function T(R,de,fe){var ee=m.exec(de.slice(fe));return ee?(R.m=x.get(ee[0].toLowerCase()),fe+ee[0].length):-1}function E(R,de,fe){return O(R,t,de,fe)}function I(R,de,fe){return O(R,r,de,fe)}function F(R,de,fe){return O(R,n,de,fe)}function $(R){return o[R.getDay()]}function q(R){return i[R.getDay()]}function M(R){return l[R.getMonth()]}function J(R){return c[R.getMonth()]}function V(R){return s[+(R.getHours()>=12)]}function z(R){return 1+~~(R.getMonth()/3)}function B(R){return o[R.getUTCDay()]}function G(R){return i[R.getUTCDay()]}function ce(R){return l[R.getUTCMonth()]}function we(R){return c[R.getUTCMonth()]}function pe(R){return s[+(R.getUTCHours()>=12)]}function Oe(R){return 1+~~(R.getUTCMonth()/3)}return{format:function(R){var de=w(R+="",j);return de.toString=function(){return R},de},parse:function(R){var de=A(R+="",!1);return de.toString=function(){return R},de},utcFormat:function(R){var de=w(R+="",S);return de.toString=function(){return R},de},utcParse:function(R){var de=A(R+="",!0);return de.toString=function(){return R},de}}}var oj={"-":"",_:" ",0:"0"},nr=/^\s*\d+/,JX=/^%/,QX=/[\\^$*+?|[\]().{}]/g;function ht(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",i=s.length;return n+(i<r?new Array(r-i+1).join(t)+s:s)}function eY(e){return e.replace(QX,"\\$&")}function Jo(e){return new RegExp("^(?:"+e.map(eY).join("|")+")","i")}function Qo(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function tY(e,t,r){var n=nr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function rY(e,t,r){var n=nr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function nY(e,t,r){var n=nr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function aY(e,t,r){var n=nr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function sY(e,t,r){var n=nr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function cj(e,t,r){var n=nr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function lj(e,t,r){var n=nr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function iY(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function oY(e,t,r){var n=nr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function cY(e,t,r){var n=nr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function uj(e,t,r){var n=nr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function lY(e,t,r){var n=nr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function dj(e,t,r){var n=nr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function uY(e,t,r){var n=nr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function dY(e,t,r){var n=nr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function fY(e,t,r){var n=nr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function hY(e,t,r){var n=nr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function mY(e,t,r){var n=JX.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function pY(e,t,r){var n=nr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function gY(e,t,r){var n=nr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function fj(e,t){return ht(e.getDate(),t,2)}function vY(e,t){return ht(e.getHours(),t,2)}function xY(e,t){return ht(e.getHours()%12||12,t,2)}function yY(e,t){return ht(1+Il.count(wa(e),e),t,3)}function cP(e,t){return ht(e.getMilliseconds(),t,3)}function bY(e,t){return cP(e,t)+"000"}function jY(e,t){return ht(e.getMonth()+1,t,2)}function wY(e,t){return ht(e.getMinutes(),t,2)}function NY(e,t){return ht(e.getSeconds(),t,2)}function SY(e){var t=e.getDay();return t===0?7:t}function AY(e,t){return ht(Yf.count(wa(e)-1,e),t,2)}function lP(e){var t=e.getDay();return t>=4||t===0?Xi(e):Xi.ceil(e)}function OY(e,t){return e=lP(e),ht(Xi.count(wa(e),e)+(wa(e).getDay()===4),t,2)}function _Y(e){return e.getDay()}function PY(e,t){return ht(xd.count(wa(e)-1,e),t,2)}function CY(e,t){return ht(e.getFullYear()%100,t,2)}function kY(e,t){return e=lP(e),ht(e.getFullYear()%100,t,2)}function TY(e,t){return ht(e.getFullYear()%1e4,t,4)}function EY(e,t){var r=e.getDay();return e=r>=4||r===0?Xi(e):Xi.ceil(e),ht(e.getFullYear()%1e4,t,4)}function $Y(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ht(t/60|0,"0",2)+ht(t%60,"0",2)}function hj(e,t){return ht(e.getUTCDate(),t,2)}function DY(e,t){return ht(e.getUTCHours(),t,2)}function IY(e,t){return ht(e.getUTCHours()%12||12,t,2)}function MY(e,t){return ht(1+Xf.count(Na(e),e),t,3)}function uP(e,t){return ht(e.getUTCMilliseconds(),t,3)}function RY(e,t){return uP(e,t)+"000"}function LY(e,t){return ht(e.getUTCMonth()+1,t,2)}function FY(e,t){return ht(e.getUTCMinutes(),t,2)}function BY(e,t){return ht(e.getUTCSeconds(),t,2)}function VY(e){var t=e.getUTCDay();return t===0?7:t}function zY(e,t){return ht(Jf.count(Na(e)-1,e),t,2)}function dP(e){var t=e.getUTCDay();return t>=4||t===0?Yi(e):Yi.ceil(e)}function UY(e,t){return e=dP(e),ht(Yi.count(Na(e),e)+(Na(e).getUTCDay()===4),t,2)}function WY(e){return e.getUTCDay()}function HY(e,t){return ht(yd.count(Na(e)-1,e),t,2)}function qY(e,t){return ht(e.getUTCFullYear()%100,t,2)}function KY(e,t){return e=dP(e),ht(e.getUTCFullYear()%100,t,2)}function GY(e,t){return ht(e.getUTCFullYear()%1e4,t,4)}function ZY(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Yi(e):Yi.ceil(e),ht(e.getUTCFullYear()%1e4,t,4)}function XY(){return"+0000"}function mj(){return"%"}function pj(e){return+e}function gj(e){return Math.floor(+e/1e3)}var mi,fP,hP;YY({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function YY(e){return mi=YX(e),fP=mi.format,mi.parse,hP=mi.utcFormat,mi.utcParse,mi}function JY(e){return new Date(e)}function QY(e){return e instanceof Date?+e:+new Date(+e)}function sx(e,t,r,n,s,i,o,c,l,u){var d=Hv(),f=d.invert,h=d.domain,p=u(".%L"),v=u(":%S"),m=u("%I:%M"),x=u("%I %p"),b=u("%a %d"),y=u("%b %d"),j=u("%B"),S=u("%Y");function N(w){return(l(w)<w?p:c(w)<w?v:o(w)<w?m:i(w)<w?x:n(w)<w?s(w)<w?b:y:r(w)<w?j:S)(w)}return d.invert=function(w){return new Date(f(w))},d.domain=function(w){return arguments.length?h(Array.from(w,QY)):h().map(JY)},d.ticks=function(w){var A=h();return e(A[0],A[A.length-1],w??10)},d.tickFormat=function(w,A){return A==null?N:u(A)},d.nice=function(w){var A=h();return(!w||typeof w.range!="function")&&(w=t(A[0],A[A.length-1],w??10)),w?h(Q_(A,w)):d},d.copy=function(){return Dl(d,sx(e,t,r,n,s,i,o,c,l,u))},d}function eJ(){return ln.apply(sx(ZX,XX,wa,nx,Yf,Il,tx,Qv,Ns,fP).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function tJ(){return ln.apply(sx(KX,GX,Na,ax,Jf,Xf,rx,ex,Ns,hP).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Qf(){var e=0,t=1,r,n,s,i,o=br,c=!1,l;function u(f){return f==null||isNaN(f=+f)?l:o(s===0?.5:(f=(i(f)-r)*s,c?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),s=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(c=!!f,u):c},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var p,v;return arguments.length?([p,v]=h,o=f(p,v),u):[o(0),o(1)]}}return u.range=d(Io),u.rangeRound=d(Wv),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return i=f,r=f(e),n=f(t),s=r===n?0:1/(n-r),u}}function os(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function mP(){var e=is(Qf()(br));return e.copy=function(){return os(e,mP())},_a.apply(e,arguments)}function pP(){var e=Gv(Qf()).domain([1,10]);return e.copy=function(){return os(e,pP()).base(e.base())},_a.apply(e,arguments)}function gP(){var e=Zv(Qf());return e.copy=function(){return os(e,gP()).constant(e.constant())},_a.apply(e,arguments)}function ix(){var e=Xv(Qf());return e.copy=function(){return os(e,ix()).exponent(e.exponent())},_a.apply(e,arguments)}function rJ(){return ix.apply(null,arguments).exponent(.5)}function vP(){var e=[],t=br;function r(n){if(n!=null&&!isNaN(n=+n))return t((El(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Ha),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,i)=>zZ(e,i/n))},r.copy=function(){return vP(t).domain(e)},_a.apply(r,arguments)}function eh(){var e=0,t=.5,r=1,n=1,s,i,o,c,l,u=br,d,f=!1,h;function p(m){return isNaN(m=+m)?h:(m=.5+((m=+d(m))-i)*(n*m<n*i?c:l),u(f?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([e,t,r]=m,s=d(e=+e),i=d(t=+t),o=d(r=+r),c=s===i?0:.5/(i-s),l=i===o?0:.5/(o-i),n=i<s?-1:1,p):[e,t,r]},p.clamp=function(m){return arguments.length?(f=!!m,p):f},p.interpolator=function(m){return arguments.length?(u=m,p):u};function v(m){return function(x){var b,y,j;return arguments.length?([b,y,j]=x,u=mX(m,[b,y,j]),p):[u(0),u(.5),u(1)]}}return p.range=v(Io),p.rangeRound=v(Wv),p.unknown=function(m){return arguments.length?(h=m,p):h},function(m){return d=m,s=m(e),i=m(t),o=m(r),c=s===i?0:.5/(i-s),l=i===o?0:.5/(o-i),n=i<s?-1:1,p}}function xP(){var e=is(eh()(br));return e.copy=function(){return os(e,xP())},_a.apply(e,arguments)}function yP(){var e=Gv(eh()).domain([.1,1,10]);return e.copy=function(){return os(e,yP()).base(e.base())},_a.apply(e,arguments)}function bP(){var e=Zv(eh());return e.copy=function(){return os(e,bP()).constant(e.constant())},_a.apply(e,arguments)}function ox(){var e=Xv(eh());return e.copy=function(){return os(e,ox()).exponent(e.exponent())},_a.apply(e,arguments)}function nJ(){return ox.apply(null,arguments).exponent(.5)}const vj=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Gc,scaleDiverging:xP,scaleDivergingLog:yP,scaleDivergingPow:ox,scaleDivergingSqrt:nJ,scaleDivergingSymlog:bP,scaleIdentity:J_,scaleImplicit:Cp,scaleLinear:gd,scaleLog:eP,scaleOrdinal:Vv,scalePoint:pc,scalePow:Yv,scaleQuantile:nP,scaleQuantize:aP,scaleRadial:rP,scaleSequential:mP,scaleSequentialLog:pP,scaleSequentialPow:ix,scaleSequentialQuantile:vP,scaleSequentialSqrt:rJ,scaleSequentialSymlog:gP,scaleSqrt:RX,scaleSymlog:tP,scaleThreshold:sP,scaleTime:eJ,scaleUtc:tJ,tickFormat:Y_},Symbol.toStringTag,{value:"Module"}));var aJ=Oo;function sJ(e,t,r){for(var n=-1,s=e.length;++n<s;){var i=e[n],o=t(i);if(o!=null&&(c===void 0?o===o&&!aJ(o):r(o,c)))var c=o,l=i}return l}var th=sJ;function iJ(e,t){return e>t}var jP=iJ,oJ=th,cJ=jP,lJ=Do;function uJ(e){return e&&e.length?oJ(e,lJ,cJ):void 0}var dJ=uJ;const Ba=xt(dJ);function fJ(e,t){return e<t}var wP=fJ,hJ=th,mJ=wP,pJ=Do;function gJ(e){return e&&e.length?hJ(e,pJ,mJ):void 0}var vJ=gJ;const rh=xt(vJ);var xJ=jv,yJ=Jn,bJ=k_,jJ=kr;function wJ(e,t){var r=jJ(e)?xJ:bJ;return r(e,yJ(t))}var NJ=wJ,SJ=P_,AJ=NJ;function OJ(e,t){return SJ(AJ(e,t),1)}var _J=OJ;const PJ=xt(_J);var CJ=Mv;function kJ(e,t){return CJ(e,t)}var TJ=kJ;const Ks=xt(TJ);var Mo=1e9,EJ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},lx,kt=!0,on="[DecimalError] ",Ts=on+"Invalid argument: ",cx=on+"Exponent out of range: ",Ro=Math.floor,ps=Math.pow,$J=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Mr,Qt=1e7,_t=7,NP=9007199254740991,bd=Ro(NP/_t),De={};De.absoluteValue=De.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};De.comparedTo=De.cmp=function(e){var t,r,n,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,s=e.d.length,t=0,r=n<s?n:s;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===s?0:n>s^i.s<0?1:-1};De.decimalPlaces=De.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*_t;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};De.dividedBy=De.div=function(e){return ga(this,new this.constructor(e))};De.dividedToIntegerBy=De.idiv=function(e){var t=this,r=t.constructor;return bt(ga(t,new r(e),0,1),r.precision)};De.equals=De.eq=function(e){return!this.cmp(e)};De.exponent=function(){return Ht(this)};De.greaterThan=De.gt=function(e){return this.cmp(e)>0};De.greaterThanOrEqualTo=De.gte=function(e){return this.cmp(e)>=0};De.isInteger=De.isint=function(){return this.e>this.d.length-2};De.isNegative=De.isneg=function(){return this.s<0};De.isPositive=De.ispos=function(){return this.s>0};De.isZero=function(){return this.s===0};De.lessThan=De.lt=function(e){return this.cmp(e)<0};De.lessThanOrEqualTo=De.lte=function(e){return this.cmp(e)<1};De.logarithm=De.log=function(e){var t,r=this,n=r.constructor,s=n.precision,i=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Mr))throw Error(on+"NaN");if(r.s<1)throw Error(on+(r.s?"NaN":"-Infinity"));return r.eq(Mr)?new n(0):(kt=!1,t=ga(Qc(r,i),Qc(e,i),i),kt=!0,bt(t,s))};De.minus=De.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?OP(t,e):SP(t,(e.s=-e.s,e))};De.modulo=De.mod=function(e){var t,r=this,n=r.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(on+"NaN");return r.s?(kt=!1,t=ga(r,e,0,1).times(e),kt=!0,r.minus(t)):bt(new n(r),s)};De.naturalExponential=De.exp=function(){return AP(this)};De.naturalLogarithm=De.ln=function(){return Qc(this)};De.negated=De.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};De.plus=De.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?SP(t,e):OP(t,(e.s=-e.s,e))};De.precision=De.sd=function(e){var t,r,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ts+e);if(t=Ht(s)+1,n=s.d.length-1,r=n*_t+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};De.squareRoot=De.sqrt=function(){var e,t,r,n,s,i,o,c=this,l=c.constructor;if(c.s<1){if(!c.s)return new l(0);throw Error(on+"NaN")}for(e=Ht(c),kt=!1,s=Math.sqrt(+c),s==0||s==1/0?(t=Dn(c.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=Ro((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(s.toString()),r=l.precision,s=o=r+3;;)if(i=n,n=i.plus(ga(c,i,o+2)).times(.5),Dn(i.d).slice(0,o)===(t=Dn(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),s==o&&t=="4999"){if(bt(i,r+1,0),i.times(i).eq(c)){n=i;break}}else if(t!="9999")break;o+=4}return kt=!0,bt(n,r)};De.times=De.mul=function(e){var t,r,n,s,i,o,c,l,u,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,l=h.length,u=p.length,l<u&&(i=h,h=p,p=i,o=l,l=u,u=o),i=[],o=l+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,s=l+n;s>n;)c=i[s]+p[n]*h[s-n-1]+t,i[s--]=c%Qt|0,t=c/Qt|0;i[s]=(i[s]+t)%Qt|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,kt?bt(e,f.precision):e};De.toDecimalPlaces=De.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(qn(e,0,Mo),t===void 0?t=n.rounding:qn(t,0,8),bt(r,e+Ht(r)+1,t))};De.toExponential=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=Gs(n,!0):(qn(e,0,Mo),t===void 0?t=s.rounding:qn(t,0,8),n=bt(new s(n),e+1,t),r=Gs(n,!0,e+1)),r};De.toFixed=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?Gs(s):(qn(e,0,Mo),t===void 0?t=i.rounding:qn(t,0,8),n=bt(new i(s),e+Ht(s)+1,t),r=Gs(n.abs(),!1,e+Ht(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};De.toInteger=De.toint=function(){var e=this,t=e.constructor;return bt(new t(e),Ht(e)+1,t.rounding)};De.toNumber=function(){return+this};De.toPower=De.pow=function(e){var t,r,n,s,i,o,c=this,l=c.constructor,u=12,d=+(e=new l(e));if(!e.s)return new l(Mr);if(c=new l(c),!c.s){if(e.s<1)throw Error(on+"Infinity");return c}if(c.eq(Mr))return c;if(n=l.precision,e.eq(Mr))return bt(c,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=c.s,o){if((r=d<0?-d:d)<=NP){for(s=new l(Mr),t=Math.ceil(n/_t+4),kt=!1;r%2&&(s=s.times(c),yj(s.d,t)),r=Ro(r/2),r!==0;)c=c.times(c),yj(c.d,t);return kt=!0,e.s<0?new l(Mr).div(s):bt(s,n)}}else if(i<0)throw Error(on+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,c.s=1,kt=!1,s=e.times(Qc(c,n+u)),kt=!0,s=AP(s),s.s=i,s};De.toPrecision=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?(r=Ht(s),n=Gs(s,r<=i.toExpNeg||r>=i.toExpPos)):(qn(e,1,Mo),t===void 0?t=i.rounding:qn(t,0,8),s=bt(new i(s),e,t),r=Ht(s),n=Gs(s,e<=r||r<=i.toExpNeg,e)),n};De.toSignificantDigits=De.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(qn(e,1,Mo),t===void 0?t=n.rounding:qn(t,0,8)),bt(new n(r),e,t)};De.toString=De.valueOf=De.val=De.toJSON=De[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ht(e),r=e.constructor;return Gs(e,t<=r.toExpNeg||t>=r.toExpPos)};function SP(e,t){var r,n,s,i,o,c,l,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),kt?bt(t,f):t;if(l=e.d,u=t.d,o=e.e,s=t.e,l=l.slice(),i=o-s,i){for(i<0?(n=l,i=-i,c=u.length):(n=u,s=o,c=l.length),o=Math.ceil(f/_t),c=o>c?o+1:c+1,i>c&&(i=c,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(c=l.length,i=u.length,c-i<0&&(i=c,n=u,u=l,l=n),r=0;i;)r=(l[--i]=l[i]+u[i]+r)/Qt|0,l[i]%=Qt;for(r&&(l.unshift(r),++s),c=l.length;l[--c]==0;)l.pop();return t.d=l,t.e=s,kt?bt(t,f):t}function qn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Ts+e)}function Dn(e){var t,r,n,s=e.length-1,i="",o=e[0];if(s>0){for(i+=o,t=1;t<s;t++)n=e[t]+"",r=_t-n.length,r&&(i+=Ia(r)),i+=n;o=e[t],n=o+"",r=_t-n.length,r&&(i+=Ia(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var ga=function(){function e(n,s){var i,o=0,c=n.length;for(n=n.slice();c--;)i=n[c]*s+o,n[c]=i%Qt|0,o=i/Qt|0;return o&&n.unshift(o),n}function t(n,s,i,o){var c,l;if(i!=o)l=i>o?1:-1;else for(c=l=0;c<i;c++)if(n[c]!=s[c]){l=n[c]>s[c]?1:-1;break}return l}function r(n,s,i){for(var o=0;i--;)n[i]-=o,o=n[i]<s[i]?1:0,n[i]=o*Qt+n[i]-s[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,i,o){var c,l,u,d,f,h,p,v,m,x,b,y,j,S,N,w,A,O,_=n.constructor,C=n.s==s.s?1:-1,P=n.d,k=s.d;if(!n.s)return new _(n);if(!s.s)throw Error(on+"Division by zero");for(l=n.e-s.e,A=k.length,N=P.length,p=new _(C),v=p.d=[],u=0;k[u]==(P[u]||0);)++u;if(k[u]>(P[u]||0)&&--l,i==null?y=i=_.precision:o?y=i+(Ht(n)-Ht(s))+1:y=i,y<0)return new _(0);if(y=y/_t+2|0,u=0,A==1)for(d=0,k=k[0],y++;(u<N||d)&&y--;u++)j=d*Qt+(P[u]||0),v[u]=j/k|0,d=j%k|0;else{for(d=Qt/(k[0]+1)|0,d>1&&(k=e(k,d),P=e(P,d),A=k.length,N=P.length),S=A,m=P.slice(0,A),x=m.length;x<A;)m[x++]=0;O=k.slice(),O.unshift(0),w=k[0],k[1]>=Qt/2&&++w;do d=0,c=t(k,m,A,x),c<0?(b=m[0],A!=x&&(b=b*Qt+(m[1]||0)),d=b/w|0,d>1?(d>=Qt&&(d=Qt-1),f=e(k,d),h=f.length,x=m.length,c=t(f,m,h,x),c==1&&(d--,r(f,A<h?O:k,h))):(d==0&&(c=d=1),f=k.slice()),h=f.length,h<x&&f.unshift(0),r(m,f,x),c==-1&&(x=m.length,c=t(k,m,A,x),c<1&&(d++,r(m,A<x?O:k,x))),x=m.length):c===0&&(d++,m=[0]),v[u++]=d,c&&m[0]?m[x++]=P[S]||0:(m=[P[S]],x=1);while((S++<N||m[0]!==void 0)&&y--)}return v[0]||v.shift(),p.e=l,bt(p,o?i+Ht(p)+1:i)}}();function AP(e,t){var r,n,s,i,o,c,l=0,u=0,d=e.constructor,f=d.precision;if(Ht(e)>16)throw Error(cx+Ht(e));if(!e.s)return new d(Mr);for(kt=!1,c=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(ps(2,u))/Math.LN10*2+5|0,c+=n,r=s=i=new d(Mr),d.precision=c;;){if(s=bt(s.times(e),c),r=r.times(++l),o=i.plus(ga(s,r,c)),Dn(o.d).slice(0,c)===Dn(i.d).slice(0,c)){for(;u--;)i=bt(i.times(i),c);return d.precision=f,t==null?(kt=!0,bt(i,f)):i}i=o}}function Ht(e){for(var t=e.e*_t,r=e.d[0];r>=10;r/=10)t++;return t}function lm(e,t,r){if(t>e.LN10.sd())throw kt=!0,r&&(e.precision=r),Error(on+"LN10 precision limit exceeded");return bt(new e(e.LN10),t)}function Ia(e){for(var t="";e--;)t+="0";return t}function Qc(e,t){var r,n,s,i,o,c,l,u,d,f=1,h=10,p=e,v=p.d,m=p.constructor,x=m.precision;if(p.s<1)throw Error(on+(p.s?"NaN":"-Infinity"));if(p.eq(Mr))return new m(0);if(t==null?(kt=!1,u=x):u=t,p.eq(10))return t==null&&(kt=!0),lm(m,u);if(u+=h,m.precision=u,r=Dn(v),n=r.charAt(0),i=Ht(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=Dn(p.d),n=r.charAt(0),f++;i=Ht(p),n>1?(p=new m("0."+r),i++):p=new m(n+"."+r.slice(1))}else return l=lm(m,u+2,x).times(i+""),p=Qc(new m(n+"."+r.slice(1)),u-h).plus(l),m.precision=x,t==null?(kt=!0,bt(p,x)):p;for(c=o=p=ga(p.minus(Mr),p.plus(Mr),u),d=bt(p.times(p),u),s=3;;){if(o=bt(o.times(d),u),l=c.plus(ga(o,new m(s),u)),Dn(l.d).slice(0,u)===Dn(c.d).slice(0,u))return c=c.times(2),i!==0&&(c=c.plus(lm(m,u+2,x).times(i+""))),c=ga(c,new m(f),u),m.precision=x,t==null?(kt=!0,bt(c,x)):c;c=l,s+=2}}function xj(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,r=r-n-1,e.e=Ro(r/_t),e.d=[],n=(r+1)%_t,r<0&&(n+=_t),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=_t;n<s;)e.d.push(+t.slice(n,n+=_t));t=t.slice(n),n=_t-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),kt&&(e.e>bd||e.e<-bd))throw Error(cx+r)}else e.s=0,e.e=0,e.d=[0];return e}function bt(e,t,r){var n,s,i,o,c,l,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=_t,s=t,u=f[d=0];else{if(d=Math.ceil((n+1)/_t),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=_t,s=n-_t+o}if(r!==void 0&&(i=ps(10,o-s-1),c=u/i%10|0,l=t<0||f[d+1]!==void 0||u%i,l=r<4?(c||l)&&(r==0||r==(e.s<0?3:2)):c>5||c==5&&(r==4||l||r==6&&(n>0?s>0?u/ps(10,o-s):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return l?(i=Ht(e),f.length=1,t=t-i-1,f[0]=ps(10,(_t-t%_t)%_t),e.e=Ro(-t/_t)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=ps(10,_t-n),f[d]=s>0?(u/ps(10,o-s)%ps(10,s)|0)*i:0),l)for(;;)if(d==0){(f[0]+=i)==Qt&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=Qt)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(kt&&(e.e>bd||e.e<-bd))throw Error(cx+Ht(e));return e}function OP(e,t){var r,n,s,i,o,c,l,u,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),kt?bt(t,p):t;if(l=e.d,f=t.d,n=t.e,u=e.e,l=l.slice(),o=u-n,o){for(d=o<0,d?(r=l,o=-o,c=f.length):(r=f,n=u,c=l.length),s=Math.max(Math.ceil(p/_t),c)+2,o>s&&(o=s,r.length=1),r.reverse(),s=o;s--;)r.push(0);r.reverse()}else{for(s=l.length,c=f.length,d=s<c,d&&(c=s),s=0;s<c;s++)if(l[s]!=f[s]){d=l[s]<f[s];break}o=0}for(d&&(r=l,l=f,f=r,t.s=-t.s),c=l.length,s=f.length-c;s>0;--s)l[c++]=0;for(s=f.length;s>o;){if(l[--s]<f[s]){for(i=s;i&&l[--i]===0;)l[i]=Qt-1;--l[i],l[s]+=Qt}l[s]-=f[s]}for(;l[--c]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,kt?bt(t,p):t):new h(0)}function Gs(e,t,r){var n,s=Ht(e),i=Dn(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Ia(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+Ia(-s-1)+i,r&&(n=r-o)>0&&(i+=Ia(n))):s>=o?(i+=Ia(s+1-o),r&&(n=r-s-1)>0&&(i=i+"."+Ia(n))):((n=s+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(s+1===o&&(i+="."),i+=Ia(n))),e.s<0?"-"+i:i}function yj(e,t){if(e.length>t)return e.length=t,!0}function _P(e){var t,r,n;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Ts+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return xj(o,i.toString())}else if(typeof i!="string")throw Error(Ts+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,$J.test(i))xj(o,i);else throw Error(Ts+i)}if(s.prototype=De,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=_P,s.config=s.set=DJ,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return s.config(e),s}function DJ(e){if(!e||typeof e!="object")throw Error(on+"Object expected");var t,r,n,s=["precision",1,Mo,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[r=s[t]])!==void 0)if(Ro(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(Ts+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ts+r+": "+n);return this}var lx=_P(EJ);Mr=new lx(1);const vt=lx;function IJ(e){return FJ(e)||LJ(e)||RJ(e)||MJ()}function MJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RJ(e,t){if(e){if(typeof e=="string")return $p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $p(e,t)}}function LJ(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function FJ(e){if(Array.isArray(e))return $p(e)}function $p(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var BJ=function(t){return t},PP={},CP=function(t){return t===PP},bj=function(t){return function r(){return arguments.length===0||arguments.length===1&&CP(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},VJ=function e(t,r){return t===1?r:bj(function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];var o=s.filter(function(c){return c!==PP}).length;return o>=t?r.apply(void 0,s):e(t-o,bj(function(){for(var c=arguments.length,l=new Array(c),u=0;u<c;u++)l[u]=arguments[u];var d=s.map(function(f){return CP(f)?l.shift():f});return r.apply(void 0,IJ(d).concat(l))}))})},nh=function(t){return VJ(t.length,t)},Dp=function(t,r){for(var n=[],s=t;s<r;++s)n[s-t]=s;return n},zJ=nh(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),UJ=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return BJ;var s=r.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce(function(c,l){return l(c)},i.apply(void 0,arguments))}},Ip=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},kP=function(t){var r=null,n=null;return function(){for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r&&i.every(function(c,l){return c===r[l]})||(r=i,n=t.apply(void 0,i)),n}};function WJ(e){var t;return e===0?t=1:t=Math.floor(new vt(e).abs().log(10).toNumber())+1,t}function HJ(e,t,r){for(var n=new vt(e),s=0,i=[];n.lt(t)&&s<1e5;)i.push(n.toNumber()),n=n.add(r),s++;return i}var qJ=nh(function(e,t,r){var n=+e,s=+t;return n+r*(s-n)}),KJ=nh(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),GJ=nh(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const ah={rangeStep:HJ,getDigitCount:WJ,interpolateNumber:qJ,uninterpolateNumber:KJ,uninterpolateTruncation:GJ};function Mp(e){return YJ(e)||XJ(e)||TP(e)||ZJ()}function ZJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XJ(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function YJ(e){if(Array.isArray(e))return Rp(e)}function el(e,t){return eQ(e)||QJ(e,t)||TP(e,t)||JJ()}function JJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TP(e,t){if(e){if(typeof e=="string")return Rp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Rp(e,t)}}function Rp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function QJ(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,s=!1,i=void 0;try{for(var o=e[Symbol.iterator](),c;!(n=(c=o.next()).done)&&(r.push(c.value),!(t&&r.length===t));n=!0);}catch(l){s=!0,i=l}finally{try{!n&&o.return!=null&&o.return()}finally{if(s)throw i}}return r}}function eQ(e){if(Array.isArray(e))return e}function EP(e){var t=el(e,2),r=t[0],n=t[1],s=r,i=n;return r>n&&(s=n,i=r),[s,i]}function $P(e,t,r){if(e.lte(0))return new vt(0);var n=ah.getDigitCount(e.toNumber()),s=new vt(10).pow(n),i=e.div(s),o=n!==1?.05:.1,c=new vt(Math.ceil(i.div(o).toNumber())).add(r).mul(o),l=c.mul(s);return t?l:new vt(Math.ceil(l))}function tQ(e,t,r){var n=1,s=new vt(e);if(!s.isint()&&r){var i=Math.abs(e);i<1?(n=new vt(10).pow(ah.getDigitCount(e)-1),s=new vt(Math.floor(s.div(n).toNumber())).mul(n)):i>1&&(s=new vt(Math.floor(e)))}else e===0?s=new vt(Math.floor((t-1)/2)):r||(s=new vt(Math.floor(e)));var o=Math.floor((t-1)/2),c=UJ(zJ(function(l){return s.add(new vt(l-o).mul(n)).toNumber()}),Dp);return c(0,t)}function DP(e,t,r,n){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new vt(0),tickMin:new vt(0),tickMax:new vt(0)};var i=$P(new vt(t).sub(e).div(r-1),n,s),o;e<=0&&t>=0?o=new vt(0):(o=new vt(e).add(t).div(2),o=o.sub(new vt(o).mod(i)));var c=Math.ceil(o.sub(e).div(i).toNumber()),l=Math.ceil(new vt(t).sub(o).div(i).toNumber()),u=c+l+1;return u>r?DP(e,t,r,n,s+1):(u<r&&(l=t>0?l+(r-u):l,c=t>0?c:c+(r-u)),{step:i,tickMin:o.sub(new vt(c).mul(i)),tickMax:o.add(new vt(l).mul(i))})}function rQ(e){var t=el(e,2),r=t[0],n=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),c=EP([r,n]),l=el(c,2),u=l[0],d=l[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(Mp(Dp(0,s-1).map(function(){return 1/0}))):[].concat(Mp(Dp(0,s-1).map(function(){return-1/0})),[d]);return r>n?Ip(f):f}if(u===d)return tQ(u,s,i);var h=DP(u,d,o,i),p=h.step,v=h.tickMin,m=h.tickMax,x=ah.rangeStep(v,m.add(new vt(.1).mul(p)),p);return r>n?Ip(x):x}function nQ(e,t){var r=el(e,2),n=r[0],s=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=EP([n,s]),c=el(o,2),l=c[0],u=c[1];if(l===-1/0||u===1/0)return[n,s];if(l===u)return[l];var d=Math.max(t,2),f=$P(new vt(u).sub(l).div(d-1),i,0),h=[].concat(Mp(ah.rangeStep(new vt(l),new vt(u).sub(new vt(.99).mul(f)),f)),[u]);return n>s?Ip(h):h}var aQ=kP(rQ),sQ=kP(nQ),iQ="Invariant failed";function Zs(e,t){throw new Error(iQ)}var oQ=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Ji(e){"@babel/helpers - typeof";return Ji=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ji(e)}function jd(){return jd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jd.apply(this,arguments)}function cQ(e,t){return fQ(e)||dQ(e,t)||uQ(e,t)||lQ()}function lQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uQ(e,t){if(e){if(typeof e=="string")return jj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jj(e,t)}}function jj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dQ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(d){u=!0,s=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return c}}function fQ(e){if(Array.isArray(e))return e}function hQ(e,t){if(e==null)return{};var r=mQ(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mQ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function pQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,RP(n.key),n)}}function vQ(e,t,r){return t&&gQ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function xQ(e,t,r){return t=wd(t),yQ(e,IP()?Reflect.construct(t,r||[],wd(e).constructor):t.apply(e,r))}function yQ(e,t){if(t&&(Ji(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bQ(e)}function bQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IP=function(){return!!e})()}function wd(e){return wd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wd(e)}function jQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lp(e,t)}function Lp(e,t){return Lp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Lp(e,t)}function MP(e,t,r){return t=RP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RP(e){var t=wQ(e,"string");return Ji(t)=="symbol"?t:t+""}function wQ(e,t){if(Ji(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ji(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ml=function(e){function t(){return pQ(this,t),xQ(this,t,arguments)}return jQ(t,e),vQ(t,[{key:"render",value:function(){var n=this.props,s=n.offset,i=n.layout,o=n.width,c=n.dataKey,l=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=hQ(n,oQ),p=Fe(h,!1);this.props.direction==="x"&&d.type!=="number"&&Zs();var v=l.map(function(m){var x=u(m,c),b=x.x,y=x.y,j=x.value,S=x.errorVal;if(!S)return null;var N=[],w,A;if(Array.isArray(S)){var O=cQ(S,2);w=O[0],A=O[1]}else w=A=S;if(i==="vertical"){var _=d.scale,C=y+s,P=C+o,k=C-o,T=_(j-w),E=_(j+A);N.push({x1:E,y1:P,x2:E,y2:k}),N.push({x1:T,y1:C,x2:E,y2:C}),N.push({x1:T,y1:P,x2:T,y2:k})}else if(i==="horizontal"){var I=f.scale,F=b+s,$=F-o,q=F+o,M=I(j-w),J=I(j+A);N.push({x1:$,y1:J,x2:q,y2:J}),N.push({x1:F,y1:M,x2:F,y2:J}),N.push({x1:$,y1:M,x2:q,y2:M})}return D.createElement(st,jd({className:"recharts-errorBar",key:"bar-".concat(N.map(function(V){return"".concat(V.x1,"-").concat(V.x2,"-").concat(V.y1,"-").concat(V.y2)}))},p),N.map(function(V){return D.createElement("line",jd({},V,{key:"line-".concat(V.x1,"-").concat(V.x2,"-").concat(V.y1,"-").concat(V.y2)}))}))});return D.createElement(st,{className:"recharts-errorBars"},v)}}])}(D.Component);MP(Ml,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});MP(Ml,"displayName","ErrorBar");function tl(e){"@babel/helpers - typeof";return tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tl(e)}function wj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function us(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wj(Object(r),!0).forEach(function(n){NQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NQ(e,t,r){return t=SQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SQ(e){var t=AQ(e,"string");return tl(t)=="symbol"?t:t+""}function AQ(e,t){if(tl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LP=function(t){var r=t.children,n=t.formattedGraphicalItems,s=t.legendWidth,i=t.legendContent,o=Dr(r,Cs);if(!o)return null;var c=Cs.defaultProps,l=c!==void 0?us(us({},c),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,p=f.props,v=p.sectors||p.data||[];return d.concat(v.map(function(m){return{type:o.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?us(us({},h),f.props):{},v=p.dataKey,m=p.name,x=p.legendType,b=p.hide;return{inactive:b,dataKey:v,type:l.iconType||x||"square",color:ux(f),value:m||v,payload:p}}),us(us(us({},l),Cs.getWithHeight(o,s)),{},{payload:u,item:o})};function rl(e){"@babel/helpers - typeof";return rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rl(e)}function Nj(e){return CQ(e)||PQ(e)||_Q(e)||OQ()}function OQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Q(e,t){if(e){if(typeof e=="string")return Fp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Fp(e,t)}}function PQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function CQ(e){if(Array.isArray(e))return Fp(e)}function Fp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Sj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Dt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sj(Object(r),!0).forEach(function(n){Li(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Li(e,t,r){return t=kQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kQ(e){var t=TQ(e,"string");return rl(t)=="symbol"?t:t+""}function TQ(e,t){if(rl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rt(e,t,r){return Ge(e)||Ge(t)?r:Xt(t)?Vr(e,t,r):We(t)?t(e):r}function gc(e,t,r,n){var s=PJ(e,function(c){return Rt(c,t)});if(r==="number"){var i=s.filter(function(c){return ve(c)||parseFloat(c)});return i.length?[rh(i),Ba(i)]:[1/0,-1/0]}var o=n?s.filter(function(c){return!Ge(c)}):s;return o.map(function(c){return Xt(c)||c instanceof Date?c:""})}var EQ=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,c=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(c<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var l=i.range,u=0;u<c;u++){var d=u>0?s[u-1].coordinate:s[c-1].coordinate,f=s[u].coordinate,h=u>=c-1?s[0].coordinate:s[u+1].coordinate,p=void 0;if(xr(f-d)!==xr(h-f)){var v=[];if(xr(h-f)===xr(l[1]-l[0])){p=h;var m=f+l[1]-l[0];v[0]=Math.min(m,(m+d)/2),v[1]=Math.max(m,(m+d)/2)}else{p=d;var x=h+l[1]-l[0];v[0]=Math.min(f,(x+f)/2),v[1]=Math.max(f,(x+f)/2)}var b=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>b[0]&&t<=b[1]||t>=v[0]&&t<=v[1]){o=s[u].index;break}}else{var y=Math.min(d,h),j=Math.max(d,h);if(t>(y+f)/2&&t<=(j+f)/2){o=s[u].index;break}}}else for(var S=0;S<c;S++)if(S===0&&t<=(n[S].coordinate+n[S+1].coordinate)/2||S>0&&S<c-1&&t>(n[S].coordinate+n[S-1].coordinate)/2&&t<=(n[S].coordinate+n[S+1].coordinate)/2||S===c-1&&t>(n[S].coordinate+n[S-1].coordinate)/2){o=n[S].index;break}return o},ux=function(t){var r,n=t,s=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Dt(Dt({},t.type.defaultProps),t.props):t.props,o=i.stroke,c=i.fill,l;switch(s){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:c;break;default:l=c;break}return l},$Q=function(t){var r=t.barSize,n=t.totalSize,s=t.stackGroups,i=s===void 0?{}:s;if(!i)return{};for(var o={},c=Object.keys(i),l=0,u=c.length;l<u;l++)for(var d=i[c[l]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var v=d[f[h]],m=v.items,x=v.cateAxisId,b=m.filter(function(A){return pa(A.type).indexOf("Bar")>=0});if(b&&b.length){var y=b[0].type.defaultProps,j=y!==void 0?Dt(Dt({},y),b[0].props):b[0].props,S=j.barSize,N=j[x];o[N]||(o[N]=[]);var w=Ge(S)?r:S;o[N].push({item:b[0],stackList:b.slice(1),barSize:Ge(w)?void 0:yr(w,n,0)})}}return o},DQ=function(t){var r=t.barGap,n=t.barCategoryGap,s=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,c=t.maxBarSize,l=o.length;if(l<1)return null;var u=yr(r,s,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=s/l,v=o.reduce(function(S,N){return S+N.barSize||0},0);v+=(l-1)*u,v>=s&&(v-=(l-1)*u,u=0),v>=s&&p>0&&(h=!0,p*=.9,v=l*p);var m=(s-v)/2>>0,x={offset:m-u,size:0};d=o.reduce(function(S,N){var w={item:N.item,position:{offset:x.offset+x.size+u,size:h?p:N.barSize}},A=[].concat(Nj(S),[w]);return x=A[A.length-1].position,N.stackList&&N.stackList.length&&N.stackList.forEach(function(O){A.push({item:O,position:x})}),A},f)}else{var b=yr(n,s,0,!0);s-2*b-(l-1)*u<=0&&(u=0);var y=(s-2*b-(l-1)*u)/l;y>1&&(y>>=0);var j=c===+c?Math.min(y,c):y;d=o.reduce(function(S,N,w){var A=[].concat(Nj(S),[{item:N.item,position:{offset:b+(y+u)*w+(y-j)/2,size:j}}]);return N.stackList&&N.stackList.length&&N.stackList.forEach(function(O){A.push({item:O,position:A[A.length-1].position})}),A},f)}return d},IQ=function(t,r,n,s){var i=n.children,o=n.width,c=n.margin,l=o-(c.left||0)-(c.right||0),u=LP({children:i,legendWidth:l});if(u){var d=s||{},f=d.width,h=d.height,p=u.align,v=u.verticalAlign,m=u.layout;if((m==="vertical"||m==="horizontal"&&v==="middle")&&p!=="center"&&ve(t[p]))return Dt(Dt({},t),{},Li({},p,t[p]+(f||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&v!=="middle"&&ve(t[v]))return Dt(Dt({},t),{},Li({},v,t[v]+(h||0)))}return t},MQ=function(t,r,n){return Ge(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},FP=function(t,r,n,s,i){var o=r.props.children,c=zr(o,Ml).filter(function(u){return MQ(s,i,u.props.direction)});if(c&&c.length){var l=c.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=Rt(d,n);if(Ge(f))return u;var h=Array.isArray(f)?[rh(f),Ba(f)]:[f,f],p=l.reduce(function(v,m){var x=Rt(d,m,0),b=h[0]-Math.abs(Array.isArray(x)?x[0]:x),y=h[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(b,v[0]),Math.max(y,v[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},RQ=function(t,r,n,s,i){var o=r.map(function(c){return FP(t,c,n,i,s)}).filter(function(c){return!Ge(c)});return o&&o.length?o.reduce(function(c,l){return[Math.min(c[0],l[0]),Math.max(c[1],l[1])]},[1/0,-1/0]):null},BP=function(t,r,n,s,i){var o=r.map(function(l){var u=l.props.dataKey;return n==="number"&&u&&FP(t,l,u,s)||gc(t,u,n,i)});if(n==="number")return o.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var c={};return o.reduce(function(l,u){for(var d=0,f=u.length;d<f;d++)c[u[d]]||(c[u[d]]=!0,l.push(u[d]));return l},[])},VP=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},zP=function(t,r,n,s){if(s)return t.map(function(l){return l.coordinate});var i,o,c=t.map(function(l){return l.coordinate===r&&(i=!0),l.coordinate===n&&(o=!0),l.coordinate});return i||c.push(r),o||c.push(n),c},da=function(t,r,n){if(!t)return null;var s=t.scale,i=t.duplicateDomain,o=t.type,c=t.range,l=t.realScaleType==="scaleBand"?s.bandwidth()/2:2,u=(r||n)&&o==="category"&&s.bandwidth?s.bandwidth()/l:0;if(u=t.axisType==="angleAxis"&&(c==null?void 0:c.length)>=2?xr(c[0]-c[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:s(h)+u,value:f,offset:u}});return d.filter(function(f){return!To(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:s(f)+u,value:f,index:h,offset:u}}):s.ticks&&!n?s.ticks(t.tickCount).map(function(f){return{coordinate:s(f)+u,value:f,offset:u}}):s.domain().map(function(f,h){return{coordinate:s(f)+u,value:i?i[f]:f,index:h,offset:u}})},um=new WeakMap,ru=function(t,r){if(typeof r!="function")return t;um.has(t)||um.set(t,new WeakMap);var n=um.get(t);if(n.has(r))return n.get(r);var s=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,s),s},UP=function(t,r,n){var s=t.scale,i=t.type,o=t.layout,c=t.axisType;if(s==="auto")return o==="radial"&&c==="radiusAxis"?{scale:Gc(),realScaleType:"band"}:o==="radial"&&c==="angleAxis"?{scale:gd(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:pc(),realScaleType:"point"}:i==="category"?{scale:Gc(),realScaleType:"band"}:{scale:gd(),realScaleType:"linear"};if(Ws(s)){var l="scale".concat(zf(s));return{scale:(vj[l]||pc)(),realScaleType:vj[l]?l:"point"}}return We(s)?{scale:s}:{scale:pc(),realScaleType:"point"}},Aj=1e-4,WP=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,s=t.range(),i=Math.min(s[0],s[1])-Aj,o=Math.max(s[0],s[1])+Aj,c=t(r[0]),l=t(r[n-1]);(c<i||c>o||l<i||l>o)&&t.domain([r[0],r[n-1]])}},LQ=function(t,r){if(!t)return null;for(var n=0,s=t.length;n<s;n++)if(t[n].item===r)return t[n].position;return null},FQ=function(t,r){if(!r||r.length!==2||!ve(r[0])||!ve(r[1]))return t;var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!ve(t[0])||t[0]<n)&&(i[0]=n),(!ve(t[1])||t[1]>s)&&(i[1]=s),i[0]>s&&(i[0]=s),i[1]<n&&(i[1]=n),i},BQ=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var i=0,o=0,c=0;c<r;++c){var l=To(t[c][n][1])?t[c][n][0]:t[c][n][1];l>=0?(t[c][n][0]=i,t[c][n][1]=i+l,i=t[c][n][1]):(t[c][n][0]=o,t[c][n][1]=o+l,o=t[c][n][1])}},VQ=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var i=0,o=0;o<r;++o){var c=To(t[o][n][1])?t[o][n][0]:t[o][n][1];c>=0?(t[o][n][0]=i,t[o][n][1]=i+c,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},zQ={sign:BQ,expand:oz,none:Wi,silhouette:cz,wiggle:lz,positive:VQ},UQ=function(t,r,n){var s=r.map(function(c){return c.props.dataKey}),i=zQ[n],o=iz().keys(s).value(function(c,l){return+Rt(c,l,0)}).order(up).offset(i);return o(t)},WQ=function(t,r,n,s,i,o){if(!t)return null;var c=o?r.reverse():r,l={},u=c.reduce(function(f,h){var p,v=(p=h.type)!==null&&p!==void 0&&p.defaultProps?Dt(Dt({},h.type.defaultProps),h.props):h.props,m=v.stackId,x=v.hide;if(x)return f;var b=v[n],y=f[b]||{hasStack:!1,stackGroups:{}};if(Xt(m)){var j=y.stackGroups[m]||{numericAxisId:n,cateAxisId:s,items:[]};j.items.push(h),y.hasStack=!0,y.stackGroups[m]=j}else y.stackGroups[si("_stackId_")]={numericAxisId:n,cateAxisId:s,items:[h]};return Dt(Dt({},f),{},Li({},b,y))},l),d={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var v={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,x){var b=p.stackGroups[x];return Dt(Dt({},m),{},Li({},x,{numericAxisId:n,cateAxisId:s,items:b.items,stackedData:UQ(t,b.items,i)}))},v)}return Dt(Dt({},f),{},Li({},h,p))},d)},HP=function(t,r){var n=r.realScaleType,s=r.type,i=r.tickCount,o=r.originalDomain,c=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(i&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=aQ(u,i,c);return t.domain([rh(d),Ba(d)]),{niceTicks:d}}if(i&&s==="number"){var f=t.domain(),h=sQ(f,i,c);return{niceTicks:h}}return null};function Nd(e){var t=e.axis,r=e.ticks,n=e.bandSize,s=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Ge(s[t.dataKey])){var c=Zu(r,"value",s[t.dataKey]);if(c)return c.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var l=Rt(s,Ge(o)?t.dataKey:o);return Ge(l)?null:t.scale(l)}var Oj=function(t){var r=t.axis,n=t.ticks,s=t.offset,i=t.bandSize,o=t.entry,c=t.index;if(r.type==="category")return n[c]?n[c].coordinate+s:null;var l=Rt(o,r.dataKey,r.domain[c]);return Ge(l)?null:r.scale(l)-i/2+s},HQ=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var s=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return s<=0&&i>=0?0:i<0?i:s}return n[0]},qQ=function(t,r){var n,s=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Dt(Dt({},t.type.defaultProps),t.props):t.props,i=s.stackId;if(Xt(i)){var o=r[i];if(o){var c=o.items.indexOf(t);return c>=0?o.stackedData[c]:null}}return null},KQ=function(t){return t.reduce(function(r,n){return[rh(n.concat([r[0]]).filter(ve)),Ba(n.concat([r[1]]).filter(ve))]},[1/0,-1/0])},qP=function(t,r,n){return Object.keys(t).reduce(function(s,i){var o=t[i],c=o.stackedData,l=c.reduce(function(u,d){var f=KQ(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],s[0]),Math.max(l[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},_j=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Pj=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Bp=function(t,r,n){if(We(t))return t(r,n);if(!Array.isArray(t))return r;var s=[];if(ve(t[0]))s[0]=n?t[0]:Math.min(t[0],r[0]);else if(_j.test(t[0])){var i=+_j.exec(t[0])[1];s[0]=r[0]-i}else We(t[0])?s[0]=t[0](r[0]):s[0]=r[0];if(ve(t[1]))s[1]=n?t[1]:Math.max(t[1],r[1]);else if(Pj.test(t[1])){var o=+Pj.exec(t[1])[1];s[1]=r[1]+o}else We(t[1])?s[1]=t[1](r[1]):s[1]=r[1];return s},Sd=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!n||s>0)return s}if(t&&r&&r.length>=2){for(var i=Lv(r,function(f){return f.coordinate}),o=1/0,c=1,l=i.length;c<l;c++){var u=i[c],d=i[c-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},Cj=function(t,r,n){return!t||!t.length||Ks(t,Vr(n,"type.defaultProps.domain"))?r:t},KP=function(t,r){var n=t.type.defaultProps?Dt(Dt({},t.type.defaultProps),t.props):t.props,s=n.dataKey,i=n.name,o=n.unit,c=n.formatter,l=n.tooltipType,u=n.chartType,d=n.hide;return Dt(Dt({},Fe(t,!1)),{},{dataKey:s,unit:o,formatter:c,name:i||s,color:ux(t),value:Rt(r,s),type:l,payload:r,chartType:u,hide:d})};function nl(e){"@babel/helpers - typeof";return nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nl(e)}function kj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function sa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kj(Object(r),!0).forEach(function(n){GP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GP(e,t,r){return t=GQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GQ(e){var t=ZQ(e,"string");return nl(t)=="symbol"?t:t+""}function ZQ(e,t){if(nl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XQ(e,t){return eee(e)||QQ(e,t)||JQ(e,t)||YQ()}function YQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JQ(e,t){if(e){if(typeof e=="string")return Tj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Tj(e,t)}}function Tj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function QQ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(d){u=!0,s=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return c}}function eee(e){if(Array.isArray(e))return e}var Ad=Math.PI/180,tee=function(t){return t*180/Math.PI},St=function(t,r,n,s){return{x:t+Math.cos(-Ad*s)*n,y:r+Math.sin(-Ad*s)*n}},ZP=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},ree=function(t,r,n,s,i){var o=t.width,c=t.height,l=t.startAngle,u=t.endAngle,d=yr(t.cx,o,o/2),f=yr(t.cy,c,c/2),h=ZP(o,c,n),p=yr(t.innerRadius,h,0),v=yr(t.outerRadius,h,h*.8),m=Object.keys(r);return m.reduce(function(x,b){var y=r[b],j=y.domain,S=y.reversed,N;if(Ge(y.range))s==="angleAxis"?N=[l,u]:s==="radiusAxis"&&(N=[p,v]),S&&(N=[N[1],N[0]]);else{N=y.range;var w=N,A=XQ(w,2);l=A[0],u=A[1]}var O=UP(y,i),_=O.realScaleType,C=O.scale;C.domain(j).range(N),WP(C);var P=HP(C,sa(sa({},y),{},{realScaleType:_})),k=sa(sa(sa({},y),P),{},{range:N,radius:v,realScaleType:_,scale:C,cx:d,cy:f,innerRadius:p,outerRadius:v,startAngle:l,endAngle:u});return sa(sa({},x),{},GP({},b,k))},{})},nee=function(t,r){var n=t.x,s=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(s-o,2))},aee=function(t,r){var n=t.x,s=t.y,i=r.cx,o=r.cy,c=nee({x:n,y:s},{x:i,y:o});if(c<=0)return{radius:c};var l=(n-i)/c,u=Math.acos(l);return s>o&&(u=2*Math.PI-u),{radius:c,angle:tee(u),angleInRadian:u}},see=function(t){var r=t.startAngle,n=t.endAngle,s=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(s,i);return{startAngle:r-o*360,endAngle:n-o*360}},iee=function(t,r){var n=r.startAngle,s=r.endAngle,i=Math.floor(n/360),o=Math.floor(s/360),c=Math.min(i,o);return t+c*360},Ej=function(t,r){var n=t.x,s=t.y,i=aee({x:n,y:s},r),o=i.radius,c=i.angle,l=r.innerRadius,u=r.outerRadius;if(o<l||o>u)return!1;if(o===0)return!0;var d=see(r),f=d.startAngle,h=d.endAngle,p=c,v;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;v=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;v=p>=h&&p<=f}return v?sa(sa({},r),{},{radius:o,angle:iee(p,r)}):null},XP=function(t){return!g.isValidElement(t)&&!We(t)&&typeof t!="boolean"?t.className:""};function al(e){"@babel/helpers - typeof";return al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},al(e)}var oee=["offset"];function cee(e){return fee(e)||dee(e)||uee(e)||lee()}function lee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uee(e,t){if(e){if(typeof e=="string")return Vp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vp(e,t)}}function dee(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function fee(e){if(Array.isArray(e))return Vp(e)}function Vp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function hee(e,t){if(e==null)return{};var r=mee(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mee(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function $j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Kt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$j(Object(r),!0).forEach(function(n){pee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$j(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pee(e,t,r){return t=gee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gee(e){var t=vee(e,"string");return al(t)=="symbol"?t:t+""}function vee(e,t){if(al(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(al(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sl(){return sl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sl.apply(this,arguments)}var xee=function(t){var r=t.value,n=t.formatter,s=Ge(t.children)?r:t.children;return We(n)?n(s):s},yee=function(t,r){var n=xr(r-t),s=Math.min(Math.abs(r-t),360);return n*s},bee=function(t,r,n){var s=t.position,i=t.viewBox,o=t.offset,c=t.className,l=i,u=l.cx,d=l.cy,f=l.innerRadius,h=l.outerRadius,p=l.startAngle,v=l.endAngle,m=l.clockWise,x=(f+h)/2,b=yee(p,v),y=b>=0?1:-1,j,S;s==="insideStart"?(j=p+y*o,S=m):s==="insideEnd"?(j=v-y*o,S=!m):s==="end"&&(j=v+y*o,S=m),S=b<=0?S:!S;var N=St(u,d,x,j),w=St(u,d,x,j+(S?1:-1)*359),A="M".concat(N.x,",").concat(N.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(S?0:1,`,
    `).concat(w.x,",").concat(w.y),O=Ge(t.id)?si("recharts-radial-line-"):t.id;return D.createElement("text",sl({},n,{dominantBaseline:"central",className:Ze("recharts-radial-bar-label",c)}),D.createElement("defs",null,D.createElement("path",{id:O,d:A})),D.createElement("textPath",{xlinkHref:"#".concat(O)},r))},jee=function(t){var r=t.viewBox,n=t.offset,s=t.position,i=r,o=i.cx,c=i.cy,l=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,h=(d+f)/2;if(s==="outside"){var p=St(o,c,u+n,h),v=p.x,m=p.y;return{x:v,y:m,textAnchor:v>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:c,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:c,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:c,textAnchor:"middle",verticalAnchor:"end"};var x=(l+u)/2,b=St(o,c,x,h),y=b.x,j=b.y;return{x:y,y:j,textAnchor:"middle",verticalAnchor:"middle"}},wee=function(t){var r=t.viewBox,n=t.parentViewBox,s=t.offset,i=t.position,o=r,c=o.x,l=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*s,p=f>0?"end":"start",v=f>0?"start":"end",m=u>=0?1:-1,x=m*s,b=m>0?"end":"start",y=m>0?"start":"end";if(i==="top"){var j={x:c+u/2,y:l-f*s,textAnchor:"middle",verticalAnchor:p};return Kt(Kt({},j),n?{height:Math.max(l-n.y,0),width:u}:{})}if(i==="bottom"){var S={x:c+u/2,y:l+d+h,textAnchor:"middle",verticalAnchor:v};return Kt(Kt({},S),n?{height:Math.max(n.y+n.height-(l+d),0),width:u}:{})}if(i==="left"){var N={x:c-x,y:l+d/2,textAnchor:b,verticalAnchor:"middle"};return Kt(Kt({},N),n?{width:Math.max(N.x-n.x,0),height:d}:{})}if(i==="right"){var w={x:c+u+x,y:l+d/2,textAnchor:y,verticalAnchor:"middle"};return Kt(Kt({},w),n?{width:Math.max(n.x+n.width-w.x,0),height:d}:{})}var A=n?{width:u,height:d}:{};return i==="insideLeft"?Kt({x:c+x,y:l+d/2,textAnchor:y,verticalAnchor:"middle"},A):i==="insideRight"?Kt({x:c+u-x,y:l+d/2,textAnchor:b,verticalAnchor:"middle"},A):i==="insideTop"?Kt({x:c+u/2,y:l+h,textAnchor:"middle",verticalAnchor:v},A):i==="insideBottom"?Kt({x:c+u/2,y:l+d-h,textAnchor:"middle",verticalAnchor:p},A):i==="insideTopLeft"?Kt({x:c+x,y:l+h,textAnchor:y,verticalAnchor:v},A):i==="insideTopRight"?Kt({x:c+u-x,y:l+h,textAnchor:b,verticalAnchor:v},A):i==="insideBottomLeft"?Kt({x:c+x,y:l+d-h,textAnchor:y,verticalAnchor:p},A):i==="insideBottomRight"?Kt({x:c+u-x,y:l+d-h,textAnchor:b,verticalAnchor:p},A):_o(i)&&(ve(i.x)||js(i.x))&&(ve(i.y)||js(i.y))?Kt({x:c+yr(i.x,u),y:l+yr(i.y,d),textAnchor:"end",verticalAnchor:"end"},A):Kt({x:c+u/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},A)},Nee=function(t){return"cx"in t&&ve(t.cx)};function tr(e){var t=e.offset,r=t===void 0?5:t,n=hee(e,oee),s=Kt({offset:r},n),i=s.viewBox,o=s.position,c=s.value,l=s.children,u=s.content,d=s.className,f=d===void 0?"":d,h=s.textBreakAll;if(!i||Ge(c)&&Ge(l)&&!g.isValidElement(u)&&!We(u))return null;if(g.isValidElement(u))return g.cloneElement(u,s);var p;if(We(u)){if(p=g.createElement(u,s),g.isValidElement(p))return p}else p=xee(s);var v=Nee(i),m=Fe(s,!0);if(v&&(o==="insideStart"||o==="insideEnd"||o==="end"))return bee(s,p,m);var x=v?jee(s):wee(s);return D.createElement(qs,sl({className:Ze("recharts-label",f)},m,x,{breakAll:h}),p)}tr.displayName="Label";var YP=function(t){var r=t.cx,n=t.cy,s=t.angle,i=t.startAngle,o=t.endAngle,c=t.r,l=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,p=t.top,v=t.left,m=t.width,x=t.height,b=t.clockWise,y=t.labelViewBox;if(y)return y;if(ve(m)&&ve(x)){if(ve(f)&&ve(h))return{x:f,y:h,width:m,height:x};if(ve(p)&&ve(v))return{x:p,y:v,width:m,height:x}}return ve(f)&&ve(h)?{x:f,y:h,width:0,height:0}:ve(r)&&ve(n)?{cx:r,cy:n,startAngle:i||s||0,endAngle:o||s||0,innerRadius:u||0,outerRadius:d||l||c||0,clockWise:b}:t.viewBox?t.viewBox:{}},See=function(t,r){return t?t===!0?D.createElement(tr,{key:"label-implicit",viewBox:r}):Xt(t)?D.createElement(tr,{key:"label-implicit",viewBox:r,value:t}):g.isValidElement(t)?t.type===tr?g.cloneElement(t,{key:"label-implicit",viewBox:r}):D.createElement(tr,{key:"label-implicit",content:t,viewBox:r}):We(t)?D.createElement(tr,{key:"label-implicit",content:t,viewBox:r}):_o(t)?D.createElement(tr,sl({viewBox:r},t,{key:"label-implicit"})):null:null},Aee=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var s=t.children,i=YP(t),o=zr(s,tr).map(function(l,u){return g.cloneElement(l,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var c=See(t.label,r||i);return[c].concat(cee(o))};tr.parseViewBox=YP;tr.renderCallByParent=Aee;function Oee(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var _ee=Oee;const Pee=xt(_ee);function il(e){"@babel/helpers - typeof";return il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},il(e)}var Cee=["valueAccessor"],kee=["data","dataKey","clockWise","id","textBreakAll"];function Tee(e){return Iee(e)||Dee(e)||$ee(e)||Eee()}function Eee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $ee(e,t){if(e){if(typeof e=="string")return zp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zp(e,t)}}function Dee(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Iee(e){if(Array.isArray(e))return zp(e)}function zp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Od(){return Od=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Od.apply(this,arguments)}function Dj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ij(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dj(Object(r),!0).forEach(function(n){Mee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mee(e,t,r){return t=Ree(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ree(e){var t=Lee(e,"string");return il(t)=="symbol"?t:t+""}function Lee(e,t){if(il(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(il(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mj(e,t){if(e==null)return{};var r=Fee(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Fee(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Bee=function(t){return Array.isArray(t.value)?Pee(t.value):t.value};function Fn(e){var t=e.valueAccessor,r=t===void 0?Bee:t,n=Mj(e,Cee),s=n.data,i=n.dataKey,o=n.clockWise,c=n.id,l=n.textBreakAll,u=Mj(n,kee);return!s||!s.length?null:D.createElement(st,{className:"recharts-label-list"},s.map(function(d,f){var h=Ge(i)?r(d,f):Rt(d&&d.payload,i),p=Ge(c)?{}:{id:"".concat(c,"-").concat(f)};return D.createElement(tr,Od({},Fe(d,!0),u,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:l,viewBox:tr.parseViewBox(Ge(o)?d:Ij(Ij({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Fn.displayName="LabelList";function Vee(e,t){return e?e===!0?D.createElement(Fn,{key:"labelList-implicit",data:t}):D.isValidElement(e)||We(e)?D.createElement(Fn,{key:"labelList-implicit",data:t,content:e}):_o(e)?D.createElement(Fn,Od({data:t},e,{key:"labelList-implicit"})):null:null}function zee(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,s=zr(n,Fn).map(function(o,c){return g.cloneElement(o,{data:t,key:"labelList-".concat(c)})});if(!r)return s;var i=Vee(e.label,t);return[i].concat(Tee(s))}Fn.renderCallByParent=zee;function ol(e){"@babel/helpers - typeof";return ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ol(e)}function Up(){return Up=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Up.apply(this,arguments)}function Rj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Lj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rj(Object(r),!0).forEach(function(n){Uee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Uee(e,t,r){return t=Wee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wee(e){var t=Hee(e,"string");return ol(t)=="symbol"?t:t+""}function Hee(e,t){if(ol(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ol(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qee=function(t,r){var n=xr(r-t),s=Math.min(Math.abs(r-t),359.999);return n*s},nu=function(t){var r=t.cx,n=t.cy,s=t.radius,i=t.angle,o=t.sign,c=t.isExternal,l=t.cornerRadius,u=t.cornerIsExternal,d=l*(c?1:-1)+s,f=Math.asin(l/d)/Ad,h=u?i:i+o*f,p=St(r,n,d,h),v=St(r,n,s,h),m=u?i-o*f:i,x=St(r,n,d*Math.cos(f*Ad),m);return{center:p,circleTangency:v,lineTangency:x,theta:f}},JP=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.startAngle,c=t.endAngle,l=qee(o,c),u=o+l,d=St(r,n,i,o),f=St(r,n,i,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(s>0){var p=St(r,n,s,o),v=St(r,n,s,u);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},Kee=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,c=t.forceCornerRadius,l=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=xr(d-u),h=nu({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:l}),p=h.circleTangency,v=h.lineTangency,m=h.theta,x=nu({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:l}),b=x.circleTangency,y=x.lineTangency,j=x.theta,S=l?Math.abs(u-d):Math.abs(u-d)-m-j;if(S<0)return c?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):JP({cx:r,cy:n,innerRadius:s,outerRadius:i,startAngle:u,endAngle:d});var N="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(S>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
  `);if(s>0){var w=nu({cx:r,cy:n,radius:s,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),A=w.circleTangency,O=w.lineTangency,_=w.theta,C=nu({cx:r,cy:n,radius:s,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),P=C.circleTangency,k=C.lineTangency,T=C.theta,E=l?Math.abs(u-d):Math.abs(u-d)-_-T;if(E<0&&o===0)return"".concat(N,"L").concat(r,",").concat(n,"Z");N+="L".concat(k.x,",").concat(k.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(E>180),",").concat(+(f>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,"Z")}else N+="L".concat(r,",").concat(n,"Z");return N},Gee={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},QP=function(t){var r=Lj(Lj({},Gee),t),n=r.cx,s=r.cy,i=r.innerRadius,o=r.outerRadius,c=r.cornerRadius,l=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<i||d===f)return null;var p=Ze("recharts-sector",h),v=o-i,m=yr(c,v,0,!0),x;return m>0&&Math.abs(d-f)<360?x=Kee({cx:n,cy:s,innerRadius:i,outerRadius:o,cornerRadius:Math.min(m,v/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f}):x=JP({cx:n,cy:s,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),D.createElement("path",Up({},Fe(r,!0),{className:p,d:x,role:"img"}))};function cl(e){"@babel/helpers - typeof";return cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cl(e)}function Wp(){return Wp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wp.apply(this,arguments)}function Fj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Bj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fj(Object(r),!0).forEach(function(n){Zee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zee(e,t,r){return t=Xee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xee(e){var t=Yee(e,"string");return cl(t)=="symbol"?t:t+""}function Yee(e,t){if(cl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vj={curveBasisClosed:ZV,curveBasisOpen:XV,curveBasis:GV,curveBumpX:DV,curveBumpY:IV,curveLinearClosed:YV,curveLinear:Wf,curveMonotoneX:JV,curveMonotoneY:QV,curveNatural:ez,curveStep:tz,curveStepAfter:nz,curveStepBefore:rz},au=function(t){return t.x===+t.x&&t.y===+t.y},ec=function(t){return t.x},tc=function(t){return t.y},Jee=function(t,r){if(We(t))return t;var n="curve".concat(zf(t));return(n==="curveMonotone"||n==="curveBump")&&r?Vj["".concat(n).concat(r==="vertical"?"Y":"X")]:Vj[n]||Wf},Qee=function(t){var r=t.type,n=r===void 0?"linear":r,s=t.points,i=s===void 0?[]:s,o=t.baseLine,c=t.layout,l=t.connectNulls,u=l===void 0?!1:l,d=Jee(n,c),f=u?i.filter(function(m){return au(m)}):i,h;if(Array.isArray(o)){var p=u?o.filter(function(m){return au(m)}):o,v=f.map(function(m,x){return Bj(Bj({},m),{},{base:p[x]})});return c==="vertical"?h=Gl().y(tc).x1(ec).x0(function(m){return m.base.x}):h=Gl().x(ec).y1(tc).y0(function(m){return m.base.y}),h.defined(au).curve(d),h(v)}return c==="vertical"&&ve(o)?h=Gl().y(tc).x1(ec).x0(o):ve(o)?h=Gl().x(ec).y1(tc).y0(o):h=KO().x(ec).y(tc),h.defined(au).curve(d),h(f)},Es=function(t){var r=t.className,n=t.points,s=t.path,i=t.pathRef;if((!n||!n.length)&&!s)return null;var o=n&&n.length?Qee(t):s;return g.createElement("path",Wp({},Fe(t,!1),Xu(t),{className:Ze("recharts-curve",r),d:o,ref:i}))},e2={exports:{}},ete="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",tte=ete,rte=tte;function t2(){}function r2(){}r2.resetWarningCache=t2;var nte=function(){function e(n,s,i,o,c,l){if(l!==rte){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:r2,resetWarningCache:t2};return r.PropTypes=r,r};e2.exports=nte();var ate=e2.exports;const mt=xt(ate);var ste=Object.getOwnPropertyNames,ite=Object.getOwnPropertySymbols,ote=Object.prototype.hasOwnProperty;function zj(e,t){return function(n,s,i){return e(n,s,i)&&t(n,s,i)}}function su(e){return function(r,n,s){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,s);var i=s.cache,o=i.get(r),c=i.get(n);if(o&&c)return o===n&&c===r;i.set(r,n),i.set(n,r);var l=e(r,n,s);return i.delete(r),i.delete(n),l}}function Uj(e){return ste(e).concat(ite(e))}var cte=Object.hasOwn||function(e,t){return ote.call(e,t)};function ci(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var lte="__v",ute="__o",dte="_owner",Wj=Object.getOwnPropertyDescriptor,Hj=Object.keys;function fte(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function hte(e,t){return ci(e.getTime(),t.getTime())}function mte(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function pte(e,t){return e===t}function qj(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var s=new Array(n),i=e.entries(),o,c,l=0;(o=i.next())&&!o.done;){for(var u=t.entries(),d=!1,f=0;(c=u.next())&&!c.done;){if(s[f]){f++;continue}var h=o.value,p=c.value;if(r.equals(h[0],p[0],l,f,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){d=s[f]=!0;break}f++}if(!d)return!1;l++}return!0}var gte=ci;function vte(e,t,r){var n=Hj(e),s=n.length;if(Hj(t).length!==s)return!1;for(;s-- >0;)if(!n2(e,t,r,n[s]))return!1;return!0}function rc(e,t,r){var n=Uj(e),s=n.length;if(Uj(t).length!==s)return!1;for(var i,o,c;s-- >0;)if(i=n[s],!n2(e,t,r,i)||(o=Wj(e,i),c=Wj(t,i),(o||c)&&(!o||!c||o.configurable!==c.configurable||o.enumerable!==c.enumerable||o.writable!==c.writable)))return!1;return!0}function xte(e,t){return ci(e.valueOf(),t.valueOf())}function yte(e,t){return e.source===t.source&&e.flags===t.flags}function Kj(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var s=new Array(n),i=e.values(),o,c;(o=i.next())&&!o.done;){for(var l=t.values(),u=!1,d=0;(c=l.next())&&!c.done;){if(!s[d]&&r.equals(o.value,c.value,o.value,c.value,e,t,r)){u=s[d]=!0;break}d++}if(!u)return!1}return!0}function bte(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function jte(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function n2(e,t,r,n){return(n===dte||n===ute||n===lte)&&(e.$$typeof||t.$$typeof)?!0:cte(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var wte="[object Arguments]",Nte="[object Boolean]",Ste="[object Date]",Ate="[object Error]",Ote="[object Map]",_te="[object Number]",Pte="[object Object]",Cte="[object RegExp]",kte="[object Set]",Tte="[object String]",Ete="[object URL]",$te=Array.isArray,Gj=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,Zj=Object.assign,Dte=Object.prototype.toString.call.bind(Object.prototype.toString);function Ite(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,s=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,c=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(v,m,x){if(v===m)return!0;if(v==null||m==null)return!1;var b=typeof v;if(b!==typeof m)return!1;if(b!=="object")return b==="number"?o(v,m,x):b==="function"?s(v,m,x):!1;var y=v.constructor;if(y!==m.constructor)return!1;if(y===Object)return c(v,m,x);if($te(v))return t(v,m,x);if(Gj!=null&&Gj(v))return f(v,m,x);if(y===Date)return r(v,m,x);if(y===RegExp)return u(v,m,x);if(y===Map)return i(v,m,x);if(y===Set)return d(v,m,x);var j=Dte(v);return j===Ste?r(v,m,x):j===Cte?u(v,m,x):j===Ote?i(v,m,x):j===kte?d(v,m,x):j===Pte?typeof v.then!="function"&&typeof m.then!="function"&&c(v,m,x):j===Ete?h(v,m,x):j===Ate?n(v,m,x):j===wte?c(v,m,x):j===Nte||j===_te||j===Tte?l(v,m,x):!1}}function Mte(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,s={areArraysEqual:n?rc:fte,areDatesEqual:hte,areErrorsEqual:mte,areFunctionsEqual:pte,areMapsEqual:n?zj(qj,rc):qj,areNumbersEqual:gte,areObjectsEqual:n?rc:vte,arePrimitiveWrappersEqual:xte,areRegExpsEqual:yte,areSetsEqual:n?zj(Kj,rc):Kj,areTypedArraysEqual:n?rc:bte,areUrlsEqual:jte};if(r&&(s=Zj({},s,r(s))),t){var i=su(s.areArraysEqual),o=su(s.areMapsEqual),c=su(s.areObjectsEqual),l=su(s.areSetsEqual);s=Zj({},s,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:c,areSetsEqual:l})}return s}function Rte(e){return function(t,r,n,s,i,o,c){return e(t,r,c)}}function Lte(e){var t=e.circular,r=e.comparator,n=e.createState,s=e.equals,i=e.strict;if(n)return function(l,u){var d=n(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,p=d.meta;return r(l,u,{cache:h,equals:s,meta:p,strict:i})};if(t)return function(l,u){return r(l,u,{cache:new WeakMap,equals:s,meta:void 0,strict:i})};var o={cache:void 0,equals:s,meta:void 0,strict:i};return function(l,u){return r(l,u,o)}}var Fte=cs();cs({strict:!0});cs({circular:!0});cs({circular:!0,strict:!0});cs({createInternalComparator:function(){return ci}});cs({strict:!0,createInternalComparator:function(){return ci}});cs({circular:!0,createInternalComparator:function(){return ci}});cs({circular:!0,createInternalComparator:function(){return ci},strict:!0});function cs(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,s=e.createState,i=e.strict,o=i===void 0?!1:i,c=Mte(e),l=Ite(c),u=n?n(l):Rte(l);return Lte({circular:r,comparator:l,createState:s,equals:u,strict:o})}function Bte(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function Xj(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function s(i){r<0&&(r=i),i-r>t?(e(i),r=-1):Bte(s)};requestAnimationFrame(n)}function Hp(e){"@babel/helpers - typeof";return Hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hp(e)}function Vte(e){return Hte(e)||Wte(e)||Ute(e)||zte()}function zte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ute(e,t){if(e){if(typeof e=="string")return Yj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yj(e,t)}}function Yj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Wte(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Hte(e){if(Array.isArray(e))return e}function qte(){var e={},t=function(){return null},r=!1,n=function s(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,c=Vte(o),l=c[0],u=c.slice(1);if(typeof l=="number"){Xj(s.bind(null,u),l);return}s(l),Xj(s.bind(null,u));return}Hp(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function ll(e){"@babel/helpers - typeof";return ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ll(e)}function Jj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Qj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jj(Object(r),!0).forEach(function(n){a2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function a2(e,t,r){return t=Kte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kte(e){var t=Gte(e,"string");return ll(t)==="symbol"?t:String(t)}function Gte(e,t){if(ll(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ll(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zte=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,s){return n.filter(function(i){return s.includes(i)})})},Xte=function(t){return t},Yte=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},vc=function(t,r){return Object.keys(r).reduce(function(n,s){return Qj(Qj({},n),{},a2({},s,t(s,r[s])))},{})},ew=function(t,r,n){return t.map(function(s){return"".concat(Yte(s)," ").concat(r,"ms ").concat(n)}).join(",")};function Jte(e,t){return tre(e)||ere(e,t)||s2(e,t)||Qte()}function Qte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ere(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(d){u=!0,s=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return c}}function tre(e){if(Array.isArray(e))return e}function rre(e){return sre(e)||are(e)||s2(e)||nre()}function nre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s2(e,t){if(e){if(typeof e=="string")return qp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qp(e,t)}}function are(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function sre(e){if(Array.isArray(e))return qp(e)}function qp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var _d=1e-4,i2=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},o2=function(t,r){return t.map(function(n,s){return n*Math.pow(r,s)}).reduce(function(n,s){return n+s})},tw=function(t,r){return function(n){var s=i2(t,r);return o2(s,n)}},ire=function(t,r){return function(n){var s=i2(t,r),i=[].concat(rre(s.map(function(o,c){return o*c}).slice(1)),[0]);return o2(i,n)}},rw=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0],i=r[1],o=r[2],c=r[3];if(r.length===1)switch(r[0]){case"linear":s=0,i=0,o=1,c=1;break;case"ease":s=.25,i=.1,o=.25,c=1;break;case"ease-in":s=.42,i=0,o=1,c=1;break;case"ease-out":s=.42,i=0,o=.58,c=1;break;case"ease-in-out":s=0,i=0,o=.58,c=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),d=Jte(u,4);s=d[0],i=d[1],o=d[2],c=d[3]}}}var f=tw(s,o),h=tw(i,c),p=ire(s,o),v=function(b){return b>1?1:b<0?0:b},m=function(b){for(var y=b>1?1:b,j=y,S=0;S<8;++S){var N=f(j)-y,w=p(j);if(Math.abs(N-y)<_d||w<_d)return h(j);j=v(j-N/w)}return h(j)};return m.isStepper=!1,m},ore=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,s=t.damping,i=s===void 0?8:s,o=t.dt,c=o===void 0?17:o,l=function(d,f,h){var p=-(d-f)*n,v=h*i,m=h+(p-v)*c/1e3,x=h*c/1e3+d;return Math.abs(x-f)<_d&&Math.abs(m)<_d?[f,0]:[x,m]};return l.isStepper=!0,l.dt=c,l},cre=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return rw(s);case"spring":return ore();default:if(s.split("(")[0]==="cubic-bezier")return rw(s)}return typeof s=="function"?s:null};function ul(e){"@babel/helpers - typeof";return ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ul(e)}function nw(e){return dre(e)||ure(e)||c2(e)||lre()}function lre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ure(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function dre(e){if(Array.isArray(e))return Gp(e)}function aw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function sr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aw(Object(r),!0).forEach(function(n){Kp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kp(e,t,r){return t=fre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fre(e){var t=hre(e,"string");return ul(t)==="symbol"?t:String(t)}function hre(e,t){if(ul(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ul(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mre(e,t){return vre(e)||gre(e,t)||c2(e,t)||pre()}function pre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c2(e,t){if(e){if(typeof e=="string")return Gp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gp(e,t)}}function Gp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gre(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(d){u=!0,s=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return c}}function vre(e){if(Array.isArray(e))return e}var Pd=function(t,r,n){return t+(r-t)*n},Zp=function(t){var r=t.from,n=t.to;return r!==n},xre=function e(t,r,n){var s=vc(function(i,o){if(Zp(o)){var c=t(o.from,o.to,o.velocity),l=mre(c,2),u=l[0],d=l[1];return sr(sr({},o),{},{from:u,velocity:d})}return o},r);return n<1?vc(function(i,o){return Zp(o)?sr(sr({},o),{},{velocity:Pd(o.velocity,s[i].velocity,n),from:Pd(o.from,s[i].from,n)}):o},r):e(t,s,n-1)};const yre=function(e,t,r,n,s){var i=Zte(e,t),o=i.reduce(function(x,b){return sr(sr({},x),{},Kp({},b,[e[b],t[b]]))},{}),c=i.reduce(function(x,b){return sr(sr({},x),{},Kp({},b,{from:e[b],velocity:0,to:t[b]}))},{}),l=-1,u,d,f=function(){return null},h=function(){return vc(function(b,y){return y.from},c)},p=function(){return!Object.values(c).filter(Zp).length},v=function(b){u||(u=b);var y=b-u,j=y/r.dt;c=xre(r,c,j),s(sr(sr(sr({},e),t),h())),u=b,p()||(l=requestAnimationFrame(f))},m=function(b){d||(d=b);var y=(b-d)/n,j=vc(function(N,w){return Pd.apply(void 0,nw(w).concat([r(y)]))},o);if(s(sr(sr(sr({},e),t),j)),y<1)l=requestAnimationFrame(f);else{var S=vc(function(N,w){return Pd.apply(void 0,nw(w).concat([r(1)]))},o);s(sr(sr(sr({},e),t),S))}};return f=r.isStepper?v:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Qi(e){"@babel/helpers - typeof";return Qi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qi(e)}var bre=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function jre(e,t){if(e==null)return{};var r=wre(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wre(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function dm(e){return Ore(e)||Are(e)||Sre(e)||Nre()}function Nre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sre(e,t){if(e){if(typeof e=="string")return Xp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xp(e,t)}}function Are(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ore(e){if(Array.isArray(e))return Xp(e)}function Xp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function un(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sw(Object(r),!0).forEach(function(n){lc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lc(e,t,r){return t=l2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _re(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pre(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l2(n.key),n)}}function Cre(e,t,r){return t&&Pre(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function l2(e){var t=kre(e,"string");return Qi(t)==="symbol"?t:String(t)}function kre(e,t){if(Qi(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qi(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tre(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yp(e,t)}function Yp(e,t){return Yp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Yp(e,t)}function Ere(e){var t=$re();return function(){var n=Cd(e),s;if(t){var i=Cd(this).constructor;s=Reflect.construct(n,arguments,i)}else s=n.apply(this,arguments);return Jp(this,s)}}function Jp(e,t){if(t&&(Qi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qp(e)}function Qp(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $re(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Cd(e){return Cd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cd(e)}var wn=function(e){Tre(r,e);var t=Ere(r);function r(n,s){var i;_re(this,r),i=t.call(this,n,s);var o=i.props,c=o.isActive,l=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,p=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(Qp(i)),i.changeStyle=i.changeStyle.bind(Qp(i)),!c||p<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:d}),Jp(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof h=="function")return i.state={style:u},Jp(i);i.state={style:l?lc({},l,u):u}}else i.state={style:{}};return i}return Cre(r,[{key:"componentDidMount",value:function(){var s=this.props,i=s.isActive,o=s.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var i=this.props,o=i.isActive,c=i.canBegin,l=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,h=this.state.style;if(c){if(!o){var p={style:l?lc({},l,d):d};this.state&&h&&(l&&h[l]!==d||!l&&h!==d)&&this.setState(p);return}if(!(Fte(s.to,d)&&s.canBegin&&s.isActive)){var v=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=v||u?f:s.to;if(this.state&&h){var x={style:l?lc({},l,m):m};(l&&h[l]!==m||!l&&h!==m)&&this.setState(x)}this.runAnimation(un(un({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var i=this,o=s.from,c=s.to,l=s.duration,u=s.easing,d=s.begin,f=s.onAnimationEnd,h=s.onAnimationStart,p=yre(o,c,cre(u),l,this.changeStyle),v=function(){i.stopJSAnimation=p()};this.manager.start([h,d,v,l,f])}},{key:"runStepAnimation",value:function(s){var i=this,o=s.steps,c=s.begin,l=s.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,p=function(m,x,b){if(b===0)return m;var y=x.duration,j=x.easing,S=j===void 0?"ease":j,N=x.style,w=x.properties,A=x.onAnimationEnd,O=b>0?o[b-1]:x,_=w||Object.keys(N);if(typeof S=="function"||S==="spring")return[].concat(dm(m),[i.runJSAnimation.bind(i,{from:O.style,to:N,duration:y,easing:S}),y]);var C=ew(_,y,S),P=un(un(un({},O.style),N),{},{transition:C});return[].concat(dm(m),[P,y,A]).filter(Xte)};return this.manager.start([l].concat(dm(o.reduce(p,[d,Math.max(h,c)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=qte());var i=s.begin,o=s.duration,c=s.attributeName,l=s.to,u=s.easing,d=s.onAnimationStart,f=s.onAnimationEnd,h=s.steps,p=s.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(s);return}if(h.length>1){this.runStepAnimation(s);return}var m=c?lc({},c,l):l,x=ew(Object.keys(m),o,u);v.start([d,i,un(un({},m),{},{transition:x}),o,f])}},{key:"render",value:function(){var s=this.props,i=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var c=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var l=jre(s,bre),u=g.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!c||u===0||o<=0)return i;var f=function(p){var v=p.props,m=v.style,x=m===void 0?{}:m,b=v.className,y=g.cloneElement(p,un(un({},l),{},{style:un(un({},x),d),className:b}));return y};return u===1?f(g.Children.only(i)):D.createElement("div",null,g.Children.map(i,function(h){return f(h)}))}}]),r}(g.PureComponent);wn.displayName="Animate";wn.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};wn.propTypes={from:mt.oneOfType([mt.object,mt.string]),to:mt.oneOfType([mt.object,mt.string]),attributeName:mt.string,duration:mt.number,begin:mt.number,easing:mt.oneOfType([mt.string,mt.func]),steps:mt.arrayOf(mt.shape({duration:mt.number.isRequired,style:mt.object.isRequired,easing:mt.oneOfType([mt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),mt.func]),properties:mt.arrayOf("string"),onAnimationEnd:mt.func})),children:mt.oneOfType([mt.node,mt.func]),isActive:mt.bool,canBegin:mt.bool,onAnimationEnd:mt.func,shouldReAnimate:mt.bool,onAnimationStart:mt.func,onAnimationReStart:mt.func};function dl(e){"@babel/helpers - typeof";return dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dl(e)}function kd(){return kd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kd.apply(this,arguments)}function Dre(e,t){return Lre(e)||Rre(e,t)||Mre(e,t)||Ire()}function Ire(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mre(e,t){if(e){if(typeof e=="string")return iw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iw(e,t)}}function iw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Rre(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(d){u=!0,s=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return c}}function Lre(e){if(Array.isArray(e))return e}function ow(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function cw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ow(Object(r),!0).forEach(function(n){Fre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ow(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fre(e,t,r){return t=Bre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bre(e){var t=Vre(e,"string");return dl(t)=="symbol"?t:t+""}function Vre(e,t){if(dl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lw=function(t,r,n,s,i){var o=Math.min(Math.abs(n)/2,Math.abs(s)/2),c=s>=0?1:-1,l=n>=0?1:-1,u=s>=0&&n>=0||s<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=i[h]>o?o:i[h];d="M".concat(t,",").concat(r+c*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+l*f[0],",").concat(r)),d+="L ".concat(t+n-l*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+c*f[1])),d+="L ".concat(t+n,",").concat(r+s-c*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-l*f[2],",").concat(r+s)),d+="L ".concat(t+l*f[3],",").concat(r+s),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+s-c*f[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var v=Math.min(o,i);d="M ".concat(t,",").concat(r+c*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+l*v,",").concat(r,`
            L `).concat(t+n-l*v,",").concat(r,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+n,",").concat(r+c*v,`
            L `).concat(t+n,",").concat(r+s-c*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+n-l*v,",").concat(r+s,`
            L `).concat(t+l*v,",").concat(r+s,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t,",").concat(r+s-c*v," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(s," h ").concat(-n," Z");return d},zre=function(t,r){if(!t||!r)return!1;var n=t.x,s=t.y,i=r.x,o=r.y,c=r.width,l=r.height;if(Math.abs(c)>0&&Math.abs(l)>0){var u=Math.min(i,i+c),d=Math.max(i,i+c),f=Math.min(o,o+l),h=Math.max(o,o+l);return n>=u&&n<=d&&s>=f&&s<=h}return!1},Ure={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},dx=function(t){var r=cw(cw({},Ure),t),n=g.useRef(),s=g.useState(-1),i=Dre(s,2),o=i[0],c=i[1];g.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&c(S)}catch{}},[]);var l=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,p=r.className,v=r.animationEasing,m=r.animationDuration,x=r.animationBegin,b=r.isAnimationActive,y=r.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var j=Ze("recharts-rectangle",p);return y?D.createElement(wn,{canBegin:o>0,from:{width:d,height:f,x:l,y:u},to:{width:d,height:f,x:l,y:u},duration:m,animationEasing:v,isActive:y},function(S){var N=S.width,w=S.height,A=S.x,O=S.y;return D.createElement(wn,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:m,isActive:b,easing:v},D.createElement("path",kd({},Fe(r,!0),{className:j,d:lw(A,O,N,w,h),ref:n})))}):D.createElement("path",kd({},Fe(r,!0),{className:j,d:lw(l,u,d,f,h)}))},Wre=["points","className","baseLinePoints","connectNulls"];function Ni(){return Ni=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ni.apply(this,arguments)}function Hre(e,t){if(e==null)return{};var r=qre(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qre(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function uw(e){return Xre(e)||Zre(e)||Gre(e)||Kre()}function Kre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gre(e,t){if(e){if(typeof e=="string")return eg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eg(e,t)}}function Zre(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Xre(e){if(Array.isArray(e))return eg(e)}function eg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var dw=function(t){return t&&t.x===+t.x&&t.y===+t.y},Yre=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){dw(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),dw(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},xc=function(t,r){var n=Yre(t);r&&(n=[n.reduce(function(i,o){return[].concat(uw(i),uw(o))},[])]);var s=n.map(function(i){return i.reduce(function(o,c,l){return"".concat(o).concat(l===0?"M":"L").concat(c.x,",").concat(c.y)},"")}).join("");return n.length===1?"".concat(s,"Z"):s},Jre=function(t,r,n){var s=xc(t,n);return"".concat(s.slice(-1)==="Z"?s.slice(0,-1):s,"L").concat(xc(r.reverse(),n).slice(1))},Qre=function(t){var r=t.points,n=t.className,s=t.baseLinePoints,i=t.connectNulls,o=Hre(t,Wre);if(!r||!r.length)return null;var c=Ze("recharts-polygon",n);if(s&&s.length){var l=o.stroke&&o.stroke!=="none",u=Jre(r,s,i);return D.createElement("g",{className:c},D.createElement("path",Ni({},Fe(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),l?D.createElement("path",Ni({},Fe(o,!0),{fill:"none",d:xc(r,i)})):null,l?D.createElement("path",Ni({},Fe(o,!0),{fill:"none",d:xc(s,i)})):null)}var d=xc(r,i);return D.createElement("path",Ni({},Fe(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:c,d}))};function tg(){return tg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tg.apply(this,arguments)}var Rl=function(t){var r=t.cx,n=t.cy,s=t.r,i=t.className,o=Ze("recharts-dot",i);return r===+r&&n===+n&&s===+s?g.createElement("circle",tg({},Fe(t,!1),Xu(t),{className:o,cx:r,cy:n,r:s})):null};function fl(e){"@babel/helpers - typeof";return fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fl(e)}var ene=["x","y","top","left","width","height","className"];function rg(){return rg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rg.apply(this,arguments)}function fw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function tne(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fw(Object(r),!0).forEach(function(n){rne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rne(e,t,r){return t=nne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nne(e){var t=ane(e,"string");return fl(t)=="symbol"?t:t+""}function ane(e,t){if(fl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sne(e,t){if(e==null)return{};var r=ine(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ine(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var one=function(t,r,n,s,i,o){return"M".concat(t,",").concat(i,"v").concat(s,"M").concat(o,",").concat(r,"h").concat(n)},cne=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,i=s===void 0?0:s,o=t.top,c=o===void 0?0:o,l=t.left,u=l===void 0?0:l,d=t.width,f=d===void 0?0:d,h=t.height,p=h===void 0?0:h,v=t.className,m=sne(t,ene),x=tne({x:n,y:i,top:c,left:u,width:f,height:p},m);return!ve(n)||!ve(i)||!ve(f)||!ve(p)||!ve(c)||!ve(u)?null:D.createElement("path",rg({},Fe(x,!0),{className:Ze("recharts-cross",v),d:one(n,i,f,p,c,u)}))},lne=th,une=jP,dne=Jn;function fne(e,t){return e&&e.length?lne(e,dne(t),une):void 0}var hne=fne;const mne=xt(hne);var pne=th,gne=Jn,vne=wP;function xne(e,t){return e&&e.length?pne(e,gne(t),vne):void 0}var yne=xne;const bne=xt(yne);var jne=["cx","cy","angle","ticks","axisLine"],wne=["ticks","tick","angle","tickFormatter","stroke"];function eo(e){"@babel/helpers - typeof";return eo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eo(e)}function yc(){return yc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yc.apply(this,arguments)}function hw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ds(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hw(Object(r),!0).forEach(function(n){sh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mw(e,t){if(e==null)return{};var r=Nne(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Nne(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Sne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d2(n.key),n)}}function Ane(e,t,r){return t&&pw(e.prototype,t),r&&pw(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function One(e,t,r){return t=Td(t),_ne(e,u2()?Reflect.construct(t,r||[],Td(e).constructor):t.apply(e,r))}function _ne(e,t){if(t&&(eo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pne(e)}function Pne(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u2=function(){return!!e})()}function Td(e){return Td=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Td(e)}function Cne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ng(e,t)}function ng(e,t){return ng=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},ng(e,t)}function sh(e,t,r){return t=d2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d2(e){var t=kne(e,"string");return eo(t)=="symbol"?t:t+""}function kne(e,t){if(eo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(eo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ih=function(e){function t(){return Sne(this,t),One(this,t,arguments)}return Cne(t,e),Ane(t,[{key:"getTickValueCoord",value:function(n){var s=n.coordinate,i=this.props,o=i.angle,c=i.cx,l=i.cy;return St(c,l,s,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,s;switch(n){case"left":s="end";break;case"right":s="start";break;default:s="middle";break}return s}},{key:"getViewBox",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.angle,c=n.ticks,l=mne(c,function(d){return d.coordinate||0}),u=bne(c,function(d){return d.coordinate||0});return{cx:s,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.angle,c=n.ticks,l=n.axisLine,u=mw(n,jne),d=c.reduce(function(v,m){return[Math.min(v[0],m.coordinate),Math.max(v[1],m.coordinate)]},[1/0,-1/0]),f=St(s,i,d[0],o),h=St(s,i,d[1],o),p=ds(ds(ds({},Fe(u,!1)),{},{fill:"none"},Fe(l,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return D.createElement("line",yc({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,s=this.props,i=s.ticks,o=s.tick,c=s.angle,l=s.tickFormatter,u=s.stroke,d=mw(s,wne),f=this.getTickTextAnchor(),h=Fe(d,!1),p=Fe(o,!1),v=i.map(function(m,x){var b=n.getTickValueCoord(m),y=ds(ds(ds(ds({textAnchor:f,transform:"rotate(".concat(90-c,", ").concat(b.x,", ").concat(b.y,")")},h),{},{stroke:"none",fill:u},p),{},{index:x},b),{},{payload:m});return D.createElement(st,yc({className:Ze("recharts-polar-radius-axis-tick",XP(o)),key:"tick-".concat(m.coordinate)},Hs(n.props,m,x)),t.renderTickItem(o,y,l?l(m.value,x):m.value))});return D.createElement(st,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var n=this.props,s=n.ticks,i=n.axisLine,o=n.tick;return!s||!s.length?null:D.createElement(st,{className:Ze("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),tr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,s,i){var o;return D.isValidElement(n)?o=D.cloneElement(n,s):We(n)?o=n(s):o=D.createElement(qs,yc({},s,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(g.PureComponent);sh(ih,"displayName","PolarRadiusAxis");sh(ih,"axisType","radiusAxis");sh(ih,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function to(e){"@babel/helpers - typeof";return to=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},to(e)}function gs(){return gs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gs.apply(this,arguments)}function gw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function fs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gw(Object(r),!0).forEach(function(n){oh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,h2(n.key),n)}}function Ene(e,t,r){return t&&vw(e.prototype,t),r&&vw(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function $ne(e,t,r){return t=Ed(t),Dne(e,f2()?Reflect.construct(t,r||[],Ed(e).constructor):t.apply(e,r))}function Dne(e,t){if(t&&(to(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ine(e)}function Ine(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f2=function(){return!!e})()}function Ed(e){return Ed=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ed(e)}function Mne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ag(e,t)}function ag(e,t){return ag=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},ag(e,t)}function oh(e,t,r){return t=h2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h2(e){var t=Rne(e,"string");return to(t)=="symbol"?t:t+""}function Rne(e,t){if(to(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(to(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Lne=Math.PI/180,xw=1e-5,ch=function(e){function t(){return Tne(this,t),$ne(this,t,arguments)}return Mne(t,e),Ene(t,[{key:"getTickLineCoord",value:function(n){var s=this.props,i=s.cx,o=s.cy,c=s.radius,l=s.orientation,u=s.tickSize,d=u||8,f=St(i,o,c,n.coordinate),h=St(i,o,c+(l==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var s=this.props.orientation,i=Math.cos(-n.coordinate*Lne),o;return i>xw?o=s==="outer"?"start":"end":i<-xw?o=s==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.radius,c=n.axisLine,l=n.axisLineType,u=fs(fs({},Fe(this.props,!1)),{},{fill:"none"},Fe(c,!1));if(l==="circle")return D.createElement(Rl,gs({className:"recharts-polar-angle-axis-line"},u,{cx:s,cy:i,r:o}));var d=this.props.ticks,f=d.map(function(h){return St(s,i,o,h.coordinate)});return D.createElement(Qre,gs({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,s=this.props,i=s.ticks,o=s.tick,c=s.tickLine,l=s.tickFormatter,u=s.stroke,d=Fe(this.props,!1),f=Fe(o,!1),h=fs(fs({},d),{},{fill:"none"},Fe(c,!1)),p=i.map(function(v,m){var x=n.getTickLineCoord(v),b=n.getTickTextAnchor(v),y=fs(fs(fs({textAnchor:b},d),{},{stroke:"none",fill:u},f),{},{index:m,payload:v,x:x.x2,y:x.y2});return D.createElement(st,gs({className:Ze("recharts-polar-angle-axis-tick",XP(o)),key:"tick-".concat(v.coordinate)},Hs(n.props,v,m)),c&&D.createElement("line",gs({className:"recharts-polar-angle-axis-tick-line"},h,x)),o&&t.renderTickItem(o,y,l?l(v.value,m):v.value))});return D.createElement(st,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,s=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!s||!s.length?null:D.createElement(st,{className:Ze("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,s,i){var o;return D.isValidElement(n)?o=D.cloneElement(n,s):We(n)?o=n(s):o=D.createElement(qs,gs({},s,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(g.PureComponent);oh(ch,"displayName","PolarAngleAxis");oh(ch,"axisType","angleAxis");oh(ch,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Fne=v_,Bne=Fne(Object.getPrototypeOf,Object),Vne=Bne,zne=Aa,Une=Vne,Wne=Oa,Hne="[object Object]",qne=Function.prototype,Kne=Object.prototype,m2=qne.toString,Gne=Kne.hasOwnProperty,Zne=m2.call(Object);function Xne(e){if(!Wne(e)||zne(e)!=Hne)return!1;var t=Une(e);if(t===null)return!0;var r=Gne.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&m2.call(r)==Zne}var Yne=Xne;const Jne=xt(Yne);var Qne=Aa,eae=Oa,tae="[object Boolean]";function rae(e){return e===!0||e===!1||eae(e)&&Qne(e)==tae}var nae=rae;const aae=xt(nae);function hl(e){"@babel/helpers - typeof";return hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hl(e)}function $d(){return $d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$d.apply(this,arguments)}function sae(e,t){return lae(e)||cae(e,t)||oae(e,t)||iae()}function iae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oae(e,t){if(e){if(typeof e=="string")return yw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yw(e,t)}}function yw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cae(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(d){u=!0,s=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return c}}function lae(e){if(Array.isArray(e))return e}function bw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function jw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bw(Object(r),!0).forEach(function(n){uae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uae(e,t,r){return t=dae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dae(e){var t=fae(e,"string");return hl(t)=="symbol"?t:t+""}function fae(e,t){if(hl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ww=function(t,r,n,s,i){var o=n-s,c;return c="M ".concat(t,",").concat(r),c+="L ".concat(t+n,",").concat(r),c+="L ".concat(t+n-o/2,",").concat(r+i),c+="L ".concat(t+n-o/2-s,",").concat(r+i),c+="L ".concat(t,",").concat(r," Z"),c},hae={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},mae=function(t){var r=jw(jw({},hae),t),n=g.useRef(),s=g.useState(-1),i=sae(s,2),o=i[0],c=i[1];g.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var j=n.current.getTotalLength();j&&c(j)}catch{}},[]);var l=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,v=r.animationEasing,m=r.animationDuration,x=r.animationBegin,b=r.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var y=Ze("recharts-trapezoid",p);return b?D.createElement(wn,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:l,y:u},duration:m,animationEasing:v,isActive:b},function(j){var S=j.upperWidth,N=j.lowerWidth,w=j.height,A=j.x,O=j.y;return D.createElement(wn,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:m,easing:v},D.createElement("path",$d({},Fe(r,!0),{className:y,d:ww(A,O,S,N,w),ref:n})))}):D.createElement("g",null,D.createElement("path",$d({},Fe(r,!0),{className:y,d:ww(l,u,d,f,h)})))},pae=["option","shapeType","propTransformer","activeClassName","isActive"];function ml(e){"@babel/helpers - typeof";return ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ml(e)}function gae(e,t){if(e==null)return{};var r=vae(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function vae(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Nw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Dd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nw(Object(r),!0).forEach(function(n){xae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xae(e,t,r){return t=yae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yae(e){var t=bae(e,"string");return ml(t)=="symbol"?t:t+""}function bae(e,t){if(ml(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ml(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jae(e,t){return Dd(Dd({},t),e)}function wae(e,t){return e==="symbols"}function Sw(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return D.createElement(dx,r);case"trapezoid":return D.createElement(mae,r);case"sector":return D.createElement(QP,r);case"symbols":if(wae(t))return D.createElement(kv,r);break;default:return null}}function Nae(e){return g.isValidElement(e)?e.props:e}function p2(e){var t=e.option,r=e.shapeType,n=e.propTransformer,s=n===void 0?jae:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,c=e.isActive,l=gae(e,pae),u;if(g.isValidElement(t))u=g.cloneElement(t,Dd(Dd({},l),Nae(t)));else if(We(t))u=t(l);else if(Jne(t)&&!aae(t)){var d=s(t,l);u=D.createElement(Sw,{shapeType:r,elementProps:d})}else{var f=l;u=D.createElement(Sw,{shapeType:r,elementProps:f})}return c?D.createElement(st,{className:o},u):u}function lh(e,t){return t!=null&&"trapezoids"in e.props}function uh(e,t){return t!=null&&"sectors"in e.props}function pl(e,t){return t!=null&&"points"in e.props}function Sae(e,t){var r,n,s=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return s&&i}function Aae(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function Oae(e,t){var r=e.x===t.x,n=e.y===t.y,s=e.z===t.z;return r&&n&&s}function _ae(e,t){var r;return lh(e,t)?r=Sae:uh(e,t)?r=Aae:pl(e,t)&&(r=Oae),r}function Pae(e,t){var r;return lh(e,t)?r="trapezoids":uh(e,t)?r="sectors":pl(e,t)&&(r="points"),r}function Cae(e,t){if(lh(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(uh(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return pl(e,t)?t.payload:{}}function kae(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,s=Pae(r,t),i=Cae(r,t),o=n.filter(function(l,u){var d=Ks(i,l),f=r.props[s].filter(function(v){var m=_ae(r,t);return m(v,t)}),h=r.props[s].indexOf(f[f.length-1]),p=u===h;return d&&p}),c=n.indexOf(o[o.length-1]);return c}var ju;function ro(e){"@babel/helpers - typeof";return ro=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ro(e)}function Si(){return Si=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Si.apply(this,arguments)}function Aw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function jt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Aw(Object(r),!0).forEach(function(n){en(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Aw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ow(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v2(n.key),n)}}function Eae(e,t,r){return t&&Ow(e.prototype,t),r&&Ow(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function $ae(e,t,r){return t=Id(t),Dae(e,g2()?Reflect.construct(t,r||[],Id(e).constructor):t.apply(e,r))}function Dae(e,t){if(t&&(ro(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Iae(e)}function Iae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g2=function(){return!!e})()}function Id(e){return Id=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Id(e)}function Mae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sg(e,t)}function sg(e,t){return sg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},sg(e,t)}function en(e,t,r){return t=v2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v2(e){var t=Rae(e,"string");return ro(t)=="symbol"?t:t+""}function Rae(e,t){if(ro(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ro(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Kn=function(e){function t(r){var n;return Tae(this,t),n=$ae(this,t,[r]),en(n,"pieRef",null),en(n,"sectorRefs",[]),en(n,"id",si("recharts-pie-")),en(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),We(s)&&s()}),en(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),We(s)&&s()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return Mae(t,e),Eae(t,[{key:"isActiveIndex",value:function(n){var s=this.props.activeIndex;return Array.isArray(s)?s.indexOf(n)!==-1:n===s}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,c=i.labelLine,l=i.dataKey,u=i.valueKey,d=Fe(this.props,!1),f=Fe(o,!1),h=Fe(c,!1),p=o&&o.offsetRadius||20,v=n.map(function(m,x){var b=(m.startAngle+m.endAngle)/2,y=St(m.cx,m.cy,m.outerRadius+p,b),j=jt(jt(jt(jt({},d),m),{},{stroke:"none"},f),{},{index:x,textAnchor:t.getTextAnchor(y.x,m.cx)},y),S=jt(jt(jt(jt({},d),m),{},{fill:"none",stroke:m.fill},h),{},{index:x,points:[St(m.cx,m.cy,m.outerRadius,b),y]}),N=l;return Ge(l)&&Ge(u)?N="value":Ge(l)&&(N=u),D.createElement(st,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(x)},c&&t.renderLabelLineItem(c,S,"line"),t.renderLabelItem(o,j,Rt(m,N)))});return D.createElement(st,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(n){var s=this,i=this.props,o=i.activeShape,c=i.blendStroke,l=i.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=s.isActiveIndex(d),h=l&&s.hasActiveIndex()?l:null,p=f?o:h,v=jt(jt({},u),{},{stroke:c?u.fill:u.stroke,tabIndex:-1});return D.createElement(st,Si({ref:function(x){x&&!s.sectorRefs.includes(x)&&s.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},Hs(s.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),D.createElement(p2,Si({option:p,isActive:f,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,s=this.props,i=s.sectors,o=s.isAnimationActive,c=s.animationBegin,l=s.animationDuration,u=s.animationEasing,d=s.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return D.createElement(wn,{begin:c,duration:l,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var m=v.t,x=[],b=i&&i[0],y=b.startAngle;return i.forEach(function(j,S){var N=h&&h[S],w=S>0?Vr(j,"paddingAngle",0):0;if(N){var A=Zt(N.endAngle-N.startAngle,j.endAngle-j.startAngle),O=jt(jt({},j),{},{startAngle:y+w,endAngle:y+A(m)+w});x.push(O),y=O.endAngle}else{var _=j.endAngle,C=j.startAngle,P=Zt(0,_-C),k=P(m),T=jt(jt({},j),{},{startAngle:y+w,endAngle:y+k+w});x.push(T),y=T.endAngle}}),D.createElement(st,null,n.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(n){var s=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[o].focus(),s.setState({sectorToFocus:o});break}case"ArrowRight":{var c=--s.state.sectorToFocus<0?s.sectorRefs.length-1:s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[c].focus(),s.setState({sectorToFocus:c});break}case"Escape":{s.sectorRefs[s.state.sectorToFocus].blur(),s.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,s=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&s&&s.length&&(!o||!Ks(o,s))?this.renderSectorsWithAnimation():this.renderSectorsStatically(s)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,s=this.props,i=s.hide,o=s.sectors,c=s.className,l=s.label,u=s.cx,d=s.cy,f=s.innerRadius,h=s.outerRadius,p=s.isAnimationActive,v=this.state.isAnimationFinished;if(i||!o||!o.length||!ve(u)||!ve(d)||!ve(f)||!ve(h))return null;var m=Ze("recharts-pie",c);return D.createElement(st,{tabIndex:this.props.rootTabIndex,className:m,ref:function(b){n.pieRef=b}},this.renderSectors(),l&&this.renderLabels(o),tr.renderCallByParent(this.props,null,!1),(!p||v)&&Fn.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return s.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:s.curSectors,isAnimationFinished:!0}:n.sectors!==s.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,s){return n>s?"start":n<s?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,s,i){if(D.isValidElement(n))return D.cloneElement(n,s);if(We(n))return n(s);var o=Ze("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return D.createElement(Es,Si({},s,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,s,i){if(D.isValidElement(n))return D.cloneElement(n,s);var o=i;if(We(n)&&(o=n(s),D.isValidElement(o)))return o;var c=Ze("recharts-pie-label-text",typeof n!="boolean"&&!We(n)?n.className:"");return D.createElement(qs,Si({},s,{alignmentBaseline:"middle",className:c}),o)}}])}(g.PureComponent);ju=Kn;en(Kn,"displayName","Pie");en(Kn,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!ss.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});en(Kn,"parseDeltaAngle",function(e,t){var r=xr(t-e),n=Math.min(Math.abs(t-e),360);return r*n});en(Kn,"getRealPieData",function(e){var t=e.data,r=e.children,n=Fe(e,!1),s=zr(r,Hc);return t&&t.length?t.map(function(i,o){return jt(jt(jt({payload:i},n),i),s&&s[o]&&s[o].props)}):s&&s.length?s.map(function(i){return jt(jt({},n),i.props)}):[]});en(Kn,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,s=t.width,i=t.height,o=ZP(s,i),c=n+yr(e.cx,s,s/2),l=r+yr(e.cy,i,i/2),u=yr(e.innerRadius,o,0),d=yr(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(s*s+i*i)/2;return{cx:c,cy:l,innerRadius:u,outerRadius:d,maxRadius:f}});en(Kn,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?jt(jt({},t.type.defaultProps),t.props):t.props,s=ju.getRealPieData(n);if(!s||!s.length)return null;var i=n.cornerRadius,o=n.startAngle,c=n.endAngle,l=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,p=Math.abs(n.minAngle),v=ju.parseCoordinateOfPie(n,r),m=ju.parseDeltaAngle(o,c),x=Math.abs(m),b=u;Ge(u)&&Ge(f)?(xn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):Ge(u)&&(xn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=f);var y=s.filter(function(O){return Rt(O,b,0)!==0}).length,j=(x>=360?y:y-1)*l,S=x-y*p-j,N=s.reduce(function(O,_){var C=Rt(_,b,0);return O+(ve(C)?C:0)},0),w;if(N>0){var A;w=s.map(function(O,_){var C=Rt(O,b,0),P=Rt(O,d,_),k=(ve(C)?C:0)/N,T;_?T=A.endAngle+xr(m)*l*(C!==0?1:0):T=o;var E=T+xr(m)*((C!==0?p:0)+k*S),I=(T+E)/2,F=(v.innerRadius+v.outerRadius)/2,$=[{name:P,value:C,payload:O,dataKey:b,type:h}],q=St(v.cx,v.cy,F,I);return A=jt(jt(jt({percent:k,cornerRadius:i,name:P,tooltipPayload:$,midAngle:I,middleRadius:F,tooltipPosition:q},O),v),{},{value:Rt(O,b),startAngle:T,endAngle:E,payload:O,paddingAngle:xr(m)*l}),A})}return jt(jt({},v),{},{sectors:w,data:s})});var Lae=Math.ceil,Fae=Math.max;function Bae(e,t,r,n){for(var s=-1,i=Fae(Lae((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++s]=e,e+=r;return o}var Vae=Bae,zae=M_,_w=1/0,Uae=17976931348623157e292;function Wae(e){if(!e)return e===0?e:0;if(e=zae(e),e===_w||e===-_w){var t=e<0?-1:1;return t*Uae}return e===e?e:0}var x2=Wae,Hae=Vae,qae=Gf,fm=x2;function Kae(e){return function(t,r,n){return n&&typeof n!="number"&&qae(t,r,n)&&(r=n=void 0),t=fm(t),r===void 0?(r=t,t=0):r=fm(r),n=n===void 0?t<r?1:-1:fm(n),Hae(t,r,n,e)}}var Gae=Kae,Zae=Gae,Xae=Zae(),Yae=Xae;const Md=xt(Yae);function gl(e){"@babel/helpers - typeof";return gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gl(e)}function Pw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Cw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pw(Object(r),!0).forEach(function(n){y2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function y2(e,t,r){return t=Jae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jae(e){var t=Qae(e,"string");return gl(t)=="symbol"?t:t+""}function Qae(e,t){if(gl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ese=["Webkit","Moz","O","ms"],tse=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),s=ese.reduce(function(i,o){return Cw(Cw({},i),{},y2({},o+n,r))},{});return s[t]=r,s};function no(e){"@babel/helpers - typeof";return no=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},no(e)}function Rd(){return Rd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rd.apply(this,arguments)}function kw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function hm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kw(Object(r),!0).forEach(function(n){Er(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,j2(n.key),n)}}function nse(e,t,r){return t&&Tw(e.prototype,t),r&&Tw(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ase(e,t,r){return t=Ld(t),sse(e,b2()?Reflect.construct(t,r||[],Ld(e).constructor):t.apply(e,r))}function sse(e,t){if(t&&(no(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ise(e)}function ise(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b2=function(){return!!e})()}function Ld(e){return Ld=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ld(e)}function ose(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ig(e,t)}function ig(e,t){return ig=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},ig(e,t)}function Er(e,t,r){return t=j2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j2(e){var t=cse(e,"string");return no(t)=="symbol"?t:t+""}function cse(e,t){if(no(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(no(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var lse=function(t){var r=t.data,n=t.startIndex,s=t.endIndex,i=t.x,o=t.width,c=t.travellerWidth;if(!r||!r.length)return{};var l=r.length,u=pc().domain(Md(0,l)).range([i,i+o-c]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(s),scale:u,scaleValues:d}},Ew=function(t){return t.changedTouches&&!!t.changedTouches.length},ao=function(e){function t(r){var n;return rse(this,t),n=ase(this,t,[r]),Er(n,"handleDrag",function(s){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(s):n.state.isSlideMoving&&n.handleSlideDrag(s)}),Er(n,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&n.handleDrag(s.changedTouches[0])}),Er(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=n.props,i=s.endIndex,o=s.onDragEnd,c=s.startIndex;o==null||o({endIndex:i,startIndex:c})}),n.detachDragEndListener()}),Er(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Er(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Er(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Er(n,"handleSlideDragStart",function(s){var i=Ew(s)?s.changedTouches[0]:s;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return ose(t,e),nse(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var s=n.startX,i=n.endX,o=this.state.scaleValues,c=this.props,l=c.gap,u=c.data,d=u.length-1,f=Math.min(s,i),h=Math.max(s,i),p=t.getIndexInRange(o,f),v=t.getIndexInRange(o,h);return{startIndex:p-p%l,endIndex:v===d?d:v-v%l}}},{key:"getTextOfTick",value:function(n){var s=this.props,i=s.data,o=s.tickFormatter,c=s.dataKey,l=Rt(i[n],c,n);return We(o)?o(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var s=this.state,i=s.slideMoveStartX,o=s.startX,c=s.endX,l=this.props,u=l.x,d=l.width,f=l.travellerWidth,h=l.startIndex,p=l.endIndex,v=l.onChange,m=n.pageX-i;m>0?m=Math.min(m,u+d-f-c,u+d-f-o):m<0&&(m=Math.max(m,u-o,u-c));var x=this.getIndex({startX:o+m,endX:c+m});(x.startIndex!==h||x.endIndex!==p)&&v&&v(x),this.setState({startX:o+m,endX:c+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,s){var i=Ew(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var s=this.state,i=s.brushMoveStartX,o=s.movingTravellerId,c=s.endX,l=s.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,v=d.onChange,m=d.gap,x=d.data,b={startX:this.state.startX,endX:this.state.endX},y=n.pageX-i;y>0?y=Math.min(y,f+h-p-u):y<0&&(y=Math.max(y,f-u)),b[o]=u+y;var j=this.getIndex(b),S=j.startIndex,N=j.endIndex,w=function(){var O=x.length-1;return o==="startX"&&(c>l?S%m===0:N%m===0)||c<l&&N===O||o==="endX"&&(c>l?N%m===0:S%m===0)||c>l&&N===O};this.setState(Er(Er({},o,u+y),"brushMoveStartX",n.pageX),function(){v&&w()&&v(j)})}},{key:"handleTravellerMoveKeyboard",value:function(n,s){var i=this,o=this.state,c=o.scaleValues,l=o.startX,u=o.endX,d=this.state[s],f=c.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=c.length)){var p=c[h];s==="startX"&&p>=u||s==="endX"&&p<=l||this.setState(Er({},s,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,c=n.height,l=n.fill,u=n.stroke;return D.createElement("rect",{stroke:u,fill:l,x:s,y:i,width:o,height:c})}},{key:"renderPanorama",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,c=n.height,l=n.data,u=n.children,d=n.padding,f=g.Children.only(u);return f?D.cloneElement(f,{x:s,y:i,width:o,height:c,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,s){var i,o,c=this,l=this.props,u=l.y,d=l.travellerWidth,f=l.height,h=l.traveller,p=l.ariaLabel,v=l.data,m=l.startIndex,x=l.endIndex,b=Math.max(n,this.props.x),y=hm(hm({},Fe(this.props,!1)),{},{x:b,y:u,width:d,height:f}),j=p||"Min value: ".concat((i=v[m])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=v[x])===null||o===void 0?void 0:o.name);return D.createElement(st,{tabIndex:0,role:"slider","aria-label":j,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(N){["ArrowLeft","ArrowRight"].includes(N.key)&&(N.preventDefault(),N.stopPropagation(),c.handleTravellerMoveKeyboard(N.key==="ArrowRight"?1:-1,s))},onFocus:function(){c.setState({isTravellerFocused:!0})},onBlur:function(){c.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,y))}},{key:"renderSlide",value:function(n,s){var i=this.props,o=i.y,c=i.height,l=i.stroke,u=i.travellerWidth,d=Math.min(n,s)+u,f=Math.max(Math.abs(s-n)-u,0);return D.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:o,width:f,height:c})}},{key:"renderText",value:function(){var n=this.props,s=n.startIndex,i=n.endIndex,o=n.y,c=n.height,l=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,p=5,v={pointerEvents:"none",fill:u};return D.createElement(st,{className:"recharts-brush-texts"},D.createElement(qs,Rd({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:o+c/2},v),this.getTextOfTick(s)),D.createElement(qs,Rd({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+p,y:o+c/2},v),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,s=n.data,i=n.className,o=n.children,c=n.x,l=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,v=h.endX,m=h.isTextActive,x=h.isSlideMoving,b=h.isTravellerMoving,y=h.isTravellerFocused;if(!s||!s.length||!ve(c)||!ve(l)||!ve(u)||!ve(d)||u<=0||d<=0)return null;var j=Ze("recharts-brush",i),S=D.Children.count(o)===1,N=tse("userSelect","none");return D.createElement(st,{className:j,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(p,v),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(v,"endX"),(m||x||b||y||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var s=n.x,i=n.y,o=n.width,c=n.height,l=n.stroke,u=Math.floor(i+c/2)-1;return D.createElement(D.Fragment,null,D.createElement("rect",{x:s,y:i,width:o,height:c,fill:l,stroke:"none"}),D.createElement("line",{x1:s+1,y1:u,x2:s+o-1,y2:u,fill:"none",stroke:"#fff"}),D.createElement("line",{x1:s+1,y1:u+2,x2:s+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,s){var i;return D.isValidElement(n)?i=D.cloneElement(n,s):We(n)?i=n(s):i=t.renderDefaultTraveller(s),i}},{key:"getDerivedStateFromProps",value:function(n,s){var i=n.data,o=n.width,c=n.x,l=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==s.prevData||u!==s.prevUpdateId)return hm({prevData:i,prevTravellerWidth:l,prevUpdateId:u,prevX:c,prevWidth:o},i&&i.length?lse({data:i,width:o,x:c,travellerWidth:l,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(s.scale&&(o!==s.prevWidth||c!==s.prevX||l!==s.prevTravellerWidth)){s.scale.range([c,c+o-l]);var h=s.scale.domain().map(function(p){return s.scale(p)});return{prevData:i,prevTravellerWidth:l,prevUpdateId:u,prevX:c,prevWidth:o,startX:s.scale(n.startIndex),endX:s.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,s){for(var i=n.length,o=0,c=i-1;c-o>1;){var l=Math.floor((o+c)/2);n[l]>s?c=l:o=l}return s>=n[c]?c:o}}])}(g.PureComponent);Er(ao,"displayName","Brush");Er(ao,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var use=Rv;function dse(e,t){var r;return use(e,function(n,s,i){return r=t(n,s,i),!r}),!!r}var fse=dse,hse=l_,mse=Jn,pse=fse,gse=kr,vse=Gf;function xse(e,t,r){var n=gse(e)?hse:pse;return r&&vse(e,t,r)&&(t=void 0),n(e,mse(t))}var yse=xse;const bse=xt(yse);var Bn=function(t,r){var n=t.alwaysShow,s=t.ifOverflow;return n&&(s="extendDomain"),s===r},$w=T_;function jse(e,t,r){t=="__proto__"&&$w?$w(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var wse=jse,Nse=wse,Sse=C_,Ase=Jn;function Ose(e,t){var r={};return t=Ase(t),Sse(e,function(n,s,i){Nse(r,s,t(n,s,i))}),r}var _se=Ose;const Pse=xt(_se);function Cse(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var kse=Cse,Tse=Rv;function Ese(e,t){var r=!0;return Tse(e,function(n,s,i){return r=!!t(n,s,i),r}),r}var $se=Ese,Dse=kse,Ise=$se,Mse=Jn,Rse=kr,Lse=Gf;function Fse(e,t,r){var n=Rse(e)?Dse:Ise;return r&&Lse(e,t,r)&&(t=void 0),n(e,Mse(t))}var Bse=Fse;const w2=xt(Bse);var Vse=["x","y"];function vl(e){"@babel/helpers - typeof";return vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vl(e)}function og(){return og=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},og.apply(this,arguments)}function Dw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function nc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dw(Object(r),!0).forEach(function(n){zse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zse(e,t,r){return t=Use(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Use(e){var t=Wse(e,"string");return vl(t)=="symbol"?t:t+""}function Wse(e,t){if(vl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hse(e,t){if(e==null)return{};var r=qse(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qse(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Kse(e,t){var r=e.x,n=e.y,s=Hse(e,Vse),i="".concat(r),o=parseInt(i,10),c="".concat(n),l=parseInt(c,10),u="".concat(t.height||s.height),d=parseInt(u,10),f="".concat(t.width||s.width),h=parseInt(f,10);return nc(nc(nc(nc(nc({},t),s),o?{x:o}:{}),l?{y:l}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function Iw(e){return D.createElement(p2,og({shapeType:"rectangle",propTransformer:Kse,activeClassName:"recharts-active-bar"},e))}var Gse=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,s){if(typeof t=="number")return t;var i=ve(n)||b8(n);return i?t(n,s):(i||Zs(),r)}},Zse=["value","background"],N2;function so(e){"@babel/helpers - typeof";return so=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},so(e)}function Xse(e,t){if(e==null)return{};var r=Yse(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Yse(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Fd(){return Fd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fd.apply(this,arguments)}function Mw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function zt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mw(Object(r),!0).forEach(function(n){Va(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,A2(n.key),n)}}function Qse(e,t,r){return t&&Rw(e.prototype,t),r&&Rw(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function eie(e,t,r){return t=Bd(t),tie(e,S2()?Reflect.construct(t,r||[],Bd(e).constructor):t.apply(e,r))}function tie(e,t){if(t&&(so(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rie(e)}function rie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S2=function(){return!!e})()}function Bd(e){return Bd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bd(e)}function nie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cg(e,t)}function cg(e,t){return cg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},cg(e,t)}function Va(e,t,r){return t=A2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A2(e){var t=aie(e,"string");return so(t)=="symbol"?t:t+""}function aie(e,t){if(so(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(so(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Qa=function(e){function t(){var r;Jse(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=eie(this,t,[].concat(s)),Va(r,"state",{isAnimationFinished:!1}),Va(r,"id",si("recharts-bar-")),Va(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Va(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return nie(t,e),Qse(t,[{key:"renderRectanglesStatically",value:function(n){var s=this,i=this.props,o=i.shape,c=i.dataKey,l=i.activeIndex,u=i.activeBar,d=Fe(this.props,!1);return n&&n.map(function(f,h){var p=h===l,v=p?u:o,m=zt(zt(zt({},d),f),{},{isActive:p,option:v,index:h,dataKey:c,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return D.createElement(st,Fd({className:"recharts-bar-rectangle"},Hs(s.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),D.createElement(Iw,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,s=this.props,i=s.data,o=s.layout,c=s.isAnimationActive,l=s.animationBegin,u=s.animationDuration,d=s.animationEasing,f=s.animationId,h=this.state.prevData;return D.createElement(wn,{begin:l,duration:u,isActive:c,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var v=p.t,m=i.map(function(x,b){var y=h&&h[b];if(y){var j=Zt(y.x,x.x),S=Zt(y.y,x.y),N=Zt(y.width,x.width),w=Zt(y.height,x.height);return zt(zt({},x),{},{x:j(v),y:S(v),width:N(v),height:w(v)})}if(o==="horizontal"){var A=Zt(0,x.height),O=A(v);return zt(zt({},x),{},{y:x.y+x.height-O,height:O})}var _=Zt(0,x.width),C=_(v);return zt(zt({},x),{},{width:C})});return D.createElement(st,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,s=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&s&&s.length&&(!o||!Ks(o,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var n=this,s=this.props,i=s.data,o=s.dataKey,c=s.activeIndex,l=Fe(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,h=Xse(u,Zse);if(!f)return null;var p=zt(zt(zt(zt(zt({},h),{},{fill:"#eee"},f),l),Hs(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return D.createElement(Iw,Fd({key:"background-bar-".concat(d),option:n.props.background,isActive:d===c},p))})}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,c=i.xAxis,l=i.yAxis,u=i.layout,d=i.children,f=zr(d,Ml);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,p=function(x,b){var y=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:y,errorVal:Rt(x,b)}},v={clipPath:n?"url(#clipPath-".concat(s,")"):null};return D.createElement(st,v,f.map(function(m){return D.cloneElement(m,{key:"error-bar-".concat(s,"-").concat(m.props.dataKey),data:o,xAxis:c,yAxis:l,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,s=n.hide,i=n.data,o=n.className,c=n.xAxis,l=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,p=n.isAnimationActive,v=n.background,m=n.id;if(s||!i||!i.length)return null;var x=this.state.isAnimationFinished,b=Ze("recharts-bar",o),y=c&&c.allowDataOverflow,j=l&&l.allowDataOverflow,S=y||j,N=Ge(m)?this.id:m;return D.createElement(st,{className:b},y||j?D.createElement("defs",null,D.createElement("clipPath",{id:"clipPath-".concat(N)},D.createElement("rect",{x:y?u:u-f/2,y:j?d:d-h/2,width:y?f:f*2,height:j?h:h*2}))):null,D.createElement(st,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(N,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,N),(!p||x)&&Fn.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:s.curData}:n.data!==s.curData?{curData:n.data}:null}}])}(g.PureComponent);N2=Qa;Va(Qa,"displayName","Bar");Va(Qa,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ss.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Va(Qa,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,s=e.bandSize,i=e.xAxis,o=e.yAxis,c=e.xAxisTicks,l=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=LQ(n,r);if(!p)return null;var v=t.layout,m=r.type.defaultProps,x=m!==void 0?zt(zt({},m),r.props):r.props,b=x.dataKey,y=x.children,j=x.minPointSize,S=v==="horizontal"?o:i,N=u?S.scale.domain():null,w=HQ({numericAxis:S}),A=zr(y,Hc),O=f.map(function(_,C){var P,k,T,E,I,F;u?P=FQ(u[d+C],N):(P=Rt(_,b),Array.isArray(P)||(P=[w,P]));var $=Gse(j,N2.defaultProps.minPointSize)(P[1],C);if(v==="horizontal"){var q,M=[o.scale(P[0]),o.scale(P[1])],J=M[0],V=M[1];k=Oj({axis:i,ticks:c,bandSize:s,offset:p.offset,entry:_,index:C}),T=(q=V??J)!==null&&q!==void 0?q:void 0,E=p.size;var z=J-V;if(I=Number.isNaN(z)?0:z,F={x:k,y:o.y,width:E,height:o.height},Math.abs($)>0&&Math.abs(I)<Math.abs($)){var B=xr(I||$)*(Math.abs($)-Math.abs(I));T-=B,I+=B}}else{var G=[i.scale(P[0]),i.scale(P[1])],ce=G[0],we=G[1];if(k=ce,T=Oj({axis:o,ticks:l,bandSize:s,offset:p.offset,entry:_,index:C}),E=we-ce,I=p.size,F={x:i.x,y:T,width:i.width,height:I},Math.abs($)>0&&Math.abs(E)<Math.abs($)){var pe=xr(E||$)*(Math.abs($)-Math.abs(E));E+=pe}}return zt(zt(zt({},_),{},{x:k,y:T,width:E,height:I,value:u?P:P[1],payload:_,background:F},A&&A[C]&&A[C].props),{},{tooltipPayload:[KP(r,_)],tooltipPosition:{x:k+E/2,y:T+I/2}})});return zt({data:O,layout:v},h)});function xl(e){"@babel/helpers - typeof";return xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xl(e)}function sie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,O2(n.key),n)}}function iie(e,t,r){return t&&Lw(e.prototype,t),r&&Lw(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function fn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fw(Object(r),!0).forEach(function(n){dh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dh(e,t,r){return t=O2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O2(e){var t=oie(e,"string");return xl(t)=="symbol"?t:t+""}function oie(e,t){if(xl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fx=function(t,r,n,s,i){var o=t.width,c=t.height,l=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:c-n.bottom,bottomMirror:c-n.bottom},h=!!Dr(u,Qa);return d.reduce(function(p,v){var m=r[v],x=m.orientation,b=m.domain,y=m.padding,j=y===void 0?{}:y,S=m.mirror,N=m.reversed,w="".concat(x).concat(S?"Mirror":""),A,O,_,C,P;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var k=b[1]-b[0],T=1/0,E=m.categoricalDomain.sort(N8);if(E.forEach(function(G,ce){ce>0&&(T=Math.min((G||0)-(E[ce-1]||0),T))}),Number.isFinite(T)){var I=T/k,F=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(A=I*F/2),m.padding==="no-gap"){var $=yr(t.barCategoryGap,I*F),q=I*F/2;A=q-$-(q-$)/F*$}}}s==="xAxis"?O=[n.left+(j.left||0)+(A||0),n.left+n.width-(j.right||0)-(A||0)]:s==="yAxis"?O=l==="horizontal"?[n.top+n.height-(j.bottom||0),n.top+(j.top||0)]:[n.top+(j.top||0)+(A||0),n.top+n.height-(j.bottom||0)-(A||0)]:O=m.range,N&&(O=[O[1],O[0]]);var M=UP(m,i,h),J=M.scale,V=M.realScaleType;J.domain(b).range(O),WP(J);var z=HP(J,fn(fn({},m),{},{realScaleType:V}));s==="xAxis"?(P=x==="top"&&!S||x==="bottom"&&S,_=n.left,C=f[w]-P*m.height):s==="yAxis"&&(P=x==="left"&&!S||x==="right"&&S,_=f[w]-P*m.width,C=n.top);var B=fn(fn(fn({},m),z),{},{realScaleType:V,x:_,y:C,scale:J,width:s==="xAxis"?n.width:m.width,height:s==="yAxis"?n.height:m.height});return B.bandSize=Sd(B,z),!m.hide&&s==="xAxis"?f[w]+=(P?-1:1)*B.height:m.hide||(f[w]+=(P?-1:1)*B.width),fn(fn({},p),{},dh({},v,B))},{})},_2=function(t,r){var n=t.x,s=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(s,o),width:Math.abs(i-n),height:Math.abs(o-s)}},cie=function(t){var r=t.x1,n=t.y1,s=t.x2,i=t.y2;return _2({x:r,y:n},{x:s,y:i})},P2=function(){function e(t){sie(this,e),this.scale=t}return iie(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var c=this.bandwidth?this.bandwidth():0;return this.scale(r)+c}default:return this.scale(r)}if(s){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),s=n[0],i=n[n.length-1];return s<=i?r>=s&&r<=i:r>=i&&r<=s}}],[{key:"create",value:function(r){return new e(r)}}])}();dh(P2,"EPS",1e-4);var hx=function(t){var r=Object.keys(t).reduce(function(n,s){return fn(fn({},n),{},dh({},s,P2.create(t[s])))},{});return fn(fn({},r),{},{apply:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,c=i.position;return Pse(s,function(l,u){return r[u].apply(l,{bandAware:o,position:c})})},isInRange:function(s){return w2(s,function(i,o){return r[o].isInRange(i)})}})};function lie(e){return(e%180+180)%180}var uie=function(t){var r=t.width,n=t.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=lie(s),o=i*Math.PI/180,c=Math.atan(n/r),l=o>c&&o<Math.PI-c?n/Math.sin(o):r/Math.cos(o);return Math.abs(l)},die=Jn,fie=Tl,hie=qf;function mie(e){return function(t,r,n){var s=Object(t);if(!fie(t)){var i=die(r);t=hie(t),r=function(c){return i(s[c],c,s)}}var o=e(t,r,n);return o>-1?s[i?t[o]:o]:void 0}}var pie=mie,gie=x2;function vie(e){var t=gie(e),r=t%1;return t===t?r?t-r:t:0}var xie=vie,yie=N_,bie=Jn,jie=xie,wie=Math.max;function Nie(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var s=r==null?0:jie(r);return s<0&&(s=wie(n+s,0)),yie(e,bie(t),s)}var Sie=Nie,Aie=pie,Oie=Sie,_ie=Aie(Oie),Pie=_ie;const Cie=xt(Pie);var kie=OB(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),mx=g.createContext(void 0),px=g.createContext(void 0),C2=g.createContext(void 0),k2=g.createContext({}),T2=g.createContext(void 0),E2=g.createContext(0),$2=g.createContext(0),Bw=function(t){var r=t.state,n=r.xAxisMap,s=r.yAxisMap,i=r.offset,o=t.clipPathId,c=t.children,l=t.width,u=t.height,d=kie(i);return D.createElement(mx.Provider,{value:n},D.createElement(px.Provider,{value:s},D.createElement(k2.Provider,{value:i},D.createElement(C2.Provider,{value:d},D.createElement(T2.Provider,{value:o},D.createElement(E2.Provider,{value:u},D.createElement($2.Provider,{value:l},c)))))))},Tie=function(){return g.useContext(T2)},D2=function(t){var r=g.useContext(mx);r==null&&Zs();var n=r[t];return n==null&&Zs(),n},Eie=function(){var t=g.useContext(mx);return La(t)},$ie=function(){var t=g.useContext(px),r=Cie(t,function(n){return w2(n.domain,Number.isFinite)});return r||La(t)},I2=function(t){var r=g.useContext(px);r==null&&Zs();var n=r[t];return n==null&&Zs(),n},Die=function(){var t=g.useContext(C2);return t},Iie=function(){return g.useContext(k2)},gx=function(){return g.useContext($2)},vx=function(){return g.useContext(E2)};function io(e){"@babel/helpers - typeof";return io=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},io(e)}function Mie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rie(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,R2(n.key),n)}}function Lie(e,t,r){return t&&Rie(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fie(e,t,r){return t=Vd(t),Bie(e,M2()?Reflect.construct(t,r||[],Vd(e).constructor):t.apply(e,r))}function Bie(e,t){if(t&&(io(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vie(e)}function Vie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M2=function(){return!!e})()}function Vd(e){return Vd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vd(e)}function zie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lg(e,t)}function lg(e,t){return lg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},lg(e,t)}function Vw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function zw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vw(Object(r),!0).forEach(function(n){xx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xx(e,t,r){return t=R2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R2(e){var t=Uie(e,"string");return io(t)=="symbol"?t:t+""}function Uie(e,t){if(io(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(io(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Wie(e,t){return Gie(e)||Kie(e,t)||qie(e,t)||Hie()}function Hie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qie(e,t){if(e){if(typeof e=="string")return Uw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Uw(e,t)}}function Uw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Kie(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(d){u=!0,s=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return c}}function Gie(e){if(Array.isArray(e))return e}function ug(){return ug=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ug.apply(this,arguments)}var Zie=function(t,r){var n;return D.isValidElement(t)?n=D.cloneElement(t,r):We(t)?n=t(r):n=D.createElement("line",ug({},r,{className:"recharts-reference-line-line"})),n},Xie=function(t,r,n,s,i,o,c,l,u){var d=i.x,f=i.y,h=i.width,p=i.height;if(n){var v=u.y,m=t.y.apply(v,{position:o});if(Bn(u,"discard")&&!t.y.isInRange(m))return null;var x=[{x:d+h,y:m},{x:d,y:m}];return l==="left"?x.reverse():x}if(r){var b=u.x,y=t.x.apply(b,{position:o});if(Bn(u,"discard")&&!t.x.isInRange(y))return null;var j=[{x:y,y:f+p},{x:y,y:f}];return c==="top"?j.reverse():j}if(s){var S=u.segment,N=S.map(function(w){return t.apply(w,{position:o})});return Bn(u,"discard")&&bse(N,function(w){return!t.isInRange(w)})?null:N}return null};function Yie(e){var t=e.x,r=e.y,n=e.segment,s=e.xAxisId,i=e.yAxisId,o=e.shape,c=e.className,l=e.alwaysShow,u=Tie(),d=D2(s),f=I2(i),h=Die();if(!u||!h)return null;xn(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=hx({x:d.scale,y:f.scale}),v=Xt(t),m=Xt(r),x=n&&n.length===2,b=Xie(p,v,m,x,h,e.position,d.orientation,f.orientation,e);if(!b)return null;var y=Wie(b,2),j=y[0],S=j.x,N=j.y,w=y[1],A=w.x,O=w.y,_=Bn(e,"hidden")?"url(#".concat(u,")"):void 0,C=zw(zw({clipPath:_},Fe(e,!0)),{},{x1:S,y1:N,x2:A,y2:O});return D.createElement(st,{className:Ze("recharts-reference-line",c)},Zie(o,C),tr.renderCallByParent(e,cie({x1:S,y1:N,x2:A,y2:O})))}var yx=function(e){function t(){return Mie(this,t),Fie(this,t,arguments)}return zie(t,e),Lie(t,[{key:"render",value:function(){return D.createElement(Yie,this.props)}}])}(D.Component);xx(yx,"displayName","ReferenceLine");xx(yx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function dg(){return dg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dg.apply(this,arguments)}function oo(e){"@babel/helpers - typeof";return oo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oo(e)}function Ww(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Hw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ww(Object(r),!0).forEach(function(n){fh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ww(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qie(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,F2(n.key),n)}}function eoe(e,t,r){return t&&Qie(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function toe(e,t,r){return t=zd(t),roe(e,L2()?Reflect.construct(t,r||[],zd(e).constructor):t.apply(e,r))}function roe(e,t){if(t&&(oo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return noe(e)}function noe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L2=function(){return!!e})()}function zd(e){return zd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zd(e)}function aoe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fg(e,t)}function fg(e,t){return fg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},fg(e,t)}function fh(e,t,r){return t=F2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F2(e){var t=soe(e,"string");return oo(t)=="symbol"?t:t+""}function soe(e,t){if(oo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(oo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ioe=function(t){var r=t.x,n=t.y,s=t.xAxis,i=t.yAxis,o=hx({x:s.scale,y:i.scale}),c=o.apply({x:r,y:n},{bandAware:!0});return Bn(t,"discard")&&!o.isInRange(c)?null:c},hh=function(e){function t(){return Jie(this,t),toe(this,t,arguments)}return aoe(t,e),eoe(t,[{key:"render",value:function(){var n=this.props,s=n.x,i=n.y,o=n.r,c=n.alwaysShow,l=n.clipPathId,u=Xt(s),d=Xt(i);if(xn(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=ioe(this.props);if(!f)return null;var h=f.x,p=f.y,v=this.props,m=v.shape,x=v.className,b=Bn(this.props,"hidden")?"url(#".concat(l,")"):void 0,y=Hw(Hw({clipPath:b},Fe(this.props,!0)),{},{cx:h,cy:p});return D.createElement(st,{className:Ze("recharts-reference-dot",x)},t.renderDot(m,y),tr.renderCallByParent(this.props,{x:h-o,y:p-o,width:2*o,height:2*o}))}}])}(D.Component);fh(hh,"displayName","ReferenceDot");fh(hh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});fh(hh,"renderDot",function(e,t){var r;return D.isValidElement(e)?r=D.cloneElement(e,t):We(e)?r=e(t):r=D.createElement(Rl,dg({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function hg(){return hg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hg.apply(this,arguments)}function co(e){"@babel/helpers - typeof";return co=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},co(e)}function qw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Kw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qw(Object(r),!0).forEach(function(n){mh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ooe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function coe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,V2(n.key),n)}}function loe(e,t,r){return t&&coe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function uoe(e,t,r){return t=Ud(t),doe(e,B2()?Reflect.construct(t,r||[],Ud(e).constructor):t.apply(e,r))}function doe(e,t){if(t&&(co(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return foe(e)}function foe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B2=function(){return!!e})()}function Ud(e){return Ud=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ud(e)}function hoe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mg(e,t)}function mg(e,t){return mg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},mg(e,t)}function mh(e,t,r){return t=V2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V2(e){var t=moe(e,"string");return co(t)=="symbol"?t:t+""}function moe(e,t){if(co(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(co(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var poe=function(t,r,n,s,i){var o=i.x1,c=i.x2,l=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var h=hx({x:d.scale,y:f.scale}),p={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},v={x:r?h.x.apply(c,{position:"end"}):h.x.rangeMax,y:s?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Bn(i,"discard")&&(!h.isInRange(p)||!h.isInRange(v))?null:_2(p,v)},ph=function(e){function t(){return ooe(this,t),uoe(this,t,arguments)}return hoe(t,e),loe(t,[{key:"render",value:function(){var n=this.props,s=n.x1,i=n.x2,o=n.y1,c=n.y2,l=n.className,u=n.alwaysShow,d=n.clipPathId;xn(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Xt(s),h=Xt(i),p=Xt(o),v=Xt(c),m=this.props.shape;if(!f&&!h&&!p&&!v&&!m)return null;var x=poe(f,h,p,v,this.props);if(!x&&!m)return null;var b=Bn(this.props,"hidden")?"url(#".concat(d,")"):void 0;return D.createElement(st,{className:Ze("recharts-reference-area",l)},t.renderRect(m,Kw(Kw({clipPath:b},Fe(this.props,!0)),x)),tr.renderCallByParent(this.props,x))}}])}(D.Component);mh(ph,"displayName","ReferenceArea");mh(ph,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});mh(ph,"renderRect",function(e,t){var r;return D.isValidElement(e)?r=D.cloneElement(e,t):We(e)?r=e(t):r=D.createElement(dx,hg({},t,{className:"recharts-reference-area-rect"})),r});function z2(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],s=0;s<e.length;s+=t)n.push(e[s]);return n}function goe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return uie(n,r)}function voe(e,t,r){var n=r==="width",s=e.x,i=e.y,o=e.width,c=e.height;return t===1?{start:n?s:i,end:n?s+o:i+c}:{start:n?s+o:i+c,end:n?s:i}}function Wd(e,t,r,n,s){if(e*t<e*n||e*t>e*s)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-s)<=0}function xoe(e,t){return z2(e,t+1)}function yoe(e,t,r,n,s){for(var i=(n||[]).slice(),o=t.start,c=t.end,l=0,u=1,d=o,f=function(){var v=n==null?void 0:n[l];if(v===void 0)return{v:z2(n,u)};var m=l,x,b=function(){return x===void 0&&(x=r(v,m)),x},y=v.coordinate,j=l===0||Wd(e,y,b,d,c);j||(l=0,d=o,u+=1),j&&(d=y+e*(b()/2+s),l+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function yl(e){"@babel/helpers - typeof";return yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yl(e)}function Gw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ur(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gw(Object(r),!0).forEach(function(n){boe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function boe(e,t,r){return t=joe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function joe(e){var t=woe(e,"string");return yl(t)=="symbol"?t:t+""}function woe(e,t){if(yl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Noe(e,t,r,n,s){for(var i=(n||[]).slice(),o=i.length,c=t.start,l=t.end,u=function(h){var p=i[h],v,m=function(){return v===void 0&&(v=r(p,h)),v};if(h===o-1){var x=e*(p.coordinate+e*m()/2-l);i[h]=p=ur(ur({},p),{},{tickCoord:x>0?p.coordinate-x*e:p.coordinate})}else i[h]=p=ur(ur({},p),{},{tickCoord:p.coordinate});var b=Wd(e,p.tickCoord,m,c,l);b&&(l=p.tickCoord-e*(m()/2+s),i[h]=ur(ur({},p),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function Soe(e,t,r,n,s,i){var o=(n||[]).slice(),c=o.length,l=t.start,u=t.end;if(i){var d=n[c-1],f=r(d,c-1),h=e*(d.coordinate+e*f/2-u);o[c-1]=d=ur(ur({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var p=Wd(e,d.tickCoord,function(){return f},l,u);p&&(u=d.tickCoord-e*(f/2+s),o[c-1]=ur(ur({},d),{},{isShow:!0}))}for(var v=i?c-1:c,m=function(y){var j=o[y],S,N=function(){return S===void 0&&(S=r(j,y)),S};if(y===0){var w=e*(j.coordinate-e*N()/2-l);o[y]=j=ur(ur({},j),{},{tickCoord:w<0?j.coordinate-w*e:j.coordinate})}else o[y]=j=ur(ur({},j),{},{tickCoord:j.coordinate});var A=Wd(e,j.tickCoord,N,l,u);A&&(l=j.tickCoord+e*(N()/2+s),o[y]=ur(ur({},j),{},{isShow:!0}))},x=0;x<v;x++)m(x);return o}function bx(e,t,r){var n=e.tick,s=e.ticks,i=e.viewBox,o=e.minTickGap,c=e.orientation,l=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!s||!s.length||!n)return[];if(ve(l)||ss.isSsr)return xoe(s,typeof l=="number"&&ve(l)?l:0);var h=[],p=c==="top"||c==="bottom"?"width":"height",v=d&&p==="width"?mc(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(j,S){var N=We(u)?u(j.value,S):j.value;return p==="width"?goe(mc(N,{fontSize:t,letterSpacing:r}),v,f):mc(N,{fontSize:t,letterSpacing:r})[p]},x=s.length>=2?xr(s[1].coordinate-s[0].coordinate):1,b=voe(i,x,p);return l==="equidistantPreserveStart"?yoe(x,b,m,s,o):(l==="preserveStart"||l==="preserveStartEnd"?h=Soe(x,b,m,s,o,l==="preserveStartEnd"):h=Noe(x,b,m,s,o),h.filter(function(y){return y.isShow}))}var Aoe=["viewBox"],Ooe=["viewBox"],_oe=["ticks"];function lo(e){"@babel/helpers - typeof";return lo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lo(e)}function Ai(){return Ai=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ai.apply(this,arguments)}function Zw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function qt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zw(Object(r),!0).forEach(function(n){jx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mm(e,t){if(e==null)return{};var r=Poe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Poe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Coe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,W2(n.key),n)}}function koe(e,t,r){return t&&Xw(e.prototype,t),r&&Xw(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Toe(e,t,r){return t=Hd(t),Eoe(e,U2()?Reflect.construct(t,r||[],Hd(e).constructor):t.apply(e,r))}function Eoe(e,t){if(t&&(lo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $oe(e)}function $oe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(U2=function(){return!!e})()}function Hd(e){return Hd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hd(e)}function Doe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pg(e,t)}function pg(e,t){return pg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},pg(e,t)}function jx(e,t,r){return t=W2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W2(e){var t=Ioe(e,"string");return lo(t)=="symbol"?t:t+""}function Ioe(e,t){if(lo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Lo=function(e){function t(r){var n;return Coe(this,t),n=Toe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return Doe(t,e),koe(t,[{key:"shouldComponentUpdate",value:function(n,s){var i=n.viewBox,o=mm(n,Aoe),c=this.props,l=c.viewBox,u=mm(c,Ooe);return!Mi(i,l)||!Mi(o,u)||!Mi(s,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var s=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var s=this.props,i=s.x,o=s.y,c=s.width,l=s.height,u=s.orientation,d=s.tickSize,f=s.mirror,h=s.tickMargin,p,v,m,x,b,y,j=f?-1:1,S=n.tickSize||d,N=ve(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=v=n.coordinate,x=o+ +!f*l,m=x-j*S,y=m-j*h,b=N;break;case"left":m=x=n.coordinate,v=i+ +!f*c,p=v-j*S,b=p-j*h,y=N;break;case"right":m=x=n.coordinate,v=i+ +f*c,p=v+j*S,b=p+j*h,y=N;break;default:p=v=n.coordinate,x=o+ +f*l,m=x+j*S,y=m+j*h,b=N;break}return{line:{x1:p,y1:m,x2:v,y2:x},tick:{x:b,y}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o;switch(s){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o="end";switch(s){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,c=n.height,l=n.orientation,u=n.mirror,d=n.axisLine,f=qt(qt(qt({},Fe(this.props,!1)),Fe(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);f=qt(qt({},f),{},{x1:s,y1:i+h*c,x2:s+o,y2:i+h*c})}else{var p=+(l==="left"&&!u||l==="right"&&u);f=qt(qt({},f),{},{x1:s+p*o,y1:i,x2:s+p*o,y2:i+c})}return D.createElement("line",Ai({},f,{className:Ze("recharts-cartesian-axis-line",Vr(d,"className"))}))}},{key:"renderTicks",value:function(n,s,i){var o=this,c=this.props,l=c.tickLine,u=c.stroke,d=c.tick,f=c.tickFormatter,h=c.unit,p=bx(qt(qt({},this.props),{},{ticks:n}),s,i),v=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),x=Fe(this.props,!1),b=Fe(d,!1),y=qt(qt({},x),{},{fill:"none"},Fe(l,!1)),j=p.map(function(S,N){var w=o.getTickLineCoord(S),A=w.line,O=w.tick,_=qt(qt(qt(qt({textAnchor:v,verticalAnchor:m},x),{},{stroke:"none",fill:u},b),O),{},{index:N,payload:S,visibleTicksCount:p.length,tickFormatter:f});return D.createElement(st,Ai({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},Hs(o.props,S,N)),l&&D.createElement("line",Ai({},y,A,{className:Ze("recharts-cartesian-axis-tick-line",Vr(l,"className"))})),d&&t.renderTickItem(d,_,"".concat(We(f)?f(S.value,N):S.value).concat(h||"")))});return D.createElement("g",{className:"recharts-cartesian-axis-ticks"},j)}},{key:"render",value:function(){var n=this,s=this.props,i=s.axisLine,o=s.width,c=s.height,l=s.ticksGenerator,u=s.className,d=s.hide;if(d)return null;var f=this.props,h=f.ticks,p=mm(f,_oe),v=h;return We(l)&&(v=h&&h.length>0?l(this.props):l(p)),o<=0||c<=0||!v||!v.length?null:D.createElement(st,{className:Ze("recharts-cartesian-axis",u),ref:function(x){n.layerReference=x}},i&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),tr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,s,i){var o,c=Ze(s.className,"recharts-cartesian-axis-tick-value");return D.isValidElement(n)?o=D.cloneElement(n,qt(qt({},s),{},{className:c})):We(n)?o=n(qt(qt({},s),{},{className:c})):o=D.createElement(qs,Ai({},s,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(g.Component);jx(Lo,"displayName","CartesianAxis");jx(Lo,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Moe=["x1","y1","x2","y2","key"],Roe=["offset"];function Xs(e){"@babel/helpers - typeof";return Xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xs(e)}function Yw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function fr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yw(Object(r),!0).forEach(function(n){Loe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Loe(e,t,r){return t=Foe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Foe(e){var t=Boe(e,"string");return Xs(t)=="symbol"?t:t+""}function Boe(e,t){if(Xs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ss(){return Ss=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ss.apply(this,arguments)}function Jw(e,t){if(e==null)return{};var r=Voe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Voe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var zoe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,s=t.x,i=t.y,o=t.width,c=t.height,l=t.ry;return D.createElement("rect",{x:s,y:i,ry:l,width:o,height:c,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function H2(e,t){var r;if(D.isValidElement(e))r=D.cloneElement(e,t);else if(We(e))r=e(t);else{var n=t.x1,s=t.y1,i=t.x2,o=t.y2,c=t.key,l=Jw(t,Moe),u=Fe(l,!1);u.offset;var d=Jw(u,Roe);r=D.createElement("line",Ss({},d,{x1:n,y1:s,x2:i,y2:o,fill:"none",key:c}))}return r}function Uoe(e){var t=e.x,r=e.width,n=e.horizontal,s=n===void 0?!0:n,i=e.horizontalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(c,l){var u=fr(fr({},e),{},{x1:t,y1:c,x2:t+r,y2:c,key:"line-".concat(l),index:l});return H2(s,u)});return D.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Woe(e){var t=e.y,r=e.height,n=e.vertical,s=n===void 0?!0:n,i=e.verticalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(c,l){var u=fr(fr({},e),{},{x1:c,y1:t,x2:c,y2:t+r,key:"line-".concat(l),index:l});return H2(s,u)});return D.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Hoe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,s=e.y,i=e.width,o=e.height,c=e.horizontalPoints,l=e.horizontal,u=l===void 0?!0:l;if(!u||!t||!t.length)return null;var d=c.map(function(h){return Math.round(h+s-s)}).sort(function(h,p){return h-p});s!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var v=!d[p+1],m=v?s+o-h:d[p+1]-h;if(m<=0)return null;var x=p%t.length;return D.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:m,width:i,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return D.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function qoe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,s=e.fillOpacity,i=e.x,o=e.y,c=e.width,l=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var v=!d[p+1],m=v?i+c-h:d[p+1]-h;if(m<=0)return null;var x=p%n.length;return D.createElement("rect",{key:"react-".concat(p),x:h,y:o,width:m,height:l,stroke:"none",fill:n[x],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return D.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Koe=function(t,r){var n=t.xAxis,s=t.width,i=t.height,o=t.offset;return zP(bx(fr(fr(fr({},Lo.defaultProps),n),{},{ticks:da(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.left,o.left+o.width,r)},Goe=function(t,r){var n=t.yAxis,s=t.width,i=t.height,o=t.offset;return zP(bx(fr(fr(fr({},Lo.defaultProps),n),{},{ticks:da(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.top,o.top+o.height,r)},pi={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function xi(e){var t,r,n,s,i,o,c=gx(),l=vx(),u=Iie(),d=fr(fr({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:pi.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:pi.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:pi.horizontal,horizontalFill:(s=e.horizontalFill)!==null&&s!==void 0?s:pi.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:pi.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:pi.verticalFill,x:ve(e.x)?e.x:u.left,y:ve(e.y)?e.y:u.top,width:ve(e.width)?e.width:u.width,height:ve(e.height)?e.height:u.height}),f=d.x,h=d.y,p=d.width,v=d.height,m=d.syncWithTicks,x=d.horizontalValues,b=d.verticalValues,y=Eie(),j=$ie();if(!ve(p)||p<=0||!ve(v)||v<=0||!ve(f)||f!==+f||!ve(h)||h!==+h)return null;var S=d.verticalCoordinatesGenerator||Koe,N=d.horizontalCoordinatesGenerator||Goe,w=d.horizontalPoints,A=d.verticalPoints;if((!w||!w.length)&&We(N)){var O=x&&x.length,_=N({yAxis:j?fr(fr({},j),{},{ticks:O?x:j.ticks}):void 0,width:c,height:l,offset:u},O?!0:m);xn(Array.isArray(_),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Xs(_),"]")),Array.isArray(_)&&(w=_)}if((!A||!A.length)&&We(S)){var C=b&&b.length,P=S({xAxis:y?fr(fr({},y),{},{ticks:C?b:y.ticks}):void 0,width:c,height:l,offset:u},C?!0:m);xn(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Xs(P),"]")),Array.isArray(P)&&(A=P)}return D.createElement("g",{className:"recharts-cartesian-grid"},D.createElement(zoe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),D.createElement(Uoe,Ss({},d,{offset:u,horizontalPoints:w,xAxis:y,yAxis:j})),D.createElement(Woe,Ss({},d,{offset:u,verticalPoints:A,xAxis:y,yAxis:j})),D.createElement(Hoe,Ss({},d,{horizontalPoints:w})),D.createElement(qoe,Ss({},d,{verticalPoints:A})))}xi.displayName="CartesianGrid";var Zoe=["type","layout","connectNulls","ref"],Xoe=["key"];function uo(e){"@babel/helpers - typeof";return uo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uo(e)}function Qw(e,t){if(e==null)return{};var r=Yoe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Yoe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function bc(){return bc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bc.apply(this,arguments)}function e1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Tr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e1(Object(r),!0).forEach(function(n){hn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gi(e){return tce(e)||ece(e)||Qoe(e)||Joe()}function Joe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qoe(e,t){if(e){if(typeof e=="string")return gg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gg(e,t)}}function ece(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tce(e){if(Array.isArray(e))return gg(e)}function gg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t1(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,K2(n.key),n)}}function nce(e,t,r){return t&&t1(e.prototype,t),r&&t1(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ace(e,t,r){return t=qd(t),sce(e,q2()?Reflect.construct(t,r||[],qd(e).constructor):t.apply(e,r))}function sce(e,t){if(t&&(uo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ice(e)}function ice(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q2=function(){return!!e})()}function qd(e){return qd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qd(e)}function oce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vg(e,t)}function vg(e,t){return vg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},vg(e,t)}function hn(e,t,r){return t=K2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K2(e){var t=cce(e,"string");return uo(t)=="symbol"?t:t+""}function cce(e,t){if(uo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(uo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var $s=function(e){function t(){var r;rce(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=ace(this,t,[].concat(s)),hn(r,"state",{isAnimationFinished:!0,totalLength:0}),hn(r,"generateSimpleStrokeDasharray",function(o,c){return"".concat(c,"px ").concat(o-c,"px")}),hn(r,"getStrokeDasharray",function(o,c,l){var u=l.reduce(function(b,y){return b+y});if(!u)return r.generateSimpleStrokeDasharray(c,o);for(var d=Math.floor(o/u),f=o%u,h=c-o,p=[],v=0,m=0;v<l.length;m+=l[v],++v)if(m+l[v]>f){p=[].concat(gi(l.slice(0,v)),[f-m]);break}var x=p.length%2===0?[0,h]:[h];return[].concat(gi(t.repeat(l,d)),gi(p),x).map(function(b){return"".concat(b,"px")}).join(", ")}),hn(r,"id",si("recharts-line-")),hn(r,"pathRef",function(o){r.mainCurve=o}),hn(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),hn(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return oce(t,e),nce(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,c=i.xAxis,l=i.yAxis,u=i.layout,d=i.children,f=zr(d,Ml);if(!f)return null;var h=function(m,x){return{x:m.x,y:m.y,value:m.value,errorVal:Rt(m.payload,x)}},p={clipPath:n?"url(#clipPath-".concat(s,")"):null};return D.createElement(st,p,f.map(function(v){return D.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:o,xAxis:c,yAxis:l,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,s,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var c=this.props,l=c.dot,u=c.points,d=c.dataKey,f=Fe(this.props,!1),h=Fe(l,!0),p=u.map(function(m,x){var b=Tr(Tr(Tr({key:"dot-".concat(x),r:3},f),h),{},{index:x,cx:m.x,cy:m.y,value:m.value,dataKey:d,payload:m.payload,points:u});return t.renderDotItem(l,b)}),v={clipPath:n?"url(#clipPath-".concat(s?"":"dots-").concat(i,")"):null};return D.createElement(st,bc({className:"recharts-line-dots",key:"dots"},v),p)}},{key:"renderCurveStatically",value:function(n,s,i,o){var c=this.props,l=c.type,u=c.layout,d=c.connectNulls;c.ref;var f=Qw(c,Zoe),h=Tr(Tr(Tr({},Fe(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:s?"url(#clipPath-".concat(i,")"):null,points:n},o),{},{type:l,layout:u,connectNulls:d});return D.createElement(Es,bc({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,s){var i=this,o=this.props,c=o.points,l=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,p=o.animationId,v=o.animateNewValues,m=o.width,x=o.height,b=this.state,y=b.prevPoints,j=b.totalLength;return D.createElement(wn,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var N=S.t;if(y){var w=y.length/c.length,A=c.map(function(k,T){var E=Math.floor(T*w);if(y[E]){var I=y[E],F=Zt(I.x,k.x),$=Zt(I.y,k.y);return Tr(Tr({},k),{},{x:F(N),y:$(N)})}if(v){var q=Zt(m*2,k.x),M=Zt(x/2,k.y);return Tr(Tr({},k),{},{x:q(N),y:M(N)})}return Tr(Tr({},k),{},{x:k.x,y:k.y})});return i.renderCurveStatically(A,n,s)}var O=Zt(0,j),_=O(N),C;if(l){var P="".concat(l).split(/[,\s]+/gim).map(function(k){return parseFloat(k)});C=i.getStrokeDasharray(_,j,P)}else C=i.generateSimpleStrokeDasharray(j,_);return i.renderCurveStatically(c,n,s,{strokeDasharray:C})})}},{key:"renderCurve",value:function(n,s){var i=this.props,o=i.points,c=i.isAnimationActive,l=this.state,u=l.prevPoints,d=l.totalLength;return c&&o&&o.length&&(!u&&d>0||!Ks(u,o))?this.renderCurveWithAnimation(n,s):this.renderCurveStatically(o,n,s)}},{key:"render",value:function(){var n,s=this.props,i=s.hide,o=s.dot,c=s.points,l=s.className,u=s.xAxis,d=s.yAxis,f=s.top,h=s.left,p=s.width,v=s.height,m=s.isAnimationActive,x=s.id;if(i||!c||!c.length)return null;var b=this.state.isAnimationFinished,y=c.length===1,j=Ze("recharts-line",l),S=u&&u.allowDataOverflow,N=d&&d.allowDataOverflow,w=S||N,A=Ge(x)?this.id:x,O=(n=Fe(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},_=O.r,C=_===void 0?3:_,P=O.strokeWidth,k=P===void 0?2:P,T=DO(o)?o:{},E=T.clipDot,I=E===void 0?!0:E,F=C*2+k;return D.createElement(st,{className:j},S||N?D.createElement("defs",null,D.createElement("clipPath",{id:"clipPath-".concat(A)},D.createElement("rect",{x:S?h:h-p/2,y:N?f:f-v/2,width:S?p:p*2,height:N?v:v*2})),!I&&D.createElement("clipPath",{id:"clipPath-dots-".concat(A)},D.createElement("rect",{x:h-F/2,y:f-F/2,width:p+F,height:v+F}))):null,!y&&this.renderCurve(w,A),this.renderErrorBar(w,A),(y||o)&&this.renderDots(w,I,A),(!m||b)&&Fn.renderCallByParent(this.props,c))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:s.curPoints}:n.points!==s.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,s){for(var i=n.length%2!==0?[].concat(gi(n),[0]):n,o=[],c=0;c<s;++c)o=[].concat(gi(o),gi(i));return o}},{key:"renderDotItem",value:function(n,s){var i;if(D.isValidElement(n))i=D.cloneElement(n,s);else if(We(n))i=n(s);else{var o=s.key,c=Qw(s,Xoe),l=Ze("recharts-line-dot",typeof n!="boolean"?n.className:"");i=D.createElement(Rl,bc({key:o},c,{className:l}))}return i}}])}(g.PureComponent);hn($s,"displayName","Line");hn($s,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!ss.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});hn($s,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,s=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,c=e.bandSize,l=e.displayedData,u=e.offset,d=t.layout,f=l.map(function(h,p){var v=Rt(h,o);return d==="horizontal"?{x:Nd({axis:r,ticks:s,bandSize:c,entry:h,index:p}),y:Ge(v)?null:n.scale(v),value:v,payload:h}:{x:Ge(v)?null:r.scale(v),y:Nd({axis:n,ticks:i,bandSize:c,entry:h,index:p}),value:v,payload:h}});return Tr({points:f,layout:d},u)});var lce=["layout","type","stroke","connectNulls","isRange","ref"],uce=["key"],G2;function fo(e){"@babel/helpers - typeof";return fo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fo(e)}function Z2(e,t){if(e==null)return{};var r=dce(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dce(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function As(){return As=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},As.apply(this,arguments)}function r1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function $a(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r1(Object(r),!0).forEach(function(n){In(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n1(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Y2(n.key),n)}}function hce(e,t,r){return t&&n1(e.prototype,t),r&&n1(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function mce(e,t,r){return t=Kd(t),pce(e,X2()?Reflect.construct(t,r||[],Kd(e).constructor):t.apply(e,r))}function pce(e,t){if(t&&(fo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gce(e)}function gce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(X2=function(){return!!e})()}function Kd(e){return Kd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kd(e)}function vce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xg(e,t)}function xg(e,t){return xg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},xg(e,t)}function In(e,t,r){return t=Y2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y2(e){var t=xce(e,"string");return fo(t)=="symbol"?t:t+""}function xce(e,t){if(fo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Vn=function(e){function t(){var r;fce(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=mce(this,t,[].concat(s)),In(r,"state",{isAnimationFinished:!0}),In(r,"id",si("recharts-area-")),In(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),We(o)&&o()}),In(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),We(o)&&o()}),r}return vce(t,e),hce(t,[{key:"renderDots",value:function(n,s,i){var o=this.props.isAnimationActive,c=this.state.isAnimationFinished;if(o&&!c)return null;var l=this.props,u=l.dot,d=l.points,f=l.dataKey,h=Fe(this.props,!1),p=Fe(u,!0),v=d.map(function(x,b){var y=$a($a($a({key:"dot-".concat(b),r:3},h),p),{},{index:b,cx:x.x,cy:x.y,dataKey:f,value:x.value,payload:x.payload,points:d});return t.renderDotItem(u,y)}),m={clipPath:n?"url(#clipPath-".concat(s?"":"dots-").concat(i,")"):null};return D.createElement(st,As({className:"recharts-area-dots"},m),v)}},{key:"renderHorizontalRect",value:function(n){var s=this.props,i=s.baseLine,o=s.points,c=s.strokeWidth,l=o[0].x,u=o[o.length-1].x,d=n*Math.abs(l-u),f=Ba(o.map(function(h){return h.y||0}));return ve(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(Ba(i.map(function(h){return h.y||0})),f)),ve(f)?D.createElement("rect",{x:l<u?l:l-d,y:0,width:d,height:Math.floor(f+(c?parseInt("".concat(c),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var s=this.props,i=s.baseLine,o=s.points,c=s.strokeWidth,l=o[0].y,u=o[o.length-1].y,d=n*Math.abs(l-u),f=Ba(o.map(function(h){return h.x||0}));return ve(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(Ba(i.map(function(h){return h.x||0})),f)),ve(f)?D.createElement("rect",{x:0,y:l<u?l:l-d,width:f+(c?parseInt("".concat(c),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var s=this.props.layout;return s==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,s,i,o){var c=this.props,l=c.layout,u=c.type,d=c.stroke,f=c.connectNulls,h=c.isRange;c.ref;var p=Z2(c,lce);return D.createElement(st,{clipPath:i?"url(#clipPath-".concat(o,")"):null},D.createElement(Es,As({},Fe(p,!0),{points:n,connectNulls:f,type:u,baseLine:s,layout:l,stroke:"none",className:"recharts-area-area"})),d!=="none"&&D.createElement(Es,As({},Fe(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:n})),d!=="none"&&h&&D.createElement(Es,As({},Fe(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:s})))}},{key:"renderAreaWithAnimation",value:function(n,s){var i=this,o=this.props,c=o.points,l=o.baseLine,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,p=o.animationId,v=this.state,m=v.prevPoints,x=v.prevBaseLine;return D.createElement(wn,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var y=b.t;if(m){var j=m.length/c.length,S=c.map(function(O,_){var C=Math.floor(_*j);if(m[C]){var P=m[C],k=Zt(P.x,O.x),T=Zt(P.y,O.y);return $a($a({},O),{},{x:k(y),y:T(y)})}return O}),N;if(ve(l)&&typeof l=="number"){var w=Zt(x,l);N=w(y)}else if(Ge(l)||To(l)){var A=Zt(x,0);N=A(y)}else N=l.map(function(O,_){var C=Math.floor(_*j);if(x[C]){var P=x[C],k=Zt(P.x,O.x),T=Zt(P.y,O.y);return $a($a({},O),{},{x:k(y),y:T(y)})}return O});return i.renderAreaStatically(S,N,n,s)}return D.createElement(st,null,D.createElement("defs",null,D.createElement("clipPath",{id:"animationClipPath-".concat(s)},i.renderClipRect(y))),D.createElement(st,{clipPath:"url(#animationClipPath-".concat(s,")")},i.renderAreaStatically(c,l,n,s)))})}},{key:"renderArea",value:function(n,s){var i=this.props,o=i.points,c=i.baseLine,l=i.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return l&&o&&o.length&&(!d&&h>0||!Ks(d,o)||!Ks(f,c))?this.renderAreaWithAnimation(n,s):this.renderAreaStatically(o,c,n,s)}},{key:"render",value:function(){var n,s=this.props,i=s.hide,o=s.dot,c=s.points,l=s.className,u=s.top,d=s.left,f=s.xAxis,h=s.yAxis,p=s.width,v=s.height,m=s.isAnimationActive,x=s.id;if(i||!c||!c.length)return null;var b=this.state.isAnimationFinished,y=c.length===1,j=Ze("recharts-area",l),S=f&&f.allowDataOverflow,N=h&&h.allowDataOverflow,w=S||N,A=Ge(x)?this.id:x,O=(n=Fe(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},_=O.r,C=_===void 0?3:_,P=O.strokeWidth,k=P===void 0?2:P,T=DO(o)?o:{},E=T.clipDot,I=E===void 0?!0:E,F=C*2+k;return D.createElement(st,{className:j},S||N?D.createElement("defs",null,D.createElement("clipPath",{id:"clipPath-".concat(A)},D.createElement("rect",{x:S?d:d-p/2,y:N?u:u-v/2,width:S?p:p*2,height:N?v:v*2})),!I&&D.createElement("clipPath",{id:"clipPath-dots-".concat(A)},D.createElement("rect",{x:d-F/2,y:u-F/2,width:p+F,height:v+F}))):null,y?null:this.renderArea(w,A),(o||y)&&this.renderDots(w,I,A),(!m||b)&&Fn.renderCallByParent(this.props,c))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:s.curPoints,prevBaseLine:s.curBaseLine}:n.points!==s.curPoints||n.baseLine!==s.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(g.PureComponent);G2=Vn;In(Vn,"displayName","Area");In(Vn,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!ss.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});In(Vn,"getBaseValue",function(e,t,r,n){var s=e.layout,i=e.baseValue,o=t.props.baseValue,c=o??i;if(ve(c)&&typeof c=="number")return c;var l=s==="horizontal"?n:r,u=l.scale.domain();if(l.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return c==="dataMin"?f:c==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return c==="dataMin"?u[0]:c==="dataMax"?u[1]:u[0]});In(Vn,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,s=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,c=e.bandSize,l=e.dataKey,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=t.layout,v=u&&u.length,m=G2.getBaseValue(t,r,n,s),x=p==="horizontal",b=!1,y=f.map(function(S,N){var w;v?w=u[d+N]:(w=Rt(S,l),Array.isArray(w)?b=!0:w=[m,w]);var A=w[1]==null||v&&Rt(S,l)==null;return x?{x:Nd({axis:n,ticks:i,bandSize:c,entry:S,index:N}),y:A?null:s.scale(w[1]),value:w,payload:S}:{x:A?null:n.scale(w[1]),y:Nd({axis:s,ticks:o,bandSize:c,entry:S,index:N}),value:w,payload:S}}),j;return v||b?j=y.map(function(S){var N=Array.isArray(S.value)?S.value[0]:null;return x?{x:S.x,y:N!=null&&S.y!=null?s.scale(N):null}:{x:N!=null?n.scale(N):null,y:S.y}}):j=x?s.scale(m):n.scale(m),$a({points:y,baseLine:j,layout:p,isRange:b},h)});In(Vn,"renderDotItem",function(e,t){var r;if(D.isValidElement(e))r=D.cloneElement(e,t);else if(We(e))r=e(t);else{var n=Ze("recharts-area-dot",typeof e!="boolean"?e.className:""),s=t.key,i=Z2(t,uce);r=D.createElement(Rl,As({},i,{key:s,className:n}))}return r});function ho(e){"@babel/helpers - typeof";return ho=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ho(e)}function yce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bce(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eC(n.key),n)}}function jce(e,t,r){return t&&bce(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function wce(e,t,r){return t=Gd(t),Nce(e,J2()?Reflect.construct(t,r||[],Gd(e).constructor):t.apply(e,r))}function Nce(e,t){if(t&&(ho(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sce(e)}function Sce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function J2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J2=function(){return!!e})()}function Gd(e){return Gd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gd(e)}function Ace(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yg(e,t)}function yg(e,t){return yg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},yg(e,t)}function Q2(e,t,r){return t=eC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eC(e){var t=Oce(e,"string");return ho(t)=="symbol"?t:t+""}function Oce(e,t){if(ho(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ho(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function bg(){return bg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bg.apply(this,arguments)}function _ce(e){var t=e.xAxisId,r=gx(),n=vx(),s=D2(t);return s==null?null:g.createElement(Lo,bg({},s,{className:Ze("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return da(o,!0)}}))}var Tn=function(e){function t(){return yce(this,t),wce(this,t,arguments)}return Ace(t,e),jce(t,[{key:"render",value:function(){return g.createElement(_ce,this.props)}}])}(g.Component);Q2(Tn,"displayName","XAxis");Q2(Tn,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function mo(e){"@babel/helpers - typeof";return mo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mo(e)}function Pce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cce(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nC(n.key),n)}}function kce(e,t,r){return t&&Cce(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Tce(e,t,r){return t=Zd(t),Ece(e,tC()?Reflect.construct(t,r||[],Zd(e).constructor):t.apply(e,r))}function Ece(e,t){if(t&&(mo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $ce(e)}function $ce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tC=function(){return!!e})()}function Zd(e){return Zd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zd(e)}function Dce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jg(e,t)}function jg(e,t){return jg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},jg(e,t)}function rC(e,t,r){return t=nC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nC(e){var t=Ice(e,"string");return mo(t)=="symbol"?t:t+""}function Ice(e,t){if(mo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function wg(){return wg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wg.apply(this,arguments)}var Mce=function(t){var r=t.yAxisId,n=gx(),s=vx(),i=I2(r);return i==null?null:g.createElement(Lo,wg({},i,{className:Ze("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(c){return da(c,!0)}}))},En=function(e){function t(){return Pce(this,t),Tce(this,t,arguments)}return Dce(t,e),kce(t,[{key:"render",value:function(){return g.createElement(Mce,this.props)}}])}(g.Component);rC(En,"displayName","YAxis");rC(En,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function a1(e){return Bce(e)||Fce(e)||Lce(e)||Rce()}function Rce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lce(e,t){if(e){if(typeof e=="string")return Ng(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ng(e,t)}}function Fce(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Bce(e){if(Array.isArray(e))return Ng(e)}function Ng(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Sg=function(t,r,n,s,i){var o=zr(t,yx),c=zr(t,hh),l=[].concat(a1(o),a1(c)),u=zr(t,ph),d="".concat(s,"Id"),f=s[0],h=r;if(l.length&&(h=l.reduce(function(m,x){if(x.props[d]===n&&Bn(x.props,"extendDomain")&&ve(x.props[f])){var b=x.props[f];return[Math.min(m[0],b),Math.max(m[1],b)]}return m},h)),u.length){var p="".concat(f,"1"),v="".concat(f,"2");h=u.reduce(function(m,x){if(x.props[d]===n&&Bn(x.props,"extendDomain")&&ve(x.props[p])&&ve(x.props[v])){var b=x.props[p],y=x.props[v];return[Math.min(m[0],b,y),Math.max(m[1],b,y)]}return m},h)}return i&&i.length&&(h=i.reduce(function(m,x){return ve(x)?[Math.min(m[0],x),Math.max(m[1],x)]:m},h)),h},aC={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function i(l,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new s(d,f||l,h),v=r?r+u:u;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],p]:l._events[v].push(p):(l._events[v]=p,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function c(){this._events=new n,this._eventsCount=0}c.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},c.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,v=new Array(p);h<p;h++)v[h]=f[h].fn;return v},c.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},c.prototype.emit=function(u,d,f,h,p,v){var m=r?r+u:u;if(!this._events[m])return!1;var x=this._events[m],b=arguments.length,y,j;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),b){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,f),!0;case 4:return x.fn.call(x.context,d,f,h),!0;case 5:return x.fn.call(x.context,d,f,h,p),!0;case 6:return x.fn.call(x.context,d,f,h,p,v),!0}for(j=1,y=new Array(b-1);j<b;j++)y[j-1]=arguments[j];x.fn.apply(x.context,y)}else{var S=x.length,N;for(j=0;j<S;j++)switch(x[j].once&&this.removeListener(u,x[j].fn,void 0,!0),b){case 1:x[j].fn.call(x[j].context);break;case 2:x[j].fn.call(x[j].context,d);break;case 3:x[j].fn.call(x[j].context,d,f);break;case 4:x[j].fn.call(x[j].context,d,f,h);break;default:if(!y)for(N=1,y=new Array(b-1);N<b;N++)y[N-1]=arguments[N];x[j].fn.apply(x[j].context,y)}}return!0},c.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},c.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},c.prototype.removeListener=function(u,d,f,h){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return o(this,p),this;var v=this._events[p];if(v.fn)v.fn===d&&(!h||v.once)&&(!f||v.context===f)&&o(this,p);else{for(var m=0,x=[],b=v.length;m<b;m++)(v[m].fn!==d||h&&!v[m].once||f&&v[m].context!==f)&&x.push(v[m]);x.length?this._events[p]=x.length===1?x[0]:x:o(this,p)}return this},c.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=r,c.EventEmitter=c,e.exports=c})(aC);var Vce=aC.exports;const zce=xt(Vce);var pm=new zce,gm="recharts.syncMouseEvents";function bl(e){"@babel/helpers - typeof";return bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bl(e)}function Uce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wce(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sC(n.key),n)}}function Hce(e,t,r){return t&&Wce(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function vm(e,t,r){return t=sC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sC(e){var t=qce(e,"string");return bl(t)=="symbol"?t:t+""}function qce(e,t){if(bl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Kce=function(){function e(){Uce(this,e),vm(this,"activeIndex",0),vm(this,"coordinateList",[]),vm(this,"layout","horizontal")}return Hce(e,[{key:"setDetails",value:function(r){var n,s=r.coordinateList,i=s===void 0?null:s,o=r.container,c=o===void 0?null:o,l=r.layout,u=l===void 0?null:l,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=c??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),i=s.x,o=s.y,c=s.height,l=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+l+u,h=o+this.offset.top+c/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function Gce(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],s=e==null?void 0:e[1];if(n&&s&&ve(n)&&ve(s))return!0}return!1}function Zce(e,t,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function iC(e){var t=e.cx,r=e.cy,n=e.radius,s=e.startAngle,i=e.endAngle,o=St(t,r,n,s),c=St(t,r,n,i);return{points:[o,c],cx:t,cy:r,radius:n,startAngle:s,endAngle:i}}function Xce(e,t,r){var n,s,i,o;if(e==="horizontal")n=t.x,i=n,s=r.top,o=r.top+r.height;else if(e==="vertical")s=t.y,o=s,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var c=t.cx,l=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=St(c,l,u,f),p=St(c,l,d,f);n=h.x,s=h.y,i=p.x,o=p.y}else return iC(t);return[{x:n,y:s},{x:i,y:o}]}function jl(e){"@babel/helpers - typeof";return jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jl(e)}function s1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function iu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s1(Object(r),!0).forEach(function(n){Yce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yce(e,t,r){return t=Jce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jce(e){var t=Qce(e,"string");return jl(t)=="symbol"?t:t+""}function Qce(e,t){if(jl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ele(e){var t,r,n=e.element,s=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,c=e.activePayload,l=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!i||!o||h!=="ScatterChart"&&s!=="axis")return null;var v,m=Es;if(h==="ScatterChart")v=o,m=cne;else if(h==="BarChart")v=Zce(f,o,l,d),m=dx;else if(f==="radial"){var x=iC(o),b=x.cx,y=x.cy,j=x.radius,S=x.startAngle,N=x.endAngle;v={cx:b,cy:y,startAngle:S,endAngle:N,innerRadius:j,outerRadius:j},m=QP}else v={points:Xce(f,o,l)},m=Es;var w=iu(iu(iu(iu({stroke:"#ccc",pointerEvents:"none"},l),v),Fe(p,!1)),{},{payload:c,payloadIndex:u,className:Ze("recharts-tooltip-cursor",p.className)});return g.isValidElement(p)?g.cloneElement(p,w):g.createElement(m,w)}var tle=["item"],rle=["children","className","width","height","style","compact","title","desc"];function po(e){"@babel/helpers - typeof";return po=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},po(e)}function Oi(){return Oi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oi.apply(this,arguments)}function i1(e,t){return sle(e)||ale(e,t)||cC(e,t)||nle()}function nle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ale(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(d){u=!0,s=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return c}}function sle(e){if(Array.isArray(e))return e}function o1(e,t){if(e==null)return{};var r=ile(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ile(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ole(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cle(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lC(n.key),n)}}function lle(e,t,r){return t&&cle(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ule(e,t,r){return t=Xd(t),dle(e,oC()?Reflect.construct(t,r||[],Xd(e).constructor):t.apply(e,r))}function dle(e,t){if(t&&(po(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fle(e)}function fle(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oC=function(){return!!e})()}function Xd(e){return Xd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xd(e)}function hle(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ag(e,t)}function Ag(e,t){return Ag=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Ag(e,t)}function go(e){return gle(e)||ple(e)||cC(e)||mle()}function mle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cC(e,t){if(e){if(typeof e=="string")return Og(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Og(e,t)}}function ple(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gle(e){if(Array.isArray(e))return Og(e)}function Og(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function se(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c1(Object(r),!0).forEach(function(n){Ue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ue(e,t,r){return t=lC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lC(e){var t=vle(e,"string");return po(t)=="symbol"?t:t+""}function vle(e,t){if(po(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(po(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xle={xAxis:["bottom","top"],yAxis:["left","right"]},yle={width:"100%",height:"100%"},uC={x:0,y:0};function ou(e){return e}var ble=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},jle=function(t,r,n,s){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,c=s.radius;return se(se(se({},s),St(s.cx,s.cy,c,o)),{},{angle:o,radius:c})}var l=i.coordinate,u=s.angle;return se(se(se({},s),St(s.cx,s.cy,l,u)),{},{angle:u,radius:l})}return uC},gh=function(t,r){var n=r.graphicalItems,s=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(c,l){var u=l.props.data;return u&&u.length?[].concat(go(c),go(u)):c},[]);return o.length>0?o:t&&t.length&&ve(s)&&ve(i)?t.slice(s,i+1):[]};function dC(e){return e==="number"?[0,"auto"]:void 0}var _g=function(t,r,n,s){var i=t.graphicalItems,o=t.tooltipAxis,c=gh(r,t);return n<0||!i||!i.length||n>=c.length?null:i.reduce(function(l,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=f===void 0?c:f;h=Zu(p,o.dataKey,s)}else h=f&&f[n]||c[n];return h?[].concat(go(l),[KP(u,h)]):l},[])},l1=function(t,r,n,s){var i=s||{x:t.chartX,y:t.chartY},o=ble(i,n),c=t.orderedTooltipTicks,l=t.tooltipAxis,u=t.tooltipTicks,d=EQ(o,c,u,l);if(d>=0&&u){var f=u[d]&&u[d].value,h=_g(t,r,d,f),p=jle(n,c,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},wle=function(t,r){var n=r.axes,s=r.graphicalItems,i=r.axisType,o=r.axisIdKey,c=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,p=VP(d,i);return n.reduce(function(v,m){var x,b=m.type.defaultProps!==void 0?se(se({},m.type.defaultProps),m.props):m.props,y=b.type,j=b.dataKey,S=b.allowDataOverflow,N=b.allowDuplicatedCategory,w=b.scale,A=b.ticks,O=b.includeHidden,_=b[o];if(v[_])return v;var C=gh(t.data,{graphicalItems:s.filter(function(z){var B,G=o in z.props?z.props[o]:(B=z.type.defaultProps)===null||B===void 0?void 0:B[o];return G===_}),dataStartIndex:l,dataEndIndex:u}),P=C.length,k,T,E;Gce(b.domain,S,y)&&(k=Bp(b.domain,null,S),p&&(y==="number"||w!=="auto")&&(E=gc(C,j,"category")));var I=dC(y);if(!k||k.length===0){var F,$=(F=b.domain)!==null&&F!==void 0?F:I;if(j){if(k=gc(C,j,y),y==="category"&&p){var q=w8(k);N&&q?(T=k,k=Md(0,P)):N||(k=Cj($,k,m).reduce(function(z,B){return z.indexOf(B)>=0?z:[].concat(go(z),[B])},[]))}else if(y==="category")N?k=k.filter(function(z){return z!==""&&!Ge(z)}):k=Cj($,k,m).reduce(function(z,B){return z.indexOf(B)>=0||B===""||Ge(B)?z:[].concat(go(z),[B])},[]);else if(y==="number"){var M=RQ(C,s.filter(function(z){var B,G,ce=o in z.props?z.props[o]:(B=z.type.defaultProps)===null||B===void 0?void 0:B[o],we="hide"in z.props?z.props.hide:(G=z.type.defaultProps)===null||G===void 0?void 0:G.hide;return ce===_&&(O||!we)}),j,i,d);M&&(k=M)}p&&(y==="number"||w!=="auto")&&(E=gc(C,j,"category"))}else p?k=Md(0,P):c&&c[_]&&c[_].hasStack&&y==="number"?k=h==="expand"?[0,1]:qP(c[_].stackGroups,l,u):k=BP(C,s.filter(function(z){var B=o in z.props?z.props[o]:z.type.defaultProps[o],G="hide"in z.props?z.props.hide:z.type.defaultProps.hide;return B===_&&(O||!G)}),y,d,!0);if(y==="number")k=Sg(f,k,_,i,A),$&&(k=Bp($,k,S));else if(y==="category"&&$){var J=$,V=k.every(function(z){return J.indexOf(z)>=0});V&&(k=J)}}return se(se({},v),{},Ue({},_,se(se({},b),{},{axisType:i,domain:k,categoricalDomain:E,duplicateDomain:T,originalDomain:(x=b.domain)!==null&&x!==void 0?x:I,isCategorical:p,layout:d})))},{})},Nle=function(t,r){var n=r.graphicalItems,s=r.Axis,i=r.axisType,o=r.axisIdKey,c=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=gh(t.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:u}),p=h.length,v=VP(d,i),m=-1;return n.reduce(function(x,b){var y=b.type.defaultProps!==void 0?se(se({},b.type.defaultProps),b.props):b.props,j=y[o],S=dC("number");if(!x[j]){m++;var N;return v?N=Md(0,p):c&&c[j]&&c[j].hasStack?(N=qP(c[j].stackGroups,l,u),N=Sg(f,N,j,i)):(N=Bp(S,BP(h,n.filter(function(w){var A,O,_=o in w.props?w.props[o]:(A=w.type.defaultProps)===null||A===void 0?void 0:A[o],C="hide"in w.props?w.props.hide:(O=w.type.defaultProps)===null||O===void 0?void 0:O.hide;return _===j&&!C}),"number",d),s.defaultProps.allowDataOverflow),N=Sg(f,N,j,i)),se(se({},x),{},Ue({},j,se(se({axisType:i},s.defaultProps),{},{hide:!0,orientation:Vr(xle,"".concat(i,".").concat(m%2),null),domain:N,originalDomain:S,isCategorical:v,layout:d})))}return x},{})},Sle=function(t,r){var n=r.axisType,s=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,c=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(s,"Id"),h=zr(d,i),p={};return h&&h.length?p=wle(t,{axes:h,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:c,dataStartIndex:l,dataEndIndex:u}):o&&o.length&&(p=Nle(t,{Axis:i,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:c,dataStartIndex:l,dataEndIndex:u})),p},Ale=function(t){var r=La(t),n=da(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Lv(n,function(s){return s.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Sd(r,n)}},u1=function(t){var r=t.children,n=t.defaultShowTooltip,s=Dr(r,ao),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(i=s.props.startIndex),s.props.endIndex>=0&&(o=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},Ole=function(t){return!t||!t.length?!1:t.some(function(r){var n=pa(r&&r.type);return n&&n.indexOf("Bar")>=0})},d1=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},_le=function(t,r){var n=t.props,s=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,c=t.yAxisMap,l=c===void 0?{}:c,u=n.width,d=n.height,f=n.children,h=n.margin||{},p=Dr(f,ao),v=Dr(f,Cs),m=Object.keys(l).reduce(function(N,w){var A=l[w],O=A.orientation;return!A.mirror&&!A.hide?se(se({},N),{},Ue({},O,N[O]+A.width)):N},{left:h.left||0,right:h.right||0}),x=Object.keys(o).reduce(function(N,w){var A=o[w],O=A.orientation;return!A.mirror&&!A.hide?se(se({},N),{},Ue({},O,Vr(N,"".concat(O))+A.height)):N},{top:h.top||0,bottom:h.bottom||0}),b=se(se({},x),m),y=b.bottom;p&&(b.bottom+=p.props.height||ao.defaultProps.height),v&&r&&(b=IQ(b,s,n,r));var j=u-b.left-b.right,S=d-b.top-b.bottom;return se(se({brushBottom:y},b),{},{width:Math.max(j,0),height:Math.max(S,0)})},Ple=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},vh=function(t){var r=t.chartName,n=t.GraphicalChild,s=t.defaultTooltipEventType,i=s===void 0?"axis":s,o=t.validateTooltipEventTypes,c=o===void 0?["axis"]:o,l=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(b,y){var j=y.graphicalItems,S=y.stackGroups,N=y.offset,w=y.updateId,A=y.dataStartIndex,O=y.dataEndIndex,_=b.barSize,C=b.layout,P=b.barGap,k=b.barCategoryGap,T=b.maxBarSize,E=d1(C),I=E.numericAxisName,F=E.cateAxisName,$=Ole(j),q=[];return j.forEach(function(M,J){var V=gh(b.data,{graphicalItems:[M],dataStartIndex:A,dataEndIndex:O}),z=M.type.defaultProps!==void 0?se(se({},M.type.defaultProps),M.props):M.props,B=z.dataKey,G=z.maxBarSize,ce=z["".concat(I,"Id")],we=z["".concat(F,"Id")],pe={},Oe=l.reduce(function(K,ae){var oe=y["".concat(ae.axisType,"Map")],Ce=z["".concat(ae.axisType,"Id")];oe&&oe[Ce]||ae.axisType==="zAxis"||Zs();var re=oe[Ce];return se(se({},K),{},Ue(Ue({},ae.axisType,re),"".concat(ae.axisType,"Ticks"),da(re)))},pe),R=Oe[F],de=Oe["".concat(F,"Ticks")],fe=S&&S[ce]&&S[ce].hasStack&&qQ(M,S[ce].stackGroups),ee=pa(M.type).indexOf("Bar")>=0,Me=Sd(R,de),Se=[],tt=$&&$Q({barSize:_,stackGroups:S,totalSize:Ple(Oe,F)});if(ee){var nt,ze,L=Ge(G)?T:G,X=(nt=(ze=Sd(R,de,!0))!==null&&ze!==void 0?ze:L)!==null&&nt!==void 0?nt:0;Se=DQ({barGap:P,barCategoryGap:k,bandSize:X!==Me?X:Me,sizeList:tt[we],maxBarSize:L}),X!==Me&&(Se=Se.map(function(K){return se(se({},K),{},{position:se(se({},K.position),{},{offset:K.position.offset-X/2})})}))}var Q=M&&M.type&&M.type.getComposedData;Q&&q.push({props:se(se({},Q(se(se({},Oe),{},{displayedData:V,props:b,dataKey:B,item:M,bandSize:Me,barPosition:Se,offset:N,stackedData:fe,layout:C,dataStartIndex:A,dataEndIndex:O}))),{},Ue(Ue(Ue({key:M.key||"item-".concat(J)},I,Oe[I]),F,Oe[F]),"animationId",w)),childIndex:D8(M,b.children),item:M})}),q},p=function(b,y){var j=b.props,S=b.dataStartIndex,N=b.dataEndIndex,w=b.updateId;if(!Nb({props:j}))return null;var A=j.children,O=j.layout,_=j.stackOffset,C=j.data,P=j.reverseStackOrder,k=d1(O),T=k.numericAxisName,E=k.cateAxisName,I=zr(A,n),F=WQ(C,I,"".concat(T,"Id"),"".concat(E,"Id"),_,P),$=l.reduce(function(z,B){var G="".concat(B.axisType,"Map");return se(se({},z),{},Ue({},G,Sle(j,se(se({},B),{},{graphicalItems:I,stackGroups:B.axisType===T&&F,dataStartIndex:S,dataEndIndex:N}))))},{}),q=_le(se(se({},$),{},{props:j,graphicalItems:I}),y==null?void 0:y.legendBBox);Object.keys($).forEach(function(z){$[z]=d(j,$[z],q,z.replace("Map",""),r)});var M=$["".concat(E,"Map")],J=Ale(M),V=h(j,se(se({},$),{},{dataStartIndex:S,dataEndIndex:N,updateId:w,graphicalItems:I,stackGroups:F,offset:q}));return se(se({formattedGraphicalItems:V,graphicalItems:I,offset:q,stackGroups:F},J),$)},v=function(x){function b(y){var j,S,N;return ole(this,b),N=ule(this,b,[y]),Ue(N,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ue(N,"accessibilityManager",new Kce),Ue(N,"handleLegendBBoxUpdate",function(w){if(w){var A=N.state,O=A.dataStartIndex,_=A.dataEndIndex,C=A.updateId;N.setState(se({legendBBox:w},p({props:N.props,dataStartIndex:O,dataEndIndex:_,updateId:C},se(se({},N.state),{},{legendBBox:w}))))}}),Ue(N,"handleReceiveSyncEvent",function(w,A,O){if(N.props.syncId===w){if(O===N.eventEmitterSymbol&&typeof N.props.syncMethod!="function")return;N.applySyncEvent(A)}}),Ue(N,"handleBrushChange",function(w){var A=w.startIndex,O=w.endIndex;if(A!==N.state.dataStartIndex||O!==N.state.dataEndIndex){var _=N.state.updateId;N.setState(function(){return se({dataStartIndex:A,dataEndIndex:O},p({props:N.props,dataStartIndex:A,dataEndIndex:O,updateId:_},N.state))}),N.triggerSyncEvent({dataStartIndex:A,dataEndIndex:O})}}),Ue(N,"handleMouseEnter",function(w){var A=N.getMouseInfo(w);if(A){var O=se(se({},A),{},{isTooltipActive:!0});N.setState(O),N.triggerSyncEvent(O);var _=N.props.onMouseEnter;We(_)&&_(O,w)}}),Ue(N,"triggeredAfterMouseMove",function(w){var A=N.getMouseInfo(w),O=A?se(se({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};N.setState(O),N.triggerSyncEvent(O);var _=N.props.onMouseMove;We(_)&&_(O,w)}),Ue(N,"handleItemMouseEnter",function(w){N.setState(function(){return{isTooltipActive:!0,activeItem:w,activePayload:w.tooltipPayload,activeCoordinate:w.tooltipPosition||{x:w.cx,y:w.cy}}})}),Ue(N,"handleItemMouseLeave",function(){N.setState(function(){return{isTooltipActive:!1}})}),Ue(N,"handleMouseMove",function(w){w.persist(),N.throttleTriggeredAfterMouseMove(w)}),Ue(N,"handleMouseLeave",function(w){N.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};N.setState(A),N.triggerSyncEvent(A);var O=N.props.onMouseLeave;We(O)&&O(A,w)}),Ue(N,"handleOuterEvent",function(w){var A=$8(w),O=Vr(N.props,"".concat(A));if(A&&We(O)){var _,C;/.*touch.*/i.test(A)?C=N.getMouseInfo(w.changedTouches[0]):C=N.getMouseInfo(w),O((_=C)!==null&&_!==void 0?_:{},w)}}),Ue(N,"handleClick",function(w){var A=N.getMouseInfo(w);if(A){var O=se(se({},A),{},{isTooltipActive:!0});N.setState(O),N.triggerSyncEvent(O);var _=N.props.onClick;We(_)&&_(O,w)}}),Ue(N,"handleMouseDown",function(w){var A=N.props.onMouseDown;if(We(A)){var O=N.getMouseInfo(w);A(O,w)}}),Ue(N,"handleMouseUp",function(w){var A=N.props.onMouseUp;if(We(A)){var O=N.getMouseInfo(w);A(O,w)}}),Ue(N,"handleTouchMove",function(w){w.changedTouches!=null&&w.changedTouches.length>0&&N.throttleTriggeredAfterMouseMove(w.changedTouches[0])}),Ue(N,"handleTouchStart",function(w){w.changedTouches!=null&&w.changedTouches.length>0&&N.handleMouseDown(w.changedTouches[0])}),Ue(N,"handleTouchEnd",function(w){w.changedTouches!=null&&w.changedTouches.length>0&&N.handleMouseUp(w.changedTouches[0])}),Ue(N,"handleDoubleClick",function(w){var A=N.props.onDoubleClick;if(We(A)){var O=N.getMouseInfo(w);A(O,w)}}),Ue(N,"handleContextMenu",function(w){var A=N.props.onContextMenu;if(We(A)){var O=N.getMouseInfo(w);A(O,w)}}),Ue(N,"triggerSyncEvent",function(w){N.props.syncId!==void 0&&pm.emit(gm,N.props.syncId,w,N.eventEmitterSymbol)}),Ue(N,"applySyncEvent",function(w){var A=N.props,O=A.layout,_=A.syncMethod,C=N.state.updateId,P=w.dataStartIndex,k=w.dataEndIndex;if(w.dataStartIndex!==void 0||w.dataEndIndex!==void 0)N.setState(se({dataStartIndex:P,dataEndIndex:k},p({props:N.props,dataStartIndex:P,dataEndIndex:k,updateId:C},N.state)));else if(w.activeTooltipIndex!==void 0){var T=w.chartX,E=w.chartY,I=w.activeTooltipIndex,F=N.state,$=F.offset,q=F.tooltipTicks;if(!$)return;if(typeof _=="function")I=_(q,w);else if(_==="value"){I=-1;for(var M=0;M<q.length;M++)if(q[M].value===w.activeLabel){I=M;break}}var J=se(se({},$),{},{x:$.left,y:$.top}),V=Math.min(T,J.x+J.width),z=Math.min(E,J.y+J.height),B=q[I]&&q[I].value,G=_g(N.state,N.props.data,I),ce=q[I]?{x:O==="horizontal"?q[I].coordinate:V,y:O==="horizontal"?z:q[I].coordinate}:uC;N.setState(se(se({},w),{},{activeLabel:B,activeCoordinate:ce,activePayload:G,activeTooltipIndex:I}))}else N.setState(w)}),Ue(N,"renderCursor",function(w){var A,O=N.state,_=O.isTooltipActive,C=O.activeCoordinate,P=O.activePayload,k=O.offset,T=O.activeTooltipIndex,E=O.tooltipAxisBandSize,I=N.getTooltipEventType(),F=(A=w.props.active)!==null&&A!==void 0?A:_,$=N.props.layout,q=w.key||"_recharts-cursor";return D.createElement(ele,{key:q,activeCoordinate:C,activePayload:P,activeTooltipIndex:T,chartName:r,element:w,isActive:F,layout:$,offset:k,tooltipAxisBandSize:E,tooltipEventType:I})}),Ue(N,"renderPolarAxis",function(w,A,O){var _=Vr(w,"type.axisType"),C=Vr(N.state,"".concat(_,"Map")),P=w.type.defaultProps,k=P!==void 0?se(se({},P),w.props):w.props,T=C&&C[k["".concat(_,"Id")]];return g.cloneElement(w,se(se({},T),{},{className:Ze(_,T.className),key:w.key||"".concat(A,"-").concat(O),ticks:da(T,!0)}))}),Ue(N,"renderPolarGrid",function(w){var A=w.props,O=A.radialLines,_=A.polarAngles,C=A.polarRadius,P=N.state,k=P.radiusAxisMap,T=P.angleAxisMap,E=La(k),I=La(T),F=I.cx,$=I.cy,q=I.innerRadius,M=I.outerRadius;return g.cloneElement(w,{polarAngles:Array.isArray(_)?_:da(I,!0).map(function(J){return J.coordinate}),polarRadius:Array.isArray(C)?C:da(E,!0).map(function(J){return J.coordinate}),cx:F,cy:$,innerRadius:q,outerRadius:M,key:w.key||"polar-grid",radialLines:O})}),Ue(N,"renderLegend",function(){var w=N.state.formattedGraphicalItems,A=N.props,O=A.children,_=A.width,C=A.height,P=N.props.margin||{},k=_-(P.left||0)-(P.right||0),T=LP({children:O,formattedGraphicalItems:w,legendWidth:k,legendContent:u});if(!T)return null;var E=T.item,I=o1(T,tle);return g.cloneElement(E,se(se({},I),{},{chartWidth:_,chartHeight:C,margin:P,onBBoxUpdate:N.handleLegendBBoxUpdate}))}),Ue(N,"renderTooltip",function(){var w,A=N.props,O=A.children,_=A.accessibilityLayer,C=Dr(O,dr);if(!C)return null;var P=N.state,k=P.isTooltipActive,T=P.activeCoordinate,E=P.activePayload,I=P.activeLabel,F=P.offset,$=(w=C.props.active)!==null&&w!==void 0?w:k;return g.cloneElement(C,{viewBox:se(se({},F),{},{x:F.left,y:F.top}),active:$,label:I,payload:$?E:[],coordinate:T,accessibilityLayer:_})}),Ue(N,"renderBrush",function(w){var A=N.props,O=A.margin,_=A.data,C=N.state,P=C.offset,k=C.dataStartIndex,T=C.dataEndIndex,E=C.updateId;return g.cloneElement(w,{key:w.key||"_recharts-brush",onChange:ru(N.handleBrushChange,w.props.onChange),data:_,x:ve(w.props.x)?w.props.x:P.left,y:ve(w.props.y)?w.props.y:P.top+P.height+P.brushBottom-(O.bottom||0),width:ve(w.props.width)?w.props.width:P.width,startIndex:k,endIndex:T,updateId:"brush-".concat(E)})}),Ue(N,"renderReferenceElement",function(w,A,O){if(!w)return null;var _=N,C=_.clipPathId,P=N.state,k=P.xAxisMap,T=P.yAxisMap,E=P.offset,I=w.type.defaultProps||{},F=w.props,$=F.xAxisId,q=$===void 0?I.xAxisId:$,M=F.yAxisId,J=M===void 0?I.yAxisId:M;return g.cloneElement(w,{key:w.key||"".concat(A,"-").concat(O),xAxis:k[q],yAxis:T[J],viewBox:{x:E.left,y:E.top,width:E.width,height:E.height},clipPathId:C})}),Ue(N,"renderActivePoints",function(w){var A=w.item,O=w.activePoint,_=w.basePoint,C=w.childIndex,P=w.isRange,k=[],T=A.props.key,E=A.item.type.defaultProps!==void 0?se(se({},A.item.type.defaultProps),A.item.props):A.item.props,I=E.activeDot,F=E.dataKey,$=se(se({index:C,dataKey:F,cx:O.x,cy:O.y,r:4,fill:ux(A.item),strokeWidth:2,stroke:"#fff",payload:O.payload,value:O.value},Fe(I,!1)),Xu(I));return k.push(b.renderActiveDot(I,$,"".concat(T,"-activePoint-").concat(C))),_?k.push(b.renderActiveDot(I,se(se({},$),{},{cx:_.x,cy:_.y}),"".concat(T,"-basePoint-").concat(C))):P&&k.push(null),k}),Ue(N,"renderGraphicChild",function(w,A,O){var _=N.filterFormatItem(w,A,O);if(!_)return null;var C=N.getTooltipEventType(),P=N.state,k=P.isTooltipActive,T=P.tooltipAxis,E=P.activeTooltipIndex,I=P.activeLabel,F=N.props.children,$=Dr(F,dr),q=_.props,M=q.points,J=q.isRange,V=q.baseLine,z=_.item.type.defaultProps!==void 0?se(se({},_.item.type.defaultProps),_.item.props):_.item.props,B=z.activeDot,G=z.hide,ce=z.activeBar,we=z.activeShape,pe=!!(!G&&k&&$&&(B||ce||we)),Oe={};C!=="axis"&&$&&$.props.trigger==="click"?Oe={onClick:ru(N.handleItemMouseEnter,w.props.onClick)}:C!=="axis"&&(Oe={onMouseLeave:ru(N.handleItemMouseLeave,w.props.onMouseLeave),onMouseEnter:ru(N.handleItemMouseEnter,w.props.onMouseEnter)});var R=g.cloneElement(w,se(se({},_.props),Oe));function de(ae){return typeof T.dataKey=="function"?T.dataKey(ae.payload):null}if(pe)if(E>=0){var fe,ee;if(T.dataKey&&!T.allowDuplicatedCategory){var Me=typeof T.dataKey=="function"?de:"payload.".concat(T.dataKey.toString());fe=Zu(M,Me,I),ee=J&&V&&Zu(V,Me,I)}else fe=M==null?void 0:M[E],ee=J&&V&&V[E];if(we||ce){var Se=w.props.activeIndex!==void 0?w.props.activeIndex:E;return[g.cloneElement(w,se(se(se({},_.props),Oe),{},{activeIndex:Se})),null,null]}if(!Ge(fe))return[R].concat(go(N.renderActivePoints({item:_,activePoint:fe,basePoint:ee,childIndex:E,isRange:J})))}else{var tt,nt=(tt=N.getItemByXY(N.state.activeCoordinate))!==null&&tt!==void 0?tt:{graphicalItem:R},ze=nt.graphicalItem,L=ze.item,X=L===void 0?w:L,Q=ze.childIndex,K=se(se(se({},_.props),Oe),{},{activeIndex:Q});return[g.cloneElement(X,K),null,null]}return J?[R,null,null]:[R,null]}),Ue(N,"renderCustomized",function(w,A,O){return g.cloneElement(w,se(se({key:"recharts-customized-".concat(O)},N.props),N.state))}),Ue(N,"renderMap",{CartesianGrid:{handler:ou,once:!0},ReferenceArea:{handler:N.renderReferenceElement},ReferenceLine:{handler:ou},ReferenceDot:{handler:N.renderReferenceElement},XAxis:{handler:ou},YAxis:{handler:ou},Brush:{handler:N.renderBrush,once:!0},Bar:{handler:N.renderGraphicChild},Line:{handler:N.renderGraphicChild},Area:{handler:N.renderGraphicChild},Radar:{handler:N.renderGraphicChild},RadialBar:{handler:N.renderGraphicChild},Scatter:{handler:N.renderGraphicChild},Pie:{handler:N.renderGraphicChild},Funnel:{handler:N.renderGraphicChild},Tooltip:{handler:N.renderCursor,once:!0},PolarGrid:{handler:N.renderPolarGrid,once:!0},PolarAngleAxis:{handler:N.renderPolarAxis},PolarRadiusAxis:{handler:N.renderPolarAxis},Customized:{handler:N.renderCustomized}}),N.clipPathId="".concat((j=y.id)!==null&&j!==void 0?j:si("recharts"),"-clip"),N.throttleTriggeredAfterMouseMove=R_(N.triggeredAfterMouseMove,(S=y.throttleDelay)!==null&&S!==void 0?S:1e3/60),N.state={},N}return hle(b,x),lle(b,[{key:"componentDidMount",value:function(){var j,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var j=this.props,S=j.children,N=j.data,w=j.height,A=j.layout,O=Dr(S,dr);if(O){var _=O.props.defaultIndex;if(!(typeof _!="number"||_<0||_>this.state.tooltipTicks.length-1)){var C=this.state.tooltipTicks[_]&&this.state.tooltipTicks[_].value,P=_g(this.state,N,_,C),k=this.state.tooltipTicks[_].coordinate,T=(this.state.offset.top+w)/2,E=A==="horizontal",I=E?{x:k,y:T}:{y:k,x:T},F=this.state.formattedGraphicalItems.find(function(q){var M=q.item;return M.type.name==="Scatter"});F&&(I=se(se({},I),F.props.points[_].tooltipPosition),P=F.props.points[_].tooltipPayload);var $={activeTooltipIndex:_,isTooltipActive:!0,activeLabel:C,activePayload:P,activeCoordinate:I};this.setState($),this.renderCursor(O),this.accessibilityManager.setIndex(_)}}}},{key:"getSnapshotBeforeUpdate",value:function(j,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==j.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==j.margin){var N,w;this.accessibilityManager.setDetails({offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0}})}return null}},{key:"componentDidUpdate",value:function(j){tp([Dr(j.children,dr)],[Dr(this.props.children,dr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var j=Dr(this.props.children,dr);if(j&&typeof j.props.shared=="boolean"){var S=j.props.shared?"axis":"item";return c.indexOf(S)>=0?S:i}return i}},{key:"getMouseInfo",value:function(j){if(!this.container)return null;var S=this.container,N=S.getBoundingClientRect(),w=iZ(N),A={chartX:Math.round(j.pageX-w.left),chartY:Math.round(j.pageY-w.top)},O=N.width/S.offsetWidth||1,_=this.inRange(A.chartX,A.chartY,O);if(!_)return null;var C=this.state,P=C.xAxisMap,k=C.yAxisMap,T=this.getTooltipEventType(),E=l1(this.state,this.props.data,this.props.layout,_);if(T!=="axis"&&P&&k){var I=La(P).scale,F=La(k).scale,$=I&&I.invert?I.invert(A.chartX):null,q=F&&F.invert?F.invert(A.chartY):null;return se(se({},A),{},{xValue:$,yValue:q},E)}return E?se(se({},A),E):null}},{key:"inRange",value:function(j,S){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,w=this.props.layout,A=j/N,O=S/N;if(w==="horizontal"||w==="vertical"){var _=this.state.offset,C=A>=_.left&&A<=_.left+_.width&&O>=_.top&&O<=_.top+_.height;return C?{x:A,y:O}:null}var P=this.state,k=P.angleAxisMap,T=P.radiusAxisMap;if(k&&T){var E=La(k);return Ej({x:A,y:O},E)}return null}},{key:"parseEventsOfWrapper",value:function(){var j=this.props.children,S=this.getTooltipEventType(),N=Dr(j,dr),w={};N&&S==="axis"&&(N.props.trigger==="click"?w={onClick:this.handleClick}:w={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var A=Xu(this.props,this.handleOuterEvent);return se(se({},A),w)}},{key:"addListener",value:function(){pm.on(gm,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){pm.removeListener(gm,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(j,S,N){for(var w=this.state.formattedGraphicalItems,A=0,O=w.length;A<O;A++){var _=w[A];if(_.item===j||_.props.key===j.key||S===pa(_.item.type)&&N===_.childIndex)return _}return null}},{key:"renderClipPath",value:function(){var j=this.clipPathId,S=this.state.offset,N=S.left,w=S.top,A=S.height,O=S.width;return D.createElement("defs",null,D.createElement("clipPath",{id:j},D.createElement("rect",{x:N,y:w,height:A,width:O})))}},{key:"getXScales",value:function(){var j=this.state.xAxisMap;return j?Object.entries(j).reduce(function(S,N){var w=i1(N,2),A=w[0],O=w[1];return se(se({},S),{},Ue({},A,O.scale))},{}):null}},{key:"getYScales",value:function(){var j=this.state.yAxisMap;return j?Object.entries(j).reduce(function(S,N){var w=i1(N,2),A=w[0],O=w[1];return se(se({},S),{},Ue({},A,O.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(j){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[j])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(j){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[j])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(j){var S=this.state,N=S.formattedGraphicalItems,w=S.activeItem;if(N&&N.length)for(var A=0,O=N.length;A<O;A++){var _=N[A],C=_.props,P=_.item,k=P.type.defaultProps!==void 0?se(se({},P.type.defaultProps),P.props):P.props,T=pa(P.type);if(T==="Bar"){var E=(C.data||[]).find(function(q){return zre(j,q)});if(E)return{graphicalItem:_,payload:E}}else if(T==="RadialBar"){var I=(C.data||[]).find(function(q){return Ej(j,q)});if(I)return{graphicalItem:_,payload:I}}else if(lh(_,w)||uh(_,w)||pl(_,w)){var F=kae({graphicalItem:_,activeTooltipItem:w,itemData:k.data}),$=k.activeIndex===void 0?F:k.activeIndex;return{graphicalItem:se(se({},_),{},{childIndex:$}),payload:pl(_,w)?k.data[F]:_.props.data[F]}}}return null}},{key:"render",value:function(){var j=this;if(!Nb(this))return null;var S=this.props,N=S.children,w=S.className,A=S.width,O=S.height,_=S.style,C=S.compact,P=S.title,k=S.desc,T=o1(S,rle),E=Fe(T,!1);if(C)return D.createElement(Bw,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},D.createElement(np,Oi({},E,{width:A,height:O,title:P,desc:k}),this.renderClipPath(),Ab(N,this.renderMap)));if(this.props.accessibilityLayer){var I,F;E.tabIndex=(I=this.props.tabIndex)!==null&&I!==void 0?I:0,E.role=(F=this.props.role)!==null&&F!==void 0?F:"application",E.onKeyDown=function(q){j.accessibilityManager.keyboardEvent(q)},E.onFocus=function(){j.accessibilityManager.focus()}}var $=this.parseEventsOfWrapper();return D.createElement(Bw,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},D.createElement("div",Oi({className:Ze("recharts-wrapper",w),style:se({position:"relative",cursor:"default",width:A,height:O},_)},$,{ref:function(M){j.container=M}}),D.createElement(np,Oi({},E,{width:A,height:O,title:P,desc:k,style:yle}),this.renderClipPath(),Ab(N,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(g.Component);Ue(v,"displayName",r),Ue(v,"defaultProps",se({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Ue(v,"getDerivedStateFromProps",function(x,b){var y=x.dataKey,j=x.data,S=x.children,N=x.width,w=x.height,A=x.layout,O=x.stackOffset,_=x.margin,C=b.dataStartIndex,P=b.dataEndIndex;if(b.updateId===void 0){var k=u1(x);return se(se(se({},k),{},{updateId:0},p(se(se({props:x},k),{},{updateId:0}),b)),{},{prevDataKey:y,prevData:j,prevWidth:N,prevHeight:w,prevLayout:A,prevStackOffset:O,prevMargin:_,prevChildren:S})}if(y!==b.prevDataKey||j!==b.prevData||N!==b.prevWidth||w!==b.prevHeight||A!==b.prevLayout||O!==b.prevStackOffset||!Mi(_,b.prevMargin)){var T=u1(x),E={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},I=se(se({},l1(b,j,A)),{},{updateId:b.updateId+1}),F=se(se(se({},T),E),I);return se(se(se({},F),p(se({props:x},F),b)),{},{prevDataKey:y,prevData:j,prevWidth:N,prevHeight:w,prevLayout:A,prevStackOffset:O,prevMargin:_,prevChildren:S})}if(!tp(S,b.prevChildren)){var $,q,M,J,V=Dr(S,ao),z=V&&($=(q=V.props)===null||q===void 0?void 0:q.startIndex)!==null&&$!==void 0?$:C,B=V&&(M=(J=V.props)===null||J===void 0?void 0:J.endIndex)!==null&&M!==void 0?M:P,G=z!==C||B!==P,ce=!Ge(j),we=ce&&!G?b.updateId:b.updateId+1;return se(se({updateId:we},p(se(se({props:x},b),{},{updateId:we,dataStartIndex:z,dataEndIndex:B}),b)),{},{prevChildren:S,dataStartIndex:z,dataEndIndex:B})}return null}),Ue(v,"renderActiveDot",function(x,b,y){var j;return g.isValidElement(x)?j=g.cloneElement(x,b):We(x)?j=x(b):j=D.createElement(Rl,b),D.createElement(st,{className:"recharts-active-dot",key:y},j)});var m=g.forwardRef(function(b,y){return D.createElement(v,Oi({},b,{ref:y}))});return m.displayName=v.displayName,m},Cle=vh({chartName:"LineChart",GraphicalChild:$s,axisComponents:[{axisType:"xAxis",AxisComp:Tn},{axisType:"yAxis",AxisComp:En}],formatAxisMap:fx}),f1=vh({chartName:"BarChart",GraphicalChild:Qa,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Tn},{axisType:"yAxis",AxisComp:En}],formatAxisMap:fx}),h1=vh({chartName:"PieChart",GraphicalChild:Kn,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:ch},{axisType:"radiusAxis",AxisComp:ih}],formatAxisMap:ree,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),m1=vh({chartName:"AreaChart",GraphicalChild:Vn,axisComponents:[{axisType:"xAxis",AxisComp:Tn},{axisType:"yAxis",AxisComp:En}],formatAxisMap:fx});const p1=["#8884d8","#82ca9d","#ffc658","#ff8042","#0088FE","#00C49F"],xm=[{name:"T1",revenue:4e3,bookings:240},{name:"T2",revenue:3e3,bookings:139},{name:"T3",revenue:2e3,bookings:980},{name:"T4",revenue:2780,bookings:390},{name:"T5",revenue:1890,bookings:480},{name:"T6",revenue:2390,bookings:380},{name:"T7",revenue:3490,bookings:430}],kle=[{name:"T1",confirmed:240,cancelled:24,pending:12},{name:"T2",confirmed:139,cancelled:13,pending:8},{name:"T3",confirmed:980,cancelled:98,pending:45},{name:"T4",confirmed:390,cancelled:39,pending:18},{name:"T5",confirmed:480,cancelled:48,pending:22},{name:"T6",confirmed:380,cancelled:38,pending:15},{name:"T7",confirmed:430,cancelled:43,pending:20}],g1=[{name:"室內",value:400,color:"#3B82F6"},{name:"戶外",value:300,color:"#10B981"},{name:"無障礙",value:100,color:"#F59E0B"}],Tle=[{name:"王小明",bookings:45,totalSpent:125e4,lastBooking:"2024-01-15"},{name:"李小華",bookings:38,totalSpent:98e4,lastBooking:"2024-01-14"},{name:"張大偉",bookings:32,totalSpent:85e4,lastBooking:"2024-01-13"},{name:"陳美玲",bookings:28,totalSpent:72e4,lastBooking:"2024-01-12"},{name:"劉志強",bookings:25,totalSpent:65e4,lastBooking:"2024-01-11"}],Ele=[{hour:"6:00",bookings:12},{hour:"7:00",bookings:25},{hour:"8:00",bookings:45},{hour:"9:00",bookings:38},{hour:"10:00",bookings:32},{hour:"11:00",bookings:28},{hour:"12:00",bookings:55},{hour:"13:00",bookings:42},{hour:"14:00",bookings:35},{hour:"15:00",bookings:48},{hour:"16:00",bookings:62},{hour:"17:00",bookings:58},{hour:"18:00",bookings:45},{hour:"19:00",bookings:38},{hour:"20:00",bookings:25},{hour:"21:00",bookings:18},{hour:"22:00",bookings:12},{hour:"23:00",bookings:8}],v1=()=>{var S,N,w,A,O,_,C;const[e,t]=g.useState(!0),[r,n]=g.useState(null),[s,i]=g.useState(null);console.log(s);const[o,c]=g.useState([]),[l,u]=g.useState(null),[d,f]=g.useState("overview"),[h,p]=g.useState("7d");g.useEffect(()=>{v()},[]);const v=async()=>{try{t(!0);const[P,k,T,E]=await Promise.all([eI(),tI("today"),rI(),nI()]);n(P),i(k),c(T),u(E)}catch{Y.error("無法載入儀表板資料")}finally{t(!1)}},m=()=>{Y.success("報告匯出成功")},x=P=>P.toLocaleString("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0,maximumFractionDigits:0}),b=P=>{const k={pending:{label:"等待確認",variant:"secondary",color:"bg-yellow-100 text-yellow-800"},confirmed:{label:"預約成功",variant:"default",color:"bg-blue-100 text-blue-800"},"checked-in":{label:"已進入停車場",variant:"default",color:"bg-green-100 text-green-800"},"checked-out":{label:"已離開停車場",variant:"secondary",color:"bg-gray-100 text-gray-800"},cancelled:{label:"已取消",variant:"destructive",color:"bg-red-100 text-red-800"}},T=k[P]||k.pending;return a.jsx(Le,{variant:T.variant,className:T.color,children:T.label})},y=P=>P>=0?a.jsx(ha,{className:"h-4 w-4 text-green-500"}):a.jsx(Cu,{className:"h-4 w-4 text-red-500"}),j=o.map(P=>({name:P.name,value:P.occupancyRate}));return e?a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}):a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"儀表板"}),a.jsx("p",{className:"text-gray-600",children:"停車場系統概覽"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(tn,{value:h,onValueChange:p,children:[a.jsx(Rr,{className:"w-32",children:a.jsx(rn,{})}),a.jsxs(Lr,{children:[a.jsx(at,{value:"7d",children:"7天"}),a.jsx(at,{value:"30d",children:"30天"}),a.jsx(at,{value:"90d",children:"90天"}),a.jsx(at,{value:"1y",children:"1年"})]})]}),a.jsxs(W,{variant:"outline",onClick:v,children:[a.jsx(Gn,{className:"h-4 w-4 mr-2"}),"重新整理"]}),a.jsxs(W,{onClick:m,children:[a.jsx(xN,{className:"h-4 w-4 mr-2"}),"匯出報告"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[a.jsxs(ue,{children:[a.jsxs(xe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ye,{className:"text-sm font-medium",children:"今日預約"}),a.jsx(Et,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(he,{children:[a.jsx("div",{className:"text-2xl font-bold",children:(r==null?void 0:r.todayBookings)||0}),a.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[y(8.2),a.jsx("span",{className:"ml-1",children:"比昨天增加8.2%"})]})]})]}),a.jsxs(ue,{children:[a.jsxs(xe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ye,{className:"text-sm font-medium",children:"今日營收"}),a.jsx(yi,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(he,{children:[a.jsx("div",{className:"text-2xl font-bold",children:x((r==null?void 0:r.todayRevenue)||0)}),a.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[y(12.5),a.jsx("span",{className:"ml-1",children:"比昨天增加12.5%"})]})]})]}),a.jsxs(ue,{children:[a.jsxs(xe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ye,{className:"text-sm font-medium",children:"剩餘空位"}),a.jsx(ir,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(he,{children:[a.jsx("div",{className:"text-2xl font-bold",children:(r==null?void 0:r.availableSpaces)||0}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["總共 ",(r==null?void 0:r.totalSpaces)||0," 個停車位"]})]})]}),a.jsxs(ue,{children:[a.jsxs(xe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ye,{className:"text-sm font-medium",children:"正在停車"}),a.jsx(ca,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(he,{children:[a.jsx("div",{className:"text-2xl font-bold",children:(r==null?void 0:r.parkedVehicles)||0}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[(r==null?void 0:r.leavingToday)||0," 輛車今天即將離開"]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[a.jsxs(ue,{children:[a.jsxs(xe,{children:[a.jsxs(ye,{className:"flex items-center space-x-2",children:[a.jsx(ha,{className:"h-5 w-5"}),a.jsx("span",{children:"營收趨勢"})]}),a.jsx(rt,{children:"按時間的營收"})]}),a.jsx(he,{style:{height:300},children:a.jsx(ls,{width:"100%",height:"100%",children:a.jsxs(m1,{data:xm,children:[a.jsx(xi,{strokeDasharray:"3 3"}),a.jsx(Tn,{dataKey:"name"}),a.jsx(En,{}),a.jsx(dr,{}),a.jsx(Vn,{type:"monotone",dataKey:"revenue",stroke:"#3B82F6",fill:"#3B82F6",fillOpacity:.3})]})})})]}),a.jsxs(ue,{children:[a.jsxs(xe,{children:[a.jsxs(ye,{className:"flex items-center space-x-2",children:[a.jsx(Is,{className:"h-5 w-5"}),a.jsx("span",{children:"停車場使用率"})]}),a.jsx(rt,{children:"各類型停車場的使用分布"})]}),a.jsx(he,{style:{height:300},children:a.jsx(ls,{width:"100%",height:"100%",children:a.jsxs(h1,{children:[a.jsx(Kn,{data:j,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:100,label:!0,children:j.map((P,k)=>a.jsx(Hc,{fill:p1[k%p1.length]},`cell-${k}`))}),a.jsx(dr,{}),a.jsx(Cs,{})]})})})]})]}),a.jsxs(ue,{className:"mb-8",children:[a.jsxs(xe,{children:[a.jsxs(ye,{className:"flex items-center space-x-2",children:[a.jsx(qr,{className:"h-5 w-5"}),a.jsx("span",{children:"高峰時段"})]}),a.jsx(rt,{children:"每日各時段的預約數量"})]}),a.jsx(he,{style:{height:300},children:a.jsx(ls,{width:"100%",height:"100%",children:a.jsxs(f1,{data:Ele,children:[a.jsx(xi,{strokeDasharray:"3 3"}),a.jsx(Tn,{dataKey:"hour"}),a.jsx(En,{}),a.jsx(dr,{}),a.jsx(Qa,{dataKey:"bookings",fill:"#10B981"})]})})})]}),a.jsxs(wo,{value:d,onValueChange:f,className:"space-y-6",children:[a.jsxs(ni,{className:"grid w-full grid-cols-5",children:[a.jsx(Mt,{value:"overview",children:"概覽"}),a.jsx(Mt,{value:"revenue",children:"營收"}),a.jsx(Mt,{value:"bookings",children:"預約"}),a.jsx(Mt,{value:"customers",children:"客戶"}),a.jsx(Mt,{value:"parking",children:"停車場"})]}),a.jsx(er,{value:"overview",className:"space-y-6",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(ue,{children:[a.jsxs(xe,{children:[a.jsxs(ye,{className:"flex items-center space-x-2",children:[a.jsx(q$,{className:"h-5 w-5"}),a.jsx("span",{children:"最近預約"})]}),a.jsx(rt,{children:"最新預約清單"})]}),a.jsx(he,{children:a.jsx("div",{className:"space-y-4",children:(S=r==null?void 0:r.recentBookings)==null?void 0:S.slice(0,5).map(P=>a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx(Nr,{className:"h-5 w-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:P.driverName}),a.jsx("p",{className:"text-sm text-gray-600",children:P.licensePlate})]})]}),a.jsxs("div",{className:"text-right",children:[b(P.status),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:$t(P.checkInTime)})]})]},P._id))})})]}),a.jsxs(ue,{children:[a.jsxs(xe,{children:[a.jsxs(ye,{className:"flex items-center space-x-2",children:[a.jsx(wc,{className:"h-5 w-5"}),a.jsx("span",{children:"快速操作"})]}),a.jsx(rt,{children:"常用操作"})]}),a.jsx(he,{children:a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs(W,{className:"h-20 flex flex-col space-y-2",children:[a.jsx(Kr,{className:"h-6 w-6"}),a.jsx("span",{children:"創建預約"})]}),a.jsxs(W,{variant:"outline",className:"h-20 flex flex-col space-y-2",children:[a.jsx(mN,{className:"h-6 w-6"}),a.jsx("span",{children:"報告"})]}),a.jsxs(W,{variant:"outline",className:"h-20 flex flex-col space-y-2",children:[a.jsx(ca,{className:"h-6 w-6"}),a.jsx("span",{children:"管理客戶"})]}),a.jsxs(W,{variant:"outline",className:"h-20 flex flex-col space-y-2",children:[a.jsx(wc,{className:"h-6 w-6"}),a.jsx("span",{children:"設定"})]})]})})]})]})}),a.jsxs(er,{value:"revenue",className:"space-y-6",children:[a.jsxs(ue,{children:[a.jsxs(xe,{children:[a.jsx(ye,{children:"營收分析"}),a.jsx(rt,{children:"按時間的詳細營收"})]}),a.jsx(he,{children:a.jsx(ls,{width:"100%",height:400,children:a.jsxs(m1,{data:xm,children:[a.jsx(xi,{strokeDasharray:"3 3"}),a.jsx(Tn,{dataKey:"name"}),a.jsx(En,{}),a.jsx(dr,{}),a.jsx(Vn,{type:"monotone",dataKey:"revenue",stroke:"#3B82F6",fill:"#3B82F6",fillOpacity:.3}),a.jsx(Vn,{type:"monotone",dataKey:"bookings",stroke:"#10B981",fill:"#10B981",fillOpacity:.3})]})})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs(ue,{children:[a.jsx(xe,{children:a.jsx(ye,{className:"text-lg",children:"平均每日營收"})}),a.jsxs(he,{children:[a.jsx("div",{className:"text-3xl font-bold text-green-600",children:x(516e3)}),a.jsx("p",{className:"text-sm text-gray-500",children:"比上個月增長12.5%"})]})]}),a.jsxs(ue,{children:[a.jsx(xe,{children:a.jsx(ye,{className:"text-lg",children:"最高營收"})}),a.jsxs(he,{children:[a.jsx("div",{className:"text-3xl font-bold text-blue-600",children:x(349e4)}),a.jsx("p",{className:"text-sm text-gray-500",children:"2024年7月"})]})]}),a.jsxs(ue,{children:[a.jsx(xe,{children:a.jsx(ye,{className:"text-lg",children:"增長率"})}),a.jsxs(he,{children:[a.jsx("div",{className:"text-3xl font-bold text-purple-600",children:"+15.2%"}),a.jsx("p",{className:"text-sm text-gray-500",children:"與去年同期相比"})]})]})]})]}),a.jsxs(er,{value:"bookings",className:"space-y-6",children:[a.jsxs(ue,{children:[a.jsxs(xe,{children:[a.jsx(ye,{children:"預約趨勢"}),a.jsx(rt,{children:"按狀態的預約統計"})]}),a.jsx(he,{children:a.jsx(ls,{width:"100%",height:400,children:a.jsxs(Cle,{data:kle,children:[a.jsx(xi,{strokeDasharray:"3 3"}),a.jsx(Tn,{dataKey:"name"}),a.jsx(En,{}),a.jsx(dr,{}),a.jsx($s,{type:"monotone",dataKey:"confirmed",stroke:"#10B981",strokeWidth:2}),a.jsx($s,{type:"monotone",dataKey:"cancelled",stroke:"#EF4444",strokeWidth:2}),a.jsx($s,{type:"monotone",dataKey:"pending",stroke:"#F59E0B",strokeWidth:2})]})})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs(ue,{children:[a.jsx(xe,{children:a.jsx(ye,{className:"text-lg",children:"成功預約"})}),a.jsxs(he,{children:[a.jsx("div",{className:"text-3xl font-bold text-green-600",children:"2,679"}),a.jsx("p",{className:"text-sm text-gray-500",children:"94.2% 總預約數"})]})]}),a.jsxs(ue,{children:[a.jsx(xe,{children:a.jsx(ye,{className:"text-lg",children:"已取消預約"})}),a.jsxs(he,{children:[a.jsx("div",{className:"text-3xl font-bold text-red-600",children:"168"}),a.jsx("p",{className:"text-sm text-gray-500",children:"5.8% 總預約數"})]})]}),a.jsxs(ue,{children:[a.jsx(xe,{children:a.jsx(ye,{className:"text-lg",children:"等待確認"})}),a.jsxs(he,{children:[a.jsx("div",{className:"text-3xl font-bold text-yellow-600",children:"45"}),a.jsx("p",{className:"text-sm text-gray-500",children:"1.6% 總預約數"})]})]})]})]}),a.jsxs(er,{value:"customers",className:"space-y-6",children:[a.jsxs(ue,{children:[a.jsxs(xe,{children:[a.jsx(ye,{children:"頂級客戶"}),a.jsx(rt,{children:"預約數量最高的前5名客戶"})]}),a.jsx(he,{children:a.jsx("div",{className:"space-y-4",children:Tle.map((P,k)=>a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-sm font-semibold text-blue-600",children:k+1})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold",children:P.name}),a.jsxs("p",{className:"text-sm text-gray-500",children:[P.bookings," 預約 • ",x(P.totalSpent)]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm text-gray-500",children:"最後預約"}),a.jsx("p",{className:"text-sm font-medium",children:or(P.lastBooking)})]})]},k))})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs(ue,{children:[a.jsxs(xe,{children:[a.jsx(ye,{children:"新客戶"}),a.jsx(rt,{children:"按月份的新客戶統計"})]}),a.jsx(he,{children:a.jsx(ls,{width:"100%",height:300,children:a.jsxs(f1,{data:xm,children:[a.jsx(xi,{strokeDasharray:"3 3"}),a.jsx(Tn,{dataKey:"name"}),a.jsx(En,{}),a.jsx(dr,{}),a.jsx(Qa,{dataKey:"bookings",fill:"#3B82F6"})]})})})]}),a.jsxs(ue,{children:[a.jsxs(xe,{children:[a.jsx(ye,{children:"客戶統計"}),a.jsx(rt,{children:"客戶概覽"})]}),a.jsxs(he,{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{children:"總客戶數"}),a.jsx("span",{className:"font-semibold",children:"1,247"})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{children:"本月新客戶"}),a.jsx("span",{className:"font-semibold text-green-600",children:"156"})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{children:"VIP客戶"}),a.jsx("span",{className:"font-semibold text-purple-600",children:"89"})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{children:"回訪率"}),a.jsx("span",{className:"font-semibold text-blue-600",children:"78.5%"})]})]})]})]})]}),a.jsxs(er,{value:"parking",className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(ue,{children:[a.jsxs(xe,{children:[a.jsxs(ye,{className:"flex items-center space-x-2",children:[a.jsx(Is,{className:"h-5 w-5"}),a.jsx("span",{children:"停車場狀態"})]}),a.jsx(rt,{children:"各停車場狀況概覽"})]}),a.jsx(he,{children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.map(P=>a.jsx(ue,{className:"hover:shadow-md transition-shadow",children:a.jsxs(he,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h3",{className:"font-semibold",children:P.name}),a.jsx(Le,{variant:(P.type||"indoor")==="indoor"?"default":"secondary",children:(P.type||"indoor")==="indoor"?"🏢 Trong nhà":(P.type||"indoor")==="outdoor"?"🌤 Ngoài trời":"♿️ Khuyết tật"})]}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"空位:"}),a.jsxs("span",{className:"font-medium",children:[P.availableSpaces,"/",P.totalSpaces]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"使用率:"}),a.jsxs("span",{className:"font-medium",children:[P.occupancyRate,"%"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"基本價格:"}),a.jsxs("span",{className:"font-medium",children:[x(P.pricePerDay),"/天"]})]})]}),a.jsx("div",{className:"mt-3",children:a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-[#39653f] h-2 rounded-full",style:{width:`${100-P.occupancyRate}%`}})})})]})},P._id))})})]}),a.jsxs(ue,{children:[a.jsxs(xe,{children:[a.jsx(ye,{children:"停車場效能"}),a.jsx(rt,{children:"各類型停車場的使用率"})]}),a.jsx(he,{children:a.jsx(ls,{width:"100%",height:300,children:a.jsxs(h1,{children:[a.jsx(Kn,{data:g1,cx:"50%",cy:"50%",labelLine:!1,label:({name:P,percent:k})=>`${P} ${(k*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:g1.map((P,k)=>a.jsx(Hc,{fill:P.color},`cell-${k}`))}),a.jsx(dr,{})]})})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs(ue,{children:[a.jsxs(xe,{children:[a.jsxs(ye,{className:"flex items-center space-x-2",children:[a.jsx(ir,{className:"h-5 w-5"}),a.jsxs("span",{children:["正在停車 (",((N=l==null?void 0:l.parkedVehicles)==null?void 0:N.length)||0,")"]})]}),a.jsx(rt,{children:"停車場內的車輛清單"})]}),a.jsx(he,{children:a.jsx("div",{className:"space-y-3",children:(w=l==null?void 0:l.parkedVehicles)==null?void 0:w.slice(0,5).map(P=>a.jsxs("div",{className:"p-3 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"font-medium",children:P.driverName}),a.jsx(pr,{className:"h-4 w-4 text-green-600"})]}),a.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[a.jsx("div",{children:P.licensePlate}),a.jsxs("div",{children:["進入: ",$t(P.actualCheckInTime||P.checkInTime)]}),a.jsxs("div",{children:["預計離開: ",$t(P.checkOutTime)]})]})]},P._id))})})]}),a.jsxs(ue,{children:[a.jsxs(xe,{children:[a.jsxs(ye,{className:"flex items-center space-x-2",children:[a.jsx(qr,{className:"h-5 w-5"}),a.jsxs("span",{children:["即將到達 (",((A=l==null?void 0:l.arrivingToday)==null?void 0:A.length)||0,")"]})]}),a.jsx(rt,{children:"今天預計到達的車輛"})]}),a.jsx(he,{children:a.jsx("div",{className:"space-y-3",children:(O=l==null?void 0:l.arrivingToday)==null?void 0:O.slice(0,5).map(P=>a.jsxs("div",{className:"p-3 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"font-medium",children:P.driverName}),a.jsx(Pi,{className:"h-4 w-4 text-yellow-600"})]}),a.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[a.jsx("div",{children:P.licensePlate}),a.jsxs("div",{children:["預計: ",$t(P.estimatedArrivalTime||P.checkInTime)]}),a.jsxs("div",{children:["航班: ",P.flightNumber||"N/A"]})]})]},P._id))})})]}),a.jsxs(ue,{children:[a.jsxs(xe,{children:[a.jsxs(ye,{className:"flex items-center space-x-2",children:[a.jsx(Zr,{className:"h-5 w-5"}),a.jsxs("span",{children:["即將離開 (",((_=l==null?void 0:l.leavingToday)==null?void 0:_.length)||0,")"]})]}),a.jsx(rt,{children:"今天預計離開的車輛"})]}),a.jsx(he,{children:a.jsx("div",{className:"space-y-3",children:(C=l==null?void 0:l.leavingToday)==null?void 0:C.slice(0,5).map(P=>a.jsxs("div",{className:"p-3 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"font-medium",children:P.driverName}),a.jsx(Zr,{className:"h-4 w-4 text-red-600"})]}),a.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[a.jsx("div",{children:P.licensePlate}),a.jsxs("div",{children:["預計離開: ",$t(P.checkOutTime)]}),a.jsxs("div",{children:["已停車: ",$t(P.actualCheckInTime||P.checkInTime)]})]})]},P._id))})})]})]})]})]})]})},Ur=g.forwardRef(({className:e,...t},r)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:r,className:He("w-full caption-bottom text-sm",e),...t})}));Ur.displayName="Table";const Wr=g.forwardRef(({className:e,...t},r)=>a.jsx("thead",{ref:r,className:He("[&_tr]:border-b",e),...t}));Wr.displayName="TableHeader";const Hr=g.forwardRef(({className:e,...t},r)=>a.jsx("tbody",{ref:r,className:He("[&_tr:last-child]:border-0",e),...t}));Hr.displayName="TableBody";const $le=g.forwardRef(({className:e,...t},r)=>a.jsx("tfoot",{ref:r,className:He("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));$le.displayName="TableFooter";const Pt=g.forwardRef(({className:e,...t},r)=>a.jsx("tr",{ref:r,className:He("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Pt.displayName="TableRow";const _e=g.forwardRef(({className:e,...t},r)=>a.jsx("th",{ref:r,className:He("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));_e.displayName="TableHead";const Pe=g.forwardRef(({className:e,...t},r)=>a.jsx("td",{ref:r,className:He("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Pe.displayName="TableCell";const Dle=g.forwardRef(({className:e,...t},r)=>a.jsx("caption",{ref:r,className:He("mt-4 text-sm text-muted-foreground",e),...t}));Dle.displayName="TableCaption";const Ile=()=>{const[e,t]=g.useState([]),[r,n]=g.useState(!0),[s,i]=g.useState(0),[o,c]=g.useState(1),[l,u]=g.useState(1),[d,f]=g.useState({status:"all",dateFrom:"",dateTo:"",search:""}),[h,p]=g.useState(null),[v,m]=g.useState(!1),[x,b]=g.useState("table"),[y,j]=g.useState([]),[S,N]=g.useState(""),[w,A]=g.useState(""),[O,_]=g.useState(!1),[C,P]=g.useState([]),[k,T]=g.useState(new Date().getMonth()),[E,I]=g.useState(new Date().getFullYear());g.useEffect(()=>{F()},[o,d]),g.useEffect(()=>{x==="calendar"&&$()},[x,w,k,E]);const F=async()=>{try{n(!0);const R={...d,status:d.status==="all"?"":d.status,page:o,limit:10},de=await dy(R);t(de.bookings),i(de.total),u(de.totalPages)}catch{Y.error("無法載入預約清單")}finally{n(!1)}},$=async()=>{try{n(!0);const de=(await dy({...d,status:d.status==="all"?"":d.status,page:1,limit:1e3})).bookings.reduce((fe,ee)=>{const Me=new Date(ee.checkInTime).toISOString().split("T")[0],Se=ee.parkingType._id;return fe[Me]||(fe[Me]={}),fe[Me][Se]||(fe[Me][Se]={parkingType:ee.parkingType,bookings:[],totalBookings:0}),fe[Me][Se].bookings.push(ee),fe[Me][Se].totalBookings++,fe},{});j(de)}catch{Y.error("無法載入日曆數據")}finally{n(!1)}},q=async(R,de)=>{var fe,ee;try{await aI(R,de),Y.success("狀態更新成功"),F()}catch(Me){console.error("Status update error:",Me);const Se=((ee=(fe=Me.response)==null?void 0:fe.data)==null?void 0:ee.message)||Me.message||"狀態更新失敗";Y.error(Se)}},M=(R,de)=>()=>q(R,de),J=(R,de)=>{const fe=y[R];fe&&fe[de]&&(P(fe[de].bookings),N(R),A(de),_(!0))},V=R=>{R==="prev"?k===0?(T(11),I(E-1)):T(k-1):k===11?(T(0),I(E+1)):T(k+1)},z=()=>{const R=new Date;T(R.getMonth()),I(R.getFullYear())},B=R=>{const de=window.open("","_blank");if(!de)return;const fe=`
      <!DOCTYPE html>
      <html>
      <head>
        <title>預約詳情 - ${R.driverName}</title>
        <style>
          body { font-family: Arial, sans-serif; margin: 20px; }
          .header { text-align: center; border-bottom: 2px solid #333; padding-bottom: 10px; margin-bottom: 20px; }
          .section { margin-bottom: 20px; }
          .section h3 { color: #333; border-bottom: 1px solid #ccc; padding-bottom: 5px; }
          .info-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
          .info-item { margin-bottom: 8px; }
          .label { font-weight: bold; }
          .status { padding: 4px 8px; border-radius: 4px; font-size: 12px; }
          .status-pending { background-color: #fef3c7; color: #92400e; }
          .status-confirmed { background-color: #fef3c7; color: #92400e; }
          .status-checked-in { background-color: #d1fae5; color: #065f46; }
          .status-checked-out { background-color: #f3f4f6; color: #374151; }
          .status-cancelled { background-color: #fee2e2; color: #991b1b; }
          .services { display: flex; flex-wrap: wrap; gap: 5px; }
          .service-badge { background-color: #f3f4f6; padding: 2px 6px; border-radius: 4px; font-size: 12px; }
          .total { font-size: 18px; font-weight: bold; color: #333; }
          @media print {
            body { margin: 0; }
            .no-print { display: none; }
          }
        </style>
      </head>
      <body>
        <div class="header">
          <h1>預約詳細資訊</h1>
          <p>預約編號: ${R.bookingNumber||R._id}</p>
        </div>

        <div class="section">
          <h3>客戶資訊</h3>
          <div class="info-grid">
            <div class="info-item">
              <span class="label">姓名:</span> ${R.driverName}
            </div>
            <div class="info-item">
              <span class="label">電話:</span> ${R.phone}
            </div>
            <div class="info-item">
              <span class="label">電子郵件:</span> ${R.email||"無"}
            </div>
            <div class="info-item">
              <span class="label">車牌號碼:</span> ${R.licensePlate}
            </div>
            <div class="info-item">
              <span class="label">乘客:</span> ${R.passengerCount} 人
            </div>
            <div class="info-item">
              <span class="label">行李:</span> ${R.luggageCount} 件
            </div>
          </div>
        </div>

        ${R.passengerCount>0?`
        <div class="section">
          <h3>接駁服務信息</h3>
          <div class="info-grid">
            <div class="info-item">
              <span class="label">出發航廈:</span> ${R.departureTerminal==="terminal1"?"第一航廈":R.departureTerminal==="terminal2"?"第二航廈":"未選擇"}
            </div>
            <div class="info-item">
              <span class="label">回程航廈:</span> ${R.returnTerminal==="terminal1"?"第一航廈":R.returnTerminal==="terminal2"?"第二航廈":"未選擇"}
            </div>
          </div>
        </div>
        `:""}

        <div class="section">
          <h3>預約資訊</h3>
          <div class="info-grid">
            <div class="info-item">
              <span class="label">停車場:</span> ${R.parkingType.name}
            </div>
            <div class="info-item">
              <span class="label">類型:</span> ${(R.parkingType.type||"indoor")==="indoor"?"室內":(R.parkingType.type||"indoor")==="outdoor"?"戶外":"無障礙"}
            </div>
            <div class="info-item">
              <span class="label">進入時間:</span> ${$t(R.checkInTime)}
            </div>
            <div class="info-item">
              <span class="label">回國時間:</span> ${$t(R.checkOutTime)}
            </div>
            <div class="info-item">
              <span class="label">狀態:</span> 
              <span class="status status-${R.status}">
                ${R.status==="pending"?"等待進入停車場":R.status==="confirmed"?"等待進入停車場 (舊)":R.status==="checked-in"?"已進入停車場":R.status==="checked-out"?"已離開停車場":"已取消"}
              </span>
            </div>
            <div class="info-item">
              <span class="label">VIP:</span> ${R.isVIP?"是":"否"}
            </div>
          </div>
        </div>

        ${R.addonServices.length>0?`
        <div class="section">
          <h3>附加服務</h3>
          <div class="services">
            ${R.addonServices.map(ee=>`<span class="service-badge">${ee.service.icon} ${ee.service.name} - ${ee.price.toLocaleString("zh-TW")} TWD</span>`).join("")}
          </div>
        </div>
        `:""}

        <div class="section">
          <h3>每日價格明細</h3>
          <div class="info-grid">
            ${R.dailyPrices&&R.dailyPrices.length>0?R.dailyPrices.map(ee=>`
                <div class="info-item">
                  <span class="label">${new Date(ee.date).toLocaleDateString("zh-TW")}:</span> 
                  ${ee.price.toLocaleString("zh-TW")} TWD
                  ${ee.isSpecialPrice?` (特殊價格: ${ee.specialPriceReason||"特殊定價"})`:""}
                  ${ee.isMaintenanceDay?" 🔧 保養日":""}
                </div>
              `).join(""):`
              <div class="info-item">
                <span class="label">總金額:</span> 
                ${R.totalAmount.toLocaleString("zh-TW")} TWD
              </div>
              <div class="info-item">
                <span class="label">天數:</span> 
                ${R.durationDays||"未知"} 天
              </div>
              <div class="info-item">
                <span class="label">每日平均:</span> 
                ${R.durationDays?Math.round(R.totalAmount/R.durationDays).toLocaleString("zh-TW"):"未知"} TWD
              </div>
              `}
          </div>
        </div>

        <div class="section">
          <h3>付款資訊</h3>
          <div class="info-grid">
            <div class="info-item">
              <span class="label">總金額:</span> ${R.totalAmount.toLocaleString("zh-TW")} TWD
            </div>
            ${R.discountAmount>0?`
            <div class="info-item">
              <span class="label">折扣:</span> -${R.discountAmount.toLocaleString("zh-TW")} TWD
            </div>
            `:""}
            <div class="info-item total">
              <span class="label">應付金額:</span> ${R.finalAmount.toLocaleString("zh-TW")} TWD
            </div>
            <div class="info-item">
              <span class="label">付款方式:</span> ${R.paymentMethod}
            </div>
            <div class="info-item">
              <span class="label">付款狀態:</span> ${R.paymentStatus}
            </div>
          </div>
        </div>

        ${R.notes?`
        <div class="section">
          <h3>備註</h3>
          <p>${R.notes}</p>
        </div>
        `:""}

        <div class="no-print" style="margin-top: 30px; text-align: center;">
          <button onclick="window.print()">列印</button>
          <button onclick="window.close()">關閉</button>
        </div>
      </body>
      </html>
    `;de.document.write(fe),de.document.close()},G=R=>{const de={pending:{label:"等待進入停車場",variant:"secondary",color:"bg-yellow-100 text-yellow-800"},confirmed:{label:"等待進入停車場",variant:"secondary",color:"bg-yellow-100 text-yellow-800"},"checked-in":{label:"已進入停車場",variant:"default",color:"bg-green-100 text-green-800"},"checked-out":{label:"已離開停車場",variant:"secondary",color:"bg-gray-100 text-gray-800"},cancelled:{label:"已取消",variant:"destructive",color:"bg-red-100 text-red-800"}},fe=de[R]||de.pending;return a.jsx(Le,{variant:fe.variant,className:fe.color,children:fe.label})},ce=R=>R.toLocaleString("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0,maximumFractionDigits:0}),we=(R,de)=>{f(fe=>({...fe,[R]:de})),c(1)},pe=()=>{const R=new Date,de=new Date(E,k,1),ee=new Date(E,k+1,0).getDate(),Me=de.getDay(),Se=new Set;Object.values(y).forEach(ze=>{Object.keys(ze).forEach(L=>{Se.add(L)})});const tt=[];for(let ze=0;ze<Me;ze++)tt.push(null);for(let ze=1;ze<=ee;ze++){const L=`${E}-${String(k+1).padStart(2,"0")}-${String(ze).padStart(2,"0")}`,X=y[L]||{};tt.push({day:ze,date:L,data:X})}const nt=["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"];return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between bg-white p-4 rounded-lg border",children:[a.jsxs(W,{variant:"outline",size:"sm",onClick:()=>V("prev"),className:"flex items-center space-x-1",children:[a.jsx("span",{children:"‹"}),a.jsx("span",{children:"上月"})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs(tn,{value:k.toString(),onValueChange:ze=>T(parseInt(ze)),children:[a.jsx(Rr,{className:"w-24",children:a.jsx(rn,{})}),a.jsx(Lr,{children:nt.map((ze,L)=>a.jsx(at,{value:L.toString(),children:ze},L))})]}),a.jsxs(tn,{value:E.toString(),onValueChange:ze=>I(parseInt(ze)),children:[a.jsx(Rr,{className:"w-20",children:a.jsx(rn,{})}),a.jsx(Lr,{children:Array.from({length:10},(ze,L)=>{const X=new Date().getFullYear()-5+L;return a.jsx(at,{value:X.toString(),children:X},X)})})]})]}),a.jsx(W,{variant:"outline",size:"sm",onClick:z,className:"text-blue-600 hover:text-blue-700",children:"今天"})]}),a.jsxs(W,{variant:"outline",size:"sm",onClick:()=>V("next"),className:"flex items-center space-x-1",children:[a.jsx("span",{children:"下月"}),a.jsx("span",{children:"›"})]})]}),a.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[["日","一","二","三","四","五","六"].map(ze=>a.jsx("div",{className:"p-2 text-center font-semibold bg-gray-100",children:ze},ze)),tt.map((ze,L)=>{if(!ze)return a.jsx("div",{className:"p-2 min-h-[100px]"},L);const{day:X,date:Q,data:K}=ze,ae=Q===R.toISOString().split("T")[0],oe=new Date(Q).getMonth()===k;return a.jsxs("div",{className:`p-2 min-h-[100px] border border-gray-200 ${ae?"bg-blue-50 border-blue-300":oe?"bg-white":"bg-gray-50 text-gray-400"}`,children:[a.jsx("div",{className:`text-sm font-medium mb-1 ${ae?"bg-blue-600 text-white rounded-full w-6 h-6 flex items-center justify-center":""}`,children:X}),Object.keys(K).map(Ce=>{const re=K[Ce],Te=re.parkingType,te=re.totalBookings,Be=50-te;return a.jsxs("div",{className:"mb-1 p-1 rounded text-xs cursor-pointer hover:bg-gray-100",onClick:()=>J(Q,Ce),children:[a.jsx("div",{className:"font-medium text-blue-600",children:Te.name}),a.jsxs("div",{className:"text-green-600",children:["空位: ",Be]}),a.jsxs("div",{className:"text-red-600",children:["已訂: ",te]})]},Ce)})]},X)})]})]})},Oe=d.status||"all";return r&&e.length===0?a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})})}):a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold",children:"預約管理"}),a.jsx("p",{className:"text-gray-600",children:"管理系統中的所有預約"})]}),a.jsxs(ue,{className:"mb-6",children:[a.jsx(xe,{children:a.jsxs(ye,{className:"flex items-center space-x-2",children:[a.jsx(mr,{className:"h-5 w-5"}),a.jsx("span",{children:"篩選"})]})}),a.jsx(he,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"search",children:"搜尋"}),a.jsxs("div",{className:"relative",children:[a.jsx(Gr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),a.jsx(le,{id:"search",placeholder:"姓名、電話、車牌號碼...",value:d.search,onChange:R=>we("search",R.target.value),className:"pl-10"})]})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"status",children:"狀態"}),a.jsxs(tn,{value:Oe,onValueChange:R=>we("status",R),defaultValue:"all",children:[a.jsx(Rr,{children:a.jsx(rn,{placeholder:"所有狀態"})}),a.jsxs(Lr,{children:[a.jsx(at,{value:"all",children:"所有狀態"}),a.jsx(at,{value:"pending",children:"等待進入停車場"}),a.jsx(at,{value:"confirmed",children:"等待進入停車場 (舊)"}),a.jsx(at,{value:"checked-in",children:"已進入停車場"}),a.jsx(at,{value:"checked-out",children:"已離開停車場"}),a.jsx(at,{value:"cancelled",children:"已取消"})]})]})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"dateFrom",children:"開始日期"}),a.jsx(le,{id:"dateFrom",type:"date",value:d.dateFrom,onChange:R=>we("dateFrom",R.target.value)})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"dateTo",children:"結束日期"}),a.jsx(le,{id:"dateTo",type:"date",value:d.dateTo,onChange:R=>we("dateTo",R.target.value)})]}),a.jsx("div",{className:"flex items-end",children:a.jsx(W,{onClick:F,className:"w-full",children:"篩選"})})]})})]}),a.jsx(ue,{className:"mb-6",children:a.jsx(he,{className:"pt-6",children:a.jsx(wo,{value:x,onValueChange:R=>b(R),children:a.jsxs(ni,{className:"grid w-full grid-cols-2",children:[a.jsxs(Mt,{value:"table",className:"flex items-center space-x-2",children:[a.jsx(iD,{className:"h-4 w-4"}),a.jsx("span",{children:"列表視圖"})]}),a.jsxs(Mt,{value:"calendar",className:"flex items-center space-x-2",children:[a.jsx(J$,{className:"h-4 w-4"}),a.jsx("span",{children:"日曆視圖"})]})]})})})}),a.jsxs(ue,{children:[a.jsxs(xe,{children:[a.jsx(ye,{children:"預約清單"}),a.jsx(rt,{children:x==="table"?`共 ${s} 筆預約 • 第 ${o} 頁，共 ${l} 頁`:"日曆視圖 - 點擊數字查看詳細預約"})]}),a.jsx(he,{children:r?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):x==="table"?a.jsxs(a.Fragment,{children:[a.jsxs(Ur,{children:[a.jsx(Wr,{children:a.jsxs(Pt,{children:[a.jsx(_e,{children:"客戶"}),a.jsx(_e,{children:"停車場"}),a.jsx(_e,{children:"時間"}),a.jsx(_e,{children:"狀態"}),a.jsx(_e,{children:"金額"}),a.jsx(_e,{children:"操作"})]})}),a.jsx(Hr,{children:e.map(R=>a.jsxs(Pt,{children:[a.jsx(Pe,{children:a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"font-medium",children:R.driverName}),a.jsxs("div",{className:"text-sm text-gray-600 flex items-center space-x-2",children:[a.jsx(fa,{className:"h-3 w-3"}),a.jsx("span",{children:R.phone})]}),a.jsxs("div",{className:"text-sm text-gray-600 flex items-center space-x-2",children:[a.jsx(ir,{className:"h-3 w-3"}),a.jsx("span",{children:R.licensePlate})]})]})}),a.jsx(Pe,{children:a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"font-medium",children:R.parkingType.name}),a.jsxs("div",{className:"text-sm text-gray-600",children:[R.parkingType.icon||"🏢"," ",(R.parkingType.type||"indoor")==="indoor"?"室內":(R.parkingType.type||"indoor")==="outdoor"?"戶外":"無障礙"]})]})}),a.jsx(Pe,{children:a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"text-sm",children:[a.jsx(Et,{className:"h-3 w-3 inline mr-1"}),$t(R.checkInTime)]}),a.jsxs("div",{className:"text-sm",children:[a.jsx(qr,{className:"h-3 w-3 inline mr-1"}),$t(R.checkOutTime)]})]})}),a.jsx(Pe,{children:G(R.status)}),a.jsx(Pe,{children:a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"font-medium",children:ce(R.finalAmount)}),R.discountAmount>0&&a.jsxs("div",{className:"text-sm text-green-600",children:["-",ce(R.discountAmount)]})]})}),a.jsx(Pe,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(W,{size:"sm",variant:"outline",onClick:()=>{p(R),m(!0)},children:a.jsx(za,{className:"h-4 w-4"})}),(R.status==="pending"||R.status==="confirmed")&&a.jsxs(a.Fragment,{children:[a.jsx(W,{size:"sm",variant:"default",className:"bg-[#39653f] hover:bg-[#2d4f33] text-white",onClick:M(R._id,"checked-in"),children:"已進入停車場"}),a.jsx(W,{size:"sm",variant:"destructive",onClick:M(R._id,"cancelled"),children:"取消"})]}),R.status==="checked-in"&&a.jsx(W,{size:"sm",variant:"default",className:"bg-[#39653f] hover:bg-[#2d4f33] text-white",onClick:M(R._id,"checked-out"),children:"已離開停車場"}),a.jsx(W,{size:"sm",variant:"outline",onClick:()=>B(R),children:a.jsx($m,{className:"h-4 w-4"})})]})})]},R._id))})]}),l>1&&a.jsxs("div",{className:"flex items-center justify-between mt-6",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:["顯示第 ",(o-1)*10+1," - ",Math.min(o*10,s)," 筆，共 ",s," 筆結果"]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(W,{variant:"outline",size:"sm",onClick:()=>c(o-1),disabled:o===1,children:"上一頁"}),a.jsxs("span",{className:"text-sm",children:["第 ",o," 頁，共 ",l," 頁"]}),a.jsx(W,{variant:"outline",size:"sm",onClick:()=>c(o+1),disabled:o===l,children:"下一頁"})]})]})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"停車場使用情況日曆"}),a.jsx("p",{className:"text-gray-600",children:"點擊數字查看該日期的詳細預約"})]}),pe()]})})]}),a.jsx(ft,{open:O,onOpenChange:_,children:a.jsxs(it,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[a.jsxs(ot,{children:[a.jsx(lt,{children:"預約詳細列表"}),a.jsxs(ut,{children:[S," - ",C.length>0?C[0].parkingType.name:"停車場"," 的預約"]})]}),a.jsxs("div",{className:"space-y-4",children:[C.map(R=>a.jsxs(ue,{className:"p-4",children:[a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-sm text-gray-600",children:"客戶信息"}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"姓名:"})," ",R.driverName]}),a.jsxs("div",{children:[a.jsx("strong",{children:"電話:"})," ",R.phone]}),a.jsxs("div",{children:[a.jsx("strong",{children:"車牌:"})," ",R.licensePlate]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-sm text-gray-600",children:"時間信息"}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"進入:"})," ",$t(R.checkInTime)]}),a.jsxs("div",{children:[a.jsx("strong",{children:"離開:"})," ",$t(R.checkOutTime)]}),a.jsxs("div",{children:[a.jsx("strong",{children:"狀態:"})," ",G(R.status)]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-sm text-gray-600",children:"服務信息"}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"乘客:"})," ",R.passengerCount," 人"]}),a.jsxs("div",{children:[a.jsx("strong",{children:"行李:"})," ",R.luggageCount," 件"]}),R.passengerCount>0&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("strong",{children:"出發航廈:"})," ",R.departureTerminal==="terminal1"?"第一航廈":R.departureTerminal==="terminal2"?"第二航廈":"未選擇"]}),a.jsxs("div",{children:[a.jsx("strong",{children:"回程航廈:"})," ",R.returnTerminal==="terminal1"?"第一航廈":R.returnTerminal==="terminal2"?"第二航廈":"未選擇"]})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-sm text-gray-600",children:"金額信息"}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"總金額:"})," ",ce(R.totalAmount)]}),R.discountAmount>0&&a.jsxs("div",{children:[a.jsx("strong",{children:"折扣:"})," -",ce(R.discountAmount)]}),a.jsxs("div",{children:[a.jsx("strong",{children:"應付:"})," ",ce(R.finalAmount)]})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-2 mt-4",children:[a.jsxs(W,{size:"sm",variant:"outline",onClick:()=>{p(R),_(!1),m(!0)},children:[a.jsx(za,{className:"h-4 w-4 mr-1"}),"查看詳情"]}),a.jsxs(W,{size:"sm",variant:"outline",onClick:()=>B(R),children:[a.jsx($m,{className:"h-4 w-4 mr-1"}),"列印"]})]})]},R._id)),C.length===0&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Et,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"沒有預約"}),a.jsx("p",{className:"text-gray-500",children:"該日期沒有預約記錄"})]})]}),a.jsx(ct,{children:a.jsx(W,{variant:"outline",onClick:()=>_(!1),children:"關閉"})})]})}),a.jsx(ft,{open:v,onOpenChange:m,children:a.jsxs(it,{className:"max-w-2xl",children:[a.jsxs(ot,{children:[a.jsx(lt,{children:"預約詳細資訊"}),a.jsx(ut,{children:"預約的詳細資訊"})]}),h&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-2",children:"客戶資訊"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"姓名:"})," ",h.driverName]}),a.jsxs("div",{children:[a.jsx("strong",{children:"電話:"})," ",h.phone]}),a.jsxs("div",{children:[a.jsx("strong",{children:"電子郵件:"})," ",h.email]}),a.jsxs("div",{children:[a.jsx("strong",{children:"車牌號碼:"})," ",h.licensePlate]}),a.jsxs("div",{children:[a.jsx("strong",{children:"乘客:"})," ",h.passengerCount," 人"]}),a.jsxs("div",{children:[a.jsx("strong",{children:"行李:"})," ",h.luggageCount," 件"]}),h.passengerCount>0&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("strong",{children:"出發航廈:"})," ",h.departureTerminal==="terminal1"?"第一航廈":h.departureTerminal==="terminal2"?"第二航廈":"未選擇"]}),a.jsxs("div",{children:[a.jsx("strong",{children:"回程航廈:"})," ",h.returnTerminal==="terminal1"?"第一航廈":h.returnTerminal==="terminal2"?"第二航廈":"未選擇"]})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-2",children:"預約資訊"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"停車場:"})," ",h.parkingType.name]}),a.jsxs("div",{children:[a.jsx("strong",{children:"類型:"})," ",h.parkingType.type||"indoor"]}),a.jsxs("div",{children:[a.jsx("strong",{children:"進入:"})," ",$t(h.checkInTime)]}),a.jsxs("div",{children:[a.jsx("strong",{children:"離開:"})," ",$t(h.checkOutTime)]}),a.jsxs("div",{children:[a.jsx("strong",{children:"狀態:"})," ",G(h.status)]}),a.jsxs("div",{children:[a.jsx("strong",{children:"VIP:"})," ",h.isVIP?"是":"否"]})]})]})]}),h.addonServices.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-2",children:"附加服務"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:h.addonServices.map((R,de)=>a.jsxs(Le,{variant:"outline",children:[R.service.icon," ",R.service.name," - ",ce(R.price)]},de))})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-2",children:"付款資訊"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"總金額:"})," ",ce(h.totalAmount)]}),h.discountAmount>0&&a.jsxs("div",{children:[a.jsx("strong",{children:"折扣:"})," -",ce(h.discountAmount)]}),a.jsxs("div",{children:[a.jsx("strong",{children:"應付金額:"})," ",ce(h.finalAmount)]}),a.jsxs("div",{children:[a.jsx("strong",{children:"付款方式:"})," ",h.paymentMethod]}),a.jsxs("div",{children:[a.jsx("strong",{children:"付款狀態:"})," ",h.paymentStatus]})]})]}),h.notes&&a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-2",children:"備註"}),a.jsx("p",{className:"text-sm bg-gray-50 p-3 rounded",children:h.notes})]})]}),a.jsx(ct,{children:a.jsx(W,{variant:"outline",onClick:()=>m(!1),children:"關閉"})})]})})]})};function zn(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function Mle(e,t){const r=g.createContext(t),n=i=>{const{children:o,...c}=i,l=g.useMemo(()=>c,Object.values(c));return a.jsx(r.Provider,{value:l,children:o})};n.displayName=e+"Provider";function s(i){const o=g.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,s]}function xh(e,t=[]){let r=[];function n(i,o){const c=g.createContext(o),l=r.length;r=[...r,o];const u=f=>{var b;const{scope:h,children:p,...v}=f,m=((b=h==null?void 0:h[e])==null?void 0:b[l])||c,x=g.useMemo(()=>v,Object.values(v));return a.jsx(m.Provider,{value:x,children:p})};u.displayName=i+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[l])||c,v=g.useContext(p);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(o=>g.createContext(o));return function(c){const l=(c==null?void 0:c[e])||i;return g.useMemo(()=>({[`__scope${e}`]:{...c,[e]:l}}),[c,l])}};return s.scopeName=e,[n,Rle(s,...t)]}function Rle(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((c,{useScope:l,scopeName:u})=>{const f=l(i)[`__scope${u}`];return{...c,...f}},{});return g.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function Ys(e){const t=g.useRef(e);return g.useEffect(()=>{t.current=e}),g.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function fC({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,s]=Lle({defaultProp:t,onChange:r}),i=e!==void 0,o=i?e:n,c=Ys(r),l=g.useCallback(u=>{if(i){const f=typeof u=="function"?u(e):u;f!==e&&c(f)}else s(u)},[i,e,s,c]);return[o,l]}function Lle({defaultProp:e,onChange:t}){const r=g.useState(e),[n]=r,s=g.useRef(n),i=Ys(t);return g.useEffect(()=>{s.current!==n&&(i(n),s.current=n)},[n,s,i]),r}function Fle(e){const t=g.useRef({value:e,previous:e});return g.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var wl=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{};function Ble(e){const[t,r]=g.useState(void 0);return wl(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,c;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,c=u.blockSize}else o=e.offsetWidth,c=e.offsetHeight;r({width:o,height:c})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var wx="Switch",[Vle,Fde]=xh(wx),[zle,Ule]=Vle(wx),hC=g.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:i,required:o,disabled:c,value:l="on",onCheckedChange:u,form:d,...f}=e,[h,p]=g.useState(null),v=Zn(t,j=>p(j)),m=g.useRef(!1),x=h?d||!!h.closest("form"):!0,[b=!1,y]=fC({prop:s,defaultProp:i,onChange:u});return a.jsxs(zle,{scope:r,checked:b,disabled:c,children:[a.jsx(Cr.button,{type:"button",role:"switch","aria-checked":b,"aria-required":o,"data-state":gC(b),"data-disabled":c?"":void 0,disabled:c,value:l,...f,ref:v,onClick:zn(e.onClick,j=>{y(S=>!S),x&&(m.current=j.isPropagationStopped(),m.current||j.stopPropagation())})}),x&&a.jsx(Wle,{control:h,bubbles:!m.current,name:n,value:l,checked:b,required:o,disabled:c,form:d,style:{transform:"translateX(-100%)"}})]})});hC.displayName=wx;var mC="SwitchThumb",pC=g.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=Ule(mC,r);return a.jsx(Cr.span,{"data-state":gC(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});pC.displayName=mC;var Wle=e=>{const{control:t,checked:r,bubbles:n=!0,...s}=e,i=g.useRef(null),o=Fle(r),c=Ble(t);return g.useEffect(()=>{const l=i.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==r&&f){const h=new Event("click",{bubbles:n});f.call(l,r),l.dispatchEvent(h)}},[o,r,n]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:i,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function gC(e){return e?"checked":"unchecked"}var vC=hC,Hle=pC;const Nt=g.forwardRef(({className:e,...t},r)=>a.jsx(vC,{className:He("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:a.jsx(Hle,{className:He("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Nt.displayName=vC.displayName;const qle=()=>{var Jt,ar,Vt,Qn,Cx,kx,Tx,Ex,$x,Dx,Ix;const[e,t]=g.useState([]),[r,n]=g.useState(!0),[s,i]=g.useState(!1),[o,c]=g.useState(!1);console.log(o,"isTyping");const l=g.useRef(null),[u,d]=g.useState(""),[f,h]=g.useState({search:"",role:"all",vipStatus:"all",isActive:"all"}),[p,v]=g.useState(null),[m,x]=g.useState(!1),[b,y]=g.useState(!1),[j,S]=g.useState(!1),[N,w]=g.useState(!1),[A,O]=g.useState(!1),[_,C]=g.useState(!1),[P,k]=g.useState(!1),[T,E]=g.useState(1),[I,F]=g.useState(1),[$,q]=g.useState(0),[M,J]=g.useState([]),[V,z]=g.useState("all");console.log(V,"activeTab");const[B,G]=g.useState({totalUsers:0,vipUsers:0,activeUsers:0,newUsersThisMonth:0}),[ce,we]=g.useState({name:"",email:"",phone:"",password:"",role:"user",licensePlate:"",address:"",isVIP:!1,vipDiscount:10,notes:""}),[pe,Oe]=g.useState({isVIP:!1,vipDiscount:10}),[R,de]=g.useState({newPassword:"",confirmPassword:""});g.useEffect(()=>{fe()},[f.search,f.role,f.vipStatus,f.isActive]),g.useEffect(()=>()=>{l.current&&clearTimeout(l.current)},[]);const fe=async()=>{try{n(!0);const H={page:1,limit:1e3};f.search&&(H.search=f.search),f.role!=="all"&&(H.role=f.role),f.vipStatus!=="all"&&(H.isVIP=f.vipStatus==="vip"),f.isActive!=="all"&&(H.isActive=f.isActive==="active");const be=await sI(H),Ie=await Promise.all(be.users.map(async It=>{try{const lr=await iI(It._id);return{...It,stats:lr.stats}}catch(lr){return console.error(`Error loading stats for user ${It._id}:`,lr),{...It,stats:{totalBookings:0,totalSpent:0,averageSpent:0,bookingTrend:"stable",recentBookings:[],completedBookings:0,cancelledBookings:0,pendingBookings:0,confirmedBookings:0,averageDuration:0,totalVipSavings:0,vipBookingsCount:0}}}}));J(Ie),t(Ie),q(be.total||0),F(Math.ceil((be.total||0)/10)),G({totalUsers:be.total||0,vipUsers:Ie.filter(It=>It.isVIP).length,activeUsers:Ie.filter(It=>It.isActive).length,newUsersThisMonth:Math.floor(Math.random()*20)})}catch(H){Y.error("無法載入用戶列表"),console.error("Error loading users:",H)}finally{n(!1)}},ee=async()=>{var H,be;try{if(!ce.name||!ce.email||!ce.phone){Y.error("請填寫所有必填信息");return}await oI(ce),Y.success("創建用戶成功"),S(!1),L(),fe()}catch(Ie){Y.error(((be=(H=Ie.response)==null?void 0:H.data)==null?void 0:be.message)||"無法創建用戶"),console.error("Error creating user:",Ie)}},Me=async()=>{var H,be;if(p)try{const Ie={...ce};if(Ie.password)await Ah(p._id,Ie);else{const{password:It,...lr}=Ie;await Ah(p._id,lr)}Y.success("更新用戶信息成功"),y(!1),L(),fe()}catch(Ie){Y.error(((be=(H=Ie.response)==null?void 0:H.data)==null?void 0:be.message)||"無法更新用戶信息"),console.error("Error updating user:",Ie)}},Se=async()=>{var H,be;if(p)try{await cI(p._id),Y.success("刪除用戶成功"),w(!1),v(null),fe()}catch(Ie){Y.error(((be=(H=Ie.response)==null?void 0:H.data)==null?void 0:be.message)||"無法刪除用戶"),console.error("Error deleting user:",Ie)}},tt=async()=>{if(p)try{if(pe.isVIP&&(pe.vipDiscount<0||pe.vipDiscount>100)){Y.error("VIP折扣必須在0%到100%之間");return}const H=pe.isVIP?pe.vipDiscount:void 0;await fy(p._id,pe.isVIP,H),Y.success("更新VIP信息成功"),O(!1),fe()}catch(H){Y.error("無法更新VIP信息"),console.error("Error updating VIP:",H)}},nt=async H=>{try{const be=e.find(Ie=>Ie._id===H);if(!be)return;await fy(H,!0,be.vipDiscount),Y.success("創建VIP碼成功"),fe()}catch(be){Y.error("無法創建VIP碼"),console.error("Error generating VIP code:",be)}},ze=async()=>{var H,be;if(p)try{if(!R.newPassword||!R.confirmPassword){Y.error("請填寫所有密碼欄位");return}if(R.newPassword!==R.confirmPassword){Y.error("新密碼和確認密碼不匹配");return}if(R.newPassword.length<6){Y.error("密碼至少需要6個字符");return}await Ah(p._id,{password:R.newPassword}),Y.success("密碼更新成功"),C(!1),de({newPassword:"",confirmPassword:""})}catch(Ie){Y.error(((be=(H=Ie.response)==null?void 0:H.data)==null?void 0:be.message)||"無法更新密碼"),console.error("Error changing password:",Ie)}},L=()=>{we({name:"",email:"",phone:"",password:"",role:"user",licensePlate:"",address:"",isVIP:!1,vipDiscount:10,notes:""}),k(!1),v(null)},X=()=>{L(),S(!0)},Q=H=>{v(H),we({name:H.name,email:H.email,phone:H.phone,password:"",role:H.role,licensePlate:H.licensePlate||"",address:H.address||"",isVIP:H.isVIP,vipDiscount:H.vipDiscount,notes:H.notes||""}),k(!0),y(!0)},K=H=>{v(H),Oe({isVIP:H.isVIP,vipDiscount:H.vipDiscount}),O(!0)},ae=H=>{v(H),w(!0)},oe=H=>{v(H),x(!0)},Ce=H=>{v(H),de({newPassword:"",confirmPassword:""}),C(!0)},re=H=>{const be={admin:{label:"管理員",variant:"destructive",color:"bg-red-100 text-red-800"},staff:{label:"員工",variant:"default",color:"bg-blue-100 text-blue-800"},user:{label:"客戶",variant:"secondary",color:"bg-gray-100 text-gray-800"}},Ie=be[H]||be.user;return a.jsx(Le,{variant:Ie.variant,className:Ie.color,children:Ie.label})},Te=H=>H?a.jsxs(Le,{variant:"default",className:"bg-green-100 text-green-800",children:[a.jsx(pr,{className:"h-3 w-3 mr-1"}),"活動"]}):a.jsxs(Le,{variant:"secondary",className:"bg-red-100 text-red-800",children:[a.jsx(Zr,{className:"h-3 w-3 mr-1"}),"暫時鎖定"]}),te=H=>{switch(H){case"up":return a.jsx(ha,{className:"h-4 w-4 text-green-600"});case"down":return a.jsx(Cu,{className:"h-4 w-4 text-red-600"});default:return a.jsx("div",{className:"h-4 w-4"})}},me=H=>H.toLocaleString("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0,maximumFractionDigits:0}),Be=H=>H<1?`${Math.round(H*24)} 小時`:`${Math.round(H)} 天`,U=H=>{const be={pending:{label:"等待確認",color:"bg-yellow-100 text-yellow-800"},confirmed:{label:"預約成功",color:"bg-blue-100 text-blue-800"},"checked-in":{label:"已進入停車場",color:"bg-green-100 text-green-800"},"checked-out":{label:"已離開停車場",color:"bg-gray-100 text-gray-800"},cancelled:{label:"已取消",color:"bg-red-100 text-red-800"}},Ie=be[H]||be.pending;return a.jsx(Le,{className:Ie.color,children:Ie.label})},ie=(H,be)=>{h(Ie=>({...Ie,[H]:be})),H!=="search"&&E(1)},Ve=g.useCallback(H=>{d(H),c(!0),i(!0),l.current&&clearTimeout(l.current),l.current=setTimeout(()=>{h(be=>({...be,search:H})),E(1),i(!1),c(!1)},500)},[]),Ee=(H,be,Ie=10)=>{const It=(be-1)*Ie,lr=It+Ie;return H.slice(It,lr)},Je=(H,be)=>{switch(be){case"vip":return H.filter(Ie=>Ie.isVIP);case"non-vip":return H.filter(Ie=>!Ie.isVIP);default:return H}},Ct=()=>{Y.success("導出數據成功")};return r?a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}):a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"用戶管理"}),a.jsx("p",{className:"text-gray-600",children:"查看和管理系統中的所有用戶"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(W,{variant:"outline",onClick:Ct,children:[a.jsx(xN,{className:"h-4 w-4 mr-2"}),"導出數據"]}),a.jsxs(W,{variant:"outline",onClick:fe,children:[a.jsx(Gn,{className:"h-4 w-4 mr-2"}),"刷新"]}),a.jsxs(W,{onClick:X,children:[a.jsx(Kr,{className:"h-4 w-4 mr-2"}),"添加用戶"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[a.jsx(ue,{children:a.jsx(he,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"總用戶"}),a.jsx("p",{className:"text-2xl font-bold",children:B.totalUsers})]}),a.jsx(ca,{className:"h-8 w-8 text-blue-600"})]})})}),a.jsx(ue,{children:a.jsx(he,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"VIP用戶"}),a.jsx("p",{className:"text-2xl font-bold",children:B.vipUsers})]}),a.jsx(Uo,{className:"h-8 w-8 text-yellow-600"})]})})}),a.jsx(ue,{children:a.jsx(he,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"非VIP用戶"}),a.jsx("p",{className:"text-2xl font-bold",children:B.totalUsers-B.vipUsers})]}),a.jsx(Nr,{className:"h-8 w-8 text-gray-600"})]})})}),a.jsx(ue,{children:a.jsx(he,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"活動用戶"}),a.jsx("p",{className:"text-2xl font-bold",children:B.activeUsers})]}),a.jsx(pr,{className:"h-8 w-8 text-green-600"})]})})})]}),a.jsxs(ue,{className:"mb-6",children:[a.jsx(xe,{children:a.jsxs(ye,{className:"flex items-center",children:[a.jsx(mr,{className:"h-5 w-5 mr-2"}),"過濾器"]})}),a.jsx(he,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"search",children:"搜索"}),a.jsxs("div",{className:"relative",children:[s?a.jsx("div",{className:"absolute left-3 top-3 h-4 w-4 animate-spin rounded-full border-2 border-blue-600 border-t-transparent"}):a.jsx(Gr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),a.jsx(le,{id:"search",placeholder:"姓名, 電子郵件, 電話號碼...",value:u,onChange:H=>Ve(H.target.value),onCompositionEnd:H=>Ve(H.currentTarget.value),className:"pl-10"})]})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"roleFilter",children:"角色"}),a.jsxs(tn,{value:f.role,onValueChange:H=>ie("role",H),children:[a.jsx(Rr,{children:a.jsx(rn,{})}),a.jsxs(Lr,{children:[a.jsx(at,{value:"all",children:"所有角色"}),a.jsx(at,{value:"admin",children:"管理員"}),a.jsx(at,{value:"staff",children:"員工"}),a.jsx(at,{value:"user",children:"客戶"})]})]})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"vipFilter",children:"VIP"}),a.jsxs(tn,{value:f.vipStatus,onValueChange:H=>ie("vipStatus",H),children:[a.jsx(Rr,{children:a.jsx(rn,{})}),a.jsxs(Lr,{children:[a.jsx(at,{value:"all",children:"所有"}),a.jsx(at,{value:"vip",children:"VIP"}),a.jsx(at,{value:"non-vip",children:"非VIP"})]})]})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"statusFilter",children:"狀態"}),a.jsxs(tn,{value:f.isActive,onValueChange:H=>ie("isActive",H),children:[a.jsx(Rr,{children:a.jsx(rn,{})}),a.jsxs(Lr,{children:[a.jsx(at,{value:"all",children:"所有"}),a.jsx(at,{value:"active",children:"活動"}),a.jsx(at,{value:"inactive",children:"暫時鎖定"})]})]})]}),a.jsx("div",{className:"flex items-end",children:a.jsxs(W,{variant:"outline",className:"w-full",onClick:()=>{d(""),i(!1),c(!1),l.current&&clearTimeout(l.current),h({search:"",role:"all",vipStatus:"all",isActive:"all"}),E(1)},children:[a.jsx(mr,{className:"h-4 w-4 mr-2"}),"清除過濾器"]})})]})})]}),a.jsxs(ue,{children:[a.jsxs(xe,{children:[a.jsx(ye,{children:"用戶列表"}),a.jsxs(rt,{children:["總共 ",$," 用戶 • VIP: ",B.vipUsers," • 非VIP: ",B.totalUsers-B.vipUsers," • 第 ",T," 頁 / ",I," 頁"]})]}),a.jsx(he,{children:a.jsxs(wo,{defaultValue:"all",className:"w-full",onValueChange:H=>{z(H),E(1)},children:[a.jsxs(ni,{className:"grid w-full grid-cols-3",children:[a.jsx(Mt,{value:"all",children:"所有用戶"}),a.jsx(Mt,{value:"vip",children:"VIP用戶"}),a.jsx(Mt,{value:"non-vip",children:"非VIP用戶"})]}),a.jsxs(er,{value:"all",children:[a.jsxs(Ur,{children:[a.jsx(Wr,{children:a.jsxs(Pt,{children:[a.jsx(_e,{children:"信息"}),a.jsx(_e,{children:"角色 & VIP"}),a.jsx(_e,{children:"統計"}),a.jsx(_e,{children:"狀態"}),a.jsx(_e,{children:"操作"})]})}),a.jsx(Hr,{children:Ee(Je(M,"all"),T).map(H=>{var be,Ie,It,lr;return a.jsxs(Pt,{children:[a.jsx(Pe,{children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx(Nr,{className:"h-5 w-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:H.name}),a.jsxs("div",{className:"text-sm text-gray-600 flex items-center",children:[a.jsx(ki,{className:"h-3 w-3 mr-1"}),H.email]}),a.jsxs("div",{className:"text-sm text-gray-600 flex items-center",children:[a.jsx(fa,{className:"h-3 w-3 mr-1"}),H.phone]}),H.licensePlate&&a.jsxs("div",{className:"text-sm text-gray-600 flex items-center",children:[a.jsx(ir,{className:"h-3 w-3 mr-1"}),H.licensePlate]})]})]})}),a.jsx(Pe,{children:a.jsxs("div",{className:"space-y-2",children:[re(H.role),H.isVIP&&a.jsxs("div",{className:"space-y-1",children:[a.jsxs(Le,{variant:"default",className:"bg-yellow-100 text-yellow-800",children:[a.jsx(Wo,{className:"h-3 w-3 mr-1"}),"VIP ",H.vipDiscount,"%"]}),H.vipCode?a.jsx("div",{className:"text-xs",children:a.jsx("code",{className:"bg-yellow-50 px-1 py-0.5 rounded text-yellow-700 font-mono",children:H.vipCode})}):a.jsx("div",{className:"text-xs text-red-600",children:"⚠️ 尚未有VIP碼"})]})]})}),a.jsx(Pe,{children:a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"預約:"}),a.jsx("span",{className:"font-medium",children:((be=H.stats)==null?void 0:be.totalBookings)||0})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"總支出:"}),a.jsx("span",{className:"font-medium",children:me(((Ie=H.stats)==null?void 0:Ie.totalSpent)||0)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"平均:"}),a.jsx("span",{className:"font-medium",children:me(((It=H.stats)==null?void 0:It.averageSpent)||0)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"趨勢:"}),te(((lr=H.stats)==null?void 0:lr.bookingTrend)||"stable")]})]})}),a.jsx(Pe,{children:Te(H.isActive)}),a.jsx(Pe,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(W,{size:"sm",variant:"outline",onClick:()=>oe(H),title:"查看詳細信息",children:a.jsx(za,{className:"h-4 w-4"})}),a.jsx(W,{size:"sm",variant:"outline",onClick:()=>Q(H),title:"編輯",children:a.jsx(an,{className:"h-4 w-4"})}),a.jsx(W,{size:"sm",variant:"outline",onClick:()=>K(H),title:"管理VIP",children:a.jsx(Uo,{className:"h-4 w-4"})}),a.jsx(W,{size:"sm",variant:"outline",onClick:()=>Ce(H),title:"更改密碼",className:"bg-blue-50 border-blue-200 text-blue-700 hover:bg-blue-100",children:a.jsx(Sh,{className:"h-4 w-4"})}),H.isVIP&&!H.vipCode&&a.jsx(W,{size:"sm",variant:"outline",onClick:()=>nt(H._id),title:"創建VIP碼",className:"bg-yellow-50 border-yellow-200 text-yellow-700 hover:bg-yellow-100",children:a.jsx(Wo,{className:"h-4 w-4"})}),H.role!=="admin"&&a.jsx(W,{size:"sm",variant:"destructive",onClick:()=>ae(H),title:"刪除用戶",children:a.jsx(_r,{className:"h-4 w-4"})})]})})]},H._id)})})]}),Je(M,"all").length===0&&a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(ca,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"找不到用戶"}),a.jsx("p",{className:"text-gray-500",children:"找不到任何用戶符合當前過濾器。"})]}),Math.ceil(Je(M,"non-vip").length/10)>1&&a.jsxs("div",{className:"flex items-center justify-between mt-6",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:["顯示 ",(T-1)*10+1," - ",Math.min(T*10,Je(M,"non-vip").length)," 的 ",Je(M,"non-vip").length," 用戶"]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs(W,{variant:"outline",size:"sm",onClick:()=>E(H=>Math.max(1,H-1)),disabled:T===1,children:[a.jsx(dc,{className:"h-4 w-4"}),"上一頁"]}),a.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,Math.ceil(Je(M,"non-vip").length/10))},(H,be)=>{const Ie=be+1;return a.jsx(W,{variant:T===Ie?"default":"outline",size:"sm",onClick:()=>E(Ie),children:Ie},Ie)})}),a.jsxs(W,{variant:"outline",size:"sm",onClick:()=>E(H=>Math.min(Math.ceil(Je(M,"non-vip").length/10),H+1)),disabled:T===Math.ceil(Je(M,"non-vip").length/10),children:["下一頁",a.jsx(fc,{className:"h-4 w-4"})]})]})]})]}),a.jsxs(er,{value:"vip",children:[a.jsxs(Ur,{children:[a.jsx(Wr,{children:a.jsxs(Pt,{children:[a.jsx(_e,{children:"信息"}),a.jsx(_e,{children:"角色 & VIP"}),a.jsx(_e,{children:"統計"}),a.jsx(_e,{children:"狀態"}),a.jsx(_e,{children:"操作"})]})}),a.jsx(Hr,{children:Ee(Je(M,"vip"),T).map(H=>{var be,Ie,It,lr;return a.jsxs(Pt,{children:[a.jsx(Pe,{children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx(Nr,{className:"h-5 w-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:H.name}),a.jsxs("div",{className:"text-sm text-gray-600 flex items-center",children:[a.jsx(ki,{className:"h-3 w-3 mr-1"}),H.email]}),a.jsxs("div",{className:"text-sm text-gray-600 flex items-center",children:[a.jsx(fa,{className:"h-3 w-3 mr-1"}),H.phone]}),H.licensePlate&&a.jsxs("div",{className:"text-sm text-gray-600 flex items-center",children:[a.jsx(ir,{className:"h-3 w-3 mr-1"}),H.licensePlate]})]})]})}),a.jsx(Pe,{children:a.jsxs("div",{className:"space-y-2",children:[re(H.role),H.isVIP&&a.jsxs("div",{className:"space-y-1",children:[a.jsxs(Le,{variant:"default",className:"bg-yellow-100 text-yellow-800",children:[a.jsx(Wo,{className:"h-3 w-3 mr-1"}),"VIP ",H.vipDiscount,"%"]}),H.vipCode?a.jsx("div",{className:"text-xs",children:a.jsx("code",{className:"bg-yellow-50 px-1 py-0.5 rounded text-yellow-700 font-mono",children:H.vipCode})}):a.jsx("div",{className:"text-xs text-red-600",children:"⚠️ 尚未有VIP碼"})]})]})}),a.jsx(Pe,{children:a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"預約:"}),a.jsx("span",{className:"font-medium",children:((be=H.stats)==null?void 0:be.totalBookings)||0})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"總支出:"}),a.jsx("span",{className:"font-medium",children:me(((Ie=H.stats)==null?void 0:Ie.totalSpent)||0)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"平均:"}),a.jsx("span",{className:"font-medium",children:me(((It=H.stats)==null?void 0:It.averageSpent)||0)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"趨勢:"}),te(((lr=H.stats)==null?void 0:lr.bookingTrend)||"stable")]})]})}),a.jsx(Pe,{children:Te(H.isActive)}),a.jsx(Pe,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(W,{size:"sm",variant:"outline",onClick:()=>oe(H),title:"查看詳細信息",children:a.jsx(za,{className:"h-4 w-4"})}),a.jsx(W,{size:"sm",variant:"outline",onClick:()=>Q(H),title:"編輯",children:a.jsx(an,{className:"h-4 w-4"})}),a.jsx(W,{size:"sm",variant:"outline",onClick:()=>K(H),title:"管理VIP",children:a.jsx(Uo,{className:"h-4 w-4"})}),a.jsx(W,{size:"sm",variant:"outline",onClick:()=>Ce(H),title:"更改密碼",className:"bg-blue-50 border-blue-200 text-blue-700 hover:bg-blue-100",children:a.jsx(Sh,{className:"h-4 w-4"})}),H.isVIP&&!H.vipCode&&a.jsx(W,{size:"sm",variant:"outline",onClick:()=>nt(H._id),title:"創建VIP碼",className:"bg-yellow-50 border-yellow-200 text-yellow-700 hover:bg-yellow-100",children:a.jsx(Wo,{className:"h-4 w-4"})}),H.role!=="admin"&&a.jsx(W,{size:"sm",variant:"destructive",onClick:()=>ae(H),title:"刪除用戶",children:a.jsx(_r,{className:"h-4 w-4"})})]})})]},H._id)})})]}),Je(M,"vip").length===0&&a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(ca,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"找不到VIP用戶"}),a.jsx("p",{className:"text-gray-500",children:"找不到任何VIP用戶符合當前過濾器。"})]}),Math.ceil(Je(M,"vip").length/10)>1&&a.jsxs("div",{className:"flex items-center justify-between mt-6",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:["顯示 ",(T-1)*10+1," - ",Math.min(T*10,Je(M,"vip").length)," 的 ",Je(M,"vip").length," 用戶"]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs(W,{variant:"outline",size:"sm",onClick:()=>E(H=>Math.max(1,H-1)),disabled:T===1,children:[a.jsx(dc,{className:"h-4 w-4"}),"上一頁"]}),a.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,Math.ceil(Je(M,"vip").length/10))},(H,be)=>{const Ie=be+1;return a.jsx(W,{variant:T===Ie?"default":"outline",size:"sm",onClick:()=>E(Ie),children:Ie},Ie)})}),a.jsxs(W,{variant:"outline",size:"sm",onClick:()=>E(H=>Math.min(Math.ceil(Je(M,"vip").length/10),H+1)),disabled:T===Math.ceil(Je(M,"vip").length/10),children:["下一頁",a.jsx(fc,{className:"h-4 w-4"})]})]})]})]}),a.jsxs(er,{value:"non-vip",children:[a.jsxs(Ur,{children:[a.jsx(Wr,{children:a.jsxs(Pt,{children:[a.jsx(_e,{children:"信息"}),a.jsx(_e,{children:"角色 & VIP"}),a.jsx(_e,{children:"統計"}),a.jsx(_e,{children:"狀態"}),a.jsx(_e,{children:"操作"})]})}),a.jsx(Hr,{children:Ee(Je(M,"non-vip"),T).map(H=>{var be,Ie,It,lr;return a.jsxs(Pt,{children:[a.jsx(Pe,{children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx(Nr,{className:"h-5 w-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:H.name}),a.jsxs("div",{className:"text-sm text-gray-600 flex items-center",children:[a.jsx(ki,{className:"h-3 w-3 mr-1"}),H.email]}),a.jsxs("div",{className:"text-sm text-gray-600 flex items-center",children:[a.jsx(fa,{className:"h-3 w-3 mr-1"}),H.phone]}),H.licensePlate&&a.jsxs("div",{className:"text-sm text-gray-600 flex items-center",children:[a.jsx(ir,{className:"h-3 w-3 mr-1"}),H.licensePlate]})]})]})}),a.jsx(Pe,{children:a.jsxs("div",{className:"space-y-2",children:[re(H.role),a.jsx("div",{className:"text-xs text-gray-500",children:"非VIP用戶"})]})}),a.jsx(Pe,{children:a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"預約:"}),a.jsx("span",{className:"font-medium",children:((be=H.stats)==null?void 0:be.totalBookings)||0})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"總支出:"}),a.jsx("span",{className:"font-medium",children:me(((Ie=H.stats)==null?void 0:Ie.totalSpent)||0)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"平均:"}),a.jsx("span",{className:"font-medium",children:me(((It=H.stats)==null?void 0:It.averageSpent)||0)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"趨勢:"}),te(((lr=H.stats)==null?void 0:lr.bookingTrend)||"stable")]})]})}),a.jsx(Pe,{children:Te(H.isActive)}),a.jsx(Pe,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(W,{size:"sm",variant:"outline",onClick:()=>oe(H),title:"查看詳細信息",children:a.jsx(za,{className:"h-4 w-4"})}),a.jsx(W,{size:"sm",variant:"outline",onClick:()=>Q(H),title:"編輯",children:a.jsx(an,{className:"h-4 w-4"})}),a.jsx(W,{size:"sm",variant:"outline",onClick:()=>K(H),title:"管理VIP",children:a.jsx(Uo,{className:"h-4 w-4"})}),H.role!=="admin"&&a.jsx(W,{size:"sm",variant:"destructive",onClick:()=>ae(H),title:"刪除用戶",children:a.jsx(_r,{className:"h-4 w-4"})})]})})]},H._id)})})]}),Je(M,"non-vip").length===0&&a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(ca,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"找不到非VIP用戶"}),a.jsx("p",{className:"text-gray-500",children:"找不到任何非VIP用戶符合當前過濾器。"})]}),Math.ceil(Je(M,"all").length/10)>1&&a.jsxs("div",{className:"flex items-center justify-between mt-6",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:["顯示 ",(T-1)*10+1," - ",Math.min(T*10,Je(M,"all").length)," 的 ",Je(M,"all").length," 用戶"]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs(W,{variant:"outline",size:"sm",onClick:()=>E(H=>Math.max(1,H-1)),disabled:T===1,children:[a.jsx(dc,{className:"h-4 w-4"}),"上一頁"]}),a.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,Math.ceil(Je(M,"all").length/10))},(H,be)=>{const Ie=be+1;return a.jsx(W,{variant:T===Ie?"default":"outline",size:"sm",onClick:()=>E(Ie),children:Ie},Ie)})}),a.jsxs(W,{variant:"outline",size:"sm",onClick:()=>E(H=>Math.min(Math.ceil(Je(M,"all").length/10),H+1)),disabled:T===Math.ceil(Je(M,"all").length/10),children:["下一頁",a.jsx(fc,{className:"h-4 w-4"})]})]})]})]})]})})]}),a.jsx(ft,{open:m,onOpenChange:x,children:a.jsxs(it,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[a.jsxs(ot,{children:[a.jsx(lt,{children:"用戶詳細信息"}),a.jsx(ut,{children:"用戶詳細信息"})]}),p&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsxs("h4",{className:"font-semibold mb-3 flex items-center",children:[a.jsx(Nr,{className:"h-4 w-4 mr-2"}),"基本信息"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"姓名:"})," ",p.name]}),a.jsxs("div",{children:[a.jsx("strong",{children:"電子郵件:"})," ",p.email]}),a.jsxs("div",{children:[a.jsx("strong",{children:"電話號碼:"})," ",p.phone]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"角色:"})," ",re(p.role)]}),a.jsxs("div",{children:[a.jsx("strong",{children:"狀態:"})," ",Te(p.isActive)]}),a.jsxs("div",{children:[a.jsx("strong",{children:"加入:"})," ",or(p.createdAt)]})]})]})]}),p.licensePlate&&a.jsxs("div",{children:[a.jsxs("h4",{className:"font-semibold mb-3 flex items-center",children:[a.jsx(ir,{className:"h-4 w-4 mr-2"}),"車輛信息"]}),a.jsxs("div",{className:"text-sm",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"車牌號碼:"})," ",p.licensePlate]}),p.address&&a.jsxs("div",{children:[a.jsx("strong",{children:"地址:"})," ",p.address]})]})]}),p.isVIP&&a.jsxs("div",{children:[a.jsxs("h4",{className:"font-semibold mb-3 flex items-center",children:[a.jsx(Uo,{className:"h-4 w-4 mr-2"}),"VIP信息"]}),a.jsxs("div",{className:"text-sm",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"VIP折扣:"})," ",p.vipDiscount,"%"]}),a.jsxs("div",{children:[a.jsx("strong",{children:"VIP碼:"})," ",a.jsx("code",{className:"bg-yellow-100 px-2 py-1 rounded text-yellow-800 font-mono",children:p.vipCode||"N/A"})]}),a.jsxs("div",{children:[a.jsx("strong",{children:"VIP創建日期:"})," ",p.vipCreatedAt?or(p.vipCreatedAt):"N/A"]})]})]}),a.jsxs("div",{children:[a.jsxs("h4",{className:"font-semibold mb-3 flex items-center",children:[a.jsx(Wo,{className:"h-4 w-4 mr-2"}),"統計"]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:((Jt=p.stats)==null?void 0:Jt.totalBookings)||0}),a.jsx("div",{className:"text-gray-500",children:"總預約"})]}),a.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded",children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:me(((ar=p.stats)==null?void 0:ar.totalSpent)||0)}),a.jsx("div",{className:"text-gray-500",children:"總支出"})]}),a.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded",children:[a.jsx("div",{className:"text-2xl font-bold text-purple-600",children:me(((Vt=p.stats)==null?void 0:Vt.averageSpent)||0)}),a.jsx("div",{className:"text-gray-500",children:"平均/預約"})]}),a.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded",children:[a.jsx("div",{className:"text-2xl font-bold text-orange-600",children:te(((Qn=p.stats)==null?void 0:Qn.bookingTrend)||"stable")}),a.jsx("div",{className:"text-gray-500",children:"趨勢"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4 text-sm",children:[a.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded",children:[a.jsx("div",{className:"text-xl font-bold text-blue-600",children:((Cx=p.stats)==null?void 0:Cx.completedBookings)||0}),a.jsx("div",{className:"text-gray-500",children:"完成"})]}),a.jsxs("div",{className:"text-center p-3 bg-yellow-50 rounded",children:[a.jsx("div",{className:"text-xl font-bold text-yellow-600",children:((kx=p.stats)==null?void 0:kx.pendingBookings)||0}),a.jsx("div",{className:"text-gray-500",children:"等待確認"})]}),a.jsxs("div",{className:"text-center p-3 bg-red-50 rounded",children:[a.jsx("div",{className:"text-xl font-bold text-red-600",children:((Tx=p.stats)==null?void 0:Tx.cancelledBookings)||0}),a.jsx("div",{className:"text-gray-500",children:"已取消"})]}),a.jsxs("div",{className:"text-center p-3 bg-green-50 rounded",children:[a.jsx("div",{className:"text-xl font-bold text-green-600",children:Be(((Ex=p.stats)==null?void 0:Ex.averageDuration)||0)}),a.jsx("div",{className:"text-gray-500",children:"平均時間"})]})]}),(($x=p.stats)==null?void 0:$x.totalVipSavings)&&p.stats.totalVipSavings>0&&a.jsxs("div",{className:"mt-4 p-3 bg-yellow-50 rounded",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(rD,{className:"h-4 w-4 text-yellow-600 mr-2"}),a.jsx("span",{className:"font-medium",children:"VIP節省"})]}),a.jsx("div",{className:"text-xl font-bold text-yellow-600",children:me(p.stats.totalVipSavings)})]}),a.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:["從 ",((Dx=p.stats)==null?void 0:Dx.vipBookingsCount)||0," 預約VIP"]})]})]}),((Ix=p.stats)==null?void 0:Ix.recentBookings)&&p.stats.recentBookings.length>0&&a.jsxs("div",{children:[a.jsxs("h4",{className:"font-semibold mb-3 flex items-center",children:[a.jsx(Et,{className:"h-4 w-4 mr-2"}),"最近預約"]}),a.jsx("div",{className:"space-y-2",children:p.stats.recentBookings.map(H=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded",children:[a.jsx("div",{className:"flex items-center space-x-3",children:a.jsxs("div",{className:"text-sm",children:[a.jsx("div",{className:"font-medium",children:H.driverName}),a.jsx("div",{className:"text-gray-600",children:H.licensePlate})]})}),a.jsxs("div",{className:"flex items-center space-x-2",children:[U(H.status),a.jsx("div",{className:"text-sm font-medium",children:me(H.finalAmount)})]})]},H._id))})]}),p.notes&&a.jsxs("div",{children:[a.jsxs("h4",{className:"font-semibold mb-3 flex items-center",children:[a.jsx(Ci,{className:"h-4 w-4 mr-2"}),"備註"]}),a.jsx("div",{className:"text-sm p-3 bg-yellow-50 rounded",children:p.notes})]})]}),a.jsxs(ct,{children:[a.jsx(W,{variant:"outline",onClick:()=>x(!1),children:"關閉"}),a.jsx(W,{onClick:()=>{x(!1),p&&Q(p)},children:"編輯"})]})]})}),a.jsx(ft,{open:j||b,onOpenChange:H=>{H||(S(!1),y(!1),L())},children:a.jsxs(it,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[a.jsxs(ot,{children:[a.jsx(lt,{children:P?"編輯用戶":"添加新用戶"}),a.jsx(ut,{children:P?"更新用戶信息":"在系統中創建新用戶"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"name",children:"姓名 *"}),a.jsx(le,{id:"name",value:ce.name,onChange:H=>we(be=>({...be,name:H.target.value}))})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"email",children:"Email *"}),a.jsx(le,{id:"email",type:"email",value:ce.email,onChange:H=>we(be=>({...be,email:H.target.value}))})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"phone",children:"電話號碼 *"}),a.jsx(le,{id:"phone",value:ce.phone,onChange:H=>we(be=>({...be,phone:H.target.value}))})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"role",children:"角色 *"}),a.jsxs(tn,{value:ce.role,onValueChange:H=>we(be=>({...be,role:H})),children:[a.jsx(Rr,{children:a.jsx(rn,{})}),a.jsxs(Lr,{children:[a.jsx(at,{value:"user",children:"客戶"}),a.jsx(at,{value:"staff",children:"員工"}),a.jsx(at,{value:"admin",children:"管理員"})]})]})]})]}),!P&&a.jsxs("div",{children:[a.jsxs(Z,{htmlFor:"password",children:["密碼 ",!P&&"*"]}),a.jsx(le,{id:"password",type:"password",value:ce.password,onChange:H=>we(be=>({...be,password:H.target.value})),placeholder:P?"留空如果不想更改":"輸入密碼"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"licensePlate",children:"車牌號碼"}),a.jsx(le,{id:"licensePlate",value:ce.licensePlate,onChange:H=>we(be=>({...be,licensePlate:H.target.value}))})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"address",children:"地址"}),a.jsx(le,{id:"address",value:ce.address,onChange:H=>we(be=>({...be,address:H.target.value}))})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Nt,{id:"isVIP",checked:ce.isVIP,onCheckedChange:H=>we(be=>({...be,isVIP:H}))}),a.jsx(Z,{htmlFor:"isVIP",children:"VIP用戶"})]}),ce.isVIP&&a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"vipDiscount",children:"VIP折扣 (%)"}),a.jsx(le,{id:"vipDiscount",type:"number",min:"0",max:"100",value:ce.vipDiscount,onChange:H=>we(be=>({...be,vipDiscount:parseInt(H.target.value)}))})]})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"notes",children:"備註"}),a.jsx(rr,{id:"notes",value:ce.notes,onChange:H=>we(be=>({...be,notes:H.target.value})),rows:3,placeholder:"關於用戶的備註..."})]})]}),a.jsxs(ct,{children:[a.jsx(W,{variant:"outline",onClick:()=>{S(!1),y(!1),L()},children:"取消"}),a.jsx(W,{onClick:P?Me:ee,children:P?"更新":"創建用戶"})]})]})}),a.jsx(ft,{open:A,onOpenChange:O,children:a.jsxs(it,{children:[a.jsxs(ot,{children:[a.jsx(lt,{children:"管理VIP"}),a.jsx(ut,{children:"更新用戶的VIP信息"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Nt,{id:"vipStatus",checked:pe.isVIP,onCheckedChange:H=>Oe(be=>({...be,isVIP:H,vipDiscount:H?be.vipDiscount:0}))}),a.jsx(Z,{htmlFor:"vipStatus",children:"VIP用戶"})]}),pe.isVIP&&a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"vipDiscountAmount",children:"VIP折扣 (%)"}),a.jsx(le,{id:"vipDiscountAmount",type:"number",min:"0",max:"100",value:pe.vipDiscount,onChange:H=>{const be=parseInt(H.target.value);Oe(Ie=>({...Ie,vipDiscount:isNaN(be)?0:Math.max(0,Math.min(100,be))}))}})]})]}),a.jsxs(ct,{children:[a.jsx(W,{variant:"outline",onClick:()=>O(!1),children:"取消"}),a.jsx(W,{onClick:tt,children:"更新VIP"})]})]})}),a.jsx(ft,{open:N,onOpenChange:w,children:a.jsxs(it,{children:[a.jsxs(ot,{children:[a.jsx(lt,{children:"確認刪除"}),a.jsxs(ut,{children:['您確定要刪除用戶 "',p==null?void 0:p.name,'"? 此操作無法撤銷。']})]}),a.jsxs(ct,{children:[a.jsx(W,{variant:"outline",onClick:()=>w(!1),children:"取消"}),a.jsx(W,{variant:"destructive",onClick:Se,children:"刪除"})]})]})}),a.jsx(ft,{open:_,onOpenChange:C,children:a.jsxs(it,{children:[a.jsxs(ot,{children:[a.jsxs(lt,{className:"flex items-center",children:[a.jsx(Sh,{className:"h-5 w-5 mr-2"}),"更改密碼"]}),a.jsxs(ut,{children:['為用戶 "',p==null?void 0:p.name,'" 更改密碼']})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"newPassword",children:"新密碼 *"}),a.jsx(le,{id:"newPassword",type:"password",value:R.newPassword,onChange:H=>de(be=>({...be,newPassword:H.target.value})),placeholder:"輸入新密碼",minLength:6}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"密碼至少需要6個字符"})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"confirmPassword",children:"確認新密碼 *"}),a.jsx(le,{id:"confirmPassword",type:"password",value:R.confirmPassword,onChange:H=>de(be=>({...be,confirmPassword:H.target.value})),placeholder:"再次輸入新密碼",minLength:6})]}),R.newPassword&&R.confirmPassword&&R.newPassword!==R.confirmPassword&&a.jsx("div",{className:"text-sm text-red-600 bg-red-50 p-2 rounded",children:"⚠️ 密碼不匹配"}),R.newPassword&&R.newPassword.length<6&&a.jsx("div",{className:"text-sm text-red-600 bg-red-50 p-2 rounded",children:"⚠️ 密碼至少需要6個字符"})]}),a.jsxs(ct,{children:[a.jsx(W,{variant:"outline",onClick:()=>{C(!1),de({newPassword:"",confirmPassword:""})},children:"取消"}),a.jsx(W,{onClick:ze,disabled:!R.newPassword||!R.confirmPassword||R.newPassword!==R.confirmPassword||R.newPassword.length<6,className:"bg-blue-600 hover:bg-blue-700",children:"更改密碼"})]})]})})]})},cu={bookingTerms:{content:`1. Điều khoản đặt chỗ bãi đậu xe

• Khách hàng phải đặt chỗ trước ít nhất 1 giờ
• Thời gian đặt chỗ tối đa là 30 ngày
• Mỗi lần đặt chỗ tối thiểu 1 giờ
• Hủy đặt chỗ trước 2 giờ để được hoàn tiền

2. Thông tin cần thiết khi đặt chỗ

• Họ tên khách hàng
• Số điện thoại liên hệ
• Biển số xe
• Thời gian đặt chỗ (giờ đến và giờ đi)
• Loại bãi đậu xe mong muốn

3. Xác nhận đặt chỗ

• Hệ thống sẽ gửi SMS/Email xác nhận
• Khách hàng cần xác nhận trong vòng 15 phút
• Nếu không xác nhận, đặt chỗ sẽ tự động hủy`,isActive:!0},bookingRules:{content:`1. Quy định sử dụng bãi đậu xe

• Tuân thủ hướng dẫn của nhân viên
• Đậu xe đúng vị trí được chỉ định
• Không để xe quá thời gian đã đặt
• Giữ gìn vệ sinh chung

2. Quy định về an toàn

• Tắt động cơ khi đậu xe
• Khóa xe cẩn thận
• Không để vật có giá trị trong xe
• Báo cáo ngay khi có sự cố

3. Quy định về thanh toán

• Thanh toán đầy đủ trước khi sử dụng
• Chấp nhận tiền mặt và thẻ tín dụng
• Hóa đơn sẽ được cung cấp sau khi thanh toán`,isActive:!0},privacyPolicy:{content:`1. Thu thập thông tin

• Thông tin cá nhân: tên, số điện thoại, email
• Thông tin xe: biển số, loại xe
• Thông tin đặt chỗ: thời gian, vị trí

2. Sử dụng thông tin

• Để xử lý đặt chỗ và thanh toán
• Để liên lạc với khách hàng
• Để cải thiện dịch vụ

3. Bảo mật thông tin

• Mã hóa dữ liệu nhạy cảm
• Không chia sẻ thông tin với bên thứ ba
• Tuân thủ quy định bảo mật dữ liệu`,isActive:!0},contactInfo:{content:`Thông tin liên hệ:

Điện thoại: +886 2 1234 5678
Email: info@parkingzone.com
Địa chỉ: 123 Parking Street, Taipei, Taiwan
Website: https://parkingzone.com

Giờ làm việc:
Thứ 2 - Thứ 6: 06:00 - 22:00
Thứ 7 - Chủ nhật: 07:00 - 21:00

Hỗ trợ khách hàng 24/7 qua hotline`,isActive:!0},timeSlotInterval:{content:`Cài đặt khoảng thời gian đặt chỗ:

• Khoảng thời gian mặc định: 15 phút
• Tùy chọn: 15, 30, 45, 60 phút
• Khách hàng có thể chọn thời gian phù hợp
• Hệ thống sẽ hiển thị các slot có sẵn`,isActive:!0},cancellationPolicy:{content:`Chính sách hủy đặt chỗ:

1. Hủy miễn phí
• Hủy trước 2 giờ: hoàn tiền 100%
• Hủy trước 1 giờ: hoàn tiền 50%

2. Hủy có phí
• Hủy trong vòng 1 giờ: không hoàn tiền
• Không đến đúng giờ: tính phí 1 giờ

3. Hoàn tiền
• Xử lý trong vòng 3-5 ngày làm việc
• Hoàn tiền qua phương thức thanh toán ban đầu`,isActive:!0},refundPolicy:{content:`Chính sách hoàn tiền:

1. Điều kiện hoàn tiền
• Hủy đặt chỗ đúng quy định
• Dịch vụ không đạt chất lượng
• Lỗi hệ thống kỹ thuật

2. Thời gian xử lý
• Hoàn tiền trong vòng 3-5 ngày làm việc
• Thông báo qua email/SMS

3. Phương thức hoàn tiền
• Hoàn tiền qua phương thức thanh toán ban đầu
• Chuyển khoản ngân hàng (nếu cần)`,isActive:!0}},Kle=()=>{const[e,t]=g.useState(!0),[r,n]=g.useState(!1),[s,i]=g.useState({contactInfo:{phone:"",email:"",address:"",website:""},businessHours:{open:"06:00",close:"22:00",is24Hours:!1},bookingTerms:"",bookingRules:"",defaultVIPDiscount:10,bookingAdvanceHours:24,maxBookingDays:30,minBookingDays:3,timeSlotInterval:15,autoCancelMinutes:15,notificationSettings:{emailNotifications:!0,smsNotifications:!1,reminderHours:1,confirmationEmail:!0,reminderEmail:!0},paymentSettings:{acceptCash:!0,acceptCreditCard:!0,acceptOnlinePayment:!1,currency:"TWD",taxRate:0},luggageSettings:{freeLuggageCount:1,luggagePricePerItem:100},maintenanceMode:{enabled:!1,message:""}}),[o,c]=g.useState(cu),[l,u]=g.useState(null),[d,f]=g.useState("");g.useEffect(()=>{h(),p()},[]);const h=async()=>{var w,A,O;try{t(!0);const _=await Hg();console.log("🔍 Loaded settings:",_),i(C=>({...C,..._,contactInfo:{...C.contactInfo,..._.contactInfo},businessHours:{...C.businessHours,..._.businessHours},notificationSettings:{...C.notificationSettings,..._.notificationSettings},paymentSettings:{...C.paymentSettings,..._.paymentSettings},luggageSettings:{...C.luggageSettings,..._.luggageSettings},maintenanceMode:{...C.maintenanceMode,..._.maintenanceMode}}))}catch(_){console.error("Error loading settings:",_);const C=((A=(w=_.response)==null?void 0:w.data)==null?void 0:A.message)||_.message||"無法載入系統設定";if(Y.error(C),((O=_.response)==null?void 0:O.status)===401)return}finally{t(!1)}},p=async()=>{try{const w=await bI();console.log("🔍 Loaded terms:",w),w.success?c(w.terms||cu):c(cu)}catch(w){console.error("Error loading terms:",w),c(cu)}},v=async()=>{var w,A;try{n(!0),console.log("🔍 Saving settings:",s),await EI(s),Y.success("設定儲存成功！")}catch(O){console.error("Error saving settings:",O);const _=((A=(w=O.response)==null?void 0:w.data)==null?void 0:A.message)||O.message||"無法儲存設定";Y.error(_)}finally{n(!1)}},m=async()=>{var w,A;try{n(!0),console.log("🔍 Saving booking terms:",{bookingTerms:s.bookingTerms,bookingRules:s.bookingRules}),await $I({bookingTerms:s.bookingTerms,bookingRules:s.bookingRules}),Y.success("預約條款儲存成功！")}catch(O){console.error("Error saving booking terms:",O);const _=((A=(w=O.response)==null?void 0:w.data)==null?void 0:A.message)||O.message||"無法儲存預約條款";Y.error(_)}finally{n(!1)}},x=async()=>{var w,A;try{n(!0),console.log("🔍 Saving all terms:",o),await jI(o),Y.success("儲存所有條款成功！")}catch(O){console.error("Error saving terms:",O);const _=((A=(w=O.response)==null?void 0:w.data)==null?void 0:A.message)||O.message||"無法儲存條款";Y.error(_)}finally{n(!1)}},b=w=>{u(w),f(o[w].content)},y=async()=>{var w,A;if(l)try{n(!0),console.log("🔍 Updating section:",l,{content:d,isActive:o[l].isActive}),await hy(l,{content:d,isActive:o[l].isActive});const O={...o,[l]:{...o[l],content:d}};c(O),u(null),f(""),Y.success("更新條款成功！")}catch(O){console.error("Error updating section:",O);const _=((A=(w=O.response)==null?void 0:w.data)==null?void 0:A.message)||O.message||"無法更新條款";Y.error(_)}finally{n(!1)}},j=async w=>{var A,O;try{console.log("🔍 Toggling section:",w,{content:o[w].content,isActive:!o[w].isActive}),await hy(w,{content:o[w].content,isActive:!o[w].isActive});const _={...o,[w]:{...o[w],isActive:!o[w].isActive}};c(_),Y.success(`${o[w].isActive?"停用":"啟用"}條款成功！`)}catch(_){console.error("Error toggling section:",_);const C=((O=(A=_.response)==null?void 0:A.data)==null?void 0:O.message)||_.message||"無法變更條款狀態";Y.error(C)}},S=w=>({bookingTerms:"預約條款",bookingRules:"預約規定",privacyPolicy:"隱私政策",contactInfo:"聯絡資訊",timeSlotInterval:"時段間隔",cancellationPolicy:"取消政策",refundPolicy:"退款政策"})[w],N=w=>({bookingTerms:a.jsx(_s,{className:"h-4 w-4"}),bookingRules:a.jsx(_u,{className:"h-4 w-4"}),privacyPolicy:a.jsx(Ou,{className:"h-4 w-4"}),contactInfo:a.jsx(fa,{className:"h-4 w-4"}),timeSlotInterval:a.jsx(qr,{className:"h-4 w-4"}),cancellationPolicy:a.jsx(Zr,{className:"h-4 w-4"}),refundPolicy:a.jsx(pr,{className:"h-4 w-4"})})[w];return e?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"系統設定"}),a.jsx("p",{className:"text-gray-600",children:"系統配置和一般資訊"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(W,{variant:"outline",onClick:h,children:[a.jsx(Gn,{className:"h-4 w-4 mr-2"}),"重新整理"]}),a.jsxs(W,{onClick:v,disabled:r,children:[a.jsx(ac,{className:"h-4 w-4 mr-2"}),r?"儲存中...":"儲存全部"]})]})]}),a.jsxs(wo,{defaultValue:"general",className:"space-y-6",children:[a.jsxs(ni,{children:[a.jsx(Mt,{value:"general",children:"一般"}),a.jsx(Mt,{value:"booking",children:"預約"}),a.jsx(Mt,{value:"notifications",children:"通知"}),a.jsx(Mt,{value:"payment",children:"付款"}),a.jsx(Mt,{value:"luggage",children:"行李"})]}),a.jsx(er,{value:"general",className:"space-y-6",children:a.jsxs(ue,{children:[a.jsx(xe,{children:a.jsxs(ye,{className:"flex items-center space-x-2",children:[a.jsx(wc,{className:"h-5 w-5 text-blue-600"}),a.jsx("span",{children:"一般設定"})]})}),a.jsxs(he,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"website",children:"Website"}),a.jsx(le,{id:"website",value:s.contactInfo.website,onChange:w=>i(A=>({...A,contactInfo:{...A.contactInfo,website:w.target.value}})),placeholder:"https://example.com"})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"contactEmail",children:"聯絡電子郵件"}),a.jsx(le,{id:"contactEmail",type:"email",value:s.contactInfo.email,onChange:w=>i(A=>({...A,contactInfo:{...A.contactInfo,email:w.target.value}})),placeholder:"info@example.com"})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"contactPhone",children:"電話號碼"}),a.jsx(le,{id:"contactPhone",value:s.contactInfo.phone,onChange:w=>i(A=>({...A,contactInfo:{...A.contactInfo,phone:w.target.value}})),placeholder:"+886 2 1234 5678"})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"address",children:"地址"}),a.jsx(le,{id:"address",value:s.contactInfo.address,onChange:w=>i(A=>({...A,contactInfo:{...A.contactInfo,address:w.target.value}})),placeholder:"123 Parking Street, Taipei, Taiwan"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Z,{children:"營業時間"}),a.jsx(le,{type:"time",value:s.businessHours.open,onChange:w=>i(A=>({...A,businessHours:{...A.businessHours,open:w.target.value}})),disabled:s.businessHours.is24Hours})]}),a.jsxs("div",{children:[a.jsx(Z,{children:"關門時間"}),a.jsx(le,{type:"time",value:s.businessHours.close,onChange:w=>i(A=>({...A,businessHours:{...A.businessHours,close:w.target.value}})),disabled:s.businessHours.is24Hours})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Nt,{id:"maintenanceMode",checked:s.maintenanceMode.enabled,onCheckedChange:w=>i(A=>({...A,maintenanceMode:{...A.maintenanceMode,enabled:w}}))}),a.jsx(Z,{htmlFor:"maintenanceMode",children:"維護模式"})]}),s.maintenanceMode.enabled&&a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"maintenanceMessage",children:"維護通知"}),a.jsx(rr,{id:"maintenanceMessage",value:s.maintenanceMode.message,onChange:w=>i(A=>({...A,maintenanceMode:{...A.maintenanceMode,message:w.target.value}})),placeholder:"系統正在維護中，請稍後再試。",rows:3})]}),a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"💡 注意事項"}),a.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[a.jsx("li",{children:"• 聯絡資訊將顯示在首頁"}),a.jsx("li",{children:"• 營業時間會影響預約功能"}),a.jsx("li",{children:"• 維護模式將暫停整個系統"})]})]})]})]})}),a.jsxs(er,{value:"booking",className:"space-y-6",children:[a.jsxs(ue,{children:[a.jsx(xe,{children:a.jsxs(ye,{className:"flex items-center space-x-2",children:[a.jsx(qr,{className:"h-5 w-5 text-blue-600"}),a.jsx("span",{children:"Cài đặt đặt chỗ"})]})}),a.jsxs(he,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"defaultVIPDiscount",children:"預設VIP折扣 (%)"}),a.jsx(le,{id:"defaultVIPDiscount",type:"number",min:"0",max:"100",value:s.defaultVIPDiscount,onChange:w=>i(A=>({...A,defaultVIPDiscount:parseInt(w.target.value)}))})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"bookingAdvanceHours",children:"提前預約 (小時)"}),a.jsx(le,{id:"bookingAdvanceHours",type:"number",min:"0",value:s.bookingAdvanceHours,onChange:w=>i(A=>({...A,bookingAdvanceHours:parseInt(w.target.value)}))})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"maxBookingDays",children:"最大 (天)"}),a.jsx(le,{id:"maxBookingDays",type:"number",min:"1",value:s.maxBookingDays,onChange:w=>i(A=>({...A,maxBookingDays:parseInt(w.target.value)}))})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"minBookingDays",children:"最少 (天)"}),a.jsx(le,{id:"minBookingDays",type:"number",min:"1",value:s.minBookingDays,onChange:w=>i(A=>({...A,minBookingDays:parseInt(w.target.value)}))})]})]}),a.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-semibold text-yellow-800 mb-2",children:"⚙️ 預約設定"}),a.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[a.jsx("li",{children:"• VIP折扣：適用於VIP客戶"}),a.jsx("li",{children:"• 提前預約：預約的最短時間"}),a.jsx("li",{children:"• 最少：客戶必須預約的最少天數"}),a.jsx("li",{children:"• 最大：可提前預約的最大天數"}),a.jsx("li",{children:"• 時段間隔：預約時段的精確度"}),a.jsx("li",{children:"• 自動取消：等待確認的時間"})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Nt,{id:"is24Hours",checked:s.businessHours.is24Hours,onCheckedChange:w=>i(A=>({...A,businessHours:{...A.businessHours,is24Hours:w}}))}),a.jsx(Z,{htmlFor:"is24Hours",children:"24/7營業"})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"timeSlotInterval",children:"預約時段間隔 (分鐘)"}),a.jsxs("select",{id:"timeSlotInterval",value:s.timeSlotInterval,onChange:w=>i(A=>({...A,timeSlotInterval:parseInt(w.target.value)})),className:"w-full p-2 border border-gray-300 rounded-md",children:[a.jsx("option",{value:15,children:"15 分鐘"}),a.jsx("option",{value:30,children:"30 分鐘"}),a.jsx("option",{value:45,children:"45 分鐘"}),a.jsx("option",{value:60,children:"60 分鐘"})]})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"autoCancelMinutes",children:"自動取消時間 (分鐘)"}),a.jsx(le,{id:"autoCancelMinutes",type:"number",min:"0",max:"120",value:s.autoCancelMinutes,onChange:w=>i(A=>({...A,autoCancelMinutes:parseInt(w.target.value)}))})]})]})]}),a.jsxs(ue,{children:[a.jsx(xe,{children:a.jsxs(ye,{className:"flex items-center space-x-2",children:[a.jsx(_s,{className:"h-5 w-5 text-blue-600"}),a.jsx("span",{children:"Điều khoản đặt chỗ"})]})}),a.jsxs(he,{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"請在預約停車位前仔細閱讀相關規定和條款。"}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"bookingTerms",children:"預約條款"}),a.jsx(rr,{id:"bookingTerms",value:s.bookingTerms,onChange:w=>i(A=>({...A,bookingTerms:w.target.value})),rows:10,placeholder:"輸入預約條款..."})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"bookingRules",children:"預約規定"}),a.jsx(rr,{id:"bookingRules",value:s.bookingRules,onChange:w=>i(A=>({...A,bookingRules:w.target.value})),rows:10,placeholder:"輸入預約規定..."})]}),a.jsxs(W,{onClick:m,disabled:r,children:[a.jsx(ac,{className:"h-4 w-4 mr-2"}),"儲存條款"]})]})]})]}),a.jsx(er,{value:"notifications",className:"space-y-6",children:a.jsxs(ue,{children:[a.jsx(xe,{children:a.jsxs(ye,{className:"flex items-center space-x-2",children:[a.jsx(mu,{className:"h-5 w-5 text-blue-600"}),a.jsx("span",{children:"Cài đặt thông báo"})]})}),a.jsxs(he,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Nt,{id:"emailNotifications",checked:s.notificationSettings.emailNotifications,onCheckedChange:w=>i(A=>({...A,notificationSettings:{...A.notificationSettings,emailNotifications:w}}))}),a.jsx(Z,{htmlFor:"emailNotifications",children:"電子郵件通知"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Nt,{id:"smsNotifications",checked:s.notificationSettings.smsNotifications,onCheckedChange:w=>i(A=>({...A,notificationSettings:{...A.notificationSettings,smsNotifications:w}}))}),a.jsx(Z,{htmlFor:"smsNotifications",children:"簡訊通知"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Nt,{id:"confirmationEmail",checked:s.notificationSettings.confirmationEmail,onCheckedChange:w=>i(A=>({...A,notificationSettings:{...A.notificationSettings,confirmationEmail:w}}))}),a.jsx(Z,{htmlFor:"confirmationEmail",children:"預約確認電子郵件"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Nt,{id:"reminderEmail",checked:s.notificationSettings.reminderEmail,onCheckedChange:w=>i(A=>({...A,notificationSettings:{...A.notificationSettings,reminderEmail:w}}))}),a.jsx(Z,{htmlFor:"reminderEmail",children:"提醒電子郵件"})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"reminderHours",children:"提前提醒時間 (小時)"}),a.jsx(le,{id:"reminderHours",type:"number",min:"0",max:"24",value:s.notificationSettings.reminderHours,onChange:w=>i(A=>({...A,notificationSettings:{...A.notificationSettings,reminderHours:parseInt(w.target.value)}}))})]})]})]})}),a.jsx(er,{value:"payment",className:"space-y-6",children:a.jsxs(ue,{children:[a.jsx(xe,{children:a.jsxs(ye,{className:"flex items-center space-x-2",children:[a.jsx(vN,{className:"h-5 w-5 text-blue-600"}),a.jsx("span",{children:"Cài đặt thanh toán"})]})}),a.jsxs(he,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"currency",children:"貨幣單位"}),a.jsx(le,{id:"currency",value:s.paymentSettings.currency,onChange:w=>i(A=>({...A,paymentSettings:{...A.paymentSettings,currency:w.target.value}}))})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"taxRate",children:"稅率 (%)"}),a.jsx(le,{id:"taxRate",type:"number",min:"0",max:"100",value:s.paymentSettings.taxRate,onChange:w=>i(A=>({...A,paymentSettings:{...A.paymentSettings,taxRate:parseFloat(w.target.value)}}))})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Nt,{id:"acceptCash",checked:s.paymentSettings.acceptCash,onCheckedChange:w=>i(A=>({...A,paymentSettings:{...A.paymentSettings,acceptCash:w}}))}),a.jsx(Z,{htmlFor:"acceptCash",children:"接受現金"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Nt,{id:"acceptCreditCard",checked:s.paymentSettings.acceptCreditCard,onCheckedChange:w=>i(A=>({...A,paymentSettings:{...A.paymentSettings,acceptCreditCard:w}}))}),a.jsx(Z,{htmlFor:"acceptCreditCard",children:"接受信用卡"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Nt,{id:"acceptOnlinePayment",checked:s.paymentSettings.acceptOnlinePayment,onCheckedChange:w=>i(A=>({...A,paymentSettings:{...A.paymentSettings,acceptOnlinePayment:w}}))}),a.jsx(Z,{htmlFor:"acceptOnlinePayment",children:"接受線上付款"})]})]})]})]})}),a.jsx(er,{value:"luggage",className:"space-y-6",children:a.jsxs(ue,{children:[a.jsxs(xe,{children:[a.jsxs(ye,{className:"flex items-center space-x-2",children:[a.jsx(Dm,{className:"h-5 w-5 text-blue-600"}),a.jsx("span",{children:"Cài đặt hành lý"})]}),a.jsx(rt,{children:"配置行李費用和免費行李數量"})]}),a.jsxs(he,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"freeLuggageCount",children:"免費行李數量"}),a.jsx(le,{id:"freeLuggageCount",type:"number",min:"0",value:s.luggageSettings.freeLuggageCount,onChange:w=>i(A=>({...A,luggageSettings:{...A.luggageSettings,freeLuggageCount:parseInt(w.target.value)||0}})),placeholder:"1"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"每個預約的免費行李數量"})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"luggagePricePerItem",children:"每件額外行李價格 (NT$)"}),a.jsx(le,{id:"luggagePricePerItem",type:"number",min:"0",value:s.luggageSettings.luggagePricePerItem,onChange:w=>i(A=>({...A,luggageSettings:{...A.luggageSettings,luggagePricePerItem:parseInt(w.target.value)||0}})),placeholder:"100"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"超過免費數量後每件行李的費用"})]})]}),a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"費用計算範例："}),a.jsxs("div",{className:"text-sm text-blue-800 space-y-1",children:[a.jsxs("p",{children:["• 如果客戶選擇1件行李：免費 (≤ ",s.luggageSettings.freeLuggageCount,")"]}),a.jsxs("p",{children:["• 如果客戶選擇2件行李：額外費用 ",s.luggageSettings.luggagePricePerItem," NT$"]}),a.jsxs("p",{children:["• 如果客戶選擇3件行李：額外費用 ",s.luggageSettings.luggagePricePerItem*2," NT$"]})]})]})]})]})}),a.jsx(er,{value:"terms",className:"space-y-6",children:a.jsxs(ue,{children:[a.jsxs(xe,{children:[a.jsxs(ye,{className:"flex items-center space-x-2",children:[a.jsx(_s,{className:"h-5 w-5 text-blue-600"}),a.jsx("span",{children:"條款管理"})]}),a.jsx(rt,{children:"管理系統的所有條款和規定"})]}),a.jsxs(he,{className:"space-y-4",children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.keys(o).map(w=>a.jsxs(ue,{className:"relative",children:[a.jsx(xe,{className:"pb-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[N(w),a.jsx(ye,{className:"text-sm",children:S(w)})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Le,{variant:o[w].isActive?"default":"secondary",children:o[w].isActive?"啟用":"停用"}),a.jsx(W,{variant:"outline",size:"sm",onClick:()=>b(w),children:a.jsx(an,{className:"h-3 w-3"})})]})]})}),a.jsxs(he,{children:[a.jsxs("div",{className:"text-sm text-gray-600 line-clamp-3",children:[o[w].content.substring(0,100),"..."]}),a.jsx("div",{className:"mt-2",children:a.jsx(W,{variant:"outline",size:"sm",onClick:()=>j(w),children:o[w].isActive?"停用":"啟用"})})]})]},w))}),a.jsxs(W,{onClick:x,disabled:r,className:"w-full",children:[a.jsx(ac,{className:"h-4 w-4 mr-2"}),"儲存所有條款"]})]})]})})]}),a.jsx(ft,{open:!!l,onOpenChange:()=>u(null),children:a.jsxs(it,{className:"max-w-4xl",children:[a.jsxs(ot,{children:[a.jsxs(lt,{children:["編輯 ",l?S(l):""]}),a.jsx(ut,{children:"更新此條款內容"})]}),a.jsx("div",{className:"space-y-4",children:a.jsx(rr,{value:d,onChange:w=>f(w.target.value),rows:15,placeholder:"輸入條款內容..."})}),a.jsxs(ct,{children:[a.jsx(W,{variant:"outline",onClick:()=>u(null),children:"取消"}),a.jsxs(W,{onClick:y,disabled:r,children:[a.jsx(ac,{className:"h-4 w-4 mr-2"}),"儲存變更"]})]})]})})]})};var Nx="Progress",Sx=100,[Gle,Bde]=xh(Nx),[Zle,Xle]=Gle(Nx),xC=g.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:i=Yle,...o}=e;(s||s===0)&&!x1(s)&&console.error(Jle(`${s}`,"Progress"));const c=x1(s)?s:Sx;n!==null&&!y1(n,c)&&console.error(Qle(`${n}`,"Progress"));const l=y1(n,c)?n:null,u=Yd(l)?i(l,c):void 0;return a.jsx(Zle,{scope:r,value:l,max:c,children:a.jsx(Cr.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":Yd(l)?l:void 0,"aria-valuetext":u,role:"progressbar","data-state":jC(l,c),"data-value":l??void 0,"data-max":c,...o,ref:t})})});xC.displayName=Nx;var yC="ProgressIndicator",bC=g.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,s=Xle(yC,r);return a.jsx(Cr.div,{"data-state":jC(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:t})});bC.displayName=yC;function Yle(e,t){return`${Math.round(e/t*100)}%`}function jC(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Yd(e){return typeof e=="number"}function x1(e){return Yd(e)&&!isNaN(e)&&e>0}function y1(e,t){return Yd(e)&&!isNaN(e)&&e<=t&&e>=0}function Jle(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Sx}\`.`}function Qle(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Sx} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var wC=xC,eue=bC;const NC=g.forwardRef(({className:e,value:t,...r},n)=>a.jsx(wC,{ref:n,className:He("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:a.jsx(eue,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));NC.displayName=wC.displayName;var tue=es.useId||(()=>{}),rue=0;function ym(e){const[t,r]=g.useState(tue());return wl(()=>{r(n=>n??String(rue++))},[e]),e||(t?`radix-${t}`:"")}function nue(e,t=globalThis==null?void 0:globalThis.document){const r=Ys(e);g.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var aue="DismissableLayer",Pg="dismissableLayer.update",sue="dismissableLayer.pointerDownOutside",iue="dismissableLayer.focusOutside",b1,SC=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),AC=g.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:c,...l}=e,u=g.useContext(SC),[d,f]=g.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=g.useState({}),v=Zn(t,A=>f(A)),m=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=m.indexOf(x),y=d?m.indexOf(d):-1,j=u.layersWithOutsidePointerEventsDisabled.size>0,S=y>=b,N=lue(A=>{const O=A.target,_=[...u.branches].some(C=>C.contains(O));!S||_||(s==null||s(A),o==null||o(A),A.defaultPrevented||c==null||c())},h),w=uue(A=>{const O=A.target;[...u.branches].some(C=>C.contains(O))||(i==null||i(A),o==null||o(A),A.defaultPrevented||c==null||c())},h);return nue(A=>{y===u.layers.size-1&&(n==null||n(A),!A.defaultPrevented&&c&&(A.preventDefault(),c()))},h),g.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(b1=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),j1(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=b1)}},[d,h,r,u]),g.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),j1())},[d,u]),g.useEffect(()=>{const A=()=>p({});return document.addEventListener(Pg,A),()=>document.removeEventListener(Pg,A)},[]),a.jsx(Cr.div,{...l,ref:v,style:{pointerEvents:j?S?"auto":"none":void 0,...e.style},onFocusCapture:zn(e.onFocusCapture,w.onFocusCapture),onBlurCapture:zn(e.onBlurCapture,w.onBlurCapture),onPointerDownCapture:zn(e.onPointerDownCapture,N.onPointerDownCapture)})});AC.displayName=aue;var oue="DismissableLayerBranch",cue=g.forwardRef((e,t)=>{const r=g.useContext(SC),n=g.useRef(null),s=Zn(t,n);return g.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),a.jsx(Cr.div,{...e,ref:s})});cue.displayName=oue;function lue(e,t=globalThis==null?void 0:globalThis.document){const r=Ys(e),n=g.useRef(!1),s=g.useRef(()=>{});return g.useEffect(()=>{const i=c=>{if(c.target&&!n.current){let l=function(){OC(sue,r,u,{discrete:!0})};const u={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=l,t.addEventListener("click",s.current,{once:!0})):l()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function uue(e,t=globalThis==null?void 0:globalThis.document){const r=Ys(e),n=g.useRef(!1);return g.useEffect(()=>{const s=i=>{i.target&&!n.current&&OC(iue,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function j1(){const e=new CustomEvent(Pg);document.dispatchEvent(e)}function OC(e,t,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?wD(s,i):s.dispatchEvent(i)}var bm="focusScope.autoFocusOnMount",jm="focusScope.autoFocusOnUnmount",w1={bubbles:!1,cancelable:!0},due="FocusScope",_C=g.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[c,l]=g.useState(null),u=Ys(s),d=Ys(i),f=g.useRef(null),h=Zn(t,m=>l(m)),p=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(n){let m=function(j){if(p.paused||!c)return;const S=j.target;c.contains(S)?f.current=S:Da(f.current,{select:!0})},x=function(j){if(p.paused||!c)return;const S=j.relatedTarget;S!==null&&(c.contains(S)||Da(f.current,{select:!0}))},b=function(j){if(document.activeElement===document.body)for(const N of j)N.removedNodes.length>0&&Da(c)};document.addEventListener("focusin",m),document.addEventListener("focusout",x);const y=new MutationObserver(b);return c&&y.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",x),y.disconnect()}}},[n,c,p.paused]),g.useEffect(()=>{if(c){S1.add(p);const m=document.activeElement;if(!c.contains(m)){const b=new CustomEvent(bm,w1);c.addEventListener(bm,u),c.dispatchEvent(b),b.defaultPrevented||(fue(vue(PC(c)),{select:!0}),document.activeElement===m&&Da(c))}return()=>{c.removeEventListener(bm,u),setTimeout(()=>{const b=new CustomEvent(jm,w1);c.addEventListener(jm,d),c.dispatchEvent(b),b.defaultPrevented||Da(m??document.body,{select:!0}),c.removeEventListener(jm,d),S1.remove(p)},0)}}},[c,u,d,p]);const v=g.useCallback(m=>{if(!r&&!n||p.paused)return;const x=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,b=document.activeElement;if(x&&b){const y=m.currentTarget,[j,S]=hue(y);j&&S?!m.shiftKey&&b===S?(m.preventDefault(),r&&Da(j,{select:!0})):m.shiftKey&&b===j&&(m.preventDefault(),r&&Da(S,{select:!0})):b===y&&m.preventDefault()}},[r,n,p.paused]);return a.jsx(Cr.div,{tabIndex:-1,...o,ref:h,onKeyDown:v})});_C.displayName=due;function fue(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Da(n,{select:t}),document.activeElement!==r)return}function hue(e){const t=PC(e),r=N1(t,e),n=N1(t.reverse(),e);return[r,n]}function PC(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function N1(e,t){for(const r of e)if(!mue(r,{upTo:t}))return r}function mue(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function pue(e){return e instanceof HTMLInputElement&&"select"in e}function Da(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&pue(e)&&t&&e.select()}}var S1=gue();function gue(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=A1(e,t),e.unshift(t)},remove(t){var r;e=A1(e,t),(r=e[0])==null||r.resume()}}}function A1(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function vue(e){return e.filter(t=>t.tagName!=="A")}var xue="Portal",CC=g.forwardRef((e,t)=>{var c;const{container:r,...n}=e,[s,i]=g.useState(!1);wl(()=>i(!0),[]);const o=r||s&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return o?kg.createPortal(a.jsx(Cr.div,{...n,ref:t}),o):null});CC.displayName=xue;function yue(e,t){return g.useReducer((r,n)=>t[r][n]??r,e)}var yh=e=>{const{present:t,children:r}=e,n=bue(t),s=typeof r=="function"?r({present:n.isPresent}):g.Children.only(r),i=Zn(n.ref,jue(s));return typeof r=="function"||n.isPresent?g.cloneElement(s,{ref:i}):null};yh.displayName="Presence";function bue(e){const[t,r]=g.useState(),n=g.useRef({}),s=g.useRef(e),i=g.useRef("none"),o=e?"mounted":"unmounted",[c,l]=yue(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const u=lu(n.current);i.current=c==="mounted"?u:"none"},[c]),wl(()=>{const u=n.current,d=s.current;if(d!==e){const h=i.current,p=lu(u);e?l("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,l]),wl(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const m=lu(n.current).includes(p.animationName);if(p.target===t&&m&&(l("ANIMATION_END"),!s.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},h=p=>{p.target===t&&(i.current=lu(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:g.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function lu(e){return(e==null?void 0:e.animationName)||"none"}function jue(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var wm=0;function wue(){g.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??O1()),document.body.insertAdjacentElement("beforeend",e[1]??O1()),wm++,()=>{wm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),wm--}},[])}function O1(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var kC=g.forwardRef((e,t)=>{const{children:r,...n}=e,s=g.Children.toArray(r),i=s.find(Nue);if(i){const o=i.props.children,c=s.map(l=>l===i?g.Children.count(o)>1?g.Children.only(null):g.isValidElement(o)?o.props.children:null:l);return a.jsx(Cg,{...n,ref:t,children:g.isValidElement(o)?g.cloneElement(o,void 0,c):null})}return a.jsx(Cg,{...n,ref:t,children:r})});kC.displayName="Slot";var Cg=g.forwardRef((e,t)=>{const{children:r,...n}=e;if(g.isValidElement(r)){const s=Aue(r),i=Sue(n,r.props);return r.type!==g.Fragment&&(i.ref=t?Bg(t,s):s),g.cloneElement(r,i)}return g.Children.count(r)>1?g.Children.only(null):null});Cg.displayName="SlotClone";var TC=({children:e})=>a.jsx(a.Fragment,{children:e});function Nue(e){return g.isValidElement(e)&&e.type===TC}function Sue(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...c)=>{i(...c),s(...c)}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function Aue(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Ax="Dialog",[EC,$C]=xh(Ax),[Oue,On]=EC(Ax),DC=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,c=g.useRef(null),l=g.useRef(null),[u=!1,d]=fC({prop:n,defaultProp:s,onChange:i});return a.jsx(Oue,{scope:t,triggerRef:c,contentRef:l,contentId:ym(),titleId:ym(),descriptionId:ym(),open:u,onOpenChange:d,onOpenToggle:g.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};DC.displayName=Ax;var IC="DialogTrigger",MC=g.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=On(IC,r),i=Zn(t,s.triggerRef);return a.jsx(Cr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Px(s.open),...n,ref:i,onClick:zn(e.onClick,s.onOpenToggle)})});MC.displayName=IC;var Ox="DialogPortal",[_ue,RC]=EC(Ox,{forceMount:void 0}),LC=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,i=On(Ox,t);return a.jsx(_ue,{scope:t,forceMount:r,children:g.Children.map(n,o=>a.jsx(yh,{present:r||i.open,children:a.jsx(CC,{asChild:!0,container:s,children:o})}))})};LC.displayName=Ox;var Jd="DialogOverlay",FC=g.forwardRef((e,t)=>{const r=RC(Jd,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=On(Jd,e.__scopeDialog);return i.modal?a.jsx(yh,{present:n||i.open,children:a.jsx(Pue,{...s,ref:t})}):null});FC.displayName=Jd;var Pue=g.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=On(Jd,r);return a.jsx(gf,{as:kC,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(Cr.div,{"data-state":Px(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Js="DialogContent",BC=g.forwardRef((e,t)=>{const r=RC(Js,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=On(Js,e.__scopeDialog);return a.jsx(yh,{present:n||i.open,children:i.modal?a.jsx(Cue,{...s,ref:t}):a.jsx(kue,{...s,ref:t})})});BC.displayName=Js;var Cue=g.forwardRef((e,t)=>{const r=On(Js,e.__scopeDialog),n=g.useRef(null),s=Zn(t,r.contentRef,n);return g.useEffect(()=>{const i=n.current;if(i)return qg(i)},[]),a.jsx(VC,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:zn(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:zn(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,c=o.button===0&&o.ctrlKey===!0;(o.button===2||c)&&i.preventDefault()}),onFocusOutside:zn(e.onFocusOutside,i=>i.preventDefault())})}),kue=g.forwardRef((e,t)=>{const r=On(Js,e.__scopeDialog),n=g.useRef(!1),s=g.useRef(!1);return a.jsx(VC,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,c;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(c=r.triggerRef.current)==null||c.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var l,u;(l=e.onInteractOutside)==null||l.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),VC=g.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,c=On(Js,r),l=g.useRef(null),u=Zn(t,l);return wue(),a.jsxs(a.Fragment,{children:[a.jsx(_C,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(AC,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":Px(c.open),...o,ref:u,onDismiss:()=>c.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(Eue,{titleId:c.titleId}),a.jsx(Due,{contentRef:l,descriptionId:c.descriptionId})]})]})}),_x="DialogTitle",zC=g.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=On(_x,r);return a.jsx(Cr.h2,{id:s.titleId,...n,ref:t})});zC.displayName=_x;var UC="DialogDescription",WC=g.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=On(UC,r);return a.jsx(Cr.p,{id:s.descriptionId,...n,ref:t})});WC.displayName=UC;var HC="DialogClose",qC=g.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=On(HC,r);return a.jsx(Cr.button,{type:"button",...n,ref:t,onClick:zn(e.onClick,()=>s.onOpenChange(!1))})});qC.displayName=HC;function Px(e){return e?"open":"closed"}var KC="DialogTitleWarning",[Tue,GC]=Mle(KC,{contentName:Js,titleName:_x,docsSlug:"dialog"}),Eue=({titleId:e})=>{const t=GC(KC),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return g.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},$ue="DialogDescriptionWarning",Due=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${GC($ue).contentName}}.`;return g.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},Iue=DC,Mue=MC,Rue=LC,Lue=FC,Fue=BC,Bue=zC,Vue=WC,ZC=qC,XC="AlertDialog",[zue,Vde]=xh(XC,[$C]),Pa=$C(),YC=e=>{const{__scopeAlertDialog:t,...r}=e,n=Pa(t);return a.jsx(Iue,{...n,...r,modal:!0})};YC.displayName=XC;var Uue="AlertDialogTrigger",Wue=g.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Pa(r);return a.jsx(Mue,{...s,...n,ref:t})});Wue.displayName=Uue;var Hue="AlertDialogPortal",JC=e=>{const{__scopeAlertDialog:t,...r}=e,n=Pa(t);return a.jsx(Rue,{...n,...r})};JC.displayName=Hue;var que="AlertDialogOverlay",QC=g.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Pa(r);return a.jsx(Lue,{...s,...n,ref:t})});QC.displayName=que;var Fi="AlertDialogContent",[Kue,Gue]=zue(Fi),ek=g.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...s}=e,i=Pa(r),o=g.useRef(null),c=Zn(t,o),l=g.useRef(null);return a.jsx(Tue,{contentName:Fi,titleName:tk,docsSlug:"alert-dialog",children:a.jsx(Kue,{scope:r,cancelRef:l,children:a.jsxs(Fue,{role:"alertdialog",...i,...s,ref:c,onOpenAutoFocus:zn(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=l.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[a.jsx(TC,{children:n}),a.jsx(Xue,{contentRef:o})]})})})});ek.displayName=Fi;var tk="AlertDialogTitle",rk=g.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Pa(r);return a.jsx(Bue,{...s,...n,ref:t})});rk.displayName=tk;var nk="AlertDialogDescription",ak=g.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Pa(r);return a.jsx(Vue,{...s,...n,ref:t})});ak.displayName=nk;var Zue="AlertDialogAction",sk=g.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Pa(r);return a.jsx(ZC,{...s,...n,ref:t})});sk.displayName=Zue;var ik="AlertDialogCancel",ok=g.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:s}=Gue(ik,r),i=Pa(r),o=Zn(t,s);return a.jsx(ZC,{...i,...n,ref:o})});ok.displayName=ik;var Xue=({contentRef:e})=>{const t=`\`${Fi}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Fi}\` by passing a \`${nk}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Fi}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return g.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},Yue=YC,Jue=JC,ck=QC,lk=ek,uk=sk,dk=ok,fk=rk,hk=ak;const Que=Yue,ede=Jue,mk=g.forwardRef(({className:e,...t},r)=>a.jsx(ck,{className:He("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));mk.displayName=ck.displayName;const pk=g.forwardRef(({className:e,...t},r)=>a.jsxs(ede,{children:[a.jsx(mk,{}),a.jsx(lk,{ref:r,className:He("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));pk.displayName=lk.displayName;const gk=({className:e,...t})=>a.jsx("div",{className:He("flex flex-col space-y-2 text-center sm:text-left",e),...t});gk.displayName="AlertDialogHeader";const vk=({className:e,...t})=>a.jsx("div",{className:He("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});vk.displayName="AlertDialogFooter";const xk=g.forwardRef(({className:e,...t},r)=>a.jsx(fk,{ref:r,className:He("text-lg font-semibold",e),...t}));xk.displayName=fk.displayName;const yk=g.forwardRef(({className:e,...t},r)=>a.jsx(hk,{ref:r,className:He("text-sm text-muted-foreground",e),...t}));yk.displayName=hk.displayName;const bk=g.forwardRef(({className:e,...t},r)=>a.jsx(uk,{ref:r,className:He(Mg(),e),...t}));bk.displayName=uk.displayName;const jk=g.forwardRef(({className:e,...t},r)=>a.jsx(dk,{ref:r,className:He(Mg({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));jk.displayName=dk.displayName;const tde=({parkingTypeId:e,onUploadSuccess:t,onDeleteSuccess:r,existingImages:n=[],maxFiles:s=10,maxFileSize:i=10})=>{const[o,c]=g.useState([]),[l,u]=g.useState(!1),[d,f]=g.useState(0),[h,p]=g.useState(null),[v,m]=g.useState(!1),[x,b]=g.useState(null),y=g.useRef(null),j=_=>{const P=Array.from(_.target.files||[]).filter(k=>k.type.startsWith("image/")?k.size>i*1024*1024?(Y.error(`${k.name} 文件大小超過 ${i}MB`),!1):!0:(Y.error(`${k.name} 不是有效的圖片文件`),!1));if(n.length+o.length+P.length>s){Y.error(`最多只能上傳 ${s} 張圖片`);return}c(k=>[...k,...P]),_.target&&(_.target.value="")},S=_=>{c(C=>C.filter((k,T)=>T!==_))};D.useEffect(()=>()=>{o.forEach(_=>{})},[o]);const N=async()=>{if(o.length===0){Y.error("請選擇要上傳的圖片");return}u(!0),f(0);try{const _=new FormData;o.forEach(k=>{_.append("images",k)});const C=await fetch(`http://localhost:5002/api/parking/${e}/images`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:_});if(!C.ok){const k=await C.json();throw new Error(k.message||"上傳失敗")}const P=await C.json();f(100),Y.success(`成功上傳 ${P.images.length} 張圖片`),c([]),y.current&&(y.current.value=""),t&&t(P.images)}catch(_){console.error("Upload error:",_),Y.error(_ instanceof Error?_.message:"上傳失敗")}finally{u(!1),f(0)}},w=_=>{b(_),m(!0)},A=async()=>{if(x){p(x);try{const _=await fetch(`http://localhost:5002/api/parking/${e}/images/${x}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!_.ok){const C=await _.json();throw new Error(C.message||"刪除失敗")}Y.success("圖片刪除成功"),r&&r()}catch(_){console.error("Delete error:",_),Y.error(_ instanceof Error?_.message:"刪除失敗")}finally{p(null),m(!1),b(null)}}},O=_=>{if(_===0)return"0 Bytes";const C=1024,P=["Bytes","KB","MB","GB"],k=Math.floor(Math.log(_)/Math.log(C));return parseFloat((_/Math.pow(C,k)).toFixed(2))+" "+P[k]};return a.jsxs("div",{className:"space-y-6",children:[a.jsx(ue,{children:a.jsx(he,{className:"p-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"上傳圖片"}),a.jsxs("span",{className:"text-sm text-gray-500",children:[n.length+o.length," / ",s," 張"]})]}),a.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-gray-400 transition-colors",children:[a.jsx("input",{ref:y,type:"file",multiple:!0,accept:"image/*",onChange:j,className:"hidden",disabled:l}),a.jsxs(W,{variant:"outline",onClick:()=>{var _;return(_=y.current)==null?void 0:_.click()},disabled:l||n.length+o.length>=s,className:"w-full",children:[a.jsx(cD,{className:"h-4 w-4 mr-2"}),"選擇圖片"]}),a.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["支持 JPG, PNG, GIF 格式，單個文件最大 ",i,"MB"]})]}),o.length>0&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"font-medium",children:"待上傳的圖片:"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:o.map((_,C)=>a.jsxs("div",{className:"relative group",children:[a.jsx("div",{className:"aspect-square rounded-lg overflow-hidden bg-gray-100",children:a.jsx("img",{src:URL.createObjectURL(_),alt:_.name,className:"w-full h-full object-cover"})}),a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center",children:a.jsx(W,{variant:"destructive",size:"sm",onClick:()=>S(C),disabled:l,className:"opacity-0 group-hover:opacity-100 transition-all duration-200",children:a.jsx(ti,{className:"h-4 w-4"})})}),a.jsx("div",{className:"mt-1 text-xs text-gray-500 truncate",children:_.name}),a.jsx("div",{className:"text-xs text-gray-400",children:O(_.size)})]},C))})]}),l&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"上傳中..."}),a.jsxs("span",{children:[d,"%"]})]}),a.jsx(NC,{value:d,className:"w-full"})]}),o.length>0&&a.jsx(W,{onClick:N,disabled:l,className:"w-full",children:l?"上傳中...":`上傳 ${o.length} 張圖片`})]})})}),n.length>0&&a.jsx(ue,{children:a.jsxs(he,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"已上傳的圖片"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:n.map(_=>a.jsxs("div",{className:"relative group",children:[a.jsx("div",{className:"aspect-square rounded-lg overflow-hidden bg-gray-100",children:a.jsx("img",{src:_.thumbnailUrl||_.url,alt:_.originalName,className:"w-full h-full object-cover",onError:C=>{const P=C.target;P.src="/logo.png"}})}),a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center",children:a.jsx(W,{variant:"destructive",size:"sm",onClick:()=>w(_._id),disabled:h===_._id,className:"opacity-0 group-hover:opacity-100 transition-all duration-200",children:h===_._id?a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):a.jsx(_r,{className:"h-4 w-4"})})}),a.jsx("div",{className:"mt-1 text-xs text-gray-500 truncate",children:_.originalName})]},_._id))})]})}),a.jsx(Que,{open:v,onOpenChange:m,children:a.jsxs(pk,{children:[a.jsxs(gk,{children:[a.jsx(xk,{children:"確認刪除圖片"}),a.jsx(yk,{children:"您確定要刪除這張圖片嗎？此操作無法撤銷。"})]}),a.jsxs(vk,{children:[a.jsx(jk,{onClick:()=>{m(!1),b(null)},children:"取消"}),a.jsx(bk,{onClick:A,className:"bg-red-600 hover:bg-red-700",disabled:h!==null,children:h?"刪除中...":"刪除"})]})]})})]})},rde=()=>{var V;const[e,t]=g.useState([]),[r,n]=g.useState(!0),[s,i]=g.useState(""),[o,c]=g.useState(!1),[l,u]=g.useState(!1),[d,f]=g.useState(!1),[h,p]=g.useState(!1),[v,m]=g.useState(null),[x,b]=g.useState(!1),[y,j]=g.useState({code:"",name:"",type:"indoor",description:"",icon:"🏢",color:"#3B82F6",pricePerDay:100,totalSpaces:50,features:[""],isActive:!0});g.useEffect(()=>{S()},[]);const S=async()=>{try{n(!0);const z=await hf();console.log("🔍 Parking types data:",z),t(z.parkingTypes)}catch(z){console.error("Error loading parking types:",z),Y.error("無法載入停車場清單")}finally{n(!1)}},N=async()=>{try{const{type:z,...B}=y;console.log("🔍 Creating parking type:",B),await lI(B),Y.success("創建停車場成功"),c(!1),k(),S()}catch(z){console.error("Error creating parking type:",z),Y.error("無法創建停車場")}},w=async()=>{if(v)try{const{type:z,...B}=y;if((v.code||y.code)&&(B.code=v.code||y.code),console.log("🔍 Updating parking type:",{selectedType:v,_id:v._id,selectedTypeCode:v.code,formDataCode:y.code,finalCode:B.code,updateData:B}),!v._id){Y.error("Không tìm thấy ID bãi đậu xe");return}await uI(v._id,B),Y.success("Cập nhật bãi đậu xe thành công"),u(!1),k(),S()}catch(z){console.error("Error updating parking type:",z),Y.error("Không thể cập nhật bãi đậu xe")}},A=async()=>{if(v)try{await dI(v.code),Y.success("Xóa bãi đậu xe thành công"),f(!1),m(null),S()}catch{Y.error("Không thể xóa bãi đậu xe")}},O=()=>{if(S(),v){const z=e.find(B=>B._id===v._id);z&&m(z)}},_=()=>{if(S(),v){const z=e.find(B=>B._id===v._id);z&&m(z)}},C=z=>{m(z),p(!0)},P=z=>{switch(z){case"indoor":return"🏢";case"outdoor":return"🌤️";case"disabled":return"♿️";default:return"🏢"}},k=()=>{j({code:"",name:"",type:"indoor",description:"",icon:"🏢",color:"#3B82F6",pricePerDay:100,totalSpaces:50,features:[""],isActive:!0}),b(!1),m(null)},T=()=>{j({code:"",name:"",type:"indoor",description:"",icon:"🏢",color:"#3B82F6",pricePerDay:100,totalSpaces:50,features:[""],isActive:!0}),c(!0)},E=z=>{console.log("🔍 Opening edit dialog for parking type:",z),m(z),j({code:z.code,name:z.name,type:z.type||"indoor",description:z.description,icon:z.icon,color:z.color||"#3B82F6",pricePerDay:z.pricePerDay||100,totalSpaces:z.totalSpaces||50,features:z.features||[""],isActive:z.isActive}),b(!0),u(!0)},I=z=>{m(z),f(!0)},F=()=>{j({...y,features:[...y.features,""]})},$=z=>{j({...y,features:y.features.filter((B,G)=>G!==z)})},q=(z,B)=>{const G=[...y.features];G[z]=B,j({...y,features:G})},M=z=>z==null?"0 TWD":z.toLocaleString("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0,maximumFractionDigits:0}),J=e.filter(z=>z.name.toLowerCase().includes(s.toLowerCase())||z.description.toLowerCase().includes(s.toLowerCase()));return r?a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}):a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"停車場"}),a.jsx("p",{className:"text-gray-600",children:"管理系統中的停車場"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(W,{variant:"outline",onClick:S,children:[a.jsx(Gn,{className:"h-4 w-4 mr-2"}),"重新整理"]}),a.jsxs(W,{onClick:T,children:[a.jsx(Kr,{className:"h-4 w-4 mr-2"}),"新增停車場"]})]})]}),a.jsxs(ue,{className:"mb-6",children:[a.jsx(xe,{children:a.jsxs(ye,{className:"flex items-center",children:[a.jsx(mr,{className:"h-5 w-5 mr-2"}),"篩選"]})}),a.jsx(he,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"search",children:"搜尋"}),a.jsxs("div",{className:"relative",children:[a.jsx(Gr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),a.jsx(le,{id:"search",placeholder:"名稱、描述...",value:s,onChange:z=>i(z.target.value),className:"pl-10"})]})]}),a.jsx("div",{className:"flex items-end",children:a.jsxs(W,{variant:"outline",className:"w-full",children:[a.jsx(mr,{className:"h-4 w-4 mr-2"}),"篩選"]})})]})})]}),a.jsxs(ue,{children:[a.jsxs(xe,{children:[a.jsx(ye,{children:"停車場清單"}),a.jsxs(rt,{children:["總共 ",J.length," 個停車場"]})]}),a.jsxs(he,{children:[a.jsxs(Ur,{children:[a.jsx(Wr,{children:a.jsxs(Pt,{children:[a.jsx(_e,{children:"資訊"}),a.jsx(_e,{children:"價格"}),a.jsx(_e,{children:"容量"}),a.jsx(_e,{children:"功能"}),a.jsx(_e,{children:"圖片"}),a.jsx(_e,{children:"狀態"}),a.jsx(_e,{children:"操作"})]})}),a.jsx(Hr,{children:J.map(z=>{var B;return console.log("🔍 Rendering parking type:",z),a.jsxs(Pt,{children:[a.jsx(Pe,{children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-2xl",style:{backgroundColor:(z.color||"#3B82F6")+"20"},children:z.icon}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:z.name}),a.jsx("div",{className:"text-sm text-gray-600",children:z.description}),a.jsxs("div",{className:"text-sm text-gray-500",children:["代碼: ",z.code]})]})]})}),a.jsx(Pe,{children:a.jsx("div",{className:"space-y-1 text-sm",children:a.jsxs("div",{children:["基本: ",M(z.pricePerDay),"/天"]})})}),a.jsx(Pe,{children:a.jsx("div",{className:"text-sm",children:a.jsxs("div",{children:["最大: ",z.totalSpaces||0," 位"]})})}),a.jsx(Pe,{children:a.jsxs("div",{className:"flex flex-wrap gap-1",children:[(z.features||[]).slice(0,2).map((G,ce)=>a.jsx(Le,{variant:"outline",className:"text-xs",children:G},ce)),(z.features||[]).length>2&&a.jsxs(Le,{variant:"outline",className:"text-xs",children:["+",(z.features||[]).length-2," 更多"]})]})}),a.jsx(Pe,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("span",{className:"text-sm text-gray-600",children:[((B=z.images)==null?void 0:B.length)||0," 張"]}),z.images&&z.images.length>0&&a.jsxs("div",{className:"flex -space-x-1",children:[z.images.slice(0,3).map((G,ce)=>(console.log("🔍 Image:",ce),a.jsx("div",{className:"w-6 h-6 rounded-full border-2 border-white overflow-hidden bg-gray-100",children:a.jsx("img",{src:G.thumbnailUrl||G.url,alt:G.originalName,className:"w-full h-full object-cover",onError:we=>{const pe=we.target;pe.src="/logo.png"}})},G._id))),z.images.length>3&&a.jsxs("div",{className:"w-6 h-6 rounded-full border-2 border-white bg-gray-100 flex items-center justify-center text-xs text-gray-500",children:["+",z.images.length-3]})]})]})}),a.jsx(Pe,{children:a.jsx(Le,{variant:z.isActive?"default":"secondary",children:z.isActive?a.jsxs(a.Fragment,{children:[a.jsx(pr,{className:"h-3 w-3 mr-1"}),"啟用"]}):a.jsxs(a.Fragment,{children:[a.jsx(Zr,{className:"h-3 w-3 mr-1"}),"暫停"]})})}),a.jsx(Pe,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(W,{size:"sm",variant:"outline",onClick:()=>E(z),children:a.jsx(an,{className:"h-4 w-4"})}),a.jsx(W,{size:"sm",variant:"outline",onClick:()=>C(z),className:"text-blue-600 hover:text-blue-700",children:a.jsx(eD,{className:"h-4 w-4"})}),a.jsx(W,{size:"sm",variant:"destructive",onClick:()=>I(z),children:a.jsx(_r,{className:"h-4 w-4"})})]})})]},z._id||z.code)})})]}),J.length===0&&a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(ir,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"找不到停車場"}),a.jsx("p",{className:"text-gray-500",children:"沒有符合當前篩選條件的停車場。"})]})]})]}),a.jsx(ft,{open:o||l,onOpenChange:z=>{z||(c(!1),u(!1),k())},children:a.jsxs(it,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[a.jsxs(ot,{children:[a.jsx(lt,{children:x?"編輯停車場":"新增停車場"}),a.jsx(ut,{children:x?"更新停車場資訊":"創建新的停車場並提供必要資訊"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"name",children:"停車場名稱 *"}),a.jsx(le,{id:"name",value:y.name,onChange:z=>j(B=>({...B,name:z.target.value})),placeholder:"例如: 停車場A、停車場B、VIP區域..."})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"code",children:"停車場代碼 *"}),a.jsx(le,{id:"code",value:y.code,onChange:z=>j(B=>({...B,code:z.target.value})),placeholder:"例如: A001、B002、VIP001"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"icon",children:"圖示"}),a.jsx(le,{id:"icon",value:y.icon,onChange:z=>j(B=>({...B,icon:z.target.value})),placeholder:"🏢 🌤 ♿️"})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"color",children:"顏色"}),a.jsx(le,{id:"color",type:"color",value:y.color,onChange:z=>j(B=>({...B,color:z.target.value}))})]})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"description",children:"描述"}),a.jsx(rr,{id:"description",value:y.description,onChange:z=>j(B=>({...B,description:z.target.value})),placeholder:"停車場的詳細描述...",rows:3})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"pricePerDay",children:"基本價格 (TWD/天) *"}),a.jsx(le,{id:"pricePerDay",type:"number",value:y.pricePerDay,onChange:z=>j(B=>({...B,pricePerDay:parseInt(z.target.value)}))})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"totalSpaces",children:"最大車位數 *"}),a.jsx(le,{id:"totalSpaces",type:"number",value:y.totalSpaces,onChange:z=>j(B=>({...B,totalSpaces:parseInt(z.target.value)}))})]})]}),a.jsxs("div",{children:[a.jsx(Z,{children:"功能"}),a.jsxs("div",{className:"space-y-2",children:[y.features.map((z,B)=>a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(le,{value:z,onChange:G=>q(B,G.target.value),placeholder:"輸入功能..."}),a.jsx(W,{variant:"outline",size:"sm",onClick:()=>$(B),children:a.jsx(_r,{className:"h-4 w-4"})})]},B)),a.jsxs(W,{variant:"outline",size:"sm",onClick:F,children:[a.jsx(Kr,{className:"h-4 w-4 mr-2"}),"新增功能"]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Nt,{id:"isActive",checked:y.isActive,onCheckedChange:z=>j(B=>({...B,isActive:z}))}),a.jsx(Z,{htmlFor:"isActive",children:"啟用此停車場"})]})]}),a.jsxs(ct,{children:[a.jsx(W,{variant:"outline",onClick:()=>{c(!1),u(!1),k()},children:"取消"}),a.jsx(W,{onClick:x?w:N,children:x?"更新":"創建停車場"})]})]})}),a.jsx(ft,{open:h,onOpenChange:p,children:a.jsxs(it,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[a.jsxs(ot,{children:[a.jsxs(lt,{children:["管理停車場圖片 - ",v==null?void 0:v.name]}),a.jsx(ut,{children:"上傳和管理停車場的展示圖片"})]}),v&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("span",{className:"text-2xl",children:P(v.type||"indoor")}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold",children:v.name}),a.jsx("p",{className:"text-sm text-gray-600",children:v.description}),a.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-xs text-gray-500",children:[a.jsxs("span",{children:["容量: ",v.totalSpaces," 位"]}),a.jsxs("span",{children:["價格: $",v.pricePerDay,"/天"]}),a.jsxs("span",{children:["圖片: ",((V=v.images)==null?void 0:V.length)||0," 張"]})]})]})]})}),a.jsxs("div",{className:"border-t pt-6",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"上傳圖片"}),a.jsx("p",{className:"text-sm text-gray-600",children:"支援 JPG, PNG, GIF 格式，單個文件最大 10MB"})]}),a.jsx(tde,{parkingTypeId:v._id,onUploadSuccess:O,onDeleteSuccess:_,existingImages:v.images||[],maxFiles:10,maxFileSize:10})]}),a.jsx("div",{className:"border-t pt-6",children:v.images&&v.images.length>0?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"圖片預覽"}),a.jsxs("span",{className:"text-sm text-gray-500",children:[v.images.length," 張圖片"]})]}),a.jsx(FN,{images:v.images,showFullscreen:!0})]}):a.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[a.jsx("div",{className:"text-4xl mb-2",children:"📷"}),a.jsx("p",{className:"text-gray-500",children:"暫無圖片"}),a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"上傳圖片後將在此顯示"})]})})]}),a.jsx(ct,{children:a.jsx(W,{variant:"outline",onClick:()=>p(!1),children:"關閉"})})]})}),a.jsx(ft,{open:d,onOpenChange:f,children:a.jsxs(it,{children:[a.jsxs(ot,{children:[a.jsx(lt,{children:"確認刪除"}),a.jsxs(ut,{children:['您確定要刪除停車場 "',v==null?void 0:v.name,'"? 此操作無法撤銷。']})]}),a.jsxs(ct,{children:[a.jsx(W,{variant:"outline",onClick:()=>f(!1),children:"取消"}),a.jsx(W,{variant:"destructive",onClick:A,children:"刪除"})]})]})})]})},nde=()=>{const[e,t]=g.useState([]),[r,n]=g.useState(!0),[s,i]=g.useState(""),[o,c]=g.useState("all"),[l,u]=g.useState(!1),[d,f]=g.useState(!1),[h,p]=g.useState(!1),[v,m]=g.useState(null),[x,b]=g.useState(!1),[y,j]=g.useState({code:"",name:"",description:"",discountType:"percentage",discountValue:10,minOrderAmount:0,maxDiscount:0,maxUsage:100,isActive:!0,validFrom:"",validTo:""});g.useEffect(()=>{S()},[]);const S=async()=>{try{n(!0);const $=await pI();t($.discountCodes)}catch{Y.error("無法載入折扣碼清單")}finally{n(!1)}},N=async()=>{try{await gI(y),Y.success("創建折扣碼成功"),u(!1),O(),S()}catch{Y.error("無法創建折扣碼")}},w=async()=>{if(v)try{await vI(v._id,y),Y.success("更新折扣碼成功"),f(!1),O(),S()}catch{Y.error("無法更新折扣碼")}},A=async()=>{if(v)try{await xI(v._id),Y.success("刪除折扣碼成功"),p(!1),m(null),S()}catch{Y.error("無法刪除折扣碼")}},O=()=>{j({code:"",name:"",description:"",discountType:"percentage",discountValue:10,minOrderAmount:0,maxDiscount:0,maxUsage:100,isActive:!0,validFrom:"",validTo:""}),b(!1),m(null)},_=()=>{O(),u(!0)},C=$=>{m($),j({code:$.code,name:$.name,description:$.description,discountType:$.discountType,discountValue:$.discountValue,minOrderAmount:$.minOrderAmount||0,maxDiscount:$.maxDiscount||0,maxUsage:$.maxUsage,isActive:$.isActive,validFrom:$.validFrom,validTo:$.validTo}),b(!0),f(!0)},P=$=>{m($),p(!0)},k=$=>{navigator.clipboard.writeText($),Y.success("Đã sao chép mã giảm giá")},T=$=>new Date($).toLocaleDateString("zh-TW"),E=($,q)=>Math.round($/q*100),I=$=>{const q=new Date,M=new Date($.validFrom),J=new Date($.validTo);return $.isActive?q<M?a.jsx(Le,{variant:"outline",className:"bg-yellow-100 text-yellow-800",children:"未開始"}):q>J?a.jsx(Le,{variant:"secondary",className:"bg-gray-100 text-gray-800",children:"過期"}):$.currentUsage>=$.maxUsage?a.jsx(Le,{variant:"secondary",className:"bg-orange-100 text-orange-800",children:"已用完"}):a.jsx(Le,{className:"bg-green-100 text-green-800",children:"啟用"}):a.jsx(Le,{variant:"secondary",className:"bg-red-100 text-red-800",children:"暫停"})},F=e.filter($=>{const q=$.name.toLowerCase().includes(s.toLowerCase())||$.code.toLowerCase().includes(s.toLowerCase())||$.description.toLowerCase().includes(s.toLowerCase()),M=o==="all"||$.discountType===o;return q&&M});return r?a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}):a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"折扣碼"}),a.jsx("p",{className:"text-gray-600",children:"管理折扣碼和優惠"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(W,{variant:"outline",onClick:S,children:[a.jsx(Gn,{className:"h-4 w-4 mr-2"}),"重新整理"]}),a.jsxs(W,{onClick:_,children:[a.jsx(Kr,{className:"h-4 w-4 mr-2"}),"新增折扣碼"]})]})]}),a.jsxs(ue,{className:"mb-6",children:[a.jsx(xe,{children:a.jsxs(ye,{className:"flex items-center",children:[a.jsx(mr,{className:"h-5 w-5 mr-2"}),"篩選"]})}),a.jsx(he,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"search",children:"搜尋"}),a.jsxs("div",{className:"relative",children:[a.jsx(Gr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),a.jsx(le,{id:"search",placeholder:"名稱, 代碼, 描述...",value:s,onChange:$=>i($.target.value),className:"pl-10"})]})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"type",children:"折扣類型"}),a.jsxs("select",{id:"type",value:o,onChange:$=>c($.target.value),className:"w-full p-2 border border-gray-300 rounded-md",children:[a.jsx("option",{value:"all",children:"所有類型"}),a.jsx("option",{value:"percentage",children:"百分比 (%)"}),a.jsx("option",{value:"fixed",children:"固定金額"})]})]}),a.jsx("div",{className:"flex items-end",children:a.jsxs(W,{variant:"outline",className:"w-full",children:[a.jsx(mr,{className:"h-4 w-4 mr-2"}),"篩選"]})})]})})]}),a.jsxs(ue,{children:[a.jsxs(xe,{children:[a.jsx(ye,{children:"折扣碼清單"}),a.jsxs(rt,{children:["總共 ",F.length," 個折扣碼"]})]}),a.jsxs(he,{children:[a.jsxs(Ur,{children:[a.jsx(Wr,{children:a.jsxs(Pt,{children:[a.jsx(_e,{children:"資訊"}),a.jsx(_e,{children:"價值"}),a.jsx(_e,{children:"使用"}),a.jsx(_e,{children:"期限"}),a.jsx(_e,{children:"狀態"}),a.jsx(_e,{children:"操作"})]})}),a.jsx(Hr,{children:F.map($=>a.jsxs(Pt,{children:[a.jsx(Pe,{children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx(Pu,{className:"h-5 w-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:$.name}),a.jsx("div",{className:"text-sm text-gray-600 font-mono",children:$.code}),a.jsx("div",{className:"text-sm text-gray-500",children:$.description})]})]})}),a.jsx(Pe,{children:a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsx("div",{className:"font-medium",children:$.discountType==="percentage"?`${$.discountValue}%`:`${$.discountValue} TWD`}),$.minOrderAmount&&$.minOrderAmount>0&&a.jsxs("div",{className:"text-gray-500",children:["最低: ",$.minOrderAmount," TWD"]}),$.maxDiscount&&$.maxDiscount>0&&a.jsxs("div",{className:"text-gray-500",children:["最高: ",$.maxDiscount," TWD"]})]})}),a.jsx(Pe,{children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"text-sm",children:[a.jsxs("div",{children:[$.currentUsage,"/",$.maxUsage]}),a.jsx("div",{className:"text-gray-500",children:"已使用"})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-[#39653f] h-2 rounded-full transition-all",style:{width:`${E($.currentUsage,$.maxUsage)}%`}})})]})}),a.jsx(Pe,{children:a.jsxs("div",{className:"text-sm text-gray-600",children:[a.jsxs("div",{children:["從: ",T($.validFrom)]}),a.jsxs("div",{children:["到: ",T($.validTo)]})]})}),a.jsx(Pe,{children:I($)}),a.jsx(Pe,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(W,{size:"sm",variant:"outline",onClick:()=>C($),children:a.jsx(an,{className:"h-4 w-4"})}),a.jsx(W,{size:"sm",variant:"outline",onClick:()=>k($.code),children:a.jsx(pu,{className:"h-4 w-4"})}),a.jsx(W,{size:"sm",variant:"destructive",onClick:()=>P($),children:a.jsx(_r,{className:"h-4 w-4"})})]})})]},$._id))})]}),F.length===0&&a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(Pu,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"找不到折扣碼"}),a.jsx("p",{className:"text-gray-500",children:"沒有找到符合目前篩選條件的折扣碼。"})]})]})]}),a.jsx(ft,{open:l||d,onOpenChange:$=>{$||(u(!1),f(!1),O())},children:a.jsxs(it,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[a.jsxs(ot,{children:[a.jsx(lt,{children:x?"編輯折扣碼":"新增折扣碼"}),a.jsx(ut,{children:x?"更新折扣碼資訊":"創建新的折扣碼並提供必要資訊"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"code",children:"折扣碼 *"}),a.jsx(le,{id:"code",value:y.code,onChange:$=>j(q=>({...q,code:$.target.value.toUpperCase()})),placeholder:"Ví dụ: WELCOME10"})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"name",children:"折扣碼名稱 *"}),a.jsx(le,{id:"name",value:y.name,onChange:$=>j(q=>({...q,name:$.target.value})),placeholder:"例如: 歡迎折扣"})]})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"description",children:"描述"}),a.jsx(rr,{id:"description",value:y.description,onChange:$=>j(q=>({...q,description:$.target.value})),placeholder:"輸入折扣碼詳細描述...",rows:3})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"discountType",children:"折扣類型"}),a.jsxs("select",{id:"discountType",value:y.discountType,onChange:$=>j(q=>({...q,discountType:$.target.value})),className:"w-full p-2 border border-gray-300 rounded-md",children:[a.jsx("option",{value:"percentage",children:"百分比 (%)"}),a.jsx("option",{value:"fixed",children:"固定金額 (TWD)"})]})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"discountValue",children:"折扣價值 *"}),a.jsx(le,{id:"discountValue",type:"number",value:y.discountValue,onChange:$=>j(q=>({...q,discountValue:parseInt($.target.value)})),placeholder:y.discountType==="percentage"?"10":"50"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"minOrderAmount",children:"最低訂單金額 (TWD)"}),a.jsx(le,{id:"minOrderAmount",type:"number",value:y.minOrderAmount,onChange:$=>j(q=>({...q,minOrderAmount:parseInt($.target.value)})),placeholder:"0"})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"maxDiscount",children:"最高折扣金額 (TWD)"}),a.jsx(le,{id:"maxDiscount",type:"number",value:y.maxDiscount,onChange:$=>j(q=>({...q,maxDiscount:parseInt($.target.value)})),placeholder:"0 (不限制)"})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"maxUsage",children:"使用限制"}),a.jsx(le,{id:"maxUsage",type:"number",value:y.maxUsage,onChange:$=>j(q=>({...q,maxUsage:parseInt($.target.value)})),placeholder:"100"})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"validFrom",children:"開始日期"}),a.jsx(le,{id:"validFrom",type:"date",value:y.validFrom,onChange:$=>j(q=>({...q,validFrom:$.target.value}))})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"validTo",children:"結束日期"}),a.jsx(le,{id:"validTo",type:"date",value:y.validTo,onChange:$=>j(q=>({...q,validTo:$.target.value}))})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Nt,{id:"isActive",checked:y.isActive,onCheckedChange:$=>j(q=>({...q,isActive:$}))}),a.jsx(Z,{htmlFor:"isActive",children:"啟用此折扣碼"})]})]}),a.jsxs(ct,{children:[a.jsx(W,{variant:"outline",onClick:()=>{u(!1),f(!1),O()},children:"取消"}),a.jsx(W,{onClick:x?w:N,children:x?"更新":"創建"})]})]})}),a.jsx(ft,{open:h,onOpenChange:p,children:a.jsxs(it,{children:[a.jsxs(ot,{children:[a.jsx(lt,{children:"確認刪除"}),a.jsxs(ut,{children:['您確定要刪除折扣碼 "',v==null?void 0:v.name,'" (',v==null?void 0:v.code,")? 此操作無法撤銷。"]})]}),a.jsxs(ct,{children:[a.jsx(W,{variant:"outline",onClick:()=>p(!1),children:"取消"}),a.jsx(W,{variant:"destructive",onClick:A,children:"刪除"})]})]})})]})},ade=()=>{const[e,t]=g.useState([]),[r,n]=g.useState(!0),[s,i]=g.useState(""),[o,c]=g.useState("all"),[l,u]=g.useState(!1),[d,f]=g.useState(!1),[h,p]=g.useState(!1),[v,m]=g.useState(null),[x,b]=g.useState(!1),[y,j]=g.useState({name:"",description:"",icon:"🚐",price:0,category:"other",duration:30,features:[""],isActive:!0});g.useEffect(()=>{S()},[]);const S=async()=>{try{n(!0);const M=await RN();t(M.services)}catch{Y.error("無法載入服務清單")}finally{n(!1)}},N=async()=>{try{await fI(y),Y.success("創建服務成功"),u(!1),O(),S()}catch{Y.error("無法創建服務")}},w=async()=>{if(v)try{await hI(v._id,y),Y.success("更新服務成功"),f(!1),O(),S()}catch{Y.error("無法更新服務")}},A=async()=>{if(v)try{await mI(v._id),Y.success("刪除服務成功"),p(!1),m(null),S()}catch{Y.error("無法刪除服務")}},O=()=>{j({name:"",description:"",icon:"🚐",price:0,category:"other",duration:30,features:[""],isActive:!0}),b(!1),m(null)},_=()=>{O(),u(!0)},C=M=>{m(M),j({name:M.name,description:M.description,icon:M.icon,price:M.price,category:M.category,duration:M.duration||30,features:M.features||[""],isActive:M.isActive}),b(!0),f(!0)},P=M=>{m(M),p(!0)},k=()=>{j({...y,features:[...y.features,""]})},T=M=>{j({...y,features:y.features.filter((J,V)=>V!==M)})},E=(M,J)=>{const V=[...y.features];V[M]=J,j({...y,features:V})},I=M=>({transport:ir,cleaning:Y$,security:_u,convenience:bi,other:bi})[M]||bi,F=M=>({transport:"bg-blue-100 text-blue-800",cleaning:"bg-purple-100 text-purple-800",security:"bg-red-100 text-red-800",convenience:"bg-green-100 text-green-800",other:"bg-gray-100 text-gray-800"})[M]||"bg-gray-100 text-gray-800",$=M=>M===0?"免費":M.toLocaleString("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0,maximumFractionDigits:0}),q=e.filter(M=>{const J=M.name.toLowerCase().includes(s.toLowerCase())||M.description.toLowerCase().includes(s.toLowerCase()),V=o==="all"||M.category===o;return J&&V});return r?a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}):a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"附加服務"}),a.jsx("p",{className:"text-gray-600",children:"管理客戶的附加服務"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(W,{variant:"outline",onClick:S,children:[a.jsx(Gn,{className:"h-4 w-4 mr-2"}),"重新整理"]}),a.jsxs(W,{onClick:_,children:[a.jsx(Kr,{className:"h-4 w-4 mr-2"}),"新增服務"]})]})]}),a.jsxs(ue,{className:"mb-6",children:[a.jsx(xe,{children:a.jsxs(ye,{className:"flex items-center",children:[a.jsx(mr,{className:"h-5 w-5 mr-2"}),"篩選"]})}),a.jsx(he,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"search",children:"搜尋"}),a.jsxs("div",{className:"relative",children:[a.jsx(Gr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),a.jsx(le,{id:"search",placeholder:"名稱、描述...",value:s,onChange:M=>i(M.target.value),className:"pl-10"})]})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"category",children:"類別"}),a.jsxs("select",{id:"category",value:o,onChange:M=>c(M.target.value),className:"w-full p-2 border border-gray-300 rounded-md",children:[a.jsx("option",{value:"all",children:"所有類別"}),a.jsx("option",{value:"transport",children:"運輸"}),a.jsx("option",{value:"cleaning",children:"清潔"}),a.jsx("option",{value:"security",children:"安全"}),a.jsx("option",{value:"convenience",children:"便利"}),a.jsx("option",{value:"other",children:"其他"})]})]}),a.jsx("div",{className:"flex items-end",children:a.jsxs(W,{variant:"outline",className:"w-full",children:[a.jsx(mr,{className:"h-4 w-4 mr-2"}),"篩選"]})})]})})]}),a.jsxs(ue,{children:[a.jsxs(xe,{children:[a.jsx(ye,{children:"服務清單"}),a.jsxs(rt,{children:["共 ",q.length," 項服務"]})]}),a.jsxs(he,{children:[a.jsxs(Ur,{children:[a.jsx(Wr,{children:a.jsxs(Pt,{children:[a.jsx(_e,{children:"資訊"}),a.jsx(_e,{children:"類別"}),a.jsx(_e,{children:"價格"}),a.jsx(_e,{children:"時間"}),a.jsx(_e,{children:"功能"}),a.jsx(_e,{children:"狀態"}),a.jsx(_e,{children:"操作"})]})}),a.jsx(Hr,{children:q.map(M=>{const J=I(M.category);return a.jsxs(Pt,{children:[a.jsx(Pe,{children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-2xl",children:M.icon}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:M.name}),a.jsx("div",{className:"text-sm text-gray-600",children:M.description})]})]})}),a.jsx(Pe,{children:a.jsxs(Le,{className:F(M.category),children:[a.jsx(J,{className:"h-3 w-3 mr-1"}),M.category==="transport"&&"運輸",M.category==="cleaning"&&"清潔",M.category==="security"&&"安全",M.category==="convenience"&&"便利",M.category==="other"&&"其他",!["transport","cleaning","security","convenience","other"].includes(M.category)&&M.category]})}),a.jsx(Pe,{children:a.jsx("div",{className:"text-sm font-medium",children:$(M.price)})}),a.jsx(Pe,{children:a.jsx("div",{className:"text-sm",children:M.duration?`${M.duration} 分鐘`:"N/A"})}),a.jsx(Pe,{children:a.jsxs("div",{className:"flex flex-wrap gap-1",children:[(M.features||[]).slice(0,2).map((V,z)=>a.jsx(Le,{variant:"outline",className:"text-xs",children:V},z)),(M.features||[]).length>2&&a.jsxs(Le,{variant:"outline",className:"text-xs",children:["+",(M.features||[]).length-2," 更多"]})]})}),a.jsx(Pe,{children:a.jsx(Le,{variant:M.isActive?"default":"secondary",children:M.isActive?a.jsxs(a.Fragment,{children:[a.jsx(pr,{className:"h-3 w-3 mr-1"}),"啟用"]}):a.jsxs(a.Fragment,{children:[a.jsx(Zr,{className:"h-3 w-3 mr-1"}),"暫停"]})})}),a.jsx(Pe,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(W,{size:"sm",variant:"outline",onClick:()=>C(M),children:a.jsx(an,{className:"h-4 w-4"})}),a.jsx(W,{size:"sm",variant:"destructive",onClick:()=>P(M),children:a.jsx(_r,{className:"h-4 w-4"})})]})})]},M._id)})})]}),q.length===0&&a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(bi,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"找不到服務"}),a.jsx("p",{className:"text-gray-500",children:"沒有符合當前篩選條件的服務。"})]})]})]}),a.jsx(ft,{open:l||d,onOpenChange:M=>{M||(u(!1),f(!1),O())},children:a.jsxs(it,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[a.jsxs(ot,{children:[a.jsx(lt,{children:x?"編輯服務":"新增服務"}),a.jsx(ut,{children:x?"更新服務資訊":"創建新的附加服務，包含必要資訊"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"name",children:"服務名稱 *"}),a.jsx(le,{id:"name",value:y.name,onChange:M=>j(J=>({...J,name:M.target.value})),placeholder:"例如：洗車、機場接送..."})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"icon",children:"圖示"}),a.jsx(le,{id:"icon",value:y.icon,onChange:M=>j(J=>({...J,icon:M.target.value})),placeholder:"🚐 🚗 ✨ 🧴"})]})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"description",children:"描述"}),a.jsx(rr,{id:"description",value:y.description,onChange:M=>j(J=>({...J,description:M.target.value})),placeholder:"詳細描述服務...",rows:3})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"price",children:"價格 (TWD)"}),a.jsx(le,{id:"price",type:"number",value:y.price,onChange:M=>j(J=>({...J,price:parseInt(M.target.value)})),placeholder:"0"})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"duration",children:"時間 (分鐘)"}),a.jsx(le,{id:"duration",type:"number",value:y.duration,onChange:M=>j(J=>({...J,duration:parseInt(M.target.value)})),placeholder:"30"})]})]}),a.jsxs("div",{children:[a.jsx(Z,{children:"功能"}),a.jsxs("div",{className:"space-y-2",children:[y.features.map((M,J)=>a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(le,{value:M,onChange:V=>E(J,V.target.value),placeholder:"輸入功能..."}),a.jsx(W,{variant:"outline",size:"sm",onClick:()=>T(J),children:a.jsx(_r,{className:"h-4 w-4"})})]},J)),a.jsxs(W,{variant:"outline",size:"sm",onClick:k,children:[a.jsx(Kr,{className:"h-4 w-4 mr-2"}),"新增功能"]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Nt,{id:"isActive",checked:y.isActive,onCheckedChange:M=>j(J=>({...J,isActive:M}))}),a.jsx(Z,{htmlFor:"isActive",children:"啟用此服務"})]})]}),a.jsxs(ct,{children:[a.jsx(W,{variant:"outline",onClick:()=>{u(!1),f(!1),O()},children:"取消"}),a.jsx(W,{onClick:x?w:N,children:x?"更新":"創建服務"})]})]})}),a.jsx(ft,{open:h,onOpenChange:p,children:a.jsxs(it,{children:[a.jsxs(ot,{children:[a.jsx(lt,{children:"確認刪除"}),a.jsxs(ut,{children:['您確定要刪除服務 "',v==null?void 0:v.name,'" 嗎？ 此操作無法撤銷。']})]}),a.jsxs(ct,{children:[a.jsx(W,{variant:"outline",onClick:()=>p(!1),children:"取消"}),a.jsx(W,{variant:"destructive",onClick:A,children:"刪除"})]})]})})]})},sde=()=>{const[e,t]=g.useState([]),[r,n]=g.useState(!0),[s,i]=g.useState("email"),[o,c]=g.useState(""),[l,u]=g.useState(!1),[d,f]=g.useState(!1),[h,p]=g.useState(!1),[v,m]=g.useState(!1),[x,b]=g.useState(!1),[y,j]=g.useState(!1),[S,N]=g.useState(null),[w,A]=g.useState(""),[O,_]=g.useState(!1),[C,P]=g.useState(null),[k,T]=g.useState(!1),[E,I]=g.useState(!1),[F,$]=g.useState({name:"",type:"email",subject:"",content:"",description:"",variables:[],isActive:!0}),[q,M]=g.useState({templateName:"",type:"email",recipient:"",variables:{}}),[J,V]=g.useState({templateName:"",type:"email",recipients:"",variables:{}});g.useEffect(()=>{z(),B()},[]);const z=async()=>{try{n(!0);const K=await wI({type:s,search:o});t(K.templates)}catch(K){Y.error("無法載入通知模板清單"),console.error("Load templates error:",K)}finally{n(!1)}},B=async()=>{try{const K=await PI();P(K)}catch(K){console.error("Load stats error:",K)}},G=async()=>{try{await NI(F),Y.success("創建通知模板成功"),u(!1),R(),z(),B()}catch(K){Y.error("無法創建通知模板"),console.error("Create template error:",K)}},ce=async()=>{if(S)try{await SI(S._id,F),Y.success("更新通知模板成功"),f(!1),R(),z(),B()}catch(K){Y.error("無法更新通知模板"),console.error("Update template error:",K)}},we=async()=>{if(S)try{await AI(S._id),Y.success("刪除通知模板成功"),p(!1),N(null),z(),B()}catch(K){Y.error("無法刪除通知模板"),console.error("Delete template error:",K)}},pe=async()=>{try{T(!0);const K=await OI(q);console.log("Test notification result:",K),Y.success("發送測試通知成功"),b(!1),de()}catch(K){Y.error("無法發送測試通知"),console.error("Test notification error:",K)}finally{T(!1)}},Oe=async()=>{try{I(!0);const K=J.recipients.split(",").map(oe=>oe.trim()).filter(oe=>oe),ae=await _I({...J,recipients:K});Y.success(`發送批量通知成功: ${ae.message}`),j(!1),fe()}catch(K){Y.error("無法發送批量通知"),console.error("Bulk notification error:",K)}finally{I(!1)}},R=()=>{$({name:"",type:"email",subject:"",content:"",description:"",variables:[],isActive:!0}),_(!1),N(null)},de=()=>{M({templateName:"",type:"email",recipient:"",variables:{}})},fe=()=>{V({templateName:"",type:"email",recipients:"",variables:{}})},ee=()=>{R(),$(K=>({...K,type:s})),u(!0)},Me=K=>{N(K),$({name:K.name,type:K.type,subject:K.subject||"",content:K.content,description:K.description,variables:K.variables||[],isActive:K.isActive}),_(!0),f(!0)},Se=K=>{N(K),p(!0)},tt=K=>{N(K),M({templateName:K.name,type:K.type,recipient:"",variables:{}}),b(!0)},nt=K=>{N(K),V({templateName:K.name,type:K.type,recipients:"",variables:{}}),j(!0)},ze=K=>{let ae=K.content;K.variables.forEach(oe=>{const Ce={customerName:"Nguyễn Văn A",bookingId:"BK2024001",bookingDate:"15/01/2024",startTime:"08:00",endTime:"12:00",parkingType:"Trong nhà",totalAmount:"400",location:"Tầng 1, Khu A",reminderTime:"30 phút",amount:"400",paymentMethod:"Thẻ tín dụng",paymentTime:"15/01/2024 07:30",refundAmount:"400",refundTime:"15/01/2024 10:00",discountPercent:"20",promoCode:"SAVE20",expiryDate:"31/01/2024"};ae=ae.replace(new RegExp(`{{${oe}}}`,"g"),Ce[oe]||`[${oe}]`)}),A(ae),N(K),m(!0)},L=K=>({email:ki,sms:jN,push:aD})[K]||mu,X=K=>({email:"bg-blue-100 text-blue-800",sms:"bg-green-100 text-green-800",push:"bg-purple-100 text-purple-800"})[K]||"bg-gray-100 text-gray-800",Q=e.filter(K=>{const ae=K.type===s,oe=K.name.toLowerCase().includes(o.toLowerCase())||K.description.toLowerCase().includes(o.toLowerCase());return ae&&oe});return g.useEffect(()=>{z()},[s,o]),r?a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}):a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"通知模板"}),a.jsx("p",{className:"text-gray-600",children:"管理系統通知模板"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(W,{variant:"outline",onClick:z,children:[a.jsx(Gn,{className:"h-4 w-4 mr-2"}),"重新整理"]}),a.jsxs(W,{onClick:ee,children:[a.jsx(Kr,{className:"h-4 w-4 mr-2"}),"新增模板"]})]})]}),C&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[a.jsx(ue,{children:a.jsx(he,{className:"p-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(mN,{className:"h-5 w-5 text-blue-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"總共模板"}),a.jsx("p",{className:"text-2xl font-bold",children:C.total})]})]})})}),a.jsx(ue,{children:a.jsx(he,{className:"p-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(pr,{className:"h-5 w-5 text-green-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"啟用"}),a.jsx("p",{className:"text-2xl font-bold",children:C.active})]})]})})}),a.jsx(ue,{children:a.jsx(he,{className:"p-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Zr,{className:"h-5 w-5 text-red-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"暫停"}),a.jsx("p",{className:"text-2xl font-bold",children:C.inactive})]})]})})}),a.jsx(ue,{children:a.jsx(he,{className:"p-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(mu,{className:"h-5 w-5 text-purple-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"類型"}),a.jsx("p",{className:"text-2xl font-bold",children:C.stats.length})]})]})})})]}),a.jsxs(ue,{className:"mb-6",children:[a.jsx(xe,{children:a.jsxs(ye,{className:"flex items-center",children:[a.jsx(Gr,{className:"h-5 w-5 mr-2"}),"搜尋"]})}),a.jsx(he,{children:a.jsxs("div",{className:"relative",children:[a.jsx(Gr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),a.jsx(le,{placeholder:"名稱、描述...",value:o,onChange:K=>c(K.target.value),className:"pl-10"})]})})]}),a.jsxs(wo,{value:s,onValueChange:i,className:"space-y-4",children:[a.jsxs(ni,{className:"grid w-full grid-cols-3",children:[a.jsx(Mt,{value:"email",children:"Email"}),a.jsx(Mt,{value:"sms",children:"SMS"}),a.jsx(Mt,{value:"push",children:"推送通知"})]}),a.jsx(er,{value:s,className:"space-y-4",children:a.jsxs(ue,{children:[a.jsxs(xe,{children:[a.jsx(ye,{children:"通知模板清單"}),a.jsxs(rt,{children:["總共 ",Q.length," 個通知模板 ",s.toUpperCase()]})]}),a.jsxs(he,{children:[a.jsxs(Ur,{children:[a.jsx(Wr,{children:a.jsxs(Pt,{children:[a.jsx(_e,{children:"資訊"}),a.jsx(_e,{children:"類型"}),a.jsx(_e,{children:"標題"}),a.jsx(_e,{children:"變數"}),a.jsx(_e,{children:"狀態"}),a.jsx(_e,{children:"操作"})]})}),a.jsx(Hr,{children:Q.map(K=>{const ae=L(K.type);return a.jsxs(Pt,{children:[a.jsx(Pe,{children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx(ae,{className:"h-5 w-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:K.name}),a.jsx("div",{className:"text-sm text-gray-600",children:K.description})]})]})}),a.jsx(Pe,{children:a.jsx(Le,{className:X(K.type),children:K.type.toUpperCase()})}),a.jsx(Pe,{children:a.jsx("div",{className:"text-sm text-gray-600 max-w-xs truncate",children:K.subject||"Không có tiêu đề"})}),a.jsx(Pe,{children:a.jsxs("div",{className:"flex flex-wrap gap-1",children:[(K.variables||[]).slice(0,3).map(oe=>a.jsx(Le,{variant:"outline",className:"text-xs",children:`{{${oe}}}`},oe)),(K.variables||[]).length>3&&a.jsxs(Le,{variant:"outline",className:"text-xs",children:["+",(K.variables||[]).length-3," nữa"]})]})}),a.jsx(Pe,{children:a.jsx(Le,{variant:K.isActive?"default":"secondary",children:K.isActive?a.jsxs(a.Fragment,{children:[a.jsx(pr,{className:"h-3 w-3 mr-1"}),"啟用"]}):a.jsxs(a.Fragment,{children:[a.jsx(Zr,{className:"h-3 w-3 mr-1"}),"暫停"]})})}),a.jsx(Pe,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(W,{size:"sm",variant:"outline",onClick:()=>ze(K),children:a.jsx(za,{className:"h-4 w-4"})}),a.jsx(W,{size:"sm",variant:"outline",onClick:()=>tt(K),children:a.jsx(oD,{className:"h-4 w-4"})}),a.jsx(W,{size:"sm",variant:"outline",onClick:()=>nt(K),children:a.jsx(ca,{className:"h-4 w-4"})}),a.jsx(W,{size:"sm",variant:"outline",onClick:()=>Me(K),children:a.jsx(an,{className:"h-4 w-4"})}),a.jsx(W,{size:"sm",variant:"destructive",onClick:()=>Se(K),children:a.jsx(_r,{className:"h-4 w-4"})})]})})]},K._id)})})]}),Q.length===0&&a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(mu,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"沒有通知模板"}),a.jsxs("p",{className:"text-gray-500",children:["沒有通知模板 ",s.toUpperCase(),"."]})]})]})]})})]}),a.jsx(ft,{open:l||d,onOpenChange:K=>{K||(u(!1),f(!1),R())},children:a.jsxs(it,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[a.jsxs(ot,{children:[a.jsx(lt,{children:O?"編輯通知模板":"新增通知模板"}),a.jsx(ut,{children:O?"更新通知模板內容":"創建新的通知模板並提供必要資訊"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"name",children:"通知模板名稱 *"}),a.jsx(le,{id:"name",value:F.name,onChange:K=>$(ae=>({...ae,name:K.target.value})),placeholder:"例如: 確認預約"})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"type",children:"通知類型"}),a.jsxs("select",{id:"type",value:F.type,onChange:K=>$(ae=>({...ae,type:K.target.value})),className:"w-full p-2 border border-gray-300 rounded-md",children:[a.jsx("option",{value:"email",children:"Email"}),a.jsx("option",{value:"sms",children:"SMS"}),a.jsx("option",{value:"push",children:"推送通知"})]})]})]}),F.type==="email"&&a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"subject",children:"電郵標題"}),a.jsx(le,{id:"subject",value:F.subject,onChange:K=>$(ae=>({...ae,subject:K.target.value})),placeholder:"輸入電郵標題..."})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"description",children:"描述"}),a.jsx(le,{id:"description",value:F.description,onChange:K=>$(ae=>({...ae,description:K.target.value})),placeholder:"輸入通知模板描述..."})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"content",children:"內容 *"}),a.jsx(rr,{id:"content",value:F.content,onChange:K=>$(ae=>({...ae,content:K.target.value})),rows:15,className:"font-mono text-sm",placeholder:"輸入通知模板內容... 使用 {{variable}} 插入變數."})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Nt,{id:"isActive",checked:F.isActive,onCheckedChange:K=>$(ae=>({...ae,isActive:K}))}),a.jsx(Z,{htmlFor:"isActive",children:"啟用此通知模板"})]})]}),a.jsxs(ct,{children:[a.jsx(W,{variant:"outline",onClick:()=>{u(!1),f(!1),R()},children:"Hủy"}),a.jsxs(W,{onClick:O?ce:G,children:[a.jsx(ac,{className:"h-4 w-4 mr-2"}),O?"更新":"創建"]})]})]})}),a.jsx(ft,{open:x,onOpenChange:b,children:a.jsxs(it,{className:"max-w-2xl",children:[a.jsxs(ot,{children:[a.jsx(lt,{children:"測試發送通知"}),a.jsxs(ut,{children:['發送測試通知以測試模板 "',S==null?void 0:S.name,'"']})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"testRecipient",children:"接收者 *"}),a.jsx(le,{id:"testRecipient",value:q.recipient,onChange:K=>M(ae=>({...ae,recipient:K.target.value})),placeholder:q.type==="email"?"email@example.com":q.type==="sms"?"+84901234567":"device_token"})]}),a.jsxs("div",{children:[a.jsx(Z,{children:"變數 (可選)"}),a.jsx("div",{className:"space-y-2",children:((S==null?void 0:S.variables)||[]).map(K=>a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(Z,{className:"w-24 text-sm",children:[K,":"]}),a.jsx(le,{value:q.variables[K]||"",onChange:ae=>M(oe=>({...oe,variables:{...oe.variables,[K]:ae.target.value}})),placeholder:`輸入 ${K} 的值`})]},K))})]})]}),a.jsxs(ct,{children:[a.jsx(W,{variant:"outline",onClick:()=>b(!1),children:"取消"}),a.jsxs(W,{onClick:pe,disabled:k,children:[a.jsx(nD,{className:"h-4 w-4 mr-2"}),k?"正在發送...":"發送測試"]})]})]})}),a.jsx(ft,{open:y,onOpenChange:j,children:a.jsxs(it,{className:"max-w-2xl",children:[a.jsxs(ot,{children:[a.jsx(lt,{children:"發送批量通知"}),a.jsxs(ut,{children:['發送通知 "',S==null?void 0:S.name,'" 給多個接收者']})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"bulkRecipients",children:"接收者列表 *"}),a.jsx(rr,{id:"bulkRecipients",value:J.recipients,onChange:K=>V(ae=>({...ae,recipients:K.target.value})),placeholder:J.type==="email"?"email1@example.com, email2@example.com":J.type==="sms"?"+84901234567, +84987654321":"token1, token2",rows:4}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"每個接收者一行或用逗號分隔"})]}),a.jsxs("div",{children:[a.jsx(Z,{children:"變數 (可選)"}),a.jsx("div",{className:"space-y-2",children:((S==null?void 0:S.variables)||[]).map(K=>a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(Z,{className:"w-24 text-sm",children:[K,":"]}),a.jsx(le,{value:J.variables[K]||"",onChange:ae=>V(oe=>({...oe,variables:{...oe.variables,[K]:ae.target.value}})),placeholder:`輸入 ${K} 的值`})]},K))})]})]}),a.jsxs(ct,{children:[a.jsx(W,{variant:"outline",onClick:()=>j(!1),children:"取消"}),a.jsxs(W,{onClick:Oe,disabled:E,children:[a.jsx(ca,{className:"h-4 w-4 mr-2"}),E?"正在發送...":"發送批量"]})]})]})}),a.jsx(ft,{open:v,onOpenChange:m,children:a.jsxs(it,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[a.jsxs(ot,{children:[a.jsx(lt,{children:"預覽通知模板"}),a.jsxs(ut,{children:[S==null?void 0:S.name," - ",S==null?void 0:S.type.toUpperCase()]})]}),a.jsxs("div",{className:"space-y-4",children:[(S==null?void 0:S.subject)&&a.jsxs("div",{children:[a.jsx(Z,{className:"text-sm font-medium",children:"標題:"}),a.jsx("div",{className:"mt-1 p-3 bg-gray-50 rounded-lg",children:a.jsx("p",{className:"text-sm",children:S.subject})})]}),a.jsxs("div",{children:[a.jsx(Z,{className:"text-sm font-medium",children:"內容:"}),a.jsx("div",{className:"mt-1 p-4 bg-gray-50 rounded-lg",children:a.jsx("pre",{className:"text-sm text-gray-700 whitespace-pre-wrap max-h-96 overflow-y-auto",children:w})})]}),a.jsxs("div",{children:[a.jsx(Z,{className:"text-sm font-medium",children:"已替換的變數:"}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:((S==null?void 0:S.variables)||[]).map(K=>a.jsx(Le,{variant:"outline",className:"text-xs",children:`{{${K}}}`},K))})]})]}),a.jsx(ct,{children:a.jsx(W,{variant:"outline",onClick:()=>m(!1),children:"關閉"})})]})}),a.jsx(ft,{open:h,onOpenChange:p,children:a.jsxs(it,{children:[a.jsxs(ot,{children:[a.jsx(lt,{children:"確認刪除"}),a.jsxs(ut,{children:['您確定要刪除通知模板 "',S==null?void 0:S.name,'"? 此操作無法撤銷。']})]}),a.jsxs(ct,{children:[a.jsx(W,{variant:"outline",onClick:()=>p(!1),children:"取消"}),a.jsx(W,{variant:"destructive",onClick:we,children:"刪除"})]})]})})]})},ide=()=>{const[e,t]=g.useState([]),[r,n]=g.useState([]),[s,i]=g.useState(!0),[o,c]=g.useState(""),[l,u]=g.useState(!1),[d,f]=g.useState(!1),[h,p]=g.useState(!1),[v,m]=g.useState(null),[x,b]=g.useState(!1),[y,j]=g.useState({date:"",reason:"",description:"",affectedParkingTypes:[],isActive:!0});g.useEffect(()=>{S()},[]);const S=async()=>{try{i(!0);const[E,I]=await Promise.all([DI(),hf()]);t(E.maintenanceDays),n(I.parkingTypes)}catch(E){console.error("Error loading data:",E),Y.error("無法載入資料")}finally{i(!1)}},N=async()=>{try{await II(y),Y.success("創建維護日期成功"),u(!1),O(),S()}catch(E){console.error("Error creating maintenance day:",E),Y.error("無法創建維護日期")}},w=async()=>{if(v)try{await MI(v._id,y),Y.success("更新維護日期成功"),f(!1),O(),S()}catch(E){console.error("Error updating maintenance day:",E),Y.error("無法更新維護日期")}},A=async()=>{if(v)try{await RI(v._id),Y.success("刪除維護日期成功"),p(!1),m(null),S()}catch{Y.error("Không thể xóa ngày bảo trì")}},O=()=>{j({date:"",reason:"",description:"",affectedParkingTypes:[],isActive:!0}),b(!1),m(null)},_=()=>{j({date:"",reason:"",description:"",affectedParkingTypes:[],isActive:!0}),u(!0)},C=E=>{m(E),j({date:new Date(E.date).toISOString().split("T")[0],reason:E.reason,description:E.description||"",affectedParkingTypes:E.affectedParkingTypes.map(I=>I._id),isActive:E.isActive}),b(!0),f(!0)},P=E=>{m(E),p(!0)},k=E=>new Date(E).toLocaleDateString("zh-TW",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),T=e.filter(E=>E.reason.toLowerCase().includes(o.toLowerCase())||E.description&&E.description.toLowerCase().includes(o.toLowerCase()));return s?a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}):a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"維護日期"}),a.jsx("p",{className:"text-gray-600",children:"管理不接收車輛的維護日期"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(W,{variant:"outline",onClick:S,children:[a.jsx(Gn,{className:"h-4 w-4 mr-2"}),"重新整理"]}),a.jsxs(W,{onClick:_,children:[a.jsx(Kr,{className:"h-4 w-4 mr-2"}),"新增維護日期"]})]})]}),a.jsxs(ue,{className:"mb-6",children:[a.jsx(xe,{children:a.jsxs(ye,{className:"flex items-center",children:[a.jsx(mr,{className:"h-5 w-5 mr-2"}),"篩選"]})}),a.jsx(he,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"search",children:"搜尋"}),a.jsxs("div",{className:"relative",children:[a.jsx(Gr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),a.jsx(le,{id:"search",placeholder:"原因、描述...",value:o,onChange:E=>c(E.target.value),className:"pl-10"})]})]}),a.jsx("div",{className:"flex items-end",children:a.jsxs(W,{variant:"outline",className:"w-full",children:[a.jsx(mr,{className:"h-4 w-4 mr-2"}),"篩選"]})})]})})]}),a.jsxs(ue,{children:[a.jsxs(xe,{children:[a.jsx(ye,{children:"維護日期清單"}),a.jsxs(rt,{children:["總共 ",T.length," 個維護日期"]})]}),a.jsxs(he,{children:[a.jsxs(Ur,{children:[a.jsx(Wr,{children:a.jsxs(Pt,{children:[a.jsx(_e,{children:"日期"}),a.jsx(_e,{children:"原因"}),a.jsx(_e,{children:"受影響的停車場"}),a.jsx(_e,{children:"狀態"}),a.jsx(_e,{children:"操作"})]})}),a.jsx(Hr,{children:T.map(E=>a.jsxs(Pt,{children:[a.jsx(Pe,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Et,{className:"h-4 w-4 text-gray-500"}),a.jsx("span",{className:"font-medium",children:k(E.date)})]})}),a.jsx(Pe,{children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:E.reason}),E.description&&a.jsx("div",{className:"text-sm text-gray-600",children:E.description})]})}),a.jsx(Pe,{children:a.jsx("div",{className:"flex flex-wrap gap-1",children:E.affectedParkingTypes.map((I,F)=>a.jsx(Le,{variant:"outline",className:"text-xs",children:I.name},F))})}),a.jsx(Pe,{children:a.jsx(Le,{variant:E.isActive?"default":"secondary",children:E.isActive?a.jsxs(a.Fragment,{children:[a.jsx(pr,{className:"h-3 w-3 mr-1"}),"啟用"]}):a.jsxs(a.Fragment,{children:[a.jsx(Zr,{className:"h-3 w-3 mr-1"}),"暫停"]})})}),a.jsx(Pe,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(W,{size:"sm",variant:"outline",onClick:()=>C(E),children:a.jsx(an,{className:"h-4 w-4"})}),a.jsx(W,{size:"sm",variant:"destructive",onClick:()=>P(E),children:a.jsx(_r,{className:"h-4 w-4"})})]})})]},E._id))})]}),T.length===0&&a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(Ci,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"沒有維護日期"}),a.jsx("p",{className:"text-gray-500",children:"沒有維護日期。"})]})]})]}),a.jsx(ft,{open:l||d,onOpenChange:E=>{E||(u(!1),f(!1),O())},children:a.jsxs(it,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[a.jsxs(ot,{children:[a.jsx(lt,{children:x?"編輯維護日期":"新增維護日期"}),a.jsx(ut,{children:x?"更新維護日期資訊":"創建新的維護日期"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"date",children:"維護日期 *"}),a.jsx(le,{id:"date",type:"date",value:y.date,onChange:E=>j(I=>({...I,date:E.target.value}))})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"reason",children:"維護原因 *"}),a.jsx(le,{id:"reason",value:y.reason,onChange:E=>j(I=>({...I,reason:E.target.value})),placeholder:"例如: 系統維護, 修理..."})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"description",children:"詳細描述"}),a.jsx(rr,{id:"description",value:y.description,onChange:E=>j(I=>({...I,description:E.target.value})),placeholder:"輸入維護詳細描述...",rows:3})]}),a.jsxs("div",{children:[a.jsx(Z,{children:"受影響的停車場"}),a.jsx("div",{className:"space-y-2 mt-2",children:r.map(E=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",id:`parking-${E._id}`,checked:y.affectedParkingTypes.includes(E._id),onChange:I=>{I.target.checked?j(F=>({...F,affectedParkingTypes:[...F.affectedParkingTypes,E._id]})):j(F=>({...F,affectedParkingTypes:F.affectedParkingTypes.filter($=>$!==E._id)}))}}),a.jsxs(Z,{htmlFor:`parking-${E._id}`,className:"text-sm",children:[E.name," (",E.code,")"]})]},E._id))})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Nt,{id:"isActive",checked:y.isActive,onCheckedChange:E=>j(I=>({...I,isActive:E}))}),a.jsx(Z,{htmlFor:"isActive",children:"啟用此維護日期"})]})]}),a.jsxs(ct,{children:[a.jsx(W,{variant:"outline",onClick:()=>{u(!1),f(!1),O()},children:"Hủy"}),a.jsx(W,{onClick:x?w:N,children:x?"更新":"創建"})]})]})}),a.jsx(ft,{open:h,onOpenChange:p,children:a.jsxs(it,{children:[a.jsxs(ot,{children:[a.jsx(lt,{children:"確認刪除"}),a.jsxs(ut,{children:['您確定要刪除維護日期 "',v==null?void 0:v.reason,'"? 此操作無法撤銷。']})]}),a.jsxs(ct,{children:[a.jsx(W,{variant:"outline",onClick:()=>p(!1),children:"取消"}),a.jsx(W,{variant:"destructive",onClick:A,children:"刪除"})]})]})})]})},wu=({id:e,value:t,onChange:r,min:n,max:s,className:i="",placeholder:o,type:c="datetime-local"})=>{const l=h=>{const p=h.target.value;if(c==="datetime-local"){const v=wN(p);r(v)}else{const v=NN(p);r(v)}},u=()=>t?c==="datetime-local"?Ti(t):Ei(t):"",d=()=>{if(n)return c==="datetime-local"?Ti(n):Ei(n)},f=()=>{if(s)return c==="datetime-local"?Ti(s):Ei(s)};return a.jsx(le,{id:e,type:c,value:u(),onChange:l,min:d(),max:f(),placeholder:o||(c==="datetime-local"?"年/月/日 00:00":"年/月/日"),className:i,style:{fontFamily:"monospace"}})},ode=()=>{const[e,t]=g.useState([]),[r,n]=g.useState(null),[s,i]=g.useState([]),[o,c]=g.useState(!0),[l,u]=g.useState(""),[d,f]=g.useState(!1),[h,p]=g.useState(!1),[v,m]=g.useState(!1),[x,b]=g.useState(!1),[y,j]=g.useState(null),[S,N]=g.useState(!1),[w,A]=g.useState("single"),[O,_]=g.useState([]),[C,P]=g.useState([]),[k,T]=g.useState(!1),[E,I]=g.useState(!1),[F,$]=g.useState(!1),[q,M]=g.useState(""),[J,V]=g.useState(!1),[z,B]=g.useState(!1),[G,ce]=g.useState({startDate:"",endDate:"",price:0,reason:"",isActive:!0}),[we,pe]=g.useState(!1);g.useEffect(()=>{Oe()},[]);const Oe=async()=>{try{c(!0);const U=await hf(),ie=await Promise.all(U.parkingTypes.map(async Ve=>{try{const Ee=await kI(Ve._id);return{...Ve,specialPrices:Ee.specialPrices||[]}}catch{return{...Ve,specialPrices:[]}}}));t(ie),ie.length>0&&(n(ie[0]),i(ie[0].specialPrices))}catch(U){console.error("Error loading parking types:",U),Y.error("Không thể tải danh sách bãi đậu xe")}finally{c(!1)}},R=async U=>{const ie=e.find(Ve=>Ve._id===U);n(ie||null),ie&&i(ie.specialPrices)},de=async()=>{var ie,Ve;if(!r)return;if(!G.startDate||!G.price||!G.reason.trim()){Y.error("Vui lòng điền đầy đủ thông tin bao gồm lý do");return}if(!we&&!G.endDate){Y.error("Vui lòng chọn ngày kết thúc");return}const U={...G,endDate:we?G.startDate:G.endDate,forceOverride:z};try{const Ee=await CI(r._id,U);Y.success(Ee.message||"新增特殊價格成功"),f(!1),Se(),await Oe()}catch(Ee){console.error("Error creating special price:",Ee);const Je=((Ve=(ie=Ee.response)==null?void 0:ie.data)==null?void 0:Ve.message)||"無法新增特殊價格";Y.error(Je)}},fe=async()=>{var ie,Ve,Ee,Je;if(O.length===0){Y.error("Vui lòng chọn ít nhất một bãi đậu xe");return}if(!G.startDate||!G.price||!G.reason.trim()){Y.error("Vui lòng điền đầy đủ thông tin bao gồm lý do");return}const U={...G,endDate:we?G.startDate:G.endDate};try{const Ct=[];for(const Vt of O)try{const Qn=await my(Vt,[U],J);Ct.push({parkingTypeId:Vt,success:!0,result:Qn})}catch(Qn){Ct.push({parkingTypeId:Vt,success:!1,error:((Ve=(ie=Qn.response)==null?void 0:ie.data)==null?void 0:Ve.message)||"Lỗi không xác định"})}const Jt=Ct.filter(Vt=>Vt.success).length,ar=Ct.filter(Vt=>!Vt.success).length;Jt>0&&Y.success(`成功創建 ${Jt} 個特殊價格`),ar>0&&Y.error(`${ar} 個特殊價格創建失敗`),p(!1),Se(),_([]),await Oe()}catch(Ct){console.error("Error creating bulk special prices:",Ct),Y.error(((Je=(Ee=Ct.response)==null?void 0:Ee.data)==null?void 0:Je.message)||"批量創建特殊價格時發生錯誤")}},ee=async()=>{if(!y||!r)return;if(!G.startDate||!G.price||!G.reason.trim()){Y.error("Vui lòng điền đầy đủ thông tin bao gồm lý do");return}const U={...G,endDate:we?G.startDate:G.endDate};try{await py(r._id,y._id,U),Y.success("更新特殊價格成功"),m(!1),Se(),await Oe()}catch(ie){console.error("Error updating special price:",ie),Y.error("無法更新特殊價格")}},Me=async()=>{if(!(!y||!r))try{await gy(r._id,y._id),Y.success("刪除特殊價格成功"),b(!1),j(null),await Oe()}catch{Y.error("無法刪除特殊價格")}},Se=()=>{ce({startDate:"",endDate:"",price:0,reason:"",isActive:!0}),N(!1),j(null),M(""),pe(!1),B(!1)},tt=()=>{ce({startDate:"",endDate:"",price:0,reason:"",isActive:!0}),pe(!1),B(!1),f(!0)},nt=()=>{ce({startDate:"",endDate:"",price:0,reason:"",isActive:!0}),pe(!1),p(!0)},ze=U=>{j(U);const ie=new Date(U.startDate).toISOString().split("T")[0],Ve=new Date(U.endDate).toISOString().split("T")[0];ce({startDate:ie,endDate:Ve,price:U.price,reason:U.reason,isActive:U.isActive}),pe(ie===Ve),N(!0),m(!0)},L=U=>{j(U),b(!0)},X=U=>U.toLocaleString("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0,maximumFractionDigits:0}),Q=(U,ie,Ve)=>{const Ee=new Date;switch(U){case"weekend":const Je=[];if(!ie||!Ve)return[];const Ct=new Date(ie),Jt=new Date(Ve);let ar=new Date(Ct);for(;ar.getDay()!==6;)ar.setDate(ar.getDate()+1);let Vt=new Date(ar);for(;Vt<=Jt;){const Qn=new Date(Vt);Qn.setDate(Vt.getDate()+1),Je.push({startDate:Vt.toISOString().split("T")[0],endDate:Qn.toISOString().split("T")[0],price:r?Math.round(r.pricePerDay*1.2):0,reason:"週末",isActive:!0}),Vt.setDate(Vt.getDate()+7)}return Je;case"holiday":return[{startDate:Ee.toISOString().split("T")[0],endDate:new Date(Ee.getTime()+7*24*60*60*1e3).toISOString().split("T")[0],price:r?Math.round(r.pricePerDay*1.5):0,reason:"節日",isActive:!0}];case"peak":return[{startDate:Ee.toISOString().split("T")[0],endDate:new Date(Ee.getTime()+30*24*60*60*1e3).toISOString().split("T")[0],price:r?Math.round(r.pricePerDay*1.3):0,reason:"旺季",isActive:!0}];default:return[G]}},K=U=>{if(M(U),U==="weekend"&&(!G.startDate||!G.endDate)){Y.error("Vui lòng chọn khoảng ngày trước khi sử dụng template cuối tuần");return}const ie=Q(U,G.startDate,G.endDate);ie.length===1?ce(ie[0]):ie.length>1?(P(ie),T(!0)):U==="weekend"&&Y.error("Không tìm thấy cuối tuần nào trong khoảng ngày đã chọn")},ae=()=>{if(O.length===0){Y.error("Vui lòng chọn ít nhất một bãi đậu xe");return}if(C.length===0){Y.error("Không có dữ liệu template");return}(async()=>{var ie,Ve;try{const Ee=[];for(const Jt of O)try{const ar=await my(Jt,C,J);Ee.push({parkingTypeId:Jt,success:!0,result:ar})}catch(ar){Ee.push({parkingTypeId:Jt,success:!1,error:((Ve=(ie=ar.response)==null?void 0:ie.data)==null?void 0:Ve.message)||"Lỗi không xác định"})}const Je=Ee.filter(Jt=>Jt.success).length,Ct=Ee.filter(Jt=>!Jt.success).length;Je>0&&Y.success(`Áp dụng thành công ${C.length} template cho ${Je} bãi đậu xe`),Ct>0&&Y.error(`${Ct} bãi đậu xe áp dụng thất bại`),T(!1),P([]),_([]),await Oe()}catch(Ee){console.error("Error applying bulk templates:",Ee),Y.error("Không thể áp dụng template hàng loạt")}})()},oe=async()=>{if(O.length===0){Y.error("Vui lòng chọn ít nhất một bãi đậu xe");return}try{const U=e.filter(Ve=>O.includes(Ve._id)).flatMap(Ve=>Ve.specialPrices);if(U.length===0){Y.error("Không có giá đặc biệt nào để xóa");return}const ie=[];for(const Ve of e)if(O.includes(Ve._id))for(const Ee of Ve.specialPrices)ie.push(gy(Ve._id,Ee._id));await Promise.all(ie),Y.success(`Đã xóa ${U.length} giá đặc biệt từ ${O.length} bãi đậu xe`),I(!1),_([]),await Oe()}catch(U){console.error("Error bulk deleting special prices:",U),Y.error("Không thể xóa giá đặc biệt hàng loạt")}},Ce=async()=>{if(O.length===0){Y.error("Vui lòng chọn ít nhất một bãi đậu xe");return}if(!G.startDate||!G.price||!G.reason.trim()){Y.error("Vui lòng điền đầy đủ thông tin bao gồm lý do");return}try{const U=e.filter(Ve=>O.includes(Ve._id)).flatMap(Ve=>Ve.specialPrices);if(U.length===0){Y.error("Không có giá đặc biệt nào để sửa");return}const ie=[];for(const Ve of e)if(O.includes(Ve._id))for(const Ee of Ve.specialPrices)ie.push(py(Ve._id,Ee._id,G));await Promise.all(ie),Y.success(`Đã cập nhật ${U.length} giá đặc biệt từ ${O.length} bãi đậu xe`),$(!1),_([]),Se(),await Oe()}catch(U){console.error("Error bulk updating special prices:",U),Y.error("Không thể cập nhật giá đặc biệt hàng loạt")}},re=()=>{O.length===e.length?_([]):_(e.map(U=>U._id))},Te=U=>{_(ie=>ie.includes(U)?ie.filter(Ve=>Ve!==U):[...ie,U])},te=s.filter(U=>U.reason.toLowerCase().includes(l.toLowerCase())),Be=e.flatMap(U=>U.specialPrices.map(ie=>({...ie,parkingTypeName:U.name,parkingTypeCode:U.code}))).filter(U=>U.reason.toLowerCase().includes(l.toLowerCase())||U.parkingTypeName.toLowerCase().includes(l.toLowerCase()));return o?a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}):a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"特殊價格"}),a.jsx("p",{className:"text-gray-600",children:"管理特定日期的特殊價格"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(W,{variant:"outline",onClick:Oe,children:[a.jsx(Gn,{className:"h-4 w-4 mr-2"}),"重新整理"]}),a.jsxs(W,{variant:"outline",onClick:nt,children:[a.jsx(sy,{className:"h-4 w-4 mr-2"}),"批量配置"]}),a.jsxs(W,{onClick:tt,disabled:!r,children:[a.jsx(Kr,{className:"h-4 w-4 mr-2"}),"新增特殊價格"]})]})]}),a.jsxs(wo,{value:w,onValueChange:U=>A(U),className:"space-y-6",children:[a.jsxs(ni,{className:"grid w-full grid-cols-2",children:[a.jsxs(Mt,{value:"single",className:"flex items-center space-x-2",children:[a.jsx(wc,{className:"h-4 w-4"}),a.jsx("span",{children:"個別停車場配置"})]}),a.jsxs(Mt,{value:"overview",className:"flex items-center space-x-2",children:[a.jsx(ay,{className:"h-4 w-4"}),a.jsx("span",{children:"全部概覽"})]})]}),a.jsxs(er,{value:"single",className:"space-y-6",children:[a.jsxs(ue,{children:[a.jsx(xe,{children:a.jsxs(ye,{className:"flex items-center",children:[a.jsx(ha,{className:"h-5 w-5 mr-2"}),"選擇停車場"]})}),a.jsx(he,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"parkingType",children:"停車場"}),a.jsx("select",{id:"parkingType",value:(r==null?void 0:r._id)||"",onChange:U=>R(U.target.value),className:"w-full p-2 border border-gray-300 rounded-md",children:e.map(U=>a.jsxs("option",{value:U._id,children:[U.name," (",U.code,") - ",X(U.pricePerDay),"/天"]},U._id))})]}),a.jsx("div",{className:"flex items-end",children:a.jsxs("div",{className:"text-sm text-gray-600",children:["基本價格: ",r?X(r.pricePerDay):"N/A"]})})]})})]}),a.jsxs(ue,{children:[a.jsx(xe,{children:a.jsxs(ye,{className:"flex items-center",children:[a.jsx(mr,{className:"h-5 w-5 mr-2"}),"篩選"]})}),a.jsx(he,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"search",children:"搜尋"}),a.jsxs("div",{className:"relative",children:[a.jsx(Gr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),a.jsx(le,{id:"search",placeholder:"原因...",value:l,onChange:U=>u(U.target.value),className:"pl-10"})]})]}),a.jsx("div",{className:"flex items-end",children:a.jsxs(W,{variant:"outline",className:"w-full",children:[a.jsx(mr,{className:"h-4 w-4 mr-2"}),"篩選"]})})]})})]}),a.jsxs(ue,{children:[a.jsxs(xe,{children:[a.jsx(ye,{children:"特殊價格清單"}),a.jsxs(rt,{children:[r&&`停車場: ${r.name}`," - 共 ",te.length," 個特殊價格"]})]}),a.jsxs(he,{children:[a.jsxs(Ur,{children:[a.jsx(Wr,{children:a.jsxs(Pt,{children:[a.jsx(_e,{children:"日期"}),a.jsx(_e,{children:"價格"}),a.jsx(_e,{children:"原因"}),a.jsx(_e,{children:"狀態"}),a.jsx(_e,{children:"操作"})]})}),a.jsx(Hr,{children:te.map(U=>a.jsxs(Pt,{children:[a.jsx(Pe,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Et,{className:"h-4 w-4 text-gray-500"}),a.jsx("span",{className:"font-medium",children:Ho(U.startDate,U.endDate)})]})}),a.jsx(Pe,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(yi,{className:"h-4 w-4 text-green-500"}),a.jsx("span",{className:"font-bold text-green-600",children:X(U.price)})]})}),a.jsx(Pe,{children:a.jsx("div",{className:"font-medium",children:U.reason})}),a.jsx(Pe,{children:a.jsx(Le,{variant:U.isActive?"default":"secondary",children:U.isActive?a.jsxs(a.Fragment,{children:[a.jsx(pr,{className:"h-3 w-3 mr-1"}),"Hoạt động"]}):a.jsxs(a.Fragment,{children:[a.jsx(Zr,{className:"h-3 w-3 mr-1"}),"Tạm khóa"]})})}),a.jsx(Pe,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(W,{size:"sm",variant:"outline",onClick:()=>ze(U),children:a.jsx(an,{className:"h-4 w-4"})}),a.jsx(W,{size:"sm",variant:"destructive",onClick:()=>L(U),children:a.jsx(_r,{className:"h-4 w-4"})})]})})]},U._id))})]}),te.length===0&&a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(ha,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"沒有特殊價格"}),a.jsx("p",{className:"text-gray-500",children:"此停車場尚未設置任何特殊價格。"})]})]})]})]}),a.jsxs(er,{value:"overview",className:"space-y-6",children:[a.jsxs(ue,{children:[a.jsx(xe,{children:a.jsxs(ye,{className:"flex items-center",children:[a.jsx(sy,{className:"h-5 w-5 mr-2"}),"選擇停車場進行批量操作"]})}),a.jsx(he,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Fa,{id:"selectAllOverview",checked:O.length===e.length,onCheckedChange:re}),a.jsx(Z,{htmlFor:"selectAllOverview",className:"font-medium",children:"選擇所有停車場"})]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 max-h-40 overflow-y-auto border rounded-md p-3",children:e.map(U=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Fa,{id:`overview-${U._id}`,checked:O.includes(U._id),onCheckedChange:()=>Te(U._id)}),a.jsxs(Z,{htmlFor:`overview-${U._id}`,className:"text-sm",children:[U.name," (",U.code,")"]})]},U._id))}),a.jsxs("div",{className:"text-sm text-gray-600",children:["已選擇: ",O.length,"/",e.length," 個停車場"]})]})})]}),a.jsxs(ue,{children:[a.jsx(xe,{children:a.jsxs(ye,{className:"flex items-center",children:[a.jsx(mr,{className:"h-5 w-5 mr-2"}),"概覽篩選"]})}),a.jsx(he,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"overviewSearch",children:"搜尋"}),a.jsxs("div",{className:"relative",children:[a.jsx(Gr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),a.jsx(le,{id:"overviewSearch",placeholder:"原因或停車場名稱...",value:l,onChange:U=>u(U.target.value),className:"pl-10"})]})]}),a.jsx("div",{className:"flex items-end",children:a.jsxs("div",{className:"text-sm text-gray-600",children:["總計: ",Be.length," 個特殊價格"]})})]})})]}),a.jsxs(ue,{children:[a.jsxs(xe,{children:[a.jsx(ye,{children:"所有特殊價格概覽"}),a.jsx(rt,{children:"查看所有停車場的特殊價格"})]}),a.jsxs(he,{children:[a.jsxs(Ur,{children:[a.jsx(Wr,{children:a.jsxs(Pt,{children:[a.jsx(_e,{children:"停車場"}),a.jsx(_e,{children:"日期"}),a.jsx(_e,{children:"價格"}),a.jsx(_e,{children:"原因"}),a.jsx(_e,{children:"狀態"})]})}),a.jsx(Hr,{children:Be.map(U=>a.jsxs(Pt,{children:[a.jsx(Pe,{children:a.jsxs("div",{className:"font-medium",children:[U.parkingTypeName,a.jsx(Le,{variant:"outline",className:"ml-2",children:U.parkingTypeCode})]})}),a.jsx(Pe,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Et,{className:"h-4 w-4 text-gray-500"}),a.jsx("span",{className:"font-medium",children:Ho(U.startDate,U.endDate)})]})}),a.jsx(Pe,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(yi,{className:"h-4 w-4 text-green-500"}),a.jsx("span",{className:"font-bold text-green-600",children:X(U.price)})]})}),a.jsx(Pe,{children:a.jsx("div",{className:"font-medium",children:U.reason})}),a.jsx(Pe,{children:a.jsx(Le,{variant:U.isActive?"default":"secondary",children:U.isActive?a.jsxs(a.Fragment,{children:[a.jsx(pr,{className:"h-3 w-3 mr-1"}),"Hoạt động"]}):a.jsxs(a.Fragment,{children:[a.jsx(Zr,{className:"h-3 w-3 mr-1"}),"Tạm khóa"]})})})]},`${U.parkingTypeCode}-${U._id}`))})]}),Be.length===0&&a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(ay,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"沒有特殊價格"}),a.jsx("p",{className:"text-gray-500",children:"尚未為任何停車場設置特殊價格。"})]})]})]})]})]}),a.jsx(ft,{open:d||v,onOpenChange:U=>{U||(f(!1),m(!1),Se())},children:a.jsxs(it,{className:"max-w-md",children:[a.jsxs(ot,{children:[a.jsx(lt,{children:S?"編輯特殊價格":"新增特殊價格"}),a.jsx(ut,{children:S?"更新特殊價格資訊":"為特定日期創建新的特殊價格"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[a.jsx(Nt,{id:"singleDayMode",checked:we,onCheckedChange:pe}),a.jsx(Z,{htmlFor:"singleDayMode",className:"font-medium",children:we?"單日模式":"日期範圍模式"})]}),we?a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"singleDate",children:"選擇日期 *"}),a.jsx(wu,{id:"singleDate",type:"date",value:G.startDate,onChange:U=>ce(ie=>({...ie,startDate:U,endDate:U})),placeholder:"yyyy/mm/dd"})]}):a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"startDate",children:"開始日期 *"}),a.jsx(le,{id:"startDate",type:"date",value:G.startDate,onChange:U=>ce(ie=>({...ie,startDate:U.target.value}))})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"endDate",children:"結束日期 *"}),a.jsx(le,{id:"endDate",type:"date",value:G.endDate,onChange:U=>ce(ie=>({...ie,endDate:U.target.value}))})]})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"price",children:"價格 (TWD) *"}),a.jsx(le,{id:"price",type:"number",value:G.price,onChange:U=>ce(ie=>({...ie,price:parseFloat(U.target.value)})),placeholder:"Nhập giá..."})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"reason",children:"原因 *"}),a.jsx(rr,{id:"reason",value:G.reason,onChange:U=>ce(ie=>({...ie,reason:U.target.value})),placeholder:"Ví dụ: Cuối tuần, Ngày lễ Tết, Sự kiện đặc biệt, Mùa cao điểm, Lễ hội, Ngày nghỉ lễ...",rows:3}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"💡 Nhập lý do cụ thể để khách hàng hiểu rõ tại sao giá thay đổi"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Nt,{id:"isActive",checked:G.isActive,onCheckedChange:U=>ce(ie=>({...ie,isActive:U}))}),a.jsx(Z,{htmlFor:"isActive",children:"啟用此特殊價格"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Nt,{id:"singleForceOverride",checked:z,onCheckedChange:B}),a.jsx(Z,{htmlFor:"singleForceOverride",className:"text-orange-600",children:"覆蓋已存在的特殊價格"})]})]}),a.jsxs(ct,{children:[a.jsx(W,{variant:"outline",onClick:()=>{f(!1),m(!1),Se()},children:"取消"}),a.jsx(W,{onClick:S?ee:de,children:S?"更新":"創建特殊價格"})]})]})}),a.jsx(ft,{open:k,onOpenChange:T,children:a.jsxs(it,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(ot,{children:[a.jsx(lt,{children:"選擇要應用的模板"}),a.jsx(ut,{children:"選擇一個模板應用到已選擇的停車場。"})]}),a.jsx("div",{className:"space-y-4",children:C.map((U,ie)=>a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-md",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Et,{className:"h-4 w-4 text-gray-500"}),a.jsx("span",{children:Ho(U.startDate,U.endDate)})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(yi,{className:"h-4 w-4 text-green-500"}),a.jsx("span",{children:X(U.price)})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx(Le,{variant:U.isActive?"default":"secondary",children:U.isActive?"啟用":"暫停"})}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(W,{size:"sm",variant:"outline",onClick:()=>{ce(U),T(!1),P([])},children:a.jsx(an,{className:"h-4 w-4"})}),a.jsx(W,{size:"sm",variant:"destructive",onClick:()=>{P(C.filter((Ve,Ee)=>Ee!==ie))},children:a.jsx(_r,{className:"h-4 w-4"})})]})]},ie))}),a.jsxs(ct,{children:[a.jsx(W,{variant:"outline",onClick:()=>{T(!1),P([])},children:"Hủy"}),a.jsxs(W,{onClick:ae,disabled:C.length===0,children:[a.jsx(pu,{className:"h-4 w-4 mr-2"}),"應用到 ",O.length," 個停車場"]})]})]})}),a.jsx(ft,{open:h,onOpenChange:p,children:a.jsxs(it,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(ot,{children:[a.jsx(lt,{children:"批量特殊價格配置"}),a.jsx(ut,{children:"同時為多個停車場應用特殊價格"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx(Z,{className:"text-sm font-medium",children:"快速模板"}),q==="weekend"&&G.startDate&&G.endDate&&a.jsxs("div",{className:"text-xs text-blue-600 bg-blue-50 p-2 rounded-md mt-1",children:['💡 "週末"模板將為 ',G.startDate," 到 ",G.endDate," 期間的所有週末創建特殊價格"]}),a.jsxs("div",{className:"grid grid-cols-3 gap-2 mt-2",children:[a.jsxs(W,{variant:q==="weekend"?"default":"outline",size:"sm",onClick:()=>K("weekend"),className:"flex items-center space-x-2",children:[a.jsx(uD,{className:"h-3 w-3"}),a.jsx("span",{children:"週末"})]}),a.jsxs(W,{variant:q==="holiday"?"default":"outline",size:"sm",onClick:()=>K("holiday"),className:"flex items-center space-x-2",children:[a.jsx(Et,{className:"h-3 w-3"}),a.jsx("span",{children:"節日"})]}),a.jsxs(W,{variant:q==="peak"?"default":"outline",size:"sm",onClick:()=>K("peak"),className:"flex items-center space-x-2",children:[a.jsx(ha,{className:"h-3 w-3"}),a.jsx("span",{children:"旺季"})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Nt,{id:"bulkSingleDayMode",checked:we,onCheckedChange:pe}),a.jsx(Z,{htmlFor:"bulkSingleDayMode",className:"font-medium",children:we?"單日模式":"日期範圍模式"})]}),a.jsxs("div",{className:"space-y-4",children:[we?a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"bulkSingleDate",children:"選擇日期 *"}),a.jsx(le,{id:"bulkSingleDate",type:"date",value:G.startDate,onChange:U=>ce(ie=>({...ie,startDate:U.target.value,endDate:U.target.value}))})]}):a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"bulkStartDate",children:"開始日期 *"}),a.jsx(le,{id:"bulkStartDate",type:"date",value:G.startDate,onChange:U=>{if(ce(ie=>({...ie,startDate:U.target.value})),q==="weekend"&&G.endDate){const ie=Q("weekend",U.target.value,G.endDate);P(ie)}}})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"bulkEndDate",children:"結束日期 *"}),a.jsx(le,{id:"bulkEndDate",type:"date",value:G.endDate,onChange:U=>{if(ce(ie=>({...ie,endDate:U.target.value})),q==="weekend"&&G.startDate){const ie=Q("weekend",G.startDate,U.target.value);P(ie)}}})]})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"bulkPrice",children:"價格 (TWD) *"}),a.jsx(le,{id:"bulkPrice",type:"number",value:G.price,onChange:U=>ce(ie=>({...ie,price:parseFloat(U.target.value)})),placeholder:"輸入價格..."})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"bulkReason",children:"原因 *"}),a.jsx(rr,{id:"bulkReason",value:G.reason,onChange:U=>ce(ie=>({...ie,reason:U.target.value})),placeholder:"Ví dụ: Cuối tuần, Ngày lễ Tết, Sự kiện đặc biệt, Mùa cao điểm, Lễ hội, Ngày nghỉ lễ...",rows:3}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"💡 Nhập lý do cụ thể để khách hàng hiểu rõ tại sao giá thay đổi"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Nt,{id:"bulkIsActive",checked:G.isActive,onCheckedChange:U=>ce(ie=>({...ie,isActive:U}))}),a.jsx(Z,{htmlFor:"bulkIsActive",children:"啟用此特殊價格"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Nt,{id:"forceOverride",checked:J,onCheckedChange:V}),a.jsx(Z,{htmlFor:"forceOverride",className:"text-orange-600",children:"覆蓋已存在的特殊價格"})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[a.jsx(Fa,{id:"selectAll",checked:O.length===e.length,onCheckedChange:re}),a.jsx(Z,{htmlFor:"selectAll",className:"font-medium",children:"選擇所有停車場"})]}),a.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-40 overflow-y-auto border rounded-md p-3",children:e.map(U=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Fa,{id:U._id,checked:O.includes(U._id),onCheckedChange:()=>Te(U._id)}),a.jsxs(Z,{htmlFor:U._id,className:"text-sm",children:[U.name," (",U.code,")"]})]},U._id))}),a.jsxs("div",{className:"text-sm text-gray-600 mt-2",children:["已選擇: ",O.length,"/",e.length," 個停車場"]})]})]}),a.jsxs(ct,{children:[a.jsx(W,{variant:"outline",onClick:()=>{p(!1),Se(),_([])},children:"Hủy"}),a.jsxs(W,{onClick:fe,disabled:O.length===0,children:[a.jsx(pu,{className:"h-4 w-4 mr-2"}),"應用到 ",O.length," 個停車場"]})]})]})}),a.jsx(ft,{open:k,onOpenChange:T,children:a.jsxs(it,{className:"max-w-2xl",children:[a.jsxs(ot,{children:[a.jsx(lt,{children:"Chọn template để áp dụng"}),a.jsx(ut,{children:"Chọn một template để áp dụng cho các bãi đậu xe đã chọn."})]}),a.jsx("div",{className:"space-y-4",children:C.map((U,ie)=>a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-md",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Et,{className:"h-4 w-4 text-gray-500"}),a.jsx("span",{children:Ho(U.startDate,U.endDate)})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(yi,{className:"h-4 w-4 text-green-500"}),a.jsx("span",{children:X(U.price)})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx(Le,{variant:U.isActive?"default":"secondary",children:U.isActive?"Hoạt động":"Tạm khóa"})}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(W,{size:"sm",variant:"outline",onClick:()=>{ce(U),T(!1),P([])},children:a.jsx(an,{className:"h-4 w-4"})}),a.jsx(W,{size:"sm",variant:"destructive",onClick:()=>{P(C.filter((Ve,Ee)=>Ee!==ie))},children:a.jsx(_r,{className:"h-4 w-4"})})]})]},ie))}),a.jsxs(ct,{children:[a.jsx(W,{variant:"outline",onClick:()=>{T(!1),P([])},children:"Hủy"}),a.jsxs(W,{onClick:ae,disabled:C.length===0,children:[a.jsx(pu,{className:"h-4 w-4 mr-2"}),"Áp dụng cho ",O.length," bãi đậu xe"]})]})]})}),a.jsx(ft,{open:E,onOpenChange:I,children:a.jsxs(it,{children:[a.jsxs(ot,{children:[a.jsx(lt,{children:"確認刪除"}),a.jsx(ut,{children:"您確定要刪除所選停車場的所有特殊價格嗎？ 此操作無法撤銷。"})]}),a.jsxs(ct,{children:[a.jsx(W,{variant:"outline",onClick:()=>I(!1),children:"Hủy"}),a.jsx(W,{variant:"destructive",onClick:oe,children:"刪除"})]})]})}),a.jsx(ft,{open:F,onOpenChange:$,children:a.jsxs(it,{className:"max-w-2xl",children:[a.jsxs(ot,{children:[a.jsx(lt,{children:"批量更新特殊價格"}),a.jsx(ut,{children:"更新所選停車場所有特殊價格的資訊。"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[a.jsx(Nt,{id:"bulkEditSingleDayMode",checked:we,onCheckedChange:pe}),a.jsx(Z,{htmlFor:"bulkEditSingleDayMode",className:"font-medium",children:we?"單日模式":"日期範圍模式"})]}),we?a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"bulkEditSingleDate",children:"選擇日期 *"}),a.jsx(le,{id:"bulkEditSingleDate",type:"date",value:G.startDate,onChange:U=>ce(ie=>({...ie,startDate:U.target.value,endDate:U.target.value}))})]}):a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"bulkStartDateEdit",children:"開始日期 *"}),a.jsx(le,{id:"bulkStartDateEdit",type:"date",value:G.startDate,onChange:U=>ce(ie=>({...ie,startDate:U.target.value}))})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"bulkEndDateEdit",children:"結束日期 *"}),a.jsx(le,{id:"bulkEndDateEdit",type:"date",value:G.endDate,onChange:U=>ce(ie=>({...ie,endDate:U.target.value}))})]})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"bulkPriceEdit",children:"價格 (TWD) *"}),a.jsx(le,{id:"bulkPriceEdit",type:"number",value:G.price,onChange:U=>ce(ie=>({...ie,price:parseFloat(U.target.value)})),placeholder:"Nhập giá..."})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"bulkReasonEdit",children:"原因 *"}),a.jsx(rr,{id:"bulkReasonEdit",value:G.reason,onChange:U=>ce(ie=>({...ie,reason:U.target.value})),placeholder:"Ví dụ: Cuối tuần, Ngày lễ Tết, Sự kiện đặc biệt, Mùa cao điểm, Lễ hội, Ngày nghỉ lễ...",rows:3}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"💡 Nhập lý do cụ thể để khách hàng hiểu rõ tại sao giá thay đổi"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Nt,{id:"bulkIsActiveEdit",checked:G.isActive,onCheckedChange:U=>ce(ie=>({...ie,isActive:U}))}),a.jsx(Z,{htmlFor:"bulkIsActiveEdit",children:"啟用此特殊價格"})]})]}),a.jsxs(ct,{children:[a.jsx(W,{variant:"outline",onClick:()=>{$(!1),Se()},children:"Hủy"}),a.jsx(W,{onClick:Ce,children:"Cập nhật"})]})]})}),a.jsx(ft,{open:E,onOpenChange:I,children:a.jsxs(it,{children:[a.jsxs(ot,{children:[a.jsx(lt,{children:"確認批量刪除"}),a.jsx(ut,{children:"Bạn có chắc chắn muốn xóa tất cả giá đặc biệt cho các bãi đậu xe đã chọn? Hành động này không thể hoàn tác."})]}),a.jsxs(ct,{children:[a.jsx(W,{variant:"outline",onClick:()=>I(!1),children:"Hủy"}),a.jsx(W,{variant:"destructive",onClick:oe,children:"Xóa"})]})]})}),a.jsx(ft,{open:F,onOpenChange:$,children:a.jsxs(it,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(ot,{children:[a.jsx(lt,{children:"Cập nhật giá đặc biệt hàng loạt"}),a.jsx(ut,{children:"Cập nhật thông tin giá đặc biệt cho tất cả các giá đặc biệt của các bãi đậu xe đã chọn."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"bulkStartDateEdit",children:"Từ ngày *"}),a.jsx(le,{id:"bulkStartDateEdit",type:"date",value:G.startDate,onChange:U=>ce(ie=>({...ie,startDate:U.target.value}))})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"bulkEndDateEdit",children:"Đến ngày *"}),a.jsx(le,{id:"bulkEndDateEdit",type:"date",value:G.endDate,onChange:U=>ce(ie=>({...ie,endDate:U.target.value}))})]})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"bulkPriceEdit",children:"Giá (TWD) *"}),a.jsx(le,{id:"bulkPriceEdit",type:"number",value:G.price,onChange:U=>ce(ie=>({...ie,price:parseFloat(U.target.value)})),placeholder:"Nhập giá..."})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"bulkReasonEdit",children:"Lý do *"}),a.jsx(rr,{id:"bulkReasonEdit",value:G.reason,onChange:U=>ce(ie=>({...ie,reason:U.target.value})),placeholder:"Ví dụ: Cuối tuần, Ngày lễ Tết, Sự kiện đặc biệt, Mùa cao điểm, Lễ hội, Ngày nghỉ lễ...",rows:3}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"💡 Nhập lý do cụ thể để khách hàng hiểu rõ tại sao giá thay đổi"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Nt,{id:"bulkIsActiveEdit",checked:G.isActive,onCheckedChange:U=>ce(ie=>({...ie,isActive:U}))}),a.jsx(Z,{htmlFor:"bulkIsActiveEdit",children:"啟用此特殊價格"})]})]}),a.jsxs(ct,{children:[a.jsx(W,{variant:"outline",onClick:()=>{$(!1),Se()},children:"Hủy"}),a.jsx(W,{onClick:Ce,children:"更新"})]})]})}),a.jsx(ft,{open:x,onOpenChange:b,children:a.jsxs(it,{children:[a.jsxs(ot,{children:[a.jsx(lt,{children:"確認刪除"}),a.jsxs(ut,{children:['您確定要刪除時間範圍 "',y?Ho(y.startDate,y.endDate):"",'" 的特殊價格嗎？ 此操作無法撤銷。']})]}),a.jsxs(ct,{children:[a.jsx(W,{variant:"outline",onClick:()=>b(!1),children:"取消"}),a.jsx(W,{variant:"destructive",onClick:Me,children:"刪除"})]})]})})]})},cde=({parkingTypeId:e,checkInTime:t,checkOutTime:r,onDateSelect:n,onDateRangeSelect:s})=>{const[i,o]=g.useState([]),[c,l]=g.useState(!1),[u,d]=g.useState(new Date),[f,h]=g.useState(null),[p,v]=g.useState(null),[m,x]=g.useState(null);g.useEffect(()=>{e&&b()},[e]),g.useEffect(()=>{e&&m&&y()},[e,u,m]);const b=async()=>{try{const T=await Ae.get("/parking");if(T.data.parkingTypes){const E=T.data.parkingTypes.find(I=>I._id===e);E&&x(E)}}catch(T){console.error("Error loading parking type info:",T)}},y=async()=>{l(!0);try{const T=new Date(u.getFullYear(),u.getMonth(),1),E=new Date(u.getFullYear(),u.getMonth()+1,0),I=[],F=new Date(T);for(;F<=E;){const $=F.toISOString().split("T")[0],q=t&&r&&F>=new Date(t)&&F<=new Date(r),M=(m==null?void 0:m.totalSpaces)||10,J=(m==null?void 0:m.pricePerDay)||1200;I.push({date:$,isAvailable:!0,isSelected:!!q,isInRange:!!q,conflictingBookings:0,availableSlots:M,price:J}),F.setDate(F.getDate()+1)}o(I),await j(I)}catch(T){console.error("Error loading availability data:",T)}finally{l(!1)}},j=async T=>{try{if(!m){console.log("Parking type info not loaded yet");return}const E=u.getFullYear(),I=u.getMonth()+1,F=await Ae.get(`/parking/${e}/month-availability`,{params:{year:E,month:I}});if(F.data.availabilityData){const $=F.data.availabilityData,q=T.map(M=>{const J=$.find(V=>V.date===M.date);if(J)return{...M,isAvailable:J.isAvailable,availableSlots:J.availableSpaces,price:J.price,isSpecialPrice:!1,specialPriceReason:""};{const z=new Date(M.date)<new Date;return{...M,isAvailable:!z,availableSlots:z?0:(m==null?void 0:m.totalSpaces)||0,price:(m==null?void 0:m.pricePerDay)||0,isSpecialPrice:!1,specialPriceReason:""}}});o(q)}}catch(E){console.error("Error checking daily availability:",E);const I=new Date,F=T.map($=>{const M=new Date($.date)<I,J=M?0:Math.max(1,Math.floor(Math.random()*((m==null?void 0:m.totalSpaces)||10)));return{...$,isAvailable:!M,availableSlots:J,price:(m==null?void 0:m.pricePerDay)||1200,isSpecialPrice:!1,specialPriceReason:""}});o(F)}},S=T=>{if(!T.isAvailable||T.availableSlots===0)return"unavailable";if(t&&r){const E=new Date(T.date),I=new Date(t),F=new Date(r);if(E>=I&&E<=F)return"in-booking-range"}if(f&&p){const E=new Date(T.date),I=new Date(f),F=new Date(p);if(E>=I&&E<=F)return"in-range"}return f&&T.date===f?"selected":"available"},N=T=>{const E="w-full h-20 rounded-lg flex flex-col items-center justify-center text-sm font-medium cursor-pointer transition-all duration-200 border-2";switch(S(T)){case"selected":return`${E} bg-[#39653f] text-white border-[#39653f] shadow-lg hover:bg-[#2d4f33] hover:shadow-xl`;case"in-range":return`${E} bg-blue-200 text-blue-800 border-blue-300 hover:bg-blue-300 hover:shadow-md`;case"in-booking-range":return`${E} bg-green-100 text-green-800 border-green-300 hover:bg-green-200 hover:shadow-md`;case"unavailable":return`${E} bg-red-50 text-red-600 border-red-200 cursor-not-allowed opacity-60`;default:return`${E} bg-white text-gray-700 border-gray-200 hover:bg-gray-50 hover:border-blue-300 hover:shadow-md`}},w=T=>T.toLocaleString("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0,maximumFractionDigits:0}),A=T=>{const E=T.getFullYear(),I=String(T.getMonth()+1).padStart(2,"0");return`${E}/${I}`},O=()=>{d(T=>new Date(T.getFullYear(),T.getMonth()-1,1))},_=()=>{d(T=>new Date(T.getFullYear(),T.getMonth()+1,1))},C=()=>["日","一","二","三","四","五","六"],P=()=>{const T=u.getFullYear(),E=u.getMonth(),I=new Date(T,E,1),F=new Date(T,E+1,0),$=new Date(I),q=new Date(F),M=[],J=new Date($),V=I.getDay();for(let z=0;z<V;z++)M.push(null);for(;J<=q;){const z=J.toISOString().split("T")[0],B=i.find(G=>G.date===z);M.push({date:z,day:J.getDate(),...B}),J.setDate(J.getDate()+1)}return M},k=T=>{if(!T)return;const E=i.find(I=>I.date===T);!E||!E.isAvailable||E.availableSlots===0||(n==null||n(T),!f||f&&p?(h(T),v(null)):T>=f?(v(T),s==null||s(f,T)):(h(T),v(f),s==null||s(T,f)))};return c?a.jsxs(ue,{className:"border-0 shadow-lg",children:[a.jsx(xe,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-b",children:a.jsxs(ye,{className:"flex items-center space-x-3 text-blue-900",children:[a.jsx(Et,{className:"h-6 w-6 text-blue-600"}),a.jsx("span",{children:"可用性日曆"})]})}),a.jsx(he,{className:"p-6",children:a.jsx("div",{className:"flex items-center justify-center h-32",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})})]}):a.jsxs(ue,{className:"border-0 shadow-lg",children:[a.jsx(xe,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-b",children:a.jsxs(ye,{className:"flex items-center space-x-3 text-blue-900",children:[a.jsx(Et,{className:"h-6 w-6 text-blue-600"}),a.jsx("span",{children:"Lịch khả dụng"})]})}),a.jsxs(he,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs(W,{variant:"outline",size:"sm",onClick:O,className:"flex items-center space-x-2 hover:bg-blue-50 hover:border-blue-300",children:[a.jsx("span",{className:"text-blue-600",children:"←"}),a.jsx("span",{className:"text-blue-600",children:"上個月"})]}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 bg-blue-50 px-4 py-2 rounded-lg",children:A(u)}),a.jsxs(W,{variant:"outline",size:"sm",onClick:_,className:"flex items-center space-x-2 hover:bg-blue-50 hover:border-blue-300",children:[a.jsx("span",{className:"text-blue-600",children:"下個月"}),a.jsx("span",{className:"text-blue-600",children:"→"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"grid grid-cols-7 gap-2",children:C().map((T,E)=>a.jsx("div",{className:"text-center text-sm font-medium text-gray-600 py-2 bg-gray-50 rounded-lg",children:T},E))}),a.jsx("div",{className:"grid grid-cols-7 gap-2",children:P().map((T,E)=>{if(!T)return a.jsx("div",{className:"w-full h-20"},E);const I=i.find(q=>q.date===T.date),F=S(I||{...T,isAvailable:!0}),$=N(I||{...T,isAvailable:!0});return a.jsxs("div",{className:`${$} cursor-pointer transition-all duration-200 hover:scale-105 hover:shadow-md ${I!=null&&I.isAvailable&&((I==null?void 0:I.availableSlots)||0)>0?"hover:bg-blue-50 hover:border-blue-300":"cursor-not-allowed opacity-60"}`,onClick:()=>k(T.date),title:`${T.date} - ${F}`,children:[a.jsx("div",{className:"text-lg font-bold mb-1 text-gray-900",children:T.day}),a.jsx("div",{className:"text-center",children:I!=null&&I.isAvailable&&((I==null?void 0:I.availableSlots)||0)>0?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-center space-x-1 mb-1",children:[a.jsx(ir,{className:"h-3 w-3 text-green-600"}),a.jsxs("span",{className:"text-xs font-medium text-green-700",children:[I.availableSlots," 位"]})]}),a.jsx("div",{className:`text-xs font-bold ${I.isSpecialPrice?"text-orange-600":"text-green-600"}`,children:w(I.price||0)}),I.isSpecialPrice&&a.jsx("div",{className:"text-xs text-orange-500 font-medium truncate",children:I.specialPriceReason})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex items-center justify-center mb-1",children:a.jsx(Zr,{className:"h-4 w-4 text-red-500"})}),a.jsx("div",{className:"text-xs font-medium text-red-600",children:"已滿"})]})})]},E)})})]}),a.jsxs("div",{className:"mt-6 pt-4 border-t",children:[a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 bg-white border-2 border-gray-200 rounded"}),a.jsx("span",{className:"text-gray-600",children:"可用"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 bg-green-100 border-2 border-green-300 rounded"}),a.jsx("span",{className:"text-gray-600",children:"已預約"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 bg-red-50 border-2 border-red-200 rounded opacity-60"}),a.jsx("span",{className:"text-gray-600",children:"已滿"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 bg-[#39653f] border-2 border-blue-600 rounded"}),a.jsx("span",{className:"text-gray-600",children:"已選擇"})]})]}),a.jsxs("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx("span",{className:"text-blue-600",children:"💡"}),a.jsx("span",{className:"text-sm font-medium text-blue-800",children:"使用說明"})]}),a.jsxs("div",{className:"text-xs text-blue-700 space-y-1",children:[a.jsx("p",{children:"• 點擊日期可選擇進入時間"}),a.jsx("p",{children:"• 再次點擊其他日期可選擇回國時間"}),a.jsx("p",{children:"• 綠色數字表示可用車位數量"}),a.jsx("p",{children:"• 橙色價格表示特殊價格"})]})]})]})]})]})},lde=({checkInTime:e,checkOutTime:t,conflictingDays:r,totalDays:n,availableDays:s})=>{if(r.length===0)return null;const o=r.length===n?"full":r.length>n/2?"major":"minor",c=()=>{switch(o){case"full":return"所選時間範圍內的所有日期都已被預約。請選擇其他時間範圍。";case"major":return"所選時間範圍內的大部分日期已被預約。只剩下少數空閒日期。";case"minor":return"所選時間範圍內的部分日期已被預約。";default:return"預約時間有衝突。"}},l=()=>{switch(o){case"full":return"border-red-200 bg-red-50 text-red-800";case"major":return"border-orange-200 bg-orange-50 text-orange-800";case"minor":return"border-yellow-200 bg-yellow-50 text-yellow-800";default:return"border-gray-200 bg-gray-50 text-gray-800"}};return a.jsxs(ue,{className:`border-2 ${l()}`,children:[a.jsx(xe,{className:"pb-3",children:a.jsxs(ye,{className:"flex items-center space-x-2 text-lg",children:[a.jsx(Ci,{className:"h-5 w-5"}),a.jsx("span",{children:"時間衝突通知"})]})}),a.jsxs(he,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Et,{className:"h-4 w-4"}),a.jsx("span",{className:"font-medium",children:"摘要:"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs(Le,{variant:"outline",className:"bg-green-100 text-green-800",children:[s," 天空閒"]}),a.jsxs(Le,{variant:"outline",className:"bg-red-100 text-red-800",children:[r.length," 天已預約"]})]})]}),a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx(Ou,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),a.jsx("p",{className:"text-sm",children:c()})]}),a.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[a.jsx(qr,{className:"h-4 w-4"}),a.jsxs("span",{children:["時間範圍: ",or(e)," - ",or(t)]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-2",children:"已被預約的日期:"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:r.map((u,d)=>a.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[a.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),a.jsx("span",{children:or(u)})]},d))})]}),a.jsxs("div",{className:"bg-white/50 p-3 rounded-lg",children:[a.jsx("h4",{className:"font-medium mb-2",children:"建議:"}),a.jsxs("ul",{className:"text-sm space-y-1",children:[o==="full"&&a.jsx("li",{children:"• 選擇完全不同的時間範圍"}),o==="major"&&a.jsxs(a.Fragment,{children:[a.jsx("li",{children:"• 選擇較短的時間範圍"}),a.jsx("li",{children:"• 選擇其他時間範圍"})]}),o==="minor"&&a.jsxs(a.Fragment,{children:[a.jsx("li",{children:"• 可以預約剩餘的空閒日期"}),a.jsx("li",{children:"• 或選擇其他時間範圍"})]}),a.jsx("li",{children:"• 聯繫我們以獲得支援"})]})]})]})]})},ude=()=>{const[e,t]=g.useState([]),[r,n]=g.useState([]),[s,i]=g.useState(!0),[o,c]=g.useState(!1),[l,u]=g.useState(null),[d,f]=g.useState([]);console.log(d);const[h,p]=g.useState(null),[v,m]=g.useState(null),[x,b]=g.useState([]),[y,j]=g.useState([]),[S,N]=g.useState(!1),[w,A]=g.useState(null),[O,_]=g.useState({parkingTypeId:"",checkInTime:"",checkOutTime:"",driverName:"",phone:"",email:"",licensePlate:"",passengerCount:1,luggageCount:0,selectedAddonServices:[],discountCode:"",estimatedArrivalTime:"",flightNumber:"",notes:"",paymentStatus:"pending",paymentMethod:"cash",status:"confirmed",departureTerminal:"",returnTerminal:""});g.useEffect(()=>{C()},[]),g.useEffect(()=>{O.parkingTypeId&&O.checkInTime&&O.checkOutTime?(P(),T()):(f([]),p(null),b([]),j([]))},[O.parkingTypeId,O.checkInTime,O.checkOutTime]),g.useEffect(()=>{const B=setTimeout(()=>{O.email&&I(O.email)},1e3);return()=>clearTimeout(B)},[O.email]),g.useEffect(()=>{O.parkingTypeId&&O.checkInTime&&O.checkOutTime&&k()},[O.selectedAddonServices,O.discountCode,S]);const C=async()=>{try{i(!0);const[B,G]=await Promise.all([hf(),RN()]);t(B.parkingTypes),n(G.services)}catch(B){console.error("Error loading data:",B),Y.error("無法載入資料")}finally{i(!1)}},P=async()=>{try{const G=(await Ae.post("/bookings/check-availability",{parkingTypeId:O.parkingTypeId,checkInTime:O.checkInTime,checkOutTime:O.checkOutTime})).data;if(G.success)f(G.availableSlots),p(G.pricing),b([]),await k();else{f([]),p(null);const ce=await E();b(ce),Y.error(G.message||"停車場在此時段已無空位")}}catch(B){console.error("Error checking availability:",B),Y.error("檢查可用性時發生錯誤")}},k=async()=>{if(!(!O.parkingTypeId||!O.checkInTime||!O.checkOutTime))try{const B=await GD({parkingTypeId:O.parkingTypeId,checkInTime:O.checkInTime,checkOutTime:O.checkOutTime,addonServices:O.selectedAddonServices,discountCode:O.discountCode,isVIP:S,userEmail:O.email});p(B.pricing)}catch(B){console.error("Error calculating pricing:",B)}},T=async()=>{if(!(!O.parkingTypeId||!O.checkInTime||!O.checkOutTime))try{const B=await LN(O.parkingTypeId,O.checkInTime,O.checkOutTime);j(B.maintenanceDays),B.hasMaintenance&&Y.error("此停車場在選擇的時間內正在維護")}catch(B){console.error("Error checking maintenance:",B)}},E=async()=>{if(!O.checkInTime||!O.checkOutTime)return[];const B=[],G=new Date(O.checkInTime),ce=new Date(O.checkOutTime),we=new Date(G);for(;we<=ce;){const pe=we.toISOString().split("T")[0];try{(await Ae.post("/bookings/check-availability",{parkingTypeId:O.parkingTypeId,checkInTime:`${pe}T00:00:00.000Z`,checkOutTime:`${pe}T23:59:59.999Z`})).data.success||B.push(pe)}catch(Oe){console.error("Error checking day availability:",Oe),B.push(pe)}we.setDate(we.getDate()+1)}return B},I=async B=>{if(!(!B||!B.includes("@")))try{const G=JSON.parse(localStorage.getItem("user")||"{}");if(G.email===B&&G.isVIP){A(G),N(!0),Y.success(`🎉 歡迎VIP會員！您享有 ${G.vipDiscount||0}% 折扣！`);return}const ce=await rN(B);ce.success&&ce.user&&ce.user.isVIP?(A(ce.user),N(!0),Y.success(`🎉 歡迎VIP會員！您享有 ${ce.user.vipDiscount||0}% 折扣！`)):(A(null),N(!1))}catch(G){console.error("Error checking VIP status:",G),A(null),N(!1)}},F=async()=>{var B,G,ce,we;if(!((B=O.discountCode)!=null&&B.trim())){Y.error("請輸入折扣碼");return}if(!O.parkingTypeId||!O.checkInTime||!O.checkOutTime){Y.error("請先選擇停車場和時間再應用折扣碼");return}try{const pe=JSON.parse(localStorage.getItem("user")||"{}"),R=(await Ae.post("/bookings/apply-discount",{discountCode:O.discountCode,parkingTypeId:O.parkingTypeId,checkInTime:O.checkInTime,checkOutTime:O.checkOutTime,addonServices:O.selectedAddonServices,isVIP:S,email:O.email||pe.email})).data;R.success?(m(R.discountInfo),Y.success("折扣碼應用成功！")):(Y.error(R.message||"折扣碼無效"),m(null))}catch(pe){if(console.error("Error applying discount:",pe),((G=pe.response)==null?void 0:G.status)===401)Y.error("請登入以使用折扣碼");else{const Oe=((we=(ce=pe.response)==null?void 0:ce.data)==null?void 0:we.message)||pe.message||"無法應用折扣碼";Y.error(Oe)}m(null)}},$=async()=>{try{const B={...O,addonServices:O.selectedAddonServices},G=await yI(B);u(G.booking),c(!0),q(),Y.success("手動預約創建成功")}catch(B){console.error("Error creating manual booking:",B),Y.error("無法創建手動預約")}},q=()=>{_({parkingTypeId:"",checkInTime:"",checkOutTime:"",driverName:"",phone:"",email:"",licensePlate:"",passengerCount:1,luggageCount:0,selectedAddonServices:[],discountCode:"",estimatedArrivalTime:"",flightNumber:"",notes:"",paymentStatus:"pending",paymentMethod:"cash",status:"confirmed",departureTerminal:"",returnTerminal:""}),p(null),m(null),f([]),b([]),j([])},M=B=>{_(G=>({...G,selectedAddonServices:G.selectedAddonServices.includes(B)?G.selectedAddonServices.filter(ce=>ce!==B):[...G.selectedAddonServices,B]}))},J=B=>B==null?"0 TWD":B.toLocaleString("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0,maximumFractionDigits:0}),V=e.find(B=>B._id===O.parkingTypeId),z=r.filter(B=>O.selectedAddonServices.includes(B._id));return s?a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}):a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsx("div",{className:"flex justify-between items-center mb-8",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"手動預約"}),a.jsx("p",{className:"text-gray-600",children:"為客戶創建預約"})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs(ue,{children:[a.jsxs(xe,{children:[a.jsxs(ye,{className:"flex items-center",children:[a.jsx(Kr,{className:"h-5 w-5 mr-2"}),"預約資訊"]}),a.jsx(rt,{children:"輸入新預約的詳細資訊"})]}),a.jsxs(he,{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"parkingType",children:"停車場 *"}),a.jsxs(tn,{value:O.parkingTypeId,onValueChange:B=>_(G=>({...G,parkingTypeId:B})),children:[a.jsx(Rr,{children:a.jsx(rn,{placeholder:"選擇停車場"})}),a.jsx(Lr,{children:e.map(B=>a.jsxs(at,{value:B._id,children:[B.name," (",B.code,") - ",J(B.pricePerDay||0),"/天"]},B._id))})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"checkInTime",children:"進入時間 *"}),a.jsx(wu,{id:"checkInTime",type:"datetime-local",value:O.checkInTime,onChange:B=>_(G=>({...G,checkInTime:B})),placeholder:"yyyy/mm/dd hh:mm"})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"checkOutTime",children:"回國時間 *"}),a.jsx(wu,{id:"checkOutTime",type:"datetime-local",value:O.checkOutTime,onChange:B=>_(G=>({...G,checkOutTime:B})),placeholder:"yyyy/mm/dd hh:mm"})]})]}),O.parkingTypeId&&O.checkInTime&&O.checkOutTime&&a.jsx(cde,{parkingTypeId:O.parkingTypeId,checkInTime:O.checkInTime,checkOutTime:O.checkOutTime}),x.length>0&&a.jsx(lde,{checkInTime:O.checkInTime,checkOutTime:O.checkOutTime,conflictingDays:x,totalDays:Math.ceil((new Date(O.checkOutTime).getTime()-new Date(O.checkInTime).getTime())/(1e3*60*60*24)),availableDays:Math.ceil((new Date(O.checkOutTime).getTime()-new Date(O.checkInTime).getTime())/(1e3*60*60*24))-x.length}),y.length>0&&a.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx(Pi,{className:"h-5 w-5 text-red-600"}),a.jsx("span",{className:"font-medium text-red-800",children:"⚠️ 停車場正在維護"})]}),a.jsxs("div",{className:"text-sm text-red-700",children:[a.jsx("p",{children:"所選停車場在此時段正在維護："}),a.jsx("ul",{className:"mt-2 space-y-1",children:y.map((B,G)=>a.jsxs("li",{className:"flex items-center space-x-2",children:[a.jsx("span",{children:"•"}),a.jsxs("span",{children:[or(B.date),": ",B.reason]})]},G))}),a.jsx("p",{className:"mt-2 font-medium",children:"請選擇其他時間或停車場。"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[a.jsx(Nr,{className:"h-4 w-4 mr-2"}),"客戶資訊"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"driverName",children:"您的姓名 *"}),a.jsx(le,{id:"driverName",value:O.driverName,onChange:B=>_(G=>({...G,driverName:B.target.value})),placeholder:"輸入您的姓名"})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"phone",children:"電話號碼 *"}),a.jsx(le,{id:"phone",value:O.phone,onChange:B=>_(G=>({...G,phone:B.target.value})),placeholder:"輸入電話號碼"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"email",children:"Email *"}),a.jsxs("div",{className:"relative",children:[a.jsx(le,{id:"email",type:"email",value:O.email,onChange:B=>_(G=>({...G,email:B.target.value})),placeholder:"輸入電子郵件",className:S?"border-yellow-400 bg-yellow-50":""}),S&&w&&a.jsx("div",{className:"absolute -top-2 -right-2",children:a.jsxs(Le,{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white border-0 text-xs",children:["👑 VIP ",w.vipDiscount,"%"]})})]}),S&&w&&a.jsxs("div",{className:"text-xs text-yellow-600 bg-yellow-50 p-2 rounded",children:["✨ 歡迎VIP會員！您享有 ",w.vipDiscount,"% 自動折扣。"]})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"licensePlate",children:"車牌號碼 *"}),a.jsx(le,{id:"licensePlate",value:O.licensePlate,onChange:B=>_(G=>({...G,licensePlate:B.target.value.toUpperCase()})),placeholder:"輸入車牌號碼"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"passengerCount",children:"乘客數量"}),a.jsx(le,{id:"passengerCount",type:"number",min:"1",max:"5",value:O.passengerCount,onChange:B=>_(G=>({...G,passengerCount:parseInt(B.target.value)}))})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"luggageCount",children:"行李數量（免費1個，第2個以上現場收100元/行李））"}),a.jsx(le,{id:"luggageCount",type:"number",min:"0",value:O.luggageCount,onChange:B=>_(G=>({...G,luggageCount:parseInt(B.target.value)}))})]})]}),O.passengerCount>0&&a.jsxs("div",{className:"space-y-4 bg-blue-50 p-4 rounded-lg border border-blue-200",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-blue-800 font-medium",children:"✈️ 航廈選擇"}),a.jsx("span",{className:"text-xs text-blue-600",children:"(接駁服務需要)"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"departureTerminal",className:"text-sm font-medium text-gray-700",children:"出發航廈（前往機場）"}),a.jsxs("select",{id:"departureTerminal",value:O.departureTerminal||"",onChange:B=>_(G=>({...G,departureTerminal:B.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"請選擇出發航廈"}),a.jsx("option",{value:"terminal1",children:"第一航廈"}),a.jsx("option",{value:"terminal2",children:"第二航廈"})]})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"returnTerminal",className:"text-sm font-medium text-gray-700",children:"回程航廈（接回停車場）"}),a.jsxs("select",{id:"returnTerminal",value:O.returnTerminal||"",onChange:B=>_(G=>({...G,returnTerminal:B.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"請選擇回程航廈"}),a.jsx("option",{value:"terminal1",children:"第一航廈"}),a.jsx("option",{value:"terminal2",children:"第二航廈"})]})]})]}),a.jsx("div",{className:"text-xs text-blue-600 bg-blue-100 p-2 rounded",children:"💡 請確認航廈選擇正確，以確保接駁服務順利進行"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[a.jsx(qr,{className:"h-4 w-4 mr-2"}),"附加資訊"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"estimatedArrivalTime",children:"預計到達時間"}),a.jsx(wu,{id:"estimatedArrivalTime",type:"datetime-local",value:O.estimatedArrivalTime,onChange:B=>_(G=>({...G,estimatedArrivalTime:B})),placeholder:"yyyy/mm/dd hh:mm"})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"flightNumber",children:"航班號碼"}),a.jsx(le,{id:"flightNumber",value:O.flightNumber,onChange:B=>_(G=>({...G,flightNumber:B.target.value})),placeholder:"輸入航班號碼"})]})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"notes",children:"備註"}),a.jsx(rr,{id:"notes",value:O.notes,onChange:B=>_(G=>({...G,notes:B.target.value})),placeholder:"附加備註...",rows:3})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[a.jsx(vN,{className:"h-4 w-4 mr-2"}),"付款資訊"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"paymentStatus",children:"付款狀態"}),a.jsxs(tn,{value:O.paymentStatus,onValueChange:B=>_(G=>({...G,paymentStatus:B})),children:[a.jsx(Rr,{children:a.jsx(rn,{})}),a.jsxs(Lr,{children:[a.jsx(at,{value:"pending",children:"等待付款"}),a.jsx(at,{value:"paid",children:"已付款"}),a.jsx(at,{value:"refunded",children:"已退款"})]})]})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"paymentMethod",children:"付款方式"}),a.jsxs(tn,{value:O.paymentMethod,onValueChange:B=>_(G=>({...G,paymentMethod:B})),children:[a.jsx(Rr,{children:a.jsx(rn,{})}),a.jsxs(Lr,{children:[a.jsx(at,{value:"cash",children:"現金"}),a.jsx(at,{value:"credit_card",children:"信用卡"}),a.jsx(at,{value:"online",children:"線上付款"})]})]})]})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"status",children:"預約狀態"}),a.jsxs(tn,{value:O.status,onValueChange:B=>_(G=>({...G,status:B})),children:[a.jsx(Rr,{children:a.jsx(rn,{})}),a.jsxs(Lr,{children:[a.jsx(at,{value:"pending",children:"等待確認"}),a.jsx(at,{value:"confirmed",children:"預約成功"}),a.jsx(at,{value:"checked-in",children:"已進入停車場"}),a.jsx(at,{value:"checked-out",children:"已離開停車場"})]})]})]})]}),a.jsx(W,{onClick:$,className:"w-full",children:"創建手動預約"})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs(ue,{children:[a.jsxs(xe,{children:[a.jsxs(ye,{className:"flex items-center",children:[a.jsx(ir,{className:"h-5 w-5 mr-2"}),"附加服務"]}),a.jsx(rt,{children:"為客戶選擇附加服務"})]}),a.jsxs(he,{className:"space-y-4",children:[r.map(B=>a.jsxs("div",{className:"flex items-center space-x-3 p-3 border rounded-lg",children:[a.jsx(Fa,{id:`service-${B._id}`,checked:O.selectedAddonServices.includes(B._id),onCheckedChange:()=>M(B._id)}),a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-2xl",children:B.icon}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:B.name}),a.jsx("div",{className:"text-sm text-gray-600",children:B.description})]})]})}),a.jsx("div",{className:"text-right",children:a.jsx("div",{className:"font-bold text-green-600",children:J(B.price||0)})})]},B._id)),z.length>0&&a.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[a.jsx("h4",{className:"font-semibold mb-2",children:"已選擇的服務："}),a.jsxs("div",{className:"space-y-2",children:[z.map(B=>a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{children:B.name}),a.jsx("span",{className:"font-medium",children:J(B.price||0)})]},B._id)),a.jsx("div",{className:"border-t pt-2",children:a.jsxs("div",{className:"flex justify-between items-center font-bold",children:[a.jsx("span",{children:"服務總計："}),a.jsx("span",{children:J(z.reduce((B,G)=>B+(G.price||0),0))})]})})]})]})]})]}),a.jsxs(ue,{children:[a.jsxs(xe,{children:[a.jsxs(ye,{className:"flex items-center",children:[a.jsx(Pu,{className:"h-5 w-5 mr-2"}),"折扣碼"]}),a.jsx(rt,{children:"如有折扣碼請輸入"})]}),a.jsxs(he,{className:"space-y-4",children:[a.jsxs("div",{className:"flex space-x-3",children:[a.jsx(le,{placeholder:"輸入折扣碼",value:O.discountCode,onChange:B=>_(G=>({...G,discountCode:B.target.value})),className:"flex-1"}),a.jsx(W,{onClick:F,className:"bg-[#39653f] hover:bg-[#2d4f33]",children:"應用"})]}),v&&a.jsxs("div",{className:"p-4 bg-gradient-to-r from-green-50 to-blue-50 border border-green-200 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[a.jsx(pr,{className:"h-5 w-5 text-green-600"}),a.jsx("span",{className:"font-medium text-green-800",children:"優惠已應用！"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"bg-white p-3 rounded-lg border border-green-200",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx("span",{className:"text-lg",children:"🎫"}),a.jsx("span",{className:"font-semibold text-green-700",children:"優惠券折扣"})]}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"優惠券代碼："}),a.jsx("span",{className:"font-semibold text-green-600",children:v.code})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"折扣類型："}),a.jsx("span",{className:"font-semibold",children:v.discountType==="percentage"?`${v.discountValue}%`:"固定金額"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"折扣金額："}),a.jsxs("span",{className:"font-semibold text-green-600",children:["-",J(v.discountAmount)]})]})]})]}),v.vipDiscount>0&&a.jsxs("div",{className:"bg-white p-3 rounded-lg border border-blue-200",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx("span",{className:"text-lg",children:"👑"}),a.jsx("span",{className:"font-semibold text-blue-700",children:"VIP會員折扣"})]}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"狀態："}),a.jsx("span",{className:"font-semibold text-blue-600",children:"VIP會員"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"折扣比例："}),a.jsxs("span",{className:"font-semibold",children:[Math.round(v.vipDiscount/(v.originalAmount-v.discountAmount)*100),"%"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"折扣金額："}),a.jsxs("span",{className:"font-semibold text-blue-600",children:["-",J(v.vipDiscount)]})]})]})]}),a.jsx("div",{className:"bg-gradient-to-r from-green-100 to-blue-100 p-3 rounded-lg border-2 border-green-300",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-semibold",children:"原始總額："}),a.jsx("span",{className:"font-semibold",children:J(v.originalAmount)})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-semibold text-green-700",children:"總折扣："}),a.jsxs("span",{className:"font-bold text-green-700 text-lg",children:["-",J(v.totalDiscount||v.discountAmount)]})]}),a.jsx("div",{className:"border-t pt-2",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-bold text-lg",children:"總付款："}),a.jsx("span",{className:"font-bold text-green-800 text-xl",children:J(v.finalAmount)})]})})]})})]})]})]})]}),h&&a.jsxs(ue,{children:[a.jsx(xe,{children:a.jsxs(ye,{className:"flex items-center",children:[a.jsx(Fg,{className:"h-5 w-5 mr-2"}),"價格摘要"]})}),a.jsx(he,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"bg-gray-50 p-3 rounded-lg",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-semibold text-gray-900",children:"基本價格"}),a.jsxs("div",{className:"text-sm text-gray-600",children:[V==null?void 0:V.name," • ",(h==null?void 0:h.durationDays)||0," 天"]})]}),a.jsx("span",{className:"font-semibold text-gray-900",children:J(h==null?void 0:h.basePrice)})]})}),(h==null?void 0:h.dailyPrices)&&h.dailyPrices.length>0&&a.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[a.jsx("div",{className:"text-sm font-semibold text-blue-700 mb-2",children:"📅 每日價格詳情："}),a.jsx("div",{className:"space-y-2",children:h.dailyPrices.map((B,G)=>a.jsxs("div",{className:"flex justify-between items-center text-sm bg-white p-2 rounded",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-gray-600",children:or(B.date)}),B.isSpecialPrice&&a.jsxs(Le,{variant:"outline",className:"text-xs bg-orange-100 text-orange-700 border-orange-200",children:["💰 ",B.specialPriceReason]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[B.isSpecialPrice&&a.jsx("span",{className:"text-xs text-gray-500 line-through",children:J(B.originalPrice)}),a.jsx("span",{className:`font-semibold ${B.isSpecialPrice?"text-orange-600":"text-blue-600"}`,children:J(B.price)})]})]},G))})]}),O.selectedAddonServices.length>0&&a.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[a.jsx("div",{className:"text-sm font-semibold text-blue-700 mb-2",children:"🚀 附加服務："}),a.jsx("div",{className:"space-y-2",children:O.selectedAddonServices.map(B=>{const G=r.find(ce=>ce._id===B);return G?a.jsxs("div",{className:"flex justify-between items-center text-sm bg-white p-2 rounded",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-lg",children:G.icon}),a.jsx("span",{children:G.name})]}),a.jsx("span",{className:"font-semibold text-blue-600",children:J(G.price||0)})]},B):null})})]}),S&&w&&a.jsxs("div",{className:"flex justify-between items-center py-2 bg-blue-50 rounded-lg px-3",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-blue-600",children:"👑 VIP折扣："}),a.jsxs("span",{className:"text-xs text-blue-500 bg-blue-100 px-2 py-1 rounded",children:[w.vipDiscount,"% 折扣"]})]}),v?a.jsxs("span",{className:"font-semibold text-blue-600",children:["-",J(v.vipDiscount||0)]}):a.jsxs("span",{className:"text-sm text-blue-600",children:["~",J(Math.round(((h==null?void 0:h.totalAmount)||0)*(w.vipDiscount/100)))]})]}),v&&v.discountAmount>0&&a.jsxs("div",{className:"flex justify-between items-center py-2 bg-green-50 rounded-lg px-3",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-green-600",children:"🎫 優惠券："}),a.jsxs("span",{className:"text-xs text-green-500 bg-green-100 px-2 py-1 rounded",children:[v.code," (",v.discountType==="percentage"?`${v.discountValue}%`:"固定",")"]})]}),a.jsxs("span",{className:"font-semibold text-green-600",children:["-",J(v.discountAmount)]})]}),a.jsx(ys,{}),a.jsx("div",{className:"bg-gradient-to-r from-emerald-100 to-teal-100 p-4 rounded-lg border-2 border-emerald-300",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-semibold text-gray-700",children:"原始總額："}),a.jsx("span",{className:"font-semibold text-gray-900",children:J((h==null?void 0:h.totalAmount)||0)})]}),v&&(v.discountAmount>0||v.vipDiscount>0)||S&&w?a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-semibold text-green-700",children:"總折扣："}),a.jsxs("span",{className:"font-bold text-green-700 text-lg",children:["-",J(v?v.totalDiscount||v.discountAmount||0:Math.round(((h==null?void 0:h.totalAmount)||0)*((w==null?void 0:w.vipDiscount)/100)))]})]}):null,a.jsx("div",{className:"border-t pt-2",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-bold text-lg text-gray-900",children:"總付款："}),a.jsx("span",{className:"text-2xl font-bold text-emerald-600",children:J(v?v.finalAmount:S&&w?Math.round(((h==null?void 0:h.totalAmount)||0)*(1-w.vipDiscount/100)):(h==null?void 0:h.finalAmount)||(h==null?void 0:h.totalAmount)||0)})]})})]})})]})})]})]})]}),a.jsx(ft,{open:o,onOpenChange:c,children:a.jsxs(it,{children:[a.jsxs(ot,{children:[a.jsxs(lt,{className:"flex items-center",children:[a.jsx(pr,{className:"h-5 w-5 mr-2 text-green-500"}),"預約成功"]}),a.jsx(ut,{children:"手動預約已成功創建"})]}),l&&a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[a.jsxs("div",{className:"font-semibold",children:["預約編號: ",l.bookingNumber]}),a.jsxs("div",{className:"text-sm text-gray-600",children:["客戶: ",l.driverName]}),a.jsxs("div",{className:"text-sm text-gray-600",children:["車牌號碼: ",l.licensePlate]}),a.jsxs("div",{className:"text-sm text-gray-600",children:["總金額: ",J(l.finalAmount)]})]})}),a.jsx(ct,{children:a.jsx(W,{onClick:()=>c(!1),children:"關閉"})})]})})]})},dde=()=>{const[e,t]=g.useState(null),[r,n]=g.useState(!0),[s,i]=g.useState("checkins");g.useEffect(()=>{o()},[]);const o=async()=>{try{n(!0);const f=await TI();t(f)}catch(f){console.error("Error loading today data:",f),Y.error("無法載入今日資料")}finally{n(!1)}},c=f=>f.toLocaleString("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0,maximumFractionDigits:0}),l=f=>{switch(f){case"confirmed":return a.jsxs(Le,{variant:"default",children:[a.jsx(pr,{className:"h-3 w-3 mr-1"}),"預約成功"]});case"checked-in":return a.jsxs(Le,{variant:"secondary",children:[a.jsx(ir,{className:"h-3 w-3 mr-1"}),"已進入停車場"]});case"checked-out":return a.jsxs(Le,{variant:"outline",children:[a.jsx(qr,{className:"h-3 w-3 mr-1"}),"已離開停車場"]});case"cancelled":return a.jsxs(Le,{variant:"destructive",children:[a.jsx(Zr,{className:"h-3 w-3 mr-1"}),"已取消"]});default:return a.jsx(Le,{variant:"secondary",children:f})}},u=()=>{window.print()};if(r)return a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})});if(!e)return a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Ci,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"沒有資料"}),a.jsx("p",{className:"text-gray-500",children:"無法載入今日資料。"})]})});const d=()=>{switch(s){case"checkins":return e.checkInsToday;case"checkouts":return e.checkOutsToday;case"overdue":return e.overdueBookings;default:return e.checkInsToday}};return a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"今日概覽"}),a.jsx("p",{className:"text-gray-600",children:"今日停車場進出車輛統計"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(W,{variant:"outline",onClick:o,children:[a.jsx(Gn,{className:"h-4 w-4 mr-2"}),"重新整理"]}),a.jsxs(W,{variant:"outline",onClick:u,children:[a.jsx($m,{className:"h-4 w-4 mr-2"}),"列印報告"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[a.jsxs(ue,{children:[a.jsxs(xe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ye,{className:"text-sm font-medium",children:"今日進入車輛"}),a.jsx(ha,{className:"h-4 w-4 text-green-600"})]}),a.jsxs(he,{children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.summary.totalCheckIns}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"今天將進入停車場的車輛"})]})]}),a.jsxs(ue,{children:[a.jsxs(xe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ye,{className:"text-sm font-medium",children:"今天離開車輛"}),a.jsx(Cu,{className:"h-4 w-4 text-blue-600"})]}),a.jsxs(he,{children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.summary.totalCheckOuts}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"今天將離開停車場的車輛"})]})]}),a.jsxs(ue,{children:[a.jsxs(xe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ye,{className:"text-sm font-medium",children:"逾期車輛"}),a.jsx(Ci,{className:"h-4 w-4 text-red-600"})]}),a.jsxs(he,{children:[a.jsx("div",{className:"text-2xl font-bold text-red-600",children:e.summary.totalOverdue}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"已超過預約時間的車輛"})]})]})]}),a.jsxs(ue,{children:[a.jsxs(xe,{children:[a.jsx(ye,{children:"今日詳情"}),a.jsx(rt,{children:"查看進出停車場車輛的詳細資訊"})]}),a.jsxs(he,{children:[a.jsxs("div",{className:"flex space-x-2 mb-6",children:[a.jsxs(W,{variant:s==="checkins"?"default":"outline",onClick:()=>i("checkins"),children:[a.jsx(ha,{className:"h-4 w-4 mr-2"}),"進入車輛 (",e.summary.totalCheckIns,")"]}),a.jsxs(W,{variant:s==="checkouts"?"default":"outline",onClick:()=>i("checkouts"),children:[a.jsx(Cu,{className:"h-4 w-4 mr-2"}),"離開車輛 (",e.summary.totalCheckOuts,")"]}),a.jsxs(W,{variant:s==="overdue"?"default":"outline",onClick:()=>i("overdue"),children:[a.jsx(Ci,{className:"h-4 w-4 mr-2"}),"逾期 (",e.summary.totalOverdue,")"]})]}),a.jsxs(Ur,{children:[a.jsx(Wr,{children:a.jsxs(Pt,{children:[a.jsx(_e,{children:"預約編號"}),a.jsx(_e,{children:"客戶"}),a.jsx(_e,{children:"車牌號碼"}),a.jsx(_e,{children:"停車場"}),a.jsx(_e,{children:"時間"}),a.jsx(_e,{children:"狀態"}),a.jsx(_e,{children:"金額"})]})}),a.jsx(Hr,{children:d().map(f=>a.jsxs(Pt,{children:[a.jsx(Pe,{children:a.jsx("div",{className:"font-medium",children:f.bookingNumber})}),a.jsx(Pe,{children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:f.driverName}),a.jsx("div",{className:"text-sm text-gray-600",children:f.phone})]})}),a.jsx(Pe,{children:a.jsx("div",{className:"font-medium",children:f.licensePlate})}),a.jsx(Pe,{children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:f.parkingType.name}),a.jsx("div",{className:"text-sm text-gray-600",children:f.parkingType.code})]})}),a.jsx(Pe,{children:a.jsxs("div",{children:[a.jsxs("div",{className:"text-sm",children:[a.jsx("span",{className:"font-medium",children:"進入:"})," ",$t(f.checkInTime)]}),a.jsxs("div",{className:"text-sm text-gray-600",children:[a.jsx("span",{className:"font-medium",children:"離開:"})," ",$t(f.checkOutTime)]})]})}),a.jsx(Pe,{children:l(f.status)}),a.jsx(Pe,{children:a.jsx("div",{className:"font-bold text-green-600",children:c(f.finalAmount)})})]},f._id))})]}),d().length===0&&a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(Et,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsxs("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:[s==="checkins"&&"今天沒有車輛進入",s==="checkouts"&&"今天沒有車輛離開",s==="overdue"&&"沒有逾期車輛"]}),a.jsxs("p",{className:"text-gray-500",children:[s==="checkins"&&"今天還沒有車輛預約進入。",s==="checkouts"&&"今天還沒有車輛預約離開。",s==="overdue"&&"所有車輛都按時。"]})]})]})]}),a.jsx("style",{children:`
        @media print {
          .no-print {
            display: none !important;
          }
          .print-break {
            page-break-before: always;
          }
        }
      `})]})},_1=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Dashboard"}),a.jsx("p",{className:"text-muted-foreground",children:"Tổng quan hệ thống bãi đậu xe - Staff Panel"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsxs(ue,{children:[a.jsxs(xe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ye,{className:"text-sm font-medium",children:"Đặt chỗ hôm nay"}),a.jsx(Et,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(he,{children:[a.jsx("div",{className:"text-2xl font-bold",children:"0"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"+0 đặt thành công"})]})]}),a.jsxs(ue,{children:[a.jsxs(xe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ye,{className:"text-sm font-medium",children:"Doanh thu hôm nay"}),a.jsx(yi,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(he,{children:[a.jsx("div",{className:"text-2xl font-bold",children:"0,00 NT$"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Trung bình 0,00 NT$/đặt chỗ"})]})]}),a.jsxs(ue,{children:[a.jsxs(xe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ye,{className:"text-sm font-medium",children:"Chỗ trống còn lại"}),a.jsx(ir,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(he,{children:[a.jsx("div",{className:"text-2xl font-bold",children:"0"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Tổng 0 chỗ đậu xe"})]})]}),a.jsxs(ue,{children:[a.jsxs(xe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ye,{className:"text-sm font-medium",children:"Xe đang đỗ"}),a.jsx(Nr,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(he,{children:[a.jsx("div",{className:"text-2xl font-bold",children:"0"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"0 xe sắp rời bãi hôm nay"})]})]})]}),a.jsx("div",{className:"border-b",children:a.jsxs("nav",{className:"-mb-px flex space-x-8",children:[a.jsx("button",{className:"border-b-2 border-primary text-primary px-1 py-2 text-sm font-medium",children:"Tổng quan"}),a.jsx("button",{className:"border-b-2 border-transparent text-muted-foreground hover:text-foreground px-1 py-2 text-sm font-medium",children:"Bãi đậu xe"}),a.jsx("button",{className:"border-b-2 border-transparent text-muted-foreground hover:text-foreground px-1 py-2 text-sm font-medium",children:"Đặt chỗ"}),a.jsx("button",{className:"border-b-2 border-transparent text-muted-foreground hover:text-foreground px-1 py-2 text-sm font-medium",children:"Trạng thái hiện tại"})]})}),a.jsx("div",{className:"bg-white rounded-lg border p-6",children:a.jsxs("div",{className:"text-center text-muted-foreground",children:[a.jsx("p",{children:"Chào mừng đến với Staff Dashboard"}),a.jsx("p",{className:"text-sm mt-2",children:"Bạn có thể quản lý đặt chỗ và theo dõi trạng thái bãi đậu xe từ đây."})]})})]}),fde=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Quản lý đặt chỗ"}),a.jsx("p",{className:"text-muted-foreground",children:"Quản lý và theo dõi các đặt chỗ đậu xe"})]}),a.jsxs(W,{children:[a.jsx(Kr,{className:"h-4 w-4 mr-2"}),"Tạo đặt chỗ mới"]})]}),a.jsxs(ue,{children:[a.jsx(xe,{children:a.jsx(ye,{className:"text-lg",children:"Bộ lọc"})}),a.jsx(he,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Gr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(le,{placeholder:"Tìm kiếm đặt chỗ...",className:"pl-10"})]}),a.jsx(le,{placeholder:"Từ ngày",type:"date"}),a.jsx(le,{placeholder:"Đến ngày",type:"date"}),a.jsxs(W,{variant:"outline",className:"w-full",children:[a.jsx(mr,{className:"h-4 w-4 mr-2"}),"Lọc"]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs(ue,{children:[a.jsxs(xe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ye,{className:"text-sm font-medium",children:"Tổng đặt chỗ"}),a.jsx(Et,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(he,{children:[a.jsx("div",{className:"text-2xl font-bold",children:"0"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"+0 so với hôm qua"})]})]}),a.jsxs(ue,{children:[a.jsxs(xe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ye,{className:"text-sm font-medium",children:"Đặt thành công"}),a.jsx(Le,{variant:"default",className:"h-4 w-4",children:"✓"})]}),a.jsxs(he,{children:[a.jsx("div",{className:"text-2xl font-bold",children:"0"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"0% tỷ lệ xác nhận"})]})]}),a.jsxs(ue,{children:[a.jsxs(xe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ye,{className:"text-sm font-medium",children:"Chờ xác nhận"}),a.jsx(Le,{variant:"secondary",className:"h-4 w-4",children:"⏳"})]}),a.jsxs(he,{children:[a.jsx("div",{className:"text-2xl font-bold",children:"0"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Cần xử lý"})]})]}),a.jsxs(ue,{children:[a.jsxs(xe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ye,{className:"text-sm font-medium",children:"Đã hủy"}),a.jsx(Le,{variant:"destructive",className:"h-4 w-4",children:"✗"})]}),a.jsxs(he,{children:[a.jsx("div",{className:"text-2xl font-bold",children:"0"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"0% tỷ lệ hủy"})]})]})]}),a.jsxs(ue,{children:[a.jsx(xe,{children:a.jsx(ye,{children:"Danh sách đặt chỗ"})}),a.jsx(he,{children:a.jsx("div",{className:"rounded-md border",children:a.jsxs("div",{className:"p-4 text-center text-muted-foreground",children:[a.jsx(Et,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"Chưa có đặt chỗ nào"}),a.jsx("p",{className:"text-sm",children:"Các đặt chỗ sẽ hiển thị ở đây"})]})})})]})]}),P1=({requiredRole:e})=>{const{user:t,loading:r}=yo();if(r)return a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"})});if(!t)return a.jsx(Mx,{to:"/login",replace:!0});if(e){const n={user:1,staff:2,admin:3},s=n[t.role],i=n[e];if(s<i)return a.jsx(Mx,{to:"/",replace:!0})}return a.jsx(ef,{})};function hde(){return a.jsx(n$,{children:a.jsx(t$,{children:a.jsxs(wk,{children:[a.jsxs(yt,{path:"/",element:a.jsx(hD,{}),children:[a.jsx(yt,{index:!0,element:a.jsx(vy,{})}),a.jsx(yt,{path:"booking",element:a.jsx(vy,{})}),a.jsx(yt,{path:"booking-confirmation",element:a.jsx(LI,{})}),a.jsx(yt,{path:"lookup",element:a.jsx(gR,{})}),a.jsx(yt,{path:"login",element:a.jsx(G4,{})}),a.jsx(yt,{path:"register",element:a.jsx(X4,{})})]}),a.jsx(yt,{path:"/admin",element:a.jsx(P1,{requiredRole:"admin"}),children:a.jsxs(yt,{element:a.jsx(mD,{}),children:[a.jsx(yt,{index:!0,element:a.jsx(v1,{})}),a.jsx(yt,{path:"dashboard",element:a.jsx(v1,{})}),a.jsx(yt,{path:"bookings",element:a.jsx(Ile,{})}),a.jsx(yt,{path:"users",element:a.jsx(qle,{})}),a.jsx(yt,{path:"parking-types",element:a.jsx(rde,{})}),a.jsx(yt,{path:"services",element:a.jsx(ade,{})}),a.jsx(yt,{path:"discounts",element:a.jsx(nde,{})}),a.jsx(yt,{path:"notifications",element:a.jsx(sde,{})}),a.jsx(yt,{path:"settings",element:a.jsx(Kle,{})}),a.jsx(yt,{path:"maintenance",element:a.jsx(ide,{})}),a.jsx(yt,{path:"special-pricing",element:a.jsx(ode,{})}),a.jsx(yt,{path:"manual-booking",element:a.jsx(ude,{})}),a.jsx(yt,{path:"today-overview",element:a.jsx(dde,{})})]})}),a.jsx(yt,{path:"/staff",element:a.jsx(P1,{requiredRole:"staff"}),children:a.jsxs(yt,{element:a.jsx(pD,{}),children:[a.jsx(yt,{index:!0,element:a.jsx(_1,{})}),a.jsx(yt,{path:"dashboard",element:a.jsx(_1,{})}),a.jsx(yt,{path:"bookings",element:a.jsx(fde,{})})]})})]})})})}Nm.createRoot(document.getElementById("root")).render(a.jsx(D.StrictMode,{children:a.jsxs(Nk,{children:[a.jsx(hde,{}),a.jsx(e$,{position:"top-right"})]})}));
