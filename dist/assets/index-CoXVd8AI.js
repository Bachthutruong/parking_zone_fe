import{r as x,a as ao,b as I,R as Wi,c as Dw,d as Ol,g as gt}from"./vendor-BqSMHcVE.js";import{u as Ld,L as Tr,O as Fd,a as Bd,N as Yg,R as Ok,b as xt,B as _k}from"./router-BXaqELzt.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var Iw={exports:{}},Vd={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pk=x,kk=Symbol.for("react.element"),Ck=Symbol.for("react.fragment"),Tk=Object.prototype.hasOwnProperty,Ek=Pk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$k={key:!0,ref:!0,__self:!0,__source:!0};function Mw(e,t,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)Tk.call(t,n)&&!$k.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:kk,type:e,key:s,ref:o,props:i,_owner:Ek.current}}Vd.Fragment=Ck;Vd.jsx=Mw;Vd.jsxs=Mw;Iw.exports=Vd;var a=Iw.exports,tm={},Jg=ao;tm.createRoot=Jg.createRoot,tm.hydrateRoot=Jg.hydrateRoot;function Rw(e,t){return function(){return e.apply(t,arguments)}}const{toString:Dk}=Object.prototype,{getPrototypeOf:iv}=Object,{iterator:zd,toStringTag:Lw}=Symbol,Ud=(e=>t=>{const r=Dk.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),bn=e=>(e=e.toLowerCase(),t=>Ud(t)===e),Wd=e=>t=>typeof t===e,{isArray:io}=Array,cc=Wd("undefined");function Ik(e){return e!==null&&!cc(e)&&e.constructor!==null&&!cc(e.constructor)&&Sr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Fw=bn("ArrayBuffer");function Mk(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Fw(e.buffer),t}const Rk=Wd("string"),Sr=Wd("function"),Bw=Wd("number"),Hd=e=>e!==null&&typeof e=="object",Lk=e=>e===!0||e===!1,Yl=e=>{if(Ud(e)!=="object")return!1;const t=iv(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Lw in e)&&!(zd in e)},Fk=bn("Date"),Bk=bn("File"),Vk=bn("Blob"),zk=bn("FileList"),Uk=e=>Hd(e)&&Sr(e.pipe),Wk=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Sr(e.append)&&((t=Ud(e))==="formdata"||t==="object"&&Sr(e.toString)&&e.toString()==="[object FormData]"))},Hk=bn("URLSearchParams"),[qk,Kk,Gk,Zk]=["ReadableStream","Request","Response","Headers"].map(bn),Xk=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ll(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,i;if(typeof e!="object"&&(e=[e]),io(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{const s=r?Object.getOwnPropertyNames(e):Object.keys(e),o=s.length;let c;for(n=0;n<o;n++)c=s[n],t.call(null,e[c],c,e)}}function Vw(e,t){t=t.toLowerCase();const r=Object.keys(e);let n=r.length,i;for(;n-- >0;)if(i=r[n],t===i.toLowerCase())return i;return null}const li=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,zw=e=>!cc(e)&&e!==li;function rm(){const{caseless:e}=zw(this)&&this||{},t={},r=(n,i)=>{const s=e&&Vw(t,i)||i;Yl(t[s])&&Yl(n)?t[s]=rm(t[s],n):Yl(n)?t[s]=rm({},n):io(n)?t[s]=n.slice():t[s]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&ll(arguments[n],r);return t}const Yk=(e,t,r,{allOwnKeys:n}={})=>(ll(t,(i,s)=>{r&&Sr(i)?e[s]=Rw(i,r):e[s]=i},{allOwnKeys:n}),e),Jk=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Qk=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},e2=(e,t,r,n)=>{let i,s,o;const c={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)o=i[s],(!n||n(o,e,t))&&!c[o]&&(t[o]=e[o],c[o]=!0);e=r!==!1&&iv(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},t2=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},r2=e=>{if(!e)return null;if(io(e))return e;let t=e.length;if(!Bw(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},n2=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&iv(Uint8Array)),a2=(e,t)=>{const n=(e&&e[zd]).call(e);let i;for(;(i=n.next())&&!i.done;){const s=i.value;t.call(e,s[0],s[1])}},i2=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},s2=bn("HTMLFormElement"),o2=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),Qg=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),c2=bn("RegExp"),Uw=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};ll(r,(i,s)=>{let o;(o=t(i,s,e))!==!1&&(n[s]=o||i)}),Object.defineProperties(e,n)},l2=e=>{Uw(e,(t,r)=>{if(Sr(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Sr(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},u2=(e,t)=>{const r={},n=i=>{i.forEach(s=>{r[s]=!0})};return io(e)?n(e):n(String(e).split(t)),r},d2=()=>{},f2=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function h2(e){return!!(e&&Sr(e.append)&&e[Lw]==="FormData"&&e[zd])}const m2=e=>{const t=new Array(10),r=(n,i)=>{if(Hd(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[i]=n;const s=io(n)?[]:{};return ll(n,(o,c)=>{const l=r(o,i+1);!cc(l)&&(s[c]=l)}),t[i]=void 0,s}}return n};return r(e,0)},p2=bn("AsyncFunction"),v2=e=>e&&(Hd(e)||Sr(e))&&Sr(e.then)&&Sr(e.catch),Ww=((e,t)=>e?setImmediate:t?((r,n)=>(li.addEventListener("message",({source:i,data:s})=>{i===li&&s===r&&n.length&&n.shift()()},!1),i=>{n.push(i),li.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Sr(li.postMessage)),g2=typeof queueMicrotask<"u"?queueMicrotask.bind(li):typeof process<"u"&&process.nextTick||Ww,x2=e=>e!=null&&Sr(e[zd]),ee={isArray:io,isArrayBuffer:Fw,isBuffer:Ik,isFormData:Wk,isArrayBufferView:Mk,isString:Rk,isNumber:Bw,isBoolean:Lk,isObject:Hd,isPlainObject:Yl,isReadableStream:qk,isRequest:Kk,isResponse:Gk,isHeaders:Zk,isUndefined:cc,isDate:Fk,isFile:Bk,isBlob:Vk,isRegExp:c2,isFunction:Sr,isStream:Uk,isURLSearchParams:Hk,isTypedArray:n2,isFileList:zk,forEach:ll,merge:rm,extend:Yk,trim:Xk,stripBOM:Jk,inherits:Qk,toFlatObject:e2,kindOf:Ud,kindOfTest:bn,endsWith:t2,toArray:r2,forEachEntry:a2,matchAll:i2,isHTMLForm:s2,hasOwnProperty:Qg,hasOwnProp:Qg,reduceDescriptors:Uw,freezeMethods:l2,toObjectSet:u2,toCamelCase:o2,noop:d2,toFiniteNumber:f2,findKey:Vw,global:li,isContextDefined:zw,isSpecCompliantForm:h2,toJSONObject:m2,isAsyncFn:p2,isThenable:v2,setImmediate:Ww,asap:g2,isIterable:x2};function Ge(e,t,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}ee.inherits(Ge,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ee.toJSONObject(this.config),code:this.code,status:this.status}}});const Hw=Ge.prototype,qw={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{qw[e]={value:e}});Object.defineProperties(Ge,qw);Object.defineProperty(Hw,"isAxiosError",{value:!0});Ge.from=(e,t,r,n,i,s)=>{const o=Object.create(Hw);return ee.toFlatObject(e,o,function(l){return l!==Error.prototype},c=>c!=="isAxiosError"),Ge.call(o,e.message,t,r,n,i),o.cause=e,o.name=e.name,s&&Object.assign(o,s),o};const y2=null;function nm(e){return ee.isPlainObject(e)||ee.isArray(e)}function Kw(e){return ee.endsWith(e,"[]")?e.slice(0,-2):e}function ex(e,t,r){return e?e.concat(t).map(function(i,s){return i=Kw(i),!r&&s?"["+i+"]":i}).join(r?".":""):t}function b2(e){return ee.isArray(e)&&!e.some(nm)}const j2=ee.toFlatObject(ee,{},null,function(t){return/^is[A-Z]/.test(t)});function qd(e,t,r){if(!ee.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=ee.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,g){return!ee.isUndefined(g[m])});const n=r.metaTokens,i=r.visitor||d,s=r.dots,o=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&ee.isSpecCompliantForm(t);if(!ee.isFunction(i))throw new TypeError("visitor must be a function");function u(v){if(v===null)return"";if(ee.isDate(v))return v.toISOString();if(ee.isBoolean(v))return v.toString();if(!l&&ee.isBlob(v))throw new Ge("Blob is not supported. Use a Buffer instead.");return ee.isArrayBuffer(v)||ee.isTypedArray(v)?l&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function d(v,m,g){let b=v;if(v&&!g&&typeof v=="object"){if(ee.endsWith(m,"{}"))m=n?m:m.slice(0,-2),v=JSON.stringify(v);else if(ee.isArray(v)&&b2(v)||(ee.isFileList(v)||ee.endsWith(m,"[]"))&&(b=ee.toArray(v)))return m=Kw(m),b.forEach(function(w,A){!(ee.isUndefined(w)||w===null)&&t.append(o===!0?ex([m],A,s):o===null?m:m+"[]",u(w))}),!1}return nm(v)?!0:(t.append(ex(g,m,s),u(v)),!1)}const f=[],h=Object.assign(j2,{defaultVisitor:d,convertValue:u,isVisitable:nm});function p(v,m){if(!ee.isUndefined(v)){if(f.indexOf(v)!==-1)throw Error("Circular reference detected in "+m.join("."));f.push(v),ee.forEach(v,function(b,y){(!(ee.isUndefined(b)||b===null)&&i.call(t,b,ee.isString(y)?y.trim():y,m,h))===!0&&p(b,m?m.concat(y):[y])}),f.pop()}}if(!ee.isObject(e))throw new TypeError("data must be an object");return p(e),t}function tx(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function sv(e,t){this._pairs=[],e&&qd(e,this,t)}const Gw=sv.prototype;Gw.append=function(t,r){this._pairs.push([t,r])};Gw.toString=function(t){const r=t?function(n){return t.call(this,n,tx)}:tx;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function w2(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Zw(e,t,r){if(!t)return e;const n=r&&r.encode||w2;ee.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let s;if(i?s=i(t,r):s=ee.isURLSearchParams(t)?t.toString():new sv(t,r).toString(n),s){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class rx{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ee.forEach(this.handlers,function(n){n!==null&&t(n)})}}const Xw={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},N2=typeof URLSearchParams<"u"?URLSearchParams:sv,S2=typeof FormData<"u"?FormData:null,A2=typeof Blob<"u"?Blob:null,O2={isBrowser:!0,classes:{URLSearchParams:N2,FormData:S2,Blob:A2},protocols:["http","https","file","blob","url","data"]},ov=typeof window<"u"&&typeof document<"u",am=typeof navigator=="object"&&navigator||void 0,_2=ov&&(!am||["ReactNative","NativeScript","NS"].indexOf(am.product)<0),P2=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",k2=ov&&window.location.href||"http://localhost",C2=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ov,hasStandardBrowserEnv:_2,hasStandardBrowserWebWorkerEnv:P2,navigator:am,origin:k2},Symbol.toStringTag,{value:"Module"})),fr={...C2,...O2};function T2(e,t){return qd(e,new fr.classes.URLSearchParams,Object.assign({visitor:function(r,n,i,s){return fr.isNode&&ee.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},t))}function E2(e){return ee.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function $2(e){const t={},r=Object.keys(e);let n;const i=r.length;let s;for(n=0;n<i;n++)s=r[n],t[s]=e[s];return t}function Yw(e){function t(r,n,i,s){let o=r[s++];if(o==="__proto__")return!0;const c=Number.isFinite(+o),l=s>=r.length;return o=!o&&ee.isArray(i)?i.length:o,l?(ee.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!c):((!i[o]||!ee.isObject(i[o]))&&(i[o]=[]),t(r,n,i[o],s)&&ee.isArray(i[o])&&(i[o]=$2(i[o])),!c)}if(ee.isFormData(e)&&ee.isFunction(e.entries)){const r={};return ee.forEachEntry(e,(n,i)=>{t(E2(n),i,r,0)}),r}return null}function D2(e,t,r){if(ee.isString(e))try{return(t||JSON.parse)(e),ee.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const ul={transitional:Xw,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,s=ee.isObject(t);if(s&&ee.isHTMLForm(t)&&(t=new FormData(t)),ee.isFormData(t))return i?JSON.stringify(Yw(t)):t;if(ee.isArrayBuffer(t)||ee.isBuffer(t)||ee.isStream(t)||ee.isFile(t)||ee.isBlob(t)||ee.isReadableStream(t))return t;if(ee.isArrayBufferView(t))return t.buffer;if(ee.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return T2(t,this.formSerializer).toString();if((c=ee.isFileList(t))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return qd(c?{"files[]":t}:t,l&&new l,this.formSerializer)}}return s||i?(r.setContentType("application/json",!1),D2(t)):t}],transformResponse:[function(t){const r=this.transitional||ul.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(ee.isResponse(t)||ee.isReadableStream(t))return t;if(t&&ee.isString(t)&&(n&&!this.responseType||i)){const o=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(c){if(o)throw c.name==="SyntaxError"?Ge.from(c,Ge.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:fr.classes.FormData,Blob:fr.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ee.forEach(["delete","get","head","post","put","patch"],e=>{ul.headers[e]={}});const I2=ee.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),M2=e=>{const t={};let r,n,i;return e&&e.split(`
`).forEach(function(o){i=o.indexOf(":"),r=o.substring(0,i).trim().toLowerCase(),n=o.substring(i+1).trim(),!(!r||t[r]&&I2[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},nx=Symbol("internals");function Po(e){return e&&String(e).trim().toLowerCase()}function Jl(e){return e===!1||e==null?e:ee.isArray(e)?e.map(Jl):String(e)}function R2(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const L2=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function rh(e,t,r,n,i){if(ee.isFunction(n))return n.call(this,t,r);if(i&&(t=r),!!ee.isString(t)){if(ee.isString(n))return t.indexOf(n)!==-1;if(ee.isRegExp(n))return n.test(t)}}function F2(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function B2(e,t){const r=ee.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(i,s,o){return this[n].call(this,t,i,s,o)},configurable:!0})})}let Ar=class{constructor(t){t&&this.set(t)}set(t,r,n){const i=this;function s(c,l,u){const d=Po(l);if(!d)throw new Error("header name must be a non-empty string");const f=ee.findKey(i,d);(!f||i[f]===void 0||u===!0||u===void 0&&i[f]!==!1)&&(i[f||l]=Jl(c))}const o=(c,l)=>ee.forEach(c,(u,d)=>s(u,d,l));if(ee.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(ee.isString(t)&&(t=t.trim())&&!L2(t))o(M2(t),r);else if(ee.isObject(t)&&ee.isIterable(t)){let c={},l,u;for(const d of t){if(!ee.isArray(d))throw TypeError("Object iterator must return a key-value pair");c[u=d[0]]=(l=c[u])?ee.isArray(l)?[...l,d[1]]:[l,d[1]]:d[1]}o(c,r)}else t!=null&&s(r,t,n);return this}get(t,r){if(t=Po(t),t){const n=ee.findKey(this,t);if(n){const i=this[n];if(!r)return i;if(r===!0)return R2(i);if(ee.isFunction(r))return r.call(this,i,n);if(ee.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Po(t),t){const n=ee.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||rh(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let i=!1;function s(o){if(o=Po(o),o){const c=ee.findKey(n,o);c&&(!r||rh(n,n[c],c,r))&&(delete n[c],i=!0)}}return ee.isArray(t)?t.forEach(s):s(t),i}clear(t){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const s=r[n];(!t||rh(this,this[s],s,t,!0))&&(delete this[s],i=!0)}return i}normalize(t){const r=this,n={};return ee.forEach(this,(i,s)=>{const o=ee.findKey(n,s);if(o){r[o]=Jl(i),delete r[s];return}const c=t?F2(s):String(s).trim();c!==s&&delete r[s],r[c]=Jl(i),n[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return ee.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=t&&ee.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(i=>n.set(i)),n}static accessor(t){const n=(this[nx]=this[nx]={accessors:{}}).accessors,i=this.prototype;function s(o){const c=Po(o);n[c]||(B2(i,o),n[c]=!0)}return ee.isArray(t)?t.forEach(s):s(t),this}};Ar.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ee.reduceDescriptors(Ar.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});ee.freezeMethods(Ar);function nh(e,t){const r=this||ul,n=t||r,i=Ar.from(n.headers);let s=n.data;return ee.forEach(e,function(c){s=c.call(r,s,i.normalize(),t?t.status:void 0)}),i.normalize(),s}function Jw(e){return!!(e&&e.__CANCEL__)}function so(e,t,r){Ge.call(this,e??"canceled",Ge.ERR_CANCELED,t,r),this.name="CanceledError"}ee.inherits(so,Ge,{__CANCEL__:!0});function Qw(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new Ge("Request failed with status code "+r.status,[Ge.ERR_BAD_REQUEST,Ge.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function V2(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function z2(e,t){e=e||10;const r=new Array(e),n=new Array(e);let i=0,s=0,o;return t=t!==void 0?t:1e3,function(l){const u=Date.now(),d=n[s];o||(o=u),r[i]=l,n[i]=u;let f=s,h=0;for(;f!==i;)h+=r[f++],f=f%e;if(i=(i+1)%e,i===s&&(s=(s+1)%e),u-o<t)return;const p=d&&u-d;return p?Math.round(h*1e3/p):void 0}}function U2(e,t){let r=0,n=1e3/t,i,s;const o=(u,d=Date.now())=>{r=d,i=null,s&&(clearTimeout(s),s=null),e.apply(null,u)};return[(...u)=>{const d=Date.now(),f=d-r;f>=n?o(u,d):(i=u,s||(s=setTimeout(()=>{s=null,o(i)},n-f)))},()=>i&&o(i)]}const uu=(e,t,r=3)=>{let n=0;const i=z2(50,250);return U2(s=>{const o=s.loaded,c=s.lengthComputable?s.total:void 0,l=o-n,u=i(l),d=o<=c;n=o;const f={loaded:o,total:c,progress:c?o/c:void 0,bytes:l,rate:u||void 0,estimated:u&&c&&d?(c-o)/u:void 0,event:s,lengthComputable:c!=null,[t?"download":"upload"]:!0};e(f)},r)},ax=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},ix=e=>(...t)=>ee.asap(()=>e(...t)),W2=fr.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,fr.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(fr.origin),fr.navigator&&/(msie|trident)/i.test(fr.navigator.userAgent)):()=>!0,H2=fr.hasStandardBrowserEnv?{write(e,t,r,n,i,s){const o=[e+"="+encodeURIComponent(t)];ee.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),ee.isString(n)&&o.push("path="+n),ee.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function q2(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function K2(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function e1(e,t,r){let n=!q2(t);return e&&(n||r==!1)?K2(e,t):t}const sx=e=>e instanceof Ar?{...e}:e;function _i(e,t){t=t||{};const r={};function n(u,d,f,h){return ee.isPlainObject(u)&&ee.isPlainObject(d)?ee.merge.call({caseless:h},u,d):ee.isPlainObject(d)?ee.merge({},d):ee.isArray(d)?d.slice():d}function i(u,d,f,h){if(ee.isUndefined(d)){if(!ee.isUndefined(u))return n(void 0,u,f,h)}else return n(u,d,f,h)}function s(u,d){if(!ee.isUndefined(d))return n(void 0,d)}function o(u,d){if(ee.isUndefined(d)){if(!ee.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function c(u,d,f){if(f in t)return n(u,d);if(f in e)return n(void 0,u)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:c,headers:(u,d,f)=>i(sx(u),sx(d),f,!0)};return ee.forEach(Object.keys(Object.assign({},e,t)),function(d){const f=l[d]||i,h=f(e[d],t[d],d);ee.isUndefined(h)&&f!==c||(r[d]=h)}),r}const t1=e=>{const t=_i({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:c}=t;t.headers=o=Ar.from(o),t.url=Zw(e1(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),c&&o.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let l;if(ee.isFormData(r)){if(fr.hasStandardBrowserEnv||fr.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[u,...d]=l?l.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...d].join("; "))}}if(fr.hasStandardBrowserEnv&&(n&&ee.isFunction(n)&&(n=n(t)),n||n!==!1&&W2(t.url))){const u=i&&s&&H2.read(s);u&&o.set(i,u)}return t},G2=typeof XMLHttpRequest<"u",Z2=G2&&function(e){return new Promise(function(r,n){const i=t1(e);let s=i.data;const o=Ar.from(i.headers).normalize();let{responseType:c,onUploadProgress:l,onDownloadProgress:u}=i,d,f,h,p,v;function m(){p&&p(),v&&v(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let g=new XMLHttpRequest;g.open(i.method.toUpperCase(),i.url,!0),g.timeout=i.timeout;function b(){if(!g)return;const w=Ar.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),N={data:!c||c==="text"||c==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:w,config:e,request:g};Qw(function(O){r(O),m()},function(O){n(O),m()},N),g=null}"onloadend"in g?g.onloadend=b:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(b)},g.onabort=function(){g&&(n(new Ge("Request aborted",Ge.ECONNABORTED,e,g)),g=null)},g.onerror=function(){n(new Ge("Network Error",Ge.ERR_NETWORK,e,g)),g=null},g.ontimeout=function(){let A=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const N=i.transitional||Xw;i.timeoutErrorMessage&&(A=i.timeoutErrorMessage),n(new Ge(A,N.clarifyTimeoutError?Ge.ETIMEDOUT:Ge.ECONNABORTED,e,g)),g=null},s===void 0&&o.setContentType(null),"setRequestHeader"in g&&ee.forEach(o.toJSON(),function(A,N){g.setRequestHeader(N,A)}),ee.isUndefined(i.withCredentials)||(g.withCredentials=!!i.withCredentials),c&&c!=="json"&&(g.responseType=i.responseType),u&&([h,v]=uu(u,!0),g.addEventListener("progress",h)),l&&g.upload&&([f,p]=uu(l),g.upload.addEventListener("progress",f),g.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(d=w=>{g&&(n(!w||w.type?new so(null,e,g):w),g.abort(),g=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const y=V2(i.url);if(y&&fr.protocols.indexOf(y)===-1){n(new Ge("Unsupported protocol "+y+":",Ge.ERR_BAD_REQUEST,e));return}g.send(s||null)})},X2=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,i;const s=function(u){if(!i){i=!0,c();const d=u instanceof Error?u:this.reason;n.abort(d instanceof Ge?d:new so(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,s(new Ge(`timeout ${t} of ms exceeded`,Ge.ETIMEDOUT))},t);const c=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),e=null)};e.forEach(u=>u.addEventListener("abort",s));const{signal:l}=n;return l.unsubscribe=()=>ee.asap(c),l}},Y2=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,i;for(;n<r;)i=n+t,yield e.slice(n,i),n=i},J2=async function*(e,t){for await(const r of Q2(e))yield*Y2(r,t)},Q2=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},ox=(e,t,r,n)=>{const i=J2(e,t);let s=0,o,c=l=>{o||(o=!0,n&&n(l))};return new ReadableStream({async pull(l){try{const{done:u,value:d}=await i.next();if(u){c(),l.close();return}let f=d.byteLength;if(r){let h=s+=f;r(h)}l.enqueue(new Uint8Array(d))}catch(u){throw c(u),u}},cancel(l){return c(l),i.return()}},{highWaterMark:2})},Kd=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",r1=Kd&&typeof ReadableStream=="function",eC=Kd&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),n1=(e,...t)=>{try{return!!e(...t)}catch{return!1}},tC=r1&&n1(()=>{let e=!1;const t=new Request(fr.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),cx=64*1024,im=r1&&n1(()=>ee.isReadableStream(new Response("").body)),du={stream:im&&(e=>e.body)};Kd&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!du[t]&&(du[t]=ee.isFunction(e[t])?r=>r[t]():(r,n)=>{throw new Ge(`Response type '${t}' is not supported`,Ge.ERR_NOT_SUPPORT,n)})})})(new Response);const rC=async e=>{if(e==null)return 0;if(ee.isBlob(e))return e.size;if(ee.isSpecCompliantForm(e))return(await new Request(fr.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(ee.isArrayBufferView(e)||ee.isArrayBuffer(e))return e.byteLength;if(ee.isURLSearchParams(e)&&(e=e+""),ee.isString(e))return(await eC(e)).byteLength},nC=async(e,t)=>{const r=ee.toFiniteNumber(e.getContentLength());return r??rC(t)},aC=Kd&&(async e=>{let{url:t,method:r,data:n,signal:i,cancelToken:s,timeout:o,onDownloadProgress:c,onUploadProgress:l,responseType:u,headers:d,withCredentials:f="same-origin",fetchOptions:h}=t1(e);u=u?(u+"").toLowerCase():"text";let p=X2([i,s&&s.toAbortSignal()],o),v;const m=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let g;try{if(l&&tC&&r!=="get"&&r!=="head"&&(g=await nC(d,n))!==0){let N=new Request(t,{method:"POST",body:n,duplex:"half"}),j;if(ee.isFormData(n)&&(j=N.headers.get("content-type"))&&d.setContentType(j),N.body){const[O,S]=ax(g,uu(ix(l)));n=ox(N.body,cx,O,S)}}ee.isString(f)||(f=f?"include":"omit");const b="credentials"in Request.prototype;v=new Request(t,{...h,signal:p,method:r.toUpperCase(),headers:d.normalize().toJSON(),body:n,duplex:"half",credentials:b?f:void 0});let y=await fetch(v,h);const w=im&&(u==="stream"||u==="response");if(im&&(c||w&&m)){const N={};["status","statusText","headers"].forEach(P=>{N[P]=y[P]});const j=ee.toFiniteNumber(y.headers.get("content-length")),[O,S]=c&&ax(j,uu(ix(c),!0))||[];y=new Response(ox(y.body,cx,O,()=>{S&&S(),m&&m()}),N)}u=u||"text";let A=await du[ee.findKey(du,u)||"text"](y,e);return!w&&m&&m(),await new Promise((N,j)=>{Qw(N,j,{data:A,headers:Ar.from(y.headers),status:y.status,statusText:y.statusText,config:e,request:v})})}catch(b){throw m&&m(),b&&b.name==="TypeError"&&/Load failed|fetch/i.test(b.message)?Object.assign(new Ge("Network Error",Ge.ERR_NETWORK,e,v),{cause:b.cause||b}):Ge.from(b,b&&b.code,e,v)}}),sm={http:y2,xhr:Z2,fetch:aC};ee.forEach(sm,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const lx=e=>`- ${e}`,iC=e=>ee.isFunction(e)||e===null||e===!1,a1={getAdapter:e=>{e=ee.isArray(e)?e:[e];const{length:t}=e;let r,n;const i={};for(let s=0;s<t;s++){r=e[s];let o;if(n=r,!iC(r)&&(n=sm[(o=String(r)).toLowerCase()],n===void 0))throw new Ge(`Unknown adapter '${o}'`);if(n)break;i[o||"#"+s]=n}if(!n){const s=Object.entries(i).map(([c,l])=>`adapter ${c} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=t?s.length>1?`since :
`+s.map(lx).join(`
`):" "+lx(s[0]):"as no adapter specified";throw new Ge("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:sm};function ah(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new so(null,e)}function ux(e){return ah(e),e.headers=Ar.from(e.headers),e.data=nh.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),a1.getAdapter(e.adapter||ul.adapter)(e).then(function(n){return ah(e),n.data=nh.call(e,e.transformResponse,n),n.headers=Ar.from(n.headers),n},function(n){return Jw(n)||(ah(e),n&&n.response&&(n.response.data=nh.call(e,e.transformResponse,n.response),n.response.headers=Ar.from(n.response.headers))),Promise.reject(n)})}const i1="1.10.0",Gd={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Gd[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const dx={};Gd.transitional=function(t,r,n){function i(s,o){return"[Axios v"+i1+"] Transitional option '"+s+"'"+o+(n?". "+n:"")}return(s,o,c)=>{if(t===!1)throw new Ge(i(o," has been removed"+(r?" in "+r:"")),Ge.ERR_DEPRECATED);return r&&!dx[o]&&(dx[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(s,o,c):!0}};Gd.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function sC(e,t,r){if(typeof e!="object")throw new Ge("options must be an object",Ge.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let i=n.length;for(;i-- >0;){const s=n[i],o=t[s];if(o){const c=e[s],l=c===void 0||o(c,s,e);if(l!==!0)throw new Ge("option "+s+" must be "+l,Ge.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Ge("Unknown option "+s,Ge.ERR_BAD_OPTION)}}const Ql={assertOptions:sC,validators:Gd},Nn=Ql.validators;let xi=class{constructor(t){this.defaults=t||{},this.interceptors={request:new rx,response:new rx}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=_i(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:s}=r;n!==void 0&&Ql.assertOptions(n,{silentJSONParsing:Nn.transitional(Nn.boolean),forcedJSONParsing:Nn.transitional(Nn.boolean),clarifyTimeoutError:Nn.transitional(Nn.boolean)},!1),i!=null&&(ee.isFunction(i)?r.paramsSerializer={serialize:i}:Ql.assertOptions(i,{encode:Nn.function,serialize:Nn.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Ql.assertOptions(r,{baseUrl:Nn.spelling("baseURL"),withXsrfToken:Nn.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=s&&ee.merge(s.common,s[r.method]);s&&ee.forEach(["delete","get","head","post","put","patch","common"],v=>{delete s[v]}),r.headers=Ar.concat(o,s);const c=[];let l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(r)===!1||(l=l&&m.synchronous,c.unshift(m.fulfilled,m.rejected))});const u=[];this.interceptors.response.forEach(function(m){u.push(m.fulfilled,m.rejected)});let d,f=0,h;if(!l){const v=[ux.bind(this),void 0];for(v.unshift.apply(v,c),v.push.apply(v,u),h=v.length,d=Promise.resolve(r);f<h;)d=d.then(v[f++],v[f++]);return d}h=c.length;let p=r;for(f=0;f<h;){const v=c[f++],m=c[f++];try{p=v(p)}catch(g){m.call(this,g);break}}try{d=ux.call(this,p)}catch(v){return Promise.reject(v)}for(f=0,h=u.length;f<h;)d=d.then(u[f++],u[f++]);return d}getUri(t){t=_i(this.defaults,t);const r=e1(t.baseURL,t.url,t.allowAbsoluteUrls);return Zw(r,t.params,t.paramsSerializer)}};ee.forEach(["delete","get","head","options"],function(t){xi.prototype[t]=function(r,n){return this.request(_i(n||{},{method:t,url:r,data:(n||{}).data}))}});ee.forEach(["post","put","patch"],function(t){function r(n){return function(s,o,c){return this.request(_i(c||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}xi.prototype[t]=r(),xi.prototype[t+"Form"]=r(!0)});let oC=class s1{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(i=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](i);n._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(c=>{n.subscribe(c),s=c}).then(i);return o.cancel=function(){n.unsubscribe(s)},o},t(function(s,o,c){n.reason||(n.reason=new so(s,o,c),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new s1(function(i){t=i}),cancel:t}}};function cC(e){return function(r){return e.apply(null,r)}}function lC(e){return ee.isObject(e)&&e.isAxiosError===!0}const om={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(om).forEach(([e,t])=>{om[t]=e});function o1(e){const t=new xi(e),r=Rw(xi.prototype.request,t);return ee.extend(r,xi.prototype,t,{allOwnKeys:!0}),ee.extend(r,t,null,{allOwnKeys:!0}),r.create=function(i){return o1(_i(e,i))},r}const Mt=o1(ul);Mt.Axios=xi;Mt.CanceledError=so;Mt.CancelToken=oC;Mt.isCancel=Jw;Mt.VERSION=i1;Mt.toFormData=qd;Mt.AxiosError=Ge;Mt.Cancel=Mt.CanceledError;Mt.all=function(t){return Promise.all(t)};Mt.spread=cC;Mt.isAxiosError=lC;Mt.mergeConfig=_i;Mt.AxiosHeaders=Ar;Mt.formToJSON=e=>Yw(ee.isHTMLForm(e)?new FormData(e):e);Mt.getAdapter=a1.getAdapter;Mt.HttpStatusCode=om;Mt.default=Mt;const{Axios:pce,AxiosError:vce,CanceledError:gce,isCancel:xce,CancelToken:yce,VERSION:bce,all:jce,Cancel:wce,isAxiosError:Nce,spread:Sce,toFormData:Ace,AxiosHeaders:Oce,HttpStatusCode:_ce,formToJSON:Pce,getAdapter:kce,mergeConfig:Cce}=Mt,uC="http://localhost:5002/api",we=Mt.create({baseURL:uC,headers:{"Content-Type":"application/json"}});we.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));we.interceptors.response.use(e=>e,e=>{var t,r,n,i,s,o;if(console.error("API Error:",{status:(t=e.response)==null?void 0:t.status,message:(n=(r=e.response)==null?void 0:r.data)==null?void 0:n.message,url:(i=e.config)==null?void 0:i.url,method:(s=e.config)==null?void 0:s.method}),((o=e.response)==null?void 0:o.status)===401){const c=window.location.pathname;["/booking","/lookup","/booking-confirmation"].includes(c)?console.log("Unauthorized on public route - continuing without auth"):(console.log("Unauthorized on protected route - logging out user"),localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login")}return Promise.reject(e)});const dC=async e=>(await we.post("/auth/register",e)).data,fC=async e=>(await we.post("/auth/login",e)).data,hC=async()=>(await we.get("/auth/profile")).data.user,c1=async e=>(await we.post("/auth/check-vip",{email:e})).data,mC=async e=>(await we.post("/auth/check-vip-code",{vipCode:e})).data;let pC={data:""},vC=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||pC,gC=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,xC=/\/\*[^]*?\*\/|  +/g,fx=/\n+/g,Ca=(e,t)=>{let r="",n="",i="";for(let s in e){let o=e[s];s[0]=="@"?s[1]=="i"?r=s+" "+o+";":n+=s[1]=="f"?Ca(o,s):s+"{"+Ca(o,s[1]=="k"?"":t)+"}":typeof o=="object"?n+=Ca(o,t?t.replace(/([^,])+/g,c=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,c):c?c+" "+l:l)):s):o!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Ca.p?Ca.p(s,o):s+":"+o+";")}return r+(t&&i?t+"{"+i+"}":i)+n},Xn={},l1=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+l1(e[r]);return t}return e},yC=(e,t,r,n,i)=>{let s=l1(e),o=Xn[s]||(Xn[s]=(l=>{let u=0,d=11;for(;u<l.length;)d=101*d+l.charCodeAt(u++)>>>0;return"go"+d})(s));if(!Xn[o]){let l=s!==e?e:(u=>{let d,f,h=[{}];for(;d=gC.exec(u.replace(xC,""));)d[4]?h.shift():d[3]?(f=d[3].replace(fx," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][d[1]]=d[2].replace(fx," ").trim();return h[0]})(e);Xn[o]=Ca(i?{["@keyframes "+o]:l}:l,r?"":"."+o)}let c=r&&Xn.g?Xn.g:null;return r&&(Xn.g=Xn[o]),((l,u,d,f)=>{f?u.data=u.data.replace(f,l):u.data.indexOf(l)===-1&&(u.data=d?l+u.data:u.data+l)})(Xn[o],t,n,c),o},bC=(e,t,r)=>e.reduce((n,i,s)=>{let o=t[s];if(o&&o.call){let c=o(r),l=c&&c.props&&c.props.className||/^go/.test(c)&&c;o=l?"."+l:c&&typeof c=="object"?c.props?"":Ca(c,""):c===!1?"":c}return n+i+(o??"")},"");function Zd(e){let t=this||{},r=e.call?e(t.p):e;return yC(r.unshift?r.raw?bC(r,[].slice.call(arguments,1),t.p):r.reduce((n,i)=>Object.assign(n,i&&i.call?i(t.p):i),{}):r,vC(t.target),t.g,t.o,t.k)}let u1,cm,lm;Zd.bind({g:1});let ha=Zd.bind({k:1});function jC(e,t,r,n){Ca.p=t,u1=e,cm=r,lm=n}function Ka(e,t){let r=this||{};return function(){let n=arguments;function i(s,o){let c=Object.assign({},s),l=c.className||i.className;r.p=Object.assign({theme:cm&&cm()},c),r.o=/ *go\d+/.test(l),c.className=Zd.apply(r,n)+(l?" "+l:"");let u=e;return e[0]&&(u=c.as||e,delete c.as),lm&&u[0]&&lm(c),u1(u,c)}return i}}var wC=e=>typeof e=="function",fu=(e,t)=>wC(e)?e(t):e,NC=(()=>{let e=0;return()=>(++e).toString()})(),d1=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),SC=20,f1=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,SC)};case 1:return{...e,toasts:e.toasts.map(s=>s.id===t.toast.id?{...s,...t.toast}:s)};case 2:let{toast:r}=t;return f1(e,{type:e.toasts.find(s=>s.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=t;return{...e,toasts:e.toasts.map(s=>s.id===n||n===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(s=>s.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+i}))}}},eu=[],ui={toasts:[],pausedAt:void 0},Hi=e=>{ui=f1(ui,e),eu.forEach(t=>{t(ui)})},AC={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},OC=(e={})=>{let[t,r]=x.useState(ui),n=x.useRef(ui);x.useEffect(()=>(n.current!==ui&&r(ui),eu.push(r),()=>{let s=eu.indexOf(r);s>-1&&eu.splice(s,1)}),[]);let i=t.toasts.map(s=>{var o,c,l;return{...e,...e[s.type],...s,removeDelay:s.removeDelay||((o=e[s.type])==null?void 0:o.removeDelay)||(e==null?void 0:e.removeDelay),duration:s.duration||((c=e[s.type])==null?void 0:c.duration)||(e==null?void 0:e.duration)||AC[s.type],style:{...e.style,...(l=e[s.type])==null?void 0:l.style,...s.style}}});return{...t,toasts:i}},_C=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||NC()}),dl=e=>(t,r)=>{let n=_C(t,e,r);return Hi({type:2,toast:n}),n.id},Z=(e,t)=>dl("blank")(e,t);Z.error=dl("error");Z.success=dl("success");Z.loading=dl("loading");Z.custom=dl("custom");Z.dismiss=e=>{Hi({type:3,toastId:e})};Z.remove=e=>Hi({type:4,toastId:e});Z.promise=(e,t,r)=>{let n=Z.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(i=>{let s=t.success?fu(t.success,i):void 0;return s?Z.success(s,{id:n,...r,...r==null?void 0:r.success}):Z.dismiss(n),i}).catch(i=>{let s=t.error?fu(t.error,i):void 0;s?Z.error(s,{id:n,...r,...r==null?void 0:r.error}):Z.dismiss(n)}),e};var PC=(e,t)=>{Hi({type:1,toast:{id:e,height:t}})},kC=()=>{Hi({type:5,time:Date.now()})},Qo=new Map,CC=1e3,TC=(e,t=CC)=>{if(Qo.has(e))return;let r=setTimeout(()=>{Qo.delete(e),Hi({type:4,toastId:e})},t);Qo.set(e,r)},EC=e=>{let{toasts:t,pausedAt:r}=OC(e);x.useEffect(()=>{if(r)return;let s=Date.now(),o=t.map(c=>{if(c.duration===1/0)return;let l=(c.duration||0)+c.pauseDuration-(s-c.createdAt);if(l<0){c.visible&&Z.dismiss(c.id);return}return setTimeout(()=>Z.dismiss(c.id),l)});return()=>{o.forEach(c=>c&&clearTimeout(c))}},[t,r]);let n=x.useCallback(()=>{r&&Hi({type:6,time:Date.now()})},[r]),i=x.useCallback((s,o)=>{let{reverseOrder:c=!1,gutter:l=8,defaultPosition:u}=o||{},d=t.filter(p=>(p.position||u)===(s.position||u)&&p.height),f=d.findIndex(p=>p.id===s.id),h=d.filter((p,v)=>v<f&&p.visible).length;return d.filter(p=>p.visible).slice(...c?[h+1]:[0,h]).reduce((p,v)=>p+(v.height||0)+l,0)},[t]);return x.useEffect(()=>{t.forEach(s=>{if(s.dismissed)TC(s.id,s.removeDelay);else{let o=Qo.get(s.id);o&&(clearTimeout(o),Qo.delete(s.id))}})},[t]),{toasts:t,handlers:{updateHeight:PC,startPause:kC,endPause:n,calculateOffset:i}}},$C=ha`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,DC=ha`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,IC=ha`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,MC=Ka("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${$C} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${DC} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${IC} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,RC=ha`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,LC=Ka("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${RC} 1s linear infinite;
`,FC=ha`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,BC=ha`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,VC=Ka("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${FC} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${BC} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,zC=Ka("div")`
  position: absolute;
`,UC=Ka("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,WC=ha`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,HC=Ka("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${WC} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,qC=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?x.createElement(HC,null,t):t:r==="blank"?null:x.createElement(UC,null,x.createElement(LC,{...n}),r!=="loading"&&x.createElement(zC,null,r==="error"?x.createElement(MC,{...n}):x.createElement(VC,{...n})))},KC=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,GC=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,ZC="0%{opacity:0;} 100%{opacity:1;}",XC="0%{opacity:1;} 100%{opacity:0;}",YC=Ka("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,JC=Ka("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,QC=(e,t)=>{let r=e.includes("top")?1:-1,[n,i]=d1()?[ZC,XC]:[KC(r),GC(r)];return{animation:t?`${ha(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ha(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},eT=x.memo(({toast:e,position:t,style:r,children:n})=>{let i=e.height?QC(e.position||t||"top-center",e.visible):{opacity:0},s=x.createElement(qC,{toast:e}),o=x.createElement(JC,{...e.ariaProps},fu(e.message,e));return x.createElement(YC,{className:e.className,style:{...i,...r,...e.style}},typeof n=="function"?n({icon:s,message:o}):x.createElement(x.Fragment,null,s,o))});jC(x.createElement);var tT=({id:e,className:t,style:r,onHeightUpdate:n,children:i})=>{let s=x.useCallback(o=>{if(o){let c=()=>{let l=o.getBoundingClientRect().height;n(e,l)};c(),new MutationObserver(c).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return x.createElement("div",{ref:s,className:t,style:r},i)},rT=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:d1()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...i}},nT=Zd`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,_l=16,aT=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:i,containerStyle:s,containerClassName:o})=>{let{toasts:c,handlers:l}=EC(r);return x.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:_l,left:_l,right:_l,bottom:_l,pointerEvents:"none",...s},className:o,onMouseEnter:l.startPause,onMouseLeave:l.endPause},c.map(u=>{let d=u.position||t,f=l.calculateOffset(u,{reverseOrder:e,gutter:n,defaultPosition:t}),h=rT(d,f);return x.createElement(tT,{id:u.id,key:u.id,onHeightUpdate:l.updateHeight,className:u.visible?nT:"",style:h},u.type==="custom"?fu(u.message,u):i?i(u):x.createElement(eT,{toast:u,position:d}))}))},ko=Z;const h1=x.createContext(void 0),oo=()=>{const e=x.useContext(h1);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},iT=({children:e})=>{const[t,r]=x.useState(null),[n,i]=x.useState(null),[s,o]=x.useState(!0);x.useEffect(()=>{(async()=>{const h=localStorage.getItem("token"),p=localStorage.getItem("user");if(h&&p)try{i(h),r(JSON.parse(p)),await hC()}catch{localStorage.removeItem("token"),localStorage.removeItem("user"),i(null),r(null)}o(!1)})()},[]);const d={user:t,token:n,login:async(f,h)=>{var p,v;try{const m=await fC({email:f,password:h}),{token:g,user:b}=m;i(g),r(b),localStorage.setItem("token",g),localStorage.setItem("user",JSON.stringify(b)),ko.success("Đăng nhập thành công!")}catch(m){const g=((v=(p=m.response)==null?void 0:p.data)==null?void 0:v.error)||"Đăng nhập thất bại";throw ko.error(g),m}},register:async f=>{var h,p;try{const v=await dC(f),{token:m,user:g}=v;i(m),r(g),localStorage.setItem("token",m),localStorage.setItem("user",JSON.stringify(g)),ko.success("Đăng ký thành công!")}catch(v){const m=((p=(h=v.response)==null?void 0:h.data)==null?void 0:p.error)||"Đăng ký thất bại";throw ko.error(m),v}},logout:()=>{i(null),r(null),localStorage.removeItem("token"),localStorage.removeItem("user"),ko.success("Đăng xuất thành công!")},loading:s};return a.jsx(h1.Provider,{value:d,children:e})},sT=x.createContext(void 0),oT=({children:e,defaultTheme:t="system",storageKey:r="vite-ui-theme"})=>{const[n,i]=x.useState(()=>localStorage.getItem(r)||t);x.useEffect(()=>{const o=window.document.documentElement;if(o.classList.remove("light","dark"),n==="system"){const c=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";o.classList.add(c)}else o.classList.add(n);localStorage.setItem(r,n)},[n,r]),x.useEffect(()=>{const o=window.matchMedia("(prefers-color-scheme: dark)"),c=()=>{if(n==="system"){const l=window.document.documentElement;l.classList.remove("light","dark");const u=o.matches?"dark":"light";l.classList.add(u)}};return o.addEventListener("change",c),()=>o.removeEventListener("change",c)},[n]);const s={theme:n,setTheme:o=>{localStorage.setItem(r,o),i(o)}};return a.jsx(sT.Provider,{value:s,children:e})};function hx(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function cT(...e){return t=>{let r=!1;const n=e.map(i=>{const s=hx(i,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<n.length;i++){const s=n[i];typeof s=="function"?s():hx(e[i],null)}}}}function en(e){const t=uT(e),r=x.forwardRef((n,i)=>{const{children:s,...o}=n,c=x.Children.toArray(s),l=c.find(fT);if(l){const u=l.props.children,d=c.map(f=>f===l?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:i,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:i,children:s})});return r.displayName=`${e}.Slot`,r}var lT=en("Slot");function uT(e){const t=x.forwardRef((r,n)=>{const{children:i,...s}=r;if(x.isValidElement(i)){const o=mT(i),c=hT(s,i.props);return i.type!==x.Fragment&&(c.ref=n?cT(n,o):o),x.cloneElement(i,c)}return x.Children.count(i)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var dT=Symbol("radix.slottable");function fT(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===dT}function hT(e,t){const r={...t};for(const n in t){const i=e[n],s=t[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...c)=>{const l=s(...c);return i(...c),l}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...e,...r}}function mT(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function m1(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=m1(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ke(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=m1(e))&&(n&&(n+=" "),n+=t);return n}const mx=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,px=Ke,cv=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return px(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:s}=t,o=Object.keys(i).map(u=>{const d=r==null?void 0:r[u],f=s==null?void 0:s[u];if(d===null)return null;const h=mx(d)||mx(f);return i[u][h]}),c=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),l=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(v=>{let[m,g]=v;return Array.isArray(g)?g.includes({...s,...c}[m]):{...s,...c}[m]===g})?[...u,f,h]:u},[]);return px(e,o,l,r==null?void 0:r.class,r==null?void 0:r.className)},lv="-",pT=e=>{const t=gT(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const c=o.split(lv);return c[0]===""&&c.length!==1&&c.shift(),p1(c,t)||vT(o)},getConflictingClassGroupIds:(o,c)=>{const l=r[o]||[];return c&&n[o]?[...l,...n[o]]:l}}},p1=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),i=n?p1(e.slice(1),n):void 0;if(i)return i;if(t.validators.length===0)return;const s=e.join(lv);return(o=t.validators.find(({validator:c})=>c(s)))==null?void 0:o.classGroupId},vx=/^\[(.+)\]$/,vT=e=>{if(vx.test(e)){const t=vx.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},gT=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return yT(Object.entries(e.classGroups),r).forEach(([s,o])=>{um(o,n,s,t)}),n},um=(e,t,r,n)=>{e.forEach(i=>{if(typeof i=="string"){const s=i===""?t:gx(t,i);s.classGroupId=r;return}if(typeof i=="function"){if(xT(i)){um(i(n),t,r,n);return}t.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([s,o])=>{um(o,gx(t,s),r,n)})})},gx=(e,t)=>{let r=e;return t.split(lv).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},xT=e=>e.isThemeGetter,yT=(e,t)=>t?e.map(([r,n])=>{const i=n.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,c])=>[t+o,c])):s);return[r,i]}):e,bT=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const i=(s,o)=>{r.set(s,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(s){let o=r.get(s);if(o!==void 0)return o;if((o=n.get(s))!==void 0)return i(s,o),o},set(s,o){r.has(s)?r.set(s,o):i(s,o)}}},v1="!",jT=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,i=t[0],s=t.length,o=c=>{const l=[];let u=0,d=0,f;for(let g=0;g<c.length;g++){let b=c[g];if(u===0){if(b===i&&(n||c.slice(g,g+s)===t)){l.push(c.slice(d,g)),d=g+s;continue}if(b==="/"){f=g;continue}}b==="["?u++:b==="]"&&u--}const h=l.length===0?c:c.substring(d),p=h.startsWith(v1),v=p?h.substring(1):h,m=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:v,maybePostfixModifierPosition:m}};return r?c=>r({className:c,parseClassName:o}):o},wT=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},NT=e=>({cache:bT(e.cacheSize),parseClassName:jT(e),...pT(e)}),ST=/\s+/,AT=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=t,s=[],o=e.trim().split(ST);let c="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=r(u);let v=!!p,m=n(v?h.substring(0,p):h);if(!m){if(!v){c=u+(c.length>0?" "+c:c);continue}if(m=n(h),!m){c=u+(c.length>0?" "+c:c);continue}v=!1}const g=wT(d).join(":"),b=f?g+v1:g,y=b+m;if(s.includes(y))continue;s.push(y);const w=i(m,v);for(let A=0;A<w.length;++A){const N=w[A];s.push(b+N)}c=u+(c.length>0?" "+c:c)}return c};function OT(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=g1(t))&&(n&&(n+=" "),n+=r);return n}const g1=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=g1(e[n]))&&(r&&(r+=" "),r+=t);return r};function _T(e,...t){let r,n,i,s=o;function o(l){const u=t.reduce((d,f)=>f(d),e());return r=NT(u),n=r.cache.get,i=r.cache.set,s=c,c(l)}function c(l){const u=n(l);if(u)return u;const d=AT(l,r);return i(l,d),d}return function(){return s(OT.apply(null,arguments))}}const At=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},x1=/^\[(?:([a-z-]+):)?(.+)\]$/i,PT=/^\d+\/\d+$/,kT=new Set(["px","full","screen"]),CT=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,TT=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ET=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,$T=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,DT=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Yn=e=>vs(e)||kT.has(e)||PT.test(e),Sa=e=>co(e,"length",zT),vs=e=>!!e&&!Number.isNaN(Number(e)),ih=e=>co(e,"number",vs),Co=e=>!!e&&Number.isInteger(Number(e)),IT=e=>e.endsWith("%")&&vs(e.slice(0,-1)),Xe=e=>x1.test(e),Aa=e=>CT.test(e),MT=new Set(["length","size","percentage"]),RT=e=>co(e,MT,y1),LT=e=>co(e,"position",y1),FT=new Set(["image","url"]),BT=e=>co(e,FT,WT),VT=e=>co(e,"",UT),To=()=>!0,co=(e,t,r)=>{const n=x1.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},zT=e=>TT.test(e)&&!ET.test(e),y1=()=>!1,UT=e=>$T.test(e),WT=e=>DT.test(e),HT=()=>{const e=At("colors"),t=At("spacing"),r=At("blur"),n=At("brightness"),i=At("borderColor"),s=At("borderRadius"),o=At("borderSpacing"),c=At("borderWidth"),l=At("contrast"),u=At("grayscale"),d=At("hueRotate"),f=At("invert"),h=At("gap"),p=At("gradientColorStops"),v=At("gradientColorStopPositions"),m=At("inset"),g=At("margin"),b=At("opacity"),y=At("padding"),w=At("saturate"),A=At("scale"),N=At("sepia"),j=At("skew"),O=At("space"),S=At("translate"),P=()=>["auto","contain","none"],C=()=>["auto","hidden","clip","visible","scroll"],_=()=>["auto",Xe,t],T=()=>[Xe,t],D=()=>["",Yn,Sa],$=()=>["auto",vs,Xe],k=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],M=()=>["solid","dashed","dotted","double","none"],E=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],U=()=>["start","end","center","between","around","evenly","stretch"],R=()=>["","0",Xe],X=()=>["auto","avoid","all","avoid-page","page","left","right","column"],F=()=>[vs,Xe];return{cacheSize:500,separator:":",theme:{colors:[To],spacing:[Yn,Sa],blur:["none","",Aa,Xe],brightness:F(),borderColor:[e],borderRadius:["none","","full",Aa,Xe],borderSpacing:T(),borderWidth:D(),contrast:F(),grayscale:R(),hueRotate:F(),invert:R(),gap:T(),gradientColorStops:[e],gradientColorStopPositions:[IT,Sa],inset:_(),margin:_(),opacity:F(),padding:T(),saturate:F(),scale:F(),sepia:R(),skew:F(),space:T(),translate:T()},classGroups:{aspect:[{aspect:["auto","square","video",Xe]}],container:["container"],columns:[{columns:[Aa]}],"break-after":[{"break-after":X()}],"break-before":[{"break-before":X()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...k(),Xe]}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Co,Xe]}],basis:[{basis:_()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Xe]}],grow:[{grow:R()}],shrink:[{shrink:R()}],order:[{order:["first","last","none",Co,Xe]}],"grid-cols":[{"grid-cols":[To]}],"col-start-end":[{col:["auto",{span:["full",Co,Xe]},Xe]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[To]}],"row-start-end":[{row:["auto",{span:[Co,Xe]},Xe]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Xe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Xe]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...U()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...U(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...U(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[O]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[O]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Xe,t]}],"min-w":[{"min-w":[Xe,t,"min","max","fit"]}],"max-w":[{"max-w":[Xe,t,"none","full","min","max","fit","prose",{screen:[Aa]},Aa]}],h:[{h:[Xe,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Xe,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Xe,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Xe,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Aa,Sa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ih]}],"font-family":[{font:[To]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Xe]}],"line-clamp":[{"line-clamp":["none",vs,ih]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Yn,Xe]}],"list-image":[{"list-image":["none",Xe]}],"list-style-type":[{list:["none","disc","decimal",Xe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...M(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Yn,Sa]}],"underline-offset":[{"underline-offset":["auto",Yn,Xe]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Xe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Xe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...k(),LT]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",RT]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},BT]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...M(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:M()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...M()]}],"outline-offset":[{"outline-offset":[Yn,Xe]}],"outline-w":[{outline:[Yn,Sa]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Yn,Sa]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Aa,VT]}],"shadow-color":[{shadow:[To]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...E(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":E()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Aa,Xe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Xe]}],duration:[{duration:F()}],ease:[{ease:["linear","in","out","in-out",Xe]}],delay:[{delay:F()}],animate:[{animate:["none","spin","ping","pulse","bounce",Xe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[Co,Xe]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Xe]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Xe]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Xe]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Yn,Sa,ih]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},qT=_T(HT);function Ye(...e){return qT(Ke(e))}const KT=cv("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),q=x.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...i},s)=>{const o=n?lT:"button";return a.jsx(o,{className:Ye(KT({variant:t,size:r,className:e})),ref:s,...i})});q.displayName="Button";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var GT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),_e=(e,t)=>{const r=x.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:c="",children:l,...u},d)=>x.createElement("svg",{ref:d,...GT,width:i,height:i,stroke:n,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${ZT(e)}`,c].join(" "),...u},[...t.map(([f,h])=>x.createElement(f,h)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=_e("Accessibility",[["circle",{cx:"16",cy:"4",r:"1",key:"1grugj"}],["path",{d:"m18 19 1-7-6 1",key:"r0i19z"}],["path",{d:"m5 8 3-3 5.5 3-2.36 3.5",key:"9ptxx2"}],["path",{d:"M4.24 14.5a5 5 0 0 0 6.88 6",key:"10kmtu"}],["path",{d:"M13.76 17.5a5 5 0 0 0-6.88-6",key:"2qq6rc"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=_e("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=_e("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=_e("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=_e("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=_e("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b1=_e("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tu=_e("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eE=_e("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tE=_e("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=_e("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sr=_e("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=_e("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1=_e("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1=_e("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sh=_e("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oh=_e("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rE=_e("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ur=_e("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ru=_e("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=_e("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eo=_e("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=_e("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1=_e("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nE=_e("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1=_e("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yi=_e("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bi=_e("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=_e("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=_e("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=_e("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hu=_e("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=_e("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1=_e("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=_e("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=_e("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pi=_e("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=_e("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _1=_e("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=_e("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=_e("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iE=_e("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=_e("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=_e("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P1=_e("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=_e("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=_e("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ko=_e("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hr=_e("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sE=_e("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lc=_e("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mu=_e("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dm=_e("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oE=_e("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $o=_e("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cE=_e("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pu=_e("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=_e("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2",key:"187lwq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ir=_e("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vu=_e("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=_e("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=_e("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=_e("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uE=_e("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qr=_e("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fl=_e("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dE=_e("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),fE=()=>{const{user:e,logout:t}=oo(),r=Ld(),[n,i]=x.useState(!1),s=o=>r.pathname===o;return a.jsx("header",{className:"border-b bg-[#39653f] text-white",children:a.jsxs("div",{className:"container mx-auto px-4 py-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Tr,{to:"/",className:"flex items-center space-x-2",children:a.jsx("img",{src:"/logo.png",alt:"晶順出國停車場",className:"h-8 w-auto"})}),a.jsxs("nav",{className:"hidden md:flex items-center space-x-6",children:[a.jsx(Tr,{to:"/",className:`text-sm font-medium transition-colors hover:text-white/80 ${s("/")||s("/booking")?"text-white":"text-white/70"}`,children:"線上預約"}),a.jsx(Tr,{to:"/lookup",className:`text-sm font-medium transition-colors hover:text-white/80 ${s("/lookup")?"text-white":"text-white/70"}`,children:"查詢預約"})]}),a.jsx("div",{className:"md:hidden",children:a.jsx(q,{variant:"ghost",size:"sm",className:"text-white hover:bg-white/10",onClick:()=>i(!n),children:n?a.jsx(fl,{className:"h-5 w-5"}):a.jsx(dv,{className:"h-5 w-5"})})}),a.jsx("div",{className:"flex items-center space-x-4",children:e?a.jsxs("div",{className:"flex items-center space-x-4",children:[e.role==="admin"&&a.jsx(Tr,{to:"/admin/dashboard",children:a.jsx(q,{variant:"outline",size:"sm",className:"text-white bg-[#39653f] border-white hover:bg-white/10",children:"Admin Panel"})}),e.role==="staff"&&a.jsx(Tr,{to:"/staff/dashboard",children:a.jsx(q,{variant:"outline",size:"sm",className:"text-white border-white hover:bg-white/10",children:"Staff Panel"})}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(wr,{className:"h-4 w-4 text-white"}),a.jsx("span",{className:"text-sm font-medium text-white",children:e.name}),e.isVIP&&a.jsx("span",{className:"bg-yellow-100 text-yellow-800 text-xs px-2 py-1 rounded-full",children:"VIP"})]}),a.jsx(q,{variant:"ghost",size:"sm",className:"text-white hover:bg-white/10",onClick:t,children:a.jsx(uv,{className:"h-4 w-4"})})]}):a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Tr,{to:"/login",children:a.jsx(q,{variant:"ghost",size:"sm",className:"text-white hover:bg-white/10",children:"登入"})}),a.jsx(Tr,{to:"/register",children:a.jsx(q,{size:"sm",className:"bg-white text-[#39653f] hover:bg-white/90",children:"註冊"})})]})})]}),n&&a.jsx("div",{className:"md:hidden border-t border-white/20 bg-[#39653f]",children:a.jsxs("div",{className:"px-4 py-2 space-y-1",children:[a.jsx(Tr,{to:"/",className:`block px-3 py-2 rounded-md text-sm font-medium transition-colors ${s("/")||s("/booking")?"bg-white/20 text-white":"text-white/70 hover:text-white hover:bg-white/10"}`,onClick:()=>i(!1),children:"線上預約"}),a.jsx(Tr,{to:"/lookup",className:`block px-3 py-2 rounded-md text-sm font-medium transition-colors ${s("/lookup")?"bg-white/20 text-white":"text-white/70 hover:text-white hover:bg-white/10"}`,onClick:()=>i(!1),children:"查詢預約"})]})})]})})},hE=()=>a.jsx("footer",{className:"bg-[#39653f] text-white",children:a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsxs("div",{className:"text-center space-y-6",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("img",{src:"/logo.png",alt:"晶順出國停車場",className:"h-12 w-auto"})}),a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx("p",{className:"text-white/90 leading-relaxed text-lg",children:"晶順出國停車場位於大園區，桃園機場外圍。我們提供多元化的停車服務，包括露天停車場與室內停車場，滿足不同出國的顧客需求。此外，我們還提供24小時免費機場接送服務，確保您從停車場到機場航廈的過程快速、安全、無縫銜接，讓您的旅程從一開始就充滿愉快與便利…"}),a.jsx("div",{className:"mt-4",children:a.jsx("a",{href:"https://jingparking.com/about-us/",target:"_blank",rel:"noopener noreferrer",className:"text-white font-semibold hover:text-white/80 transition-colors",children:"繼續了解我們"})})]})]})})}),mE=()=>a.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[a.jsx(fE,{}),a.jsx("main",{className:"flex-1 container mx-auto px-4 py-8",children:a.jsx(Fd,{})}),a.jsx(hE,{})]}),pE=()=>{const{logout:e,user:t}=oo(),r=Ld(),[n,i]=I.useState(!1),s=()=>{e(),Z.success("登出成功")},c=(()=>{const u=[{path:"/admin",icon:O1,label:"儀表板",exact:!0,roles:["admin","staff"]},{path:"/admin/bookings",icon:Et,label:"預約",exact:!1,roles:["admin","staff"]}],d=[{path:"/admin/users",icon:aa,label:"用戶",exact:!1,roles:["admin"]},{path:"/admin/parking-types",icon:eE,label:"停車場",exact:!1,roles:["admin"]},{path:"/admin/services",icon:ls,label:"附加服務",exact:!1,roles:["admin"]},{path:"/admin/discounts",icon:pu,label:"折扣碼",exact:!1,roles:["admin"]},{path:"/admin/notifications",icon:_1,label:"通知",exact:!1,roles:["admin"]},{path:"/admin/maintenance",icon:uE,label:"維護日期",exact:!1,roles:["admin"]},{path:"/admin/special-pricing",icon:la,label:"特殊價格",exact:!1,roles:["admin"]},{path:"/admin/manual-booking",icon:Wr,label:"手動預約",exact:!1,roles:["admin","staff"]},{path:"/admin/today-overview",icon:Ur,label:"今日概覽",exact:!1,roles:["admin","staff"]},{path:"/admin/settings",icon:lc,label:"系統設定",exact:!1,roles:["admin"]}];return[...u,...d].filter(f=>f.roles.includes((t==null?void 0:t.role)||"user"))})(),l=(u,d=!1)=>d?r.pathname===u:r.pathname.startsWith(u);return a.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[n&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>i(!1)}),a.jsx("aside",{className:`
        fixed inset-y-0 left-0 z-50 w-64 bg-[#39653f] shadow-lg transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0
        ${n?"translate-x-0":"-translate-x-full"}
      `,children:a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/20",children:[a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx("img",{src:"/logo.png",alt:"晶順出國停車場",className:"h-8 w-auto"})}),a.jsx(q,{variant:"ghost",size:"sm",className:"lg:hidden text-white hover:bg-white/10",onClick:()=>i(!1),children:a.jsx(fl,{className:"h-4 w-4"})})]}),a.jsx("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:c.map(u=>{const d=u.icon;return a.jsxs(Tr,{to:u.path,className:`
                    flex items-center space-x-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors
                    ${l(u.path,u.exact)?"bg-white/20 text-white border-r-2 border-white":"text-white/70 hover:bg-white/10 hover:text-white"}
                  `,onClick:()=>i(!1),children:[a.jsx(d,{className:"h-5 w-5"}),a.jsx("span",{children:u.label})]},u.path)})}),a.jsx("div",{className:"p-4 border-t border-white/20",children:a.jsxs(q,{variant:"ghost",className:"w-full justify-start text-white/70 hover:text-white hover:bg-white/10",onClick:s,children:[a.jsx(uv,{className:"h-5 w-5 mr-3"}),"登出"]})})]})}),a.jsxs("div",{className:"flex-1 flex flex-col lg:ml-0",children:[a.jsxs("header",{className:"bg-white shadow-sm border-b px-4 py-3 flex items-center justify-between",children:[a.jsx(q,{variant:"ghost",size:"sm",className:"lg:hidden",onClick:()=>i(!0),children:a.jsx(dv,{className:"h-5 w-5"})}),a.jsx("div",{className:"flex items-center space-x-4",children:a.jsxs("div",{className:"text-sm text-gray-600",children:["Chào mừng, ",(t==null?void 0:t.role)==="admin"?"Admin":"Staff"]})})]}),a.jsx("main",{className:"flex-1 p-6 overflow-auto",children:a.jsx(Fd,{})})]})]})},vE=()=>{const{logout:e}=oo(),t=Ld(),[r,n]=I.useState(!1),i=()=>{e(),Z.success("登出成功")},s=[{path:"/staff",icon:O1,label:"儀表板",exact:!0},{path:"/staff/bookings",icon:Et,label:"預約",exact:!1}],o=(c,l=!1)=>l?t.pathname===c:t.pathname.startsWith(c);return a.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[r&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>n(!1)}),a.jsx("aside",{className:`
        fixed inset-y-0 left-0 z-50 w-64 bg-[#39653f] shadow-lg transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0
        ${r?"translate-x-0":"-translate-x-full"}
      `,children:a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/20",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("img",{src:"/logo.png",alt:"晶順出國停車場",className:"h-8 w-auto"}),a.jsx("span",{className:"text-lg font-semibold text-white",children:"晶順出國停車場"})]}),a.jsx(q,{variant:"ghost",size:"sm",className:"lg:hidden",onClick:()=>n(!1),children:a.jsx(fl,{className:"h-4 w-4"})})]}),a.jsx("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:s.map(c=>{const l=c.icon;return a.jsxs(Tr,{to:c.path,className:`
                    flex items-center space-x-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors
                    ${o(c.path,c.exact)?"bg-white/20 text-white border-r-2 border-white":"text-white/70 hover:bg-white/10 hover:text-white"}
                  `,onClick:()=>n(!1),children:[a.jsx(l,{className:"h-5 w-5"}),a.jsx("span",{children:c.label})]},c.path)})}),a.jsx("div",{className:"p-4 border-t",children:a.jsxs(q,{variant:"ghost",className:"w-full justify-start text-white/70 hover:text-white hover:bg-white/10",onClick:i,children:[a.jsx(uv,{className:"h-5 w-5 mr-3"}),"Đăng xuất"]})})]})}),a.jsxs("div",{className:"flex-1 flex flex-col lg:ml-0",children:[a.jsxs("header",{className:"bg-white shadow-sm border-b px-4 py-3 flex items-center justify-between",children:[a.jsx(q,{variant:"ghost",size:"sm",className:"lg:hidden",onClick:()=>n(!0),children:a.jsx(dv,{className:"h-5 w-5"})}),a.jsx("div",{className:"flex items-center space-x-4",children:a.jsx("div",{className:"text-sm text-gray-600",children:"Chào mừng, Staff"})})]}),a.jsx("main",{className:"flex-1 p-6 overflow-auto",children:a.jsx(Fd,{})})]})]})},ue=x.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:Ye("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));ue.displayName="Card";const ve=x.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:Ye("flex flex-col space-y-1.5 p-6",e),...t}));ve.displayName="CardHeader";const ge=x.forwardRef(({className:e,...t},r)=>a.jsx("h3",{ref:r,className:Ye("text-2xl font-semibold leading-none tracking-tight",e),...t}));ge.displayName="CardTitle";const Qe=x.forwardRef(({className:e,...t},r)=>a.jsx("p",{ref:r,className:Ye("text-sm text-muted-foreground",e),...t}));Qe.displayName="CardDescription";const de=x.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:Ye("p-6 pt-0",e),...t}));de.displayName="CardContent";const gE=x.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:Ye("flex items-center p-6 pt-0",e),...t}));gE.displayName="CardFooter";const ce=x.forwardRef(({className:e,type:t,...r},n)=>a.jsx("input",{type:t,className:Ye("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));ce.displayName="Input";const Or=e=>{const t=new Date(e),r=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),i=String(t.getDate()).padStart(2,"0");return`${r}/${n}/${i}`},Go=e=>{const t=new Date(e),r=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),i=String(t.getDate()).padStart(2,"0"),s=t.getDay();return`${r}/${n}/${i} (星期${["天","一","二","三","四","五","六"][s]})`},ir=e=>{const t=new Date(e),r=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),i=String(t.getDate()).padStart(2,"0"),s=String(t.getHours()).padStart(2,"0"),o=String(t.getMinutes()).padStart(2,"0");return`${r}/${n}/${i} ${s}:${o}`},Do=(e,t)=>{const r=Or(e),n=Or(t);return r===n?r:`${r} - ${n}`},bs=e=>new Date(e).toISOString().slice(0,16),js=e=>new Date(e).toISOString().split("T")[0],k1=e=>e?new Date(e).toISOString():"",C1=e=>{if(!e)return"";const[t,r,n]=e.split("-").map(Number);return new Date(Date.UTC(t,r-1,n)).toISOString()},bx=({id:e,value:t,onChange:r,min:n,max:i,className:s="",placeholder:o,type:c="datetime-local"})=>{const[l,u]=x.useState(!1),[d,f]=x.useState(""),[h,p]=x.useState(""),v=x.useRef(null),m=x.useRef(null);x.useEffect(()=>{f(t?c==="datetime-local"?ir(t):Or(t):"")},[t,c]),x.useEffect(()=>{const j=O=>{m.current&&!m.current.contains(O.target)&&v.current&&!v.current.contains(O.target)&&u(!1)};return document.addEventListener("mousedown",j),()=>document.removeEventListener("mousedown",j)},[]);const g=()=>{u(!0),p(t)},b=j=>{const O=j.target.value;if(f(O),O.includes("/"))try{const S=O.split(" "),P=S[0],C=S[1]||(c==="datetime-local"?"00:00":"");if(P.includes("/")){const[_,T,D]=P.split("/");if(_&&T&&D){let $;if(c==="datetime-local"){const[k,M]=C.split(":");$=new Date(parseInt(_),parseInt(T)-1,parseInt(D),parseInt(k||"0"),parseInt(M||"0")).toISOString()}else $=new Date(parseInt(_),parseInt(T)-1,parseInt(D)).toISOString();isNaN(new Date($).getTime())||r($)}}}catch(S){console.error("Error parsing date:",S)}},y=j=>{const O=j.target.value;if(c==="datetime-local"){const S=k1(O);r(S)}else{const S=C1(O);r(S)}u(!1)},w=()=>h?c==="datetime-local"?bs(h):js(h):"",A=()=>{if(n)return c==="datetime-local"?bs(n):js(n)},N=()=>{if(i)return c==="datetime-local"?bs(i):js(i)};return a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:"relative",children:[a.jsx(ce,{ref:v,id:e,type:"text",value:d,onChange:b,onClick:g,placeholder:o||(c==="datetime-local"?"yyyy/mm/dd hh:mm":"yyyy/mm/dd"),className:s,style:{fontFamily:"monospace",cursor:"pointer"}}),a.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:c==="datetime-local"?a.jsx(Ur,{className:"h-4 w-4 text-gray-400"}):a.jsx(Et,{className:"h-4 w-4 text-gray-400"})})]}),l&&a.jsx("div",{ref:m,className:"absolute top-full left-0 z-50 mt-1 bg-white border border-gray-300 rounded-md shadow-lg p-4 min-w-[300px]",children:a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"text-sm font-medium text-gray-700",children:c==="datetime-local"?"選擇日期和時間":"選擇日期"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-xs text-gray-600",children:"使用原生選擇器:"}),a.jsx("input",{type:c,value:w(),onChange:y,min:A(),max:N(),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-xs text-gray-600",children:"或直接輸入 (yyyy/mm/dd):"}),a.jsx("input",{type:"text",value:d,onChange:b,placeholder:c==="datetime-local"?"yyyy/mm/dd hh:mm":"yyyy/mm/dd",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono"})]}),a.jsxs("div",{className:"flex justify-end space-x-2 pt-2",children:[a.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-3 py-1 text-sm text-gray-600 hover:text-gray-800",children:"取消"}),a.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700",children:"完成"})]})]})})]})};function jx(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function T1(...e){return t=>{let r=!1;const n=e.map(i=>{const s=jx(i,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<n.length;i++){const s=n[i];typeof s=="function"?s():jx(e[i],null)}}}}function xE(...e){return x.useCallback(T1(...e),e)}var E1=x.forwardRef((e,t)=>{const{children:r,...n}=e,i=x.Children.toArray(r),s=i.find(bE);if(s){const o=s.props.children,c=i.map(l=>l===s?x.Children.count(o)>1?x.Children.only(null):x.isValidElement(o)?o.props.children:null:l);return a.jsx(fm,{...n,ref:t,children:x.isValidElement(o)?x.cloneElement(o,void 0,c):null})}return a.jsx(fm,{...n,ref:t,children:r})});E1.displayName="Slot";var fm=x.forwardRef((e,t)=>{const{children:r,...n}=e;if(x.isValidElement(r)){const i=wE(r),s=jE(n,r.props);return r.type!==x.Fragment&&(s.ref=t?T1(t,i):i),x.cloneElement(r,s)}return x.Children.count(r)>1?x.Children.only(null):null});fm.displayName="SlotClone";var yE=({children:e})=>a.jsx(a.Fragment,{children:e});function bE(e){return x.isValidElement(e)&&e.type===yE}function jE(e,t){const r={...t};for(const n in t){const i=e[n],s=t[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...c)=>{s(...c),i(...c)}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...e,...r}}function wE(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var NE=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],hv=NE.reduce((e,t)=>{const r=x.forwardRef((n,i)=>{const{asChild:s,...o}=n,c=s?E1:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...o,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),SE="Label",$1=x.forwardRef((e,t)=>a.jsx(hv.label,{...e,ref:t,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));$1.displayName=SE;var D1=$1;const AE=cv("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),K=x.forwardRef(({className:e,...t},r)=>a.jsx(D1,{ref:r,className:Ye(AE(),e),...t}));K.displayName=D1.displayName;const OE=cv("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Me({className:e,variant:t,...r}){return a.jsx("div",{className:Ye(OE({variant:t}),e),...r})}function wx(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function _E(...e){return t=>{let r=!1;const n=e.map(i=>{const s=wx(i,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<n.length;i++){const s=n[i];typeof s=="function"?s():wx(e[i],null)}}}}function mv(...e){return x.useCallback(_E(...e),e)}function PE(e,t=[]){let r=[];function n(s,o){const c=x.createContext(o),l=r.length;r=[...r,o];const u=f=>{var b;const{scope:h,children:p,...v}=f,m=((b=h==null?void 0:h[e])==null?void 0:b[l])||c,g=x.useMemo(()=>v,Object.values(v));return a.jsx(m.Provider,{value:g,children:p})};u.displayName=s+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[l])||c,v=x.useContext(p);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=r.map(o=>x.createContext(o));return function(c){const l=(c==null?void 0:c[e])||s;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:l}}),[c,l])}};return i.scopeName=e,[n,kE(i,...t)]}function kE(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=n.reduce((c,{useScope:l,scopeName:u})=>{const f=l(s)[`__scope${u}`];return{...c,...f}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function Nx(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e==null||e(i),r===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}var gu=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},CE=Wi[" useInsertionEffect ".trim().toString()]||gu;function TE({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[i,s,o]=EE({defaultProp:t,onChange:r}),c=e!==void 0,l=c?e:i;{const d=x.useRef(e!==void 0);x.useEffect(()=>{const f=d.current;f!==c&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=c},[c,n])}const u=x.useCallback(d=>{var f;if(c){const h=$E(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else s(d)},[c,e,s,o]);return[l,u]}function EE({defaultProp:e,onChange:t}){const[r,n]=x.useState(e),i=x.useRef(r),s=x.useRef(t);return CE(()=>{s.current=t},[t]),x.useEffect(()=>{var o;i.current!==r&&((o=s.current)==null||o.call(s,r),i.current=r)},[r,i]),[r,n,s]}function $E(e){return typeof e=="function"}function DE(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function IE(e){const[t,r]=x.useState(void 0);return gu(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,c;if("borderBoxSize"in s){const l=s.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,c=u.blockSize}else o=e.offsetWidth,c=e.offsetHeight;r({width:o,height:c})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}function ME(e,t){return x.useReducer((r,n)=>t[r][n]??r,e)}var I1=e=>{const{present:t,children:r}=e,n=RE(t),i=typeof r=="function"?r({present:n.isPresent}):x.Children.only(r),s=mv(n.ref,LE(i));return typeof r=="function"||n.isPresent?x.cloneElement(i,{ref:s}):null};I1.displayName="Presence";function RE(e){const[t,r]=x.useState(),n=x.useRef(null),i=x.useRef(e),s=x.useRef("none"),o=e?"mounted":"unmounted",[c,l]=ME(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const u=Pl(n.current);s.current=c==="mounted"?u:"none"},[c]),gu(()=>{const u=n.current,d=i.current;if(d!==e){const h=s.current,p=Pl(u);e?l("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,l]),gu(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const m=Pl(n.current).includes(p.animationName);if(p.target===t&&m&&(l("ANIMATION_END"),!i.current)){const g=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=g)})}},h=p=>{p.target===t&&(s.current=Pl(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:x.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Pl(e){return(e==null?void 0:e.animationName)||"none"}function LE(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var FE=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],pv=FE.reduce((e,t)=>{const r=en(`Primitive.${t}`),n=x.forwardRef((i,s)=>{const{asChild:o,...c}=i,l=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(l,{...c,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),Xd="Checkbox",[BE,Tce]=PE(Xd),[VE,vv]=BE(Xd);function zE(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:i,disabled:s,form:o,name:c,onCheckedChange:l,required:u,value:d="on",internal_do_not_use_render:f}=e,[h,p]=TE({prop:r,defaultProp:i??!1,onChange:l,caller:Xd}),[v,m]=x.useState(null),[g,b]=x.useState(null),y=x.useRef(!1),w=v?!!o||!!v.closest("form"):!0,A={checked:h,disabled:s,setChecked:p,control:v,setControl:m,name:c,form:o,value:d,hasConsumerStoppedPropagationRef:y,required:u,defaultChecked:Ma(i)?!1:i,isFormControl:w,bubbleInput:g,setBubbleInput:b};return a.jsx(VE,{scope:t,...A,children:UE(f)?f(A):n})}var M1="CheckboxTrigger",R1=x.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},i)=>{const{control:s,value:o,disabled:c,checked:l,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:p,bubbleInput:v}=vv(M1,e),m=mv(i,d),g=x.useRef(l);return x.useEffect(()=>{const b=s==null?void 0:s.form;if(b){const y=()=>f(g.current);return b.addEventListener("reset",y),()=>b.removeEventListener("reset",y)}},[s,f]),a.jsx(pv.button,{type:"button",role:"checkbox","aria-checked":Ma(l)?"mixed":l,"aria-required":u,"data-state":z1(l),"data-disabled":c?"":void 0,disabled:c,value:o,...n,ref:m,onKeyDown:Nx(t,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:Nx(r,b=>{f(y=>Ma(y)?!0:!y),v&&p&&(h.current=b.isPropagationStopped(),h.current||b.stopPropagation())})})});R1.displayName=M1;var gv=x.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:i,defaultChecked:s,required:o,disabled:c,value:l,onCheckedChange:u,form:d,...f}=e;return a.jsx(zE,{__scopeCheckbox:r,checked:i,defaultChecked:s,disabled:c,required:o,onCheckedChange:u,name:n,form:d,value:l,internal_do_not_use_render:({isFormControl:h})=>a.jsxs(a.Fragment,{children:[a.jsx(R1,{...f,ref:t,__scopeCheckbox:r}),h&&a.jsx(V1,{__scopeCheckbox:r})]})})});gv.displayName=Xd;var L1="CheckboxIndicator",F1=x.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...i}=e,s=vv(L1,r);return a.jsx(I1,{present:n||Ma(s.checked)||s.checked===!0,children:a.jsx(pv.span,{"data-state":z1(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});F1.displayName=L1;var B1="CheckboxBubbleInput",V1=x.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:i,checked:s,defaultChecked:o,required:c,disabled:l,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:p}=vv(B1,e),v=mv(r,p),m=DE(s),g=IE(n);x.useEffect(()=>{const y=h;if(!y)return;const w=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(w,"checked").set,j=!i.current;if(m!==s&&N){const O=new Event("click",{bubbles:j});y.indeterminate=Ma(s),N.call(y,Ma(s)?!1:s),y.dispatchEvent(O)}},[h,m,s,i]);const b=x.useRef(Ma(s)?!1:s);return a.jsx(pv.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??b.current,required:c,disabled:l,name:u,value:d,form:f,...t,tabIndex:-1,ref:v,style:{...t.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});V1.displayName=B1;function UE(e){return typeof e=="function"}function Ma(e){return e==="indeterminate"}function z1(e){return Ma(e)?"indeterminate":e?"checked":"unchecked"}const $a=x.forwardRef(({className:e,...t},r)=>a.jsx(gv,{ref:r,className:Ye("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:a.jsx(F1,{className:Ye("flex items-center justify-center text-current"),children:a.jsx(j1,{className:"h-4 w-4"})})}));$a.displayName=gv.displayName;const tr=x.forwardRef(({className:e,...t},r)=>a.jsx("textarea",{className:Ye("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...t}));tr.displayName="Textarea";var WE=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],HE=WE.reduce((e,t)=>{const r=en(`Primitive.${t}`),n=x.forwardRef((i,s)=>{const{asChild:o,...c}=i,l=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(l,{...c,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),qE="Separator",Sx="horizontal",KE=["horizontal","vertical"],U1=x.forwardRef((e,t)=>{const{decorative:r,orientation:n=Sx,...i}=e,s=GE(n)?n:Sx,c=r?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return a.jsx(HE.div,{"data-orientation":s,...c,...i,ref:t})});U1.displayName=qE;function GE(e){return KE.includes(e)}var W1=U1;const di=x.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},i)=>a.jsx(W1,{ref:i,decorative:r,orientation:t,className:Ye("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));di.displayName=W1.displayName;const ZE=async e=>(await we.post("/bookings/calculate-price",e)).data,XE=async e=>(await we.post("/bookings",e)).data,YE=async(e,t)=>{const r={};return e&&(r.phone=e),t&&(r.licensePlate=t),(await we.get("/bookings/search",{params:r})).data.bookings},JE=async e=>(await we.get(`/bookings/${e}`)).data.booking,QE=async()=>(await we.get("/parking")).data.parkingTypes,e$=async()=>(await we.get("/addon-services")).data.services,t$=async()=>(await we.get("/admin/dashboard")).data,r$=async e=>(await we.get(`/admin/bookings/stats/${e}`)).data,n$=async()=>(await we.get("/admin/parking-types/stats")).data.parkingTypes,a$=async()=>(await we.get("/admin/parking/current-status")).data,i$=async e=>(await we.get("/admin/bookings",{params:e})).data,s$=async(e,t)=>(await we.patch(`/admin/bookings/${e}/status`,{status:t})).data,o$=async e=>(await we.get("/admin/users",{params:e})).data,Ax=async(e,t,r)=>{console.log("🔍 Frontend VIP Update Request:",{userId:e,isVIP:t,vipDiscount:r,url:`/admin/users/${e}/vip`,data:{isVIP:t,vipDiscount:r}});const n=await we.patch(`/admin/users/${e}/vip`,{isVIP:t,vipDiscount:r});return console.log("🔍 Frontend VIP Update Response:",n.data),n.data},Ox=async(e,t)=>(await we.put(`/admin/users/${e}`,t)).data,c$=async e=>{try{return(await we.get(`/admin/users/${e}/stats`)).data}catch(t){throw console.error("Error getting user stats:",t),t}},l$=async e=>(await we.post("/admin/users",e)).data,u$=async e=>(await we.delete(`/admin/users/${e}`)).data,Yd=async()=>(await we.get("/admin/parking-types")).data,d$=async e=>(await we.post("/admin/parking-types",e)).data,f$=async(e,t)=>(await we.put(`/admin/parking-types/${e}`,t)).data,h$=async e=>(await we.delete(`/admin/parking-types/${e}`)).data,H1=async e=>(await we.get("/admin/addon-services",{params:e})).data,m$=async e=>(await we.post("/admin/addon-services",e)).data,p$=async(e,t)=>(await we.put(`/admin/addon-services/${e}`,t)).data,v$=async e=>(await we.delete(`/admin/addon-services/${e}`)).data,g$=async e=>(await we.get("/admin/discount-codes",{params:e})).data,x$=async e=>(await we.post("/admin/discount-codes",e)).data,y$=async(e,t)=>(await we.put(`/admin/discount-codes/${e}`,t)).data,b$=async e=>(await we.delete(`/admin/discount-codes/${e}`)).data,j$=async e=>(await we.post("/admin/bookings/manual",e)).data,w$=async()=>(await we.get("/admin/terms")).data,_x=async(e,t)=>(await we.put(`/admin/terms/${e}`,t)).data,N$=async e=>(await we.post("/admin/terms/save-all",e)).data,S$=async e=>(await we.get("/admin/notification-templates",{params:e})).data,A$=async e=>(await we.post("/admin/notification-templates",e)).data,O$=async(e,t)=>(await we.put(`/admin/notification-templates/${e}`,t)).data,_$=async e=>(await we.delete(`/admin/notification-templates/${e}`)).data,P$=async e=>(await we.post("/admin/notifications/test",e)).data,k$=async e=>(await we.post("/admin/notifications/bulk",e)).data,C$=async()=>(await we.get("/admin/notifications/stats")).data,T$=async(e,t)=>(await we.post(`/admin/parking-types/${e}/special-prices`,t)).data,Px=async(e,t,r)=>(await we.post(`/admin/parking-types/${e}/special-prices/bulk`,{specialPrices:t,forceOverride:r})).data,kx=async(e,t,r)=>(await we.put(`/admin/parking-types/${e}/special-prices/${t}`,r)).data,Cx=async(e,t)=>(await we.delete(`/admin/parking-types/${e}/special-prices/${t}`)).data,E$=async e=>(await we.get(`/admin/parking-types/${e}/special-prices`)).data,$$=async()=>(await we.get("/bookings/today/summary")).data,xv=async()=>(await we.get("/system-settings")).data.settings,D$=async e=>(await we.put("/admin/settings",e)).data,I$=async e=>(await we.put("/admin/settings",e)).data,M$=async e=>(await we.get("/maintenance",{params:e})).data,R$=async e=>(await we.post("/maintenance",e)).data,L$=async(e,t)=>(await we.put(`/maintenance/${e}`,t)).data,F$=async e=>(await we.delete(`/maintenance/${e}`)).data,q1=async(e,t,r)=>{try{const s=((await we.get(`/maintenance/check/range?startDate=${t}&endDate=${r}`)).data.maintenanceDays||[]).filter(o=>{const c=o.isActive,l=o.affectedParkingTypes.some(d=>d._id===e),u=new Date(o.date)>=new Date(t)&&new Date(o.date)<=new Date(r);return c&&l&&u});return{hasMaintenance:s.length>0,maintenanceDays:s}}catch(n){return console.error("Error checking maintenance:",n),{hasMaintenance:!1,maintenanceDays:[]}}},Tx=()=>{var Ce;const e=Bd(),[t,r]=x.useState(1),[n,i]=x.useState(!1),[s,o]=x.useState(null);console.log(s,"systemSettings");const[c,l]=x.useState([]),[u,d]=x.useState([]),[f,h]=x.useState([]);console.log(f,"availableSlots");const[p,v]=x.useState(null),[m,g]=x.useState(null),[b,y]=x.useState(!1),[w,A]=x.useState(null),[N,j]=x.useState(null),[O,S]=x.useState(!1),[P,C]=x.useState(""),[_,T]=x.useState(!1),[D,$]=x.useState([]);console.log(D,"conflictingDays");const[k,M]=x.useState(""),[E,U]=x.useState(""),[R,X]=x.useState([]),[F,ie]=x.useState({agreedToTerms:!1,parkingTypeId:"",checkInTime:"",checkOutTime:"",selectedAddonServices:[],discountCode:"",driverName:"",phone:"",email:"",licensePlate:"",passengerCount:1,luggageCount:0,termsAccepted:!1}),[V,H]=x.useState(!1),[fe,Le]=x.useState(null),[me,Pe]=x.useState(3);x.useEffect(()=>{le()},[]);const le=async()=>{try{i(!0),j(null);const[J,Ee,Q]=await Promise.all([xv(),QE(),e$()]);o(J),console.log(J,"types"),l(Array.isArray(Ee)?Ee:[]),d(Array.isArray(Q)?Q:[]),M((J==null?void 0:J.bookingTerms)||""),U((J==null?void 0:J.bookingRules)||""),Pe((J==null?void 0:J.minBookingDays)||3);const oe=JSON.parse(localStorage.getItem("user")||"{}");y(oe.isVIP||!1)}catch(J){console.error("Error loading initial data:",J),j("無法載入系統資料"),Z.error("無法載入系統資料"),l([]),d([])}finally{i(!1)}};x.useEffect(()=>{F.parkingTypeId&&F.checkInTime&&F.checkOutTime?(ye(),xe(),te()):(h([]),v(null),$([]),X([]),H(!1),Le(null))},[F.parkingTypeId,F.checkInTime,F.checkOutTime]),x.useEffect(()=>{const J=setTimeout(()=>{F.email&&Te(F.email)},1e3);return()=>clearTimeout(J)},[F.email]);const ye=async()=>{try{const Ee=(await we.post("/bookings/check-availability",{parkingTypeId:F.parkingTypeId,checkInTime:F.checkInTime,checkOutTime:F.checkOutTime})).data;if(Ee.success)h(Ee.availableSlots),v(Ee.pricing),$([]);else{h([]),v(null);const Q=await Ve();$(Q),Z.error(Ee.message||"停車場在此時間段已滿")}}catch(J){console.error("Error checking availability:",J),Z.error("檢查可用性時發生錯誤")}},xe=async()=>{if(!(!F.parkingTypeId||!F.checkInTime||!F.checkOutTime))try{const J=await q1(F.parkingTypeId,F.checkInTime,F.checkOutTime);X(J.maintenanceDays),J.hasMaintenance&&Z.error("此停車場在選定時間內正在維護")}catch(J){console.error("Error checking maintenance:",J)}},te=async()=>{if(!(!F.checkInTime||!F.checkOutTime||!F.parkingTypeId))try{const J=new Date(F.checkInTime),Ee=new Date(F.checkOutTime),Q=new Date(J),oe=[],Be=[];for(;Q<=Ee;){const B=Q.toISOString().split("T")[0];try{(await we.post("/bookings/check-availability",{parkingTypeId:F.parkingTypeId,checkInTime:`${B}T00:00:00.000Z`,checkOutTime:`${B}T23:59:59.999Z`})).data.success?Be.push({date:B,formattedDate:Go(Q)}):oe.push({date:B,formattedDate:Go(Q)})}catch(ae){console.error("Error checking day availability:",ae),oe.push({date:B,formattedDate:Go(Q)})}Q.setDate(Q.getDate()+1)}oe.length>0?(H(!0),Le({conflictingDates:oe,availableDates:Be,totalDays:Math.ceil((Ee.getTime()-J.getTime())/(1e3*60*60*24))+1,conflictingDays:oe.length,availableDays:Be.length})):(H(!1),Le(null))}catch(J){console.error("Error checking date range availability:",J)}},Ve=async()=>{if(!F.checkInTime||!F.checkOutTime)return[];const J=[],Ee=new Date(F.checkInTime),Q=new Date(F.checkOutTime),oe=new Date(Ee);for(;oe<=Q;){const Be=oe.toISOString().split("T")[0];try{(await we.post("/bookings/check-availability",{parkingTypeId:F.parkingTypeId,checkInTime:`${Be}T00:00:00.000Z`,checkOutTime:`${Be}T23:59:59.999Z`})).data.success||J.push(Be)}catch(B){console.error("Error checking day availability:",B),J.push(Be)}oe.setDate(oe.getDate()+1)}return J},Te=async J=>{if(!(!J||!J.includes("@")))try{const Ee=JSON.parse(localStorage.getItem("user")||"{}");if(Ee.email===J&&Ee.isVIP){A(Ee),y(!0),Z.success(`🎉 歡迎VIP會員！您享有${Ee.vipDiscount||0}%折扣！`);return}const Q=await c1(J);Q.success&&Q.user&&Q.user.isVIP?(A(Q.user),y(!0),Z.success(`🎉 歡迎VIP會員！您享有${Q.user.vipDiscount||0}%折扣！`)):(A(null),y(!1))}catch(Ee){console.error("Error checking VIP status:",Ee),A(null),y(!1)}},et=async()=>{if(!P.trim()){Z.error("請輸入VIP碼");return}T(!0);try{const J=await mC(P.trim());J.success&&J.user&&J.user.isVIP?(A(J.user),y(!0),S(!1),C(""),ie(Ee=>({...Ee,driverName:J.user.name,email:J.user.email,phone:J.user.phone,licensePlate:J.user.licensePlate||""})),Z.success(`🎉 歡迎VIP會員！您享有${J.user.vipDiscount||0}%折扣！`)):(Z.error(J.message||"VIP碼無效"),A(null),y(!1))}catch(J){console.error("Error checking VIP code:",J),Z.error("檢查VIP碼時發生錯誤"),A(null),y(!1)}finally{T(!1)}},rt=async()=>{var J,Ee,Q,oe;if(!((J=F.discountCode)!=null&&J.trim())){Z.error("請輸入折扣碼");return}if(!F.parkingTypeId||!F.checkInTime||!F.checkOutTime){Z.error("請在應用折扣碼之前選擇停車場和時間");return}try{const Be=JSON.parse(localStorage.getItem("user")||"{}"),ae=(await we.post("/bookings/apply-discount",{discountCode:F.discountCode,parkingTypeId:F.parkingTypeId,checkInTime:F.checkInTime,checkOutTime:F.checkOutTime,addonServices:F.selectedAddonServices,isVIP:b,userEmail:F.email||Be.email})).data;ae.success?(g(ae.discountInfo),Z.success("折扣碼應用成功！")):(Z.error(ae.message||"折扣碼無效"),g(null))}catch(Be){if(console.error("Error applying discount:",Be),((Ee=Be.response)==null?void 0:Ee.status)===401)Z.error("請登入以使用折扣碼");else{const B=((oe=(Q=Be.response)==null?void 0:Q.data)==null?void 0:oe.message)||Be.message||"無法應用折扣碼";Z.error(B)}g(null)}},st=async()=>{var J,Ee,Q,oe,Be,B,ae;if(!F.termsAccepted){Z.error("您必須同意條款");return}if(!F.parkingTypeId){Z.error("請選擇停車場類型");return}if(!F.checkInTime||!F.checkOutTime){Z.error("請選擇預約時間");return}if(F.checkInTime&&F.checkOutTime){const Fe=new Date(F.checkInTime),$e=new Date(F.checkOutTime),Ut=Math.abs($e.getTime()-Fe.getTime()),St=Math.ceil(Ut/(1e3*60*60*24));if(St<me){Z.error(`最少需要預約 ${me} 天，您選擇了 ${St} 天`);return}}if(!F.driverName||!F.phone||!F.email||!F.licensePlate){Z.error("請填寫完整的個人資料");return}try{i(!0);const Fe={parkingTypeId:F.parkingTypeId,checkInTime:F.checkInTime,checkOutTime:F.checkOutTime,driverName:F.driverName,phone:F.phone,email:F.email,licensePlate:F.licensePlate,passengerCount:F.passengerCount,luggageCount:F.luggageCount,addonServices:F.selectedAddonServices,discountCode:F.discountCode,termsAccepted:F.termsAccepted},$e=await XE(Fe);console.log("Booking result:",$e);const Ut={bookingId:$e.booking._id,bookingNumber:$e.booking.bookingNumber||`BK${$e.booking._id.slice(-6).toUpperCase()}`,parkingType:{name:((J=$e.booking.parkingType)==null?void 0:J.name)||"Unknown",type:((Ee=$e.booking.parkingType)==null?void 0:Ee.type)||"indoor",location:((Q=$e.booking.parkingType)==null?void 0:Q.location)||""},driverName:$e.booking.driverName,phone:$e.booking.phone,email:$e.booking.email,licensePlate:$e.booking.licensePlate,checkInTime:$e.booking.checkInTime,checkOutTime:$e.booking.checkOutTime,durationDays:$e.booking.durationDays||1,totalAmount:$e.booking.totalAmount,isVIP:$e.booking.isVIP,vipDiscount:$e.booking.vipDiscount,finalAmount:$e.booking.finalAmount,addonServices:((oe=$e.booking.addonServices)==null?void 0:oe.map(St=>{var Yt,nr,Lt;return{name:((Yt=St.service)==null?void 0:Yt.name)||"Unknown Service",price:((nr=St.service)==null?void 0:nr.price)||0,icon:((Lt=St.service)==null?void 0:Lt.icon)||"🔧"}}))||[],discountAmount:$e.booking.discountAmount||0,paymentMethod:$e.booking.paymentMethod||"cash",status:$e.booking.status};e("/booking-confirmation",{state:{bookingData:Ut,pricing:p,discountInfo:m}})}catch(Fe){if(console.error("Error creating booking:",Fe),((Be=Fe.response)==null?void 0:Be.status)===401)Z.error("請登入以創建預約");else{const $e=((ae=(B=Fe.response)==null?void 0:B.data)==null?void 0:ae.message)||Fe.message||"無法創建預約";Z.error($e)}}finally{i(!1)}},L=J=>J.icon?J.icon:{indoor:"🏢",outdoor:"☀️",disabled:"♿"}[J.type]||"🚗",G=J=>{const Ee={indoor:{label:"室內",color:"bg-blue-100 text-blue-800 border-blue-200"},outdoor:{label:"戶外",color:"bg-green-100 text-green-800 border-green-200"},disabled:{label:"無障礙",color:"bg-orange-100 text-orange-800 border-orange-200"}},Q=Ee[J]||Ee.indoor;return a.jsx(Me,{variant:"outline",className:Q.color,children:Q.label})},Y=J=>J==null?"0 TWD":J.toLocaleString("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0,maximumFractionDigits:0}),z=J=>J==null?"":typeof J=="string"?J:typeof J=="number"?J.toString():typeof J=="object"?(console.warn("Attempting to render object as text:",J),"[Object]"):String(J),re=[{id:1,title:"條款",icon:a.jsx(bi,{className:"h-4 w-4"})},{id:2,title:"選擇停車場",icon:a.jsx(Pi,{className:"h-4 w-4"})},{id:3,title:"服務",icon:a.jsx(dm,{className:"h-4 w-4"})},{id:4,title:"個人資料",icon:a.jsx(wr,{className:"h-4 w-4"})}],se=()=>{var J,Ee;switch(t){case 1:return a.jsx("div",{className:"space-y-6",children:a.jsxs(ue,{className:"border-0 shadow-lg",children:[a.jsx(ve,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-b",children:a.jsxs(ge,{className:"flex items-center space-x-3 text-blue-900",children:[a.jsx(mu,{className:"h-6 w-6 text-blue-600"}),a.jsx("span",{children:"條款和規定"})]})}),a.jsxs(de,{className:"p-6 space-y-6",children:[a.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:"請在預約停車位之前仔細閱讀規定和條款。"}),a.jsxs("div",{className:"space-y-6",children:[k&&a.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[a.jsxs("h4",{className:"font-semibold mb-3 text-blue-800 flex items-center",children:[a.jsx(bi,{className:"h-4 w-4 mr-2"}),"預約條款"]}),a.jsx("div",{className:"whitespace-pre-line text-sm leading-relaxed text-gray-700",children:k})]}),E&&a.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[a.jsxs("h4",{className:"font-semibold mb-3 text-green-800 flex items-center",children:[a.jsx(mu,{className:"h-4 w-4 mr-2"}),"預約規定"]}),a.jsx("div",{className:"whitespace-pre-line text-sm leading-relaxed text-gray-700",children:E})]}),!k&&!E&&a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold mb-3 text-blue-800",children:"一般規定"}),a.jsxs("div",{className:"space-y-3 text-sm text-gray-700",children:[a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("span",{className:"font-bold text-blue-600",children:"1."}),a.jsx("span",{children:"客戶必須按預約時間準時到達。"})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("span",{className:"font-bold text-blue-600",children:"2."}),a.jsx("span",{children:"不得超過預約時間停放車輛。"})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("span",{className:"font-bold text-blue-600",children:"3."}),a.jsx("span",{children:"遵守停車場安全規定。"})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("span",{className:"font-bold text-blue-600",children:"4."}),a.jsx("span",{children:"客戶對車內財物負責。"})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("span",{className:"font-bold text-blue-600",children:"5."}),a.jsx("span",{children:"停車場對天災造成的損害不承擔責任。"})]})]})]})})]}),a.jsx("div",{className:"border-t pt-6",children:a.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-gray-50 rounded-lg",children:[a.jsx($a,{id:"agreedToTerms",checked:F.agreedToTerms,onCheckedChange:Q=>ie(oe=>({...oe,agreedToTerms:!!Q}))}),a.jsx(K,{htmlFor:"agreedToTerms",className:"text-sm font-medium",children:"我已閱讀並同意上述條款"})]})})]})]})});case 2:return a.jsx("div",{className:"space-y-6",children:a.jsxs(ue,{className:"border-0 shadow-lg",children:[a.jsx(ve,{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-b",children:a.jsxs(ge,{className:"flex items-center space-x-3 text-green-900",children:[a.jsx(Pi,{className:"h-6 w-6 text-green-600"}),a.jsx("span",{children:"選擇停車場類型和時間"})]})}),a.jsxs(de,{className:"p-6 space-y-8",children:[a.jsxs("div",{children:[a.jsx(K,{className:"text-lg font-semibold text-gray-800 mb-4 block",children:"停車場類型"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:(c||[]).filter(Q=>Q.isActive).map(Q=>{const oe=F.parkingTypeId===Q._id,Be=R.some(B=>B.affectedParkingTypes.some(ae=>ae._id===Q._id));return a.jsx(ue,{className:`transition-all duration-300 ${Be?"opacity-50 cursor-not-allowed bg-gray-100 border-gray-300":oe?"cursor-pointer border-2 border-blue-500 bg-gradient-to-br from-blue-50 to-indigo-50 shadow-lg hover:shadow-xl hover:scale-105":"cursor-pointer border-gray-200 hover:border-blue-300 hover:shadow-xl hover:scale-105"}`,onClick:()=>{Be||(ie(B=>({...B,parkingTypeId:Q._id})),Z.success(`已選擇停車場: ${Q.name}`))},children:a.jsxs(de,{className:"p-6",children:[a.jsx("div",{className:"flex items-start justify-between mb-4",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"text-3xl",children:L(Q)}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-lg text-gray-900",children:Q.name}),a.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[G(Q.type||"indoor"),Be&&a.jsx(Me,{variant:"destructive",className:"bg-red-100 text-red-800 border-red-200",children:"🔧 維護中"})]})]})]})}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"容量:"}),a.jsxs("span",{className:"font-medium text-gray-900",children:[Q.totalSpaces," 位"]})]}),Q.description&&a.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:z(Q.description)}),a.jsx("div",{className:"pt-3 border-t",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:Y(Q.pricePerDay)}),a.jsx("p",{className:"text-sm text-gray-500",children:"/天"})]})})]})]})},Q._id)})})]}),F.parkingTypeId&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx(K,{className:"text-lg font-semibold text-gray-800 mb-4 block",children:"選擇預約時間"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"checkInTime",className:"text-sm font-medium text-gray-700",children:"進入時間 *"}),a.jsx("div",{className:"relative",children:a.jsx(bx,{id:"checkInTime",type:"datetime-local",value:F.checkInTime,onChange:Q=>{if(ie(oe=>({...oe,checkInTime:Q})),Q&&F.checkOutTime){const oe=new Date(Q),Be=new Date(oe);Be.setDate(oe.getDate()+me),new Date(F.checkOutTime)<Be&&ie(ae=>({...ae,checkOutTime:Be.toISOString().slice(0,16)}))}},min:new Date().toISOString().slice(0,16),className:"pl-10",placeholder:"yyyy/mm/dd hh:mm"})}),a.jsxs("p",{className:"text-xs text-gray-500",children:["最少預約 ",me," 天"]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"checkOutTime",className:"text-sm font-medium text-gray-700",children:"回國時間 *"}),a.jsx("div",{className:"relative",children:a.jsx(bx,{id:"checkOutTime",type:"datetime-local",value:F.checkOutTime,onChange:Q=>{if(F.checkInTime){const oe=new Date(F.checkInTime),Be=new Date(Q),B=new Date(oe);if(B.setDate(oe.getDate()+me),Be<B){Z.error(`最少需要預約 ${me} 天`);return}}ie(oe=>({...oe,checkOutTime:Q}))},min:F.checkInTime?(()=>{const Q=new Date(F.checkInTime),oe=new Date(Q);return oe.setDate(Q.getDate()+me),oe.toISOString().slice(0,16)})():new Date().toISOString().slice(0,16),className:"pl-10",placeholder:"yyyy/mm/dd hh:mm"})}),a.jsxs("p",{className:"text-xs text-gray-500",children:["從進入時間起最少 ",me," 天"]})]})]})]}),V&&fe&&a.jsxs("div",{className:"p-6 bg-red-50 border border-red-200 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[a.jsx(gs,{className:"h-5 w-5 text-red-600"}),a.jsx("h3",{className:"text-lg font-semibold text-red-800",children:"您所選的日期，停車位已經被約完，詳細如下："})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-red-700 mb-2",children:"您選的日期："}),a.jsxs("div",{className:"space-y-2",children:[fe.conflictingDates.map((Q,oe)=>a.jsxs("div",{className:"flex items-center space-x-2 text-red-600",children:[a.jsx("span",{children:"•"}),a.jsx("span",{children:Q.formattedDate}),a.jsx("span",{className:"text-red-500 font-medium",children:"(x 無空位)"})]},oe)),fe.availableDates.map((Q,oe)=>a.jsxs("div",{className:"flex items-center space-x-2 text-green-600",children:[a.jsx("span",{children:"•"}),a.jsx("span",{children:Q.formattedDate})]},oe))]})]}),a.jsx("div",{className:"bg-white p-4 rounded-lg border border-red-200",children:a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-red-700",children:"總計："}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsxs("span",{className:"text-sm text-red-600",children:[fe.conflictingDays," 天已滿"]}),a.jsxs("span",{className:"text-sm text-green-600",children:[fe.availableDays," 天空閒"]})]})]})}),a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[a.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"建議："}),a.jsxs("div",{className:"space-y-1 text-sm text-blue-700",children:[a.jsx("div",{children:"• 選擇其他時間範圍"}),a.jsx("div",{children:"• 選擇較短的時間範圍"}),a.jsx("div",{children:"• 聯繫我們以獲得支援"})]})]})]})]}),R.length>0&&a.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx(gs,{className:"h-5 w-5 text-red-600"}),a.jsx("span",{className:"font-medium text-red-800",children:"⚠️ 停車場正在維護"})]}),a.jsxs("div",{className:"text-sm text-red-700",children:[a.jsx("p",{children:"所選停車場在此時間內正在維護:"}),a.jsx("ul",{className:"mt-2 space-y-1",children:R.map((Q,oe)=>a.jsxs("li",{className:"flex items-center space-x-2",children:[a.jsx("span",{children:"•"}),a.jsxs("span",{children:[Or(Q.date),": ",Q.reason]})]},oe))}),a.jsx("p",{className:"mt-2 font-medium",children:"請選擇其他時間或停車場。"})]})]})]})]})]})});case 3:return a.jsx("div",{className:"space-y-6",children:a.jsxs(ue,{className:"border-0 shadow-lg",children:[a.jsxs(ve,{className:"bg-gradient-to-r from-purple-50 to-pink-50 border-b",children:[a.jsxs(ge,{className:"flex items-center space-x-3 text-purple-900",children:[a.jsx(dm,{className:"h-6 w-6 text-purple-600"}),a.jsx("span",{children:"服務"})]}),a.jsx(Qe,{className:"text-purple-700",children:"選擇您需要的服務"})]}),a.jsx(de,{className:"p-6",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:(u||[]).filter(Q=>Q.isActive).map(Q=>{const oe=F.selectedAddonServices.includes(Q._id);return a.jsx(ue,{className:`cursor-pointer transition-all duration-300 hover:shadow-xl hover:scale-105 ${oe?"border-2 border-purple-500 bg-gradient-to-br from-purple-50 to-pink-50 shadow-lg":"border-gray-200 hover:border-purple-300"}`,onClick:()=>{ie(oe?Be=>({...Be,selectedAddonServices:(Be.selectedAddonServices||[]).filter(B=>B!==Q._id)}):Be=>({...Be,selectedAddonServices:[...Be.selectedAddonServices,Q._id]}))},children:a.jsxs(de,{className:"p-6",children:[a.jsx("div",{className:"flex items-start justify-between mb-4",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"text-3xl",children:Q.icon}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-lg text-gray-900",children:Q.name}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:Q.description})]})]})}),a.jsx("div",{className:"text-center pt-3 border-t",children:a.jsx("p",{className:"text-2xl font-bold text-purple-600",children:Y(Q.price)})})]})},Q._id)})})})]})});case 4:return a.jsxs("div",{className:"space-y-6",children:[p&&a.jsxs(ue,{className:"border-0 shadow-lg",children:[a.jsx(ve,{className:"bg-gradient-to-r from-emerald-50 to-teal-50 border-b",children:a.jsxs(ge,{className:"flex items-center space-x-3 text-emerald-900",children:[a.jsx(fv,{className:"h-6 w-6 text-emerald-600"}),a.jsx("span",{children:"價格摘要"})]})}),a.jsx(de,{className:"p-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"bg-gray-50 p-3 rounded-lg",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-semibold text-gray-900",children:"基本價格"}),a.jsxs("div",{className:"text-sm text-gray-600",children:[(J=c.find(Q=>Q._id===F.parkingTypeId))==null?void 0:J.name," • ",p.durationDays," 天"]})]}),a.jsx("span",{className:"font-semibold text-gray-900",children:Y(p.totalPrice)})]})}),(p==null?void 0:p.dailyPrices)&&p.dailyPrices.length>0&&a.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[a.jsx("div",{className:"text-sm font-semibold text-blue-700 mb-2",children:"📅 每日價格詳細:"}),a.jsx("div",{className:"space-y-2",children:p.dailyPrices.map((Q,oe)=>a.jsxs("div",{className:"flex justify-between items-center text-sm bg-white p-2 rounded",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-gray-600",children:Go(Q.date)}),Q.isSpecialPrice&&a.jsxs(Me,{variant:"outline",className:"text-xs bg-orange-100 text-orange-700 border-orange-200 max-w-32 truncate",title:Q.specialPriceReason,children:["💰 ",Q.specialPriceReason||"特殊價格"]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[Q.isSpecialPrice&&a.jsx("span",{className:"text-xs text-gray-500 line-through",children:Y(Q.originalPrice)}),a.jsx("span",{className:`font-semibold ${Q.isSpecialPrice?"text-orange-600":"text-blue-600"}`,children:Y(Q.price)})]})]},oe))})]}),F.selectedAddonServices.length>0&&a.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[a.jsx("div",{className:"text-sm font-semibold text-blue-700 mb-2",children:"🚀 附加服務:"}),a.jsx("div",{className:"space-y-2",children:F.selectedAddonServices.map(Q=>{const oe=u.find(Be=>Be._id===Q);return oe?a.jsxs("div",{className:"flex justify-between items-center text-sm bg-white p-2 rounded",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-lg",children:oe.icon}),a.jsx("span",{children:oe.name})]}),a.jsx("span",{className:"font-semibold text-blue-600",children:Y(oe.price)})]},Q):null})})]}),b&&w&&a.jsxs("div",{className:"flex justify-between items-center py-2 bg-blue-50 rounded-lg px-3",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-blue-600",children:"👑 VIP 折扣:"}),a.jsxs("span",{className:"text-xs text-blue-500 bg-blue-100 px-2 py-1 rounded",children:[w.vipDiscount,"% 折扣"]})]}),m?a.jsxs("span",{className:"font-semibold text-blue-600",children:["-",Y(m.vipDiscount||0)]}):a.jsxs("span",{className:"text-sm text-blue-600",children:["~",Y(Math.round(((p==null?void 0:p.totalPrice)||0)*(w.vipDiscount/100)))]})]}),m&&m.discountAmount>0&&a.jsxs("div",{className:"flex justify-between items-center py-2 bg-green-50 rounded-lg px-3",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-green-600",children:"🎫 優惠券:"}),a.jsxs("span",{className:"text-xs text-green-500 bg-green-100 px-2 py-1 rounded",children:[m.code," (",m.discountType==="percentage"?`${m.discountValue}%`:"固定",")"]})]}),a.jsxs("span",{className:"font-semibold text-green-600",children:["-",Y(m.discountAmount)]})]}),a.jsx(di,{}),a.jsx("div",{className:"bg-gradient-to-r from-emerald-100 to-teal-100 p-4 rounded-lg border-2 border-emerald-300",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-semibold text-gray-700",children:"總原價:"}),a.jsx("span",{className:"font-semibold text-gray-900",children:Y(p.totalPrice+(u||[]).filter(Q=>F.selectedAddonServices.includes(Q._id)).reduce((Q,oe)=>Q+oe.price,0))})]}),m&&(m.discountAmount>0||m.vipDiscount>0)||b&&w?a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-semibold text-green-700",children:"總折扣:"}),a.jsxs("span",{className:"font-bold text-green-700 text-lg",children:["-",Y(m?m.totalDiscount||m.discountAmount||0:(()=>{const oe=((p==null?void 0:p.totalPrice)||0)+u.filter(Be=>F.selectedAddonServices.includes(Be._id)).reduce((Be,B)=>Be+B.price,0);return Math.round(oe*((w==null?void 0:w.vipDiscount)/100))})())]})]}):null,a.jsx("div",{className:"border-t pt-2",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-bold text-lg text-gray-900",children:"總付款:"}),a.jsx("span",{className:"text-2xl font-bold text-emerald-600",children:(()=>{const oe=((p==null?void 0:p.totalPrice)||0)+u.filter(Be=>F.selectedAddonServices.includes(Be._id)).reduce((Be,B)=>Be+B.price,0);if(m)return Y(m.finalAmount);if(b&&w){const Be=oe*(w.vipDiscount/100);return Y(Math.round(oe-Be))}else return Y(oe)})()})]})})]})})]})})]}),a.jsxs(ue,{className:"border-0 shadow-lg",children:[a.jsxs(ve,{className:"bg-gradient-to-r from-indigo-50 to-blue-50 border-b",children:[a.jsxs(ge,{className:"flex items-center space-x-3 text-indigo-900",children:[a.jsx(wr,{className:"h-6 w-6 text-indigo-600"}),a.jsx("span",{children:"個人資料"}),b&&a.jsx(Me,{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white border-0",children:"👑 VIP Member"})]}),a.jsx(Qe,{className:"text-indigo-700",children:"填寫個人資料以完成預約"})]}),a.jsxs(de,{className:"p-6 space-y-6",children:[!b&&a.jsxs("div",{className:"bg-gradient-to-r from-yellow-50 to-orange-50 border border-yellow-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx("span",{className:"text-yellow-800 font-medium",children:"👑 您是VIP會員嗎？"})}),a.jsx(q,{type:"button",variant:"outline",size:"sm",onClick:()=>S(!O),className:"border-yellow-300 text-yellow-700 hover:bg-yellow-100",children:O?"隱藏":"輸入VIP碼"})]}),O&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(ce,{placeholder:"輸入您的VIP碼",value:P,onChange:Q=>C(Q.target.value),className:"flex-1"}),a.jsx(q,{type:"button",onClick:et,disabled:_,className:"bg-[#39653f] hover:bg-[#2d4f33] text-white",children:_?"正在檢查...":"檢查"})]}),a.jsx("p",{className:"text-xs text-yellow-700",children:"💡 VIP碼格式: 年份 + 電話號碼 (例如: 1140908805805)"})]})]}),a.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 border border-green-200 rounded-lg p-4",children:[a.jsx("div",{className:"flex items-center justify-between mb-3",children:a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx("span",{className:"text-green-800 font-medium",children:"🎫 您有折扣碼嗎？"})})}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(ce,{placeholder:"輸入折扣碼",value:F.discountCode,onChange:Q=>ie(oe=>({...oe,discountCode:Q.target.value})),className:"flex-1"}),a.jsx(q,{type:"button",onClick:rt,disabled:!((Ee=F.discountCode)!=null&&Ee.trim())||!F.parkingTypeId||!F.checkInTime||!F.checkOutTime,className:"bg-[#39653f] hover:bg-[#2d4f33] text-white",children:"應用"})]}),a.jsx("p",{className:"text-xs text-green-700",children:"💡 輸入有效的折扣碼以獲得額外優惠"})]}),m&&a.jsxs("div",{className:"mt-3 p-3 bg-white rounded-lg border border-green-200",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx("span",{className:"text-green-600",children:"✅"}),a.jsx("span",{className:"font-medium text-green-800",children:"折扣已應用！"})]}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"折扣碼:"}),a.jsx("span",{className:"font-semibold text-green-600",children:m.code})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"折扣金額:"}),a.jsxs("span",{className:"font-semibold text-green-600",children:["-",Y(m.discountAmount)]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"最終金額:"}),a.jsx("span",{className:"font-semibold text-green-600",children:Y(m.finalAmount)})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"driverName",className:"text-sm font-medium text-gray-700",children:"您的姓名 *"}),a.jsx(ce,{id:"driverName",value:F.driverName,onChange:Q=>ie(oe=>({...oe,driverName:Q.target.value})),placeholder:"輸入您的姓名"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"phone",className:"text-sm font-medium text-gray-700",children:"電話號碼 *"}),a.jsx(ce,{id:"phone",value:F.phone,onChange:Q=>ie(oe=>({...oe,phone:Q.target.value})),placeholder:"輸入電話號碼"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"email",className:"text-sm font-medium text-gray-700",children:"信箱 *"}),a.jsxs("div",{className:"relative",children:[a.jsx(ce,{id:"email",type:"email",value:F.email,onChange:Q=>ie(oe=>({...oe,email:Q.target.value})),placeholder:"輸入電子郵件",className:b?"border-yellow-400 bg-yellow-50":""}),b&&w&&a.jsx("div",{className:"absolute -top-2 -right-2",children:a.jsxs(Me,{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white border-0 text-xs",children:["👑 VIP ",w.vipDiscount,"%"]})})]}),b&&w&&a.jsxs("div",{className:"text-xs text-yellow-600 bg-yellow-50 p-2 rounded",children:["✨ 歡迎VIP會員！您自動享有",w.vipDiscount,"%折扣。"]}),!b&&F.email&&!w&&a.jsx("div",{className:"text-xs text-gray-500 bg-gray-50 p-2 rounded",children:"ℹ️ 普通客戶 - 無VIP優惠"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"licensePlate",className:"text-sm font-medium text-gray-700",children:"車牌號碼 *"}),a.jsx(ce,{id:"licensePlate",value:F.licensePlate,onChange:Q=>ie(oe=>({...oe,licensePlate:Q.target.value.toUpperCase()})),placeholder:"輸入車牌號碼"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"passengerCount",className:"text-sm font-medium text-gray-700",children:"接駁人數 (上限5人，多一個人現場收100元/人)"}),a.jsx(ce,{id:"passengerCount",type:"number",min:"1",value:F.passengerCount,onChange:Q=>ie(oe=>({...oe,passengerCount:parseInt(Q.target.value)}))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"luggageCount",className:"text-sm font-medium text-gray-700",children:"行李數量（免費1個，第2個以上現場收100元/行李）"}),a.jsx(ce,{id:"luggageCount",type:"number",min:"0",value:F.luggageCount,onChange:Q=>ie(oe=>({...oe,luggageCount:parseInt(Q.target.value)}))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"notes",className:"text-sm font-medium text-gray-700",children:"備註"}),a.jsx(tr,{id:"notes",placeholder:"輸入備註 (如果有的話)",rows:3})]})]})]}),a.jsx(ue,{className:"border-0 shadow-lg",children:a.jsx(de,{className:"p-6",children:a.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-gray-50 rounded-lg",children:[a.jsx($a,{id:"termsAccepted",checked:F.termsAccepted,onCheckedChange:Q=>ie(oe=>({...oe,termsAccepted:!!Q}))}),a.jsx(K,{htmlFor:"termsAccepted",className:"text-sm font-medium",children:"我同意所有預約條款和條件"})]})})})]});default:return null}};return n?a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}):N?a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsx(ue,{className:"border-0 shadow-lg",children:a.jsxs(de,{className:"pt-6",children:[a.jsxs("div",{className:"flex items-center space-x-2 text-red-600",children:[a.jsx(gs,{className:"h-5 w-5"}),a.jsx("span",{children:N})]}),a.jsx(q,{onClick:le,className:"mt-4",children:"重試"})]})})}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50",children:a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsx("div",{className:"mb-8",children:a.jsx("div",{className:"flex items-center justify-between bg-white rounded-lg shadow-lg p-4",children:re.map((J,Ee)=>a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`flex items-center justify-center w-12 h-12 rounded-full border-2 transition-all duration-300 ${t>=J.id?"bg-[#39653f] border-[#39653f] text-white shadow-lg":"bg-white border-gray-300 text-gray-500"}`,children:t>J.id?a.jsx(mr,{className:"h-6 w-6"}):J.icon}),a.jsx("span",{className:`ml-3 text-sm font-medium transition-colors duration-300 ${t>=J.id?"text-blue-600":"text-gray-500"}`,children:J.title}),Ee<re.length-1&&a.jsx("div",{className:`w-20 h-0.5 mx-4 transition-colors duration-300 ${t>J.id?"bg-[#39653f]":"bg-gray-300"}`})]},J.id))})}),t>=2&&F.checkInTime&&F.checkOutTime&&a.jsx("div",{className:"mb-6",children:a.jsx(ue,{className:"border-2 border-blue-200 bg-gradient-to-r from-blue-50 to-indigo-50",children:a.jsx(de,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Ur,{className:"h-5 w-5 text-blue-600"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-blue-900",children:"已選擇時間:"}),a.jsxs("div",{className:"flex items-center space-x-4 text-sm text-blue-800",children:[a.jsxs("span",{children:[a.jsx("strong",{children:"進入:"})," ",ir(F.checkInTime)]}),a.jsx("span",{className:"text-blue-600",children:"→"}),a.jsxs("span",{children:[a.jsx("strong",{children:"離開:"})," ",ir(F.checkOutTime)]})]})]})]}),F.parkingTypeId&&a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-sm text-blue-700",children:[a.jsx("strong",{children:"停車場:"})," ",((Ce=c.find(J=>J._id===F.parkingTypeId))==null?void 0:Ce.name)||"未選擇"]}),a.jsx("div",{className:"text-xs text-blue-600",children:(()=>{const J=new Date(F.checkInTime),Ee=new Date(F.checkOutTime),Q=Math.abs(Ee.getTime()-J.getTime());return`${Math.ceil(Q/(1e3*60*60*24))} 天`})()})]})]})})})}),se(),a.jsxs("div",{className:"flex justify-between mt-8",children:[a.jsxs(q,{variant:"outline",onClick:()=>r(J=>Math.max(1,J-1)),disabled:t===1,className:"px-6 py-3",children:[a.jsx(JT,{className:"h-4 w-4 mr-2"}),"返回"]}),a.jsx("div",{className:"flex space-x-3",children:t<re.length?a.jsxs(q,{onClick:()=>r(J=>J+1),disabled:t===1&&!F.agreedToTerms||t===2&&!F.parkingTypeId||t===2&&(!F.checkInTime||!F.checkOutTime)||t===2&&R.length>0,className:"px-8 py-3 bg-[#39653f] hover:bg-[#2d4f33]",children:["下一步",a.jsx(QT,{className:"h-4 w-4 ml-2"})]}):a.jsx(q,{onClick:st,disabled:n||!F.termsAccepted,className:"px-8 py-3 bg-[#39653f] hover:bg-[#2d4f33]",children:n?"正在處理...":"完成預約"})})]})]})})})},B$=()=>{var p,v,m,g,b;const e=Ld(),t=Bd(),[r,n]=x.useState(null),[i,s]=x.useState(!0),o=(p=e.state)==null?void 0:p.bookingData;x.useEffect(()=>{c()},[]);const c=async()=>{try{const y=await xv();n(y)}catch(y){console.error("Error loading system settings:",y)}finally{s(!1)}},l=y=>y==null?"0 TWD":y.toLocaleString("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0,maximumFractionDigits:0}),u=()=>{if(!o)return[];const y=[],w=new Date(o.checkInTime),A=new Date(o.checkOutTime),N=Math.max(1,o.durationDays||1),j=Math.round((o.totalAmount||0)/N),O=new Date(w);for(;O<A;){const S=new Date(O).toISOString().split("T")[0];y.push({date:S,price:j}),O.setDate(O.getDate()+1)}return y},d=y=>{if(y.icon)return a.jsx("span",{className:"text-lg",children:y.icon});switch(y.type||y){case"indoor":return a.jsx(tE,{className:"h-5 w-5 text-blue-600"});case"outdoor":return a.jsx(cE,{className:"h-5 w-5 text-yellow-600"});case"disabled":return a.jsx(XT,{className:"h-5 w-5 text-green-600"});default:return a.jsx(sr,{className:"h-5 w-5 text-gray-600"})}},f=y=>{const w={pending:{label:"等待確認",variant:"secondary",color:"bg-yellow-100 text-yellow-800"},confirmed:{label:"預約成功",variant:"default",color:"bg-green-100 text-green-800"},"checked-in":{label:"已進入停車場",variant:"default",color:"bg-blue-100 text-blue-800"},"checked-out":{label:"已離開停車場",variant:"outline",color:"bg-gray-100 text-gray-800"},cancelled:{label:"已取消",variant:"destructive",color:"bg-red-100 text-red-800"}},A=w[y]||w.pending;return a.jsx(Me,{variant:A.variant,className:A.color,children:A.label})},h=()=>{t("/")};return i?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"正在加載信息..."})]})}):o?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-8",children:a.jsxs("div",{className:"container mx-auto px-4 max-w-full",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-green-100 rounded-full mb-4",children:a.jsx(mr,{className:"h-10 w-10 text-green-600"})}),a.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"預約成功！"}),a.jsx("p",{className:"text-gray-600",children:"感謝您使用我們的服務"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs(ue,{className:"border-2 border-green-200 bg-green-50/50",children:[a.jsx(ve,{className:"pb-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(ge,{className:"text-xl text-gray-800",children:"預約信息"}),a.jsxs(Qe,{className:"text-gray-600",children:["預約編號: ",a.jsx("span",{className:"font-mono font-bold text-blue-600",children:o.bookingNumber})]})]}),f(o.status)]})}),a.jsxs(de,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Et,{className:"h-5 w-5 text-blue-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"進入停車場日期"}),a.jsx("p",{className:"font-semibold",children:Or(o.checkInTime)})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Ur,{className:"h-5 w-5 text-blue-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"離開停車場日期"}),a.jsx("p",{className:"font-semibold",children:Or(o.checkOutTime)})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Pi,{className:"h-5 w-5 text-blue-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"停車場類型"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[d(o.parkingType),a.jsx("p",{className:"font-semibold",children:o.parkingType.name})]})]})]})]})]}),a.jsxs(ue,{children:[a.jsx(ve,{children:a.jsxs(ge,{className:"flex items-center space-x-2",children:[a.jsx(wr,{className:"h-5 w-5 text-blue-600"}),a.jsx("span",{children:"客戶信息"}),o.isVIP&&a.jsx(Me,{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white border-0",children:"👑 VIP 會員"})]})}),a.jsx(de,{className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(wr,{className:"h-5 w-5 text-gray-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"您的姓名"}),a.jsx("p",{className:"font-semibold",children:o.driverName})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(sr,{className:"h-5 w-5 text-gray-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"車牌號碼"}),a.jsx("p",{className:"font-semibold font-mono",children:o.licensePlate})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(ca,{className:"h-5 w-5 text-gray-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"電話號碼"}),a.jsx("p",{className:"font-semibold",children:o.phone})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(ys,{className:"h-5 w-5 text-gray-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"電子郵件"}),a.jsx("p",{className:"font-semibold",children:o.email})]})]})]})})]}),a.jsxs(ue,{children:[a.jsx(ve,{children:a.jsxs(ge,{className:"flex items-center space-x-2",children:[a.jsx(fv,{className:"h-5 w-5 text-blue-600"}),a.jsx("span",{children:"付款詳情"})]})}),a.jsx(de,{children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("span",{className:"text-gray-600",children:["基本費用 (",o.durationDays," 天)"]}),a.jsx("span",{className:"font-semibold",children:l(o.totalAmount)})]}),(o.dailyPrices&&o.dailyPrices.length>0||!0)&&a.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[a.jsx("div",{className:"text-sm font-semibold text-blue-700 mb-2",children:"📅 每日價格詳細:"}),a.jsx("div",{className:"space-y-2",children:(o.dailyPrices&&o.dailyPrices.length>0?o.dailyPrices:u()).map((y,w)=>a.jsxs("div",{className:"flex justify-between items-center text-sm bg-white p-2 rounded",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-gray-600",children:Go(y.date)}),y.isSpecialPrice&&a.jsxs(Me,{variant:"outline",className:"text-xs bg-orange-100 text-orange-700 border-orange-200 max-w-32 truncate",title:y.specialPriceReason,children:["💰 ",y.specialPriceReason||"特殊價格"]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[y.isSpecialPrice&&y.originalPrice?a.jsx("span",{className:"text-xs text-gray-500 line-through",children:l(y.originalPrice)}):null,a.jsx("span",{className:`font-semibold ${y.isSpecialPrice?"text-orange-600":"text-blue-600"}`,children:l(y.price)})]})]},w))})]}),o.addonServices.length>0&&a.jsxs(a.Fragment,{children:[a.jsx(di,{}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm font-medium text-gray-700",children:"附加服務:"}),o.addonServices.map((y,w)=>a.jsxs("div",{className:"flex justify-between items-center text-sm",children:[a.jsx("span",{className:"text-gray-600",children:y.name}),a.jsx("span",{children:l(y.price)})]},w))]})]}),o.discountAmount>0&&a.jsxs(a.Fragment,{children:[a.jsx(di,{}),a.jsxs("div",{className:"flex justify-between items-center py-2 bg-green-50 rounded-lg px-3",children:[a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx("span",{className:"text-green-600",children:"🎫 折扣:"})}),a.jsxs("span",{className:"font-semibold text-green-600",children:["-",l(o.discountAmount)]})]})]}),o.vipDiscount&&o.vipDiscount>0&&a.jsxs(a.Fragment,{children:[a.jsx(di,{}),a.jsxs("div",{className:"flex justify-between items-center py-2 bg-blue-50 rounded-lg px-3",children:[a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx("span",{className:"text-blue-600",children:"👑 VIP 折扣:"})}),a.jsxs("span",{className:"font-semibold text-blue-600",children:["-",l(o.vipDiscount)]})]})]}),a.jsx(di,{}),a.jsx("div",{className:"bg-gradient-to-r from-emerald-100 to-teal-100 p-3 rounded-lg border-2 border-emerald-300",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-semibold",children:"總費用:"}),a.jsx("span",{className:"font-semibold",children:l(o.totalAmount)})]}),(o.discountAmount>0||o.vipDiscount&&o.vipDiscount>0)&&a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-semibold text-green-700",children:"總折扣:"}),a.jsxs("span",{className:"font-bold text-green-700 text-lg",children:["-",l((o.discountAmount||0)+(o.vipDiscount||0))]})]}),a.jsx("div",{className:"border-t pt-2",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-bold text-lg",children:"總付款:"}),a.jsx("span",{className:"font-bold text-emerald-800 text-xl",children:l(o.finalAmount)})]})})]})})]})})]})]}),a.jsxs("div",{className:"space-y-6",children:[r&&a.jsxs(ue,{children:[a.jsx(ve,{children:a.jsxs(ge,{className:"text-lg flex items-center space-x-2",children:[a.jsx(bi,{className:"h-5 w-5 text-blue-600"}),a.jsx("span",{children:"聯繫信息"})]})}),a.jsxs(de,{className:"space-y-3 text-sm",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ca,{className:"h-4 w-4 text-gray-500"}),a.jsx("span",{children:((v=r.contactInfo)==null?void 0:v.phone)||"N/A"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ys,{className:"h-4 w-4 text-gray-500"}),a.jsx("span",{children:((m=r.contactInfo)==null?void 0:m.email)||"N/A"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Pi,{className:"h-4 w-4 text-gray-500"}),a.jsx("span",{children:((g=r.contactInfo)==null?void 0:g.address)||"N/A"})]}),((b=r.contactInfo)==null?void 0:b.website)&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(bi,{className:"h-4 w-4 text-gray-500"}),a.jsx("a",{href:r.contactInfo.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:r.contactInfo.website})]})]})]}),a.jsxs(ue,{className:"border-amber-200 bg-amber-50/50",children:[a.jsx(ve,{children:a.jsx(ge,{className:"text-lg text-amber-800",children:"重要提示"})}),a.jsxs(de,{className:"text-sm text-amber-700 space-y-2",children:[a.jsx("p",{children:"• 請按預約時間到達"}),a.jsx("p",{children:"• 請攜帶車輛證明文件和駕駛執照"}),a.jsx("p",{children:"• 如有變更，請立即聯繫"}),a.jsx("p",{children:"• 保留預約編號以供查詢"})]})]})]})]})]})}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-red-500 text-6xl mb-4",children:"⚠️"}),a.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"找不到預約信息"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"請返回預約頁面"}),a.jsxs(q,{onClick:h,className:"bg-[#39653f] hover:bg-[#2d4f33]",children:[a.jsx(aE,{className:"h-4 w-4 mr-2"}),"返回主頁"]})]})})};function Ra(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e==null||e(i),r===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function Ex(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function V$(...e){return t=>{let r=!1;const n=e.map(i=>{const s=Ex(i,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<n.length;i++){const s=n[i];typeof s=="function"?s():Ex(e[i],null)}}}}function qi(...e){return x.useCallback(V$(...e),e)}function z$(e,t){const r=x.createContext(t),n=s=>{const{children:o,...c}=s,l=x.useMemo(()=>c,Object.values(c));return a.jsx(r.Provider,{value:l,children:o})};n.displayName=e+"Provider";function i(s){const o=x.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[n,i]}function U$(e,t=[]){let r=[];function n(s,o){const c=x.createContext(o),l=r.length;r=[...r,o];const u=f=>{var b;const{scope:h,children:p,...v}=f,m=((b=h==null?void 0:h[e])==null?void 0:b[l])||c,g=x.useMemo(()=>v,Object.values(v));return a.jsx(m.Provider,{value:g,children:p})};u.displayName=s+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[l])||c,v=x.useContext(p);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=r.map(o=>x.createContext(o));return function(c){const l=(c==null?void 0:c[e])||s;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:l}}),[c,l])}};return i.scopeName=e,[n,W$(i,...t)]}function W$(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=n.reduce((c,{useScope:l,scopeName:u})=>{const f=l(s)[`__scope${u}`];return{...c,...f}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var uc=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},H$=Wi[" useId ".trim().toString()]||(()=>{}),q$=0;function ch(e){const[t,r]=x.useState(H$());return uc(()=>{r(n=>n??String(q$++))},[e]),e||(t?`radix-${t}`:"")}var K$=Wi[" useInsertionEffect ".trim().toString()]||uc;function G$({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[i,s,o]=Z$({defaultProp:t,onChange:r}),c=e!==void 0,l=c?e:i;{const d=x.useRef(e!==void 0);x.useEffect(()=>{const f=d.current;f!==c&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=c},[c,n])}const u=x.useCallback(d=>{var f;if(c){const h=X$(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else s(d)},[c,e,s,o]);return[l,u]}function Z$({defaultProp:e,onChange:t}){const[r,n]=x.useState(e),i=x.useRef(r),s=x.useRef(t);return K$(()=>{s.current=t},[t]),x.useEffect(()=>{var o;i.current!==r&&((o=s.current)==null||o.call(s,r),i.current=r)},[r,i]),[r,n,s]}function X$(e){return typeof e=="function"}var Y$=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ba=Y$.reduce((e,t)=>{const r=en(`Primitive.${t}`),n=x.forwardRef((i,s)=>{const{asChild:o,...c}=i,l=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(l,{...c,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function J$(e,t){e&&ao.flushSync(()=>e.dispatchEvent(t))}function dc(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function Q$(e,t=globalThis==null?void 0:globalThis.document){const r=dc(e);x.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var eD="DismissableLayer",hm="dismissableLayer.update",tD="dismissableLayer.pointerDownOutside",rD="dismissableLayer.focusOutside",$x,K1=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),G1=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:c,...l}=e,u=x.useContext(K1),[d,f]=x.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=x.useState({}),v=qi(t,O=>f(O)),m=Array.from(u.layers),[g]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=m.indexOf(g),y=d?m.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,A=y>=b,N=iD(O=>{const S=O.target,P=[...u.branches].some(C=>C.contains(S));!A||P||(i==null||i(O),o==null||o(O),O.defaultPrevented||c==null||c())},h),j=sD(O=>{const S=O.target;[...u.branches].some(C=>C.contains(S))||(s==null||s(O),o==null||o(O),O.defaultPrevented||c==null||c())},h);return Q$(O=>{y===u.layers.size-1&&(n==null||n(O),!O.defaultPrevented&&c&&(O.preventDefault(),c()))},h),x.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&($x=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Dx(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=$x)}},[d,h,r,u]),x.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Dx())},[d,u]),x.useEffect(()=>{const O=()=>p({});return document.addEventListener(hm,O),()=>document.removeEventListener(hm,O)},[]),a.jsx(ba.div,{...l,ref:v,style:{pointerEvents:w?A?"auto":"none":void 0,...e.style},onFocusCapture:Ra(e.onFocusCapture,j.onFocusCapture),onBlurCapture:Ra(e.onBlurCapture,j.onBlurCapture),onPointerDownCapture:Ra(e.onPointerDownCapture,N.onPointerDownCapture)})});G1.displayName=eD;var nD="DismissableLayerBranch",aD=x.forwardRef((e,t)=>{const r=x.useContext(K1),n=x.useRef(null),i=qi(t,n);return x.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),a.jsx(ba.div,{...e,ref:i})});aD.displayName=nD;function iD(e,t=globalThis==null?void 0:globalThis.document){const r=dc(e),n=x.useRef(!1),i=x.useRef(()=>{});return x.useEffect(()=>{const s=c=>{if(c.target&&!n.current){let l=function(){Z1(tD,r,u,{discrete:!0})};const u={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=l,t.addEventListener("click",i.current,{once:!0})):l()}else t.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",s),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function sD(e,t=globalThis==null?void 0:globalThis.document){const r=dc(e),n=x.useRef(!1);return x.useEffect(()=>{const i=s=>{s.target&&!n.current&&Z1(rD,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Dx(){const e=new CustomEvent(hm);document.dispatchEvent(e)}function Z1(e,t,r,{discrete:n}){const i=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?J$(i,s):i.dispatchEvent(s)}var lh="focusScope.autoFocusOnMount",uh="focusScope.autoFocusOnUnmount",Ix={bubbles:!1,cancelable:!0},oD="FocusScope",X1=x.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=e,[c,l]=x.useState(null),u=dc(i),d=dc(s),f=x.useRef(null),h=qi(t,m=>l(m)),p=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(n){let m=function(w){if(p.paused||!c)return;const A=w.target;c.contains(A)?f.current=A:Oa(f.current,{select:!0})},g=function(w){if(p.paused||!c)return;const A=w.relatedTarget;A!==null&&(c.contains(A)||Oa(f.current,{select:!0}))},b=function(w){if(document.activeElement===document.body)for(const N of w)N.removedNodes.length>0&&Oa(c)};document.addEventListener("focusin",m),document.addEventListener("focusout",g);const y=new MutationObserver(b);return c&&y.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",g),y.disconnect()}}},[n,c,p.paused]),x.useEffect(()=>{if(c){Rx.add(p);const m=document.activeElement;if(!c.contains(m)){const b=new CustomEvent(lh,Ix);c.addEventListener(lh,u),c.dispatchEvent(b),b.defaultPrevented||(cD(hD(Y1(c)),{select:!0}),document.activeElement===m&&Oa(c))}return()=>{c.removeEventListener(lh,u),setTimeout(()=>{const b=new CustomEvent(uh,Ix);c.addEventListener(uh,d),c.dispatchEvent(b),b.defaultPrevented||Oa(m??document.body,{select:!0}),c.removeEventListener(uh,d),Rx.remove(p)},0)}}},[c,u,d,p]);const v=x.useCallback(m=>{if(!r&&!n||p.paused)return;const g=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,b=document.activeElement;if(g&&b){const y=m.currentTarget,[w,A]=lD(y);w&&A?!m.shiftKey&&b===A?(m.preventDefault(),r&&Oa(w,{select:!0})):m.shiftKey&&b===w&&(m.preventDefault(),r&&Oa(A,{select:!0})):b===y&&m.preventDefault()}},[r,n,p.paused]);return a.jsx(ba.div,{tabIndex:-1,...o,ref:h,onKeyDown:v})});X1.displayName=oD;function cD(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Oa(n,{select:t}),document.activeElement!==r)return}function lD(e){const t=Y1(e),r=Mx(t,e),n=Mx(t.reverse(),e);return[r,n]}function Y1(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Mx(e,t){for(const r of e)if(!uD(r,{upTo:t}))return r}function uD(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function dD(e){return e instanceof HTMLInputElement&&"select"in e}function Oa(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&dD(e)&&t&&e.select()}}var Rx=fD();function fD(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Lx(e,t),e.unshift(t)},remove(t){var r;e=Lx(e,t),(r=e[0])==null||r.resume()}}}function Lx(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function hD(e){return e.filter(t=>t.tagName!=="A")}var mD="Portal",J1=x.forwardRef((e,t)=>{var c;const{container:r,...n}=e,[i,s]=x.useState(!1);uc(()=>s(!0),[]);const o=r||i&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return o?Dw.createPortal(a.jsx(ba.div,{...n,ref:t}),o):null});J1.displayName=mD;function pD(e,t){return x.useReducer((r,n)=>t[r][n]??r,e)}var Jd=e=>{const{present:t,children:r}=e,n=vD(t),i=typeof r=="function"?r({present:n.isPresent}):x.Children.only(r),s=qi(n.ref,gD(i));return typeof r=="function"||n.isPresent?x.cloneElement(i,{ref:s}):null};Jd.displayName="Presence";function vD(e){const[t,r]=x.useState(),n=x.useRef(null),i=x.useRef(e),s=x.useRef("none"),o=e?"mounted":"unmounted",[c,l]=pD(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const u=kl(n.current);s.current=c==="mounted"?u:"none"},[c]),uc(()=>{const u=n.current,d=i.current;if(d!==e){const h=s.current,p=kl(u);e?l("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,l]),uc(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const m=kl(n.current).includes(p.animationName);if(p.target===t&&m&&(l("ANIMATION_END"),!i.current)){const g=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=g)})}},h=p=>{p.target===t&&(s.current=kl(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:x.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function kl(e){return(e==null?void 0:e.animationName)||"none"}function gD(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var dh=0;function xD(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Fx()),document.body.insertAdjacentElement("beforeend",e[1]??Fx()),dh++,()=>{dh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),dh--}},[])}function Fx(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var An=function(){return An=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},An.apply(this,arguments)};function Q1(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function yD(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,s;n<i;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}var nu="right-scroll-bar-position",au="width-before-scroll-bar",bD="with-scroll-bars-hidden",jD="--removed-body-scroll-bar-size";function fh(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function wD(e,t){var r=x.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=t,r.facade}var ND=typeof window<"u"?x.useLayoutEffect:x.useEffect,Bx=new WeakMap;function SD(e,t){var r=wD(null,function(n){return e.forEach(function(i){return fh(i,n)})});return ND(function(){var n=Bx.get(r);if(n){var i=new Set(n),s=new Set(e),o=r.current;i.forEach(function(c){s.has(c)||fh(c,null)}),s.forEach(function(c){i.has(c)||fh(c,o)})}Bx.set(r,e)},[e]),r}function AD(e){return e}function OD(e,t){t===void 0&&(t=AD);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(s){var o=t(s,n);return r.push(o),function(){r=r.filter(function(c){return c!==o})}},assignSyncMedium:function(s){for(n=!0;r.length;){var o=r;r=[],o.forEach(s)}r={push:function(c){return s(c)},filter:function(){return r}}},assignMedium:function(s){n=!0;var o=[];if(r.length){var c=r;r=[],c.forEach(s),o=r}var l=function(){var d=o;o=[],d.forEach(s)},u=function(){return Promise.resolve().then(l)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return i}function _D(e){e===void 0&&(e={});var t=OD(null);return t.options=An({async:!0,ssr:!1},e),t}var eN=function(e){var t=e.sideCar,r=Q1(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return x.createElement(n,An({},r))};eN.isSideCarExport=!0;function PD(e,t){return e.useMedium(t),eN}var tN=_D(),hh=function(){},Qd=x.forwardRef(function(e,t){var r=x.useRef(null),n=x.useState({onScrollCapture:hh,onWheelCapture:hh,onTouchMoveCapture:hh}),i=n[0],s=n[1],o=e.forwardProps,c=e.children,l=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,p=e.noIsolation,v=e.inert,m=e.allowPinchZoom,g=e.as,b=g===void 0?"div":g,y=e.gapMode,w=Q1(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=h,N=SD([r,t]),j=An(An({},w),i);return x.createElement(x.Fragment,null,d&&x.createElement(A,{sideCar:tN,removeScrollBar:u,shards:f,noIsolation:p,inert:v,setCallbacks:s,allowPinchZoom:!!m,lockRef:r,gapMode:y}),o?x.cloneElement(x.Children.only(c),An(An({},j),{ref:N})):x.createElement(b,An({},j,{className:l,ref:N}),c))});Qd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Qd.classNames={fullWidth:au,zeroRight:nu};var kD=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function CD(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=kD();return t&&e.setAttribute("nonce",t),e}function TD(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function ED(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var $D=function(){var e=0,t=null;return{add:function(r){e==0&&(t=CD())&&(TD(t,r),ED(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},DD=function(){var e=$D();return function(t,r){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},rN=function(){var e=DD(),t=function(r){var n=r.styles,i=r.dynamic;return e(n,i),null};return t},ID={left:0,top:0,right:0,gap:0},mh=function(e){return parseInt(e||"",10)||0},MD=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[mh(r),mh(n),mh(i)]},RD=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return ID;var t=MD(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},LD=rN(),ws="data-scroll-locked",FD=function(e,t,r,n){var i=e.left,s=e.top,o=e.right,c=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(bD,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(c,"px ").concat(n,`;
  }
  body[`).concat(ws,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(c,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(nu,` {
    right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(au,` {
    margin-right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(nu," .").concat(nu,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(au," .").concat(au,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(ws,`] {
    `).concat(jD,": ").concat(c,`px;
  }
`)},Vx=function(){var e=parseInt(document.body.getAttribute(ws)||"0",10);return isFinite(e)?e:0},BD=function(){x.useEffect(function(){return document.body.setAttribute(ws,(Vx()+1).toString()),function(){var e=Vx()-1;e<=0?document.body.removeAttribute(ws):document.body.setAttribute(ws,e.toString())}},[])},VD=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,i=n===void 0?"margin":n;BD();var s=x.useMemo(function(){return RD(i)},[i]);return x.createElement(LD,{styles:FD(s,!t,i,r?"":"!important")})},mm=!1;if(typeof window<"u")try{var Cl=Object.defineProperty({},"passive",{get:function(){return mm=!0,!0}});window.addEventListener("test",Cl,Cl),window.removeEventListener("test",Cl,Cl)}catch{mm=!1}var Ji=mm?{passive:!1}:!1,zD=function(e){return e.tagName==="TEXTAREA"},nN=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!zD(e)&&r[t]==="visible")},UD=function(e){return nN(e,"overflowY")},WD=function(e){return nN(e,"overflowX")},zx=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=aN(e,n);if(i){var s=iN(e,n),o=s[1],c=s[2];if(o>c)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},HD=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},qD=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},aN=function(e,t){return e==="v"?UD(t):WD(t)},iN=function(e,t){return e==="v"?HD(t):qD(t)},KD=function(e,t){return e==="h"&&t==="rtl"?-1:1},GD=function(e,t,r,n,i){var s=KD(e,window.getComputedStyle(t).direction),o=s*n,c=r.target,l=t.contains(c),u=!1,d=o>0,f=0,h=0;do{var p=iN(e,c),v=p[0],m=p[1],g=p[2],b=m-g-s*v;(v||b)&&aN(e,c)&&(f+=b,h+=v),c instanceof ShadowRoot?c=c.host:c=c.parentNode}while(!l&&c!==document.body||l&&(t.contains(c)||t===c));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},Tl=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Ux=function(e){return[e.deltaX,e.deltaY]},Wx=function(e){return e&&"current"in e?e.current:e},ZD=function(e,t){return e[0]===t[0]&&e[1]===t[1]},XD=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},YD=0,Qi=[];function JD(e){var t=x.useRef([]),r=x.useRef([0,0]),n=x.useRef(),i=x.useState(YD++)[0],s=x.useState(rN)[0],o=x.useRef(e);x.useEffect(function(){o.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var m=yD([e.lockRef.current],(e.shards||[]).map(Wx),!0).filter(Boolean);return m.forEach(function(g){return g.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),m.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var c=x.useCallback(function(m,g){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var b=Tl(m),y=r.current,w="deltaX"in m?m.deltaX:y[0]-b[0],A="deltaY"in m?m.deltaY:y[1]-b[1],N,j=m.target,O=Math.abs(w)>Math.abs(A)?"h":"v";if("touches"in m&&O==="h"&&j.type==="range")return!1;var S=zx(O,j);if(!S)return!0;if(S?N=O:(N=O==="v"?"h":"v",S=zx(O,j)),!S)return!1;if(!n.current&&"changedTouches"in m&&(w||A)&&(n.current=N),!N)return!0;var P=n.current||N;return GD(P,g,m,P==="h"?w:A)},[]),l=x.useCallback(function(m){var g=m;if(!(!Qi.length||Qi[Qi.length-1]!==s)){var b="deltaY"in g?Ux(g):Tl(g),y=t.current.filter(function(N){return N.name===g.type&&(N.target===g.target||g.target===N.shadowParent)&&ZD(N.delta,b)})[0];if(y&&y.should){g.cancelable&&g.preventDefault();return}if(!y){var w=(o.current.shards||[]).map(Wx).filter(Boolean).filter(function(N){return N.contains(g.target)}),A=w.length>0?c(g,w[0]):!o.current.noIsolation;A&&g.cancelable&&g.preventDefault()}}},[]),u=x.useCallback(function(m,g,b,y){var w={name:m,delta:g,target:b,should:y,shadowParent:QD(b)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(A){return A!==w})},1)},[]),d=x.useCallback(function(m){r.current=Tl(m),n.current=void 0},[]),f=x.useCallback(function(m){u(m.type,Ux(m),m.target,c(m,e.lockRef.current))},[]),h=x.useCallback(function(m){u(m.type,Tl(m),m.target,c(m,e.lockRef.current))},[]);x.useEffect(function(){return Qi.push(s),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Ji),document.addEventListener("touchmove",l,Ji),document.addEventListener("touchstart",d,Ji),function(){Qi=Qi.filter(function(m){return m!==s}),document.removeEventListener("wheel",l,Ji),document.removeEventListener("touchmove",l,Ji),document.removeEventListener("touchstart",d,Ji)}},[]);var p=e.removeScrollBar,v=e.inert;return x.createElement(x.Fragment,null,v?x.createElement(s,{styles:XD(i)}):null,p?x.createElement(VD,{gapMode:e.gapMode}):null)}function QD(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const eI=PD(tN,JD);var yv=x.forwardRef(function(e,t){return x.createElement(Qd,An({},e,{ref:t,sideCar:eI}))});yv.classNames=Qd.classNames;var tI=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},es=new WeakMap,El=new WeakMap,$l={},ph=0,sN=function(e){return e&&(e.host||sN(e.parentNode))},rI=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=sN(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},nI=function(e,t,r,n){var i=rI(t,Array.isArray(e)?e:[e]);$l[r]||($l[r]=new WeakMap);var s=$l[r],o=[],c=new Set,l=new Set(i),u=function(f){!f||c.has(f)||(c.add(f),u(f.parentNode))};i.forEach(u);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(c.has(h))d(h);else try{var p=h.getAttribute(n),v=p!==null&&p!=="false",m=(es.get(h)||0)+1,g=(s.get(h)||0)+1;es.set(h,m),s.set(h,g),o.push(h),m===1&&v&&El.set(h,!0),g===1&&h.setAttribute(r,"true"),v||h.setAttribute(n,"true")}catch(b){console.error("aria-hidden: cannot operate on ",h,b)}})};return d(t),c.clear(),ph++,function(){o.forEach(function(f){var h=es.get(f)-1,p=s.get(f)-1;es.set(f,h),s.set(f,p),h||(El.has(f)||f.removeAttribute(n),El.delete(f)),p||f.removeAttribute(r)}),ph--,ph||(es=new WeakMap,es=new WeakMap,El=new WeakMap,$l={})}},oN=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),i=tI(e);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live]"))),nI(n,i,r,"aria-hidden")):function(){return null}},ef="Dialog",[cN,Ece]=U$(ef),[aI,jn]=cN(ef),lN=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:i,onOpenChange:s,modal:o=!0}=e,c=x.useRef(null),l=x.useRef(null),[u,d]=G$({prop:n,defaultProp:i??!1,onChange:s,caller:ef});return a.jsx(aI,{scope:t,triggerRef:c,contentRef:l,contentId:ch(),titleId:ch(),descriptionId:ch(),open:u,onOpenChange:d,onOpenToggle:x.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};lN.displayName=ef;var uN="DialogTrigger",iI=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=jn(uN,r),s=qi(t,i.triggerRef);return a.jsx(ba.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":wv(i.open),...n,ref:s,onClick:Ra(e.onClick,i.onOpenToggle)})});iI.displayName=uN;var bv="DialogPortal",[sI,dN]=cN(bv,{forceMount:void 0}),fN=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:i}=e,s=jn(bv,t);return a.jsx(sI,{scope:t,forceMount:r,children:x.Children.map(n,o=>a.jsx(Jd,{present:r||s.open,children:a.jsx(J1,{asChild:!0,container:i,children:o})}))})};fN.displayName=bv;var xu="DialogOverlay",hN=x.forwardRef((e,t)=>{const r=dN(xu,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,s=jn(xu,e.__scopeDialog);return s.modal?a.jsx(Jd,{present:n||s.open,children:a.jsx(cI,{...i,ref:t})}):null});hN.displayName=xu;var oI=en("DialogOverlay.RemoveScroll"),cI=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=jn(xu,r);return a.jsx(yv,{as:oI,allowPinchZoom:!0,shards:[i.contentRef],children:a.jsx(ba.div,{"data-state":wv(i.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),ki="DialogContent",mN=x.forwardRef((e,t)=>{const r=dN(ki,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,s=jn(ki,e.__scopeDialog);return a.jsx(Jd,{present:n||s.open,children:s.modal?a.jsx(lI,{...i,ref:t}):a.jsx(uI,{...i,ref:t})})});mN.displayName=ki;var lI=x.forwardRef((e,t)=>{const r=jn(ki,e.__scopeDialog),n=x.useRef(null),i=qi(t,r.contentRef,n);return x.useEffect(()=>{const s=n.current;if(s)return oN(s)},[]),a.jsx(pN,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ra(e.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ra(e.onPointerDownOutside,s=>{const o=s.detail.originalEvent,c=o.button===0&&o.ctrlKey===!0;(o.button===2||c)&&s.preventDefault()}),onFocusOutside:Ra(e.onFocusOutside,s=>s.preventDefault())})}),uI=x.forwardRef((e,t)=>{const r=jn(ki,e.__scopeDialog),n=x.useRef(!1),i=x.useRef(!1);return a.jsx(pN,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,c;(o=e.onCloseAutoFocus)==null||o.call(e,s),s.defaultPrevented||(n.current||(c=r.triggerRef.current)==null||c.focus(),s.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:s=>{var l,u;(l=e.onInteractOutside)==null||l.call(e,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),pN=x.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=e,c=jn(ki,r),l=x.useRef(null),u=qi(t,l);return xD(),a.jsxs(a.Fragment,{children:[a.jsx(X1,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:s,children:a.jsx(G1,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":wv(c.open),...o,ref:u,onDismiss:()=>c.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(dI,{titleId:c.titleId}),a.jsx(hI,{contentRef:l,descriptionId:c.descriptionId})]})]})}),jv="DialogTitle",vN=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=jn(jv,r);return a.jsx(ba.h2,{id:i.titleId,...n,ref:t})});vN.displayName=jv;var gN="DialogDescription",xN=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=jn(gN,r);return a.jsx(ba.p,{id:i.descriptionId,...n,ref:t})});xN.displayName=gN;var yN="DialogClose",bN=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=jn(yN,r);return a.jsx(ba.button,{type:"button",...n,ref:t,onClick:Ra(e.onClick,()=>i.onOpenChange(!1))})});bN.displayName=yN;function wv(e){return e?"open":"closed"}var jN="DialogTitleWarning",[$ce,wN]=z$(jN,{contentName:ki,titleName:jv,docsSlug:"dialog"}),dI=({titleId:e})=>{const t=wN(jN),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},fI="DialogDescriptionWarning",hI=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${wN(fI).contentName}}.`;return x.useEffect(()=>{var s;const i=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},mI=lN,pI=fN,NN=hN,SN=mN,AN=vN,ON=xN,vI=bN;const ht=mI,gI=pI,_N=x.forwardRef(({className:e,...t},r)=>a.jsx(NN,{ref:r,className:Ye("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));_N.displayName=NN.displayName;const ot=x.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(gI,{children:[a.jsx(_N,{}),a.jsxs(SN,{ref:n,className:Ye("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,a.jsxs(vI,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(fl,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ot.displayName=SN.displayName;const ct=({className:e,...t})=>a.jsx("div",{className:Ye("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});ct.displayName="DialogHeader";const lt=({className:e,...t})=>a.jsx("div",{className:Ye("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});lt.displayName="DialogFooter";const ut=x.forwardRef(({className:e,...t},r)=>a.jsx(AN,{ref:r,className:Ye("text-lg font-semibold leading-none tracking-tight",e),...t}));ut.displayName=AN.displayName;const dt=x.forwardRef(({className:e,...t},r)=>a.jsx(ON,{ref:r,className:Ye("text-sm text-muted-foreground",e),...t}));dt.displayName=ON.displayName;const xI=()=>{const[e,t]=x.useState("phone"),[r,n]=x.useState(""),[i,s]=x.useState(!1),[o,c]=x.useState([]),[l,u]=x.useState(null),[d,f]=x.useState(!1),[h,p]=x.useState(!1),[v,m]=x.useState({status:"",dateFrom:"",dateTo:"",minAmount:"",maxAmount:""}),[g,b]=x.useState([]),y=async()=>{var C;if(!r.trim()){Z.error("請輸入搜尋資訊");return}try{s(!0);const _=e==="phone"?r.trim():void 0,T=e==="licensePlate"?r.trim().toUpperCase():void 0,D=await YE(_,T);c(D||[]),b(D||[]),(D==null?void 0:D.length)===0&&Z("找不到任何預約",{icon:"ℹ️"})}catch(_){((C=_.response)==null?void 0:C.status)===401?Z.error("請登入以查詢預約"):Z.error(_.message||"搜尋時發生錯誤")}finally{s(!1)}},w=async C=>{var _;try{const T=await JE(C);u(T),f(!0)}catch(T){((_=T.response)==null?void 0:_.status)===401?Z.error("請登入以查看預約詳情"):Z.error(T.message||"無法載入預約詳情")}},A=C=>{const _={pending:{label:"等待確認",variant:"secondary",color:"bg-yellow-100 text-yellow-800"},confirmed:{label:"預約成功",variant:"default",color:"bg-blue-100 text-blue-800"},"checked-in":{label:"已進入停車場",variant:"default",color:"bg-green-100 text-green-800"},"checked-out":{label:"已離開停車場",variant:"secondary",color:"bg-gray-100 text-gray-800"},cancelled:{label:"已取消",variant:"destructive",color:"bg-red-100 text-red-800"}},T=_[C]||_.pending;return a.jsx(Me,{variant:T.variant,className:T.color,children:T.label})},N=C=>new Date(C).toLocaleString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),j=C=>C.toLocaleString("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0,maximumFractionDigits:0}),O=C=>{if(C.icon)return C.icon;switch(C.type||C){case"indoor":return"🏢";case"outdoor":return"🌤";case"disabled":return"♿️";default:return"🚗"}},S=()=>{let C=[...o];if(v.status&&(C=C.filter(_=>_.status===v.status)),v.dateFrom){const _=new Date(v.dateFrom);C=C.filter(T=>new Date(T.checkInTime)>=_)}if(v.dateTo){const _=new Date(v.dateTo);C=C.filter(T=>new Date(T.checkInTime)<=_)}if(v.minAmount){const _=parseFloat(v.minAmount);C=C.filter(T=>T.finalAmount>=_)}if(v.maxAmount){const _=parseFloat(v.maxAmount);C=C.filter(T=>T.finalAmount<=_)}b(C)},P=()=>{m({status:"",dateFrom:"",dateTo:"",minAmount:"",maxAmount:""}),b(o)};return I.useEffect(()=>{S()},[v,o]),a.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold",children:"查詢預約"}),a.jsx("p",{className:"text-gray-600",children:"請輸入電話號碼或車牌號碼以查詢預約"})]}),a.jsxs(ue,{className:"mb-8",children:[a.jsxs(ve,{children:[a.jsxs(ge,{className:"flex items-center space-x-2",children:[a.jsx(Hr,{className:"h-5 w-5"}),a.jsx("span",{children:"查詢預約"})]}),a.jsx(Qe,{children:"選擇搜索方法並輸入信息"})]}),a.jsx(de,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex space-x-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"radio",id:"phone",name:"searchType",value:"phone",checked:e==="phone",onChange:C=>t(C.target.value),className:"w-4 h-4 text-blue-600"}),a.jsxs(K,{htmlFor:"phone",className:"flex items-center space-x-2 cursor-pointer",children:[a.jsx(ca,{className:"h-4 w-4"}),a.jsx("span",{children:"電話號碼"})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"radio",id:"licensePlate",name:"searchType",value:"licensePlate",checked:e==="licensePlate",onChange:C=>t(C.target.value),className:"w-4 h-4 text-blue-600"}),a.jsxs(K,{htmlFor:"licensePlate",className:"flex items-center space-x-2 cursor-pointer",children:[a.jsx(sr,{className:"h-4 w-4"}),a.jsx("span",{children:"車牌號碼"})]})]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx(K,{htmlFor:"searchValue",children:e==="phone"?"電話號碼":"車牌號碼"}),a.jsx(ce,{id:"searchValue",placeholder:e==="phone"?"請輸入電話號碼":"請輸入車牌號碼",value:r,onChange:C=>n(C.target.value),onKeyPress:C=>C.key==="Enter"&&y()})]}),a.jsxs("div",{className:"flex items-end space-x-2",children:[a.jsxs(q,{variant:"outline",onClick:()=>p(!h),className:"px-4",children:[a.jsx(hr,{className:"h-4 w-4 mr-2"}),"過濾器"]}),a.jsx(q,{onClick:y,disabled:i||!r.trim(),className:"px-6",children:i?a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):a.jsxs(a.Fragment,{children:[a.jsx(Hr,{className:"h-4 w-4 mr-2"}),"搜索"]})})]})]}),h&&a.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h4",{className:"font-medium text-gray-700",children:"高級過濾器"}),a.jsxs(q,{variant:"outline",size:"sm",onClick:P,children:[a.jsx(fl,{className:"h-4 w-4 mr-1"}),"清除過濾器"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"status",children:"狀態"}),a.jsxs("select",{id:"status",value:v.status,onChange:C=>m(_=>({..._,status:C.target.value})),className:"w-full p-2 border border-gray-300 rounded-md",children:[a.jsx("option",{value:"",children:"所有狀態"}),a.jsx("option",{value:"pending",children:"等待確認"}),a.jsx("option",{value:"confirmed",children:"預約成功"}),a.jsx("option",{value:"checked-in",children:"已進入停車場"}),a.jsx("option",{value:"checked-out",children:"已離開停車場"}),a.jsx("option",{value:"cancelled",children:"已取消"})]})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"dateFrom",children:"從日期"}),a.jsx(ce,{id:"dateFrom",type:"date",value:v.dateFrom,onChange:C=>m(_=>({..._,dateFrom:C.target.value}))})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"dateTo",children:"到日期"}),a.jsx(ce,{id:"dateTo",type:"date",value:v.dateTo,onChange:C=>m(_=>({..._,dateTo:C.target.value}))})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"minAmount",children:"最小金額"}),a.jsx(ce,{id:"minAmount",type:"number",placeholder:"0",value:v.minAmount,onChange:C=>m(_=>({..._,minAmount:C.target.value}))})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"maxAmount",children:"最大金額"}),a.jsx(ce,{id:"maxAmount",type:"number",placeholder:"1000000",value:v.maxAmount,onChange:C=>m(_=>({..._,maxAmount:C.target.value}))})]})]})]})]})})]}),o.length>0&&a.jsxs(ue,{children:[a.jsxs(ve,{children:[a.jsx(ge,{children:"搜索結果"}),a.jsxs(Qe,{children:["找到 ",g.length," 預約 ",g.length!==o.length&&`(總共 ${o.length})`]})]}),a.jsx(de,{children:a.jsx("div",{className:"space-y-4",children:g.map(C=>a.jsx(ue,{className:"hover:shadow-md transition-shadow",children:a.jsx(de,{className:"p-4",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx("h3",{className:"font-semibold",children:C.driverName}),A(C.status)]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ca,{className:"h-4 w-4"}),a.jsx("span",{children:C.phone})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(sr,{className:"h-4 w-4"}),a.jsx("span",{children:C.licensePlate})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Pi,{className:"h-4 w-4"}),a.jsx("span",{children:C.parkingType.name}),a.jsx("span",{className:"text-lg",children:O(C.parkingType)})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Et,{className:"h-4 w-4"}),a.jsxs("span",{children:["進入停車場: ",N(C.checkInTime)]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ur,{className:"h-4 w-4"}),a.jsxs("span",{children:["離開停車場: ",N(C.checkOutTime)]})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsxs("span",{className:"font-medium",children:["總金額: ",j(C.finalAmount)]})}),C.discountAmount>0&&a.jsx("div",{className:"flex items-center space-x-2 text-green-600",children:a.jsxs("span",{className:"text-xs",children:["🎫 折扣: -",j(C.discountAmount)]})}),C.vipDiscount&&C.vipDiscount>0&&a.jsx("div",{className:"flex items-center space-x-2 text-blue-600",children:a.jsxs("span",{className:"text-xs",children:["👑 VIP: -",j(C.vipDiscount)]})})]})]}),C.addonServices&&C.addonServices.length>0&&a.jsxs("div",{className:"mt-3",children:[a.jsx("div",{className:"text-sm font-medium text-gray-700 mb-1",children:"附加服務:"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:C.addonServices.map((_,T)=>{var D,$,k;return a.jsxs(Me,{variant:"outline",className:"text-xs",children:[((D=_.service)==null?void 0:D.icon)||_.icon||"🔧"," ",(($=_.service)==null?void 0:$.name)||_.name||"Unknown Service"," - ",j(((k=_.service)==null?void 0:k.price)||_.price||0)]},T)})})]})]}),a.jsxs(q,{variant:"outline",size:"sm",onClick:()=>w(C._id),children:[a.jsx(hu,{className:"h-4 w-4 mr-1"}),"詳細信息"]})]})})},C._id))})})]}),o.length===0&&!i&&r&&a.jsx(ue,{children:a.jsxs(de,{className:"p-8 text-center",children:[a.jsx(gs,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"找不到預約"}),a.jsxs("p",{className:"text-gray-500",children:["找不到任何預約與 ",e==="phone"?"電話號碼":"車牌號碼"," 相關。"]})]})}),a.jsx(ht,{open:d,onOpenChange:f,children:a.jsxs(ot,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[a.jsxs(ct,{children:[a.jsx(ut,{children:"預約詳細信息"}),a.jsx(dt,{children:"預約詳細信息"})]}),l&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsxs("h4",{className:"font-semibold mb-3 flex items-center",children:[a.jsx(wr,{className:"h-4 w-4 mr-2"}),"客戶信息"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"姓名:"})," ",l.driverName]}),a.jsxs("div",{children:[a.jsx("strong",{children:"電話號碼:"})," ",l.phone]}),a.jsxs("div",{children:[a.jsx("strong",{children:"電子郵件:"})," ",l.email]}),a.jsxs("div",{children:[a.jsx("strong",{children:"VIP 狀態:"})," ",l.isVIP?"👑 VIP 會員":"普通客戶"]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"車牌號碼:"})," ",l.licensePlate]}),a.jsxs("div",{children:[a.jsx("strong",{children:"乘客:"})," ",l.passengerCount," 人"]}),a.jsxs("div",{children:[a.jsx("strong",{children:"行李:"})," ",l.luggageCount," 件"]})]})]})]}),a.jsxs("div",{children:[a.jsxs("h4",{className:"font-semibold mb-3 flex items-center",children:[a.jsx(Et,{className:"h-4 w-4 mr-2"}),"預約信息"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"停車場:"})," ",l.parkingType.name]}),a.jsxs("div",{children:[a.jsx("strong",{children:"類型:"})," ",O(l.parkingType)," ",l.parkingType.type||"indoor"]}),a.jsxs("div",{children:[a.jsx("strong",{children:"狀態:"})," ",A(l.status)]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"進入停車場:"})," ",N(l.checkInTime)]}),a.jsxs("div",{children:[a.jsx("strong",{children:"離開停車場:"})," ",N(l.checkOutTime)]}),a.jsxs("div",{children:[a.jsx("strong",{children:"VIP:"})," ",l.isVIP?"是":"否"]})]})]})]}),(l.estimatedArrivalTime||l.flightNumber||l.notes)&&a.jsxs("div",{children:[a.jsxs("h4",{className:"font-semibold mb-3 flex items-center",children:[a.jsx(hu,{className:"h-4 w-4 mr-2"}),"附加信息"]}),a.jsxs("div",{className:"space-y-2 text-sm",children:[l.estimatedArrivalTime&&a.jsxs("div",{children:[a.jsx("strong",{children:"預計到達時間:"})," ",N(l.estimatedArrivalTime)]}),l.flightNumber&&a.jsxs("div",{children:[a.jsx("strong",{children:"航班號:"})," ",l.flightNumber]}),l.notes&&a.jsxs("div",{children:[a.jsx("strong",{children:"備註:"})," ",l.notes]})]})]}),l.addonServices&&l.addonServices.length>0&&a.jsxs("div",{children:[a.jsxs("h4",{className:"font-semibold mb-3 flex items-center",children:[a.jsx(ls,{className:"h-4 w-4 mr-2"}),"附加服務"]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:l.addonServices.map((C,_)=>{var T,D,$;return a.jsxs(Me,{variant:"outline",children:[((T=C.service)==null?void 0:T.icon)||C.icon||"🔧"," ",((D=C.service)==null?void 0:D.name)||C.name||"Unknown Service"," - ",j((($=C.service)==null?void 0:$.price)||C.price||0)]},_)})})]}),a.jsxs("div",{children:[a.jsxs("h4",{className:"font-semibold mb-3 flex items-center",children:[a.jsx("span",{className:"text-lg mr-2",children:"💰"}),"付款信息"]}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"總金額:"})," ",j(l.totalAmount)]}),l.discountAmount>0&&a.jsx("div",{className:"bg-green-50 p-2 rounded",children:a.jsxs("div",{children:[a.jsx("strong",{children:"🎫 折扣:"})," -",j(l.discountAmount)]})}),l.vipDiscount&&l.vipDiscount>0&&a.jsx("div",{className:"bg-blue-50 p-2 rounded",children:a.jsxs("div",{children:[a.jsx("strong",{children:"👑 VIP 折扣:"})," -",j(l.vipDiscount)]})}),a.jsxs("div",{className:"border-t pt-2",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"總折扣:"})," -",j((l.discountAmount||0)+(l.vipDiscount||0))]}),a.jsxs("div",{children:[a.jsx("strong",{children:"付款:"})," ",j(l.finalAmount)]})]}),a.jsxs("div",{children:[a.jsx("strong",{children:"付款方式:"})," ",l.paymentMethod]}),a.jsxs("div",{children:[a.jsx("strong",{children:"付款狀態:"})," ",l.paymentStatus]})]})]})]}),a.jsx(lt,{children:a.jsx(q,{variant:"outline",onClick:()=>f(!1),children:"關閉"})})]})})]})};var hl=e=>e.type==="checkbox",fi=e=>e instanceof Date,vr=e=>e==null;const PN=e=>typeof e=="object";var It=e=>!vr(e)&&!Array.isArray(e)&&PN(e)&&!fi(e),yI=e=>It(e)&&e.target?hl(e.target)?e.target.checked:e.target.value:e,bI=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,jI=(e,t)=>e.has(bI(t)),wI=e=>{const t=e.constructor&&e.constructor.prototype;return It(t)&&t.hasOwnProperty("isPrototypeOf")},Nv=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Xr(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(Nv&&(e instanceof Blob||n))&&(r||It(e)))if(t=r?[]:{},!r&&!wI(e))t=e;else for(const i in e)e.hasOwnProperty(i)&&(t[i]=Xr(e[i]));else return e;return t}var tf=e=>Array.isArray(e)?e.filter(Boolean):[],Bt=e=>e===void 0,Oe=(e,t,r)=>{if(!t||!It(e))return r;const n=tf(t.split(/[,[\].]+?/)).reduce((i,s)=>vr(i)?i:i[s],e);return Bt(n)||n===e?Bt(e[t])?r:e[t]:n},Sn=e=>typeof e=="boolean",Sv=e=>/^\w*$/.test(e),kN=e=>tf(e.replace(/["|']|\]/g,"").split(/\.|\[/)),pt=(e,t,r)=>{let n=-1;const i=Sv(t)?[t]:kN(t),s=i.length,o=s-1;for(;++n<s;){const c=i[n];let l=r;if(n!==o){const u=e[c];l=It(u)||Array.isArray(u)?u:isNaN(+i[n+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;e[c]=l,e=e[c]}return e};const Hx={BLUR:"blur",FOCUS_OUT:"focusout"},ln={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Jn={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};I.createContext(null);var NI=(e,t,r,n=!0)=>{const i={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(i,s,{get:()=>{const o=s;return t._proxyFormState[o]!==ln.all&&(t._proxyFormState[o]=!n||ln.all),e[o]}});return i},jr=e=>It(e)&&!Object.keys(e).length,SI=(e,t,r,n)=>{r(e);const{name:i,...s}=e;return jr(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(o=>t[o]===ln.all)},iu=e=>Array.isArray(e)?e:[e];function AI(e){const t=I.useRef(e);t.current=e,I.useEffect(()=>{const r=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{r&&r.unsubscribe()}},[e.disabled])}var kn=e=>typeof e=="string",OI=(e,t,r,n,i)=>kn(e)?(n&&t.watch.add(e),Oe(r,e,i)):Array.isArray(e)?e.map(s=>(n&&t.watch.add(s),Oe(r,s))):(n&&(t.watchAll=!0),r),CN=(e,t,r,n,i)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:i||!0}}:{},qx=e=>({isOnSubmit:!e||e===ln.onSubmit,isOnBlur:e===ln.onBlur,isOnChange:e===ln.onChange,isOnAll:e===ln.all,isOnTouch:e===ln.onTouched}),Kx=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const ec=(e,t,r,n)=>{for(const i of r||Object.keys(e)){const s=Oe(e,i);if(s){const{_f:o,...c}=s;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],i)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(ec(c,t))break}else if(It(c)&&ec(c,t))break}}};var _I=(e,t,r)=>{const n=iu(Oe(e,r));return pt(n,"root",t[r]),pt(e,r,n),e},Av=e=>e.type==="file",On=e=>typeof e=="function",yu=e=>{if(!Nv)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},su=e=>kn(e),Ov=e=>e.type==="radio",bu=e=>e instanceof RegExp;const Gx={value:!1,isValid:!1},Zx={value:!0,isValid:!0};var TN=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Bt(e[0].attributes.value)?Bt(e[0].value)||e[0].value===""?Zx:{value:e[0].value,isValid:!0}:Zx:Gx}return Gx};const Xx={isValid:!1,value:null};var EN=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,Xx):Xx;function Yx(e,t,r="validate"){if(su(e)||Array.isArray(e)&&e.every(su)||Sn(e)&&!e)return{type:r,message:su(e)?e:"",ref:t}}var ts=e=>It(e)&&!bu(e)?e:{value:e,message:""},Jx=async(e,t,r,n,i,s)=>{const{ref:o,refs:c,required:l,maxLength:u,minLength:d,min:f,max:h,pattern:p,validate:v,name:m,valueAsNumber:g,mount:b}=e._f,y=Oe(r,m);if(!b||t.has(m))return{};const w=c?c[0]:o,A=T=>{i&&w.reportValidity&&(w.setCustomValidity(Sn(T)?"":T||""),w.reportValidity())},N={},j=Ov(o),O=hl(o),S=j||O,P=(g||Av(o))&&Bt(o.value)&&Bt(y)||yu(o)&&o.value===""||y===""||Array.isArray(y)&&!y.length,C=CN.bind(null,m,n,N),_=(T,D,$,k=Jn.maxLength,M=Jn.minLength)=>{const E=T?D:$;N[m]={type:T?k:M,message:E,ref:o,...C(T?k:M,E)}};if(s?!Array.isArray(y)||!y.length:l&&(!S&&(P||vr(y))||Sn(y)&&!y||O&&!TN(c).isValid||j&&!EN(c).isValid)){const{value:T,message:D}=su(l)?{value:!!l,message:l}:ts(l);if(T&&(N[m]={type:Jn.required,message:D,ref:w,...C(Jn.required,D)},!n))return A(D),N}if(!P&&(!vr(f)||!vr(h))){let T,D;const $=ts(h),k=ts(f);if(!vr(y)&&!isNaN(y)){const M=o.valueAsNumber||y&&+y;vr($.value)||(T=M>$.value),vr(k.value)||(D=M<k.value)}else{const M=o.valueAsDate||new Date(y),E=X=>new Date(new Date().toDateString()+" "+X),U=o.type=="time",R=o.type=="week";kn($.value)&&y&&(T=U?E(y)>E($.value):R?y>$.value:M>new Date($.value)),kn(k.value)&&y&&(D=U?E(y)<E(k.value):R?y<k.value:M<new Date(k.value))}if((T||D)&&(_(!!T,$.message,k.message,Jn.max,Jn.min),!n))return A(N[m].message),N}if((u||d)&&!P&&(kn(y)||s&&Array.isArray(y))){const T=ts(u),D=ts(d),$=!vr(T.value)&&y.length>+T.value,k=!vr(D.value)&&y.length<+D.value;if(($||k)&&(_($,T.message,D.message),!n))return A(N[m].message),N}if(p&&!P&&kn(y)){const{value:T,message:D}=ts(p);if(bu(T)&&!y.match(T)&&(N[m]={type:Jn.pattern,message:D,ref:o,...C(Jn.pattern,D)},!n))return A(D),N}if(v){if(On(v)){const T=await v(y,r),D=Yx(T,w);if(D&&(N[m]={...D,...C(Jn.validate,D.message)},!n))return A(D.message),N}else if(It(v)){let T={};for(const D in v){if(!jr(T)&&!n)break;const $=Yx(await v[D](y,r),w,D);$&&(T={...$,...C(D,$.message)},A($.message),n&&(N[m]=T))}if(!jr(T)&&(N[m]={ref:w,...T},!n))return N}}return A(!0),N};function PI(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Bt(e)?n++:e[t[n++]];return e}function kI(e){for(const t in e)if(e.hasOwnProperty(t)&&!Bt(e[t]))return!1;return!0}function qt(e,t){const r=Array.isArray(t)?t:Sv(t)?[t]:kN(t),n=r.length===1?e:PI(e,r),i=r.length-1,s=r[i];return n&&delete n[s],i!==0&&(It(n)&&jr(n)||Array.isArray(n)&&kI(n))&&qt(e,r.slice(0,-1)),e}var vh=()=>{let e=[];return{get observers(){return e},next:i=>{for(const s of e)s.next&&s.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(s=>s!==i)}}),unsubscribe:()=>{e=[]}}},pm=e=>vr(e)||!PN(e);function Ta(e,t){if(pm(e)||pm(t))return e===t;if(fi(e)&&fi(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const i of r){const s=e[i];if(!n.includes(i))return!1;if(i!=="ref"){const o=t[i];if(fi(s)&&fi(o)||It(s)&&It(o)||Array.isArray(s)&&Array.isArray(o)?!Ta(s,o):s!==o)return!1}}return!0}var $N=e=>e.type==="select-multiple",CI=e=>Ov(e)||hl(e),gh=e=>yu(e)&&e.isConnected,DN=e=>{for(const t in e)if(On(e[t]))return!0;return!1};function ju(e,t={}){const r=Array.isArray(e);if(It(e)||r)for(const n in e)Array.isArray(e[n])||It(e[n])&&!DN(e[n])?(t[n]=Array.isArray(e[n])?[]:{},ju(e[n],t[n])):vr(e[n])||(t[n]=!0);return t}function IN(e,t,r){const n=Array.isArray(e);if(It(e)||n)for(const i in e)Array.isArray(e[i])||It(e[i])&&!DN(e[i])?Bt(t)||pm(r[i])?r[i]=Array.isArray(e[i])?ju(e[i],[]):{...ju(e[i])}:IN(e[i],vr(t)?{}:t[i],r[i]):r[i]=!Ta(e[i],t[i]);return r}var Io=(e,t)=>IN(e,t,ju(t)),MN=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Bt(e)?e:t?e===""?NaN:e&&+e:r&&kn(e)?new Date(e):n?n(e):e;function xh(e){const t=e.ref;return Av(t)?t.files:Ov(t)?EN(e.refs).value:$N(t)?[...t.selectedOptions].map(({value:r})=>r):hl(t)?TN(e.refs).value:MN(Bt(t.value)?e.ref.value:t.value,e)}var TI=(e,t,r,n)=>{const i={};for(const s of e){const o=Oe(t,s);o&&pt(i,s,o._f)}return{criteriaMode:r,names:[...e],fields:i,shouldUseNativeValidation:n}},Mo=e=>Bt(e)?e:bu(e)?e.source:It(e)?bu(e.value)?e.value.source:e.value:e;const Qx="AsyncFunction";var EI=e=>!!e&&!!e.validate&&!!(On(e.validate)&&e.validate.constructor.name===Qx||It(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===Qx)),$I=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function ey(e,t,r){const n=Oe(e,r);if(n||Sv(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const s=i.join("."),o=Oe(t,s),c=Oe(e,s);if(o&&!Array.isArray(o)&&r!==s)return{name:r};if(c&&c.type)return{name:s,error:c};i.pop()}return{name:r}}var DI=(e,t,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(t||e):(r?n.isOnBlur:i.isOnBlur)?!e:(r?n.isOnChange:i.isOnChange)?e:!0,II=(e,t)=>!tf(Oe(e,t)).length&&qt(e,t);const MI={mode:ln.onSubmit,reValidateMode:ln.onChange,shouldFocusError:!0};function RI(e={}){let t={...MI,...e},r={submitCount:0,isDirty:!1,isLoading:On(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},i=It(t.defaultValues)||It(t.values)?Xr(t.defaultValues||t.values)||{}:{},s=t.shouldUnregister?{}:Xr(i),o={action:!1,mount:!1,watch:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:vh(),array:vh(),state:vh()},h=qx(t.mode),p=qx(t.reValidateMode),v=t.criteriaMode===ln.all,m=L=>G=>{clearTimeout(u),u=setTimeout(L,G)},g=async L=>{if(!t.disabled&&(d.isValid||L)){const G=t.resolver?jr((await S()).errors):await C(n,!0);G!==r.isValid&&f.state.next({isValid:G})}},b=(L,G)=>{!t.disabled&&(d.isValidating||d.validatingFields)&&((L||Array.from(c.mount)).forEach(Y=>{Y&&(G?pt(r.validatingFields,Y,G):qt(r.validatingFields,Y))}),f.state.next({validatingFields:r.validatingFields,isValidating:!jr(r.validatingFields)}))},y=(L,G=[],Y,z,re=!0,se=!0)=>{if(z&&Y&&!t.disabled){if(o.action=!0,se&&Array.isArray(Oe(n,L))){const Ce=Y(Oe(n,L),z.argA,z.argB);re&&pt(n,L,Ce)}if(se&&Array.isArray(Oe(r.errors,L))){const Ce=Y(Oe(r.errors,L),z.argA,z.argB);re&&pt(r.errors,L,Ce),II(r.errors,L)}if(d.touchedFields&&se&&Array.isArray(Oe(r.touchedFields,L))){const Ce=Y(Oe(r.touchedFields,L),z.argA,z.argB);re&&pt(r.touchedFields,L,Ce)}d.dirtyFields&&(r.dirtyFields=Io(i,s)),f.state.next({name:L,isDirty:T(L,G),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else pt(s,L,G)},w=(L,G)=>{pt(r.errors,L,G),f.state.next({errors:r.errors})},A=L=>{r.errors=L,f.state.next({errors:r.errors,isValid:!1})},N=(L,G,Y,z)=>{const re=Oe(n,L);if(re){const se=Oe(s,L,Bt(Y)?Oe(i,L):Y);Bt(se)||z&&z.defaultChecked||G?pt(s,L,G?se:xh(re._f)):k(L,se),o.mount&&g()}},j=(L,G,Y,z,re)=>{let se=!1,Ce=!1;const J={name:L};if(!t.disabled){const Ee=!!(Oe(n,L)&&Oe(n,L)._f&&Oe(n,L)._f.disabled);if(!Y||z){d.isDirty&&(Ce=r.isDirty,r.isDirty=J.isDirty=T(),se=Ce!==J.isDirty);const Q=Ee||Ta(Oe(i,L),G);Ce=!!(!Ee&&Oe(r.dirtyFields,L)),Q||Ee?qt(r.dirtyFields,L):pt(r.dirtyFields,L,!0),J.dirtyFields=r.dirtyFields,se=se||d.dirtyFields&&Ce!==!Q}if(Y){const Q=Oe(r.touchedFields,L);Q||(pt(r.touchedFields,L,Y),J.touchedFields=r.touchedFields,se=se||d.touchedFields&&Q!==Y)}se&&re&&f.state.next(J)}return se?J:{}},O=(L,G,Y,z)=>{const re=Oe(r.errors,L),se=d.isValid&&Sn(G)&&r.isValid!==G;if(t.delayError&&Y?(l=m(()=>w(L,Y)),l(t.delayError)):(clearTimeout(u),l=null,Y?pt(r.errors,L,Y):qt(r.errors,L)),(Y?!Ta(re,Y):re)||!jr(z)||se){const Ce={...z,...se&&Sn(G)?{isValid:G}:{},errors:r.errors,name:L};r={...r,...Ce},f.state.next(Ce)}},S=async L=>{b(L,!0);const G=await t.resolver(s,t.context,TI(L||c.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return b(L),G},P=async L=>{const{errors:G}=await S(L);if(L)for(const Y of L){const z=Oe(G,Y);z?pt(r.errors,Y,z):qt(r.errors,Y)}else r.errors=G;return G},C=async(L,G,Y={valid:!0})=>{for(const z in L){const re=L[z];if(re){const{_f:se,...Ce}=re;if(se){const J=c.array.has(se.name),Ee=re._f&&EI(re._f);Ee&&d.validatingFields&&b([z],!0);const Q=await Jx(re,c.disabled,s,v,t.shouldUseNativeValidation&&!G,J);if(Ee&&d.validatingFields&&b([z]),Q[se.name]&&(Y.valid=!1,G))break;!G&&(Oe(Q,se.name)?J?_I(r.errors,Q,se.name):pt(r.errors,se.name,Q[se.name]):qt(r.errors,se.name))}!jr(Ce)&&await C(Ce,G,Y)}}return Y.valid},_=()=>{for(const L of c.unMount){const G=Oe(n,L);G&&(G._f.refs?G._f.refs.every(Y=>!gh(Y)):!gh(G._f.ref))&&Le(L)}c.unMount=new Set},T=(L,G)=>!t.disabled&&(L&&G&&pt(s,L,G),!Ta(F(),i)),D=(L,G,Y)=>OI(L,c,{...o.mount?s:Bt(G)?i:kn(L)?{[L]:G}:G},Y,G),$=L=>tf(Oe(o.mount?s:i,L,t.shouldUnregister?Oe(i,L,[]):[])),k=(L,G,Y={})=>{const z=Oe(n,L);let re=G;if(z){const se=z._f;se&&(!se.disabled&&pt(s,L,MN(G,se)),re=yu(se.ref)&&vr(G)?"":G,$N(se.ref)?[...se.ref.options].forEach(Ce=>Ce.selected=re.includes(Ce.value)):se.refs?hl(se.ref)?se.refs.length>1?se.refs.forEach(Ce=>(!Ce.defaultChecked||!Ce.disabled)&&(Ce.checked=Array.isArray(re)?!!re.find(J=>J===Ce.value):re===Ce.value)):se.refs[0]&&(se.refs[0].checked=!!re):se.refs.forEach(Ce=>Ce.checked=Ce.value===re):Av(se.ref)?se.ref.value="":(se.ref.value=re,se.ref.type||f.values.next({name:L,values:{...s}})))}(Y.shouldDirty||Y.shouldTouch)&&j(L,re,Y.shouldTouch,Y.shouldDirty,!0),Y.shouldValidate&&X(L)},M=(L,G,Y)=>{for(const z in G){const re=G[z],se=`${L}.${z}`,Ce=Oe(n,se);(c.array.has(L)||It(re)||Ce&&!Ce._f)&&!fi(re)?M(se,re,Y):k(se,re,Y)}},E=(L,G,Y={})=>{const z=Oe(n,L),re=c.array.has(L),se=Xr(G);pt(s,L,se),re?(f.array.next({name:L,values:{...s}}),(d.isDirty||d.dirtyFields)&&Y.shouldDirty&&f.state.next({name:L,dirtyFields:Io(i,s),isDirty:T(L,se)})):z&&!z._f&&!vr(se)?M(L,se,Y):k(L,se,Y),Kx(L,c)&&f.state.next({...r}),f.values.next({name:o.mount?L:void 0,values:{...s}})},U=async L=>{o.mount=!0;const G=L.target;let Y=G.name,z=!0;const re=Oe(n,Y),se=()=>G.type?xh(re._f):yI(L),Ce=J=>{z=Number.isNaN(J)||fi(J)&&isNaN(J.getTime())||Ta(J,Oe(s,Y,J))};if(re){let J,Ee;const Q=se(),oe=L.type===Hx.BLUR||L.type===Hx.FOCUS_OUT,Be=!$I(re._f)&&!t.resolver&&!Oe(r.errors,Y)&&!re._f.deps||DI(oe,Oe(r.touchedFields,Y),r.isSubmitted,p,h),B=Kx(Y,c,oe);pt(s,Y,Q),oe?(re._f.onBlur&&re._f.onBlur(L),l&&l(0)):re._f.onChange&&re._f.onChange(L);const ae=j(Y,Q,oe,!1),Fe=!jr(ae)||B;if(!oe&&f.values.next({name:Y,type:L.type,values:{...s}}),Be)return d.isValid&&(t.mode==="onBlur"&&oe?g():oe||g()),Fe&&f.state.next({name:Y,...B?{}:ae});if(!oe&&B&&f.state.next({...r}),t.resolver){const{errors:$e}=await S([Y]);if(Ce(Q),z){const Ut=ey(r.errors,n,Y),St=ey($e,n,Ut.name||Y);J=St.error,Y=St.name,Ee=jr($e)}}else b([Y],!0),J=(await Jx(re,c.disabled,s,v,t.shouldUseNativeValidation))[Y],b([Y]),Ce(Q),z&&(J?Ee=!1:d.isValid&&(Ee=await C(n,!0)));z&&(re._f.deps&&X(re._f.deps),O(Y,Ee,J,ae))}},R=(L,G)=>{if(Oe(r.errors,G)&&L.focus)return L.focus(),1},X=async(L,G={})=>{let Y,z;const re=iu(L);if(t.resolver){const se=await P(Bt(L)?L:re);Y=jr(se),z=L?!re.some(Ce=>Oe(se,Ce)):Y}else L?(z=(await Promise.all(re.map(async se=>{const Ce=Oe(n,se);return await C(Ce&&Ce._f?{[se]:Ce}:Ce)}))).every(Boolean),!(!z&&!r.isValid)&&g()):z=Y=await C(n);return f.state.next({...!kn(L)||d.isValid&&Y!==r.isValid?{}:{name:L},...t.resolver||!L?{isValid:Y}:{},errors:r.errors}),G.shouldFocus&&!z&&ec(n,R,L?re:c.mount),z},F=L=>{const G={...o.mount?s:i};return Bt(L)?G:kn(L)?Oe(G,L):L.map(Y=>Oe(G,Y))},ie=(L,G)=>({invalid:!!Oe((G||r).errors,L),isDirty:!!Oe((G||r).dirtyFields,L),error:Oe((G||r).errors,L),isValidating:!!Oe(r.validatingFields,L),isTouched:!!Oe((G||r).touchedFields,L)}),V=L=>{L&&iu(L).forEach(G=>qt(r.errors,G)),f.state.next({errors:L?r.errors:{}})},H=(L,G,Y)=>{const z=(Oe(n,L,{_f:{}})._f||{}).ref,re=Oe(r.errors,L)||{},{ref:se,message:Ce,type:J,...Ee}=re;pt(r.errors,L,{...Ee,...G,ref:z}),f.state.next({name:L,errors:r.errors,isValid:!1}),Y&&Y.shouldFocus&&z&&z.focus&&z.focus()},fe=(L,G)=>On(L)?f.values.subscribe({next:Y=>L(D(void 0,G),Y)}):D(L,G,!0),Le=(L,G={})=>{for(const Y of L?iu(L):c.mount)c.mount.delete(Y),c.array.delete(Y),G.keepValue||(qt(n,Y),qt(s,Y)),!G.keepError&&qt(r.errors,Y),!G.keepDirty&&qt(r.dirtyFields,Y),!G.keepTouched&&qt(r.touchedFields,Y),!G.keepIsValidating&&qt(r.validatingFields,Y),!t.shouldUnregister&&!G.keepDefaultValue&&qt(i,Y);f.values.next({values:{...s}}),f.state.next({...r,...G.keepDirty?{isDirty:T()}:{}}),!G.keepIsValid&&g()},me=({disabled:L,name:G,field:Y,fields:z})=>{(Sn(L)&&o.mount||L||c.disabled.has(G))&&(L?c.disabled.add(G):c.disabled.delete(G),j(G,xh(Y?Y._f:Oe(z,G)._f),!1,!1,!0))},Pe=(L,G={})=>{let Y=Oe(n,L);const z=Sn(G.disabled)||Sn(t.disabled);return pt(n,L,{...Y||{},_f:{...Y&&Y._f?Y._f:{ref:{name:L}},name:L,mount:!0,...G}}),c.mount.add(L),Y?me({field:Y,disabled:Sn(G.disabled)?G.disabled:t.disabled,name:L}):N(L,!0,G.value),{...z?{disabled:G.disabled||t.disabled}:{},...t.progressive?{required:!!G.required,min:Mo(G.min),max:Mo(G.max),minLength:Mo(G.minLength),maxLength:Mo(G.maxLength),pattern:Mo(G.pattern)}:{},name:L,onChange:U,onBlur:U,ref:re=>{if(re){Pe(L,G),Y=Oe(n,L);const se=Bt(re.value)&&re.querySelectorAll&&re.querySelectorAll("input,select,textarea")[0]||re,Ce=CI(se),J=Y._f.refs||[];if(Ce?J.find(Ee=>Ee===se):se===Y._f.ref)return;pt(n,L,{_f:{...Y._f,...Ce?{refs:[...J.filter(gh),se,...Array.isArray(Oe(i,L))?[{}]:[]],ref:{type:se.type,name:L}}:{ref:se}}}),N(L,!1,void 0,se)}else Y=Oe(n,L,{}),Y._f&&(Y._f.mount=!1),(t.shouldUnregister||G.shouldUnregister)&&!(jI(c.array,L)&&o.action)&&c.unMount.add(L)}}},le=()=>t.shouldFocusError&&ec(n,R,c.mount),ye=L=>{Sn(L)&&(f.state.next({disabled:L}),ec(n,(G,Y)=>{const z=Oe(n,Y);z&&(G.disabled=z._f.disabled||L,Array.isArray(z._f.refs)&&z._f.refs.forEach(re=>{re.disabled=z._f.disabled||L}))},0,!1))},xe=(L,G)=>async Y=>{let z;Y&&(Y.preventDefault&&Y.preventDefault(),Y.persist&&Y.persist());let re=Xr(s);if(c.disabled.size)for(const se of c.disabled)pt(re,se,void 0);if(f.state.next({isSubmitting:!0}),t.resolver){const{errors:se,values:Ce}=await S();r.errors=se,re=Ce}else await C(n);if(qt(r.errors,"root"),jr(r.errors)){f.state.next({errors:{}});try{await L(re,Y)}catch(se){z=se}}else G&&await G({...r.errors},Y),le(),setTimeout(le);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:jr(r.errors)&&!z,submitCount:r.submitCount+1,errors:r.errors}),z)throw z},te=(L,G={})=>{Oe(n,L)&&(Bt(G.defaultValue)?E(L,Xr(Oe(i,L))):(E(L,G.defaultValue),pt(i,L,Xr(G.defaultValue))),G.keepTouched||qt(r.touchedFields,L),G.keepDirty||(qt(r.dirtyFields,L),r.isDirty=G.defaultValue?T(L,Xr(Oe(i,L))):T()),G.keepError||(qt(r.errors,L),d.isValid&&g()),f.state.next({...r}))},Ve=(L,G={})=>{const Y=L?Xr(L):i,z=Xr(Y),re=jr(L),se=re?i:z;if(G.keepDefaultValues||(i=Y),!G.keepValues){if(G.keepDirtyValues){const Ce=new Set([...c.mount,...Object.keys(Io(i,s))]);for(const J of Array.from(Ce))Oe(r.dirtyFields,J)?pt(se,J,Oe(s,J)):E(J,Oe(se,J))}else{if(Nv&&Bt(L))for(const Ce of c.mount){const J=Oe(n,Ce);if(J&&J._f){const Ee=Array.isArray(J._f.refs)?J._f.refs[0]:J._f.ref;if(yu(Ee)){const Q=Ee.closest("form");if(Q){Q.reset();break}}}}n={}}s=t.shouldUnregister?G.keepDefaultValues?Xr(i):{}:Xr(se),f.array.next({values:{...se}}),f.values.next({values:{...se}})}c={mount:G.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!G.keepIsValid||!!G.keepDirtyValues,o.watch=!!t.shouldUnregister,f.state.next({submitCount:G.keepSubmitCount?r.submitCount:0,isDirty:re?!1:G.keepDirty?r.isDirty:!!(G.keepDefaultValues&&!Ta(L,i)),isSubmitted:G.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:re?{}:G.keepDirtyValues?G.keepDefaultValues&&s?Io(i,s):r.dirtyFields:G.keepDefaultValues&&L?Io(i,L):G.keepDirty?r.dirtyFields:{},touchedFields:G.keepTouched?r.touchedFields:{},errors:G.keepErrors?r.errors:{},isSubmitSuccessful:G.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Te=(L,G)=>Ve(On(L)?L(s):L,G);return{control:{register:Pe,unregister:Le,getFieldState:ie,handleSubmit:xe,setError:H,_executeSchema:S,_getWatch:D,_getDirty:T,_updateValid:g,_removeUnmounted:_,_updateFieldArray:y,_updateDisabledField:me,_getFieldArray:$,_reset:Ve,_resetDefaultValues:()=>On(t.defaultValues)&&t.defaultValues().then(L=>{Te(L,t.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:L=>{r={...r,...L}},_disableForm:ye,_subjects:f,_proxyFormState:d,_setErrors:A,get _fields(){return n},get _formValues(){return s},get _state(){return o},set _state(L){o=L},get _defaultValues(){return i},get _names(){return c},set _names(L){c=L},get _formState(){return r},set _formState(L){r=L},get _options(){return t},set _options(L){t={...t,...L}}},trigger:X,register:Pe,handleSubmit:xe,watch:fe,setValue:E,getValues:F,reset:Te,resetField:te,clearErrors:V,unregister:Le,setError:H,setFocus:(L,G={})=>{const Y=Oe(n,L),z=Y&&Y._f;if(z){const re=z.refs?z.refs[0]:z.ref;re.focus&&(re.focus(),G.shouldSelect&&On(re.select)&&re.select())}},getFieldState:ie}}function RN(e={}){const t=I.useRef(void 0),r=I.useRef(void 0),[n,i]=I.useState({isDirty:!1,isValidating:!1,isLoading:On(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:On(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...RI(e),formState:n});const s=t.current.control;return s._options=e,AI({subject:s._subjects.state,next:o=>{SI(o,s._proxyFormState,s._updateFormState)&&i({...s._formState})}}),I.useEffect(()=>s._disableForm(e.disabled),[s,e.disabled]),I.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==n.isDirty&&s._subjects.state.next({isDirty:o})}},[s,n.isDirty]),I.useEffect(()=>{e.values&&!Ta(e.values,r.current)?(s._reset(e.values,s._options.resetOptions),r.current=e.values,i(o=>({...o}))):s._resetDefaultValues()},[e.values,s]),I.useEffect(()=>{e.errors&&s._setErrors(e.errors)},[e.errors,s]),I.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),I.useEffect(()=>{e.shouldUnregister&&s._subjects.values.next({values:s._getWatch()})},[e.shouldUnregister,s]),t.current.formState=NI(n,s),t.current}const ty=(e,t,r)=>{if(e&&"reportValidity"in e){const n=Oe(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},LN=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?ty(n.ref,r,e):n.refs&&n.refs.forEach(i=>ty(i,r,e))}},LI=(e,t)=>{t.shouldUseNativeValidation&&LN(e,t);const r={};for(const n in e){const i=Oe(t.fields,n),s=Object.assign(e[n]||{},{ref:i&&i.ref});if(FI(t.names||Object.keys(e),n)){const o=Object.assign({},Oe(r,n));pt(o,"root",s),pt(r,n,o)}else pt(r,n,s)}return r},FI=(e,t)=>e.some(r=>r.startsWith(t+"."));var BI=function(e,t){for(var r={};e.length;){var n=e[0],i=n.code,s=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var c=n.unionErrors[0].errors[0];r[o]={message:c.message,type:c.code}}else r[o]={message:s,type:i};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var l=r[o].types,u=l&&l[n.code];r[o]=CN(o,t,r,i,u?[].concat(u,n.message):n.message)}e.shift()}return r},FN=function(e,t,r){return r===void 0&&(r={}),function(n,i,s){try{return Promise.resolve(function(o,c){try{var l=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return s.shouldUseNativeValidation&&LN({},s),{errors:{},values:r.raw?n:u}})}catch(u){return c(u)}return l&&l.then?l.then(void 0,c):l}(0,function(o){if(function(c){return Array.isArray(c==null?void 0:c.errors)}(o))return{values:{},errors:LI(BI(o.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw o}))}catch(o){return Promise.reject(o)}}},at;(function(e){e.assertEqual=i=>i;function t(i){}e.assertIs=t;function r(i){throw new Error}e.assertNever=r,e.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},e.getValidEnumValues=i=>{const s=e.objectKeys(i).filter(c=>typeof i[i[c]]!="number"),o={};for(const c of s)o[c]=i[c];return e.objectValues(o)},e.objectValues=i=>e.objectKeys(i).map(function(s){return i[s]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},e.find=(i,s)=>{for(const o of i)if(s(o))return o},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function n(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}e.joinValues=n,e.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(at||(at={}));var vm;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(vm||(vm={}));const Ne=at.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ra=e=>{switch(typeof e){case"undefined":return Ne.undefined;case"string":return Ne.string;case"number":return isNaN(e)?Ne.nan:Ne.number;case"boolean":return Ne.boolean;case"function":return Ne.function;case"bigint":return Ne.bigint;case"symbol":return Ne.symbol;case"object":return Array.isArray(e)?Ne.array:e===null?Ne.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Ne.promise:typeof Map<"u"&&e instanceof Map?Ne.map:typeof Set<"u"&&e instanceof Set?Ne.set:typeof Date<"u"&&e instanceof Date?Ne.date:Ne.object;default:return Ne.unknown}},he=at.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),VI=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class Mr extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(s){return s.message},n={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let c=n,l=0;for(;l<o.path.length;){const u=o.path[l];l===o.path.length-1?(c[u]=c[u]||{_errors:[]},c[u]._errors.push(r(o))):c[u]=c[u]||{_errors:[]},c=c[u],l++}}};return i(this),n}static assert(t){if(!(t instanceof Mr))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,at.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const i of this.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(t(i))):n.push(t(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Mr.create=e=>new Mr(e);const Ps=(e,t)=>{let r;switch(e.code){case he.invalid_type:e.received===Ne.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case he.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,at.jsonStringifyReplacer)}`;break;case he.unrecognized_keys:r=`Unrecognized key(s) in object: ${at.joinValues(e.keys,", ")}`;break;case he.invalid_union:r="Invalid input";break;case he.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${at.joinValues(e.options)}`;break;case he.invalid_enum_value:r=`Invalid enum value. Expected ${at.joinValues(e.options)}, received '${e.received}'`;break;case he.invalid_arguments:r="Invalid function arguments";break;case he.invalid_return_type:r="Invalid function return type";break;case he.invalid_date:r="Invalid date";break;case he.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:at.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case he.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case he.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case he.custom:r="Invalid input";break;case he.invalid_intersection_types:r="Intersection results could not be merged";break;case he.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case he.not_finite:r="Number must be finite";break;default:r=t.defaultError,at.assertNever(e)}return{message:r}};let BN=Ps;function zI(e){BN=e}function wu(){return BN}const Nu=e=>{const{data:t,path:r,errorMaps:n,issueData:i}=e,s=[...r,...i.path||[]],o={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let c="";const l=n.filter(u=>!!u).slice().reverse();for(const u of l)c=u(o,{data:t,defaultError:c}).message;return{...i,path:s,message:c}},UI=[];function be(e,t){const r=wu(),n=Nu({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===Ps?void 0:Ps].filter(i=>!!i)});e.common.issues.push(n)}class pr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const i of r){if(i.status==="aborted")return He;i.status==="dirty"&&t.dirty(),n.push(i.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const i of r){const s=await i.key,o=await i.value;n.push({key:s,value:o})}return pr.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const i of r){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return He;s.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(n[s.value]=o.value)}return{status:t.value,value:n}}}const He=Object.freeze({status:"aborted"}),us=e=>({status:"dirty",value:e}),br=e=>({status:"valid",value:e}),gm=e=>e.status==="aborted",xm=e=>e.status==="dirty",Ci=e=>e.status==="valid",fc=e=>typeof Promise<"u"&&e instanceof Promise;function Su(e,t,r,n){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function VN(e,t,r,n,i){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}var Ie;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Ie||(Ie={}));var Zo,Xo;class Bn{constructor(t,r,n,i){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const ry=(e,t)=>{if(Ci(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Mr(e.common.issues);return this._error=r,this._error}}};function Ze(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:i}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(o,c)=>{var l,u;const{message:d}=e;return o.code==="invalid_enum_value"?{message:d??c.defaultError}:typeof c.data>"u"?{message:(l=d??n)!==null&&l!==void 0?l:c.defaultError}:o.code!=="invalid_type"?{message:c.defaultError}:{message:(u=d??r)!==null&&u!==void 0?u:c.defaultError}},description:i}}class Je{get description(){return this._def.description}_getType(t){return ra(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:ra(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new pr,ctx:{common:t.parent.common,data:t.data,parsedType:ra(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(fc(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){var n;const i={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ra(t)},s=this._parseSync({data:t,path:i.path,parent:i});return ry(i,s)}"~validate"(t){var r,n;const i={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ra(t)};if(!this["~standard"].async)try{const s=this._parseSync({data:t,path:[],parent:i});return Ci(s)?{value:s.value}:{issues:i.common.issues}}catch(s){!((n=(r=s==null?void 0:s.message)===null||r===void 0?void 0:r.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),i.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:i}).then(s=>Ci(s)?{value:s.value}:{issues:i.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ra(t)},i=this._parse({data:t,path:n.path,parent:n}),s=await(fc(i)?i:Promise.resolve(i));return ry(n,s)}refine(t,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,s)=>{const o=t(i),c=()=>s.addIssue({code:he.custom,...n(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(c(),!1)):o?!0:(c(),!1)})}refinement(t,r){return this._refinement((n,i)=>t(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(t){return new vn({schema:this,typeName:We.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Dn.create(this,this._def)}nullable(){return za.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return mn.create(this)}promise(){return Cs.create(this,this._def)}or(t){return vc.create([this,t],this._def)}and(t){return gc.create(this,t,this._def)}transform(t){return new vn({...Ze(this._def),schema:this,typeName:We.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new wc({...Ze(this._def),innerType:this,defaultValue:r,typeName:We.ZodDefault})}brand(){return new _v({typeName:We.ZodBranded,type:this,...Ze(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new Nc({...Ze(this._def),innerType:this,catchValue:r,typeName:We.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return ml.create(this,t)}readonly(){return Sc.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const WI=/^c[^\s-]{8,}$/i,HI=/^[0-9a-z]+$/,qI=/^[0-9A-HJKMNP-TV-Z]{26}$/i,KI=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,GI=/^[a-z0-9_-]{21}$/i,ZI=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,XI=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,YI=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,JI="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let yh;const QI=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,eM=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,tM=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,rM=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,nM=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,aM=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,zN="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",iM=new RegExp(`^${zN}$`);function UN(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function sM(e){return new RegExp(`^${UN(e)}$`)}function WN(e){let t=`${zN}T${UN(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function oM(e,t){return!!((t==="v4"||!t)&&QI.test(e)||(t==="v6"||!t)&&tM.test(e))}function cM(e,t){if(!ZI.test(e))return!1;try{const[r]=e.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||!i.typ||!i.alg||t&&i.alg!==t)}catch{return!1}}function lM(e,t){return!!((t==="v4"||!t)&&eM.test(e)||(t==="v6"||!t)&&rM.test(e))}class dn extends Je{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Ne.string){const s=this._getOrReturnCtx(t);return be(s,{code:he.invalid_type,expected:Ne.string,received:s.parsedType}),He}const n=new pr;let i;for(const s of this._def.checks)if(s.kind==="min")t.data.length<s.value&&(i=this._getOrReturnCtx(t,i),be(i,{code:he.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")t.data.length>s.value&&(i=this._getOrReturnCtx(t,i),be(i,{code:he.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){const o=t.data.length>s.value,c=t.data.length<s.value;(o||c)&&(i=this._getOrReturnCtx(t,i),o?be(i,{code:he.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):c&&be(i,{code:he.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")YI.test(t.data)||(i=this._getOrReturnCtx(t,i),be(i,{validation:"email",code:he.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")yh||(yh=new RegExp(JI,"u")),yh.test(t.data)||(i=this._getOrReturnCtx(t,i),be(i,{validation:"emoji",code:he.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")KI.test(t.data)||(i=this._getOrReturnCtx(t,i),be(i,{validation:"uuid",code:he.invalid_string,message:s.message}),n.dirty());else if(s.kind==="nanoid")GI.test(t.data)||(i=this._getOrReturnCtx(t,i),be(i,{validation:"nanoid",code:he.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")WI.test(t.data)||(i=this._getOrReturnCtx(t,i),be(i,{validation:"cuid",code:he.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")HI.test(t.data)||(i=this._getOrReturnCtx(t,i),be(i,{validation:"cuid2",code:he.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")qI.test(t.data)||(i=this._getOrReturnCtx(t,i),be(i,{validation:"ulid",code:he.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),be(i,{validation:"url",code:he.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),be(i,{validation:"regex",code:he.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?t.data=t.data.trim():s.kind==="includes"?t.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(t,i),be(i,{code:he.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?t.data=t.data.toLowerCase():s.kind==="toUpperCase"?t.data=t.data.toUpperCase():s.kind==="startsWith"?t.data.startsWith(s.value)||(i=this._getOrReturnCtx(t,i),be(i,{code:he.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?t.data.endsWith(s.value)||(i=this._getOrReturnCtx(t,i),be(i,{code:he.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?WN(s).test(t.data)||(i=this._getOrReturnCtx(t,i),be(i,{code:he.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="date"?iM.test(t.data)||(i=this._getOrReturnCtx(t,i),be(i,{code:he.invalid_string,validation:"date",message:s.message}),n.dirty()):s.kind==="time"?sM(s).test(t.data)||(i=this._getOrReturnCtx(t,i),be(i,{code:he.invalid_string,validation:"time",message:s.message}),n.dirty()):s.kind==="duration"?XI.test(t.data)||(i=this._getOrReturnCtx(t,i),be(i,{validation:"duration",code:he.invalid_string,message:s.message}),n.dirty()):s.kind==="ip"?oM(t.data,s.version)||(i=this._getOrReturnCtx(t,i),be(i,{validation:"ip",code:he.invalid_string,message:s.message}),n.dirty()):s.kind==="jwt"?cM(t.data,s.alg)||(i=this._getOrReturnCtx(t,i),be(i,{validation:"jwt",code:he.invalid_string,message:s.message}),n.dirty()):s.kind==="cidr"?lM(t.data,s.version)||(i=this._getOrReturnCtx(t,i),be(i,{validation:"cidr",code:he.invalid_string,message:s.message}),n.dirty()):s.kind==="base64"?nM.test(t.data)||(i=this._getOrReturnCtx(t,i),be(i,{validation:"base64",code:he.invalid_string,message:s.message}),n.dirty()):s.kind==="base64url"?aM.test(t.data)||(i=this._getOrReturnCtx(t,i),be(i,{validation:"base64url",code:he.invalid_string,message:s.message}),n.dirty()):at.assertNever(s);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(i=>t.test(i),{validation:r,code:he.invalid_string,...Ie.errToObj(n)})}_addCheck(t){return new dn({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Ie.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Ie.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Ie.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Ie.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Ie.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Ie.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Ie.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Ie.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Ie.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Ie.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Ie.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Ie.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Ie.errToObj(t)})}datetime(t){var r,n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1,local:(n=t==null?void 0:t.local)!==null&&n!==void 0?n:!1,...Ie.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Ie.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Ie.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Ie.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...Ie.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Ie.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Ie.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Ie.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Ie.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Ie.errToObj(r)})}nonempty(t){return this.min(1,Ie.errToObj(t))}trim(){return new dn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new dn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new dn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}dn.create=e=>{var t;return new dn({checks:[],typeName:We.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Ze(e)})};function uM(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,i=r>n?r:n,s=parseInt(e.toFixed(i).replace(".","")),o=parseInt(t.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}class Fa extends Je{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Ne.number){const s=this._getOrReturnCtx(t);return be(s,{code:he.invalid_type,expected:Ne.number,received:s.parsedType}),He}let n;const i=new pr;for(const s of this._def.checks)s.kind==="int"?at.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),be(n,{code:he.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(n=this._getOrReturnCtx(t,n),be(n,{code:he.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(n=this._getOrReturnCtx(t,n),be(n,{code:he.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?uM(t.data,s.value)!==0&&(n=this._getOrReturnCtx(t,n),be(n,{code:he.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),be(n,{code:he.not_finite,message:s.message}),i.dirty()):at.assertNever(s);return{status:i.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Ie.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ie.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ie.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ie.toString(r))}setLimit(t,r,n,i){return new Fa({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Ie.toString(i)}]})}_addCheck(t){return new Fa({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Ie.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ie.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ie.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ie.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ie.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ie.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Ie.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ie.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ie.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&at.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Fa.create=e=>new Fa({checks:[],typeName:We.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Ze(e)});class Ba extends Je{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Ne.bigint)return this._getInvalidInput(t);let n;const i=new pr;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(n=this._getOrReturnCtx(t,n),be(n,{code:he.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(n=this._getOrReturnCtx(t,n),be(n,{code:he.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?t.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),be(n,{code:he.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):at.assertNever(s);return{status:i.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return be(r,{code:he.invalid_type,expected:Ne.bigint,received:r.parsedType}),He}gte(t,r){return this.setLimit("min",t,!0,Ie.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ie.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ie.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ie.toString(r))}setLimit(t,r,n,i){return new Ba({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Ie.toString(i)}]})}_addCheck(t){return new Ba({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ie.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ie.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ie.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ie.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ie.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Ba.create=e=>{var t;return new Ba({checks:[],typeName:We.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Ze(e)})};class hc extends Je{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Ne.boolean){const n=this._getOrReturnCtx(t);return be(n,{code:he.invalid_type,expected:Ne.boolean,received:n.parsedType}),He}return br(t.data)}}hc.create=e=>new hc({typeName:We.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Ze(e)});class Ti extends Je{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Ne.date){const s=this._getOrReturnCtx(t);return be(s,{code:he.invalid_type,expected:Ne.date,received:s.parsedType}),He}if(isNaN(t.data.getTime())){const s=this._getOrReturnCtx(t);return be(s,{code:he.invalid_date}),He}const n=new pr;let i;for(const s of this._def.checks)s.kind==="min"?t.data.getTime()<s.value&&(i=this._getOrReturnCtx(t,i),be(i,{code:he.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?t.data.getTime()>s.value&&(i=this._getOrReturnCtx(t,i),be(i,{code:he.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):at.assertNever(s);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Ti({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Ie.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Ie.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Ti.create=e=>new Ti({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:We.ZodDate,...Ze(e)});class Au extends Je{_parse(t){if(this._getType(t)!==Ne.symbol){const n=this._getOrReturnCtx(t);return be(n,{code:he.invalid_type,expected:Ne.symbol,received:n.parsedType}),He}return br(t.data)}}Au.create=e=>new Au({typeName:We.ZodSymbol,...Ze(e)});class mc extends Je{_parse(t){if(this._getType(t)!==Ne.undefined){const n=this._getOrReturnCtx(t);return be(n,{code:he.invalid_type,expected:Ne.undefined,received:n.parsedType}),He}return br(t.data)}}mc.create=e=>new mc({typeName:We.ZodUndefined,...Ze(e)});class pc extends Je{_parse(t){if(this._getType(t)!==Ne.null){const n=this._getOrReturnCtx(t);return be(n,{code:he.invalid_type,expected:Ne.null,received:n.parsedType}),He}return br(t.data)}}pc.create=e=>new pc({typeName:We.ZodNull,...Ze(e)});class ks extends Je{constructor(){super(...arguments),this._any=!0}_parse(t){return br(t.data)}}ks.create=e=>new ks({typeName:We.ZodAny,...Ze(e)});class ji extends Je{constructor(){super(...arguments),this._unknown=!0}_parse(t){return br(t.data)}}ji.create=e=>new ji({typeName:We.ZodUnknown,...Ze(e)});class ma extends Je{_parse(t){const r=this._getOrReturnCtx(t);return be(r,{code:he.invalid_type,expected:Ne.never,received:r.parsedType}),He}}ma.create=e=>new ma({typeName:We.ZodNever,...Ze(e)});class Ou extends Je{_parse(t){if(this._getType(t)!==Ne.undefined){const n=this._getOrReturnCtx(t);return be(n,{code:he.invalid_type,expected:Ne.void,received:n.parsedType}),He}return br(t.data)}}Ou.create=e=>new Ou({typeName:We.ZodVoid,...Ze(e)});class mn extends Je{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),i=this._def;if(r.parsedType!==Ne.array)return be(r,{code:he.invalid_type,expected:Ne.array,received:r.parsedType}),He;if(i.exactLength!==null){const o=r.data.length>i.exactLength.value,c=r.data.length<i.exactLength.value;(o||c)&&(be(r,{code:o?he.too_big:he.too_small,minimum:c?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(be(r,{code:he.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(be(r,{code:he.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,c)=>i.type._parseAsync(new Bn(r,o,r.path,c)))).then(o=>pr.mergeArray(n,o));const s=[...r.data].map((o,c)=>i.type._parseSync(new Bn(r,o,r.path,c)));return pr.mergeArray(n,s)}get element(){return this._def.type}min(t,r){return new mn({...this._def,minLength:{value:t,message:Ie.toString(r)}})}max(t,r){return new mn({...this._def,maxLength:{value:t,message:Ie.toString(r)}})}length(t,r){return new mn({...this._def,exactLength:{value:t,message:Ie.toString(r)}})}nonempty(t){return this.min(1,t)}}mn.create=(e,t)=>new mn({type:e,minLength:null,maxLength:null,exactLength:null,typeName:We.ZodArray,...Ze(t)});function ss(e){if(e instanceof Ct){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=Dn.create(ss(n))}return new Ct({...e._def,shape:()=>t})}else return e instanceof mn?new mn({...e._def,type:ss(e.element)}):e instanceof Dn?Dn.create(ss(e.unwrap())):e instanceof za?za.create(ss(e.unwrap())):e instanceof Vn?Vn.create(e.items.map(t=>ss(t))):e}class Ct extends Je{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=at.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==Ne.object){const u=this._getOrReturnCtx(t);return be(u,{code:he.invalid_type,expected:Ne.object,received:u.parsedType}),He}const{status:n,ctx:i}=this._processInputParams(t),{shape:s,keys:o}=this._getCached(),c=[];if(!(this._def.catchall instanceof ma&&this._def.unknownKeys==="strip"))for(const u in i.data)o.includes(u)||c.push(u);const l=[];for(const u of o){const d=s[u],f=i.data[u];l.push({key:{status:"valid",value:u},value:d._parse(new Bn(i,f,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof ma){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of c)l.push({key:{status:"valid",value:d},value:{status:"valid",value:i.data[d]}});else if(u==="strict")c.length>0&&(be(i,{code:he.unrecognized_keys,keys:c}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of c){const f=i.data[d];l.push({key:{status:"valid",value:d},value:u._parse(new Bn(i,f,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of l){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>pr.mergeObjectSync(n,u)):pr.mergeObjectSync(n,l)}get shape(){return this._def.shape()}strict(t){return Ie.errToObj,new Ct({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var i,s,o,c;const l=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(c=Ie.errToObj(t).message)!==null&&c!==void 0?c:l}:{message:l}}}:{}})}strip(){return new Ct({...this._def,unknownKeys:"strip"})}passthrough(){return new Ct({...this._def,unknownKeys:"passthrough"})}extend(t){return new Ct({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Ct({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:We.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Ct({...this._def,catchall:t})}pick(t){const r={};return at.objectKeys(t).forEach(n=>{t[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new Ct({...this._def,shape:()=>r})}omit(t){const r={};return at.objectKeys(this.shape).forEach(n=>{t[n]||(r[n]=this.shape[n])}),new Ct({...this._def,shape:()=>r})}deepPartial(){return ss(this)}partial(t){const r={};return at.objectKeys(this.shape).forEach(n=>{const i=this.shape[n];t&&!t[n]?r[n]=i:r[n]=i.optional()}),new Ct({...this._def,shape:()=>r})}required(t){const r={};return at.objectKeys(this.shape).forEach(n=>{if(t&&!t[n])r[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof Dn;)s=s._def.innerType;r[n]=s}}),new Ct({...this._def,shape:()=>r})}keyof(){return HN(at.objectKeys(this.shape))}}Ct.create=(e,t)=>new Ct({shape:()=>e,unknownKeys:"strip",catchall:ma.create(),typeName:We.ZodObject,...Ze(t)});Ct.strictCreate=(e,t)=>new Ct({shape:()=>e,unknownKeys:"strict",catchall:ma.create(),typeName:We.ZodObject,...Ze(t)});Ct.lazycreate=(e,t)=>new Ct({shape:e,unknownKeys:"strip",catchall:ma.create(),typeName:We.ZodObject,...Ze(t)});class vc extends Je{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function i(s){for(const c of s)if(c.result.status==="valid")return c.result;for(const c of s)if(c.result.status==="dirty")return r.common.issues.push(...c.ctx.common.issues),c.result;const o=s.map(c=>new Mr(c.ctx.common.issues));return be(r,{code:he.invalid_union,unionErrors:o}),He}if(r.common.async)return Promise.all(n.map(async s=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const l of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=l._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!s&&(s={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;const c=o.map(l=>new Mr(l));return be(r,{code:he.invalid_union,unionErrors:c}),He}}get options(){return this._def.options}}vc.create=(e,t)=>new vc({options:e,typeName:We.ZodUnion,...Ze(t)});const ea=e=>e instanceof yc?ea(e.schema):e instanceof vn?ea(e.innerType()):e instanceof bc?[e.value]:e instanceof Va?e.options:e instanceof jc?at.objectValues(e.enum):e instanceof wc?ea(e._def.innerType):e instanceof mc?[void 0]:e instanceof pc?[null]:e instanceof Dn?[void 0,...ea(e.unwrap())]:e instanceof za?[null,...ea(e.unwrap())]:e instanceof _v||e instanceof Sc?ea(e.unwrap()):e instanceof Nc?ea(e._def.innerType):[];class rf extends Je{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Ne.object)return be(r,{code:he.invalid_type,expected:Ne.object,received:r.parsedType}),He;const n=this.discriminator,i=r.data[n],s=this.optionsMap.get(i);return s?r.common.async?s._parseAsync({data:r.data,path:r.path,parent:r}):s._parseSync({data:r.data,path:r.path,parent:r}):(be(r,{code:he.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),He)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){const i=new Map;for(const s of r){const o=ea(s.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const c of o){if(i.has(c))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(c)}`);i.set(c,s)}}return new rf({typeName:We.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:i,...Ze(n)})}}function ym(e,t){const r=ra(e),n=ra(t);if(e===t)return{valid:!0,data:e};if(r===Ne.object&&n===Ne.object){const i=at.objectKeys(t),s=at.objectKeys(e).filter(c=>i.indexOf(c)!==-1),o={...e,...t};for(const c of s){const l=ym(e[c],t[c]);if(!l.valid)return{valid:!1};o[c]=l.data}return{valid:!0,data:o}}else if(r===Ne.array&&n===Ne.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let s=0;s<e.length;s++){const o=e[s],c=t[s],l=ym(o,c);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return r===Ne.date&&n===Ne.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class gc extends Je{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),i=(s,o)=>{if(gm(s)||gm(o))return He;const c=ym(s.value,o.value);return c.valid?((xm(s)||xm(o))&&r.dirty(),{status:r.value,value:c.data}):(be(n,{code:he.invalid_intersection_types}),He)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}gc.create=(e,t,r)=>new gc({left:e,right:t,typeName:We.ZodIntersection,...Ze(r)});class Vn extends Je{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ne.array)return be(n,{code:he.invalid_type,expected:Ne.array,received:n.parsedType}),He;if(n.data.length<this._def.items.length)return be(n,{code:he.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),He;!this._def.rest&&n.data.length>this._def.items.length&&(be(n,{code:he.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const s=[...n.data].map((o,c)=>{const l=this._def.items[c]||this._def.rest;return l?l._parse(new Bn(n,o,n.path,c)):null}).filter(o=>!!o);return n.common.async?Promise.all(s).then(o=>pr.mergeArray(r,o)):pr.mergeArray(r,s)}get items(){return this._def.items}rest(t){return new Vn({...this._def,rest:t})}}Vn.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Vn({items:e,typeName:We.ZodTuple,rest:null,...Ze(t)})};class xc extends Je{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ne.object)return be(n,{code:he.invalid_type,expected:Ne.object,received:n.parsedType}),He;const i=[],s=this._def.keyType,o=this._def.valueType;for(const c in n.data)i.push({key:s._parse(new Bn(n,c,n.path,c)),value:o._parse(new Bn(n,n.data[c],n.path,c)),alwaysSet:c in n.data});return n.common.async?pr.mergeObjectAsync(r,i):pr.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof Je?new xc({keyType:t,valueType:r,typeName:We.ZodRecord,...Ze(n)}):new xc({keyType:dn.create(),valueType:t,typeName:We.ZodRecord,...Ze(r)})}}class _u extends Je{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ne.map)return be(n,{code:he.invalid_type,expected:Ne.map,received:n.parsedType}),He;const i=this._def.keyType,s=this._def.valueType,o=[...n.data.entries()].map(([c,l],u)=>({key:i._parse(new Bn(n,c,n.path,[u,"key"])),value:s._parse(new Bn(n,l,n.path,[u,"value"]))}));if(n.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const l of o){const u=await l.key,d=await l.value;if(u.status==="aborted"||d.status==="aborted")return He;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),c.set(u.value,d.value)}return{status:r.value,value:c}})}else{const c=new Map;for(const l of o){const u=l.key,d=l.value;if(u.status==="aborted"||d.status==="aborted")return He;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),c.set(u.value,d.value)}return{status:r.value,value:c}}}}_u.create=(e,t,r)=>new _u({valueType:t,keyType:e,typeName:We.ZodMap,...Ze(r)});class Ei extends Je{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ne.set)return be(n,{code:he.invalid_type,expected:Ne.set,received:n.parsedType}),He;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(be(n,{code:he.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(be(n,{code:he.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const s=this._def.valueType;function o(l){const u=new Set;for(const d of l){if(d.status==="aborted")return He;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const c=[...n.data.values()].map((l,u)=>s._parse(new Bn(n,l,n.path,u)));return n.common.async?Promise.all(c).then(l=>o(l)):o(c)}min(t,r){return new Ei({...this._def,minSize:{value:t,message:Ie.toString(r)}})}max(t,r){return new Ei({...this._def,maxSize:{value:t,message:Ie.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Ei.create=(e,t)=>new Ei({valueType:e,minSize:null,maxSize:null,typeName:We.ZodSet,...Ze(t)});class Ns extends Je{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Ne.function)return be(r,{code:he.invalid_type,expected:Ne.function,received:r.parsedType}),He;function n(c,l){return Nu({data:c,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,wu(),Ps].filter(u=>!!u),issueData:{code:he.invalid_arguments,argumentsError:l}})}function i(c,l){return Nu({data:c,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,wu(),Ps].filter(u=>!!u),issueData:{code:he.invalid_return_type,returnTypeError:l}})}const s={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof Cs){const c=this;return br(async function(...l){const u=new Mr([]),d=await c._def.args.parseAsync(l,s).catch(p=>{throw u.addIssue(n(l,p)),u}),f=await Reflect.apply(o,this,d);return await c._def.returns._def.type.parseAsync(f,s).catch(p=>{throw u.addIssue(i(f,p)),u})})}else{const c=this;return br(function(...l){const u=c._def.args.safeParse(l,s);if(!u.success)throw new Mr([n(l,u.error)]);const d=Reflect.apply(o,this,u.data),f=c._def.returns.safeParse(d,s);if(!f.success)throw new Mr([i(d,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new Ns({...this._def,args:Vn.create(t).rest(ji.create())})}returns(t){return new Ns({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new Ns({args:t||Vn.create([]).rest(ji.create()),returns:r||ji.create(),typeName:We.ZodFunction,...Ze(n)})}}class yc extends Je{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}yc.create=(e,t)=>new yc({getter:e,typeName:We.ZodLazy,...Ze(t)});class bc extends Je{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return be(r,{received:r.data,code:he.invalid_literal,expected:this._def.value}),He}return{status:"valid",value:t.data}}get value(){return this._def.value}}bc.create=(e,t)=>new bc({value:e,typeName:We.ZodLiteral,...Ze(t)});function HN(e,t){return new Va({values:e,typeName:We.ZodEnum,...Ze(t)})}class Va extends Je{constructor(){super(...arguments),Zo.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return be(r,{expected:at.joinValues(n),received:r.parsedType,code:he.invalid_type}),He}if(Su(this,Zo)||VN(this,Zo,new Set(this._def.values)),!Su(this,Zo).has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return be(r,{received:r.data,code:he.invalid_enum_value,options:n}),He}return br(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Va.create(t,{...this._def,...r})}exclude(t,r=this._def){return Va.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}Zo=new WeakMap;Va.create=HN;class jc extends Je{constructor(){super(...arguments),Xo.set(this,void 0)}_parse(t){const r=at.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==Ne.string&&n.parsedType!==Ne.number){const i=at.objectValues(r);return be(n,{expected:at.joinValues(i),received:n.parsedType,code:he.invalid_type}),He}if(Su(this,Xo)||VN(this,Xo,new Set(at.getValidEnumValues(this._def.values))),!Su(this,Xo).has(t.data)){const i=at.objectValues(r);return be(n,{received:n.data,code:he.invalid_enum_value,options:i}),He}return br(t.data)}get enum(){return this._def.values}}Xo=new WeakMap;jc.create=(e,t)=>new jc({values:e,typeName:We.ZodNativeEnum,...Ze(t)});class Cs extends Je{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Ne.promise&&r.common.async===!1)return be(r,{code:he.invalid_type,expected:Ne.promise,received:r.parsedType}),He;const n=r.parsedType===Ne.promise?r.data:Promise.resolve(r.data);return br(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Cs.create=(e,t)=>new Cs({type:e,typeName:We.ZodPromise,...Ze(t)});class vn extends Je{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===We.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),i=this._def.effect||null,s={addIssue:o=>{be(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(n.data,s);if(n.common.async)return Promise.resolve(o).then(async c=>{if(r.value==="aborted")return He;const l=await this._def.schema._parseAsync({data:c,path:n.path,parent:n});return l.status==="aborted"?He:l.status==="dirty"||r.value==="dirty"?us(l.value):l});{if(r.value==="aborted")return He;const c=this._def.schema._parseSync({data:o,path:n.path,parent:n});return c.status==="aborted"?He:c.status==="dirty"||r.value==="dirty"?us(c.value):c}}if(i.type==="refinement"){const o=c=>{const l=i.refinement(c,s);if(n.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(n.common.async===!1){const c=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return c.status==="aborted"?He:(c.status==="dirty"&&r.dirty(),o(c.value),{status:r.value,value:c.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(c=>c.status==="aborted"?He:(c.status==="dirty"&&r.dirty(),o(c.value).then(()=>({status:r.value,value:c.value}))))}if(i.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Ci(o))return o;const c=i.transform(o.value,s);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:c}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>Ci(o)?Promise.resolve(i.transform(o.value,s)).then(c=>({status:r.value,value:c})):o);at.assertNever(i)}}vn.create=(e,t,r)=>new vn({schema:e,typeName:We.ZodEffects,effect:t,...Ze(r)});vn.createWithPreprocess=(e,t,r)=>new vn({schema:t,effect:{type:"preprocess",transform:e},typeName:We.ZodEffects,...Ze(r)});class Dn extends Je{_parse(t){return this._getType(t)===Ne.undefined?br(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Dn.create=(e,t)=>new Dn({innerType:e,typeName:We.ZodOptional,...Ze(t)});class za extends Je{_parse(t){return this._getType(t)===Ne.null?br(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}za.create=(e,t)=>new za({innerType:e,typeName:We.ZodNullable,...Ze(t)});class wc extends Je{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===Ne.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}wc.create=(e,t)=>new wc({innerType:e,typeName:We.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Ze(t)});class Nc extends Je{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return fc(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Mr(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Mr(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Nc.create=(e,t)=>new Nc({innerType:e,typeName:We.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Ze(t)});class Pu extends Je{_parse(t){if(this._getType(t)!==Ne.nan){const n=this._getOrReturnCtx(t);return be(n,{code:he.invalid_type,expected:Ne.nan,received:n.parsedType}),He}return{status:"valid",value:t.data}}}Pu.create=e=>new Pu({typeName:We.ZodNaN,...Ze(e)});const dM=Symbol("zod_brand");class _v extends Je{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class ml extends Je{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?He:s.status==="dirty"?(r.dirty(),us(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?He:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(t,r){return new ml({in:t,out:r,typeName:We.ZodPipeline})}}class Sc extends Je{_parse(t){const r=this._def.innerType._parse(t),n=i=>(Ci(i)&&(i.value=Object.freeze(i.value)),i);return fc(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}}Sc.create=(e,t)=>new Sc({innerType:e,typeName:We.ZodReadonly,...Ze(t)});function ny(e,t){const r=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof r=="string"?{message:r}:r}function qN(e,t={},r){return e?ks.create().superRefine((n,i)=>{var s,o;const c=e(n);if(c instanceof Promise)return c.then(l=>{var u,d;if(!l){const f=ny(t,n),h=(d=(u=f.fatal)!==null&&u!==void 0?u:r)!==null&&d!==void 0?d:!0;i.addIssue({code:"custom",...f,fatal:h})}});if(!c){const l=ny(t,n),u=(o=(s=l.fatal)!==null&&s!==void 0?s:r)!==null&&o!==void 0?o:!0;i.addIssue({code:"custom",...l,fatal:u})}}):ks.create()}const fM={object:Ct.lazycreate};var We;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(We||(We={}));const hM=(e,t={message:`Input not instance of ${e.name}`})=>qN(r=>r instanceof e,t),KN=dn.create,GN=Fa.create,mM=Pu.create,pM=Ba.create,ZN=hc.create,vM=Ti.create,gM=Au.create,xM=mc.create,yM=pc.create,bM=ks.create,jM=ji.create,wM=ma.create,NM=Ou.create,SM=mn.create,AM=Ct.create,OM=Ct.strictCreate,_M=vc.create,PM=rf.create,kM=gc.create,CM=Vn.create,TM=xc.create,EM=_u.create,$M=Ei.create,DM=Ns.create,IM=yc.create,MM=bc.create,RM=Va.create,LM=jc.create,FM=Cs.create,ay=vn.create,BM=Dn.create,VM=za.create,zM=vn.createWithPreprocess,UM=ml.create,WM=()=>KN().optional(),HM=()=>GN().optional(),qM=()=>ZN().optional(),KM={string:e=>dn.create({...e,coerce:!0}),number:e=>Fa.create({...e,coerce:!0}),boolean:e=>hc.create({...e,coerce:!0}),bigint:e=>Ba.create({...e,coerce:!0}),date:e=>Ti.create({...e,coerce:!0})},GM=He;var na=Object.freeze({__proto__:null,defaultErrorMap:Ps,setErrorMap:zI,getErrorMap:wu,makeIssue:Nu,EMPTY_PATH:UI,addIssueToContext:be,ParseStatus:pr,INVALID:He,DIRTY:us,OK:br,isAborted:gm,isDirty:xm,isValid:Ci,isAsync:fc,get util(){return at},get objectUtil(){return vm},ZodParsedType:Ne,getParsedType:ra,ZodType:Je,datetimeRegex:WN,ZodString:dn,ZodNumber:Fa,ZodBigInt:Ba,ZodBoolean:hc,ZodDate:Ti,ZodSymbol:Au,ZodUndefined:mc,ZodNull:pc,ZodAny:ks,ZodUnknown:ji,ZodNever:ma,ZodVoid:Ou,ZodArray:mn,ZodObject:Ct,ZodUnion:vc,ZodDiscriminatedUnion:rf,ZodIntersection:gc,ZodTuple:Vn,ZodRecord:xc,ZodMap:_u,ZodSet:Ei,ZodFunction:Ns,ZodLazy:yc,ZodLiteral:bc,ZodEnum:Va,ZodNativeEnum:jc,ZodPromise:Cs,ZodEffects:vn,ZodTransformer:vn,ZodOptional:Dn,ZodNullable:za,ZodDefault:wc,ZodCatch:Nc,ZodNaN:Pu,BRAND:dM,ZodBranded:_v,ZodPipeline:ml,ZodReadonly:Sc,custom:qN,Schema:Je,ZodSchema:Je,late:fM,get ZodFirstPartyTypeKind(){return We},coerce:KM,any:bM,array:SM,bigint:pM,boolean:ZN,date:vM,discriminatedUnion:PM,effect:ay,enum:RM,function:DM,instanceof:hM,intersection:kM,lazy:IM,literal:MM,map:EM,nan:mM,nativeEnum:LM,never:wM,null:yM,nullable:VM,number:GN,object:AM,oboolean:qM,onumber:HM,optional:BM,ostring:WM,pipeline:UM,preprocess:zM,promise:FM,record:TM,set:$M,strictObject:OM,string:KN,symbol:gM,transformer:ay,tuple:CM,undefined:xM,union:_M,unknown:jM,void:NM,NEVER:GM,ZodIssueCode:he,quotelessJson:VI,ZodError:Mr});const ZM=na.object({email:na.string().email("電子郵件格式無效"),password:na.string().min(6,"密碼至少需要6個字符")}),XM=()=>{const[e,t]=x.useState(!1),[r,n]=x.useState(!1),{login:i}=oo(),s=Bd(),{register:o,handleSubmit:c,formState:{errors:l}}=RN({resolver:FN(ZM)}),u=async d=>{n(!0);try{await i(d.email,d.password),s("/")}catch{}finally{n(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted/30 py-12",children:a.jsxs(ue,{className:"w-full max-w-md",children:[a.jsxs(ve,{className:"text-center",children:[a.jsx(ge,{className:"text-2xl",children:"登入"}),a.jsx(Qe,{children:"登入您的帳戶以繼續"})]}),a.jsxs(de,{children:[a.jsxs("form",{onSubmit:c(u),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"email",children:"電子郵件"}),a.jsx(ce,{id:"email",type:"email",placeholder:"請輸入您的電子郵件",...o("email"),className:l.email?"border-red-500":""}),l.email&&a.jsx("p",{className:"text-sm text-red-500",children:l.email.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"password",children:"密碼"}),a.jsxs("div",{className:"relative",children:[a.jsx(ce,{id:"password",type:e?"text":"password",placeholder:"請輸入密碼",...o("password"),className:l.password?"border-red-500":""}),a.jsx("button",{type:"button",onClick:()=>t(!e),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground",children:e?a.jsx(A1,{className:"h-4 w-4"}):a.jsx(yi,{className:"h-4 w-4"})})]}),l.password&&a.jsx("p",{className:"text-sm text-red-500",children:l.password.message})]}),a.jsx(q,{type:"submit",className:"w-full",disabled:r,children:r?"登入中...":"登入"})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs("p",{className:"text-sm text-muted-foreground",children:["還沒有帳戶？"," ",a.jsx(Tr,{to:"/register",className:"text-primary hover:underline",children:"立即註冊"})]})})]})]})})},YM=na.object({name:na.string().min(2,"姓名至少需要2個字符"),email:na.string().email("電子郵件格式無效"),phone:na.string().min(10,"電話號碼無效"),password:na.string().min(6,"密碼至少需要6個字符"),licensePlate:na.string().optional()}),JM=()=>{const[e,t]=x.useState(!1),[r,n]=x.useState(!1),{register:i}=oo(),s=Bd(),{register:o,handleSubmit:c,formState:{errors:l}}=RN({resolver:FN(YM)}),u=async d=>{n(!0);try{await i(d),s("/")}catch{}finally{n(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted/30 py-12",children:a.jsxs(ue,{className:"w-full max-w-md",children:[a.jsxs(ve,{className:"text-center",children:[a.jsx(ge,{className:"text-2xl",children:"註冊"}),a.jsx(Qe,{children:"創建新帳戶以使用服務"})]}),a.jsxs(de,{children:[a.jsxs("form",{onSubmit:c(u),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"name",children:"姓名"}),a.jsx(ce,{id:"name",type:"text",placeholder:"請輸入您的姓名",...o("name"),className:l.name?"border-red-500":""}),l.name&&a.jsx("p",{className:"text-sm text-red-500",children:l.name.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"email",children:"電子郵件"}),a.jsx(ce,{id:"email",type:"email",placeholder:"請輸入您的電子郵件",...o("email"),className:l.email?"border-red-500":""}),l.email&&a.jsx("p",{className:"text-sm text-red-500",children:l.email.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"phone",children:"電話號碼"}),a.jsx(ce,{id:"phone",type:"tel",placeholder:"請輸入電話號碼",...o("phone"),className:l.phone?"border-red-500":""}),l.phone&&a.jsx("p",{className:"text-sm text-red-500",children:l.phone.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"licensePlate",children:"車牌號碼 (選填)"}),a.jsx(ce,{id:"licensePlate",type:"text",placeholder:"請輸入車牌號碼",...o("licensePlate")})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"password",children:"密碼"}),a.jsxs("div",{className:"relative",children:[a.jsx(ce,{id:"password",type:e?"text":"password",placeholder:"請輸入密碼",...o("password"),className:l.password?"border-red-500":""}),a.jsx("button",{type:"button",onClick:()=>t(!e),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground",children:e?a.jsx(A1,{className:"h-4 w-4"}):a.jsx(yi,{className:"h-4 w-4"})})]}),l.password&&a.jsx("p",{className:"text-sm text-red-500",children:l.password.message})]}),a.jsx(q,{type:"submit",className:"w-full",disabled:r,children:r?"註冊中...":"註冊"})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs("p",{className:"text-sm text-muted-foreground",children:["已有帳戶？"," ",a.jsx(Tr,{to:"/login",className:"text-primary hover:underline",children:"登入"})]})})]})]})})};function ua(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e==null||e(i),r===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function Pv(e,t=[]){let r=[];function n(s,o){const c=x.createContext(o),l=r.length;r=[...r,o];const u=f=>{var b;const{scope:h,children:p,...v}=f,m=((b=h==null?void 0:h[e])==null?void 0:b[l])||c,g=x.useMemo(()=>v,Object.values(v));return a.jsx(m.Provider,{value:g,children:p})};u.displayName=s+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[l])||c,v=x.useContext(p);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=r.map(o=>x.createContext(o));return function(c){const l=(c==null?void 0:c[e])||s;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:l}}),[c,l])}};return i.scopeName=e,[n,QM(i,...t)]}function QM(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=n.reduce((c,{useScope:l,scopeName:u})=>{const f=l(s)[`__scope${u}`];return{...c,...f}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function iy(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function eR(...e){return t=>{let r=!1;const n=e.map(i=>{const s=iy(i,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<n.length;i++){const s=n[i];typeof s=="function"?s():iy(e[i],null)}}}}function ku(...e){return x.useCallback(eR(...e),e)}function tR(e){const t=e+"CollectionProvider",[r,n]=Pv(t),[i,s]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:g,children:b}=m,y=I.useRef(null),w=I.useRef(new Map).current;return a.jsx(i,{scope:g,itemMap:w,collectionRef:y,children:b})};o.displayName=t;const c=e+"CollectionSlot",l=en(c),u=I.forwardRef((m,g)=>{const{scope:b,children:y}=m,w=s(c,b),A=ku(g,w.collectionRef);return a.jsx(l,{ref:A,children:y})});u.displayName=c;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=en(d),p=I.forwardRef((m,g)=>{const{scope:b,children:y,...w}=m,A=I.useRef(null),N=ku(g,A),j=s(d,b);return I.useEffect(()=>(j.itemMap.set(A,{ref:A,...w}),()=>void j.itemMap.delete(A))),a.jsx(h,{[f]:"",ref:N,children:y})});p.displayName=d;function v(m){const g=s(e+"CollectionConsumer",m);return I.useCallback(()=>{const y=g.collectionRef.current;if(!y)return[];const w=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(g.itemMap.values()).sort((j,O)=>w.indexOf(j.ref.current)-w.indexOf(O.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:u,ItemSlot:p},v,n]}var Cu=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},rR=Wi[" useId ".trim().toString()]||(()=>{}),nR=0;function XN(e){const[t,r]=x.useState(rR());return Cu(()=>{r(n=>n??String(nR++))},[e]),t?`radix-${t}`:""}var aR=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],lo=aR.reduce((e,t)=>{const r=en(`Primitive.${t}`),n=x.forwardRef((i,s)=>{const{asChild:o,...c}=i,l=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(l,{...c,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function iR(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}var sR=Wi[" useInsertionEffect ".trim().toString()]||Cu;function YN({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[i,s,o]=oR({defaultProp:t,onChange:r}),c=e!==void 0,l=c?e:i;{const d=x.useRef(e!==void 0);x.useEffect(()=>{const f=d.current;f!==c&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=c},[c,n])}const u=x.useCallback(d=>{var f;if(c){const h=cR(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else s(d)},[c,e,s,o]);return[l,u]}function oR({defaultProp:e,onChange:t}){const[r,n]=x.useState(e),i=x.useRef(r),s=x.useRef(t);return sR(()=>{s.current=t},[t]),x.useEffect(()=>{var o;i.current!==r&&((o=s.current)==null||o.call(s,r),i.current=r)},[r,i]),[r,n,s]}function cR(e){return typeof e=="function"}var lR=x.createContext(void 0);function JN(e){const t=x.useContext(lR);return e||t||"ltr"}var bh="rovingFocusGroup.onEntryFocus",uR={bubbles:!1,cancelable:!0},pl="RovingFocusGroup",[bm,QN,dR]=tR(pl),[fR,eS]=Pv(pl,[dR]),[hR,mR]=fR(pl),tS=x.forwardRef((e,t)=>a.jsx(bm.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(bm.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(pR,{...e,ref:t})})}));tS.displayName=pl;var pR=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=x.useRef(null),p=ku(t,h),v=JN(s),[m,g]=YN({prop:o,defaultProp:c??null,onChange:l,caller:pl}),[b,y]=x.useState(!1),w=iR(u),A=QN(r),N=x.useRef(!1),[j,O]=x.useState(0);return x.useEffect(()=>{const S=h.current;if(S)return S.addEventListener(bh,w),()=>S.removeEventListener(bh,w)},[w]),a.jsx(hR,{scope:r,orientation:n,dir:v,loop:i,currentTabStopId:m,onItemFocus:x.useCallback(S=>g(S),[g]),onItemShiftTab:x.useCallback(()=>y(!0),[]),onFocusableItemAdd:x.useCallback(()=>O(S=>S+1),[]),onFocusableItemRemove:x.useCallback(()=>O(S=>S-1),[]),children:a.jsx(lo.div,{tabIndex:b||j===0?-1:0,"data-orientation":n,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:ua(e.onMouseDown,()=>{N.current=!0}),onFocus:ua(e.onFocus,S=>{const P=!N.current;if(S.target===S.currentTarget&&P&&!b){const C=new CustomEvent(bh,uR);if(S.currentTarget.dispatchEvent(C),!C.defaultPrevented){const _=A().filter(M=>M.focusable),T=_.find(M=>M.active),D=_.find(M=>M.id===m),k=[T,D,..._].filter(Boolean).map(M=>M.ref.current);aS(k,d)}}N.current=!1}),onBlur:ua(e.onBlur,()=>y(!1))})})}),rS="RovingFocusGroupItem",nS=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:s,children:o,...c}=e,l=XN(),u=s||l,d=mR(rS,r),f=d.currentTabStopId===u,h=QN(r),{onFocusableItemAdd:p,onFocusableItemRemove:v,currentTabStopId:m}=d;return x.useEffect(()=>{if(n)return p(),()=>v()},[n,p,v]),a.jsx(bm.ItemSlot,{scope:r,id:u,focusable:n,active:i,children:a.jsx(lo.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...c,ref:t,onMouseDown:ua(e.onMouseDown,g=>{n?d.onItemFocus(u):g.preventDefault()}),onFocus:ua(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:ua(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){d.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const b=xR(g,d.orientation,d.dir);if(b!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let w=h().filter(A=>A.focusable).map(A=>A.ref.current);if(b==="last")w.reverse();else if(b==="prev"||b==="next"){b==="prev"&&w.reverse();const A=w.indexOf(g.currentTarget);w=d.loop?yR(w,A+1):w.slice(A+1)}setTimeout(()=>aS(w))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:m!=null}):o})})});nS.displayName=rS;var vR={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function gR(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function xR(e,t,r){const n=gR(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return vR[n]}function aS(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function yR(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var bR=tS,jR=nS;function wR(e,t){return x.useReducer((r,n)=>t[r][n]??r,e)}var iS=e=>{const{present:t,children:r}=e,n=NR(t),i=typeof r=="function"?r({present:n.isPresent}):x.Children.only(r),s=ku(n.ref,SR(i));return typeof r=="function"||n.isPresent?x.cloneElement(i,{ref:s}):null};iS.displayName="Presence";function NR(e){const[t,r]=x.useState(),n=x.useRef(null),i=x.useRef(e),s=x.useRef("none"),o=e?"mounted":"unmounted",[c,l]=wR(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const u=Dl(n.current);s.current=c==="mounted"?u:"none"},[c]),Cu(()=>{const u=n.current,d=i.current;if(d!==e){const h=s.current,p=Dl(u);e?l("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,l]),Cu(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const m=Dl(n.current).includes(p.animationName);if(p.target===t&&m&&(l("ANIMATION_END"),!i.current)){const g=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=g)})}},h=p=>{p.target===t&&(s.current=Dl(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:x.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Dl(e){return(e==null?void 0:e.animationName)||"none"}function SR(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var nf="Tabs",[AR,Dce]=Pv(nf,[eS]),sS=eS(),[OR,kv]=AR(nf),oS=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:c,activationMode:l="automatic",...u}=e,d=JN(c),[f,h]=YN({prop:n,onChange:i,defaultProp:s??"",caller:nf});return a.jsx(OR,{scope:r,baseId:XN(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:l,children:a.jsx(lo.div,{dir:d,"data-orientation":o,...u,ref:t})})});oS.displayName=nf;var cS="TabsList",lS=x.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...i}=e,s=kv(cS,r),o=sS(r);return a.jsx(bR,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:n,children:a.jsx(lo.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:t})})});lS.displayName=cS;var uS="TabsTrigger",dS=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...s}=e,o=kv(uS,r),c=sS(r),l=mS(o.baseId,n),u=pS(o.baseId,n),d=n===o.value;return a.jsx(jR,{asChild:!0,...c,focusable:!i,active:d,children:a.jsx(lo.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...s,ref:t,onMouseDown:ua(e.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:ua(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:ua(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!i&&f&&o.onValueChange(n)})})})});dS.displayName=uS;var fS="TabsContent",hS=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:i,children:s,...o}=e,c=kv(fS,r),l=mS(c.baseId,n),u=pS(c.baseId,n),d=n===c.value,f=x.useRef(d);return x.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),a.jsx(iS,{present:i||d,children:({present:h})=>a.jsx(lo.div,{"data-state":d?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&s})})});hS.displayName=fS;function mS(e,t){return`${e}-trigger-${t}`}function pS(e,t){return`${e}-content-${t}`}var _R=oS,vS=lS,gS=dS,xS=hS;const vl=_R,uo=x.forwardRef(({className:e,...t},r)=>a.jsx(vS,{ref:r,className:Ye("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));uo.displayName=vS.displayName;const Gt=x.forwardRef(({className:e,...t},r)=>a.jsx(gS,{ref:r,className:Ye("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Gt.displayName=gS.displayName;const Qt=x.forwardRef(({className:e,...t},r)=>a.jsx(xS,{ref:r,className:Ye("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Qt.displayName=xS.displayName;function sy(e,[t,r]){return Math.min(r,Math.max(t,e))}function Vt(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e==null||e(i),r===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function Cv(e,t=[]){let r=[];function n(s,o){const c=x.createContext(o),l=r.length;r=[...r,o];const u=f=>{var b;const{scope:h,children:p,...v}=f,m=((b=h==null?void 0:h[e])==null?void 0:b[l])||c,g=x.useMemo(()=>v,Object.values(v));return a.jsx(m.Provider,{value:g,children:p})};u.displayName=s+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[l])||c,v=x.useContext(p);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=r.map(o=>x.createContext(o));return function(c){const l=(c==null?void 0:c[e])||s;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:l}}),[c,l])}};return i.scopeName=e,[n,PR(i,...t)]}function PR(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=n.reduce((c,{useScope:l,scopeName:u})=>{const f=l(s)[`__scope${u}`];return{...c,...f}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function oy(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function kR(...e){return t=>{let r=!1;const n=e.map(i=>{const s=oy(i,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<n.length;i++){const s=n[i];typeof s=="function"?s():oy(e[i],null)}}}}function or(...e){return x.useCallback(kR(...e),e)}function CR(e){const t=e+"CollectionProvider",[r,n]=Cv(t),[i,s]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:g,children:b}=m,y=I.useRef(null),w=I.useRef(new Map).current;return a.jsx(i,{scope:g,itemMap:w,collectionRef:y,children:b})};o.displayName=t;const c=e+"CollectionSlot",l=en(c),u=I.forwardRef((m,g)=>{const{scope:b,children:y}=m,w=s(c,b),A=or(g,w.collectionRef);return a.jsx(l,{ref:A,children:y})});u.displayName=c;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=en(d),p=I.forwardRef((m,g)=>{const{scope:b,children:y,...w}=m,A=I.useRef(null),N=or(g,A),j=s(d,b);return I.useEffect(()=>(j.itemMap.set(A,{ref:A,...w}),()=>void j.itemMap.delete(A))),a.jsx(h,{[f]:"",ref:N,children:y})});p.displayName=d;function v(m){const g=s(e+"CollectionConsumer",m);return I.useCallback(()=>{const y=g.collectionRef.current;if(!y)return[];const w=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(g.itemMap.values()).sort((j,O)=>w.indexOf(j.ref.current)-w.indexOf(O.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:u,ItemSlot:p},v,n]}var TR=x.createContext(void 0);function ER(e){const t=x.useContext(TR);return e||t||"ltr"}var $R=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Rt=$R.reduce((e,t)=>{const r=en(`Primitive.${t}`),n=x.forwardRef((i,s)=>{const{asChild:o,...c}=i,l=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(l,{...c,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function DR(e,t){e&&ao.flushSync(()=>e.dispatchEvent(t))}function $i(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function IR(e,t=globalThis==null?void 0:globalThis.document){const r=$i(e);x.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var MR="DismissableLayer",jm="dismissableLayer.update",RR="dismissableLayer.pointerDownOutside",LR="dismissableLayer.focusOutside",cy,yS=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),bS=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:c,...l}=e,u=x.useContext(yS),[d,f]=x.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=x.useState({}),v=or(t,O=>f(O)),m=Array.from(u.layers),[g]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=m.indexOf(g),y=d?m.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,A=y>=b,N=VR(O=>{const S=O.target,P=[...u.branches].some(C=>C.contains(S));!A||P||(i==null||i(O),o==null||o(O),O.defaultPrevented||c==null||c())},h),j=zR(O=>{const S=O.target;[...u.branches].some(C=>C.contains(S))||(s==null||s(O),o==null||o(O),O.defaultPrevented||c==null||c())},h);return IR(O=>{y===u.layers.size-1&&(n==null||n(O),!O.defaultPrevented&&c&&(O.preventDefault(),c()))},h),x.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(cy=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),ly(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=cy)}},[d,h,r,u]),x.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),ly())},[d,u]),x.useEffect(()=>{const O=()=>p({});return document.addEventListener(jm,O),()=>document.removeEventListener(jm,O)},[]),a.jsx(Rt.div,{...l,ref:v,style:{pointerEvents:w?A?"auto":"none":void 0,...e.style},onFocusCapture:Vt(e.onFocusCapture,j.onFocusCapture),onBlurCapture:Vt(e.onBlurCapture,j.onBlurCapture),onPointerDownCapture:Vt(e.onPointerDownCapture,N.onPointerDownCapture)})});bS.displayName=MR;var FR="DismissableLayerBranch",BR=x.forwardRef((e,t)=>{const r=x.useContext(yS),n=x.useRef(null),i=or(t,n);return x.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),a.jsx(Rt.div,{...e,ref:i})});BR.displayName=FR;function VR(e,t=globalThis==null?void 0:globalThis.document){const r=$i(e),n=x.useRef(!1),i=x.useRef(()=>{});return x.useEffect(()=>{const s=c=>{if(c.target&&!n.current){let l=function(){jS(RR,r,u,{discrete:!0})};const u={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=l,t.addEventListener("click",i.current,{once:!0})):l()}else t.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",s),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function zR(e,t=globalThis==null?void 0:globalThis.document){const r=$i(e),n=x.useRef(!1);return x.useEffect(()=>{const i=s=>{s.target&&!n.current&&jS(LR,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function ly(){const e=new CustomEvent(jm);document.dispatchEvent(e)}function jS(e,t,r,{discrete:n}){const i=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?DR(i,s):i.dispatchEvent(s)}var jh=0;function UR(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??uy()),document.body.insertAdjacentElement("beforeend",e[1]??uy()),jh++,()=>{jh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),jh--}},[])}function uy(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var wh="focusScope.autoFocusOnMount",Nh="focusScope.autoFocusOnUnmount",dy={bubbles:!1,cancelable:!0},WR="FocusScope",wS=x.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=e,[c,l]=x.useState(null),u=$i(i),d=$i(s),f=x.useRef(null),h=or(t,m=>l(m)),p=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(n){let m=function(w){if(p.paused||!c)return;const A=w.target;c.contains(A)?f.current=A:_a(f.current,{select:!0})},g=function(w){if(p.paused||!c)return;const A=w.relatedTarget;A!==null&&(c.contains(A)||_a(f.current,{select:!0}))},b=function(w){if(document.activeElement===document.body)for(const N of w)N.removedNodes.length>0&&_a(c)};document.addEventListener("focusin",m),document.addEventListener("focusout",g);const y=new MutationObserver(b);return c&&y.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",g),y.disconnect()}}},[n,c,p.paused]),x.useEffect(()=>{if(c){hy.add(p);const m=document.activeElement;if(!c.contains(m)){const b=new CustomEvent(wh,dy);c.addEventListener(wh,u),c.dispatchEvent(b),b.defaultPrevented||(HR(XR(NS(c)),{select:!0}),document.activeElement===m&&_a(c))}return()=>{c.removeEventListener(wh,u),setTimeout(()=>{const b=new CustomEvent(Nh,dy);c.addEventListener(Nh,d),c.dispatchEvent(b),b.defaultPrevented||_a(m??document.body,{select:!0}),c.removeEventListener(Nh,d),hy.remove(p)},0)}}},[c,u,d,p]);const v=x.useCallback(m=>{if(!r&&!n||p.paused)return;const g=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,b=document.activeElement;if(g&&b){const y=m.currentTarget,[w,A]=qR(y);w&&A?!m.shiftKey&&b===A?(m.preventDefault(),r&&_a(w,{select:!0})):m.shiftKey&&b===w&&(m.preventDefault(),r&&_a(A,{select:!0})):b===y&&m.preventDefault()}},[r,n,p.paused]);return a.jsx(Rt.div,{tabIndex:-1,...o,ref:h,onKeyDown:v})});wS.displayName=WR;function HR(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(_a(n,{select:t}),document.activeElement!==r)return}function qR(e){const t=NS(e),r=fy(t,e),n=fy(t.reverse(),e);return[r,n]}function NS(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function fy(e,t){for(const r of e)if(!KR(r,{upTo:t}))return r}function KR(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function GR(e){return e instanceof HTMLInputElement&&"select"in e}function _a(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&GR(e)&&t&&e.select()}}var hy=ZR();function ZR(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=my(e,t),e.unshift(t)},remove(t){var r;e=my(e,t),(r=e[0])==null||r.resume()}}}function my(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function XR(e){return e.filter(t=>t.tagName!=="A")}var _r=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},YR=Wi[" useId ".trim().toString()]||(()=>{}),JR=0;function Tv(e){const[t,r]=x.useState(YR());return _r(()=>{r(n=>n??String(JR++))},[e]),t?`radix-${t}`:""}const QR=["top","right","bottom","left"],Ua=Math.min,$r=Math.max,Tu=Math.round,Il=Math.floor,In=e=>({x:e,y:e}),e4={left:"right",right:"left",bottom:"top",top:"bottom"},t4={start:"end",end:"start"};function wm(e,t,r){return $r(e,Ua(t,r))}function pa(e,t){return typeof e=="function"?e(t):e}function va(e){return e.split("-")[0]}function fo(e){return e.split("-")[1]}function Ev(e){return e==="x"?"y":"x"}function $v(e){return e==="y"?"height":"width"}function Wa(e){return["top","bottom"].includes(va(e))?"y":"x"}function Dv(e){return Ev(Wa(e))}function r4(e,t,r){r===void 0&&(r=!1);const n=fo(e),i=Dv(e),s=$v(i);let o=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=Eu(o)),[o,Eu(o)]}function n4(e){const t=Eu(e);return[Nm(e),t,Nm(t)]}function Nm(e){return e.replace(/start|end/g,t=>t4[t])}function a4(e,t,r){const n=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?i:n:t?n:i;case"left":case"right":return t?s:o;default:return[]}}function i4(e,t,r,n){const i=fo(e);let s=a4(va(e),r==="start",n);return i&&(s=s.map(o=>o+"-"+i),t&&(s=s.concat(s.map(Nm)))),s}function Eu(e){return e.replace(/left|right|bottom|top/g,t=>e4[t])}function s4(e){return{top:0,right:0,bottom:0,left:0,...e}}function SS(e){return typeof e!="number"?s4(e):{top:e,right:e,bottom:e,left:e}}function $u(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function py(e,t,r){let{reference:n,floating:i}=e;const s=Wa(t),o=Dv(t),c=$v(o),l=va(t),u=s==="y",d=n.x+n.width/2-i.width/2,f=n.y+n.height/2-i.height/2,h=n[c]/2-i[c]/2;let p;switch(l){case"top":p={x:d,y:n.y-i.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-i.width,y:f};break;default:p={x:n.x,y:n.y}}switch(fo(t)){case"start":p[o]-=h*(r&&u?-1:1);break;case"end":p[o]+=h*(r&&u?-1:1);break}return p}const o4=async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:s=[],platform:o}=r,c=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:f}=py(u,n,l),h=n,p={},v=0;for(let m=0;m<c.length;m++){const{name:g,fn:b}=c[m],{x:y,y:w,data:A,reset:N}=await b({x:d,y:f,initialPlacement:n,placement:h,strategy:i,middlewareData:p,rects:u,platform:o,elements:{reference:e,floating:t}});d=y??d,f=w??f,p={...p,[g]:{...p[g],...A}},N&&v<=50&&(v++,typeof N=="object"&&(N.placement&&(h=N.placement),N.rects&&(u=N.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):N.rects),{x:d,y:f}=py(u,h,l)),m=-1)}return{x:d,y:f,placement:h,strategy:i,middlewareData:p}};async function Ac(e,t){var r;t===void 0&&(t={});const{x:n,y:i,platform:s,rects:o,elements:c,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=pa(t,e),v=SS(p),g=c[h?f==="floating"?"reference":"floating":f],b=$u(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(g)))==null||r?g:g.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(c.floating)),boundary:u,rootBoundary:d,strategy:l})),y=f==="floating"?{x:n,y:i,width:o.floating.width,height:o.floating.height}:o.reference,w=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c.floating)),A=await(s.isElement==null?void 0:s.isElement(w))?await(s.getScale==null?void 0:s.getScale(w))||{x:1,y:1}:{x:1,y:1},N=$u(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:y,offsetParent:w,strategy:l}):y);return{top:(b.top-N.top+v.top)/A.y,bottom:(N.bottom-b.bottom+v.bottom)/A.y,left:(b.left-N.left+v.left)/A.x,right:(N.right-b.right+v.right)/A.x}}const c4=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:s,platform:o,elements:c,middlewareData:l}=t,{element:u,padding:d=0}=pa(e,t)||{};if(u==null)return{};const f=SS(d),h={x:r,y:n},p=Dv(i),v=$v(p),m=await o.getDimensions(u),g=p==="y",b=g?"top":"left",y=g?"bottom":"right",w=g?"clientHeight":"clientWidth",A=s.reference[v]+s.reference[p]-h[p]-s.floating[v],N=h[p]-s.reference[p],j=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let O=j?j[w]:0;(!O||!await(o.isElement==null?void 0:o.isElement(j)))&&(O=c.floating[w]||s.floating[v]);const S=A/2-N/2,P=O/2-m[v]/2-1,C=Ua(f[b],P),_=Ua(f[y],P),T=C,D=O-m[v]-_,$=O/2-m[v]/2+S,k=wm(T,$,D),M=!l.arrow&&fo(i)!=null&&$!==k&&s.reference[v]/2-($<T?C:_)-m[v]/2<0,E=M?$<T?$-T:$-D:0;return{[p]:h[p]+E,data:{[p]:k,centerOffset:$-k-E,...M&&{alignmentOffset:E}},reset:M}}}),l4=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:s,rects:o,initialPlacement:c,platform:l,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:m=!0,...g}=pa(e,t);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const b=va(i),y=Wa(c),w=va(c)===c,A=await(l.isRTL==null?void 0:l.isRTL(u.floating)),N=h||(w||!m?[Eu(c)]:n4(c)),j=v!=="none";!h&&j&&N.push(...i4(c,m,v,A));const O=[c,...N],S=await Ac(t,g),P=[];let C=((n=s.flip)==null?void 0:n.overflows)||[];if(d&&P.push(S[b]),f){const $=r4(i,o,A);P.push(S[$[0]],S[$[1]])}if(C=[...C,{placement:i,overflows:P}],!P.every($=>$<=0)){var _,T;const $=(((_=s.flip)==null?void 0:_.index)||0)+1,k=O[$];if(k)return{data:{index:$,overflows:C},reset:{placement:k}};let M=(T=C.filter(E=>E.overflows[0]<=0).sort((E,U)=>E.overflows[1]-U.overflows[1])[0])==null?void 0:T.placement;if(!M)switch(p){case"bestFit":{var D;const E=(D=C.filter(U=>{if(j){const R=Wa(U.placement);return R===y||R==="y"}return!0}).map(U=>[U.placement,U.overflows.filter(R=>R>0).reduce((R,X)=>R+X,0)]).sort((U,R)=>U[1]-R[1])[0])==null?void 0:D[0];E&&(M=E);break}case"initialPlacement":M=c;break}if(i!==M)return{reset:{placement:M}}}return{}}}};function vy(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function gy(e){return QR.some(t=>e[t]>=0)}const u4=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...i}=pa(e,t);switch(n){case"referenceHidden":{const s=await Ac(t,{...i,elementContext:"reference"}),o=vy(s,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:gy(o)}}}case"escaped":{const s=await Ac(t,{...i,altBoundary:!0}),o=vy(s,r.floating);return{data:{escapedOffsets:o,escaped:gy(o)}}}default:return{}}}}};async function d4(e,t){const{placement:r,platform:n,elements:i}=e,s=await(n.isRTL==null?void 0:n.isRTL(i.floating)),o=va(r),c=fo(r),l=Wa(r)==="y",u=["left","top"].includes(o)?-1:1,d=s&&l?-1:1,f=pa(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return c&&typeof v=="number"&&(p=c==="end"?v*-1:v),l?{x:p*d,y:h*u}:{x:h*u,y:p*d}}const f4=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:s,placement:o,middlewareData:c}=t,l=await d4(t,e);return o===((r=c.offset)==null?void 0:r.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},h4=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:i}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:c={fn:g=>{let{x:b,y}=g;return{x:b,y}}},...l}=pa(e,t),u={x:r,y:n},d=await Ac(t,l),f=Wa(va(i)),h=Ev(f);let p=u[h],v=u[f];if(s){const g=h==="y"?"top":"left",b=h==="y"?"bottom":"right",y=p+d[g],w=p-d[b];p=wm(y,p,w)}if(o){const g=f==="y"?"top":"left",b=f==="y"?"bottom":"right",y=v+d[g],w=v-d[b];v=wm(y,v,w)}const m=c.fn({...t,[h]:p,[f]:v});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[h]:s,[f]:o}}}}}},m4=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:i,rects:s,middlewareData:o}=t,{offset:c=0,mainAxis:l=!0,crossAxis:u=!0}=pa(e,t),d={x:r,y:n},f=Wa(i),h=Ev(f);let p=d[h],v=d[f];const m=pa(c,t),g=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const w=h==="y"?"height":"width",A=s.reference[h]-s.floating[w]+g.mainAxis,N=s.reference[h]+s.reference[w]-g.mainAxis;p<A?p=A:p>N&&(p=N)}if(u){var b,y;const w=h==="y"?"width":"height",A=["top","left"].includes(va(i)),N=s.reference[f]-s.floating[w]+(A&&((b=o.offset)==null?void 0:b[f])||0)+(A?0:g.crossAxis),j=s.reference[f]+s.reference[w]+(A?0:((y=o.offset)==null?void 0:y[f])||0)-(A?g.crossAxis:0);v<N?v=N:v>j&&(v=j)}return{[h]:p,[f]:v}}}},p4=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:i,rects:s,platform:o,elements:c}=t,{apply:l=()=>{},...u}=pa(e,t),d=await Ac(t,u),f=va(i),h=fo(i),p=Wa(i)==="y",{width:v,height:m}=s.floating;let g,b;f==="top"||f==="bottom"?(g=f,b=h===(await(o.isRTL==null?void 0:o.isRTL(c.floating))?"start":"end")?"left":"right"):(b=f,g=h==="end"?"top":"bottom");const y=m-d.top-d.bottom,w=v-d.left-d.right,A=Ua(m-d[g],y),N=Ua(v-d[b],w),j=!t.middlewareData.shift;let O=A,S=N;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(S=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(O=y),j&&!h){const C=$r(d.left,0),_=$r(d.right,0),T=$r(d.top,0),D=$r(d.bottom,0);p?S=v-2*(C!==0||_!==0?C+_:$r(d.left,d.right)):O=m-2*(T!==0||D!==0?T+D:$r(d.top,d.bottom))}await l({...t,availableWidth:S,availableHeight:O});const P=await o.getDimensions(c.floating);return v!==P.width||m!==P.height?{reset:{rects:!0}}:{}}}};function af(){return typeof window<"u"}function ho(e){return AS(e)?(e.nodeName||"").toLowerCase():"#document"}function Rr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function qn(e){var t;return(t=(AS(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function AS(e){return af()?e instanceof Node||e instanceof Rr(e).Node:!1}function gn(e){return af()?e instanceof Element||e instanceof Rr(e).Element:!1}function zn(e){return af()?e instanceof HTMLElement||e instanceof Rr(e).HTMLElement:!1}function xy(e){return!af()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Rr(e).ShadowRoot}function gl(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=xn(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(i)}function v4(e){return["table","td","th"].includes(ho(e))}function sf(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Iv(e){const t=Mv(),r=gn(e)?xn(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function g4(e){let t=Ha(e);for(;zn(t)&&!Ts(t);){if(Iv(t))return t;if(sf(t))return null;t=Ha(t)}return null}function Mv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ts(e){return["html","body","#document"].includes(ho(e))}function xn(e){return Rr(e).getComputedStyle(e)}function of(e){return gn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ha(e){if(ho(e)==="html")return e;const t=e.assignedSlot||e.parentNode||xy(e)&&e.host||qn(e);return xy(t)?t.host:t}function OS(e){const t=Ha(e);return Ts(t)?e.ownerDocument?e.ownerDocument.body:e.body:zn(t)&&gl(t)?t:OS(t)}function Oc(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=OS(e),s=i===((n=e.ownerDocument)==null?void 0:n.body),o=Rr(i);if(s){const c=Sm(o);return t.concat(o,o.visualViewport||[],gl(i)?i:[],c&&r?Oc(c):[])}return t.concat(i,Oc(i,[],r))}function Sm(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function _S(e){const t=xn(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=zn(e),s=i?e.offsetWidth:r,o=i?e.offsetHeight:n,c=Tu(r)!==s||Tu(n)!==o;return c&&(r=s,n=o),{width:r,height:n,$:c}}function Rv(e){return gn(e)?e:e.contextElement}function Ss(e){const t=Rv(e);if(!zn(t))return In(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:s}=_S(t);let o=(s?Tu(r.width):r.width)/n,c=(s?Tu(r.height):r.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!c||!Number.isFinite(c))&&(c=1),{x:o,y:c}}const x4=In(0);function PS(e){const t=Rr(e);return!Mv()||!t.visualViewport?x4:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function y4(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Rr(e)?!1:t}function Di(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),s=Rv(e);let o=In(1);t&&(n?gn(n)&&(o=Ss(n)):o=Ss(e));const c=y4(s,r,n)?PS(s):In(0);let l=(i.left+c.x)/o.x,u=(i.top+c.y)/o.y,d=i.width/o.x,f=i.height/o.y;if(s){const h=Rr(s),p=n&&gn(n)?Rr(n):n;let v=h,m=Sm(v);for(;m&&n&&p!==v;){const g=Ss(m),b=m.getBoundingClientRect(),y=xn(m),w=b.left+(m.clientLeft+parseFloat(y.paddingLeft))*g.x,A=b.top+(m.clientTop+parseFloat(y.paddingTop))*g.y;l*=g.x,u*=g.y,d*=g.x,f*=g.y,l+=w,u+=A,v=Rr(m),m=Sm(v)}}return $u({width:d,height:f,x:l,y:u})}function Lv(e,t){const r=of(e).scrollLeft;return t?t.left+r:Di(qn(e)).left+r}function kS(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),i=n.left+t.scrollLeft-(r?0:Lv(e,n)),s=n.top+t.scrollTop;return{x:i,y:s}}function b4(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const s=i==="fixed",o=qn(n),c=t?sf(t.floating):!1;if(n===o||c&&s)return r;let l={scrollLeft:0,scrollTop:0},u=In(1);const d=In(0),f=zn(n);if((f||!f&&!s)&&((ho(n)!=="body"||gl(o))&&(l=of(n)),zn(n))){const p=Di(n);u=Ss(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}const h=o&&!f&&!s?kS(o,l,!0):In(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-l.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-l.scrollTop*u.y+d.y+h.y}}function j4(e){return Array.from(e.getClientRects())}function w4(e){const t=qn(e),r=of(e),n=e.ownerDocument.body,i=$r(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),s=$r(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+Lv(e);const c=-r.scrollTop;return xn(n).direction==="rtl"&&(o+=$r(t.clientWidth,n.clientWidth)-i),{width:i,height:s,x:o,y:c}}function N4(e,t){const r=Rr(e),n=qn(e),i=r.visualViewport;let s=n.clientWidth,o=n.clientHeight,c=0,l=0;if(i){s=i.width,o=i.height;const u=Mv();(!u||u&&t==="fixed")&&(c=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:c,y:l}}function S4(e,t){const r=Di(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,s=zn(e)?Ss(e):In(1),o=e.clientWidth*s.x,c=e.clientHeight*s.y,l=i*s.x,u=n*s.y;return{width:o,height:c,x:l,y:u}}function yy(e,t,r){let n;if(t==="viewport")n=N4(e,r);else if(t==="document")n=w4(qn(e));else if(gn(t))n=S4(t,r);else{const i=PS(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return $u(n)}function CS(e,t){const r=Ha(e);return r===t||!gn(r)||Ts(r)?!1:xn(r).position==="fixed"||CS(r,t)}function A4(e,t){const r=t.get(e);if(r)return r;let n=Oc(e,[],!1).filter(c=>gn(c)&&ho(c)!=="body"),i=null;const s=xn(e).position==="fixed";let o=s?Ha(e):e;for(;gn(o)&&!Ts(o);){const c=xn(o),l=Iv(o);!l&&c.position==="fixed"&&(i=null),(s?!l&&!i:!l&&c.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||gl(o)&&!l&&CS(e,o))?n=n.filter(d=>d!==o):i=c,o=Ha(o)}return t.set(e,n),n}function O4(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const o=[...r==="clippingAncestors"?sf(t)?[]:A4(t,this._c):[].concat(r),n],c=o[0],l=o.reduce((u,d)=>{const f=yy(t,d,i);return u.top=$r(f.top,u.top),u.right=Ua(f.right,u.right),u.bottom=Ua(f.bottom,u.bottom),u.left=$r(f.left,u.left),u},yy(t,c,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function _4(e){const{width:t,height:r}=_S(e);return{width:t,height:r}}function P4(e,t,r){const n=zn(t),i=qn(t),s=r==="fixed",o=Di(e,!0,s,t);let c={scrollLeft:0,scrollTop:0};const l=In(0);if(n||!n&&!s)if((ho(t)!=="body"||gl(i))&&(c=of(t)),n){const h=Di(t,!0,s,t);l.x=h.x+t.clientLeft,l.y=h.y+t.clientTop}else i&&(l.x=Lv(i));const u=i&&!n&&!s?kS(i,c):In(0),d=o.left+c.scrollLeft-l.x-u.x,f=o.top+c.scrollTop-l.y-u.y;return{x:d,y:f,width:o.width,height:o.height}}function Sh(e){return xn(e).position==="static"}function by(e,t){if(!zn(e)||xn(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return qn(e)===r&&(r=r.ownerDocument.body),r}function TS(e,t){const r=Rr(e);if(sf(e))return r;if(!zn(e)){let i=Ha(e);for(;i&&!Ts(i);){if(gn(i)&&!Sh(i))return i;i=Ha(i)}return r}let n=by(e,t);for(;n&&v4(n)&&Sh(n);)n=by(n,t);return n&&Ts(n)&&Sh(n)&&!Iv(n)?r:n||g4(e)||r}const k4=async function(e){const t=this.getOffsetParent||TS,r=this.getDimensions,n=await r(e.floating);return{reference:P4(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function C4(e){return xn(e).direction==="rtl"}const T4={convertOffsetParentRelativeRectToViewportRelativeRect:b4,getDocumentElement:qn,getClippingRect:O4,getOffsetParent:TS,getElementRects:k4,getClientRects:j4,getDimensions:_4,getScale:Ss,isElement:gn,isRTL:C4};function ES(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function E4(e,t){let r=null,n;const i=qn(e);function s(){var c;clearTimeout(n),(c=r)==null||c.disconnect(),r=null}function o(c,l){c===void 0&&(c=!1),l===void 0&&(l=1),s();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:p}=u;if(c||t(),!h||!p)return;const v=Il(f),m=Il(i.clientWidth-(d+h)),g=Il(i.clientHeight-(f+p)),b=Il(d),w={rootMargin:-v+"px "+-m+"px "+-g+"px "+-b+"px",threshold:$r(0,Ua(1,l))||1};let A=!0;function N(j){const O=j[0].intersectionRatio;if(O!==l){if(!A)return o();O?o(!1,O):n=setTimeout(()=>{o(!1,1e-7)},1e3)}O===1&&!ES(u,e.getBoundingClientRect())&&o(),A=!1}try{r=new IntersectionObserver(N,{...w,root:i.ownerDocument})}catch{r=new IntersectionObserver(N,w)}r.observe(e)}return o(!0),s}function $4(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,u=Rv(e),d=i||s?[...u?Oc(u):[],...Oc(t)]:[];d.forEach(b=>{i&&b.addEventListener("scroll",r,{passive:!0}),s&&b.addEventListener("resize",r)});const f=u&&c?E4(u,r):null;let h=-1,p=null;o&&(p=new ResizeObserver(b=>{let[y]=b;y&&y.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=p)==null||w.observe(t)})),r()}),u&&!l&&p.observe(u),p.observe(t));let v,m=l?Di(e):null;l&&g();function g(){const b=Di(e);m&&!ES(m,b)&&r(),m=b,v=requestAnimationFrame(g)}return r(),()=>{var b;d.forEach(y=>{i&&y.removeEventListener("scroll",r),s&&y.removeEventListener("resize",r)}),f==null||f(),(b=p)==null||b.disconnect(),p=null,l&&cancelAnimationFrame(v)}}const D4=f4,I4=h4,M4=l4,R4=p4,L4=u4,jy=c4,F4=m4,B4=(e,t,r)=>{const n=new Map,i={platform:T4,...r},s={...i.platform,_c:n};return o4(e,t,{...i,platform:s})};var ou=typeof document<"u"?x.useLayoutEffect:x.useEffect;function Du(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Du(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=r;n--!==0;){const s=i[n];if(!(s==="_owner"&&e.$$typeof)&&!Du(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function $S(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function wy(e,t){const r=$S(e);return Math.round(t*r)/r}function Ah(e){const t=x.useRef(e);return ou(()=>{t.current=e}),t}function V4(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:s,floating:o}={},transform:c=!0,whileElementsMounted:l,open:u}=e,[d,f]=x.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=x.useState(n);Du(h,n)||p(n);const[v,m]=x.useState(null),[g,b]=x.useState(null),y=x.useCallback(U=>{U!==j.current&&(j.current=U,m(U))},[]),w=x.useCallback(U=>{U!==O.current&&(O.current=U,b(U))},[]),A=s||v,N=o||g,j=x.useRef(null),O=x.useRef(null),S=x.useRef(d),P=l!=null,C=Ah(l),_=Ah(i),T=Ah(u),D=x.useCallback(()=>{if(!j.current||!O.current)return;const U={placement:t,strategy:r,middleware:h};_.current&&(U.platform=_.current),B4(j.current,O.current,U).then(R=>{const X={...R,isPositioned:T.current!==!1};$.current&&!Du(S.current,X)&&(S.current=X,ao.flushSync(()=>{f(X)}))})},[h,t,r,_,T]);ou(()=>{u===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,f(U=>({...U,isPositioned:!1})))},[u]);const $=x.useRef(!1);ou(()=>($.current=!0,()=>{$.current=!1}),[]),ou(()=>{if(A&&(j.current=A),N&&(O.current=N),A&&N){if(C.current)return C.current(A,N,D);D()}},[A,N,D,C,P]);const k=x.useMemo(()=>({reference:j,floating:O,setReference:y,setFloating:w}),[y,w]),M=x.useMemo(()=>({reference:A,floating:N}),[A,N]),E=x.useMemo(()=>{const U={position:r,left:0,top:0};if(!M.floating)return U;const R=wy(M.floating,d.x),X=wy(M.floating,d.y);return c?{...U,transform:"translate("+R+"px, "+X+"px)",...$S(M.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:R,top:X}},[r,c,M.floating,d.x,d.y]);return x.useMemo(()=>({...d,update:D,refs:k,elements:M,floatingStyles:E}),[d,D,k,M,E])}const z4=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:i}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?jy({element:n.current,padding:i}).fn(r):{}:n?jy({element:n,padding:i}).fn(r):{}}}},U4=(e,t)=>({...D4(e),options:[e,t]}),W4=(e,t)=>({...I4(e),options:[e,t]}),H4=(e,t)=>({...F4(e),options:[e,t]}),q4=(e,t)=>({...M4(e),options:[e,t]}),K4=(e,t)=>({...R4(e),options:[e,t]}),G4=(e,t)=>({...L4(e),options:[e,t]}),Z4=(e,t)=>({...z4(e),options:[e,t]});var X4="Arrow",DS=x.forwardRef((e,t)=>{const{children:r,width:n=10,height:i=5,...s}=e;return a.jsx(Rt.svg,{...s,ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});DS.displayName=X4;var Y4=DS;function J4(e){const[t,r]=x.useState(void 0);return _r(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,c;if("borderBoxSize"in s){const l=s.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,c=u.blockSize}else o=e.offsetWidth,c=e.offsetHeight;r({width:o,height:c})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Fv="Popper",[IS,MS]=Cv(Fv),[Q4,RS]=IS(Fv),LS=e=>{const{__scopePopper:t,children:r}=e,[n,i]=x.useState(null);return a.jsx(Q4,{scope:t,anchor:n,onAnchorChange:i,children:r})};LS.displayName=Fv;var FS="PopperAnchor",BS=x.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...i}=e,s=RS(FS,r),o=x.useRef(null),c=or(t,o);return x.useEffect(()=>{s.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:a.jsx(Rt.div,{...i,ref:c})});BS.displayName=FS;var Bv="PopperContent",[e3,t3]=IS(Bv),VS=x.forwardRef((e,t)=>{var me,Pe,le,ye,xe,te;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:c=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:v,...m}=e,g=RS(Bv,r),[b,y]=x.useState(null),w=or(t,Ve=>y(Ve)),[A,N]=x.useState(null),j=J4(A),O=(j==null?void 0:j.width)??0,S=(j==null?void 0:j.height)??0,P=n+(s!=="center"?"-"+s:""),C=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},_=Array.isArray(u)?u:[u],T=_.length>0,D={padding:C,boundary:_.filter(n3),altBoundary:T},{refs:$,floatingStyles:k,placement:M,isPositioned:E,middlewareData:U}=V4({strategy:"fixed",placement:P,whileElementsMounted:(...Ve)=>$4(...Ve,{animationFrame:p==="always"}),elements:{reference:g.anchor},middleware:[U4({mainAxis:i+S,alignmentAxis:o}),l&&W4({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?H4():void 0,...D}),l&&q4({...D}),K4({...D,apply:({elements:Ve,rects:Te,availableWidth:et,availableHeight:rt})=>{const{width:st,height:L}=Te.reference,G=Ve.floating.style;G.setProperty("--radix-popper-available-width",`${et}px`),G.setProperty("--radix-popper-available-height",`${rt}px`),G.setProperty("--radix-popper-anchor-width",`${st}px`),G.setProperty("--radix-popper-anchor-height",`${L}px`)}}),A&&Z4({element:A,padding:c}),a3({arrowWidth:O,arrowHeight:S}),h&&G4({strategy:"referenceHidden",...D})]}),[R,X]=WS(M),F=$i(v);_r(()=>{E&&(F==null||F())},[E,F]);const ie=(me=U.arrow)==null?void 0:me.x,V=(Pe=U.arrow)==null?void 0:Pe.y,H=((le=U.arrow)==null?void 0:le.centerOffset)!==0,[fe,Le]=x.useState();return _r(()=>{b&&Le(window.getComputedStyle(b).zIndex)},[b]),a.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...k,transform:E?k.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:fe,"--radix-popper-transform-origin":[(ye=U.transformOrigin)==null?void 0:ye.x,(xe=U.transformOrigin)==null?void 0:xe.y].join(" "),...((te=U.hide)==null?void 0:te.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(e3,{scope:r,placedSide:R,onArrowChange:N,arrowX:ie,arrowY:V,shouldHideArrow:H,children:a.jsx(Rt.div,{"data-side":R,"data-align":X,...m,ref:w,style:{...m.style,animation:E?void 0:"none"}})})})});VS.displayName=Bv;var zS="PopperArrow",r3={top:"bottom",right:"left",bottom:"top",left:"right"},US=x.forwardRef(function(t,r){const{__scopePopper:n,...i}=t,s=t3(zS,n),o=r3[s.placedSide];return a.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:a.jsx(Y4,{...i,ref:r,style:{...i.style,display:"block"}})})});US.displayName=zS;function n3(e){return e!==null}var a3=e=>({name:"transformOrigin",options:e,fn(t){var g,b,y;const{placement:r,rects:n,middlewareData:i}=t,o=((g=i.arrow)==null?void 0:g.centerOffset)!==0,c=o?0:e.arrowWidth,l=o?0:e.arrowHeight,[u,d]=WS(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((b=i.arrow)==null?void 0:b.x)??0)+c/2,p=(((y=i.arrow)==null?void 0:y.y)??0)+l/2;let v="",m="";return u==="bottom"?(v=o?f:`${h}px`,m=`${-l}px`):u==="top"?(v=o?f:`${h}px`,m=`${n.floating.height+l}px`):u==="right"?(v=`${-l}px`,m=o?f:`${p}px`):u==="left"&&(v=`${n.floating.width+l}px`,m=o?f:`${p}px`),{data:{x:v,y:m}}}});function WS(e){const[t,r="center"]=e.split("-");return[t,r]}var i3=LS,s3=BS,o3=VS,c3=US,l3="Portal",HS=x.forwardRef((e,t)=>{var c;const{container:r,...n}=e,[i,s]=x.useState(!1);_r(()=>s(!0),[]);const o=r||i&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return o?Dw.createPortal(a.jsx(Rt.div,{...n,ref:t}),o):null});HS.displayName=l3;var u3=Wi[" useInsertionEffect ".trim().toString()]||_r;function Ny({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[i,s,o]=d3({defaultProp:t,onChange:r}),c=e!==void 0,l=c?e:i;{const d=x.useRef(e!==void 0);x.useEffect(()=>{const f=d.current;f!==c&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=c},[c,n])}const u=x.useCallback(d=>{var f;if(c){const h=f3(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else s(d)},[c,e,s,o]);return[l,u]}function d3({defaultProp:e,onChange:t}){const[r,n]=x.useState(e),i=x.useRef(r),s=x.useRef(t);return u3(()=>{s.current=t},[t]),x.useEffect(()=>{var o;i.current!==r&&((o=s.current)==null||o.call(s,r),i.current=r)},[r,i]),[r,n,s]}function f3(e){return typeof e=="function"}function h3(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var qS=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),m3="VisuallyHidden",p3=x.forwardRef((e,t)=>a.jsx(Rt.span,{...e,ref:t,style:{...qS,...e.style}}));p3.displayName=m3;var v3=[" ","Enter","ArrowUp","ArrowDown"],g3=[" ","Enter"],Ii="Select",[cf,lf,x3]=CR(Ii),[mo,Ice]=Cv(Ii,[x3,MS]),uf=MS(),[y3,Ga]=mo(Ii),[b3,j3]=mo(Ii),KS=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:i,onOpenChange:s,value:o,defaultValue:c,onValueChange:l,dir:u,name:d,autoComplete:f,disabled:h,required:p,form:v}=e,m=uf(t),[g,b]=x.useState(null),[y,w]=x.useState(null),[A,N]=x.useState(!1),j=ER(u),[O,S]=Ny({prop:n,defaultProp:i??!1,onChange:s,caller:Ii}),[P,C]=Ny({prop:o,defaultProp:c,onChange:l,caller:Ii}),_=x.useRef(null),T=g?v||!!g.closest("form"):!0,[D,$]=x.useState(new Set),k=Array.from(D).map(M=>M.props.value).join(";");return a.jsx(i3,{...m,children:a.jsxs(y3,{required:p,scope:t,trigger:g,onTriggerChange:b,valueNode:y,onValueNodeChange:w,valueNodeHasChildren:A,onValueNodeHasChildrenChange:N,contentId:Tv(),value:P,onValueChange:C,open:O,onOpenChange:S,dir:j,triggerPointerDownPosRef:_,disabled:h,children:[a.jsx(cf.Provider,{scope:t,children:a.jsx(b3,{scope:e.__scopeSelect,onNativeOptionAdd:x.useCallback(M=>{$(E=>new Set(E).add(M))},[]),onNativeOptionRemove:x.useCallback(M=>{$(E=>{const U=new Set(E);return U.delete(M),U})},[]),children:r})}),T?a.jsxs(gA,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:P,onChange:M=>C(M.target.value),disabled:h,form:v,children:[P===void 0?a.jsx("option",{value:""}):null,Array.from(D)]},k):null]})})};KS.displayName=Ii;var GS="SelectTrigger",ZS=x.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...i}=e,s=uf(r),o=Ga(GS,r),c=o.disabled||n,l=or(t,o.onTriggerChange),u=lf(r),d=x.useRef("touch"),[f,h,p]=yA(m=>{const g=u().filter(w=>!w.disabled),b=g.find(w=>w.value===o.value),y=bA(g,m,b);y!==void 0&&o.onValueChange(y.value)}),v=m=>{c||(o.onOpenChange(!0),p()),m&&(o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return a.jsx(s3,{asChild:!0,...s,children:a.jsx(Rt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":xA(o.value)?"":void 0,...i,ref:l,onClick:Vt(i.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&v(m)}),onPointerDown:Vt(i.onPointerDown,m=>{d.current=m.pointerType;const g=m.target;g.hasPointerCapture(m.pointerId)&&g.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(v(m),m.preventDefault())}),onKeyDown:Vt(i.onKeyDown,m=>{const g=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&h(m.key),!(g&&m.key===" ")&&v3.includes(m.key)&&(v(),m.preventDefault())})})})});ZS.displayName=GS;var XS="SelectValue",YS=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,children:s,placeholder:o="",...c}=e,l=Ga(XS,r),{onValueNodeHasChildrenChange:u}=l,d=s!==void 0,f=or(t,l.onValueNodeChange);return _r(()=>{u(d)},[u,d]),a.jsx(Rt.span,{...c,ref:f,style:{pointerEvents:"none"},children:xA(l.value)?a.jsx(a.Fragment,{children:o}):s})});YS.displayName=XS;var w3="SelectIcon",JS=x.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...i}=e;return a.jsx(Rt.span,{"aria-hidden":!0,...i,ref:t,children:n||"▼"})});JS.displayName=w3;var N3="SelectPortal",QS=e=>a.jsx(HS,{asChild:!0,...e});QS.displayName=N3;var Mi="SelectContent",eA=x.forwardRef((e,t)=>{const r=Ga(Mi,e.__scopeSelect),[n,i]=x.useState();if(_r(()=>{i(new DocumentFragment)},[]),!r.open){const s=n;return s?ao.createPortal(a.jsx(tA,{scope:e.__scopeSelect,children:a.jsx(cf.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),s):null}return a.jsx(rA,{...e,ref:t})});eA.displayName=Mi;var sn=10,[tA,Za]=mo(Mi),S3="SelectContentImpl",A3=en("SelectContent.RemoveScroll"),rA=x.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:c,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:v,hideWhenDetached:m,avoidCollisions:g,...b}=e,y=Ga(Mi,r),[w,A]=x.useState(null),[N,j]=x.useState(null),O=or(t,me=>A(me)),[S,P]=x.useState(null),[C,_]=x.useState(null),T=lf(r),[D,$]=x.useState(!1),k=x.useRef(!1);x.useEffect(()=>{if(w)return oN(w)},[w]),UR();const M=x.useCallback(me=>{const[Pe,...le]=T().map(te=>te.ref.current),[ye]=le.slice(-1),xe=document.activeElement;for(const te of me)if(te===xe||(te==null||te.scrollIntoView({block:"nearest"}),te===Pe&&N&&(N.scrollTop=0),te===ye&&N&&(N.scrollTop=N.scrollHeight),te==null||te.focus(),document.activeElement!==xe))return},[T,N]),E=x.useCallback(()=>M([S,w]),[M,S,w]);x.useEffect(()=>{D&&E()},[D,E]);const{onOpenChange:U,triggerPointerDownPosRef:R}=y;x.useEffect(()=>{if(w){let me={x:0,y:0};const Pe=ye=>{var xe,te;me={x:Math.abs(Math.round(ye.pageX)-(((xe=R.current)==null?void 0:xe.x)??0)),y:Math.abs(Math.round(ye.pageY)-(((te=R.current)==null?void 0:te.y)??0))}},le=ye=>{me.x<=10&&me.y<=10?ye.preventDefault():w.contains(ye.target)||U(!1),document.removeEventListener("pointermove",Pe),R.current=null};return R.current!==null&&(document.addEventListener("pointermove",Pe),document.addEventListener("pointerup",le,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Pe),document.removeEventListener("pointerup",le,{capture:!0})}}},[w,U,R]),x.useEffect(()=>{const me=()=>U(!1);return window.addEventListener("blur",me),window.addEventListener("resize",me),()=>{window.removeEventListener("blur",me),window.removeEventListener("resize",me)}},[U]);const[X,F]=yA(me=>{const Pe=T().filter(xe=>!xe.disabled),le=Pe.find(xe=>xe.ref.current===document.activeElement),ye=bA(Pe,me,le);ye&&setTimeout(()=>ye.ref.current.focus())}),ie=x.useCallback((me,Pe,le)=>{const ye=!k.current&&!le;(y.value!==void 0&&y.value===Pe||ye)&&(P(me),ye&&(k.current=!0))},[y.value]),V=x.useCallback(()=>w==null?void 0:w.focus(),[w]),H=x.useCallback((me,Pe,le)=>{const ye=!k.current&&!le;(y.value!==void 0&&y.value===Pe||ye)&&_(me)},[y.value]),fe=n==="popper"?Am:nA,Le=fe===Am?{side:c,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:v,hideWhenDetached:m,avoidCollisions:g}:{};return a.jsx(tA,{scope:r,content:w,viewport:N,onViewportChange:j,itemRefCallback:ie,selectedItem:S,onItemLeave:V,itemTextRefCallback:H,focusSelectedItem:E,selectedItemText:C,position:n,isPositioned:D,searchRef:X,children:a.jsx(yv,{as:A3,allowPinchZoom:!0,children:a.jsx(wS,{asChild:!0,trapped:y.open,onMountAutoFocus:me=>{me.preventDefault()},onUnmountAutoFocus:Vt(i,me=>{var Pe;(Pe=y.trigger)==null||Pe.focus({preventScroll:!0}),me.preventDefault()}),children:a.jsx(bS,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:me=>me.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:a.jsx(fe,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:me=>me.preventDefault(),...b,...Le,onPlaced:()=>$(!0),ref:O,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:Vt(b.onKeyDown,me=>{const Pe=me.ctrlKey||me.altKey||me.metaKey;if(me.key==="Tab"&&me.preventDefault(),!Pe&&me.key.length===1&&F(me.key),["ArrowUp","ArrowDown","Home","End"].includes(me.key)){let ye=T().filter(xe=>!xe.disabled).map(xe=>xe.ref.current);if(["ArrowUp","End"].includes(me.key)&&(ye=ye.slice().reverse()),["ArrowUp","ArrowDown"].includes(me.key)){const xe=me.target,te=ye.indexOf(xe);ye=ye.slice(te+1)}setTimeout(()=>M(ye)),me.preventDefault()}})})})})})})});rA.displayName=S3;var O3="SelectItemAlignedPosition",nA=x.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...i}=e,s=Ga(Mi,r),o=Za(Mi,r),[c,l]=x.useState(null),[u,d]=x.useState(null),f=or(t,O=>d(O)),h=lf(r),p=x.useRef(!1),v=x.useRef(!0),{viewport:m,selectedItem:g,selectedItemText:b,focusSelectedItem:y}=o,w=x.useCallback(()=>{if(s.trigger&&s.valueNode&&c&&u&&m&&g&&b){const O=s.trigger.getBoundingClientRect(),S=u.getBoundingClientRect(),P=s.valueNode.getBoundingClientRect(),C=b.getBoundingClientRect();if(s.dir!=="rtl"){const xe=C.left-S.left,te=P.left-xe,Ve=O.left-te,Te=O.width+Ve,et=Math.max(Te,S.width),rt=window.innerWidth-sn,st=sy(te,[sn,Math.max(sn,rt-et)]);c.style.minWidth=Te+"px",c.style.left=st+"px"}else{const xe=S.right-C.right,te=window.innerWidth-P.right-xe,Ve=window.innerWidth-O.right-te,Te=O.width+Ve,et=Math.max(Te,S.width),rt=window.innerWidth-sn,st=sy(te,[sn,Math.max(sn,rt-et)]);c.style.minWidth=Te+"px",c.style.right=st+"px"}const _=h(),T=window.innerHeight-sn*2,D=m.scrollHeight,$=window.getComputedStyle(u),k=parseInt($.borderTopWidth,10),M=parseInt($.paddingTop,10),E=parseInt($.borderBottomWidth,10),U=parseInt($.paddingBottom,10),R=k+M+D+U+E,X=Math.min(g.offsetHeight*5,R),F=window.getComputedStyle(m),ie=parseInt(F.paddingTop,10),V=parseInt(F.paddingBottom,10),H=O.top+O.height/2-sn,fe=T-H,Le=g.offsetHeight/2,me=g.offsetTop+Le,Pe=k+M+me,le=R-Pe;if(Pe<=H){const xe=_.length>0&&g===_[_.length-1].ref.current;c.style.bottom="0px";const te=u.clientHeight-m.offsetTop-m.offsetHeight,Ve=Math.max(fe,Le+(xe?V:0)+te+E),Te=Pe+Ve;c.style.height=Te+"px"}else{const xe=_.length>0&&g===_[0].ref.current;c.style.top="0px";const Ve=Math.max(H,k+m.offsetTop+(xe?ie:0)+Le)+le;c.style.height=Ve+"px",m.scrollTop=Pe-H+m.offsetTop}c.style.margin=`${sn}px 0`,c.style.minHeight=X+"px",c.style.maxHeight=T+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[h,s.trigger,s.valueNode,c,u,m,g,b,s.dir,n]);_r(()=>w(),[w]);const[A,N]=x.useState();_r(()=>{u&&N(window.getComputedStyle(u).zIndex)},[u]);const j=x.useCallback(O=>{O&&v.current===!0&&(w(),y==null||y(),v.current=!1)},[w,y]);return a.jsx(P3,{scope:r,contentWrapper:c,shouldExpandOnScrollRef:p,onScrollButtonChange:j,children:a.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:a.jsx(Rt.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});nA.displayName=O3;var _3="SelectPopperPosition",Am=x.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=sn,...s}=e,o=uf(r);return a.jsx(o3,{...o,...s,ref:t,align:n,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Am.displayName=_3;var[P3,Vv]=mo(Mi,{}),Om="SelectViewport",aA=x.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...i}=e,s=Za(Om,r),o=Vv(Om,r),c=or(t,s.onViewportChange),l=x.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(cf.Slot,{scope:r,children:a.jsx(Rt.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Vt(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const p=Math.abs(l.current-d.scrollTop);if(p>0){const v=window.innerHeight-sn*2,m=parseFloat(f.style.minHeight),g=parseFloat(f.style.height),b=Math.max(m,g);if(b<v){const y=b+p,w=Math.min(v,y),A=y-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=A>0?A:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});aA.displayName=Om;var iA="SelectGroup",[k3,C3]=mo(iA),T3=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=Tv();return a.jsx(k3,{scope:r,id:i,children:a.jsx(Rt.div,{role:"group","aria-labelledby":i,...n,ref:t})})});T3.displayName=iA;var sA="SelectLabel",oA=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=C3(sA,r);return a.jsx(Rt.div,{id:i.id,...n,ref:t})});oA.displayName=sA;var Iu="SelectItem",[E3,cA]=mo(Iu),lA=x.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:s,...o}=e,c=Ga(Iu,r),l=Za(Iu,r),u=c.value===n,[d,f]=x.useState(s??""),[h,p]=x.useState(!1),v=or(t,y=>{var w;return(w=l.itemRefCallback)==null?void 0:w.call(l,y,n,i)}),m=Tv(),g=x.useRef("touch"),b=()=>{i||(c.onValueChange(n),c.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(E3,{scope:r,value:n,disabled:i,textId:m,isSelected:u,onItemTextChange:x.useCallback(y=>{f(w=>w||((y==null?void 0:y.textContent)??"").trim())},[]),children:a.jsx(cf.ItemSlot,{scope:r,value:n,disabled:i,textValue:d,children:a.jsx(Rt.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:v,onFocus:Vt(o.onFocus,()=>p(!0)),onBlur:Vt(o.onBlur,()=>p(!1)),onClick:Vt(o.onClick,()=>{g.current!=="mouse"&&b()}),onPointerUp:Vt(o.onPointerUp,()=>{g.current==="mouse"&&b()}),onPointerDown:Vt(o.onPointerDown,y=>{g.current=y.pointerType}),onPointerMove:Vt(o.onPointerMove,y=>{var w;g.current=y.pointerType,i?(w=l.onItemLeave)==null||w.call(l):g.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Vt(o.onPointerLeave,y=>{var w;y.currentTarget===document.activeElement&&((w=l.onItemLeave)==null||w.call(l))}),onKeyDown:Vt(o.onKeyDown,y=>{var A;((A=l.searchRef)==null?void 0:A.current)!==""&&y.key===" "||(g3.includes(y.key)&&b(),y.key===" "&&y.preventDefault())})})})})});lA.displayName=Iu;var Yo="SelectItemText",uA=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,...s}=e,o=Ga(Yo,r),c=Za(Yo,r),l=cA(Yo,r),u=j3(Yo,r),[d,f]=x.useState(null),h=or(t,b=>f(b),l.onItemTextChange,b=>{var y;return(y=c.itemTextRefCallback)==null?void 0:y.call(c,b,l.value,l.disabled)}),p=d==null?void 0:d.textContent,v=x.useMemo(()=>a.jsx("option",{value:l.value,disabled:l.disabled,children:p},l.value),[l.disabled,l.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:g}=u;return _r(()=>(m(v),()=>g(v)),[m,g,v]),a.jsxs(a.Fragment,{children:[a.jsx(Rt.span,{id:l.textId,...s,ref:h}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ao.createPortal(s.children,o.valueNode):null]})});uA.displayName=Yo;var dA="SelectItemIndicator",fA=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return cA(dA,r).isSelected?a.jsx(Rt.span,{"aria-hidden":!0,...n,ref:t}):null});fA.displayName=dA;var _m="SelectScrollUpButton",hA=x.forwardRef((e,t)=>{const r=Za(_m,e.__scopeSelect),n=Vv(_m,e.__scopeSelect),[i,s]=x.useState(!1),o=or(t,n.onScrollButtonChange);return _r(()=>{if(r.viewport&&r.isPositioned){let c=function(){const u=l.scrollTop>0;s(u)};const l=r.viewport;return c(),l.addEventListener("scroll",c),()=>l.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),i?a.jsx(pA,{...e,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:l}=r;c&&l&&(c.scrollTop=c.scrollTop-l.offsetHeight)}}):null});hA.displayName=_m;var Pm="SelectScrollDownButton",mA=x.forwardRef((e,t)=>{const r=Za(Pm,e.__scopeSelect),n=Vv(Pm,e.__scopeSelect),[i,s]=x.useState(!1),o=or(t,n.onScrollButtonChange);return _r(()=>{if(r.viewport&&r.isPositioned){let c=function(){const u=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<u;s(d)};const l=r.viewport;return c(),l.addEventListener("scroll",c),()=>l.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),i?a.jsx(pA,{...e,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:l}=r;c&&l&&(c.scrollTop=c.scrollTop+l.offsetHeight)}}):null});mA.displayName=Pm;var pA=x.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=e,s=Za("SelectScrollButton",r),o=x.useRef(null),c=lf(r),l=x.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return x.useEffect(()=>()=>l(),[l]),_r(()=>{var d;const u=c().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[c]),a.jsx(Rt.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:Vt(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Vt(i.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Vt(i.onPointerLeave,()=>{l()})})}),$3="SelectSeparator",vA=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return a.jsx(Rt.div,{"aria-hidden":!0,...n,ref:t})});vA.displayName=$3;var km="SelectArrow",D3=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=uf(r),s=Ga(km,r),o=Za(km,r);return s.open&&o.position==="popper"?a.jsx(c3,{...i,...n,ref:t}):null});D3.displayName=km;var I3="SelectBubbleInput",gA=x.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const i=x.useRef(null),s=or(n,i),o=h3(t);return x.useEffect(()=>{const c=i.current;if(!c)return;const l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(c,t),c.dispatchEvent(f)}},[o,t]),a.jsx(Rt.select,{...r,style:{...qS,...r.style},ref:s,defaultValue:t})});gA.displayName=I3;function xA(e){return e===""||e===void 0}function yA(e){const t=$i(e),r=x.useRef(""),n=x.useRef(0),i=x.useCallback(o=>{const c=r.current+o;t(c),function l(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>l(""),1e3))}(c)},[t]),s=x.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,s]}function bA(e,t,r){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let o=M3(e,Math.max(s,0));i.length===1&&(o=o.filter(u=>u!==r));const l=o.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==r?l:void 0}function M3(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var R3=KS,jA=ZS,L3=YS,F3=JS,B3=QS,wA=eA,V3=aA,NA=oA,SA=lA,z3=uA,U3=fA,AA=hA,OA=mA,_A=vA;const Cn=R3,Tn=L3,fn=x.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(jA,{ref:n,className:Ye("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,a.jsx(F3,{asChild:!0,children:a.jsx(w1,{className:"h-4 w-4 opacity-50"})})]}));fn.displayName=jA.displayName;const PA=x.forwardRef(({className:e,...t},r)=>a.jsx(AA,{ref:r,className:Ye("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(rE,{className:"h-4 w-4"})}));PA.displayName=AA.displayName;const kA=x.forwardRef(({className:e,...t},r)=>a.jsx(OA,{ref:r,className:Ye("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(w1,{className:"h-4 w-4"})}));kA.displayName=OA.displayName;const hn=x.forwardRef(({className:e,children:t,position:r="popper",...n},i)=>a.jsx(B3,{children:a.jsxs(wA,{ref:i,className:Ye("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[a.jsx(PA,{}),a.jsx(V3,{className:Ye("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(kA,{})]})}));hn.displayName=wA.displayName;const W3=x.forwardRef(({className:e,...t},r)=>a.jsx(NA,{ref:r,className:Ye("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));W3.displayName=NA.displayName;const nt=x.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(SA,{ref:n,className:Ye("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(U3,{children:a.jsx(j1,{className:"h-4 w-4"})})}),a.jsx(z3,{children:t})]}));nt.displayName=SA.displayName;const H3=x.forwardRef(({className:e,...t},r)=>a.jsx(_A,{ref:r,className:Ye("-mx-1 my-1 h-px bg-muted",e),...t}));H3.displayName=_A.displayName;var q3=Array.isArray,Pr=q3,K3=typeof Ol=="object"&&Ol&&Ol.Object===Object&&Ol,CA=K3,G3=CA,Z3=typeof self=="object"&&self&&self.Object===Object&&self,X3=G3||Z3||Function("return this")(),Kn=X3,Y3=Kn,J3=Y3.Symbol,xl=J3,Sy=xl,TA=Object.prototype,Q3=TA.hasOwnProperty,eL=TA.toString,Ro=Sy?Sy.toStringTag:void 0;function tL(e){var t=Q3.call(e,Ro),r=e[Ro];try{e[Ro]=void 0;var n=!0}catch{}var i=eL.call(e);return n&&(t?e[Ro]=r:delete e[Ro]),i}var rL=tL,nL=Object.prototype,aL=nL.toString;function iL(e){return aL.call(e)}var sL=iL,Ay=xl,oL=rL,cL=sL,lL="[object Null]",uL="[object Undefined]",Oy=Ay?Ay.toStringTag:void 0;function dL(e){return e==null?e===void 0?uL:lL:Oy&&Oy in Object(e)?oL(e):cL(e)}var ja=dL;function fL(e){return e!=null&&typeof e=="object"}var wa=fL,hL=ja,mL=wa,pL="[object Symbol]";function vL(e){return typeof e=="symbol"||mL(e)&&hL(e)==pL}var po=vL,gL=Pr,xL=po,yL=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,bL=/^\w*$/;function jL(e,t){if(gL(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||xL(e)?!0:bL.test(e)||!yL.test(e)||t!=null&&e in Object(t)}var zv=jL;function wL(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Xa=wL;const vo=gt(Xa);var NL=ja,SL=Xa,AL="[object AsyncFunction]",OL="[object Function]",_L="[object GeneratorFunction]",PL="[object Proxy]";function kL(e){if(!SL(e))return!1;var t=NL(e);return t==OL||t==_L||t==AL||t==PL}var Uv=kL;const Ue=gt(Uv);var CL=Kn,TL=CL["__core-js_shared__"],EL=TL,Oh=EL,_y=function(){var e=/[^.]+$/.exec(Oh&&Oh.keys&&Oh.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function $L(e){return!!_y&&_y in e}var DL=$L,IL=Function.prototype,ML=IL.toString;function RL(e){if(e!=null){try{return ML.call(e)}catch{}try{return e+""}catch{}}return""}var EA=RL,LL=Uv,FL=DL,BL=Xa,VL=EA,zL=/[\\^$.*+?()[\]{}|]/g,UL=/^\[object .+?Constructor\]$/,WL=Function.prototype,HL=Object.prototype,qL=WL.toString,KL=HL.hasOwnProperty,GL=RegExp("^"+qL.call(KL).replace(zL,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ZL(e){if(!BL(e)||FL(e))return!1;var t=LL(e)?GL:UL;return t.test(VL(e))}var XL=ZL;function YL(e,t){return e==null?void 0:e[t]}var JL=YL,QL=XL,eF=JL;function tF(e,t){var r=eF(e,t);return QL(r)?r:void 0}var Ki=tF,rF=Ki,nF=rF(Object,"create"),df=nF,Py=df;function aF(){this.__data__=Py?Py(null):{},this.size=0}var iF=aF;function sF(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var oF=sF,cF=df,lF="__lodash_hash_undefined__",uF=Object.prototype,dF=uF.hasOwnProperty;function fF(e){var t=this.__data__;if(cF){var r=t[e];return r===lF?void 0:r}return dF.call(t,e)?t[e]:void 0}var hF=fF,mF=df,pF=Object.prototype,vF=pF.hasOwnProperty;function gF(e){var t=this.__data__;return mF?t[e]!==void 0:vF.call(t,e)}var xF=gF,yF=df,bF="__lodash_hash_undefined__";function jF(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=yF&&t===void 0?bF:t,this}var wF=jF,NF=iF,SF=oF,AF=hF,OF=xF,_F=wF;function go(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}go.prototype.clear=NF;go.prototype.delete=SF;go.prototype.get=AF;go.prototype.has=OF;go.prototype.set=_F;var PF=go;function kF(){this.__data__=[],this.size=0}var CF=kF;function TF(e,t){return e===t||e!==e&&t!==t}var Wv=TF,EF=Wv;function $F(e,t){for(var r=e.length;r--;)if(EF(e[r][0],t))return r;return-1}var ff=$F,DF=ff,IF=Array.prototype,MF=IF.splice;function RF(e){var t=this.__data__,r=DF(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():MF.call(t,r,1),--this.size,!0}var LF=RF,FF=ff;function BF(e){var t=this.__data__,r=FF(t,e);return r<0?void 0:t[r][1]}var VF=BF,zF=ff;function UF(e){return zF(this.__data__,e)>-1}var WF=UF,HF=ff;function qF(e,t){var r=this.__data__,n=HF(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var KF=qF,GF=CF,ZF=LF,XF=VF,YF=WF,JF=KF;function xo(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}xo.prototype.clear=GF;xo.prototype.delete=ZF;xo.prototype.get=XF;xo.prototype.has=YF;xo.prototype.set=JF;var hf=xo,QF=Ki,e5=Kn,t5=QF(e5,"Map"),Hv=t5,ky=PF,r5=hf,n5=Hv;function a5(){this.size=0,this.__data__={hash:new ky,map:new(n5||r5),string:new ky}}var i5=a5;function s5(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var o5=s5,c5=o5;function l5(e,t){var r=e.__data__;return c5(t)?r[typeof t=="string"?"string":"hash"]:r.map}var mf=l5,u5=mf;function d5(e){var t=u5(this,e).delete(e);return this.size-=t?1:0,t}var f5=d5,h5=mf;function m5(e){return h5(this,e).get(e)}var p5=m5,v5=mf;function g5(e){return v5(this,e).has(e)}var x5=g5,y5=mf;function b5(e,t){var r=y5(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var j5=b5,w5=i5,N5=f5,S5=p5,A5=x5,O5=j5;function yo(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}yo.prototype.clear=w5;yo.prototype.delete=N5;yo.prototype.get=S5;yo.prototype.has=A5;yo.prototype.set=O5;var qv=yo,$A=qv,_5="Expected a function";function Kv(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(_5);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],s=r.cache;if(s.has(i))return s.get(i);var o=e.apply(this,n);return r.cache=s.set(i,o)||s,o};return r.cache=new(Kv.Cache||$A),r}Kv.Cache=$A;var DA=Kv;const P5=gt(DA);var k5=DA,C5=500;function T5(e){var t=k5(e,function(n){return r.size===C5&&r.clear(),n}),r=t.cache;return t}var E5=T5,$5=E5,D5=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,I5=/\\(\\)?/g,M5=$5(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(D5,function(r,n,i,s){t.push(i?s.replace(I5,"$1"):n||r)}),t}),R5=M5;function L5(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var Gv=L5,Cy=xl,F5=Gv,B5=Pr,V5=po,Ty=Cy?Cy.prototype:void 0,Ey=Ty?Ty.toString:void 0;function IA(e){if(typeof e=="string")return e;if(B5(e))return F5(e,IA)+"";if(V5(e))return Ey?Ey.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var z5=IA,U5=z5;function W5(e){return e==null?"":U5(e)}var MA=W5,H5=Pr,q5=zv,K5=R5,G5=MA;function Z5(e,t){return H5(e)?e:q5(e,t)?[e]:K5(G5(e))}var RA=Z5,X5=po;function Y5(e){if(typeof e=="string"||X5(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var pf=Y5,J5=RA,Q5=pf;function e6(e,t){t=J5(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[Q5(t[r++])];return r&&r==n?e:void 0}var Zv=e6,t6=Zv;function r6(e,t,r){var n=e==null?void 0:t6(e,t);return n===void 0?r:n}var LA=r6;const Lr=gt(LA);function n6(e){return e==null}var a6=n6;const qe=gt(a6);var i6=ja,s6=Pr,o6=wa,c6="[object String]";function l6(e){return typeof e=="string"||!s6(e)&&o6(e)&&i6(e)==c6}var u6=l6;const Ri=gt(u6);var FA={exports:{}},mt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xv=Symbol.for("react.element"),Yv=Symbol.for("react.portal"),vf=Symbol.for("react.fragment"),gf=Symbol.for("react.strict_mode"),xf=Symbol.for("react.profiler"),yf=Symbol.for("react.provider"),bf=Symbol.for("react.context"),d6=Symbol.for("react.server_context"),jf=Symbol.for("react.forward_ref"),wf=Symbol.for("react.suspense"),Nf=Symbol.for("react.suspense_list"),Sf=Symbol.for("react.memo"),Af=Symbol.for("react.lazy"),f6=Symbol.for("react.offscreen"),BA;BA=Symbol.for("react.module.reference");function rn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Xv:switch(e=e.type,e){case vf:case xf:case gf:case wf:case Nf:return e;default:switch(e=e&&e.$$typeof,e){case d6:case bf:case jf:case Af:case Sf:case yf:return e;default:return t}}case Yv:return t}}}mt.ContextConsumer=bf;mt.ContextProvider=yf;mt.Element=Xv;mt.ForwardRef=jf;mt.Fragment=vf;mt.Lazy=Af;mt.Memo=Sf;mt.Portal=Yv;mt.Profiler=xf;mt.StrictMode=gf;mt.Suspense=wf;mt.SuspenseList=Nf;mt.isAsyncMode=function(){return!1};mt.isConcurrentMode=function(){return!1};mt.isContextConsumer=function(e){return rn(e)===bf};mt.isContextProvider=function(e){return rn(e)===yf};mt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Xv};mt.isForwardRef=function(e){return rn(e)===jf};mt.isFragment=function(e){return rn(e)===vf};mt.isLazy=function(e){return rn(e)===Af};mt.isMemo=function(e){return rn(e)===Sf};mt.isPortal=function(e){return rn(e)===Yv};mt.isProfiler=function(e){return rn(e)===xf};mt.isStrictMode=function(e){return rn(e)===gf};mt.isSuspense=function(e){return rn(e)===wf};mt.isSuspenseList=function(e){return rn(e)===Nf};mt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===vf||e===xf||e===gf||e===wf||e===Nf||e===f6||typeof e=="object"&&e!==null&&(e.$$typeof===Af||e.$$typeof===Sf||e.$$typeof===yf||e.$$typeof===bf||e.$$typeof===jf||e.$$typeof===BA||e.getModuleId!==void 0)};mt.typeOf=rn;FA.exports=mt;var h6=FA.exports,m6=ja,p6=wa,v6="[object Number]";function g6(e){return typeof e=="number"||p6(e)&&m6(e)==v6}var VA=g6;const x6=gt(VA);var y6=VA;function b6(e){return y6(e)&&e!=+e}var j6=b6;const bo=gt(j6);var gr=function(t){return t===0?0:t>0?1:-1},hi=function(t){return Ri(t)&&t.indexOf("%")===t.length-1},pe=function(t){return x6(t)&&!bo(t)},w6=function(t){return qe(t)},Zt=function(t){return pe(t)||Ri(t)},N6=0,Gi=function(t){var r=++N6;return"".concat(t||"").concat(r)},xr=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!pe(t)&&!Ri(t))return n;var s;if(hi(t)){var o=t.indexOf("%");s=r*parseFloat(t.slice(0,o))/100}else s=+t;return bo(s)&&(s=n),i&&s>r&&(s=r),s},Ea=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},S6=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},i=0;i<r;i++)if(!n[t[i]])n[t[i]]=!0;else return!0;return!1},Kt=function(t,r){return pe(t)&&pe(r)?function(n){return t+n*(r-t)}:function(){return r}};function Mu(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Lr(n,t))===r})}var A6=function(t,r){return pe(t)&&pe(r)?t-r:Ri(t)&&Ri(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function As(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function Cm(e){"@babel/helpers - typeof";return Cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cm(e)}var O6=["viewBox","children"],_6=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],$y=["points","pathLength"],_h={svg:O6,polygon:$y,polyline:$y},Jv=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Ru=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(x.isValidElement(t)&&(n=t.props),!vo(n))return null;var i={};return Object.keys(n).forEach(function(s){Jv.includes(s)&&(i[s]=r||function(o){return n[s](n,o)})}),i},P6=function(t,r,n){return function(i){return t(r,n,i),null}},Li=function(t,r,n){if(!vo(t)||Cm(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(s){var o=t[s];Jv.includes(s)&&typeof o=="function"&&(i||(i={}),i[s]=P6(o,r,n))}),i},k6=["children"],C6=["children"];function Dy(e,t){if(e==null)return{};var r=T6(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function T6(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Tm(e){"@babel/helpers - typeof";return Tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tm(e)}var Iy={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},da=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},My=null,Ph=null,Qv=function e(t){if(t===My&&Array.isArray(Ph))return Ph;var r=[];return x.Children.forEach(t,function(n){qe(n)||(h6.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Ph=r,My=t,r};function Fr(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(i){return da(i)}):n=[da(t)],Qv(e).forEach(function(i){var s=Lr(i,"type.displayName")||Lr(i,"type.name");n.indexOf(s)!==-1&&r.push(i)}),r}function Er(e,t){var r=Fr(e,t);return r&&r[0]}var Ry=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,i=r.height;return!(!pe(n)||n<=0||!pe(i)||i<=0)},E6=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],$6=function(t){return t&&t.type&&Ri(t.type)&&E6.indexOf(t.type)>=0},zA=function(t){return t&&Tm(t)==="object"&&"clipDot"in t},D6=function(t,r,n,i){var s,o=(s=_h==null?void 0:_h[i])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!Ue(t)&&(i&&o.includes(r)||_6.includes(r))||n&&Jv.includes(r)},Re=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(x.isValidElement(t)&&(i=t.props),!vo(i))return null;var s={};return Object.keys(i).forEach(function(o){var c;D6((c=i)===null||c===void 0?void 0:c[o],o,r,n)&&(s[o]=i[o])}),s},Em=function e(t,r){if(t===r)return!0;var n=x.Children.count(t);if(n!==x.Children.count(r))return!1;if(n===0)return!0;if(n===1)return Ly(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var s=t[i],o=r[i];if(Array.isArray(s)||Array.isArray(o)){if(!e(s,o))return!1}else if(!Ly(s,o))return!1}return!0},Ly=function(t,r){if(qe(t)&&qe(r))return!0;if(!qe(t)&&!qe(r)){var n=t.props||{},i=n.children,s=Dy(n,k6),o=r.props||{},c=o.children,l=Dy(o,C6);return i&&c?As(s,l)&&Em(i,c):!i&&!c?As(s,l):!1}return!1},Fy=function(t,r){var n=[],i={};return Qv(t).forEach(function(s,o){if($6(s))n.push(s);else if(s){var c=da(s.type),l=r[c]||{},u=l.handler,d=l.once;if(u&&(!d||!i[c])){var f=u(s,c,o);n.push(f),i[c]=!0}}}),n},I6=function(t){var r=t&&t.type;return r&&Iy[r]?Iy[r]:null},M6=function(t,r){return Qv(r).indexOf(t)},R6=["children","width","height","viewBox","className","style","title","desc"];function $m(){return $m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$m.apply(this,arguments)}function L6(e,t){if(e==null)return{};var r=F6(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function F6(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Dm(e){var t=e.children,r=e.width,n=e.height,i=e.viewBox,s=e.className,o=e.style,c=e.title,l=e.desc,u=L6(e,R6),d=i||{width:r,height:n,x:0,y:0},f=Ke("recharts-surface",s);return I.createElement("svg",$m({},Re(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),I.createElement("title",null,c),I.createElement("desc",null,l),t)}var B6=["children","className"];function Im(){return Im=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Im.apply(this,arguments)}function V6(e,t){if(e==null)return{};var r=z6(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function z6(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var tt=I.forwardRef(function(e,t){var r=e.children,n=e.className,i=V6(e,B6),s=Ke("recharts-layer",n);return I.createElement("g",Im({className:s},Re(i,!0),{ref:t}),r)}),pn=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s]};function U6(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),r=r>i?i:r,r<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var s=Array(i);++n<i;)s[n]=e[n+t];return s}var W6=U6,H6=W6;function q6(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:H6(e,t,r)}var K6=q6,G6="\\ud800-\\udfff",Z6="\\u0300-\\u036f",X6="\\ufe20-\\ufe2f",Y6="\\u20d0-\\u20ff",J6=Z6+X6+Y6,Q6="\\ufe0e\\ufe0f",eB="\\u200d",tB=RegExp("["+eB+G6+J6+Q6+"]");function rB(e){return tB.test(e)}var UA=rB;function nB(e){return e.split("")}var aB=nB,WA="\\ud800-\\udfff",iB="\\u0300-\\u036f",sB="\\ufe20-\\ufe2f",oB="\\u20d0-\\u20ff",cB=iB+sB+oB,lB="\\ufe0e\\ufe0f",uB="["+WA+"]",Mm="["+cB+"]",Rm="\\ud83c[\\udffb-\\udfff]",dB="(?:"+Mm+"|"+Rm+")",HA="[^"+WA+"]",qA="(?:\\ud83c[\\udde6-\\uddff]){2}",KA="[\\ud800-\\udbff][\\udc00-\\udfff]",fB="\\u200d",GA=dB+"?",ZA="["+lB+"]?",hB="(?:"+fB+"(?:"+[HA,qA,KA].join("|")+")"+ZA+GA+")*",mB=ZA+GA+hB,pB="(?:"+[HA+Mm+"?",Mm,qA,KA,uB].join("|")+")",vB=RegExp(Rm+"(?="+Rm+")|"+pB+mB,"g");function gB(e){return e.match(vB)||[]}var xB=gB,yB=aB,bB=UA,jB=xB;function wB(e){return bB(e)?jB(e):yB(e)}var NB=wB,SB=K6,AB=UA,OB=NB,_B=MA;function PB(e){return function(t){t=_B(t);var r=AB(t)?OB(t):void 0,n=r?r[0]:t.charAt(0),i=r?SB(r,1).join(""):t.slice(1);return n[e]()+i}}var kB=PB,CB=kB,TB=CB("toUpperCase"),EB=TB;const Of=gt(EB);function jt(e){return function(){return e}}const XA=Math.cos,Lu=Math.sin,wn=Math.sqrt,Fu=Math.PI,_f=2*Fu,Lm=Math.PI,Fm=2*Lm,ii=1e-6,$B=Fm-ii;function YA(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function DB(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return YA;const r=10**t;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class IB{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?YA:DB(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,s,o){this._append`C${+t},${+r},${+n},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(t,r,n,i,s){if(t=+t,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,c=this._y1,l=n-t,u=i-r,d=o-t,f=c-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>ii)if(!(Math.abs(f*l-u*d)>ii)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-o,v=i-c,m=l*l+u*u,g=p*p+v*v,b=Math.sqrt(m),y=Math.sqrt(h),w=s*Math.tan((Lm-Math.acos((m+h-g)/(2*b*y)))/2),A=w/y,N=w/b;Math.abs(A-1)>ii&&this._append`L${t+A*d},${r+A*f}`,this._append`A${s},${s},0,0,${+(f*p>d*v)},${this._x1=t+N*l},${this._y1=r+N*u}`}}arc(t,r,n,i,s,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let c=n*Math.cos(i),l=n*Math.sin(i),u=t+c,d=r+l,f=1^o,h=o?i-s:s-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>ii||Math.abs(this._y1-d)>ii)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%Fm+Fm),h>$B?this._append`A${n},${n},0,1,${f},${t-c},${r-l}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>ii&&this._append`A${n},${n},0,${+(h>=Lm)},${f},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function eg(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new IB(t)}function tg(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function JA(e){this._context=e}JA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Pf(e){return new JA(e)}function QA(e){return e[0]}function eO(e){return e[1]}function tO(e,t){var r=jt(!0),n=null,i=Pf,s=null,o=eg(c);e=typeof e=="function"?e:e===void 0?QA:jt(e),t=typeof t=="function"?t:t===void 0?eO:jt(t);function c(l){var u,d=(l=tg(l)).length,f,h=!1,p;for(n==null&&(s=i(p=o())),u=0;u<=d;++u)!(u<d&&r(f=l[u],u,l))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(f,u,l),+t(f,u,l));if(p)return s=null,p+""||null}return c.x=function(l){return arguments.length?(e=typeof l=="function"?l:jt(+l),c):e},c.y=function(l){return arguments.length?(t=typeof l=="function"?l:jt(+l),c):t},c.defined=function(l){return arguments.length?(r=typeof l=="function"?l:jt(!!l),c):r},c.curve=function(l){return arguments.length?(i=l,n!=null&&(s=i(n)),c):i},c.context=function(l){return arguments.length?(l==null?n=s=null:s=i(n=l),c):n},c}function Ml(e,t,r){var n=null,i=jt(!0),s=null,o=Pf,c=null,l=eg(u);e=typeof e=="function"?e:e===void 0?QA:jt(+e),t=typeof t=="function"?t:jt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?eO:jt(+r);function u(f){var h,p,v,m=(f=tg(f)).length,g,b=!1,y,w=new Array(m),A=new Array(m);for(s==null&&(c=o(y=l())),h=0;h<=m;++h){if(!(h<m&&i(g=f[h],h,f))===b)if(b=!b)p=h,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),v=h-1;v>=p;--v)c.point(w[v],A[v]);c.lineEnd(),c.areaEnd()}b&&(w[h]=+e(g,h,f),A[h]=+t(g,h,f),c.point(n?+n(g,h,f):w[h],r?+r(g,h,f):A[h]))}if(y)return c=null,y+""||null}function d(){return tO().defined(i).curve(o).context(s)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:jt(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:jt(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:jt(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:jt(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:jt(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:jt(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:jt(!!f),u):i},u.curve=function(f){return arguments.length?(o=f,s!=null&&(c=o(s)),u):o},u.context=function(f){return arguments.length?(f==null?s=c=null:c=o(s=f),u):s},u}class rO{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function MB(e){return new rO(e,!0)}function RB(e){return new rO(e,!1)}const rg={draw(e,t){const r=wn(t/Fu);e.moveTo(r,0),e.arc(0,0,r,0,_f)}},LB={draw(e,t){const r=wn(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},nO=wn(1/3),FB=nO*2,BB={draw(e,t){const r=wn(t/FB),n=r*nO;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},VB={draw(e,t){const r=wn(t),n=-r/2;e.rect(n,n,r,r)}},zB=.8908130915292852,aO=Lu(Fu/10)/Lu(7*Fu/10),UB=Lu(_f/10)*aO,WB=-XA(_f/10)*aO,HB={draw(e,t){const r=wn(t*zB),n=UB*r,i=WB*r;e.moveTo(0,-r),e.lineTo(n,i);for(let s=1;s<5;++s){const o=_f*s/5,c=XA(o),l=Lu(o);e.lineTo(l*r,-c*r),e.lineTo(c*n-l*i,l*n+c*i)}e.closePath()}},kh=wn(3),qB={draw(e,t){const r=-wn(t/(kh*3));e.moveTo(0,r*2),e.lineTo(-kh*r,-r),e.lineTo(kh*r,-r),e.closePath()}},Kr=-.5,Gr=wn(3)/2,Bm=1/wn(12),KB=(Bm/2+1)*3,GB={draw(e,t){const r=wn(t/KB),n=r/2,i=r*Bm,s=n,o=r*Bm+r,c=-s,l=o;e.moveTo(n,i),e.lineTo(s,o),e.lineTo(c,l),e.lineTo(Kr*n-Gr*i,Gr*n+Kr*i),e.lineTo(Kr*s-Gr*o,Gr*s+Kr*o),e.lineTo(Kr*c-Gr*l,Gr*c+Kr*l),e.lineTo(Kr*n+Gr*i,Kr*i-Gr*n),e.lineTo(Kr*s+Gr*o,Kr*o-Gr*s),e.lineTo(Kr*c+Gr*l,Kr*l-Gr*c),e.closePath()}};function ZB(e,t){let r=null,n=eg(i);e=typeof e=="function"?e:jt(e||rg),t=typeof t=="function"?t:jt(t===void 0?64:+t);function i(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:jt(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:jt(+s),i):t},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function Bu(){}function Vu(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function iO(e){this._context=e}iO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Vu(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Vu(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function XB(e){return new iO(e)}function sO(e){this._context=e}sO.prototype={areaStart:Bu,areaEnd:Bu,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Vu(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function YB(e){return new sO(e)}function oO(e){this._context=e}oO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Vu(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function JB(e){return new oO(e)}function cO(e){this._context=e}cO.prototype={areaStart:Bu,areaEnd:Bu,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function QB(e){return new cO(e)}function By(e){return e<0?-1:1}function Vy(e,t,r){var n=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(n||i<0&&-0),o=(r-e._y1)/(i||n<0&&-0),c=(s*i+o*n)/(n+i);return(By(s)+By(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(c))||0}function zy(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Ch(e,t,r){var n=e._x0,i=e._y0,s=e._x1,o=e._y1,c=(s-n)/3;e._context.bezierCurveTo(n+c,i+c*t,s-c,o-c*r,s,o)}function zu(e){this._context=e}zu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ch(this,this._t0,zy(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Ch(this,zy(this,r=Vy(this,e,t)),r);break;default:Ch(this,this._t0,r=Vy(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function lO(e){this._context=new uO(e)}(lO.prototype=Object.create(zu.prototype)).point=function(e,t){zu.prototype.point.call(this,t,e)};function uO(e){this._context=e}uO.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,s){this._context.bezierCurveTo(t,e,n,r,s,i)}};function e8(e){return new zu(e)}function t8(e){return new lO(e)}function dO(e){this._context=e}dO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Uy(e),i=Uy(t),s=0,o=1;o<r;++s,++o)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Uy(e){var t,r=e.length-1,n,i=new Array(r),s=new Array(r),o=new Array(r);for(i[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,s[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/s[t-1],s[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/s[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/s[t];for(s[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function r8(e){return new dO(e)}function kf(e,t){this._context=e,this._t=t}kf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function n8(e){return new kf(e,.5)}function a8(e){return new kf(e,0)}function i8(e){return new kf(e,1)}function Es(e,t){if((o=e.length)>1)for(var r=1,n,i,s=e[t[0]],o,c=s.length;r<o;++r)for(i=s,s=e[t[r]],n=0;n<c;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Vm(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function s8(e,t){return e[t]}function o8(e){const t=[];return t.key=e,t}function c8(){var e=jt([]),t=Vm,r=Es,n=s8;function i(s){var o=Array.from(e.apply(this,arguments),o8),c,l=o.length,u=-1,d;for(const f of s)for(c=0,++u;c<l;++c)(o[c][u]=[0,+n(f,o[c].key,u,s)]).data=f;for(c=0,d=tg(t(o));c<l;++c)o[d[c]].index=c;return r(o,d),o}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:jt(Array.from(s)),i):e},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:jt(+s),i):n},i.order=function(s){return arguments.length?(t=s==null?Vm:typeof s=="function"?s:jt(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(r=s??Es,i):r},i}function l8(e,t){if((n=e.length)>0){for(var r,n,i=0,s=e[0].length,o;i<s;++i){for(o=r=0;r<n;++r)o+=e[r][i][1]||0;if(o)for(r=0;r<n;++r)e[r][i][1]/=o}Es(e,t)}}function u8(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,s=n.length;r<s;++r){for(var o=0,c=0;o<i;++o)c+=e[o][r][1]||0;n[r][1]+=n[r][0]=-c/2}Es(e,t)}}function d8(e,t){if(!(!((o=e.length)>0)||!((s=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,s,o;n<s;++n){for(var c=0,l=0,u=0;c<o;++c){for(var d=e[t[c]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,v=0;v<c;++v){var m=e[t[v]],g=m[n][1]||0,b=m[n-1][1]||0;p+=g-b}l+=f,u+=p*f}i[n-1][1]+=i[n-1][0]=r,l&&(r-=u/l)}i[n-1][1]+=i[n-1][0]=r,Es(e,t)}}function _c(e){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_c(e)}var f8=["type","size","sizeType"];function zm(){return zm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zm.apply(this,arguments)}function Wy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Hy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Wy(Object(r),!0).forEach(function(n){h8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function h8(e,t,r){return t=m8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m8(e){var t=p8(e,"string");return _c(t)=="symbol"?t:t+""}function p8(e,t){if(_c(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function v8(e,t){if(e==null)return{};var r=g8(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function g8(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var fO={symbolCircle:rg,symbolCross:LB,symbolDiamond:BB,symbolSquare:VB,symbolStar:HB,symbolTriangle:qB,symbolWye:GB},x8=Math.PI/180,y8=function(t){var r="symbol".concat(Of(t));return fO[r]||rg},b8=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*x8;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},j8=function(t,r){fO["symbol".concat(Of(t))]=r},ng=function(t){var r=t.type,n=r===void 0?"circle":r,i=t.size,s=i===void 0?64:i,o=t.sizeType,c=o===void 0?"area":o,l=v8(t,f8),u=Hy(Hy({},l),{},{type:n,size:s,sizeType:c}),d=function(){var g=y8(n),b=ZB().type(g).size(b8(s,c,n));return b()},f=u.className,h=u.cx,p=u.cy,v=Re(u,!0);return h===+h&&p===+p&&s===+s?I.createElement("path",zm({},v,{className:Ke("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};ng.registerSymbol=j8;function $s(e){"@babel/helpers - typeof";return $s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$s(e)}function Um(){return Um=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Um.apply(this,arguments)}function qy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function w8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qy(Object(r),!0).forEach(function(n){Pc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function N8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S8(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mO(n.key),n)}}function A8(e,t,r){return t&&S8(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function O8(e,t,r){return t=Uu(t),_8(e,hO()?Reflect.construct(t,r||[],Uu(e).constructor):t.apply(e,r))}function _8(e,t){if(t&&($s(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return P8(e)}function P8(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hO=function(){return!!e})()}function Uu(e){return Uu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Uu(e)}function k8(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wm(e,t)}function Wm(e,t){return Wm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Wm(e,t)}function Pc(e,t,r){return t=mO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mO(e){var t=C8(e,"string");return $s(t)=="symbol"?t:t+""}function C8(e,t){if($s(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($s(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Zr=32,ag=function(e){function t(){return N8(this,t),O8(this,t,arguments)}return k8(t,e),A8(t,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,s=Zr/2,o=Zr/6,c=Zr/3,l=n.inactive?i:n.color;if(n.type==="plainline")return I.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:Zr,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return I.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(s,"h").concat(c,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*c,",").concat(s,`
            H`).concat(Zr,"M").concat(2*c,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(c,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return I.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Zr/8,"h").concat(Zr,"v").concat(Zr*3/4,"h").concat(-Zr,"z"),className:"recharts-legend-icon"});if(I.isValidElement(n.legendIcon)){var u=w8({},n);return delete u.legendIcon,I.cloneElement(n.legendIcon,u)}return I.createElement(ng,{fill:l,cx:s,cy:s,size:Zr,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,s=i.payload,o=i.iconSize,c=i.layout,l=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:Zr,height:Zr},f={display:c==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(p,v){var m=p.formatter||l,g=Ke(Pc(Pc({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",p.inactive));if(p.type==="none")return null;var b=Ue(p.value)?null:p.value;pn(!Ue(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=p.inactive?u:p.color;return I.createElement("li",Um({className:g,style:f,key:"legend-item-".concat(v)},Li(n.props,p,v)),I.createElement(Dm,{width:o,height:o,viewBox:d,style:h},n.renderIcon(p)),I.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},m?m(b,p,v):b))})}},{key:"render",value:function(){var n=this.props,i=n.payload,s=n.layout,o=n.align;if(!i||!i.length)return null;var c={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return I.createElement("ul",{className:"recharts-default-legend",style:c},this.renderItems())}}])}(x.PureComponent);Pc(ag,"displayName","Legend");Pc(ag,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var T8=hf;function E8(){this.__data__=new T8,this.size=0}var $8=E8;function D8(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var I8=D8;function M8(e){return this.__data__.get(e)}var R8=M8;function L8(e){return this.__data__.has(e)}var F8=L8,B8=hf,V8=Hv,z8=qv,U8=200;function W8(e,t){var r=this.__data__;if(r instanceof B8){var n=r.__data__;if(!V8||n.length<U8-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new z8(n)}return r.set(e,t),this.size=r.size,this}var H8=W8,q8=hf,K8=$8,G8=I8,Z8=R8,X8=F8,Y8=H8;function jo(e){var t=this.__data__=new q8(e);this.size=t.size}jo.prototype.clear=K8;jo.prototype.delete=G8;jo.prototype.get=Z8;jo.prototype.has=X8;jo.prototype.set=Y8;var pO=jo,J8="__lodash_hash_undefined__";function Q8(e){return this.__data__.set(e,J8),this}var eV=Q8;function tV(e){return this.__data__.has(e)}var rV=tV,nV=qv,aV=eV,iV=rV;function Wu(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new nV;++t<r;)this.add(e[t])}Wu.prototype.add=Wu.prototype.push=aV;Wu.prototype.has=iV;var vO=Wu;function sV(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var gO=sV;function oV(e,t){return e.has(t)}var xO=oV,cV=vO,lV=gO,uV=xO,dV=1,fV=2;function hV(e,t,r,n,i,s){var o=r&dV,c=e.length,l=t.length;if(c!=l&&!(o&&l>c))return!1;var u=s.get(e),d=s.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,p=r&fV?new cV:void 0;for(s.set(e,t),s.set(t,e);++f<c;){var v=e[f],m=t[f];if(n)var g=o?n(m,v,f,t,e,s):n(v,m,f,e,t,s);if(g!==void 0){if(g)continue;h=!1;break}if(p){if(!lV(t,function(b,y){if(!uV(p,y)&&(v===b||i(v,b,r,n,s)))return p.push(y)})){h=!1;break}}else if(!(v===m||i(v,m,r,n,s))){h=!1;break}}return s.delete(e),s.delete(t),h}var yO=hV,mV=Kn,pV=mV.Uint8Array,vV=pV;function gV(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}var xV=gV;function yV(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var ig=yV,Ky=xl,Gy=vV,bV=Wv,jV=yO,wV=xV,NV=ig,SV=1,AV=2,OV="[object Boolean]",_V="[object Date]",PV="[object Error]",kV="[object Map]",CV="[object Number]",TV="[object RegExp]",EV="[object Set]",$V="[object String]",DV="[object Symbol]",IV="[object ArrayBuffer]",MV="[object DataView]",Zy=Ky?Ky.prototype:void 0,Th=Zy?Zy.valueOf:void 0;function RV(e,t,r,n,i,s,o){switch(r){case MV:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case IV:return!(e.byteLength!=t.byteLength||!s(new Gy(e),new Gy(t)));case OV:case _V:case CV:return bV(+e,+t);case PV:return e.name==t.name&&e.message==t.message;case TV:case $V:return e==t+"";case kV:var c=wV;case EV:var l=n&SV;if(c||(c=NV),e.size!=t.size&&!l)return!1;var u=o.get(e);if(u)return u==t;n|=AV,o.set(e,t);var d=jV(c(e),c(t),n,i,s,o);return o.delete(e),d;case DV:if(Th)return Th.call(e)==Th.call(t)}return!1}var LV=RV;function FV(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var bO=FV,BV=bO,VV=Pr;function zV(e,t,r){var n=t(e);return VV(e)?n:BV(n,r(e))}var UV=zV;function WV(e,t){for(var r=-1,n=e==null?0:e.length,i=0,s=[];++r<n;){var o=e[r];t(o,r,e)&&(s[i++]=o)}return s}var HV=WV;function qV(){return[]}var KV=qV,GV=HV,ZV=KV,XV=Object.prototype,YV=XV.propertyIsEnumerable,Xy=Object.getOwnPropertySymbols,JV=Xy?function(e){return e==null?[]:(e=Object(e),GV(Xy(e),function(t){return YV.call(e,t)}))}:ZV,QV=JV;function ez(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var tz=ez,rz=ja,nz=wa,az="[object Arguments]";function iz(e){return nz(e)&&rz(e)==az}var sz=iz,Yy=sz,oz=wa,jO=Object.prototype,cz=jO.hasOwnProperty,lz=jO.propertyIsEnumerable,uz=Yy(function(){return arguments}())?Yy:function(e){return oz(e)&&cz.call(e,"callee")&&!lz.call(e,"callee")},sg=uz,Hu={exports:{}};function dz(){return!1}var fz=dz;Hu.exports;(function(e,t){var r=Kn,n=fz,i=t&&!t.nodeType&&t,s=i&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===i,c=o?r.Buffer:void 0,l=c?c.isBuffer:void 0,u=l||n;e.exports=u})(Hu,Hu.exports);var wO=Hu.exports,hz=9007199254740991,mz=/^(?:0|[1-9]\d*)$/;function pz(e,t){var r=typeof e;return t=t??hz,!!t&&(r=="number"||r!="symbol"&&mz.test(e))&&e>-1&&e%1==0&&e<t}var og=pz,vz=9007199254740991;function gz(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=vz}var cg=gz,xz=ja,yz=cg,bz=wa,jz="[object Arguments]",wz="[object Array]",Nz="[object Boolean]",Sz="[object Date]",Az="[object Error]",Oz="[object Function]",_z="[object Map]",Pz="[object Number]",kz="[object Object]",Cz="[object RegExp]",Tz="[object Set]",Ez="[object String]",$z="[object WeakMap]",Dz="[object ArrayBuffer]",Iz="[object DataView]",Mz="[object Float32Array]",Rz="[object Float64Array]",Lz="[object Int8Array]",Fz="[object Int16Array]",Bz="[object Int32Array]",Vz="[object Uint8Array]",zz="[object Uint8ClampedArray]",Uz="[object Uint16Array]",Wz="[object Uint32Array]",Ot={};Ot[Mz]=Ot[Rz]=Ot[Lz]=Ot[Fz]=Ot[Bz]=Ot[Vz]=Ot[zz]=Ot[Uz]=Ot[Wz]=!0;Ot[jz]=Ot[wz]=Ot[Dz]=Ot[Nz]=Ot[Iz]=Ot[Sz]=Ot[Az]=Ot[Oz]=Ot[_z]=Ot[Pz]=Ot[kz]=Ot[Cz]=Ot[Tz]=Ot[Ez]=Ot[$z]=!1;function Hz(e){return bz(e)&&yz(e.length)&&!!Ot[xz(e)]}var qz=Hz;function Kz(e){return function(t){return e(t)}}var NO=Kz,qu={exports:{}};qu.exports;(function(e,t){var r=CA,n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===n,o=s&&r.process,c=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();e.exports=c})(qu,qu.exports);var Gz=qu.exports,Zz=qz,Xz=NO,Jy=Gz,Qy=Jy&&Jy.isTypedArray,Yz=Qy?Xz(Qy):Zz,SO=Yz,Jz=tz,Qz=sg,eU=Pr,tU=wO,rU=og,nU=SO,aU=Object.prototype,iU=aU.hasOwnProperty;function sU(e,t){var r=eU(e),n=!r&&Qz(e),i=!r&&!n&&tU(e),s=!r&&!n&&!i&&nU(e),o=r||n||i||s,c=o?Jz(e.length,String):[],l=c.length;for(var u in e)(t||iU.call(e,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||rU(u,l)))&&c.push(u);return c}var oU=sU,cU=Object.prototype;function lU(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||cU;return e===r}var uU=lU;function dU(e,t){return function(r){return e(t(r))}}var AO=dU,fU=AO,hU=fU(Object.keys,Object),mU=hU,pU=uU,vU=mU,gU=Object.prototype,xU=gU.hasOwnProperty;function yU(e){if(!pU(e))return vU(e);var t=[];for(var r in Object(e))xU.call(e,r)&&r!="constructor"&&t.push(r);return t}var bU=yU,jU=Uv,wU=cg;function NU(e){return e!=null&&wU(e.length)&&!jU(e)}var yl=NU,SU=oU,AU=bU,OU=yl;function _U(e){return OU(e)?SU(e):AU(e)}var Cf=_U,PU=UV,kU=QV,CU=Cf;function TU(e){return PU(e,CU,kU)}var EU=TU,eb=EU,$U=1,DU=Object.prototype,IU=DU.hasOwnProperty;function MU(e,t,r,n,i,s){var o=r&$U,c=eb(e),l=c.length,u=eb(t),d=u.length;if(l!=d&&!o)return!1;for(var f=l;f--;){var h=c[f];if(!(o?h in t:IU.call(t,h)))return!1}var p=s.get(e),v=s.get(t);if(p&&v)return p==t&&v==e;var m=!0;s.set(e,t),s.set(t,e);for(var g=o;++f<l;){h=c[f];var b=e[h],y=t[h];if(n)var w=o?n(y,b,h,t,e,s):n(b,y,h,e,t,s);if(!(w===void 0?b===y||i(b,y,r,n,s):w)){m=!1;break}g||(g=h=="constructor")}if(m&&!g){var A=e.constructor,N=t.constructor;A!=N&&"constructor"in e&&"constructor"in t&&!(typeof A=="function"&&A instanceof A&&typeof N=="function"&&N instanceof N)&&(m=!1)}return s.delete(e),s.delete(t),m}var RU=MU,LU=Ki,FU=Kn,BU=LU(FU,"DataView"),VU=BU,zU=Ki,UU=Kn,WU=zU(UU,"Promise"),HU=WU,qU=Ki,KU=Kn,GU=qU(KU,"Set"),OO=GU,ZU=Ki,XU=Kn,YU=ZU(XU,"WeakMap"),JU=YU,Hm=VU,qm=Hv,Km=HU,Gm=OO,Zm=JU,_O=ja,wo=EA,tb="[object Map]",QU="[object Object]",rb="[object Promise]",nb="[object Set]",ab="[object WeakMap]",ib="[object DataView]",eW=wo(Hm),tW=wo(qm),rW=wo(Km),nW=wo(Gm),aW=wo(Zm),si=_O;(Hm&&si(new Hm(new ArrayBuffer(1)))!=ib||qm&&si(new qm)!=tb||Km&&si(Km.resolve())!=rb||Gm&&si(new Gm)!=nb||Zm&&si(new Zm)!=ab)&&(si=function(e){var t=_O(e),r=t==QU?e.constructor:void 0,n=r?wo(r):"";if(n)switch(n){case eW:return ib;case tW:return tb;case rW:return rb;case nW:return nb;case aW:return ab}return t});var iW=si,Eh=pO,sW=yO,oW=LV,cW=RU,sb=iW,ob=Pr,cb=wO,lW=SO,uW=1,lb="[object Arguments]",ub="[object Array]",Rl="[object Object]",dW=Object.prototype,db=dW.hasOwnProperty;function fW(e,t,r,n,i,s){var o=ob(e),c=ob(t),l=o?ub:sb(e),u=c?ub:sb(t);l=l==lb?Rl:l,u=u==lb?Rl:u;var d=l==Rl,f=u==Rl,h=l==u;if(h&&cb(e)){if(!cb(t))return!1;o=!0,d=!1}if(h&&!d)return s||(s=new Eh),o||lW(e)?sW(e,t,r,n,i,s):oW(e,t,l,r,n,i,s);if(!(r&uW)){var p=d&&db.call(e,"__wrapped__"),v=f&&db.call(t,"__wrapped__");if(p||v){var m=p?e.value():e,g=v?t.value():t;return s||(s=new Eh),i(m,g,r,n,s)}}return h?(s||(s=new Eh),cW(e,t,r,n,i,s)):!1}var hW=fW,mW=hW,fb=wa;function PO(e,t,r,n,i){return e===t?!0:e==null||t==null||!fb(e)&&!fb(t)?e!==e&&t!==t:mW(e,t,r,n,PO,i)}var lg=PO,pW=pO,vW=lg,gW=1,xW=2;function yW(e,t,r,n){var i=r.length,s=i,o=!n;if(e==null)return!s;for(e=Object(e);i--;){var c=r[i];if(o&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++i<s;){c=r[i];var l=c[0],u=e[l],d=c[1];if(o&&c[2]){if(u===void 0&&!(l in e))return!1}else{var f=new pW;if(n)var h=n(u,d,l,e,t,f);if(!(h===void 0?vW(d,u,gW|xW,n,f):h))return!1}}return!0}var bW=yW,jW=Xa;function wW(e){return e===e&&!jW(e)}var kO=wW,NW=kO,SW=Cf;function AW(e){for(var t=SW(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,NW(i)]}return t}var OW=AW;function _W(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var CO=_W,PW=bW,kW=OW,CW=CO;function TW(e){var t=kW(e);return t.length==1&&t[0][2]?CW(t[0][0],t[0][1]):function(r){return r===e||PW(r,e,t)}}var EW=TW;function $W(e,t){return e!=null&&t in Object(e)}var DW=$W,IW=RA,MW=sg,RW=Pr,LW=og,FW=cg,BW=pf;function VW(e,t,r){t=IW(t,e);for(var n=-1,i=t.length,s=!1;++n<i;){var o=BW(t[n]);if(!(s=e!=null&&r(e,o)))break;e=e[o]}return s||++n!=i?s:(i=e==null?0:e.length,!!i&&FW(i)&&LW(o,i)&&(RW(e)||MW(e)))}var zW=VW,UW=DW,WW=zW;function HW(e,t){return e!=null&&WW(e,t,UW)}var qW=HW,KW=lg,GW=LA,ZW=qW,XW=zv,YW=kO,JW=CO,QW=pf,e9=1,t9=2;function r9(e,t){return XW(e)&&YW(t)?JW(QW(e),t):function(r){var n=GW(r,e);return n===void 0&&n===t?ZW(r,e):KW(t,n,e9|t9)}}var n9=r9;function a9(e){return e}var No=a9;function i9(e){return function(t){return t==null?void 0:t[e]}}var s9=i9,o9=Zv;function c9(e){return function(t){return o9(t,e)}}var l9=c9,u9=s9,d9=l9,f9=zv,h9=pf;function m9(e){return f9(e)?u9(h9(e)):d9(e)}var p9=m9,v9=EW,g9=n9,x9=No,y9=Pr,b9=p9;function j9(e){return typeof e=="function"?e:e==null?x9:typeof e=="object"?y9(e)?g9(e[0],e[1]):v9(e):b9(e)}var Gn=j9;function w9(e,t,r,n){for(var i=e.length,s=r+(n?1:-1);n?s--:++s<i;)if(t(e[s],s,e))return s;return-1}var TO=w9;function N9(e){return e!==e}var S9=N9;function A9(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}var O9=A9,_9=TO,P9=S9,k9=O9;function C9(e,t,r){return t===t?k9(e,t,r):_9(e,P9,r)}var T9=C9,E9=T9;function $9(e,t){var r=e==null?0:e.length;return!!r&&E9(e,t,0)>-1}var D9=$9;function I9(e,t,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}var M9=I9;function R9(){}var L9=R9,$h=OO,F9=L9,B9=ig,V9=1/0,z9=$h&&1/B9(new $h([,-0]))[1]==V9?function(e){return new $h(e)}:F9,U9=z9,W9=vO,H9=D9,q9=M9,K9=xO,G9=U9,Z9=ig,X9=200;function Y9(e,t,r){var n=-1,i=H9,s=e.length,o=!0,c=[],l=c;if(r)o=!1,i=q9;else if(s>=X9){var u=t?null:G9(e);if(u)return Z9(u);o=!1,i=K9,l=new W9}else l=t?[]:c;e:for(;++n<s;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;t&&l.push(f),c.push(d)}else i(l,f,r)||(l!==c&&l.push(f),c.push(d))}return c}var J9=Y9,Q9=Gn,e7=J9;function t7(e,t){return e&&e.length?e7(e,Q9(t)):[]}var r7=t7;const hb=gt(r7);function EO(e,t,r){return t===!0?hb(e,r):Ue(t)?hb(e,t):e}function Ds(e){"@babel/helpers - typeof";return Ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ds(e)}var n7=["ref"];function mb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Qn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mb(Object(r),!0).forEach(function(n){Tf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function a7(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,DO(n.key),n)}}function i7(e,t,r){return t&&pb(e.prototype,t),r&&pb(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function s7(e,t,r){return t=Ku(t),o7(e,$O()?Reflect.construct(t,r||[],Ku(e).constructor):t.apply(e,r))}function o7(e,t){if(t&&(Ds(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return c7(e)}function c7(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $O(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($O=function(){return!!e})()}function Ku(e){return Ku=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ku(e)}function l7(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xm(e,t)}function Xm(e,t){return Xm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Xm(e,t)}function Tf(e,t,r){return t=DO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DO(e){var t=u7(e,"string");return Ds(t)=="symbol"?t:t+""}function u7(e,t){if(Ds(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ds(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function d7(e,t){if(e==null)return{};var r=f7(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function f7(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function h7(e){return e.value}function m7(e,t){if(I.isValidElement(e))return I.cloneElement(e,t);if(typeof e=="function")return I.createElement(e,t);t.ref;var r=d7(t,n7);return I.createElement(ag,r)}var vb=1,wi=function(e){function t(){var r;a7(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=s7(this,t,[].concat(i)),Tf(r,"lastBoundingBox",{width:-1,height:-1}),r}return l7(t,e),i7(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>vb||Math.abs(i.height-this.lastBoundingBox.height)>vb)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Qn({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,s=i.layout,o=i.align,c=i.verticalAlign,l=i.margin,u=i.chartWidth,d=i.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&s==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(c==="middle"){var v=this.getBBoxSnapshot();h={top:((d||0)-v.height)/2}}else h=c==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Qn(Qn({},f),h)}},{key:"render",value:function(){var n=this,i=this.props,s=i.content,o=i.width,c=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,f=Qn(Qn({position:"absolute",width:o||"auto",height:c||"auto"},this.getDefaultPosition(l)),l);return I.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},m7(s,Qn(Qn({},this.props),{},{payload:EO(d,u,h7)})))}}],[{key:"getWithHeight",value:function(n,i){var s=Qn(Qn({},this.defaultProps),n.props),o=s.layout;return o==="vertical"&&pe(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])}(x.PureComponent);Tf(wi,"displayName","Legend");Tf(wi,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var gb=xl,p7=sg,v7=Pr,xb=gb?gb.isConcatSpreadable:void 0;function g7(e){return v7(e)||p7(e)||!!(xb&&e&&e[xb])}var x7=g7,y7=bO,b7=x7;function IO(e,t,r,n,i){var s=-1,o=e.length;for(r||(r=b7),i||(i=[]);++s<o;){var c=e[s];t>0&&r(c)?t>1?IO(c,t-1,r,n,i):y7(i,c):n||(i[i.length]=c)}return i}var MO=IO;function j7(e){return function(t,r,n){for(var i=-1,s=Object(t),o=n(t),c=o.length;c--;){var l=o[e?c:++i];if(r(s[l],l,s)===!1)break}return t}}var w7=j7,N7=w7,S7=N7(),A7=S7,O7=A7,_7=Cf;function P7(e,t){return e&&O7(e,t,_7)}var RO=P7,k7=yl;function C7(e,t){return function(r,n){if(r==null)return r;if(!k7(r))return e(r,n);for(var i=r.length,s=t?i:-1,o=Object(r);(t?s--:++s<i)&&n(o[s],s,o)!==!1;);return r}}var T7=C7,E7=RO,$7=T7,D7=$7(E7),ug=D7,I7=ug,M7=yl;function R7(e,t){var r=-1,n=M7(e)?Array(e.length):[];return I7(e,function(i,s,o){n[++r]=t(i,s,o)}),n}var LO=R7;function L7(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var F7=L7,yb=po;function B7(e,t){if(e!==t){var r=e!==void 0,n=e===null,i=e===e,s=yb(e),o=t!==void 0,c=t===null,l=t===t,u=yb(t);if(!c&&!u&&!s&&e>t||s&&o&&l&&!c&&!u||n&&o&&l||!r&&l||!i)return 1;if(!n&&!s&&!u&&e<t||u&&r&&i&&!n&&!s||c&&r&&i||!o&&i||!l)return-1}return 0}var V7=B7,z7=V7;function U7(e,t,r){for(var n=-1,i=e.criteria,s=t.criteria,o=i.length,c=r.length;++n<o;){var l=z7(i[n],s[n]);if(l){if(n>=c)return l;var u=r[n];return l*(u=="desc"?-1:1)}}return e.index-t.index}var W7=U7,Dh=Gv,H7=Zv,q7=Gn,K7=LO,G7=F7,Z7=NO,X7=W7,Y7=No,J7=Pr;function Q7(e,t,r){t.length?t=Dh(t,function(s){return J7(s)?function(o){return H7(o,s.length===1?s[0]:s)}:s}):t=[Y7];var n=-1;t=Dh(t,Z7(q7));var i=K7(e,function(s,o,c){var l=Dh(t,function(u){return u(s)});return{criteria:l,index:++n,value:s}});return G7(i,function(s,o){return X7(s,o,r)})}var eH=Q7;function tH(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var rH=tH,nH=rH,bb=Math.max;function aH(e,t,r){return t=bb(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,s=bb(n.length-t,0),o=Array(s);++i<s;)o[i]=n[t+i];i=-1;for(var c=Array(t+1);++i<t;)c[i]=n[i];return c[t]=r(o),nH(e,this,c)}}var iH=aH;function sH(e){return function(){return e}}var oH=sH,cH=Ki,lH=function(){try{var e=cH(Object,"defineProperty");return e({},"",{}),e}catch{}}(),FO=lH,uH=oH,jb=FO,dH=No,fH=jb?function(e,t){return jb(e,"toString",{configurable:!0,enumerable:!1,value:uH(t),writable:!0})}:dH,hH=fH,mH=800,pH=16,vH=Date.now;function gH(e){var t=0,r=0;return function(){var n=vH(),i=pH-(n-r);if(r=n,i>0){if(++t>=mH)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var xH=gH,yH=hH,bH=xH,jH=bH(yH),wH=jH,NH=No,SH=iH,AH=wH;function OH(e,t){return AH(SH(e,t,NH),e+"")}var _H=OH,PH=Wv,kH=yl,CH=og,TH=Xa;function EH(e,t,r){if(!TH(r))return!1;var n=typeof t;return(n=="number"?kH(r)&&CH(t,r.length):n=="string"&&t in r)?PH(r[t],e):!1}var Ef=EH,$H=MO,DH=eH,IH=_H,wb=Ef,MH=IH(function(e,t){if(e==null)return[];var r=t.length;return r>1&&wb(e,t[0],t[1])?t=[]:r>2&&wb(t[0],t[1],t[2])&&(t=[t[0]]),DH(e,$H(t,1),[])}),RH=MH;const dg=gt(RH);function kc(e){"@babel/helpers - typeof";return kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kc(e)}function Ym(){return Ym=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ym.apply(this,arguments)}function LH(e,t){return zH(e)||VH(e,t)||BH(e,t)||FH()}function FH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BH(e,t){if(e){if(typeof e=="string")return Nb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Nb(e,t)}}function Nb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function VH(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,c=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(l=(n=s.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return c}}function zH(e){if(Array.isArray(e))return e}function Sb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ih(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sb(Object(r),!0).forEach(function(n){UH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UH(e,t,r){return t=WH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WH(e){var t=HH(e,"string");return kc(t)=="symbol"?t:t+""}function HH(e,t){if(kc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qH(e){return Array.isArray(e)&&Zt(e[0])&&Zt(e[1])?e.join(" ~ "):e}var KH=function(t){var r=t.separator,n=r===void 0?" : ":r,i=t.contentStyle,s=i===void 0?{}:i,o=t.itemStyle,c=o===void 0?{}:o,l=t.labelStyle,u=l===void 0?{}:l,d=t.payload,f=t.formatter,h=t.itemSorter,p=t.wrapperClassName,v=t.labelClassName,m=t.label,g=t.labelFormatter,b=t.accessibilityLayer,y=b===void 0?!1:b,w=function(){if(d&&d.length){var T={padding:0,margin:0},D=(h?dg(d,h):d).map(function($,k){if($.type==="none")return null;var M=Ih({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},c),E=$.formatter||f||qH,U=$.value,R=$.name,X=U,F=R;if(E&&X!=null&&F!=null){var ie=E(U,R,$,k,d);if(Array.isArray(ie)){var V=LH(ie,2);X=V[0],F=V[1]}else X=ie}return I.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(k),style:M},Zt(F)?I.createElement("span",{className:"recharts-tooltip-item-name"},F):null,Zt(F)?I.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,I.createElement("span",{className:"recharts-tooltip-item-value"},X),I.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return I.createElement("ul",{className:"recharts-tooltip-item-list",style:T},D)}return null},A=Ih({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),N=Ih({margin:0},u),j=!qe(m),O=j?m:"",S=Ke("recharts-default-tooltip",p),P=Ke("recharts-tooltip-label",v);j&&g&&d!==void 0&&d!==null&&(O=g(m,d));var C=y?{role:"status","aria-live":"assertive"}:{};return I.createElement("div",Ym({className:S,style:A},C),I.createElement("p",{className:P,style:N},I.isValidElement(O)?O:"".concat(O)),w())};function Cc(e){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cc(e)}function Ll(e,t,r){return t=GH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GH(e){var t=ZH(e,"string");return Cc(t)=="symbol"?t:t+""}function ZH(e,t){if(Cc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lo="recharts-tooltip-wrapper",XH={visibility:"hidden"};function YH(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Ke(Lo,Ll(Ll(Ll(Ll({},"".concat(Lo,"-right"),pe(r)&&t&&pe(t.x)&&r>=t.x),"".concat(Lo,"-left"),pe(r)&&t&&pe(t.x)&&r<t.x),"".concat(Lo,"-bottom"),pe(n)&&t&&pe(t.y)&&n>=t.y),"".concat(Lo,"-top"),pe(n)&&t&&pe(t.y)&&n<t.y))}function Ab(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,i=e.offsetTopLeft,s=e.position,o=e.reverseDirection,c=e.tooltipDimension,l=e.viewBox,u=e.viewBoxDimension;if(s&&pe(s[n]))return s[n];var d=r[n]-c-i,f=r[n]+i;if(t[n])return o[n]?d:f;if(o[n]){var h=d,p=l[n];return h<p?Math.max(f,l[n]):Math.max(d,l[n])}var v=f+c,m=l[n]+u;return v>m?Math.max(d,l[n]):Math.max(f,l[n])}function JH(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function QH(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,i=e.position,s=e.reverseDirection,o=e.tooltipBox,c=e.useTranslate3d,l=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=Ab({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),f=Ab({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),u=JH({translateX:d,translateY:f,useTranslate3d:c})):u=XH,{cssProperties:u,cssClasses:YH({translateX:d,translateY:f,coordinate:r})}}function Is(e){"@babel/helpers - typeof";return Is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Is(e)}function Ob(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _b(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ob(Object(r),!0).forEach(function(n){Qm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ob(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,VO(n.key),n)}}function rq(e,t,r){return t&&tq(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function nq(e,t,r){return t=Gu(t),aq(e,BO()?Reflect.construct(t,r||[],Gu(e).constructor):t.apply(e,r))}function aq(e,t){if(t&&(Is(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iq(e)}function iq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BO=function(){return!!e})()}function Gu(e){return Gu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gu(e)}function sq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jm(e,t)}function Jm(e,t){return Jm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Jm(e,t)}function Qm(e,t,r){return t=VO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VO(e){var t=oq(e,"string");return Is(t)=="symbol"?t:t+""}function oq(e,t){if(Is(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Is(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Pb=1,cq=function(e){function t(){var r;eq(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=nq(this,t,[].concat(i)),Qm(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Qm(r,"handleKeyDown",function(o){if(o.key==="Escape"){var c,l,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(c=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&c!==void 0?c:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return sq(t,e),rq(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>Pb||Math.abs(n.height-this.state.lastBoundingBox.height)>Pb)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,c=i.animationDuration,l=i.animationEasing,u=i.children,d=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,p=i.offset,v=i.position,m=i.reverseDirection,g=i.useTranslate3d,b=i.viewBox,y=i.wrapperStyle,w=QH({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:p,position:v,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:g,viewBox:b}),A=w.cssClasses,N=w.cssProperties,j=_b(_b({transition:h&&s?"transform ".concat(c,"ms ").concat(l):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&f?"visible":"hidden",position:"absolute",top:0,left:0},y);return I.createElement("div",{tabIndex:-1,className:A,style:j,ref:function(S){n.wrapperNode=S}},u)}}])}(x.PureComponent),lq=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ya={isSsr:lq()};function Ms(e){"@babel/helpers - typeof";return Ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ms(e)}function kb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Cb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kb(Object(r),!0).forEach(function(n){fg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,UO(n.key),n)}}function fq(e,t,r){return t&&dq(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hq(e,t,r){return t=Zu(t),mq(e,zO()?Reflect.construct(t,r||[],Zu(e).constructor):t.apply(e,r))}function mq(e,t){if(t&&(Ms(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pq(e)}function pq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zO=function(){return!!e})()}function Zu(e){return Zu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zu(e)}function vq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ep(e,t)}function ep(e,t){return ep=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ep(e,t)}function fg(e,t,r){return t=UO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UO(e){var t=gq(e,"string");return Ms(t)=="symbol"?t:t+""}function gq(e,t){if(Ms(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ms(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function xq(e){return e.dataKey}function yq(e,t){return I.isValidElement(e)?I.cloneElement(e,t):typeof e=="function"?I.createElement(e,t):I.createElement(KH,t)}var ur=function(e){function t(){return uq(this,t),hq(this,t,arguments)}return vq(t,e),fq(t,[{key:"render",value:function(){var n=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,c=i.animationDuration,l=i.animationEasing,u=i.content,d=i.coordinate,f=i.filterNull,h=i.isAnimationActive,p=i.offset,v=i.payload,m=i.payloadUniqBy,g=i.position,b=i.reverseDirection,y=i.useTranslate3d,w=i.viewBox,A=i.wrapperStyle,N=v??[];f&&N.length&&(N=EO(v.filter(function(O){return O.value!=null&&(O.hide!==!0||n.props.includeHidden)}),m,xq));var j=N.length>0;return I.createElement(cq,{allowEscapeViewBox:o,animationDuration:c,animationEasing:l,isAnimationActive:h,active:s,coordinate:d,hasPayload:j,offset:p,position:g,reverseDirection:b,useTranslate3d:y,viewBox:w,wrapperStyle:A},yq(u,Cb(Cb({},this.props),{},{payload:N})))}}])}(x.PureComponent);fg(ur,"displayName","Tooltip");fg(ur,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ya.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var bq=Kn,jq=function(){return bq.Date.now()},wq=jq,Nq=/\s/;function Sq(e){for(var t=e.length;t--&&Nq.test(e.charAt(t)););return t}var Aq=Sq,Oq=Aq,_q=/^\s+/;function Pq(e){return e&&e.slice(0,Oq(e)+1).replace(_q,"")}var kq=Pq,Cq=kq,Tb=Xa,Tq=po,Eb=NaN,Eq=/^[-+]0x[0-9a-f]+$/i,$q=/^0b[01]+$/i,Dq=/^0o[0-7]+$/i,Iq=parseInt;function Mq(e){if(typeof e=="number")return e;if(Tq(e))return Eb;if(Tb(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Tb(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Cq(e);var r=$q.test(e);return r||Dq.test(e)?Iq(e.slice(2),r?2:8):Eq.test(e)?Eb:+e}var WO=Mq,Rq=Xa,Mh=wq,$b=WO,Lq="Expected a function",Fq=Math.max,Bq=Math.min;function Vq(e,t,r){var n,i,s,o,c,l,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(Lq);t=$b(t)||0,Rq(r)&&(d=!!r.leading,f="maxWait"in r,s=f?Fq($b(r.maxWait)||0,t):s,h="trailing"in r?!!r.trailing:h);function p(j){var O=n,S=i;return n=i=void 0,u=j,o=e.apply(S,O),o}function v(j){return u=j,c=setTimeout(b,t),d?p(j):o}function m(j){var O=j-l,S=j-u,P=t-O;return f?Bq(P,s-S):P}function g(j){var O=j-l,S=j-u;return l===void 0||O>=t||O<0||f&&S>=s}function b(){var j=Mh();if(g(j))return y(j);c=setTimeout(b,m(j))}function y(j){return c=void 0,h&&n?p(j):(n=i=void 0,o)}function w(){c!==void 0&&clearTimeout(c),u=0,n=l=i=c=void 0}function A(){return c===void 0?o:y(Mh())}function N(){var j=Mh(),O=g(j);if(n=arguments,i=this,l=j,O){if(c===void 0)return v(l);if(f)return clearTimeout(c),c=setTimeout(b,t),p(l)}return c===void 0&&(c=setTimeout(b,t)),o}return N.cancel=w,N.flush=A,N}var zq=Vq,Uq=zq,Wq=Xa,Hq="Expected a function";function qq(e,t,r){var n=!0,i=!0;if(typeof e!="function")throw new TypeError(Hq);return Wq(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),Uq(e,t,{leading:n,maxWait:t,trailing:i})}var Kq=qq;const HO=gt(Kq);function Tc(e){"@babel/helpers - typeof";return Tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tc(e)}function Db(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Fl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Db(Object(r),!0).forEach(function(n){Gq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Db(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gq(e,t,r){return t=Zq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zq(e){var t=Xq(e,"string");return Tc(t)=="symbol"?t:t+""}function Xq(e,t){if(Tc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yq(e,t){return tK(e)||eK(e,t)||Qq(e,t)||Jq()}function Jq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qq(e,t){if(e){if(typeof e=="string")return Ib(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ib(e,t)}}function Ib(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eK(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,c=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(l=(n=s.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return c}}function tK(e){if(Array.isArray(e))return e}var ti=x.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,i=n===void 0?{width:-1,height:-1}:n,s=e.width,o=s===void 0?"100%":s,c=e.height,l=c===void 0?"100%":c,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,p=e.children,v=e.debounce,m=v===void 0?0:v,g=e.id,b=e.className,y=e.onResize,w=e.style,A=w===void 0?{}:w,N=x.useRef(null),j=x.useRef();j.current=y,x.useImperativeHandle(t,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var O=x.useState({containerWidth:i.width,containerHeight:i.height}),S=Yq(O,2),P=S[0],C=S[1],_=x.useCallback(function(D,$){C(function(k){var M=Math.round(D),E=Math.round($);return k.containerWidth===M&&k.containerHeight===E?k:{containerWidth:M,containerHeight:E}})},[]);x.useEffect(function(){var D=function(R){var X,F=R[0].contentRect,ie=F.width,V=F.height;_(ie,V),(X=j.current)===null||X===void 0||X.call(j,ie,V)};m>0&&(D=HO(D,m,{trailing:!0,leading:!1}));var $=new ResizeObserver(D),k=N.current.getBoundingClientRect(),M=k.width,E=k.height;return _(M,E),$.observe(N.current),function(){$.disconnect()}},[_,m]);var T=x.useMemo(function(){var D=P.containerWidth,$=P.containerHeight;if(D<0||$<0)return null;pn(hi(o)||hi(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),pn(!r||r>0,"The aspect(%s) must be greater than zero.",r);var k=hi(o)?D:o,M=hi(l)?$:l;r&&r>0&&(k?M=k/r:M&&(k=M*r),h&&M>h&&(M=h)),pn(k>0||M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,k,M,o,l,d,f,r);var E=!Array.isArray(p)&&da(p.type).endsWith("Chart");return I.Children.map(p,function(U){return I.isValidElement(U)?x.cloneElement(U,Fl({width:k,height:M},E?{style:Fl({height:"100%",width:"100%",maxHeight:M,maxWidth:k},U.props.style)}:{})):U})},[r,p,l,h,f,d,P,o]);return I.createElement("div",{id:g?"".concat(g):void 0,className:Ke("recharts-responsive-container",b),style:Fl(Fl({},A),{},{width:o,height:l,minWidth:d,minHeight:f,maxHeight:h}),ref:N},T)}),Ec=function(t){return null};Ec.displayName="Cell";function $c(e){"@babel/helpers - typeof";return $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$c(e)}function Mb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mb(Object(r),!0).forEach(function(n){rK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rK(e,t,r){return t=nK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nK(e){var t=aK(e,"string");return $c(t)=="symbol"?t:t+""}function aK(e,t){if($c(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rs={widthCache:{},cacheCount:0},iK=2e3,sK={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Rb="recharts_measurement_span";function oK(e){var t=tp({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var tc=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ya.isSsr)return{width:0,height:0};var n=oK(r),i=JSON.stringify({text:t,copyStyle:n});if(rs.widthCache[i])return rs.widthCache[i];try{var s=document.getElementById(Rb);s||(s=document.createElement("span"),s.setAttribute("id",Rb),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=tp(tp({},sK),n);Object.assign(s.style,o),s.textContent="".concat(t);var c=s.getBoundingClientRect(),l={width:c.width,height:c.height};return rs.widthCache[i]=l,++rs.cacheCount>iK&&(rs.cacheCount=0,rs.widthCache={}),l}catch{return{width:0,height:0}}},cK=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Dc(e){"@babel/helpers - typeof";return Dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dc(e)}function Xu(e,t){return fK(e)||dK(e,t)||uK(e,t)||lK()}function lK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uK(e,t){if(e){if(typeof e=="string")return Lb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Lb(e,t)}}function Lb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dK(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,c=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return c}}function fK(e){if(Array.isArray(e))return e}function hK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pK(n.key),n)}}function mK(e,t,r){return t&&Fb(e.prototype,t),r&&Fb(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function pK(e){var t=vK(e,"string");return Dc(t)=="symbol"?t:t+""}function vK(e,t){if(Dc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Bb=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Vb=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,gK=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,xK=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,qO={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},yK=Object.keys(qO),ds="NaN";function bK(e,t){return e*qO[t]}var Bl=function(){function e(t,r){hK(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!gK.test(r)&&(this.num=NaN,this.unit=""),yK.includes(r)&&(this.num=bK(t,r),this.unit="px")}return mK(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=xK.exec(r))!==null&&n!==void 0?n:[],s=Xu(i,3),o=s[1],c=s[2];return new e(parseFloat(o),c??"")}}])}();function KO(e){if(e.includes(ds))return ds;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=Bb.exec(t))!==null&&r!==void 0?r:[],i=Xu(n,4),s=i[1],o=i[2],c=i[3],l=Bl.parse(s??""),u=Bl.parse(c??""),d=o==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return ds;t=t.replace(Bb,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=Vb.exec(t))!==null&&f!==void 0?f:[],p=Xu(h,4),v=p[1],m=p[2],g=p[3],b=Bl.parse(v??""),y=Bl.parse(g??""),w=m==="+"?b.add(y):b.subtract(y);if(w.isNaN())return ds;t=t.replace(Vb,w.toString())}return t}var zb=/\(([^()]*)\)/;function jK(e){for(var t=e;t.includes("(");){var r=zb.exec(t),n=Xu(r,2),i=n[1];t=t.replace(zb,KO(i))}return t}function wK(e){var t=e.replace(/\s+/g,"");return t=jK(t),t=KO(t),t}function NK(e){try{return wK(e)}catch{return ds}}function Rh(e){var t=NK(e.slice(5,-1));return t===ds?"":t}var SK=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],AK=["dx","dy","angle","className","breakAll"];function rp(){return rp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rp.apply(this,arguments)}function Ub(e,t){if(e==null)return{};var r=OK(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function OK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Wb(e,t){return CK(e)||kK(e,t)||PK(e,t)||_K()}function _K(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PK(e,t){if(e){if(typeof e=="string")return Hb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Hb(e,t)}}function Hb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kK(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,c=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return c}}function CK(e){if(Array.isArray(e))return e}var GO=/[ \f\n\r\t\v\u2028\u2029]+/,ZO=function(t){var r=t.children,n=t.breakAll,i=t.style;try{var s=[];qe(r)||(n?s=r.toString().split(""):s=r.toString().split(GO));var o=s.map(function(l){return{word:l,width:tc(l,i).width}}),c=n?0:tc(" ",i).width;return{wordsWithComputedWidth:o,spaceWidth:c}}catch{return null}},TK=function(t,r,n,i,s){var o=t.maxLines,c=t.children,l=t.style,u=t.breakAll,d=pe(o),f=c,h=function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return k.reduce(function(M,E){var U=E.word,R=E.width,X=M[M.length-1];if(X&&(i==null||s||X.width+R+n<Number(i)))X.words.push(U),X.width+=R+n;else{var F={words:[U],width:R};M.push(F)}return M},[])},p=h(r),v=function(k){return k.reduce(function(M,E){return M.width>E.width?M:E})};if(!d)return p;for(var m="…",g=function(k){var M=f.slice(0,k),E=ZO({breakAll:u,style:l,children:M+m}).wordsWithComputedWidth,U=h(E),R=U.length>o||v(U).width>Number(i);return[R,U]},b=0,y=f.length-1,w=0,A;b<=y&&w<=f.length-1;){var N=Math.floor((b+y)/2),j=N-1,O=g(j),S=Wb(O,2),P=S[0],C=S[1],_=g(N),T=Wb(_,1),D=T[0];if(!P&&!D&&(b=N+1),P&&D&&(y=N-1),!P&&D){A=C;break}w++}return A||p},qb=function(t){var r=qe(t)?[]:t.toString().split(GO);return[{words:r}]},EK=function(t){var r=t.width,n=t.scaleToFit,i=t.children,s=t.style,o=t.breakAll,c=t.maxLines;if((r||n)&&!Ya.isSsr){var l,u,d=ZO({breakAll:o,children:i,style:s});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;l=f,u=h}else return qb(i);return TK({breakAll:o,children:i,maxLines:c,style:s},l,u,r,n)}return qb(i)},Kb="#808080",Fi=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,s=i===void 0?0:i,o=t.lineHeight,c=o===void 0?"1em":o,l=t.capHeight,u=l===void 0?"0.71em":l,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,p=h===void 0?"start":h,v=t.verticalAnchor,m=v===void 0?"end":v,g=t.fill,b=g===void 0?Kb:g,y=Ub(t,SK),w=x.useMemo(function(){return EK({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:f,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,f,y.style,y.width]),A=y.dx,N=y.dy,j=y.angle,O=y.className,S=y.breakAll,P=Ub(y,AK);if(!Zt(n)||!Zt(s))return null;var C=n+(pe(A)?A:0),_=s+(pe(N)?N:0),T;switch(m){case"start":T=Rh("calc(".concat(u,")"));break;case"middle":T=Rh("calc(".concat((w.length-1)/2," * -").concat(c," + (").concat(u," / 2))"));break;default:T=Rh("calc(".concat(w.length-1," * -").concat(c,")"));break}var D=[];if(f){var $=w[0].width,k=y.width;D.push("scale(".concat((pe(k)?k/$:1)/$,")"))}return j&&D.push("rotate(".concat(j,", ").concat(C,", ").concat(_,")")),D.length&&(P.transform=D.join(" ")),I.createElement("text",rp({},Re(P,!0),{x:C,y:_,className:Ke("recharts-text",O),textAnchor:p,fill:b.includes("url")?Kb:b}),w.map(function(M,E){var U=M.words.join(S?"":" ");return I.createElement("tspan",{x:C,dy:E===0?T:c,key:"".concat(U,"-").concat(E)},U)}))};function La(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function $K(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function hg(e){let t,r,n;e.length!==2?(t=La,r=(c,l)=>La(e(c),l),n=(c,l)=>e(c)-l):(t=e===La||e===$K?e:DK,r=e,n=e);function i(c,l,u=0,d=c.length){if(u<d){if(t(l,l)!==0)return d;do{const f=u+d>>>1;r(c[f],l)<0?u=f+1:d=f}while(u<d)}return u}function s(c,l,u=0,d=c.length){if(u<d){if(t(l,l)!==0)return d;do{const f=u+d>>>1;r(c[f],l)<=0?u=f+1:d=f}while(u<d)}return u}function o(c,l,u=0,d=c.length){const f=i(c,l,u,d-1);return f>u&&n(c[f-1],l)>-n(c[f],l)?f-1:f}return{left:i,center:o,right:s}}function DK(){return 0}function XO(e){return e===null?NaN:+e}function*IK(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const MK=hg(La),bl=MK.right;hg(XO).center;class Gb extends Map{constructor(t,r=FK){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(Zb(this,t))}has(t){return super.has(Zb(this,t))}set(t,r){return super.set(RK(this,t),r)}delete(t){return super.delete(LK(this,t))}}function Zb({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function RK({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function LK({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function FK(e){return e!==null&&typeof e=="object"?e.valueOf():e}function BK(e=La){if(e===La)return YO;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function YO(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const VK=Math.sqrt(50),zK=Math.sqrt(10),UK=Math.sqrt(2);function Yu(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),o=s>=VK?10:s>=zK?5:s>=UK?2:1;let c,l,u;return i<0?(u=Math.pow(10,-i)/o,c=Math.round(e*u),l=Math.round(t*u),c/u<e&&++c,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*o,c=Math.round(e/u),l=Math.round(t/u),c*u<e&&++c,l*u>t&&--l),l<c&&.5<=r&&r<2?Yu(e,t,r*2):[c,l,u]}function np(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,s,o]=n?Yu(t,e,r):Yu(e,t,r);if(!(s>=i))return[];const c=s-i+1,l=new Array(c);if(n)if(o<0)for(let u=0;u<c;++u)l[u]=(s-u)/-o;else for(let u=0;u<c;++u)l[u]=(s-u)*o;else if(o<0)for(let u=0;u<c;++u)l[u]=(i+u)/-o;else for(let u=0;u<c;++u)l[u]=(i+u)*o;return l}function ap(e,t,r){return t=+t,e=+e,r=+r,Yu(e,t,r)[2]}function ip(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?ap(t,e,r):ap(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function Xb(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function Yb(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function JO(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?YO:BK(i);n>r;){if(n-r>600){const l=n-r+1,u=t-r+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(u-l/2<0?-1:1),p=Math.max(r,Math.floor(t-u*f/l+h)),v=Math.min(n,Math.floor(t+(l-u)*f/l+h));JO(e,t,p,v,i)}const s=e[t];let o=r,c=n;for(Fo(e,r,t),i(e[n],s)>0&&Fo(e,r,n);o<c;){for(Fo(e,o,c),++o,--c;i(e[o],s)<0;)++o;for(;i(e[c],s)>0;)--c}i(e[r],s)===0?Fo(e,r,c):(++c,Fo(e,c,n)),c<=t&&(r=c+1),t<=c&&(n=c-1)}return e}function Fo(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function WK(e,t,r){if(e=Float64Array.from(IK(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return Yb(e);if(t>=1)return Xb(e);var n,i=(n-1)*t,s=Math.floor(i),o=Xb(JO(e,s).subarray(0,s+1)),c=Yb(e.subarray(s+1));return o+(c-o)*(i-s)}}function HK(e,t,r=XO){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,s=Math.floor(i),o=+r(e[s],s,e),c=+r(e[s+1],s+1,e);return o+(c-o)*(i-s)}}function qK(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(i);++n<i;)s[n]=e+n*r;return s}function nn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Na(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const sp=Symbol("implicit");function mg(){var e=new Gb,t=[],r=[],n=sp;function i(s){let o=e.get(s);if(o===void 0){if(n!==sp)return n;e.set(s,o=t.push(s)-1)}return r[o%r.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new Gb;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return mg(t,r).unknown(n)},nn.apply(i,arguments),i}function Ic(){var e=mg().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,s,o,c=!1,l=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,p=i<n,v=p?i:n,m=p?n:i;s=(m-v)/Math.max(1,h-l+u*2),c&&(s=Math.floor(s)),v+=(m-v-s*(h-l))*d,o=s*(1-l),c&&(v=Math.round(v),o=Math.round(o));var g=qK(h).map(function(b){return v+s*b});return r(p?g.reverse():g)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,f()):[n,i]},e.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,c=!0,f()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(h){return arguments.length?(c=!!h,f()):c},e.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return Ic(t(),[n,i]).round(c).paddingInner(l).paddingOuter(u).align(d)},nn.apply(f(),arguments)}function QO(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return QO(t())},e}function rc(){return QO(Ic.apply(null,arguments).paddingInner(1))}function pg(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function e_(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function jl(){}var Mc=.7,Ju=1/Mc,Os="\\s*([+-]?\\d+)\\s*",Rc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Mn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",KK=/^#([0-9a-f]{3,8})$/,GK=new RegExp(`^rgb\\(${Os},${Os},${Os}\\)$`),ZK=new RegExp(`^rgb\\(${Mn},${Mn},${Mn}\\)$`),XK=new RegExp(`^rgba\\(${Os},${Os},${Os},${Rc}\\)$`),YK=new RegExp(`^rgba\\(${Mn},${Mn},${Mn},${Rc}\\)$`),JK=new RegExp(`^hsl\\(${Rc},${Mn},${Mn}\\)$`),QK=new RegExp(`^hsla\\(${Rc},${Mn},${Mn},${Rc}\\)$`),Jb={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};pg(jl,Lc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Qb,formatHex:Qb,formatHex8:eG,formatHsl:tG,formatRgb:e0,toString:e0});function Qb(){return this.rgb().formatHex()}function eG(){return this.rgb().formatHex8()}function tG(){return t_(this).formatHsl()}function e0(){return this.rgb().formatRgb()}function Lc(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=KK.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?t0(t):r===3?new Nr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Vl(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Vl(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=GK.exec(e))?new Nr(t[1],t[2],t[3],1):(t=ZK.exec(e))?new Nr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=XK.exec(e))?Vl(t[1],t[2],t[3],t[4]):(t=YK.exec(e))?Vl(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=JK.exec(e))?a0(t[1],t[2]/100,t[3]/100,1):(t=QK.exec(e))?a0(t[1],t[2]/100,t[3]/100,t[4]):Jb.hasOwnProperty(e)?t0(Jb[e]):e==="transparent"?new Nr(NaN,NaN,NaN,0):null}function t0(e){return new Nr(e>>16&255,e>>8&255,e&255,1)}function Vl(e,t,r,n){return n<=0&&(e=t=r=NaN),new Nr(e,t,r,n)}function rG(e){return e instanceof jl||(e=Lc(e)),e?(e=e.rgb(),new Nr(e.r,e.g,e.b,e.opacity)):new Nr}function op(e,t,r,n){return arguments.length===1?rG(e):new Nr(e,t,r,n??1)}function Nr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}pg(Nr,op,e_(jl,{brighter(e){return e=e==null?Ju:Math.pow(Ju,e),new Nr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Mc:Math.pow(Mc,e),new Nr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Nr(Ni(this.r),Ni(this.g),Ni(this.b),Qu(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:r0,formatHex:r0,formatHex8:nG,formatRgb:n0,toString:n0}));function r0(){return`#${mi(this.r)}${mi(this.g)}${mi(this.b)}`}function nG(){return`#${mi(this.r)}${mi(this.g)}${mi(this.b)}${mi((isNaN(this.opacity)?1:this.opacity)*255)}`}function n0(){const e=Qu(this.opacity);return`${e===1?"rgb(":"rgba("}${Ni(this.r)}, ${Ni(this.g)}, ${Ni(this.b)}${e===1?")":`, ${e})`}`}function Qu(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ni(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function mi(e){return e=Ni(e),(e<16?"0":"")+e.toString(16)}function a0(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new un(e,t,r,n)}function t_(e){if(e instanceof un)return new un(e.h,e.s,e.l,e.opacity);if(e instanceof jl||(e=Lc(e)),!e)return new un;if(e instanceof un)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),s=Math.max(t,r,n),o=NaN,c=s-i,l=(s+i)/2;return c?(t===s?o=(r-n)/c+(r<n)*6:r===s?o=(n-t)/c+2:o=(t-r)/c+4,c/=l<.5?s+i:2-s-i,o*=60):c=l>0&&l<1?0:o,new un(o,c,l,e.opacity)}function aG(e,t,r,n){return arguments.length===1?t_(e):new un(e,t,r,n??1)}function un(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}pg(un,aG,e_(jl,{brighter(e){return e=e==null?Ju:Math.pow(Ju,e),new un(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Mc:Math.pow(Mc,e),new un(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Nr(Lh(e>=240?e-240:e+120,i,n),Lh(e,i,n),Lh(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new un(i0(this.h),zl(this.s),zl(this.l),Qu(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Qu(this.opacity);return`${e===1?"hsl(":"hsla("}${i0(this.h)}, ${zl(this.s)*100}%, ${zl(this.l)*100}%${e===1?")":`, ${e})`}`}}));function i0(e){return e=(e||0)%360,e<0?e+360:e}function zl(e){return Math.max(0,Math.min(1,e||0))}function Lh(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const vg=e=>()=>e;function iG(e,t){return function(r){return e+r*t}}function sG(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function oG(e){return(e=+e)==1?r_:function(t,r){return r-t?sG(t,r,e):vg(isNaN(t)?r:t)}}function r_(e,t){var r=t-e;return r?iG(e,r):vg(isNaN(e)?t:e)}const s0=function e(t){var r=oG(t);function n(i,s){var o=r((i=op(i)).r,(s=op(s)).r),c=r(i.g,s.g),l=r(i.b,s.b),u=r_(i.opacity,s.opacity);return function(d){return i.r=o(d),i.g=c(d),i.b=l(d),i.opacity=u(d),i+""}}return n.gamma=e,n}(1);function cG(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=e[i]*(1-s)+t[i]*s;return n}}function lG(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function uG(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),s=new Array(r),o;for(o=0;o<n;++o)i[o]=So(e[o],t[o]);for(;o<r;++o)s[o]=t[o];return function(c){for(o=0;o<n;++o)s[o]=i[o](c);return s}}function dG(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function ed(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function fG(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=So(e[i],t[i]):n[i]=t[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var cp=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Fh=new RegExp(cp.source,"g");function hG(e){return function(){return e}}function mG(e){return function(t){return e(t)+""}}function pG(e,t){var r=cp.lastIndex=Fh.lastIndex=0,n,i,s,o=-1,c=[],l=[];for(e=e+"",t=t+"";(n=cp.exec(e))&&(i=Fh.exec(t));)(s=i.index)>r&&(s=t.slice(r,s),c[o]?c[o]+=s:c[++o]=s),(n=n[0])===(i=i[0])?c[o]?c[o]+=i:c[++o]=i:(c[++o]=null,l.push({i:o,x:ed(n,i)})),r=Fh.lastIndex;return r<t.length&&(s=t.slice(r),c[o]?c[o]+=s:c[++o]=s),c.length<2?l[0]?mG(l[0].x):hG(t):(t=l.length,function(u){for(var d=0,f;d<t;++d)c[(f=l[d]).i]=f.x(u);return c.join("")})}function So(e,t){var r=typeof t,n;return t==null||r==="boolean"?vg(t):(r==="number"?ed:r==="string"?(n=Lc(t))?(t=n,s0):pG:t instanceof Lc?s0:t instanceof Date?dG:lG(t)?cG:Array.isArray(t)?uG:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?fG:ed)(e,t)}function gg(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function vG(e,t){t===void 0&&(t=e,e=So);for(var r=0,n=t.length-1,i=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(i,i=t[++r]);return function(o){var c=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return s[c](o-c)}}function gG(e){return function(){return e}}function td(e){return+e}var o0=[0,1];function yr(e){return e}function lp(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:gG(isNaN(t)?NaN:.5)}function xG(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function yG(e,t,r){var n=e[0],i=e[1],s=t[0],o=t[1];return i<n?(n=lp(i,n),s=r(o,s)):(n=lp(n,i),s=r(s,o)),function(c){return s(n(c))}}function bG(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),s=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)i[o]=lp(e[o],e[o+1]),s[o]=r(t[o],t[o+1]);return function(c){var l=bl(e,c,1,n)-1;return s[l](i[l](c))}}function wl(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function $f(){var e=o0,t=o0,r=So,n,i,s,o=yr,c,l,u;function d(){var h=Math.min(e.length,t.length);return o!==yr&&(o=xG(e[0],e[h-1])),c=h>2?bG:yG,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?s:(l||(l=c(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(i((u||(u=c(t,e.map(n),ed)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,td),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=gg,d()},f.clamp=function(h){return arguments.length?(o=h?!0:yr,d()):o!==yr},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,p){return n=h,i=p,d()}}function xg(){return $f()(yr,yr)}function jG(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function rd(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Rs(e){return e=rd(Math.abs(e)),e?e[1]:NaN}function wG(e,t){return function(r,n){for(var i=r.length,s=[],o=0,c=e[0],l=0;i>0&&c>0&&(l+c+1>n&&(c=Math.max(1,n-l)),s.push(r.substring(i-=c,i+c)),!((l+=c+1)>n));)c=e[o=(o+1)%e.length];return s.reverse().join(t)}}function NG(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var SG=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Fc(e){if(!(t=SG.exec(e)))throw new Error("invalid format: "+e);var t;return new yg({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Fc.prototype=yg.prototype;function yg(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}yg.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function AG(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var n_;function OG(e,t){var r=rd(e,t);if(!r)return e+"";var n=r[0],i=r[1],s=i-(n_=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+rd(e,Math.max(0,t+s-1))[0]}function c0(e,t){var r=rd(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const l0={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:jG,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>c0(e*100,t),r:c0,s:OG,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function u0(e){return e}var d0=Array.prototype.map,f0=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function _G(e){var t=e.grouping===void 0||e.thousands===void 0?u0:wG(d0.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?u0:NG(d0.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Fc(f);var h=f.fill,p=f.align,v=f.sign,m=f.symbol,g=f.zero,b=f.width,y=f.comma,w=f.precision,A=f.trim,N=f.type;N==="n"?(y=!0,N="g"):l0[N]||(w===void 0&&(w=12),A=!0,N="g"),(g||h==="0"&&p==="=")&&(g=!0,h="0",p="=");var j=m==="$"?r:m==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",O=m==="$"?n:/[%p]/.test(N)?o:"",S=l0[N],P=/[defgprs%]/.test(N);w=w===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function C(_){var T=j,D=O,$,k,M;if(N==="c")D=S(_)+D,_="";else{_=+_;var E=_<0||1/_<0;if(_=isNaN(_)?l:S(Math.abs(_),w),A&&(_=AG(_)),E&&+_==0&&v!=="+"&&(E=!1),T=(E?v==="("?v:c:v==="-"||v==="("?"":v)+T,D=(N==="s"?f0[8+n_/3]:"")+D+(E&&v==="("?")":""),P){for($=-1,k=_.length;++$<k;)if(M=_.charCodeAt($),48>M||M>57){D=(M===46?i+_.slice($+1):_.slice($))+D,_=_.slice(0,$);break}}}y&&!g&&(_=t(_,1/0));var U=T.length+_.length+D.length,R=U<b?new Array(b-U+1).join(h):"";switch(y&&g&&(_=t(R+_,R.length?b-D.length:1/0),R=""),p){case"<":_=T+_+D+R;break;case"=":_=T+R+_+D;break;case"^":_=R.slice(0,U=R.length>>1)+T+_+D+R.slice(U);break;default:_=R+T+_+D;break}return s(_)}return C.toString=function(){return f+""},C}function d(f,h){var p=u((f=Fc(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(Rs(h)/3)))*3,m=Math.pow(10,-v),g=f0[8+v/3];return function(b){return p(m*b)+g}}return{format:u,formatPrefix:d}}var Ul,bg,a_;PG({thousands:",",grouping:[3],currency:["$",""]});function PG(e){return Ul=_G(e),bg=Ul.format,a_=Ul.formatPrefix,Ul}function kG(e){return Math.max(0,-Rs(Math.abs(e)))}function CG(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Rs(t)/3)))*3-Rs(Math.abs(e)))}function TG(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Rs(t)-Rs(e))+1}function i_(e,t,r,n){var i=ip(e,t,r),s;switch(n=Fc(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=CG(i,o))&&(n.precision=s),a_(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=TG(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=kG(i))&&(n.precision=s-(n.type==="%")*2);break}}return bg(n)}function Ja(e){var t=e.domain;return e.ticks=function(r){var n=t();return np(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return i_(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,s=n.length-1,o=n[i],c=n[s],l,u,d=10;for(c<o&&(u=o,o=c,c=u,u=i,i=s,s=u);d-- >0;){if(u=ap(o,c,r),u===l)return n[i]=o,n[s]=c,t(n);if(u>0)o=Math.floor(o/u)*u,c=Math.ceil(c/u)*u;else if(u<0)o=Math.ceil(o*u)/u,c=Math.floor(c*u)/u;else break;l=u}return e},e}function nd(){var e=xg();return e.copy=function(){return wl(e,nd())},nn.apply(e,arguments),Ja(e)}function s_(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,td),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return s_(e).unknown(t)},e=arguments.length?Array.from(e,td):[0,1],Ja(r)}function o_(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],s=e[n],o;return s<i&&(o=r,r=n,n=o,o=i,i=s,s=o),e[r]=t.floor(i),e[n]=t.ceil(s),e}function h0(e){return Math.log(e)}function m0(e){return Math.exp(e)}function EG(e){return-Math.log(-e)}function $G(e){return-Math.exp(-e)}function DG(e){return isFinite(e)?+("1e"+e):e<0?0:e}function IG(e){return e===10?DG:e===Math.E?Math.exp:t=>Math.pow(e,t)}function MG(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function p0(e){return(t,r)=>-e(-t,r)}function jg(e){const t=e(h0,m0),r=t.domain;let n=10,i,s;function o(){return i=MG(n),s=IG(n),r()[0]<0?(i=p0(i),s=p0(s),e(EG,$G)):e(h0,m0),t}return t.base=function(c){return arguments.length?(n=+c,o()):n},t.domain=function(c){return arguments.length?(r(c),o()):r()},t.ticks=c=>{const l=r();let u=l[0],d=l[l.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),p=i(d),v,m;const g=c==null?10:+c;let b=[];if(!(n%1)&&p-h<g){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(v=1;v<n;++v)if(m=h<0?v/s(-h):v*s(h),!(m<u)){if(m>d)break;b.push(m)}}else for(;h<=p;++h)for(v=n-1;v>=1;--v)if(m=h>0?v/s(-h):v*s(h),!(m<u)){if(m>d)break;b.push(m)}b.length*2<g&&(b=np(u,d,g))}else b=np(h,p,Math.min(p-h,g)).map(s);return f?b.reverse():b},t.tickFormat=(c,l)=>{if(c==null&&(c=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Fc(l)).precision==null&&(l.trim=!0),l=bg(l)),c===1/0)return l;const u=Math.max(1,n*c/t.ticks().length);return d=>{let f=d/s(Math.round(i(d)));return f*n<n-.5&&(f*=n),f<=u?l(d):""}},t.nice=()=>r(o_(r(),{floor:c=>s(Math.floor(i(c))),ceil:c=>s(Math.ceil(i(c)))})),t}function c_(){const e=jg($f()).domain([1,10]);return e.copy=()=>wl(e,c_()).base(e.base()),nn.apply(e,arguments),e}function v0(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function g0(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function wg(e){var t=1,r=e(v0(t),g0(t));return r.constant=function(n){return arguments.length?e(v0(t=+n),g0(t)):t},Ja(r)}function l_(){var e=wg($f());return e.copy=function(){return wl(e,l_()).constant(e.constant())},nn.apply(e,arguments)}function x0(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function RG(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function LG(e){return e<0?-e*e:e*e}function Ng(e){var t=e(yr,yr),r=1;function n(){return r===1?e(yr,yr):r===.5?e(RG,LG):e(x0(r),x0(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Ja(t)}function Sg(){var e=Ng($f());return e.copy=function(){return wl(e,Sg()).exponent(e.exponent())},nn.apply(e,arguments),e}function FG(){return Sg.apply(null,arguments).exponent(.5)}function y0(e){return Math.sign(e)*e*e}function BG(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function u_(){var e=xg(),t=[0,1],r=!1,n;function i(s){var o=BG(e(s));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(s){return e.invert(y0(s))},i.domain=function(s){return arguments.length?(e.domain(s),i):e.domain()},i.range=function(s){return arguments.length?(e.range((t=Array.from(s,td)).map(y0)),i):t.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(e.clamp(s),i):e.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return u_(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},nn.apply(i,arguments),Ja(i)}function d_(){var e=[],t=[],r=[],n;function i(){var o=0,c=Math.max(1,t.length);for(r=new Array(c-1);++o<c;)r[o-1]=HK(e,o/c);return s}function s(o){return o==null||isNaN(o=+o)?n:t[bl(r,o)]}return s.invertExtent=function(o){var c=t.indexOf(o);return c<0?[NaN,NaN]:[c>0?r[c-1]:e[0],c<r.length?r[c]:e[e.length-1]]},s.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let c of o)c!=null&&!isNaN(c=+c)&&e.push(c);return e.sort(La),i()},s.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return d_().domain(e).range(t).unknown(n)},nn.apply(s,arguments)}function f_(){var e=0,t=1,r=1,n=[.5],i=[0,1],s;function o(l){return l!=null&&l<=l?i[bl(n,l,0,r)]:s}function c(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return o}return o.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,c()):[e,t]},o.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,c()):i.slice()},o.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(l){return arguments.length&&(s=l),o},o.thresholds=function(){return n.slice()},o.copy=function(){return f_().domain([e,t]).range(i).unknown(s)},nn.apply(Ja(o),arguments)}function h_(){var e=[.5],t=[0,1],r,n=1;function i(s){return s!=null&&s<=s?t[bl(e,s,0,n)]:r}return i.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var o=t.indexOf(s);return[e[o-1],e[o]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return h_().domain(e).range(t).unknown(r)},nn.apply(i,arguments)}const Bh=new Date,Vh=new Date;function Xt(e,t,r,n){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const o=i(s),c=i.ceil(s);return s-o<c-s?o:c},i.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,c)=>{const l=[];if(s=i.ceil(s),c=c==null?1:Math.floor(c),!(s<o)||!(c>0))return l;let u;do l.push(u=new Date(+s)),t(s,c),e(s);while(u<s&&s<o);return l},i.filter=s=>Xt(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,c)=>{if(o>=o)if(c<0)for(;++c<=0;)for(;t(o,-1),!s(o););else for(;--c>=0;)for(;t(o,1),!s(o););}),r&&(i.count=(s,o)=>(Bh.setTime(+s),Vh.setTime(+o),e(Bh),e(Vh),Math.floor(r(Bh,Vh))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?o=>n(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const ad=Xt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);ad.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Xt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):ad);ad.range;const ia=1e3,Jr=ia*60,sa=Jr*60,ga=sa*24,Ag=ga*7,b0=ga*30,zh=ga*365,pi=Xt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ia)},(e,t)=>(t-e)/ia,e=>e.getUTCSeconds());pi.range;const Og=Xt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ia)},(e,t)=>{e.setTime(+e+t*Jr)},(e,t)=>(t-e)/Jr,e=>e.getMinutes());Og.range;const _g=Xt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Jr)},(e,t)=>(t-e)/Jr,e=>e.getUTCMinutes());_g.range;const Pg=Xt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ia-e.getMinutes()*Jr)},(e,t)=>{e.setTime(+e+t*sa)},(e,t)=>(t-e)/sa,e=>e.getHours());Pg.range;const kg=Xt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*sa)},(e,t)=>(t-e)/sa,e=>e.getUTCHours());kg.range;const Nl=Xt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Jr)/ga,e=>e.getDate()-1);Nl.range;const Df=Xt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ga,e=>e.getUTCDate()-1);Df.range;const m_=Xt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ga,e=>Math.floor(e/ga));m_.range;function Zi(e){return Xt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Jr)/Ag)}const If=Zi(0),id=Zi(1),VG=Zi(2),zG=Zi(3),Ls=Zi(4),UG=Zi(5),WG=Zi(6);If.range;id.range;VG.range;zG.range;Ls.range;UG.range;WG.range;function Xi(e){return Xt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Ag)}const Mf=Xi(0),sd=Xi(1),HG=Xi(2),qG=Xi(3),Fs=Xi(4),KG=Xi(5),GG=Xi(6);Mf.range;sd.range;HG.range;qG.range;Fs.range;KG.range;GG.range;const Cg=Xt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Cg.range;const Tg=Xt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Tg.range;const xa=Xt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());xa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Xt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});xa.range;const ya=Xt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ya.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Xt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});ya.range;function p_(e,t,r,n,i,s){const o=[[pi,1,ia],[pi,5,5*ia],[pi,15,15*ia],[pi,30,30*ia],[s,1,Jr],[s,5,5*Jr],[s,15,15*Jr],[s,30,30*Jr],[i,1,sa],[i,3,3*sa],[i,6,6*sa],[i,12,12*sa],[n,1,ga],[n,2,2*ga],[r,1,Ag],[t,1,b0],[t,3,3*b0],[e,1,zh]];function c(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:l(u,d,f),v=p?p.range(u,+d+1):[];return h?v.reverse():v}function l(u,d,f){const h=Math.abs(d-u)/f,p=hg(([,,g])=>g).right(o,h);if(p===o.length)return e.every(ip(u/zh,d/zh,f));if(p===0)return ad.every(Math.max(ip(u,d,f),1));const[v,m]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return v.every(m)}return[c,l]}const[ZG,XG]=p_(ya,Tg,Mf,m_,kg,_g),[YG,JG]=p_(xa,Cg,If,Nl,Pg,Og);function Uh(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Wh(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Bo(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function QG(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,s=e.days,o=e.shortDays,c=e.months,l=e.shortMonths,u=Vo(i),d=zo(i),f=Vo(s),h=zo(s),p=Vo(o),v=zo(o),m=Vo(c),g=zo(c),b=Vo(l),y=zo(l),w={a:E,A:U,b:R,B:X,c:null,d:O0,e:O0,f:wZ,g:EZ,G:DZ,H:yZ,I:bZ,j:jZ,L:v_,m:NZ,M:SZ,p:F,q:ie,Q:k0,s:C0,S:AZ,u:OZ,U:_Z,V:PZ,w:kZ,W:CZ,x:null,X:null,y:TZ,Y:$Z,Z:IZ,"%":P0},A={a:V,A:H,b:fe,B:Le,c:null,d:_0,e:_0,f:FZ,g:ZZ,G:YZ,H:MZ,I:RZ,j:LZ,L:x_,m:BZ,M:VZ,p:me,q:Pe,Q:k0,s:C0,S:zZ,u:UZ,U:WZ,V:HZ,w:qZ,W:KZ,x:null,X:null,y:GZ,Y:XZ,Z:JZ,"%":P0},N={a:C,A:_,b:T,B:D,c:$,d:S0,e:S0,f:pZ,g:N0,G:w0,H:A0,I:A0,j:dZ,L:mZ,m:uZ,M:fZ,p:P,q:lZ,Q:gZ,s:xZ,S:hZ,u:aZ,U:iZ,V:sZ,w:nZ,W:oZ,x:k,X:M,y:N0,Y:w0,Z:cZ,"%":vZ};w.x=j(r,w),w.X=j(n,w),w.c=j(t,w),A.x=j(r,A),A.X=j(n,A),A.c=j(t,A);function j(le,ye){return function(xe){var te=[],Ve=-1,Te=0,et=le.length,rt,st,L;for(xe instanceof Date||(xe=new Date(+xe));++Ve<et;)le.charCodeAt(Ve)===37&&(te.push(le.slice(Te,Ve)),(st=j0[rt=le.charAt(++Ve)])!=null?rt=le.charAt(++Ve):st=rt==="e"?" ":"0",(L=ye[rt])&&(rt=L(xe,st)),te.push(rt),Te=Ve+1);return te.push(le.slice(Te,Ve)),te.join("")}}function O(le,ye){return function(xe){var te=Bo(1900,void 0,1),Ve=S(te,le,xe+="",0),Te,et;if(Ve!=xe.length)return null;if("Q"in te)return new Date(te.Q);if("s"in te)return new Date(te.s*1e3+("L"in te?te.L:0));if(ye&&!("Z"in te)&&(te.Z=0),"p"in te&&(te.H=te.H%12+te.p*12),te.m===void 0&&(te.m="q"in te?te.q:0),"V"in te){if(te.V<1||te.V>53)return null;"w"in te||(te.w=1),"Z"in te?(Te=Wh(Bo(te.y,0,1)),et=Te.getUTCDay(),Te=et>4||et===0?sd.ceil(Te):sd(Te),Te=Df.offset(Te,(te.V-1)*7),te.y=Te.getUTCFullYear(),te.m=Te.getUTCMonth(),te.d=Te.getUTCDate()+(te.w+6)%7):(Te=Uh(Bo(te.y,0,1)),et=Te.getDay(),Te=et>4||et===0?id.ceil(Te):id(Te),Te=Nl.offset(Te,(te.V-1)*7),te.y=Te.getFullYear(),te.m=Te.getMonth(),te.d=Te.getDate()+(te.w+6)%7)}else("W"in te||"U"in te)&&("w"in te||(te.w="u"in te?te.u%7:"W"in te?1:0),et="Z"in te?Wh(Bo(te.y,0,1)).getUTCDay():Uh(Bo(te.y,0,1)).getDay(),te.m=0,te.d="W"in te?(te.w+6)%7+te.W*7-(et+5)%7:te.w+te.U*7-(et+6)%7);return"Z"in te?(te.H+=te.Z/100|0,te.M+=te.Z%100,Wh(te)):Uh(te)}}function S(le,ye,xe,te){for(var Ve=0,Te=ye.length,et=xe.length,rt,st;Ve<Te;){if(te>=et)return-1;if(rt=ye.charCodeAt(Ve++),rt===37){if(rt=ye.charAt(Ve++),st=N[rt in j0?ye.charAt(Ve++):rt],!st||(te=st(le,xe,te))<0)return-1}else if(rt!=xe.charCodeAt(te++))return-1}return te}function P(le,ye,xe){var te=u.exec(ye.slice(xe));return te?(le.p=d.get(te[0].toLowerCase()),xe+te[0].length):-1}function C(le,ye,xe){var te=p.exec(ye.slice(xe));return te?(le.w=v.get(te[0].toLowerCase()),xe+te[0].length):-1}function _(le,ye,xe){var te=f.exec(ye.slice(xe));return te?(le.w=h.get(te[0].toLowerCase()),xe+te[0].length):-1}function T(le,ye,xe){var te=b.exec(ye.slice(xe));return te?(le.m=y.get(te[0].toLowerCase()),xe+te[0].length):-1}function D(le,ye,xe){var te=m.exec(ye.slice(xe));return te?(le.m=g.get(te[0].toLowerCase()),xe+te[0].length):-1}function $(le,ye,xe){return S(le,t,ye,xe)}function k(le,ye,xe){return S(le,r,ye,xe)}function M(le,ye,xe){return S(le,n,ye,xe)}function E(le){return o[le.getDay()]}function U(le){return s[le.getDay()]}function R(le){return l[le.getMonth()]}function X(le){return c[le.getMonth()]}function F(le){return i[+(le.getHours()>=12)]}function ie(le){return 1+~~(le.getMonth()/3)}function V(le){return o[le.getUTCDay()]}function H(le){return s[le.getUTCDay()]}function fe(le){return l[le.getUTCMonth()]}function Le(le){return c[le.getUTCMonth()]}function me(le){return i[+(le.getUTCHours()>=12)]}function Pe(le){return 1+~~(le.getUTCMonth()/3)}return{format:function(le){var ye=j(le+="",w);return ye.toString=function(){return le},ye},parse:function(le){var ye=O(le+="",!1);return ye.toString=function(){return le},ye},utcFormat:function(le){var ye=j(le+="",A);return ye.toString=function(){return le},ye},utcParse:function(le){var ye=O(le+="",!0);return ye.toString=function(){return le},ye}}}var j0={"-":"",_:" ",0:"0"},rr=/^\s*\d+/,eZ=/^%/,tZ=/[\\^$*+?|[\]().{}]/g;function it(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(t)+i:i)}function rZ(e){return e.replace(tZ,"\\$&")}function Vo(e){return new RegExp("^(?:"+e.map(rZ).join("|")+")","i")}function zo(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function nZ(e,t,r){var n=rr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function aZ(e,t,r){var n=rr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function iZ(e,t,r){var n=rr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function sZ(e,t,r){var n=rr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function oZ(e,t,r){var n=rr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function w0(e,t,r){var n=rr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function N0(e,t,r){var n=rr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function cZ(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function lZ(e,t,r){var n=rr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function uZ(e,t,r){var n=rr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function S0(e,t,r){var n=rr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function dZ(e,t,r){var n=rr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function A0(e,t,r){var n=rr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function fZ(e,t,r){var n=rr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function hZ(e,t,r){var n=rr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function mZ(e,t,r){var n=rr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function pZ(e,t,r){var n=rr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function vZ(e,t,r){var n=eZ.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function gZ(e,t,r){var n=rr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function xZ(e,t,r){var n=rr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function O0(e,t){return it(e.getDate(),t,2)}function yZ(e,t){return it(e.getHours(),t,2)}function bZ(e,t){return it(e.getHours()%12||12,t,2)}function jZ(e,t){return it(1+Nl.count(xa(e),e),t,3)}function v_(e,t){return it(e.getMilliseconds(),t,3)}function wZ(e,t){return v_(e,t)+"000"}function NZ(e,t){return it(e.getMonth()+1,t,2)}function SZ(e,t){return it(e.getMinutes(),t,2)}function AZ(e,t){return it(e.getSeconds(),t,2)}function OZ(e){var t=e.getDay();return t===0?7:t}function _Z(e,t){return it(If.count(xa(e)-1,e),t,2)}function g_(e){var t=e.getDay();return t>=4||t===0?Ls(e):Ls.ceil(e)}function PZ(e,t){return e=g_(e),it(Ls.count(xa(e),e)+(xa(e).getDay()===4),t,2)}function kZ(e){return e.getDay()}function CZ(e,t){return it(id.count(xa(e)-1,e),t,2)}function TZ(e,t){return it(e.getFullYear()%100,t,2)}function EZ(e,t){return e=g_(e),it(e.getFullYear()%100,t,2)}function $Z(e,t){return it(e.getFullYear()%1e4,t,4)}function DZ(e,t){var r=e.getDay();return e=r>=4||r===0?Ls(e):Ls.ceil(e),it(e.getFullYear()%1e4,t,4)}function IZ(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+it(t/60|0,"0",2)+it(t%60,"0",2)}function _0(e,t){return it(e.getUTCDate(),t,2)}function MZ(e,t){return it(e.getUTCHours(),t,2)}function RZ(e,t){return it(e.getUTCHours()%12||12,t,2)}function LZ(e,t){return it(1+Df.count(ya(e),e),t,3)}function x_(e,t){return it(e.getUTCMilliseconds(),t,3)}function FZ(e,t){return x_(e,t)+"000"}function BZ(e,t){return it(e.getUTCMonth()+1,t,2)}function VZ(e,t){return it(e.getUTCMinutes(),t,2)}function zZ(e,t){return it(e.getUTCSeconds(),t,2)}function UZ(e){var t=e.getUTCDay();return t===0?7:t}function WZ(e,t){return it(Mf.count(ya(e)-1,e),t,2)}function y_(e){var t=e.getUTCDay();return t>=4||t===0?Fs(e):Fs.ceil(e)}function HZ(e,t){return e=y_(e),it(Fs.count(ya(e),e)+(ya(e).getUTCDay()===4),t,2)}function qZ(e){return e.getUTCDay()}function KZ(e,t){return it(sd.count(ya(e)-1,e),t,2)}function GZ(e,t){return it(e.getUTCFullYear()%100,t,2)}function ZZ(e,t){return e=y_(e),it(e.getUTCFullYear()%100,t,2)}function XZ(e,t){return it(e.getUTCFullYear()%1e4,t,4)}function YZ(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Fs(e):Fs.ceil(e),it(e.getUTCFullYear()%1e4,t,4)}function JZ(){return"+0000"}function P0(){return"%"}function k0(e){return+e}function C0(e){return Math.floor(+e/1e3)}var ns,b_,j_;QZ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function QZ(e){return ns=QG(e),b_=ns.format,ns.parse,j_=ns.utcFormat,ns.utcParse,ns}function eX(e){return new Date(e)}function tX(e){return e instanceof Date?+e:+new Date(+e)}function Eg(e,t,r,n,i,s,o,c,l,u){var d=xg(),f=d.invert,h=d.domain,p=u(".%L"),v=u(":%S"),m=u("%I:%M"),g=u("%I %p"),b=u("%a %d"),y=u("%b %d"),w=u("%B"),A=u("%Y");function N(j){return(l(j)<j?p:c(j)<j?v:o(j)<j?m:s(j)<j?g:n(j)<j?i(j)<j?b:y:r(j)<j?w:A)(j)}return d.invert=function(j){return new Date(f(j))},d.domain=function(j){return arguments.length?h(Array.from(j,tX)):h().map(eX)},d.ticks=function(j){var O=h();return e(O[0],O[O.length-1],j??10)},d.tickFormat=function(j,O){return O==null?N:u(O)},d.nice=function(j){var O=h();return(!j||typeof j.range!="function")&&(j=t(O[0],O[O.length-1],j??10)),j?h(o_(O,j)):d},d.copy=function(){return wl(d,Eg(e,t,r,n,i,s,o,c,l,u))},d}function rX(){return nn.apply(Eg(YG,JG,xa,Cg,If,Nl,Pg,Og,pi,b_).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function nX(){return nn.apply(Eg(ZG,XG,ya,Tg,Mf,Df,kg,_g,pi,j_).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Rf(){var e=0,t=1,r,n,i,s,o=yr,c=!1,l;function u(f){return f==null||isNaN(f=+f)?l:o(i===0?.5:(f=(s(f)-r)*i,c?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=s(e=+e),n=s(t=+t),i=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(c=!!f,u):c},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var p,v;return arguments.length?([p,v]=h,o=f(p,v),u):[o(0),o(1)]}}return u.range=d(So),u.rangeRound=d(gg),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return s=f,r=f(e),n=f(t),i=r===n?0:1/(n-r),u}}function Qa(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function w_(){var e=Ja(Rf()(yr));return e.copy=function(){return Qa(e,w_())},Na.apply(e,arguments)}function N_(){var e=jg(Rf()).domain([1,10]);return e.copy=function(){return Qa(e,N_()).base(e.base())},Na.apply(e,arguments)}function S_(){var e=wg(Rf());return e.copy=function(){return Qa(e,S_()).constant(e.constant())},Na.apply(e,arguments)}function $g(){var e=Ng(Rf());return e.copy=function(){return Qa(e,$g()).exponent(e.exponent())},Na.apply(e,arguments)}function aX(){return $g.apply(null,arguments).exponent(.5)}function A_(){var e=[],t=yr;function r(n){if(n!=null&&!isNaN(n=+n))return t((bl(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(La),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>WK(e,s/n))},r.copy=function(){return A_(t).domain(e)},Na.apply(r,arguments)}function Lf(){var e=0,t=.5,r=1,n=1,i,s,o,c,l,u=yr,d,f=!1,h;function p(m){return isNaN(m=+m)?h:(m=.5+((m=+d(m))-s)*(n*m<n*s?c:l),u(f?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([e,t,r]=m,i=d(e=+e),s=d(t=+t),o=d(r=+r),c=i===s?0:.5/(s-i),l=s===o?0:.5/(o-s),n=s<i?-1:1,p):[e,t,r]},p.clamp=function(m){return arguments.length?(f=!!m,p):f},p.interpolator=function(m){return arguments.length?(u=m,p):u};function v(m){return function(g){var b,y,w;return arguments.length?([b,y,w]=g,u=vG(m,[b,y,w]),p):[u(0),u(.5),u(1)]}}return p.range=v(So),p.rangeRound=v(gg),p.unknown=function(m){return arguments.length?(h=m,p):h},function(m){return d=m,i=m(e),s=m(t),o=m(r),c=i===s?0:.5/(s-i),l=s===o?0:.5/(o-s),n=s<i?-1:1,p}}function O_(){var e=Ja(Lf()(yr));return e.copy=function(){return Qa(e,O_())},Na.apply(e,arguments)}function __(){var e=jg(Lf()).domain([.1,1,10]);return e.copy=function(){return Qa(e,__()).base(e.base())},Na.apply(e,arguments)}function P_(){var e=wg(Lf());return e.copy=function(){return Qa(e,P_()).constant(e.constant())},Na.apply(e,arguments)}function Dg(){var e=Ng(Lf());return e.copy=function(){return Qa(e,Dg()).exponent(e.exponent())},Na.apply(e,arguments)}function iX(){return Dg.apply(null,arguments).exponent(.5)}const T0=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ic,scaleDiverging:O_,scaleDivergingLog:__,scaleDivergingPow:Dg,scaleDivergingSqrt:iX,scaleDivergingSymlog:P_,scaleIdentity:s_,scaleImplicit:sp,scaleLinear:nd,scaleLog:c_,scaleOrdinal:mg,scalePoint:rc,scalePow:Sg,scaleQuantile:d_,scaleQuantize:f_,scaleRadial:u_,scaleSequential:w_,scaleSequentialLog:N_,scaleSequentialPow:$g,scaleSequentialQuantile:A_,scaleSequentialSqrt:aX,scaleSequentialSymlog:S_,scaleSqrt:FG,scaleSymlog:l_,scaleThreshold:h_,scaleTime:rX,scaleUtc:nX,tickFormat:i_},Symbol.toStringTag,{value:"Module"}));var sX=po;function oX(e,t,r){for(var n=-1,i=e.length;++n<i;){var s=e[n],o=t(s);if(o!=null&&(c===void 0?o===o&&!sX(o):r(o,c)))var c=o,l=s}return l}var Ff=oX;function cX(e,t){return e>t}var k_=cX,lX=Ff,uX=k_,dX=No;function fX(e){return e&&e.length?lX(e,dX,uX):void 0}var hX=fX;const Da=gt(hX);function mX(e,t){return e<t}var C_=mX,pX=Ff,vX=C_,gX=No;function xX(e){return e&&e.length?pX(e,gX,vX):void 0}var yX=xX;const Bf=gt(yX);var bX=Gv,jX=Gn,wX=LO,NX=Pr;function SX(e,t){var r=NX(e)?bX:wX;return r(e,jX(t))}var AX=SX,OX=MO,_X=AX;function PX(e,t){return OX(_X(e,t),1)}var kX=PX;const CX=gt(kX);var TX=lg;function EX(e,t){return TX(e,t)}var $X=EX;const Bi=gt($X);var Ao=1e9,DX={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Mg,kt=!0,tn="[DecimalError] ",Si=tn+"Invalid argument: ",Ig=tn+"Exponent out of range: ",Oo=Math.floor,oi=Math.pow,IX=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Dr,Jt=1e7,_t=7,T_=9007199254740991,od=Oo(T_/_t),ke={};ke.absoluteValue=ke.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ke.comparedTo=ke.cmp=function(e){var t,r,n,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};ke.decimalPlaces=ke.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*_t;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ke.dividedBy=ke.div=function(e){return fa(this,new this.constructor(e))};ke.dividedToIntegerBy=ke.idiv=function(e){var t=this,r=t.constructor;return yt(fa(t,new r(e),0,1),r.precision)};ke.equals=ke.eq=function(e){return!this.cmp(e)};ke.exponent=function(){return zt(this)};ke.greaterThan=ke.gt=function(e){return this.cmp(e)>0};ke.greaterThanOrEqualTo=ke.gte=function(e){return this.cmp(e)>=0};ke.isInteger=ke.isint=function(){return this.e>this.d.length-2};ke.isNegative=ke.isneg=function(){return this.s<0};ke.isPositive=ke.ispos=function(){return this.s>0};ke.isZero=function(){return this.s===0};ke.lessThan=ke.lt=function(e){return this.cmp(e)<0};ke.lessThanOrEqualTo=ke.lte=function(e){return this.cmp(e)<1};ke.logarithm=ke.log=function(e){var t,r=this,n=r.constructor,i=n.precision,s=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Dr))throw Error(tn+"NaN");if(r.s<1)throw Error(tn+(r.s?"NaN":"-Infinity"));return r.eq(Dr)?new n(0):(kt=!1,t=fa(Bc(r,s),Bc(e,s),s),kt=!0,yt(t,i))};ke.minus=ke.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?D_(t,e):E_(t,(e.s=-e.s,e))};ke.modulo=ke.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(tn+"NaN");return r.s?(kt=!1,t=fa(r,e,0,1).times(e),kt=!0,r.minus(t)):yt(new n(r),i)};ke.naturalExponential=ke.exp=function(){return $_(this)};ke.naturalLogarithm=ke.ln=function(){return Bc(this)};ke.negated=ke.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ke.plus=ke.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?E_(t,e):D_(t,(e.s=-e.s,e))};ke.precision=ke.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Si+e);if(t=zt(i)+1,n=i.d.length-1,r=n*_t+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ke.squareRoot=ke.sqrt=function(){var e,t,r,n,i,s,o,c=this,l=c.constructor;if(c.s<1){if(!c.s)return new l(0);throw Error(tn+"NaN")}for(e=zt(c),kt=!1,i=Math.sqrt(+c),i==0||i==1/0?(t=En(c.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Oo((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(i.toString()),r=l.precision,i=o=r+3;;)if(s=n,n=s.plus(fa(c,s,o+2)).times(.5),En(s.d).slice(0,o)===(t=En(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(yt(s,r+1,0),s.times(s).eq(c)){n=s;break}}else if(t!="9999")break;o+=4}return kt=!0,yt(n,r)};ke.times=ke.mul=function(e){var t,r,n,i,s,o,c,l,u,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,l=h.length,u=p.length,l<u&&(s=h,h=p,p=s,o=l,l=u,u=o),s=[],o=l+u,n=o;n--;)s.push(0);for(n=u;--n>=0;){for(t=0,i=l+n;i>n;)c=s[i]+p[n]*h[i-n-1]+t,s[i--]=c%Jt|0,t=c/Jt|0;s[i]=(s[i]+t)%Jt|0}for(;!s[--o];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,kt?yt(e,f.precision):e};ke.toDecimalPlaces=ke.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Un(e,0,Ao),t===void 0?t=n.rounding:Un(t,0,8),yt(r,e+zt(r)+1,t))};ke.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=Vi(n,!0):(Un(e,0,Ao),t===void 0?t=i.rounding:Un(t,0,8),n=yt(new i(n),e+1,t),r=Vi(n,!0,e+1)),r};ke.toFixed=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?Vi(i):(Un(e,0,Ao),t===void 0?t=s.rounding:Un(t,0,8),n=yt(new s(i),e+zt(i)+1,t),r=Vi(n.abs(),!1,e+zt(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};ke.toInteger=ke.toint=function(){var e=this,t=e.constructor;return yt(new t(e),zt(e)+1,t.rounding)};ke.toNumber=function(){return+this};ke.toPower=ke.pow=function(e){var t,r,n,i,s,o,c=this,l=c.constructor,u=12,d=+(e=new l(e));if(!e.s)return new l(Dr);if(c=new l(c),!c.s){if(e.s<1)throw Error(tn+"Infinity");return c}if(c.eq(Dr))return c;if(n=l.precision,e.eq(Dr))return yt(c,n);if(t=e.e,r=e.d.length-1,o=t>=r,s=c.s,o){if((r=d<0?-d:d)<=T_){for(i=new l(Dr),t=Math.ceil(n/_t+4),kt=!1;r%2&&(i=i.times(c),$0(i.d,t)),r=Oo(r/2),r!==0;)c=c.times(c),$0(c.d,t);return kt=!0,e.s<0?new l(Dr).div(i):yt(i,n)}}else if(s<0)throw Error(tn+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,c.s=1,kt=!1,i=e.times(Bc(c,n+u)),kt=!0,i=$_(i),i.s=s,i};ke.toPrecision=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?(r=zt(i),n=Vi(i,r<=s.toExpNeg||r>=s.toExpPos)):(Un(e,1,Ao),t===void 0?t=s.rounding:Un(t,0,8),i=yt(new s(i),e,t),r=zt(i),n=Vi(i,e<=r||r<=s.toExpNeg,e)),n};ke.toSignificantDigits=ke.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Un(e,1,Ao),t===void 0?t=n.rounding:Un(t,0,8)),yt(new n(r),e,t)};ke.toString=ke.valueOf=ke.val=ke.toJSON=ke[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=zt(e),r=e.constructor;return Vi(e,t<=r.toExpNeg||t>=r.toExpPos)};function E_(e,t){var r,n,i,s,o,c,l,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),kt?yt(t,f):t;if(l=e.d,u=t.d,o=e.e,i=t.e,l=l.slice(),s=o-i,s){for(s<0?(n=l,s=-s,c=u.length):(n=u,i=o,c=l.length),o=Math.ceil(f/_t),c=o>c?o+1:c+1,s>c&&(s=c,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(c=l.length,s=u.length,c-s<0&&(s=c,n=u,u=l,l=n),r=0;s;)r=(l[--s]=l[s]+u[s]+r)/Jt|0,l[s]%=Jt;for(r&&(l.unshift(r),++i),c=l.length;l[--c]==0;)l.pop();return t.d=l,t.e=i,kt?yt(t,f):t}function Un(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Si+e)}function En(e){var t,r,n,i=e.length-1,s="",o=e[0];if(i>0){for(s+=o,t=1;t<i;t++)n=e[t]+"",r=_t-n.length,r&&(s+=ka(r)),s+=n;o=e[t],n=o+"",r=_t-n.length,r&&(s+=ka(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var fa=function(){function e(n,i){var s,o=0,c=n.length;for(n=n.slice();c--;)s=n[c]*i+o,n[c]=s%Jt|0,o=s/Jt|0;return o&&n.unshift(o),n}function t(n,i,s,o){var c,l;if(s!=o)l=s>o?1:-1;else for(c=l=0;c<s;c++)if(n[c]!=i[c]){l=n[c]>i[c]?1:-1;break}return l}function r(n,i,s){for(var o=0;s--;)n[s]-=o,o=n[s]<i[s]?1:0,n[s]=o*Jt+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,o){var c,l,u,d,f,h,p,v,m,g,b,y,w,A,N,j,O,S,P=n.constructor,C=n.s==i.s?1:-1,_=n.d,T=i.d;if(!n.s)return new P(n);if(!i.s)throw Error(tn+"Division by zero");for(l=n.e-i.e,O=T.length,N=_.length,p=new P(C),v=p.d=[],u=0;T[u]==(_[u]||0);)++u;if(T[u]>(_[u]||0)&&--l,s==null?y=s=P.precision:o?y=s+(zt(n)-zt(i))+1:y=s,y<0)return new P(0);if(y=y/_t+2|0,u=0,O==1)for(d=0,T=T[0],y++;(u<N||d)&&y--;u++)w=d*Jt+(_[u]||0),v[u]=w/T|0,d=w%T|0;else{for(d=Jt/(T[0]+1)|0,d>1&&(T=e(T,d),_=e(_,d),O=T.length,N=_.length),A=O,m=_.slice(0,O),g=m.length;g<O;)m[g++]=0;S=T.slice(),S.unshift(0),j=T[0],T[1]>=Jt/2&&++j;do d=0,c=t(T,m,O,g),c<0?(b=m[0],O!=g&&(b=b*Jt+(m[1]||0)),d=b/j|0,d>1?(d>=Jt&&(d=Jt-1),f=e(T,d),h=f.length,g=m.length,c=t(f,m,h,g),c==1&&(d--,r(f,O<h?S:T,h))):(d==0&&(c=d=1),f=T.slice()),h=f.length,h<g&&f.unshift(0),r(m,f,g),c==-1&&(g=m.length,c=t(T,m,O,g),c<1&&(d++,r(m,O<g?S:T,g))),g=m.length):c===0&&(d++,m=[0]),v[u++]=d,c&&m[0]?m[g++]=_[A]||0:(m=[_[A]],g=1);while((A++<N||m[0]!==void 0)&&y--)}return v[0]||v.shift(),p.e=l,yt(p,o?s+zt(p)+1:s)}}();function $_(e,t){var r,n,i,s,o,c,l=0,u=0,d=e.constructor,f=d.precision;if(zt(e)>16)throw Error(Ig+zt(e));if(!e.s)return new d(Dr);for(kt=!1,c=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(oi(2,u))/Math.LN10*2+5|0,c+=n,r=i=s=new d(Dr),d.precision=c;;){if(i=yt(i.times(e),c),r=r.times(++l),o=s.plus(fa(i,r,c)),En(o.d).slice(0,c)===En(s.d).slice(0,c)){for(;u--;)s=yt(s.times(s),c);return d.precision=f,t==null?(kt=!0,yt(s,f)):s}s=o}}function zt(e){for(var t=e.e*_t,r=e.d[0];r>=10;r/=10)t++;return t}function Hh(e,t,r){if(t>e.LN10.sd())throw kt=!0,r&&(e.precision=r),Error(tn+"LN10 precision limit exceeded");return yt(new e(e.LN10),t)}function ka(e){for(var t="";e--;)t+="0";return t}function Bc(e,t){var r,n,i,s,o,c,l,u,d,f=1,h=10,p=e,v=p.d,m=p.constructor,g=m.precision;if(p.s<1)throw Error(tn+(p.s?"NaN":"-Infinity"));if(p.eq(Dr))return new m(0);if(t==null?(kt=!1,u=g):u=t,p.eq(10))return t==null&&(kt=!0),Hh(m,u);if(u+=h,m.precision=u,r=En(v),n=r.charAt(0),s=zt(p),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=En(p.d),n=r.charAt(0),f++;s=zt(p),n>1?(p=new m("0."+r),s++):p=new m(n+"."+r.slice(1))}else return l=Hh(m,u+2,g).times(s+""),p=Bc(new m(n+"."+r.slice(1)),u-h).plus(l),m.precision=g,t==null?(kt=!0,yt(p,g)):p;for(c=o=p=fa(p.minus(Dr),p.plus(Dr),u),d=yt(p.times(p),u),i=3;;){if(o=yt(o.times(d),u),l=c.plus(fa(o,new m(i),u)),En(l.d).slice(0,u)===En(c.d).slice(0,u))return c=c.times(2),s!==0&&(c=c.plus(Hh(m,u+2,g).times(s+""))),c=fa(c,new m(f),u),m.precision=g,t==null?(kt=!0,yt(c,g)):c;c=l,i+=2}}function E0(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=Oo(r/_t),e.d=[],n=(r+1)%_t,r<0&&(n+=_t),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=_t;n<i;)e.d.push(+t.slice(n,n+=_t));t=t.slice(n),n=_t-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),kt&&(e.e>od||e.e<-od))throw Error(Ig+r)}else e.s=0,e.e=0,e.d=[0];return e}function yt(e,t,r){var n,i,s,o,c,l,u,d,f=e.d;for(o=1,s=f[0];s>=10;s/=10)o++;if(n=t-o,n<0)n+=_t,i=t,u=f[d=0];else{if(d=Math.ceil((n+1)/_t),s=f.length,d>=s)return e;for(u=s=f[d],o=1;s>=10;s/=10)o++;n%=_t,i=n-_t+o}if(r!==void 0&&(s=oi(10,o-i-1),c=u/s%10|0,l=t<0||f[d+1]!==void 0||u%s,l=r<4?(c||l)&&(r==0||r==(e.s<0?3:2)):c>5||c==5&&(r==4||l||r==6&&(n>0?i>0?u/oi(10,o-i):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return l?(s=zt(e),f.length=1,t=t-s-1,f[0]=oi(10,(_t-t%_t)%_t),e.e=Oo(-t/_t)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,s=1,d--):(f.length=d+1,s=oi(10,_t-n),f[d]=i>0?(u/oi(10,o-i)%oi(10,i)|0)*s:0),l)for(;;)if(d==0){(f[0]+=s)==Jt&&(f[0]=1,++e.e);break}else{if(f[d]+=s,f[d]!=Jt)break;f[d--]=0,s=1}for(n=f.length;f[--n]===0;)f.pop();if(kt&&(e.e>od||e.e<-od))throw Error(Ig+zt(e));return e}function D_(e,t){var r,n,i,s,o,c,l,u,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),kt?yt(t,p):t;if(l=e.d,f=t.d,n=t.e,u=e.e,l=l.slice(),o=u-n,o){for(d=o<0,d?(r=l,o=-o,c=f.length):(r=f,n=u,c=l.length),i=Math.max(Math.ceil(p/_t),c)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=l.length,c=f.length,d=i<c,d&&(c=i),i=0;i<c;i++)if(l[i]!=f[i]){d=l[i]<f[i];break}o=0}for(d&&(r=l,l=f,f=r,t.s=-t.s),c=l.length,i=f.length-c;i>0;--i)l[c++]=0;for(i=f.length;i>o;){if(l[--i]<f[i]){for(s=i;s&&l[--s]===0;)l[s]=Jt-1;--l[s],l[i]+=Jt}l[i]-=f[i]}for(;l[--c]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,kt?yt(t,p):t):new h(0)}function Vi(e,t,r){var n,i=zt(e),s=En(e.d),o=s.length;return t?(r&&(n=r-o)>0?s=s.charAt(0)+"."+s.slice(1)+ka(n):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+ka(-i-1)+s,r&&(n=r-o)>0&&(s+=ka(n))):i>=o?(s+=ka(i+1-o),r&&(n=r-i-1)>0&&(s=s+"."+ka(n))):((n=i+1)<o&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(s+="."),s+=ka(n))),e.s<0?"-"+s:s}function $0(e,t){if(e.length>t)return e.length=t,!0}function I_(e){var t,r,n;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Si+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return E0(o,s.toString())}else if(typeof s!="string")throw Error(Si+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,IX.test(s))E0(o,s);else throw Error(Si+s)}if(i.prototype=ke,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=I_,i.config=i.set=MX,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function MX(e){if(!e||typeof e!="object")throw Error(tn+"Object expected");var t,r,n,i=["precision",1,Ao,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(Oo(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(Si+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Si+r+": "+n);return this}var Mg=I_(DX);Dr=new Mg(1);const vt=Mg;function RX(e){return VX(e)||BX(e)||FX(e)||LX()}function LX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FX(e,t){if(e){if(typeof e=="string")return up(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return up(e,t)}}function BX(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function VX(e){if(Array.isArray(e))return up(e)}function up(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var zX=function(t){return t},M_={},R_=function(t){return t===M_},D0=function(t){return function r(){return arguments.length===0||arguments.length===1&&R_(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},UX=function e(t,r){return t===1?r:D0(function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];var o=i.filter(function(c){return c!==M_}).length;return o>=t?r.apply(void 0,i):e(t-o,D0(function(){for(var c=arguments.length,l=new Array(c),u=0;u<c;u++)l[u]=arguments[u];var d=i.map(function(f){return R_(f)?l.shift():f});return r.apply(void 0,RX(d).concat(l))}))})},Vf=function(t){return UX(t.length,t)},dp=function(t,r){for(var n=[],i=t;i<r;++i)n[i-t]=i;return n},WX=Vf(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),HX=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return zX;var i=r.reverse(),s=i[0],o=i.slice(1);return function(){return o.reduce(function(c,l){return l(c)},s.apply(void 0,arguments))}},fp=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},L_=function(t){var r=null,n=null;return function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r&&s.every(function(c,l){return c===r[l]})||(r=s,n=t.apply(void 0,s)),n}};function qX(e){var t;return e===0?t=1:t=Math.floor(new vt(e).abs().log(10).toNumber())+1,t}function KX(e,t,r){for(var n=new vt(e),i=0,s=[];n.lt(t)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}var GX=Vf(function(e,t,r){var n=+e,i=+t;return n+r*(i-n)}),ZX=Vf(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),XX=Vf(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const zf={rangeStep:KX,getDigitCount:qX,interpolateNumber:GX,uninterpolateNumber:ZX,uninterpolateTruncation:XX};function hp(e){return QX(e)||JX(e)||F_(e)||YX()}function YX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JX(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function QX(e){if(Array.isArray(e))return mp(e)}function Vc(e,t){return rY(e)||tY(e,t)||F_(e,t)||eY()}function eY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F_(e,t){if(e){if(typeof e=="string")return mp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mp(e,t)}}function mp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tY(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,i=!1,s=void 0;try{for(var o=e[Symbol.iterator](),c;!(n=(c=o.next()).done)&&(r.push(c.value),!(t&&r.length===t));n=!0);}catch(l){i=!0,s=l}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw s}}return r}}function rY(e){if(Array.isArray(e))return e}function B_(e){var t=Vc(e,2),r=t[0],n=t[1],i=r,s=n;return r>n&&(i=n,s=r),[i,s]}function V_(e,t,r){if(e.lte(0))return new vt(0);var n=zf.getDigitCount(e.toNumber()),i=new vt(10).pow(n),s=e.div(i),o=n!==1?.05:.1,c=new vt(Math.ceil(s.div(o).toNumber())).add(r).mul(o),l=c.mul(i);return t?l:new vt(Math.ceil(l))}function nY(e,t,r){var n=1,i=new vt(e);if(!i.isint()&&r){var s=Math.abs(e);s<1?(n=new vt(10).pow(zf.getDigitCount(e)-1),i=new vt(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new vt(Math.floor(e)))}else e===0?i=new vt(Math.floor((t-1)/2)):r||(i=new vt(Math.floor(e)));var o=Math.floor((t-1)/2),c=HX(WX(function(l){return i.add(new vt(l-o).mul(n)).toNumber()}),dp);return c(0,t)}function z_(e,t,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new vt(0),tickMin:new vt(0),tickMax:new vt(0)};var s=V_(new vt(t).sub(e).div(r-1),n,i),o;e<=0&&t>=0?o=new vt(0):(o=new vt(e).add(t).div(2),o=o.sub(new vt(o).mod(s)));var c=Math.ceil(o.sub(e).div(s).toNumber()),l=Math.ceil(new vt(t).sub(o).div(s).toNumber()),u=c+l+1;return u>r?z_(e,t,r,n,i+1):(u<r&&(l=t>0?l+(r-u):l,c=t>0?c:c+(r-u)),{step:s,tickMin:o.sub(new vt(c).mul(s)),tickMax:o.add(new vt(l).mul(s))})}function aY(e){var t=Vc(e,2),r=t[0],n=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),c=B_([r,n]),l=Vc(c,2),u=l[0],d=l[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(hp(dp(0,i-1).map(function(){return 1/0}))):[].concat(hp(dp(0,i-1).map(function(){return-1/0})),[d]);return r>n?fp(f):f}if(u===d)return nY(u,i,s);var h=z_(u,d,o,s),p=h.step,v=h.tickMin,m=h.tickMax,g=zf.rangeStep(v,m.add(new vt(.1).mul(p)),p);return r>n?fp(g):g}function iY(e,t){var r=Vc(e,2),n=r[0],i=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=B_([n,i]),c=Vc(o,2),l=c[0],u=c[1];if(l===-1/0||u===1/0)return[n,i];if(l===u)return[l];var d=Math.max(t,2),f=V_(new vt(u).sub(l).div(d-1),s,0),h=[].concat(hp(zf.rangeStep(new vt(l),new vt(u).sub(new vt(.99).mul(f)),f)),[u]);return n>i?fp(h):h}var sY=L_(aY),oY=L_(iY),cY="Invariant failed";function zi(e,t){throw new Error(cY)}var lY=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Bs(e){"@babel/helpers - typeof";return Bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bs(e)}function cd(){return cd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cd.apply(this,arguments)}function uY(e,t){return mY(e)||hY(e,t)||fY(e,t)||dY()}function dY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fY(e,t){if(e){if(typeof e=="string")return I0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I0(e,t)}}function I0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function hY(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,c=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(l=(n=s.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return c}}function mY(e){if(Array.isArray(e))return e}function pY(e,t){if(e==null)return{};var r=vY(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function vY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function gY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,H_(n.key),n)}}function yY(e,t,r){return t&&xY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function bY(e,t,r){return t=ld(t),jY(e,U_()?Reflect.construct(t,r||[],ld(e).constructor):t.apply(e,r))}function jY(e,t){if(t&&(Bs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wY(e)}function wY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(U_=function(){return!!e})()}function ld(e){return ld=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ld(e)}function NY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pp(e,t)}function pp(e,t){return pp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},pp(e,t)}function W_(e,t,r){return t=H_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H_(e){var t=SY(e,"string");return Bs(t)=="symbol"?t:t+""}function SY(e,t){if(Bs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Sl=function(e){function t(){return gY(this,t),bY(this,t,arguments)}return NY(t,e),yY(t,[{key:"render",value:function(){var n=this.props,i=n.offset,s=n.layout,o=n.width,c=n.dataKey,l=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=pY(n,lY),p=Re(h,!1);this.props.direction==="x"&&d.type!=="number"&&zi();var v=l.map(function(m){var g=u(m,c),b=g.x,y=g.y,w=g.value,A=g.errorVal;if(!A)return null;var N=[],j,O;if(Array.isArray(A)){var S=uY(A,2);j=S[0],O=S[1]}else j=O=A;if(s==="vertical"){var P=d.scale,C=y+i,_=C+o,T=C-o,D=P(w-j),$=P(w+O);N.push({x1:$,y1:_,x2:$,y2:T}),N.push({x1:D,y1:C,x2:$,y2:C}),N.push({x1:D,y1:_,x2:D,y2:T})}else if(s==="horizontal"){var k=f.scale,M=b+i,E=M-o,U=M+o,R=k(w-j),X=k(w+O);N.push({x1:E,y1:X,x2:U,y2:X}),N.push({x1:M,y1:R,x2:M,y2:X}),N.push({x1:E,y1:R,x2:U,y2:R})}return I.createElement(tt,cd({className:"recharts-errorBar",key:"bar-".concat(N.map(function(F){return"".concat(F.x1,"-").concat(F.x2,"-").concat(F.y1,"-").concat(F.y2)}))},p),N.map(function(F){return I.createElement("line",cd({},F,{key:"line-".concat(F.x1,"-").concat(F.x2,"-").concat(F.y1,"-").concat(F.y2)}))}))});return I.createElement(tt,{className:"recharts-errorBars"},v)}}])}(I.Component);W_(Sl,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});W_(Sl,"displayName","ErrorBar");function zc(e){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zc(e)}function M0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ri(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M0(Object(r),!0).forEach(function(n){AY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AY(e,t,r){return t=OY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OY(e){var t=_Y(e,"string");return zc(t)=="symbol"?t:t+""}function _Y(e,t){if(zc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var q_=function(t){var r=t.children,n=t.formattedGraphicalItems,i=t.legendWidth,s=t.legendContent,o=Er(r,wi);if(!o)return null;var c=wi.defaultProps,l=c!==void 0?ri(ri({},c),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:s==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,p=f.props,v=p.sectors||p.data||[];return d.concat(v.map(function(m){return{type:o.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?ri(ri({},h),f.props):{},v=p.dataKey,m=p.name,g=p.legendType,b=p.hide;return{inactive:b,dataKey:v,type:l.iconType||g||"square",color:Rg(f),value:m||v,payload:p}}),ri(ri(ri({},l),wi.getWithHeight(o,i)),{},{payload:u,item:o})};function Uc(e){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uc(e)}function R0(e){return TY(e)||CY(e)||kY(e)||PY()}function PY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kY(e,t){if(e){if(typeof e=="string")return vp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vp(e,t)}}function CY(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function TY(e){if(Array.isArray(e))return vp(e)}function vp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function L0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Tt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L0(Object(r),!0).forEach(function(n){_s(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _s(e,t,r){return t=EY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EY(e){var t=$Y(e,"string");return Uc(t)=="symbol"?t:t+""}function $Y(e,t){if(Uc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Uc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dt(e,t,r){return qe(e)||qe(t)?r:Zt(t)?Lr(e,t,r):Ue(t)?t(e):r}function nc(e,t,r,n){var i=CX(e,function(c){return Dt(c,t)});if(r==="number"){var s=i.filter(function(c){return pe(c)||parseFloat(c)});return s.length?[Bf(s),Da(s)]:[1/0,-1/0]}var o=n?i.filter(function(c){return!qe(c)}):i;return o.map(function(c){return Zt(c)||c instanceof Date?c:""})}var DY=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,c=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(c<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var l=s.range,u=0;u<c;u++){var d=u>0?i[u-1].coordinate:i[c-1].coordinate,f=i[u].coordinate,h=u>=c-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(gr(f-d)!==gr(h-f)){var v=[];if(gr(h-f)===gr(l[1]-l[0])){p=h;var m=f+l[1]-l[0];v[0]=Math.min(m,(m+d)/2),v[1]=Math.max(m,(m+d)/2)}else{p=d;var g=h+l[1]-l[0];v[0]=Math.min(f,(g+f)/2),v[1]=Math.max(f,(g+f)/2)}var b=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>b[0]&&t<=b[1]||t>=v[0]&&t<=v[1]){o=i[u].index;break}}else{var y=Math.min(d,h),w=Math.max(d,h);if(t>(y+f)/2&&t<=(w+f)/2){o=i[u].index;break}}}else for(var A=0;A<c;A++)if(A===0&&t<=(n[A].coordinate+n[A+1].coordinate)/2||A>0&&A<c-1&&t>(n[A].coordinate+n[A-1].coordinate)/2&&t<=(n[A].coordinate+n[A+1].coordinate)/2||A===c-1&&t>(n[A].coordinate+n[A-1].coordinate)/2){o=n[A].index;break}return o},Rg=function(t){var r,n=t,i=n.type.displayName,s=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Tt(Tt({},t.type.defaultProps),t.props):t.props,o=s.stroke,c=s.fill,l;switch(i){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:c;break;default:l=c;break}return l},IY=function(t){var r=t.barSize,n=t.totalSize,i=t.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var o={},c=Object.keys(s),l=0,u=c.length;l<u;l++)for(var d=s[c[l]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var v=d[f[h]],m=v.items,g=v.cateAxisId,b=m.filter(function(O){return da(O.type).indexOf("Bar")>=0});if(b&&b.length){var y=b[0].type.defaultProps,w=y!==void 0?Tt(Tt({},y),b[0].props):b[0].props,A=w.barSize,N=w[g];o[N]||(o[N]=[]);var j=qe(A)?r:A;o[N].push({item:b[0],stackList:b.slice(1),barSize:qe(j)?void 0:xr(j,n,0)})}}return o},MY=function(t){var r=t.barGap,n=t.barCategoryGap,i=t.bandSize,s=t.sizeList,o=s===void 0?[]:s,c=t.maxBarSize,l=o.length;if(l<1)return null;var u=xr(r,i,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=i/l,v=o.reduce(function(A,N){return A+N.barSize||0},0);v+=(l-1)*u,v>=i&&(v-=(l-1)*u,u=0),v>=i&&p>0&&(h=!0,p*=.9,v=l*p);var m=(i-v)/2>>0,g={offset:m-u,size:0};d=o.reduce(function(A,N){var j={item:N.item,position:{offset:g.offset+g.size+u,size:h?p:N.barSize}},O=[].concat(R0(A),[j]);return g=O[O.length-1].position,N.stackList&&N.stackList.length&&N.stackList.forEach(function(S){O.push({item:S,position:g})}),O},f)}else{var b=xr(n,i,0,!0);i-2*b-(l-1)*u<=0&&(u=0);var y=(i-2*b-(l-1)*u)/l;y>1&&(y>>=0);var w=c===+c?Math.min(y,c):y;d=o.reduce(function(A,N,j){var O=[].concat(R0(A),[{item:N.item,position:{offset:b+(y+u)*j+(y-w)/2,size:w}}]);return N.stackList&&N.stackList.length&&N.stackList.forEach(function(S){O.push({item:S,position:O[O.length-1].position})}),O},f)}return d},RY=function(t,r,n,i){var s=n.children,o=n.width,c=n.margin,l=o-(c.left||0)-(c.right||0),u=q_({children:s,legendWidth:l});if(u){var d=i||{},f=d.width,h=d.height,p=u.align,v=u.verticalAlign,m=u.layout;if((m==="vertical"||m==="horizontal"&&v==="middle")&&p!=="center"&&pe(t[p]))return Tt(Tt({},t),{},_s({},p,t[p]+(f||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&v!=="middle"&&pe(t[v]))return Tt(Tt({},t),{},_s({},v,t[v]+(h||0)))}return t},LY=function(t,r,n){return qe(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},K_=function(t,r,n,i,s){var o=r.props.children,c=Fr(o,Sl).filter(function(u){return LY(i,s,u.props.direction)});if(c&&c.length){var l=c.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=Dt(d,n);if(qe(f))return u;var h=Array.isArray(f)?[Bf(f),Da(f)]:[f,f],p=l.reduce(function(v,m){var g=Dt(d,m,0),b=h[0]-Math.abs(Array.isArray(g)?g[0]:g),y=h[1]+Math.abs(Array.isArray(g)?g[1]:g);return[Math.min(b,v[0]),Math.max(y,v[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},FY=function(t,r,n,i,s){var o=r.map(function(c){return K_(t,c,n,s,i)}).filter(function(c){return!qe(c)});return o&&o.length?o.reduce(function(c,l){return[Math.min(c[0],l[0]),Math.max(c[1],l[1])]},[1/0,-1/0]):null},G_=function(t,r,n,i,s){var o=r.map(function(l){var u=l.props.dataKey;return n==="number"&&u&&K_(t,l,u,i)||nc(t,u,n,s)});if(n==="number")return o.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var c={};return o.reduce(function(l,u){for(var d=0,f=u.length;d<f;d++)c[u[d]]||(c[u[d]]=!0,l.push(u[d]));return l},[])},Z_=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},X_=function(t,r,n,i){if(i)return t.map(function(l){return l.coordinate});var s,o,c=t.map(function(l){return l.coordinate===r&&(s=!0),l.coordinate===n&&(o=!0),l.coordinate});return s||c.push(r),o||c.push(n),c},oa=function(t,r,n){if(!t)return null;var i=t.scale,s=t.duplicateDomain,o=t.type,c=t.range,l=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=t.axisType==="angleAxis"&&(c==null?void 0:c.length)>=2?gr(c[0]-c[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=s?s.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return d.filter(function(f){return!bo(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!n?i.ticks(t.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:s?s[f]:f,index:h,offset:u}})},qh=new WeakMap,Wl=function(t,r){if(typeof r!="function")return t;qh.has(t)||qh.set(t,new WeakMap);var n=qh.get(t);if(n.has(r))return n.get(r);var i=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},Y_=function(t,r,n){var i=t.scale,s=t.type,o=t.layout,c=t.axisType;if(i==="auto")return o==="radial"&&c==="radiusAxis"?{scale:Ic(),realScaleType:"band"}:o==="radial"&&c==="angleAxis"?{scale:nd(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:rc(),realScaleType:"point"}:s==="category"?{scale:Ic(),realScaleType:"band"}:{scale:nd(),realScaleType:"linear"};if(Ri(i)){var l="scale".concat(Of(i));return{scale:(T0[l]||rc)(),realScaleType:T0[l]?l:"point"}}return Ue(i)?{scale:i}:{scale:rc(),realScaleType:"point"}},F0=1e-4,J_=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,i=t.range(),s=Math.min(i[0],i[1])-F0,o=Math.max(i[0],i[1])+F0,c=t(r[0]),l=t(r[n-1]);(c<s||c>o||l<s||l>o)&&t.domain([r[0],r[n-1]])}},BY=function(t,r){if(!t)return null;for(var n=0,i=t.length;n<i;n++)if(t[n].item===r)return t[n].position;return null},VY=function(t,r){if(!r||r.length!==2||!pe(r[0])||!pe(r[1]))return t;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),s=[t[0],t[1]];return(!pe(t[0])||t[0]<n)&&(s[0]=n),(!pe(t[1])||t[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<n&&(s[1]=n),s},zY=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var s=0,o=0,c=0;c<r;++c){var l=bo(t[c][n][1])?t[c][n][0]:t[c][n][1];l>=0?(t[c][n][0]=s,t[c][n][1]=s+l,s=t[c][n][1]):(t[c][n][0]=o,t[c][n][1]=o+l,o=t[c][n][1])}},UY=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var s=0,o=0;o<r;++o){var c=bo(t[o][n][1])?t[o][n][0]:t[o][n][1];c>=0?(t[o][n][0]=s,t[o][n][1]=s+c,s=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},WY={sign:zY,expand:l8,none:Es,silhouette:u8,wiggle:d8,positive:UY},HY=function(t,r,n){var i=r.map(function(c){return c.props.dataKey}),s=WY[n],o=c8().keys(i).value(function(c,l){return+Dt(c,l,0)}).order(Vm).offset(s);return o(t)},qY=function(t,r,n,i,s,o){if(!t)return null;var c=o?r.reverse():r,l={},u=c.reduce(function(f,h){var p,v=(p=h.type)!==null&&p!==void 0&&p.defaultProps?Tt(Tt({},h.type.defaultProps),h.props):h.props,m=v.stackId,g=v.hide;if(g)return f;var b=v[n],y=f[b]||{hasStack:!1,stackGroups:{}};if(Zt(m)){var w=y.stackGroups[m]||{numericAxisId:n,cateAxisId:i,items:[]};w.items.push(h),y.hasStack=!0,y.stackGroups[m]=w}else y.stackGroups[Gi("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[h]};return Tt(Tt({},f),{},_s({},b,y))},l),d={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var v={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,g){var b=p.stackGroups[g];return Tt(Tt({},m),{},_s({},g,{numericAxisId:n,cateAxisId:i,items:b.items,stackedData:HY(t,b.items,s)}))},v)}return Tt(Tt({},f),{},_s({},h,p))},d)},Q_=function(t,r){var n=r.realScaleType,i=r.type,s=r.tickCount,o=r.originalDomain,c=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(s&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=sY(u,s,c);return t.domain([Bf(d),Da(d)]),{niceTicks:d}}if(s&&i==="number"){var f=t.domain(),h=oY(f,s,c);return{niceTicks:h}}return null};function ud(e){var t=e.axis,r=e.ticks,n=e.bandSize,i=e.entry,s=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!qe(i[t.dataKey])){var c=Mu(r,"value",i[t.dataKey]);if(c)return c.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var l=Dt(i,qe(o)?t.dataKey:o);return qe(l)?null:t.scale(l)}var B0=function(t){var r=t.axis,n=t.ticks,i=t.offset,s=t.bandSize,o=t.entry,c=t.index;if(r.type==="category")return n[c]?n[c].coordinate+i:null;var l=Dt(o,r.dataKey,r.domain[c]);return qe(l)?null:r.scale(l)-s/2+i},KY=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return i<=0&&s>=0?0:s<0?s:i}return n[0]},GY=function(t,r){var n,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Tt(Tt({},t.type.defaultProps),t.props):t.props,s=i.stackId;if(Zt(s)){var o=r[s];if(o){var c=o.items.indexOf(t);return c>=0?o.stackedData[c]:null}}return null},ZY=function(t){return t.reduce(function(r,n){return[Bf(n.concat([r[0]]).filter(pe)),Da(n.concat([r[1]]).filter(pe))]},[1/0,-1/0])},eP=function(t,r,n){return Object.keys(t).reduce(function(i,s){var o=t[s],c=o.stackedData,l=c.reduce(function(u,d){var f=ZY(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},V0=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,z0=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,gp=function(t,r,n){if(Ue(t))return t(r,n);if(!Array.isArray(t))return r;var i=[];if(pe(t[0]))i[0]=n?t[0]:Math.min(t[0],r[0]);else if(V0.test(t[0])){var s=+V0.exec(t[0])[1];i[0]=r[0]-s}else Ue(t[0])?i[0]=t[0](r[0]):i[0]=r[0];if(pe(t[1]))i[1]=n?t[1]:Math.max(t[1],r[1]);else if(z0.test(t[1])){var o=+z0.exec(t[1])[1];i[1]=r[1]+o}else Ue(t[1])?i[1]=t[1](r[1]):i[1]=r[1];return i},dd=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!n||i>0)return i}if(t&&r&&r.length>=2){for(var s=dg(r,function(f){return f.coordinate}),o=1/0,c=1,l=s.length;c<l;c++){var u=s[c],d=s[c-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},U0=function(t,r,n){return!t||!t.length||Bi(t,Lr(n,"type.defaultProps.domain"))?r:t},tP=function(t,r){var n=t.type.defaultProps?Tt(Tt({},t.type.defaultProps),t.props):t.props,i=n.dataKey,s=n.name,o=n.unit,c=n.formatter,l=n.tooltipType,u=n.chartType,d=n.hide;return Tt(Tt({},Re(t,!1)),{},{dataKey:i,unit:o,formatter:c,name:s||i,color:Rg(t),value:Dt(r,i),type:l,payload:r,chartType:u,hide:d})};function Wc(e){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wc(e)}function W0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ta(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W0(Object(r),!0).forEach(function(n){rP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rP(e,t,r){return t=XY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XY(e){var t=YY(e,"string");return Wc(t)=="symbol"?t:t+""}function YY(e,t){if(Wc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JY(e,t){return rJ(e)||tJ(e,t)||eJ(e,t)||QY()}function QY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eJ(e,t){if(e){if(typeof e=="string")return H0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return H0(e,t)}}function H0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tJ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,c=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(l=(n=s.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return c}}function rJ(e){if(Array.isArray(e))return e}var fd=Math.PI/180,nJ=function(t){return t*180/Math.PI},Nt=function(t,r,n,i){return{x:t+Math.cos(-fd*i)*n,y:r+Math.sin(-fd*i)*n}},nP=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},aJ=function(t,r,n,i,s){var o=t.width,c=t.height,l=t.startAngle,u=t.endAngle,d=xr(t.cx,o,o/2),f=xr(t.cy,c,c/2),h=nP(o,c,n),p=xr(t.innerRadius,h,0),v=xr(t.outerRadius,h,h*.8),m=Object.keys(r);return m.reduce(function(g,b){var y=r[b],w=y.domain,A=y.reversed,N;if(qe(y.range))i==="angleAxis"?N=[l,u]:i==="radiusAxis"&&(N=[p,v]),A&&(N=[N[1],N[0]]);else{N=y.range;var j=N,O=JY(j,2);l=O[0],u=O[1]}var S=Y_(y,s),P=S.realScaleType,C=S.scale;C.domain(w).range(N),J_(C);var _=Q_(C,ta(ta({},y),{},{realScaleType:P})),T=ta(ta(ta({},y),_),{},{range:N,radius:v,realScaleType:P,scale:C,cx:d,cy:f,innerRadius:p,outerRadius:v,startAngle:l,endAngle:u});return ta(ta({},g),{},rP({},b,T))},{})},iJ=function(t,r){var n=t.x,i=t.y,s=r.x,o=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(i-o,2))},sJ=function(t,r){var n=t.x,i=t.y,s=r.cx,o=r.cy,c=iJ({x:n,y:i},{x:s,y:o});if(c<=0)return{radius:c};var l=(n-s)/c,u=Math.acos(l);return i>o&&(u=2*Math.PI-u),{radius:c,angle:nJ(u),angleInRadian:u}},oJ=function(t){var r=t.startAngle,n=t.endAngle,i=Math.floor(r/360),s=Math.floor(n/360),o=Math.min(i,s);return{startAngle:r-o*360,endAngle:n-o*360}},cJ=function(t,r){var n=r.startAngle,i=r.endAngle,s=Math.floor(n/360),o=Math.floor(i/360),c=Math.min(s,o);return t+c*360},q0=function(t,r){var n=t.x,i=t.y,s=sJ({x:n,y:i},r),o=s.radius,c=s.angle,l=r.innerRadius,u=r.outerRadius;if(o<l||o>u)return!1;if(o===0)return!0;var d=oJ(r),f=d.startAngle,h=d.endAngle,p=c,v;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;v=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;v=p>=h&&p<=f}return v?ta(ta({},r),{},{radius:o,angle:cJ(p,r)}):null},aP=function(t){return!x.isValidElement(t)&&!Ue(t)&&typeof t!="boolean"?t.className:""};function Hc(e){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hc(e)}var lJ=["offset"];function uJ(e){return mJ(e)||hJ(e)||fJ(e)||dJ()}function dJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fJ(e,t){if(e){if(typeof e=="string")return xp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xp(e,t)}}function hJ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function mJ(e){if(Array.isArray(e))return xp(e)}function xp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function pJ(e,t){if(e==null)return{};var r=vJ(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function vJ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function K0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ht(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K0(Object(r),!0).forEach(function(n){gJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gJ(e,t,r){return t=xJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xJ(e){var t=yJ(e,"string");return Hc(t)=="symbol"?t:t+""}function yJ(e,t){if(Hc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qc(){return qc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qc.apply(this,arguments)}var bJ=function(t){var r=t.value,n=t.formatter,i=qe(t.children)?r:t.children;return Ue(n)?n(i):i},jJ=function(t,r){var n=gr(r-t),i=Math.min(Math.abs(r-t),360);return n*i},wJ=function(t,r,n){var i=t.position,s=t.viewBox,o=t.offset,c=t.className,l=s,u=l.cx,d=l.cy,f=l.innerRadius,h=l.outerRadius,p=l.startAngle,v=l.endAngle,m=l.clockWise,g=(f+h)/2,b=jJ(p,v),y=b>=0?1:-1,w,A;i==="insideStart"?(w=p+y*o,A=m):i==="insideEnd"?(w=v-y*o,A=!m):i==="end"&&(w=v+y*o,A=m),A=b<=0?A:!A;var N=Nt(u,d,g,w),j=Nt(u,d,g,w+(A?1:-1)*359),O="M".concat(N.x,",").concat(N.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(A?0:1,`,
    `).concat(j.x,",").concat(j.y),S=qe(t.id)?Gi("recharts-radial-line-"):t.id;return I.createElement("text",qc({},n,{dominantBaseline:"central",className:Ke("recharts-radial-bar-label",c)}),I.createElement("defs",null,I.createElement("path",{id:S,d:O})),I.createElement("textPath",{xlinkHref:"#".concat(S)},r))},NJ=function(t){var r=t.viewBox,n=t.offset,i=t.position,s=r,o=s.cx,c=s.cy,l=s.innerRadius,u=s.outerRadius,d=s.startAngle,f=s.endAngle,h=(d+f)/2;if(i==="outside"){var p=Nt(o,c,u+n,h),v=p.x,m=p.y;return{x:v,y:m,textAnchor:v>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:c,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:c,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:c,textAnchor:"middle",verticalAnchor:"end"};var g=(l+u)/2,b=Nt(o,c,g,h),y=b.x,w=b.y;return{x:y,y:w,textAnchor:"middle",verticalAnchor:"middle"}},SJ=function(t){var r=t.viewBox,n=t.parentViewBox,i=t.offset,s=t.position,o=r,c=o.x,l=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*i,p=f>0?"end":"start",v=f>0?"start":"end",m=u>=0?1:-1,g=m*i,b=m>0?"end":"start",y=m>0?"start":"end";if(s==="top"){var w={x:c+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:p};return Ht(Ht({},w),n?{height:Math.max(l-n.y,0),width:u}:{})}if(s==="bottom"){var A={x:c+u/2,y:l+d+h,textAnchor:"middle",verticalAnchor:v};return Ht(Ht({},A),n?{height:Math.max(n.y+n.height-(l+d),0),width:u}:{})}if(s==="left"){var N={x:c-g,y:l+d/2,textAnchor:b,verticalAnchor:"middle"};return Ht(Ht({},N),n?{width:Math.max(N.x-n.x,0),height:d}:{})}if(s==="right"){var j={x:c+u+g,y:l+d/2,textAnchor:y,verticalAnchor:"middle"};return Ht(Ht({},j),n?{width:Math.max(n.x+n.width-j.x,0),height:d}:{})}var O=n?{width:u,height:d}:{};return s==="insideLeft"?Ht({x:c+g,y:l+d/2,textAnchor:y,verticalAnchor:"middle"},O):s==="insideRight"?Ht({x:c+u-g,y:l+d/2,textAnchor:b,verticalAnchor:"middle"},O):s==="insideTop"?Ht({x:c+u/2,y:l+h,textAnchor:"middle",verticalAnchor:v},O):s==="insideBottom"?Ht({x:c+u/2,y:l+d-h,textAnchor:"middle",verticalAnchor:p},O):s==="insideTopLeft"?Ht({x:c+g,y:l+h,textAnchor:y,verticalAnchor:v},O):s==="insideTopRight"?Ht({x:c+u-g,y:l+h,textAnchor:b,verticalAnchor:v},O):s==="insideBottomLeft"?Ht({x:c+g,y:l+d-h,textAnchor:y,verticalAnchor:p},O):s==="insideBottomRight"?Ht({x:c+u-g,y:l+d-h,textAnchor:b,verticalAnchor:p},O):vo(s)&&(pe(s.x)||hi(s.x))&&(pe(s.y)||hi(s.y))?Ht({x:c+xr(s.x,u),y:l+xr(s.y,d),textAnchor:"end",verticalAnchor:"end"},O):Ht({x:c+u/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},O)},AJ=function(t){return"cx"in t&&pe(t.cx)};function er(e){var t=e.offset,r=t===void 0?5:t,n=pJ(e,lJ),i=Ht({offset:r},n),s=i.viewBox,o=i.position,c=i.value,l=i.children,u=i.content,d=i.className,f=d===void 0?"":d,h=i.textBreakAll;if(!s||qe(c)&&qe(l)&&!x.isValidElement(u)&&!Ue(u))return null;if(x.isValidElement(u))return x.cloneElement(u,i);var p;if(Ue(u)){if(p=x.createElement(u,i),x.isValidElement(p))return p}else p=bJ(i);var v=AJ(s),m=Re(i,!0);if(v&&(o==="insideStart"||o==="insideEnd"||o==="end"))return wJ(i,p,m);var g=v?NJ(i):SJ(i);return I.createElement(Fi,qc({className:Ke("recharts-label",f)},m,g,{breakAll:h}),p)}er.displayName="Label";var iP=function(t){var r=t.cx,n=t.cy,i=t.angle,s=t.startAngle,o=t.endAngle,c=t.r,l=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,p=t.top,v=t.left,m=t.width,g=t.height,b=t.clockWise,y=t.labelViewBox;if(y)return y;if(pe(m)&&pe(g)){if(pe(f)&&pe(h))return{x:f,y:h,width:m,height:g};if(pe(p)&&pe(v))return{x:p,y:v,width:m,height:g}}return pe(f)&&pe(h)?{x:f,y:h,width:0,height:0}:pe(r)&&pe(n)?{cx:r,cy:n,startAngle:s||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:d||l||c||0,clockWise:b}:t.viewBox?t.viewBox:{}},OJ=function(t,r){return t?t===!0?I.createElement(er,{key:"label-implicit",viewBox:r}):Zt(t)?I.createElement(er,{key:"label-implicit",viewBox:r,value:t}):x.isValidElement(t)?t.type===er?x.cloneElement(t,{key:"label-implicit",viewBox:r}):I.createElement(er,{key:"label-implicit",content:t,viewBox:r}):Ue(t)?I.createElement(er,{key:"label-implicit",content:t,viewBox:r}):vo(t)?I.createElement(er,qc({viewBox:r},t,{key:"label-implicit"})):null:null},_J=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var i=t.children,s=iP(t),o=Fr(i,er).map(function(l,u){return x.cloneElement(l,{viewBox:r||s,key:"label-".concat(u)})});if(!n)return o;var c=OJ(t.label,r||s);return[c].concat(uJ(o))};er.parseViewBox=iP;er.renderCallByParent=_J;function PJ(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var kJ=PJ;const CJ=gt(kJ);function Kc(e){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kc(e)}var TJ=["valueAccessor"],EJ=["data","dataKey","clockWise","id","textBreakAll"];function $J(e){return RJ(e)||MJ(e)||IJ(e)||DJ()}function DJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IJ(e,t){if(e){if(typeof e=="string")return yp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yp(e,t)}}function MJ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function RJ(e){if(Array.isArray(e))return yp(e)}function yp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function hd(){return hd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hd.apply(this,arguments)}function G0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Z0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G0(Object(r),!0).forEach(function(n){LJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LJ(e,t,r){return t=FJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FJ(e){var t=BJ(e,"string");return Kc(t)=="symbol"?t:t+""}function BJ(e,t){if(Kc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function X0(e,t){if(e==null)return{};var r=VJ(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function VJ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var zJ=function(t){return Array.isArray(t.value)?CJ(t.value):t.value};function Rn(e){var t=e.valueAccessor,r=t===void 0?zJ:t,n=X0(e,TJ),i=n.data,s=n.dataKey,o=n.clockWise,c=n.id,l=n.textBreakAll,u=X0(n,EJ);return!i||!i.length?null:I.createElement(tt,{className:"recharts-label-list"},i.map(function(d,f){var h=qe(s)?r(d,f):Dt(d&&d.payload,s),p=qe(c)?{}:{id:"".concat(c,"-").concat(f)};return I.createElement(er,hd({},Re(d,!0),u,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:l,viewBox:er.parseViewBox(qe(o)?d:Z0(Z0({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Rn.displayName="LabelList";function UJ(e,t){return e?e===!0?I.createElement(Rn,{key:"labelList-implicit",data:t}):I.isValidElement(e)||Ue(e)?I.createElement(Rn,{key:"labelList-implicit",data:t,content:e}):vo(e)?I.createElement(Rn,hd({data:t},e,{key:"labelList-implicit"})):null:null}function WJ(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,i=Fr(n,Rn).map(function(o,c){return x.cloneElement(o,{data:t,key:"labelList-".concat(c)})});if(!r)return i;var s=UJ(e.label,t);return[s].concat($J(i))}Rn.renderCallByParent=WJ;function Gc(e){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gc(e)}function bp(){return bp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bp.apply(this,arguments)}function Y0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function J0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Y0(Object(r),!0).forEach(function(n){HJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HJ(e,t,r){return t=qJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qJ(e){var t=KJ(e,"string");return Gc(t)=="symbol"?t:t+""}function KJ(e,t){if(Gc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var GJ=function(t,r){var n=gr(r-t),i=Math.min(Math.abs(r-t),359.999);return n*i},Hl=function(t){var r=t.cx,n=t.cy,i=t.radius,s=t.angle,o=t.sign,c=t.isExternal,l=t.cornerRadius,u=t.cornerIsExternal,d=l*(c?1:-1)+i,f=Math.asin(l/d)/fd,h=u?s:s+o*f,p=Nt(r,n,d,h),v=Nt(r,n,i,h),m=u?s-o*f:s,g=Nt(r,n,d*Math.cos(f*fd),m);return{center:p,circleTangency:v,lineTangency:g,theta:f}},sP=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,s=t.outerRadius,o=t.startAngle,c=t.endAngle,l=GJ(o,c),u=o+l,d=Nt(r,n,s,o),f=Nt(r,n,s,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=Nt(r,n,i,o),v=Nt(r,n,i,u);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},ZJ=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,s=t.outerRadius,o=t.cornerRadius,c=t.forceCornerRadius,l=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=gr(d-u),h=Hl({cx:r,cy:n,radius:s,angle:u,sign:f,cornerRadius:o,cornerIsExternal:l}),p=h.circleTangency,v=h.lineTangency,m=h.theta,g=Hl({cx:r,cy:n,radius:s,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:l}),b=g.circleTangency,y=g.lineTangency,w=g.theta,A=l?Math.abs(u-d):Math.abs(u-d)-m-w;if(A<0)return c?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):sP({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:u,endAngle:d});var N="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(A>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
  `);if(i>0){var j=Hl({cx:r,cy:n,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),O=j.circleTangency,S=j.lineTangency,P=j.theta,C=Hl({cx:r,cy:n,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),_=C.circleTangency,T=C.lineTangency,D=C.theta,$=l?Math.abs(u-d):Math.abs(u-d)-P-D;if($<0&&o===0)return"".concat(N,"L").concat(r,",").concat(n,"Z");N+="L".concat(T.x,",").concat(T.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(_.x,",").concat(_.y,`
      A`).concat(i,",").concat(i,",0,").concat(+($>180),",").concat(+(f>0),",").concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(S.x,",").concat(S.y,"Z")}else N+="L".concat(r,",").concat(n,"Z");return N},XJ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},oP=function(t){var r=J0(J0({},XJ),t),n=r.cx,i=r.cy,s=r.innerRadius,o=r.outerRadius,c=r.cornerRadius,l=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<s||d===f)return null;var p=Ke("recharts-sector",h),v=o-s,m=xr(c,v,0,!0),g;return m>0&&Math.abs(d-f)<360?g=ZJ({cx:n,cy:i,innerRadius:s,outerRadius:o,cornerRadius:Math.min(m,v/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f}):g=sP({cx:n,cy:i,innerRadius:s,outerRadius:o,startAngle:d,endAngle:f}),I.createElement("path",bp({},Re(r,!0),{className:p,d:g,role:"img"}))};function Zc(e){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zc(e)}function jp(){return jp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jp.apply(this,arguments)}function Q0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ej(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q0(Object(r),!0).forEach(function(n){YJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YJ(e,t,r){return t=JJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JJ(e){var t=QJ(e,"string");return Zc(t)=="symbol"?t:t+""}function QJ(e,t){if(Zc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tj={curveBasisClosed:YB,curveBasisOpen:JB,curveBasis:XB,curveBumpX:MB,curveBumpY:RB,curveLinearClosed:QB,curveLinear:Pf,curveMonotoneX:e8,curveMonotoneY:t8,curveNatural:r8,curveStep:n8,curveStepAfter:i8,curveStepBefore:a8},ql=function(t){return t.x===+t.x&&t.y===+t.y},Uo=function(t){return t.x},Wo=function(t){return t.y},eQ=function(t,r){if(Ue(t))return t;var n="curve".concat(Of(t));return(n==="curveMonotone"||n==="curveBump")&&r?tj["".concat(n).concat(r==="vertical"?"Y":"X")]:tj[n]||Pf},tQ=function(t){var r=t.type,n=r===void 0?"linear":r,i=t.points,s=i===void 0?[]:i,o=t.baseLine,c=t.layout,l=t.connectNulls,u=l===void 0?!1:l,d=eQ(n,c),f=u?s.filter(function(m){return ql(m)}):s,h;if(Array.isArray(o)){var p=u?o.filter(function(m){return ql(m)}):o,v=f.map(function(m,g){return ej(ej({},m),{},{base:p[g]})});return c==="vertical"?h=Ml().y(Wo).x1(Uo).x0(function(m){return m.base.x}):h=Ml().x(Uo).y1(Wo).y0(function(m){return m.base.y}),h.defined(ql).curve(d),h(v)}return c==="vertical"&&pe(o)?h=Ml().y(Wo).x1(Uo).x0(o):pe(o)?h=Ml().x(Uo).y1(Wo).y0(o):h=tO().x(Uo).y(Wo),h.defined(ql).curve(d),h(f)},Ai=function(t){var r=t.className,n=t.points,i=t.path,s=t.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?tQ(t):i;return x.createElement("path",jp({},Re(t,!1),Ru(t),{className:Ke("recharts-curve",r),d:o,ref:s}))},cP={exports:{}},rQ="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",nQ=rQ,aQ=nQ;function lP(){}function uP(){}uP.resetWarningCache=lP;var iQ=function(){function e(n,i,s,o,c,l){if(l!==aQ){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:uP,resetWarningCache:lP};return r.PropTypes=r,r};cP.exports=iQ();var sQ=cP.exports;const ft=gt(sQ);var oQ=Object.getOwnPropertyNames,cQ=Object.getOwnPropertySymbols,lQ=Object.prototype.hasOwnProperty;function rj(e,t){return function(n,i,s){return e(n,i,s)&&t(n,i,s)}}function Kl(e){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,i);var s=i.cache,o=s.get(r),c=s.get(n);if(o&&c)return o===n&&c===r;s.set(r,n),s.set(n,r);var l=e(r,n,i);return s.delete(r),s.delete(n),l}}function nj(e){return oQ(e).concat(cQ(e))}var uQ=Object.hasOwn||function(e,t){return lQ.call(e,t)};function Yi(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var dQ="__v",fQ="__o",hQ="_owner",aj=Object.getOwnPropertyDescriptor,ij=Object.keys;function mQ(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function pQ(e,t){return Yi(e.getTime(),t.getTime())}function vQ(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function gQ(e,t){return e===t}function sj(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var i=new Array(n),s=e.entries(),o,c,l=0;(o=s.next())&&!o.done;){for(var u=t.entries(),d=!1,f=0;(c=u.next())&&!c.done;){if(i[f]){f++;continue}var h=o.value,p=c.value;if(r.equals(h[0],p[0],l,f,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){d=i[f]=!0;break}f++}if(!d)return!1;l++}return!0}var xQ=Yi;function yQ(e,t,r){var n=ij(e),i=n.length;if(ij(t).length!==i)return!1;for(;i-- >0;)if(!dP(e,t,r,n[i]))return!1;return!0}function Ho(e,t,r){var n=nj(e),i=n.length;if(nj(t).length!==i)return!1;for(var s,o,c;i-- >0;)if(s=n[i],!dP(e,t,r,s)||(o=aj(e,s),c=aj(t,s),(o||c)&&(!o||!c||o.configurable!==c.configurable||o.enumerable!==c.enumerable||o.writable!==c.writable)))return!1;return!0}function bQ(e,t){return Yi(e.valueOf(),t.valueOf())}function jQ(e,t){return e.source===t.source&&e.flags===t.flags}function oj(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var i=new Array(n),s=e.values(),o,c;(o=s.next())&&!o.done;){for(var l=t.values(),u=!1,d=0;(c=l.next())&&!c.done;){if(!i[d]&&r.equals(o.value,c.value,o.value,c.value,e,t,r)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function wQ(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function NQ(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function dP(e,t,r,n){return(n===hQ||n===fQ||n===dQ)&&(e.$$typeof||t.$$typeof)?!0:uQ(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var SQ="[object Arguments]",AQ="[object Boolean]",OQ="[object Date]",_Q="[object Error]",PQ="[object Map]",kQ="[object Number]",CQ="[object Object]",TQ="[object RegExp]",EQ="[object Set]",$Q="[object String]",DQ="[object URL]",IQ=Array.isArray,cj=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,lj=Object.assign,MQ=Object.prototype.toString.call.bind(Object.prototype.toString);function RQ(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,i=e.areFunctionsEqual,s=e.areMapsEqual,o=e.areNumbersEqual,c=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(v,m,g){if(v===m)return!0;if(v==null||m==null)return!1;var b=typeof v;if(b!==typeof m)return!1;if(b!=="object")return b==="number"?o(v,m,g):b==="function"?i(v,m,g):!1;var y=v.constructor;if(y!==m.constructor)return!1;if(y===Object)return c(v,m,g);if(IQ(v))return t(v,m,g);if(cj!=null&&cj(v))return f(v,m,g);if(y===Date)return r(v,m,g);if(y===RegExp)return u(v,m,g);if(y===Map)return s(v,m,g);if(y===Set)return d(v,m,g);var w=MQ(v);return w===OQ?r(v,m,g):w===TQ?u(v,m,g):w===PQ?s(v,m,g):w===EQ?d(v,m,g):w===CQ?typeof v.then!="function"&&typeof m.then!="function"&&c(v,m,g):w===DQ?h(v,m,g):w===_Q?n(v,m,g):w===SQ?c(v,m,g):w===AQ||w===kQ||w===$Q?l(v,m,g):!1}}function LQ(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,i={areArraysEqual:n?Ho:mQ,areDatesEqual:pQ,areErrorsEqual:vQ,areFunctionsEqual:gQ,areMapsEqual:n?rj(sj,Ho):sj,areNumbersEqual:xQ,areObjectsEqual:n?Ho:yQ,arePrimitiveWrappersEqual:bQ,areRegExpsEqual:jQ,areSetsEqual:n?rj(oj,Ho):oj,areTypedArraysEqual:n?Ho:wQ,areUrlsEqual:NQ};if(r&&(i=lj({},i,r(i))),t){var s=Kl(i.areArraysEqual),o=Kl(i.areMapsEqual),c=Kl(i.areObjectsEqual),l=Kl(i.areSetsEqual);i=lj({},i,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:c,areSetsEqual:l})}return i}function FQ(e){return function(t,r,n,i,s,o,c){return e(t,r,c)}}function BQ(e){var t=e.circular,r=e.comparator,n=e.createState,i=e.equals,s=e.strict;if(n)return function(l,u){var d=n(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,p=d.meta;return r(l,u,{cache:h,equals:i,meta:p,strict:s})};if(t)return function(l,u){return r(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var o={cache:void 0,equals:i,meta:void 0,strict:s};return function(l,u){return r(l,u,o)}}var VQ=ei();ei({strict:!0});ei({circular:!0});ei({circular:!0,strict:!0});ei({createInternalComparator:function(){return Yi}});ei({strict:!0,createInternalComparator:function(){return Yi}});ei({circular:!0,createInternalComparator:function(){return Yi}});ei({circular:!0,createInternalComparator:function(){return Yi},strict:!0});function ei(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,i=e.createState,s=e.strict,o=s===void 0?!1:s,c=LQ(e),l=RQ(c),u=n?n(l):FQ(l);return BQ({circular:r,comparator:l,createState:i,equals:u,strict:o})}function zQ(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function uj(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(s){r<0&&(r=s),s-r>t?(e(s),r=-1):zQ(i)};requestAnimationFrame(n)}function wp(e){"@babel/helpers - typeof";return wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wp(e)}function UQ(e){return KQ(e)||qQ(e)||HQ(e)||WQ()}function WQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HQ(e,t){if(e){if(typeof e=="string")return dj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dj(e,t)}}function dj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function KQ(e){if(Array.isArray(e))return e}function GQ(){var e={},t=function(){return null},r=!1,n=function i(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,c=UQ(o),l=c[0],u=c.slice(1);if(typeof l=="number"){uj(i.bind(null,u),l);return}i(l),uj(i.bind(null,u));return}wp(s)==="object"&&(e=s,t(e)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return t=s,function(){t=function(){return null}}}}}function Xc(e){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xc(e)}function fj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function hj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fj(Object(r),!0).forEach(function(n){fP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fP(e,t,r){return t=ZQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZQ(e){var t=XQ(e,"string");return Xc(t)==="symbol"?t:String(t)}function XQ(e,t){if(Xc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YQ=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,i){return n.filter(function(s){return i.includes(s)})})},JQ=function(t){return t},QQ=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},ac=function(t,r){return Object.keys(r).reduce(function(n,i){return hj(hj({},n),{},fP({},i,t(i,r[i])))},{})},mj=function(t,r,n){return t.map(function(i){return"".concat(QQ(i)," ").concat(r,"ms ").concat(n)}).join(",")};function eee(e,t){return nee(e)||ree(e,t)||hP(e,t)||tee()}function tee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ree(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,c=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(l=(n=s.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return c}}function nee(e){if(Array.isArray(e))return e}function aee(e){return oee(e)||see(e)||hP(e)||iee()}function iee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hP(e,t){if(e){if(typeof e=="string")return Np(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Np(e,t)}}function see(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function oee(e){if(Array.isArray(e))return Np(e)}function Np(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var md=1e-4,mP=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},pP=function(t,r){return t.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},pj=function(t,r){return function(n){var i=mP(t,r);return pP(i,n)}},cee=function(t,r){return function(n){var i=mP(t,r),s=[].concat(aee(i.map(function(o,c){return o*c}).slice(1)),[0]);return pP(s,n)}},vj=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0],s=r[1],o=r[2],c=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,s=0,o=1,c=1;break;case"ease":i=.25,s=.1,o=.25,c=1;break;case"ease-in":i=.42,s=0,o=1,c=1;break;case"ease-out":i=.42,s=0,o=.58,c=1;break;case"ease-in-out":i=0,s=0,o=.58,c=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(g){return parseFloat(g)}),d=eee(u,4);i=d[0],s=d[1],o=d[2],c=d[3]}}}var f=pj(i,o),h=pj(s,c),p=cee(i,o),v=function(b){return b>1?1:b<0?0:b},m=function(b){for(var y=b>1?1:b,w=y,A=0;A<8;++A){var N=f(w)-y,j=p(w);if(Math.abs(N-y)<md||j<md)return h(w);w=v(w-N/j)}return h(w)};return m.isStepper=!1,m},lee=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,i=t.damping,s=i===void 0?8:i,o=t.dt,c=o===void 0?17:o,l=function(d,f,h){var p=-(d-f)*n,v=h*s,m=h+(p-v)*c/1e3,g=h*c/1e3+d;return Math.abs(g-f)<md&&Math.abs(m)<md?[f,0]:[g,m]};return l.isStepper=!0,l.dt=c,l},uee=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return vj(i);case"spring":return lee();default:if(i.split("(")[0]==="cubic-bezier")return vj(i)}return typeof i=="function"?i:null};function Yc(e){"@babel/helpers - typeof";return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yc(e)}function gj(e){return hee(e)||fee(e)||vP(e)||dee()}function dee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fee(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function hee(e){if(Array.isArray(e))return Ap(e)}function xj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ar(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xj(Object(r),!0).forEach(function(n){Sp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sp(e,t,r){return t=mee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mee(e){var t=pee(e,"string");return Yc(t)==="symbol"?t:String(t)}function pee(e,t){if(Yc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vee(e,t){return yee(e)||xee(e,t)||vP(e,t)||gee()}function gee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vP(e,t){if(e){if(typeof e=="string")return Ap(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ap(e,t)}}function Ap(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xee(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,c=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(l=(n=s.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return c}}function yee(e){if(Array.isArray(e))return e}var pd=function(t,r,n){return t+(r-t)*n},Op=function(t){var r=t.from,n=t.to;return r!==n},bee=function e(t,r,n){var i=ac(function(s,o){if(Op(o)){var c=t(o.from,o.to,o.velocity),l=vee(c,2),u=l[0],d=l[1];return ar(ar({},o),{},{from:u,velocity:d})}return o},r);return n<1?ac(function(s,o){return Op(o)?ar(ar({},o),{},{velocity:pd(o.velocity,i[s].velocity,n),from:pd(o.from,i[s].from,n)}):o},r):e(t,i,n-1)};const jee=function(e,t,r,n,i){var s=YQ(e,t),o=s.reduce(function(g,b){return ar(ar({},g),{},Sp({},b,[e[b],t[b]]))},{}),c=s.reduce(function(g,b){return ar(ar({},g),{},Sp({},b,{from:e[b],velocity:0,to:t[b]}))},{}),l=-1,u,d,f=function(){return null},h=function(){return ac(function(b,y){return y.from},c)},p=function(){return!Object.values(c).filter(Op).length},v=function(b){u||(u=b);var y=b-u,w=y/r.dt;c=bee(r,c,w),i(ar(ar(ar({},e),t),h())),u=b,p()||(l=requestAnimationFrame(f))},m=function(b){d||(d=b);var y=(b-d)/n,w=ac(function(N,j){return pd.apply(void 0,gj(j).concat([r(y)]))},o);if(i(ar(ar(ar({},e),t),w)),y<1)l=requestAnimationFrame(f);else{var A=ac(function(N,j){return pd.apply(void 0,gj(j).concat([r(1)]))},o);i(ar(ar(ar({},e),t),A))}};return f=r.isStepper?v:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Vs(e){"@babel/helpers - typeof";return Vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vs(e)}var wee=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Nee(e,t){if(e==null)return{};var r=See(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function See(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Kh(e){return Pee(e)||_ee(e)||Oee(e)||Aee()}function Aee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oee(e,t){if(e){if(typeof e=="string")return _p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _p(e,t)}}function _ee(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Pee(e){if(Array.isArray(e))return _p(e)}function _p(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function an(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yj(Object(r),!0).forEach(function(n){Jo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jo(e,t,r){return t=gP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cee(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gP(n.key),n)}}function Tee(e,t,r){return t&&Cee(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function gP(e){var t=Eee(e,"string");return Vs(t)==="symbol"?t:String(t)}function Eee(e,t){if(Vs(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vs(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $ee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pp(e,t)}function Pp(e,t){return Pp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Pp(e,t)}function Dee(e){var t=Iee();return function(){var n=vd(e),i;if(t){var s=vd(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return kp(this,i)}}function kp(e,t){if(t&&(Vs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cp(e)}function Cp(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Iee(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function vd(e){return vd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vd(e)}var yn=function(e){$ee(r,e);var t=Dee(r);function r(n,i){var s;kee(this,r),s=t.call(this,n,i);var o=s.props,c=o.isActive,l=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,p=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(Cp(s)),s.changeStyle=s.changeStyle.bind(Cp(s)),!c||p<=0)return s.state={style:{}},typeof h=="function"&&(s.state={style:d}),kp(s);if(f&&f.length)s.state={style:f[0].style};else if(u){if(typeof h=="function")return s.state={style:u},kp(s);s.state={style:l?Jo({},l,u):u}}else s.state={style:{}};return s}return Tee(r,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,o=i.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isActive,c=s.canBegin,l=s.attributeName,u=s.shouldReAnimate,d=s.to,f=s.from,h=this.state.style;if(c){if(!o){var p={style:l?Jo({},l,d):d};this.state&&h&&(l&&h[l]!==d||!l&&h!==d)&&this.setState(p);return}if(!(VQ(i.to,d)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=v||u?f:i.to;if(this.state&&h){var g={style:l?Jo({},l,m):m};(l&&h[l]!==m||!l&&h!==m)&&this.setState(g)}this.runAnimation(an(an({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,o=i.from,c=i.to,l=i.duration,u=i.easing,d=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,p=jee(o,c,uee(u),l,this.changeStyle),v=function(){s.stopJSAnimation=p()};this.manager.start([h,d,v,l,f])}},{key:"runStepAnimation",value:function(i){var s=this,o=i.steps,c=i.begin,l=i.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,p=function(m,g,b){if(b===0)return m;var y=g.duration,w=g.easing,A=w===void 0?"ease":w,N=g.style,j=g.properties,O=g.onAnimationEnd,S=b>0?o[b-1]:g,P=j||Object.keys(N);if(typeof A=="function"||A==="spring")return[].concat(Kh(m),[s.runJSAnimation.bind(s,{from:S.style,to:N,duration:y,easing:A}),y]);var C=mj(P,y,A),_=an(an(an({},S.style),N),{},{transition:C});return[].concat(Kh(m),[_,y,O]).filter(JQ)};return this.manager.start([l].concat(Kh(o.reduce(p,[d,Math.max(h,c)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=GQ());var s=i.begin,o=i.duration,c=i.attributeName,l=i.to,u=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,p=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var m=c?Jo({},c,l):l,g=mj(Object.keys(m),o,u);v.start([d,s,an(an({},m),{},{transition:g}),o,f])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var c=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Nee(i,wee),u=x.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!c||u===0||o<=0)return s;var f=function(p){var v=p.props,m=v.style,g=m===void 0?{}:m,b=v.className,y=x.cloneElement(p,an(an({},l),{},{style:an(an({},g),d),className:b}));return y};return u===1?f(x.Children.only(s)):I.createElement("div",null,x.Children.map(s,function(h){return f(h)}))}}]),r}(x.PureComponent);yn.displayName="Animate";yn.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};yn.propTypes={from:ft.oneOfType([ft.object,ft.string]),to:ft.oneOfType([ft.object,ft.string]),attributeName:ft.string,duration:ft.number,begin:ft.number,easing:ft.oneOfType([ft.string,ft.func]),steps:ft.arrayOf(ft.shape({duration:ft.number.isRequired,style:ft.object.isRequired,easing:ft.oneOfType([ft.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ft.func]),properties:ft.arrayOf("string"),onAnimationEnd:ft.func})),children:ft.oneOfType([ft.node,ft.func]),isActive:ft.bool,canBegin:ft.bool,onAnimationEnd:ft.func,shouldReAnimate:ft.bool,onAnimationStart:ft.func,onAnimationReStart:ft.func};function Jc(e){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jc(e)}function gd(){return gd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gd.apply(this,arguments)}function Mee(e,t){return Bee(e)||Fee(e,t)||Lee(e,t)||Ree()}function Ree(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lee(e,t){if(e){if(typeof e=="string")return bj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bj(e,t)}}function bj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Fee(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,c=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(l=(n=s.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return c}}function Bee(e){if(Array.isArray(e))return e}function jj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jj(Object(r),!0).forEach(function(n){Vee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vee(e,t,r){return t=zee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zee(e){var t=Uee(e,"string");return Jc(t)=="symbol"?t:t+""}function Uee(e,t){if(Jc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nj=function(t,r,n,i,s){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),c=i>=0?1:-1,l=n>=0?1:-1,u=i>=0&&n>=0||i<0&&n<0?1:0,d;if(o>0&&s instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=s[h]>o?o:s[h];d="M".concat(t,",").concat(r+c*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+l*f[0],",").concat(r)),d+="L ".concat(t+n-l*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+c*f[1])),d+="L ".concat(t+n,",").concat(r+i-c*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-l*f[2],",").concat(r+i)),d+="L ".concat(t+l*f[3],",").concat(r+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+i-c*f[3])),d+="Z"}else if(o>0&&s===+s&&s>0){var v=Math.min(o,s);d="M ".concat(t,",").concat(r+c*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+l*v,",").concat(r,`
            L `).concat(t+n-l*v,",").concat(r,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+n,",").concat(r+c*v,`
            L `).concat(t+n,",").concat(r+i-c*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+n-l*v,",").concat(r+i,`
            L `).concat(t+l*v,",").concat(r+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t,",").concat(r+i-c*v," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return d},Wee=function(t,r){if(!t||!r)return!1;var n=t.x,i=t.y,s=r.x,o=r.y,c=r.width,l=r.height;if(Math.abs(c)>0&&Math.abs(l)>0){var u=Math.min(s,s+c),d=Math.max(s,s+c),f=Math.min(o,o+l),h=Math.max(o,o+l);return n>=u&&n<=d&&i>=f&&i<=h}return!1},Hee={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Lg=function(t){var r=wj(wj({},Hee),t),n=x.useRef(),i=x.useState(-1),s=Mee(i,2),o=s[0],c=s[1];x.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var A=n.current.getTotalLength();A&&c(A)}catch{}},[]);var l=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,p=r.className,v=r.animationEasing,m=r.animationDuration,g=r.animationBegin,b=r.isAnimationActive,y=r.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var w=Ke("recharts-rectangle",p);return y?I.createElement(yn,{canBegin:o>0,from:{width:d,height:f,x:l,y:u},to:{width:d,height:f,x:l,y:u},duration:m,animationEasing:v,isActive:y},function(A){var N=A.width,j=A.height,O=A.x,S=A.y;return I.createElement(yn,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:m,isActive:b,easing:v},I.createElement("path",gd({},Re(r,!0),{className:w,d:Nj(O,S,N,j,h),ref:n})))}):I.createElement("path",gd({},Re(r,!0),{className:w,d:Nj(l,u,d,f,h)}))},qee=["points","className","baseLinePoints","connectNulls"];function fs(){return fs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fs.apply(this,arguments)}function Kee(e,t){if(e==null)return{};var r=Gee(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Gee(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Sj(e){return Jee(e)||Yee(e)||Xee(e)||Zee()}function Zee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xee(e,t){if(e){if(typeof e=="string")return Tp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Tp(e,t)}}function Yee(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Jee(e){if(Array.isArray(e))return Tp(e)}function Tp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Aj=function(t){return t&&t.x===+t.x&&t.y===+t.y},Qee=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){Aj(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),Aj(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},ic=function(t,r){var n=Qee(t);r&&(n=[n.reduce(function(s,o){return[].concat(Sj(s),Sj(o))},[])]);var i=n.map(function(s){return s.reduce(function(o,c,l){return"".concat(o).concat(l===0?"M":"L").concat(c.x,",").concat(c.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},ete=function(t,r,n){var i=ic(t,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(ic(r.reverse(),n).slice(1))},tte=function(t){var r=t.points,n=t.className,i=t.baseLinePoints,s=t.connectNulls,o=Kee(t,qee);if(!r||!r.length)return null;var c=Ke("recharts-polygon",n);if(i&&i.length){var l=o.stroke&&o.stroke!=="none",u=ete(r,i,s);return I.createElement("g",{className:c},I.createElement("path",fs({},Re(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),l?I.createElement("path",fs({},Re(o,!0),{fill:"none",d:ic(r,s)})):null,l?I.createElement("path",fs({},Re(o,!0),{fill:"none",d:ic(i,s)})):null)}var d=ic(r,s);return I.createElement("path",fs({},Re(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:c,d}))};function Ep(){return Ep=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ep.apply(this,arguments)}var Al=function(t){var r=t.cx,n=t.cy,i=t.r,s=t.className,o=Ke("recharts-dot",s);return r===+r&&n===+n&&i===+i?x.createElement("circle",Ep({},Re(t,!1),Ru(t),{className:o,cx:r,cy:n,r:i})):null};function Qc(e){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qc(e)}var rte=["x","y","top","left","width","height","className"];function $p(){return $p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$p.apply(this,arguments)}function Oj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function nte(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Oj(Object(r),!0).forEach(function(n){ate(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ate(e,t,r){return t=ite(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ite(e){var t=ste(e,"string");return Qc(t)=="symbol"?t:t+""}function ste(e,t){if(Qc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ote(e,t){if(e==null)return{};var r=cte(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cte(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var lte=function(t,r,n,i,s,o){return"M".concat(t,",").concat(s,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},ute=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,s=i===void 0?0:i,o=t.top,c=o===void 0?0:o,l=t.left,u=l===void 0?0:l,d=t.width,f=d===void 0?0:d,h=t.height,p=h===void 0?0:h,v=t.className,m=ote(t,rte),g=nte({x:n,y:s,top:c,left:u,width:f,height:p},m);return!pe(n)||!pe(s)||!pe(f)||!pe(p)||!pe(c)||!pe(u)?null:I.createElement("path",$p({},Re(g,!0),{className:Ke("recharts-cross",v),d:lte(n,s,f,p,c,u)}))},dte=Ff,fte=k_,hte=Gn;function mte(e,t){return e&&e.length?dte(e,hte(t),fte):void 0}var pte=mte;const vte=gt(pte);var gte=Ff,xte=Gn,yte=C_;function bte(e,t){return e&&e.length?gte(e,xte(t),yte):void 0}var jte=bte;const wte=gt(jte);var Nte=["cx","cy","angle","ticks","axisLine"],Ste=["ticks","tick","angle","tickFormatter","stroke"];function zs(e){"@babel/helpers - typeof";return zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zs(e)}function sc(){return sc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sc.apply(this,arguments)}function _j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ni(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_j(Object(r),!0).forEach(function(n){Uf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_j(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pj(e,t){if(e==null)return{};var r=Ate(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ate(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ote(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yP(n.key),n)}}function _te(e,t,r){return t&&kj(e.prototype,t),r&&kj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Pte(e,t,r){return t=xd(t),kte(e,xP()?Reflect.construct(t,r||[],xd(e).constructor):t.apply(e,r))}function kte(e,t){if(t&&(zs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cte(e)}function Cte(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xP=function(){return!!e})()}function xd(e){return xd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xd(e)}function Tte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dp(e,t)}function Dp(e,t){return Dp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Dp(e,t)}function Uf(e,t,r){return t=yP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yP(e){var t=Ete(e,"string");return zs(t)=="symbol"?t:t+""}function Ete(e,t){if(zs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Wf=function(e){function t(){return Ote(this,t),Pte(this,t,arguments)}return Tte(t,e),_te(t,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,s=this.props,o=s.angle,c=s.cx,l=s.cy;return Nt(c,l,i,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,s=n.cy,o=n.angle,c=n.ticks,l=vte(c,function(d){return d.coordinate||0}),u=wte(c,function(d){return d.coordinate||0});return{cx:i,cy:s,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,s=n.cy,o=n.angle,c=n.ticks,l=n.axisLine,u=Pj(n,Nte),d=c.reduce(function(v,m){return[Math.min(v[0],m.coordinate),Math.max(v[1],m.coordinate)]},[1/0,-1/0]),f=Nt(i,s,d[0],o),h=Nt(i,s,d[1],o),p=ni(ni(ni({},Re(u,!1)),{},{fill:"none"},Re(l,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return I.createElement("line",sc({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,i=this.props,s=i.ticks,o=i.tick,c=i.angle,l=i.tickFormatter,u=i.stroke,d=Pj(i,Ste),f=this.getTickTextAnchor(),h=Re(d,!1),p=Re(o,!1),v=s.map(function(m,g){var b=n.getTickValueCoord(m),y=ni(ni(ni(ni({textAnchor:f,transform:"rotate(".concat(90-c,", ").concat(b.x,", ").concat(b.y,")")},h),{},{stroke:"none",fill:u},p),{},{index:g},b),{},{payload:m});return I.createElement(tt,sc({className:Ke("recharts-polar-radius-axis-tick",aP(o)),key:"tick-".concat(m.coordinate)},Li(n.props,m,g)),t.renderTickItem(o,y,l?l(m.value,g):m.value))});return I.createElement(tt,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var n=this.props,i=n.ticks,s=n.axisLine,o=n.tick;return!i||!i.length?null:I.createElement(tt,{className:Ke("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),o&&this.renderTicks(),er.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,s){var o;return I.isValidElement(n)?o=I.cloneElement(n,i):Ue(n)?o=n(i):o=I.createElement(Fi,sc({},i,{className:"recharts-polar-radius-axis-tick-value"}),s),o}}])}(x.PureComponent);Uf(Wf,"displayName","PolarRadiusAxis");Uf(Wf,"axisType","radiusAxis");Uf(Wf,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Us(e){"@babel/helpers - typeof";return Us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Us(e)}function ci(){return ci=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ci.apply(this,arguments)}function Cj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ai(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cj(Object(r),!0).forEach(function(n){Hf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jP(n.key),n)}}function Dte(e,t,r){return t&&Tj(e.prototype,t),r&&Tj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ite(e,t,r){return t=yd(t),Mte(e,bP()?Reflect.construct(t,r||[],yd(e).constructor):t.apply(e,r))}function Mte(e,t){if(t&&(Us(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rte(e)}function Rte(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bP=function(){return!!e})()}function yd(e){return yd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yd(e)}function Lte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ip(e,t)}function Ip(e,t){return Ip=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ip(e,t)}function Hf(e,t,r){return t=jP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jP(e){var t=Fte(e,"string");return Us(t)=="symbol"?t:t+""}function Fte(e,t){if(Us(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Us(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Bte=Math.PI/180,Ej=1e-5,qf=function(e){function t(){return $te(this,t),Ite(this,t,arguments)}return Lte(t,e),Dte(t,[{key:"getTickLineCoord",value:function(n){var i=this.props,s=i.cx,o=i.cy,c=i.radius,l=i.orientation,u=i.tickSize,d=u||8,f=Nt(s,o,c,n.coordinate),h=Nt(s,o,c+(l==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,s=Math.cos(-n.coordinate*Bte),o;return s>Ej?o=i==="outer"?"start":"end":s<-Ej?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,s=n.cy,o=n.radius,c=n.axisLine,l=n.axisLineType,u=ai(ai({},Re(this.props,!1)),{},{fill:"none"},Re(c,!1));if(l==="circle")return I.createElement(Al,ci({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:s,r:o}));var d=this.props.ticks,f=d.map(function(h){return Nt(i,s,o,h.coordinate)});return I.createElement(tte,ci({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,s=i.ticks,o=i.tick,c=i.tickLine,l=i.tickFormatter,u=i.stroke,d=Re(this.props,!1),f=Re(o,!1),h=ai(ai({},d),{},{fill:"none"},Re(c,!1)),p=s.map(function(v,m){var g=n.getTickLineCoord(v),b=n.getTickTextAnchor(v),y=ai(ai(ai({textAnchor:b},d),{},{stroke:"none",fill:u},f),{},{index:m,payload:v,x:g.x2,y:g.y2});return I.createElement(tt,ci({className:Ke("recharts-polar-angle-axis-tick",aP(o)),key:"tick-".concat(v.coordinate)},Li(n.props,v,m)),c&&I.createElement("line",ci({className:"recharts-polar-angle-axis-tick-line"},h,g)),o&&t.renderTickItem(o,y,l?l(v.value,m):v.value))});return I.createElement(tt,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,i=n.ticks,s=n.radius,o=n.axisLine;return s<=0||!i||!i.length?null:I.createElement(tt,{className:Ke("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,s){var o;return I.isValidElement(n)?o=I.cloneElement(n,i):Ue(n)?o=n(i):o=I.createElement(Fi,ci({},i,{className:"recharts-polar-angle-axis-tick-value"}),s),o}}])}(x.PureComponent);Hf(qf,"displayName","PolarAngleAxis");Hf(qf,"axisType","angleAxis");Hf(qf,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Vte=AO,zte=Vte(Object.getPrototypeOf,Object),Ute=zte,Wte=ja,Hte=Ute,qte=wa,Kte="[object Object]",Gte=Function.prototype,Zte=Object.prototype,wP=Gte.toString,Xte=Zte.hasOwnProperty,Yte=wP.call(Object);function Jte(e){if(!qte(e)||Wte(e)!=Kte)return!1;var t=Hte(e);if(t===null)return!0;var r=Xte.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&wP.call(r)==Yte}var Qte=Jte;const ere=gt(Qte);var tre=ja,rre=wa,nre="[object Boolean]";function are(e){return e===!0||e===!1||rre(e)&&tre(e)==nre}var ire=are;const sre=gt(ire);function el(e){"@babel/helpers - typeof";return el=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},el(e)}function bd(){return bd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bd.apply(this,arguments)}function ore(e,t){return dre(e)||ure(e,t)||lre(e,t)||cre()}function cre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lre(e,t){if(e){if(typeof e=="string")return $j(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $j(e,t)}}function $j(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ure(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,c=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(l=(n=s.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return c}}function dre(e){if(Array.isArray(e))return e}function Dj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ij(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dj(Object(r),!0).forEach(function(n){fre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fre(e,t,r){return t=hre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hre(e){var t=mre(e,"string");return el(t)=="symbol"?t:t+""}function mre(e,t){if(el(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(el(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mj=function(t,r,n,i,s){var o=n-i,c;return c="M ".concat(t,",").concat(r),c+="L ".concat(t+n,",").concat(r),c+="L ".concat(t+n-o/2,",").concat(r+s),c+="L ".concat(t+n-o/2-i,",").concat(r+s),c+="L ".concat(t,",").concat(r," Z"),c},pre={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},vre=function(t){var r=Ij(Ij({},pre),t),n=x.useRef(),i=x.useState(-1),s=ore(i,2),o=s[0],c=s[1];x.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&c(w)}catch{}},[]);var l=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,v=r.animationEasing,m=r.animationDuration,g=r.animationBegin,b=r.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var y=Ke("recharts-trapezoid",p);return b?I.createElement(yn,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:l,y:u},duration:m,animationEasing:v,isActive:b},function(w){var A=w.upperWidth,N=w.lowerWidth,j=w.height,O=w.x,S=w.y;return I.createElement(yn,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:m,easing:v},I.createElement("path",bd({},Re(r,!0),{className:y,d:Mj(O,S,A,N,j),ref:n})))}):I.createElement("g",null,I.createElement("path",bd({},Re(r,!0),{className:y,d:Mj(l,u,d,f,h)})))},gre=["option","shapeType","propTransformer","activeClassName","isActive"];function tl(e){"@babel/helpers - typeof";return tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tl(e)}function xre(e,t){if(e==null)return{};var r=yre(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yre(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Rj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rj(Object(r),!0).forEach(function(n){bre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bre(e,t,r){return t=jre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jre(e){var t=wre(e,"string");return tl(t)=="symbol"?t:t+""}function wre(e,t){if(tl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nre(e,t){return jd(jd({},t),e)}function Sre(e,t){return e==="symbols"}function Lj(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return I.createElement(Lg,r);case"trapezoid":return I.createElement(vre,r);case"sector":return I.createElement(oP,r);case"symbols":if(Sre(t))return I.createElement(ng,r);break;default:return null}}function Are(e){return x.isValidElement(e)?e.props:e}function NP(e){var t=e.option,r=e.shapeType,n=e.propTransformer,i=n===void 0?Nre:n,s=e.activeClassName,o=s===void 0?"recharts-active-shape":s,c=e.isActive,l=xre(e,gre),u;if(x.isValidElement(t))u=x.cloneElement(t,jd(jd({},l),Are(t)));else if(Ue(t))u=t(l);else if(ere(t)&&!sre(t)){var d=i(t,l);u=I.createElement(Lj,{shapeType:r,elementProps:d})}else{var f=l;u=I.createElement(Lj,{shapeType:r,elementProps:f})}return c?I.createElement(tt,{className:o},u):u}function Kf(e,t){return t!=null&&"trapezoids"in e.props}function Gf(e,t){return t!=null&&"sectors"in e.props}function rl(e,t){return t!=null&&"points"in e.props}function Ore(e,t){var r,n,i=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,s=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return i&&s}function _re(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function Pre(e,t){var r=e.x===t.x,n=e.y===t.y,i=e.z===t.z;return r&&n&&i}function kre(e,t){var r;return Kf(e,t)?r=Ore:Gf(e,t)?r=_re:rl(e,t)&&(r=Pre),r}function Cre(e,t){var r;return Kf(e,t)?r="trapezoids":Gf(e,t)?r="sectors":rl(e,t)&&(r="points"),r}function Tre(e,t){if(Kf(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Gf(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return rl(e,t)?t.payload:{}}function Ere(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,i=Cre(r,t),s=Tre(r,t),o=n.filter(function(l,u){var d=Bi(s,l),f=r.props[i].filter(function(v){var m=kre(r,t);return m(v,t)}),h=r.props[i].indexOf(f[f.length-1]),p=u===h;return d&&p}),c=n.indexOf(o[o.length-1]);return c}var cu;function Ws(e){"@babel/helpers - typeof";return Ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ws(e)}function hs(){return hs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hs.apply(this,arguments)}function Fj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fj(Object(r),!0).forEach(function(n){Yr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $re(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,AP(n.key),n)}}function Dre(e,t,r){return t&&Bj(e.prototype,t),r&&Bj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ire(e,t,r){return t=wd(t),Mre(e,SP()?Reflect.construct(t,r||[],wd(e).constructor):t.apply(e,r))}function Mre(e,t){if(t&&(Ws(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rre(e)}function Rre(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SP=function(){return!!e})()}function wd(e){return wd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wd(e)}function Lre(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mp(e,t)}function Mp(e,t){return Mp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Mp(e,t)}function Yr(e,t,r){return t=AP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AP(e){var t=Fre(e,"string");return Ws(t)=="symbol"?t:t+""}function Fre(e,t){if(Ws(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ws(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Wn=function(e){function t(r){var n;return $re(this,t),n=Ire(this,t,[r]),Yr(n,"pieRef",null),Yr(n,"sectorRefs",[]),Yr(n,"id",Gi("recharts-pie-")),Yr(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ue(i)&&i()}),Yr(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ue(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return Lre(t,e),Dre(t,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.label,c=s.labelLine,l=s.dataKey,u=s.valueKey,d=Re(this.props,!1),f=Re(o,!1),h=Re(c,!1),p=o&&o.offsetRadius||20,v=n.map(function(m,g){var b=(m.startAngle+m.endAngle)/2,y=Nt(m.cx,m.cy,m.outerRadius+p,b),w=bt(bt(bt(bt({},d),m),{},{stroke:"none"},f),{},{index:g,textAnchor:t.getTextAnchor(y.x,m.cx)},y),A=bt(bt(bt(bt({},d),m),{},{fill:"none",stroke:m.fill},h),{},{index:g,points:[Nt(m.cx,m.cy,m.outerRadius,b),y]}),N=l;return qe(l)&&qe(u)?N="value":qe(l)&&(N=u),I.createElement(tt,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(g)},c&&t.renderLabelLineItem(c,A,"line"),t.renderLabelItem(o,w,Dt(m,N)))});return I.createElement(tt,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(n){var i=this,s=this.props,o=s.activeShape,c=s.blendStroke,l=s.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=i.isActiveIndex(d),h=l&&i.hasActiveIndex()?l:null,p=f?o:h,v=bt(bt({},u),{},{stroke:c?u.fill:u.stroke,tabIndex:-1});return I.createElement(tt,hs({ref:function(g){g&&!i.sectorRefs.includes(g)&&i.sectorRefs.push(g)},tabIndex:-1,className:"recharts-pie-sector"},Li(i.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),I.createElement(NP,hs({option:p,isActive:f,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,s=i.sectors,o=i.isAnimationActive,c=i.animationBegin,l=i.animationDuration,u=i.animationEasing,d=i.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return I.createElement(yn,{begin:c,duration:l,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var m=v.t,g=[],b=s&&s[0],y=b.startAngle;return s.forEach(function(w,A){var N=h&&h[A],j=A>0?Lr(w,"paddingAngle",0):0;if(N){var O=Kt(N.endAngle-N.startAngle,w.endAngle-w.startAngle),S=bt(bt({},w),{},{startAngle:y+j,endAngle:y+O(m)+j});g.push(S),y=S.endAngle}else{var P=w.endAngle,C=w.startAngle,_=Kt(0,P-C),T=_(m),D=bt(bt({},w),{},{startAngle:y+j,endAngle:y+T+j});g.push(D),y=D.endAngle}}),I.createElement(tt,null,n.renderSectorsStatically(g))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var c=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[c].focus(),i.setState({sectorToFocus:c});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,s=n.isAnimationActive,o=this.state.prevSectors;return s&&i&&i.length&&(!o||!Bi(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,s=i.hide,o=i.sectors,c=i.className,l=i.label,u=i.cx,d=i.cy,f=i.innerRadius,h=i.outerRadius,p=i.isAnimationActive,v=this.state.isAnimationFinished;if(s||!o||!o.length||!pe(u)||!pe(d)||!pe(f)||!pe(h))return null;var m=Ke("recharts-pie",c);return I.createElement(tt,{tabIndex:this.props.rootTabIndex,className:m,ref:function(b){n.pieRef=b}},this.renderSectors(),l&&this.renderLabels(o),er.renderCallByParent(this.props,null,!1),(!p||v)&&Rn.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,s){if(I.isValidElement(n))return I.cloneElement(n,i);if(Ue(n))return n(i);var o=Ke("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return I.createElement(Ai,hs({},i,{key:s,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,i,s){if(I.isValidElement(n))return I.cloneElement(n,i);var o=s;if(Ue(n)&&(o=n(i),I.isValidElement(o)))return o;var c=Ke("recharts-pie-label-text",typeof n!="boolean"&&!Ue(n)?n.className:"");return I.createElement(Fi,hs({},i,{alignmentBaseline:"middle",className:c}),o)}}])}(x.PureComponent);cu=Wn;Yr(Wn,"displayName","Pie");Yr(Wn,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Ya.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Yr(Wn,"parseDeltaAngle",function(e,t){var r=gr(t-e),n=Math.min(Math.abs(t-e),360);return r*n});Yr(Wn,"getRealPieData",function(e){var t=e.data,r=e.children,n=Re(e,!1),i=Fr(r,Ec);return t&&t.length?t.map(function(s,o){return bt(bt(bt({payload:s},n),s),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(s){return bt(bt({},n),s.props)}):[]});Yr(Wn,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,i=t.width,s=t.height,o=nP(i,s),c=n+xr(e.cx,i,i/2),l=r+xr(e.cy,s,s/2),u=xr(e.innerRadius,o,0),d=xr(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:c,cy:l,innerRadius:u,outerRadius:d,maxRadius:f}});Yr(Wn,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?bt(bt({},t.type.defaultProps),t.props):t.props,i=cu.getRealPieData(n);if(!i||!i.length)return null;var s=n.cornerRadius,o=n.startAngle,c=n.endAngle,l=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,p=Math.abs(n.minAngle),v=cu.parseCoordinateOfPie(n,r),m=cu.parseDeltaAngle(o,c),g=Math.abs(m),b=u;qe(u)&&qe(f)?(pn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):qe(u)&&(pn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=f);var y=i.filter(function(S){return Dt(S,b,0)!==0}).length,w=(g>=360?y:y-1)*l,A=g-y*p-w,N=i.reduce(function(S,P){var C=Dt(P,b,0);return S+(pe(C)?C:0)},0),j;if(N>0){var O;j=i.map(function(S,P){var C=Dt(S,b,0),_=Dt(S,d,P),T=(pe(C)?C:0)/N,D;P?D=O.endAngle+gr(m)*l*(C!==0?1:0):D=o;var $=D+gr(m)*((C!==0?p:0)+T*A),k=(D+$)/2,M=(v.innerRadius+v.outerRadius)/2,E=[{name:_,value:C,payload:S,dataKey:b,type:h}],U=Nt(v.cx,v.cy,M,k);return O=bt(bt(bt({percent:T,cornerRadius:s,name:_,tooltipPayload:E,midAngle:k,middleRadius:M,tooltipPosition:U},S),v),{},{value:Dt(S,b),startAngle:D,endAngle:$,payload:S,paddingAngle:gr(m)*l}),O})}return bt(bt({},v),{},{sectors:j,data:i})});var Bre=Math.ceil,Vre=Math.max;function zre(e,t,r,n){for(var i=-1,s=Vre(Bre((t-e)/(r||1)),0),o=Array(s);s--;)o[n?s:++i]=e,e+=r;return o}var Ure=zre,Wre=WO,Vj=1/0,Hre=17976931348623157e292;function qre(e){if(!e)return e===0?e:0;if(e=Wre(e),e===Vj||e===-Vj){var t=e<0?-1:1;return t*Hre}return e===e?e:0}var OP=qre,Kre=Ure,Gre=Ef,Gh=OP;function Zre(e){return function(t,r,n){return n&&typeof n!="number"&&Gre(t,r,n)&&(r=n=void 0),t=Gh(t),r===void 0?(r=t,t=0):r=Gh(r),n=n===void 0?t<r?1:-1:Gh(n),Kre(t,r,n,e)}}var Xre=Zre,Yre=Xre,Jre=Yre(),Qre=Jre;const Nd=gt(Qre);function nl(e){"@babel/helpers - typeof";return nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nl(e)}function zj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Uj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zj(Object(r),!0).forEach(function(n){_P(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _P(e,t,r){return t=ene(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ene(e){var t=tne(e,"string");return nl(t)=="symbol"?t:t+""}function tne(e,t){if(nl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rne=["Webkit","Moz","O","ms"],nne=function(t,r){var n=t.replace(/(\w)/,function(s){return s.toUpperCase()}),i=rne.reduce(function(s,o){return Uj(Uj({},s),{},_P({},o+n,r))},{});return i[t]=r,i};function Hs(e){"@babel/helpers - typeof";return Hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hs(e)}function Sd(){return Sd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sd.apply(this,arguments)}function Wj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Zh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Wj(Object(r),!0).forEach(function(n){Cr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ane(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kP(n.key),n)}}function ine(e,t,r){return t&&Hj(e.prototype,t),r&&Hj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function sne(e,t,r){return t=Ad(t),one(e,PP()?Reflect.construct(t,r||[],Ad(e).constructor):t.apply(e,r))}function one(e,t){if(t&&(Hs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cne(e)}function cne(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PP=function(){return!!e})()}function Ad(e){return Ad=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ad(e)}function lne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rp(e,t)}function Rp(e,t){return Rp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Rp(e,t)}function Cr(e,t,r){return t=kP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kP(e){var t=une(e,"string");return Hs(t)=="symbol"?t:t+""}function une(e,t){if(Hs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var dne=function(t){var r=t.data,n=t.startIndex,i=t.endIndex,s=t.x,o=t.width,c=t.travellerWidth;if(!r||!r.length)return{};var l=r.length,u=rc().domain(Nd(0,l)).range([s,s+o-c]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(i),scale:u,scaleValues:d}},qj=function(t){return t.changedTouches&&!!t.changedTouches.length},qs=function(e){function t(r){var n;return ane(this,t),n=sne(this,t,[r]),Cr(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Cr(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Cr(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,s=i.endIndex,o=i.onDragEnd,c=i.startIndex;o==null||o({endIndex:s,startIndex:c})}),n.detachDragEndListener()}),Cr(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Cr(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Cr(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Cr(n,"handleSlideDragStart",function(i){var s=qj(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return lne(t,e),ine(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,s=n.endX,o=this.state.scaleValues,c=this.props,l=c.gap,u=c.data,d=u.length-1,f=Math.min(i,s),h=Math.max(i,s),p=t.getIndexInRange(o,f),v=t.getIndexInRange(o,h);return{startIndex:p-p%l,endIndex:v===d?d:v-v%l}}},{key:"getTextOfTick",value:function(n){var i=this.props,s=i.data,o=i.tickFormatter,c=i.dataKey,l=Dt(s[n],c,n);return Ue(o)?o(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,s=i.slideMoveStartX,o=i.startX,c=i.endX,l=this.props,u=l.x,d=l.width,f=l.travellerWidth,h=l.startIndex,p=l.endIndex,v=l.onChange,m=n.pageX-s;m>0?m=Math.min(m,u+d-f-c,u+d-f-o):m<0&&(m=Math.max(m,u-o,u-c));var g=this.getIndex({startX:o+m,endX:c+m});(g.startIndex!==h||g.endIndex!==p)&&v&&v(g),this.setState({startX:o+m,endX:c+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var s=qj(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,s=i.brushMoveStartX,o=i.movingTravellerId,c=i.endX,l=i.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,v=d.onChange,m=d.gap,g=d.data,b={startX:this.state.startX,endX:this.state.endX},y=n.pageX-s;y>0?y=Math.min(y,f+h-p-u):y<0&&(y=Math.max(y,f-u)),b[o]=u+y;var w=this.getIndex(b),A=w.startIndex,N=w.endIndex,j=function(){var S=g.length-1;return o==="startX"&&(c>l?A%m===0:N%m===0)||c<l&&N===S||o==="endX"&&(c>l?N%m===0:A%m===0)||c>l&&N===S};this.setState(Cr(Cr({},o,u+y),"brushMoveStartX",n.pageX),function(){v&&j()&&v(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var s=this,o=this.state,c=o.scaleValues,l=o.startX,u=o.endX,d=this.state[i],f=c.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=c.length)){var p=c[h];i==="startX"&&p>=u||i==="endX"&&p<=l||this.setState(Cr({},i,p),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,c=n.height,l=n.fill,u=n.stroke;return I.createElement("rect",{stroke:u,fill:l,x:i,y:s,width:o,height:c})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,c=n.height,l=n.data,u=n.children,d=n.padding,f=x.Children.only(u);return f?I.cloneElement(f,{x:i,y:s,width:o,height:c,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,i){var s,o,c=this,l=this.props,u=l.y,d=l.travellerWidth,f=l.height,h=l.traveller,p=l.ariaLabel,v=l.data,m=l.startIndex,g=l.endIndex,b=Math.max(n,this.props.x),y=Zh(Zh({},Re(this.props,!1)),{},{x:b,y:u,width:d,height:f}),w=p||"Min value: ".concat((s=v[m])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=v[g])===null||o===void 0?void 0:o.name);return I.createElement(tt,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(N){["ArrowLeft","ArrowRight"].includes(N.key)&&(N.preventDefault(),N.stopPropagation(),c.handleTravellerMoveKeyboard(N.key==="ArrowRight"?1:-1,i))},onFocus:function(){c.setState({isTravellerFocused:!0})},onBlur:function(){c.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,y))}},{key:"renderSlide",value:function(n,i){var s=this.props,o=s.y,c=s.height,l=s.stroke,u=s.travellerWidth,d=Math.min(n,i)+u,f=Math.max(Math.abs(i-n)-u,0);return I.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:o,width:f,height:c})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,s=n.endIndex,o=n.y,c=n.height,l=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,p=5,v={pointerEvents:"none",fill:u};return I.createElement(tt,{className:"recharts-brush-texts"},I.createElement(Fi,Sd({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:o+c/2},v),this.getTextOfTick(i)),I.createElement(Fi,Sd({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+p,y:o+c/2},v),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,i=n.data,s=n.className,o=n.children,c=n.x,l=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,v=h.endX,m=h.isTextActive,g=h.isSlideMoving,b=h.isTravellerMoving,y=h.isTravellerFocused;if(!i||!i.length||!pe(c)||!pe(l)||!pe(u)||!pe(d)||u<=0||d<=0)return null;var w=Ke("recharts-brush",s),A=I.Children.count(o)===1,N=nne("userSelect","none");return I.createElement(tt,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),A&&this.renderPanorama(),this.renderSlide(p,v),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(v,"endX"),(m||g||b||y||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,s=n.y,o=n.width,c=n.height,l=n.stroke,u=Math.floor(s+c/2)-1;return I.createElement(I.Fragment,null,I.createElement("rect",{x:i,y:s,width:o,height:c,fill:l,stroke:"none"}),I.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),I.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var s;return I.isValidElement(n)?s=I.cloneElement(n,i):Ue(n)?s=n(i):s=t.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(n,i){var s=n.data,o=n.width,c=n.x,l=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(s!==i.prevData||u!==i.prevUpdateId)return Zh({prevData:s,prevTravellerWidth:l,prevUpdateId:u,prevX:c,prevWidth:o},s&&s.length?dne({data:s,width:o,x:c,travellerWidth:l,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||c!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([c,c+o-l]);var h=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:s,prevTravellerWidth:l,prevUpdateId:u,prevX:c,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,i){for(var s=n.length,o=0,c=s-1;c-o>1;){var l=Math.floor((o+c)/2);n[l]>i?c=l:o=l}return i>=n[c]?c:o}}])}(x.PureComponent);Cr(qs,"displayName","Brush");Cr(qs,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var fne=ug;function hne(e,t){var r;return fne(e,function(n,i,s){return r=t(n,i,s),!r}),!!r}var mne=hne,pne=gO,vne=Gn,gne=mne,xne=Pr,yne=Ef;function bne(e,t,r){var n=xne(e)?pne:gne;return r&&yne(e,t,r)&&(t=void 0),n(e,vne(t))}var jne=bne;const wne=gt(jne);var Ln=function(t,r){var n=t.alwaysShow,i=t.ifOverflow;return n&&(i="extendDomain"),i===r},Kj=FO;function Nne(e,t,r){t=="__proto__"&&Kj?Kj(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var Sne=Nne,Ane=Sne,One=RO,_ne=Gn;function Pne(e,t){var r={};return t=_ne(t),One(e,function(n,i,s){Ane(r,i,t(n,i,s))}),r}var kne=Pne;const Cne=gt(kne);function Tne(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var Ene=Tne,$ne=ug;function Dne(e,t){var r=!0;return $ne(e,function(n,i,s){return r=!!t(n,i,s),r}),r}var Ine=Dne,Mne=Ene,Rne=Ine,Lne=Gn,Fne=Pr,Bne=Ef;function Vne(e,t,r){var n=Fne(e)?Mne:Rne;return r&&Bne(e,t,r)&&(t=void 0),n(e,Lne(t))}var zne=Vne;const CP=gt(zne);var Une=["x","y"];function al(e){"@babel/helpers - typeof";return al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},al(e)}function Lp(){return Lp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lp.apply(this,arguments)}function Gj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gj(Object(r),!0).forEach(function(n){Wne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wne(e,t,r){return t=Hne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hne(e){var t=qne(e,"string");return al(t)=="symbol"?t:t+""}function qne(e,t){if(al(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(al(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kne(e,t){if(e==null)return{};var r=Gne(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Gne(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Zne(e,t){var r=e.x,n=e.y,i=Kne(e,Une),s="".concat(r),o=parseInt(s,10),c="".concat(n),l=parseInt(c,10),u="".concat(t.height||i.height),d=parseInt(u,10),f="".concat(t.width||i.width),h=parseInt(f,10);return qo(qo(qo(qo(qo({},t),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function Zj(e){return I.createElement(NP,Lp({shapeType:"rectangle",propTransformer:Zne,activeClassName:"recharts-active-bar"},e))}var Xne=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof t=="number")return t;var s=pe(n)||w6(n);return s?t(n,i):(s||zi(),r)}},Yne=["value","background"],TP;function Ks(e){"@babel/helpers - typeof";return Ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ks(e)}function Jne(e,t){if(e==null)return{};var r=Qne(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Qne(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Od(){return Od=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Od.apply(this,arguments)}function Xj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ft(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xj(Object(r),!0).forEach(function(n){Ia(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$P(n.key),n)}}function tae(e,t,r){return t&&Yj(e.prototype,t),r&&Yj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function rae(e,t,r){return t=_d(t),nae(e,EP()?Reflect.construct(t,r||[],_d(e).constructor):t.apply(e,r))}function nae(e,t){if(t&&(Ks(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aae(e)}function aae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EP=function(){return!!e})()}function _d(e){return _d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_d(e)}function iae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fp(e,t)}function Fp(e,t){return Fp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Fp(e,t)}function Ia(e,t,r){return t=$P(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $P(e){var t=sae(e,"string");return Ks(t)=="symbol"?t:t+""}function sae(e,t){if(Ks(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ks(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var qa=function(e){function t(){var r;eae(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=rae(this,t,[].concat(i)),Ia(r,"state",{isAnimationFinished:!1}),Ia(r,"id",Gi("recharts-bar-")),Ia(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Ia(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return iae(t,e),tae(t,[{key:"renderRectanglesStatically",value:function(n){var i=this,s=this.props,o=s.shape,c=s.dataKey,l=s.activeIndex,u=s.activeBar,d=Re(this.props,!1);return n&&n.map(function(f,h){var p=h===l,v=p?u:o,m=Ft(Ft(Ft({},d),f),{},{isActive:p,option:v,index:h,dataKey:c,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return I.createElement(tt,Od({className:"recharts-bar-rectangle"},Li(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),I.createElement(Zj,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,s=i.data,o=i.layout,c=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,d=i.animationEasing,f=i.animationId,h=this.state.prevData;return I.createElement(yn,{begin:l,duration:u,isActive:c,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var v=p.t,m=s.map(function(g,b){var y=h&&h[b];if(y){var w=Kt(y.x,g.x),A=Kt(y.y,g.y),N=Kt(y.width,g.width),j=Kt(y.height,g.height);return Ft(Ft({},g),{},{x:w(v),y:A(v),width:N(v),height:j(v)})}if(o==="horizontal"){var O=Kt(0,g.height),S=O(v);return Ft(Ft({},g),{},{y:g.y+g.height-S,height:S})}var P=Kt(0,g.width),C=P(v);return Ft(Ft({},g),{},{width:C})});return I.createElement(tt,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,s=n.isAnimationActive,o=this.state.prevData;return s&&i&&i.length&&(!o||!Bi(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,s=i.data,o=i.dataKey,c=i.activeIndex,l=Re(this.props.background,!1);return s.map(function(u,d){u.value;var f=u.background,h=Jne(u,Yne);if(!f)return null;var p=Ft(Ft(Ft(Ft(Ft({},h),{},{fill:"#eee"},f),l),Li(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return I.createElement(Zj,Od({key:"background-bar-".concat(d),option:n.props.background,isActive:d===c},p))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,c=s.xAxis,l=s.yAxis,u=s.layout,d=s.children,f=Fr(d,Sl);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,p=function(g,b){var y=Array.isArray(g.value)?g.value[1]:g.value;return{x:g.x,y:g.y,value:y,errorVal:Dt(g,b)}},v={clipPath:n?"url(#clipPath-".concat(i,")"):null};return I.createElement(tt,v,f.map(function(m){return I.cloneElement(m,{key:"error-bar-".concat(i,"-").concat(m.props.dataKey),data:o,xAxis:c,yAxis:l,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,s=n.data,o=n.className,c=n.xAxis,l=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,p=n.isAnimationActive,v=n.background,m=n.id;if(i||!s||!s.length)return null;var g=this.state.isAnimationFinished,b=Ke("recharts-bar",o),y=c&&c.allowDataOverflow,w=l&&l.allowDataOverflow,A=y||w,N=qe(m)?this.id:m;return I.createElement(tt,{className:b},y||w?I.createElement("defs",null,I.createElement("clipPath",{id:"clipPath-".concat(N)},I.createElement("rect",{x:y?u:u-f/2,y:w?d:d-h/2,width:y?f:f*2,height:w?h:h*2}))):null,I.createElement(tt,{className:"recharts-bar-rectangles",clipPath:A?"url(#clipPath-".concat(N,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(A,N),(!p||g)&&Rn.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(x.PureComponent);TP=qa;Ia(qa,"displayName","Bar");Ia(qa,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ya.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ia(qa,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,i=e.bandSize,s=e.xAxis,o=e.yAxis,c=e.xAxisTicks,l=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=BY(n,r);if(!p)return null;var v=t.layout,m=r.type.defaultProps,g=m!==void 0?Ft(Ft({},m),r.props):r.props,b=g.dataKey,y=g.children,w=g.minPointSize,A=v==="horizontal"?o:s,N=u?A.scale.domain():null,j=KY({numericAxis:A}),O=Fr(y,Ec),S=f.map(function(P,C){var _,T,D,$,k,M;u?_=VY(u[d+C],N):(_=Dt(P,b),Array.isArray(_)||(_=[j,_]));var E=Xne(w,TP.defaultProps.minPointSize)(_[1],C);if(v==="horizontal"){var U,R=[o.scale(_[0]),o.scale(_[1])],X=R[0],F=R[1];T=B0({axis:s,ticks:c,bandSize:i,offset:p.offset,entry:P,index:C}),D=(U=F??X)!==null&&U!==void 0?U:void 0,$=p.size;var ie=X-F;if(k=Number.isNaN(ie)?0:ie,M={x:T,y:o.y,width:$,height:o.height},Math.abs(E)>0&&Math.abs(k)<Math.abs(E)){var V=gr(k||E)*(Math.abs(E)-Math.abs(k));D-=V,k+=V}}else{var H=[s.scale(_[0]),s.scale(_[1])],fe=H[0],Le=H[1];if(T=fe,D=B0({axis:o,ticks:l,bandSize:i,offset:p.offset,entry:P,index:C}),$=Le-fe,k=p.size,M={x:s.x,y:D,width:s.width,height:k},Math.abs(E)>0&&Math.abs($)<Math.abs(E)){var me=gr($||E)*(Math.abs(E)-Math.abs($));$+=me}}return Ft(Ft(Ft({},P),{},{x:T,y:D,width:$,height:k,value:u?_:_[1],payload:P,background:M},O&&O[C]&&O[C].props),{},{tooltipPayload:[tP(r,P)],tooltipPosition:{x:T+$/2,y:D+k/2}})});return Ft({data:S,layout:v},h)});function il(e){"@babel/helpers - typeof";return il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},il(e)}function oae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,DP(n.key),n)}}function cae(e,t,r){return t&&Jj(e.prototype,t),r&&Jj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function on(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qj(Object(r),!0).forEach(function(n){Zf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zf(e,t,r){return t=DP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DP(e){var t=lae(e,"string");return il(t)=="symbol"?t:t+""}function lae(e,t){if(il(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(il(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fg=function(t,r,n,i,s){var o=t.width,c=t.height,l=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:c-n.bottom,bottomMirror:c-n.bottom},h=!!Er(u,qa);return d.reduce(function(p,v){var m=r[v],g=m.orientation,b=m.domain,y=m.padding,w=y===void 0?{}:y,A=m.mirror,N=m.reversed,j="".concat(g).concat(A?"Mirror":""),O,S,P,C,_;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var T=b[1]-b[0],D=1/0,$=m.categoricalDomain.sort(A6);if($.forEach(function(H,fe){fe>0&&(D=Math.min((H||0)-($[fe-1]||0),D))}),Number.isFinite(D)){var k=D/T,M=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(O=k*M/2),m.padding==="no-gap"){var E=xr(t.barCategoryGap,k*M),U=k*M/2;O=U-E-(U-E)/M*E}}}i==="xAxis"?S=[n.left+(w.left||0)+(O||0),n.left+n.width-(w.right||0)-(O||0)]:i==="yAxis"?S=l==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(O||0),n.top+n.height-(w.bottom||0)-(O||0)]:S=m.range,N&&(S=[S[1],S[0]]);var R=Y_(m,s,h),X=R.scale,F=R.realScaleType;X.domain(b).range(S),J_(X);var ie=Q_(X,on(on({},m),{},{realScaleType:F}));i==="xAxis"?(_=g==="top"&&!A||g==="bottom"&&A,P=n.left,C=f[j]-_*m.height):i==="yAxis"&&(_=g==="left"&&!A||g==="right"&&A,P=f[j]-_*m.width,C=n.top);var V=on(on(on({},m),ie),{},{realScaleType:F,x:P,y:C,scale:X,width:i==="xAxis"?n.width:m.width,height:i==="yAxis"?n.height:m.height});return V.bandSize=dd(V,ie),!m.hide&&i==="xAxis"?f[j]+=(_?-1:1)*V.height:m.hide||(f[j]+=(_?-1:1)*V.width),on(on({},p),{},Zf({},v,V))},{})},IP=function(t,r){var n=t.x,i=t.y,s=r.x,o=r.y;return{x:Math.min(n,s),y:Math.min(i,o),width:Math.abs(s-n),height:Math.abs(o-i)}},uae=function(t){var r=t.x1,n=t.y1,i=t.x2,s=t.y2;return IP({x:r,y:n},{x:i,y:s})},MP=function(){function e(t){oae(this,e),this.scale=t}return cae(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var c=this.bandwidth?this.bandwidth():0;return this.scale(r)+c}default:return this.scale(r)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],s=n[n.length-1];return i<=s?r>=i&&r<=s:r>=s&&r<=i}}],[{key:"create",value:function(r){return new e(r)}}])}();Zf(MP,"EPS",1e-4);var Bg=function(t){var r=Object.keys(t).reduce(function(n,i){return on(on({},n),{},Zf({},i,MP.create(t[i])))},{});return on(on({},r),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,c=s.position;return Cne(i,function(l,u){return r[u].apply(l,{bandAware:o,position:c})})},isInRange:function(i){return CP(i,function(s,o){return r[o].isInRange(s)})}})};function dae(e){return(e%180+180)%180}var fae=function(t){var r=t.width,n=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=dae(i),o=s*Math.PI/180,c=Math.atan(n/r),l=o>c&&o<Math.PI-c?n/Math.sin(o):r/Math.cos(o);return Math.abs(l)},hae=Gn,mae=yl,pae=Cf;function vae(e){return function(t,r,n){var i=Object(t);if(!mae(t)){var s=hae(r);t=pae(t),r=function(c){return s(i[c],c,i)}}var o=e(t,r,n);return o>-1?i[s?t[o]:o]:void 0}}var gae=vae,xae=OP;function yae(e){var t=xae(e),r=t%1;return t===t?r?t-r:t:0}var bae=yae,jae=TO,wae=Gn,Nae=bae,Sae=Math.max;function Aae(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var i=r==null?0:Nae(r);return i<0&&(i=Sae(n+i,0)),jae(e,wae(t),i)}var Oae=Aae,_ae=gae,Pae=Oae,kae=_ae(Pae),Cae=kae;const Tae=gt(Cae);var Eae=P5(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),Vg=x.createContext(void 0),zg=x.createContext(void 0),RP=x.createContext(void 0),LP=x.createContext({}),FP=x.createContext(void 0),BP=x.createContext(0),VP=x.createContext(0),ew=function(t){var r=t.state,n=r.xAxisMap,i=r.yAxisMap,s=r.offset,o=t.clipPathId,c=t.children,l=t.width,u=t.height,d=Eae(s);return I.createElement(Vg.Provider,{value:n},I.createElement(zg.Provider,{value:i},I.createElement(LP.Provider,{value:s},I.createElement(RP.Provider,{value:d},I.createElement(FP.Provider,{value:o},I.createElement(BP.Provider,{value:u},I.createElement(VP.Provider,{value:l},c)))))))},$ae=function(){return x.useContext(FP)},zP=function(t){var r=x.useContext(Vg);r==null&&zi();var n=r[t];return n==null&&zi(),n},Dae=function(){var t=x.useContext(Vg);return Ea(t)},Iae=function(){var t=x.useContext(zg),r=Tae(t,function(n){return CP(n.domain,Number.isFinite)});return r||Ea(t)},UP=function(t){var r=x.useContext(zg);r==null&&zi();var n=r[t];return n==null&&zi(),n},Mae=function(){var t=x.useContext(RP);return t},Rae=function(){return x.useContext(LP)},Ug=function(){return x.useContext(VP)},Wg=function(){return x.useContext(BP)};function Gs(e){"@babel/helpers - typeof";return Gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gs(e)}function Lae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fae(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,HP(n.key),n)}}function Bae(e,t,r){return t&&Fae(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vae(e,t,r){return t=Pd(t),zae(e,WP()?Reflect.construct(t,r||[],Pd(e).constructor):t.apply(e,r))}function zae(e,t){if(t&&(Gs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uae(e)}function Uae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WP=function(){return!!e})()}function Pd(e){return Pd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pd(e)}function Wae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bp(e,t)}function Bp(e,t){return Bp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Bp(e,t)}function tw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function rw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tw(Object(r),!0).forEach(function(n){Hg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hg(e,t,r){return t=HP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HP(e){var t=Hae(e,"string");return Gs(t)=="symbol"?t:t+""}function Hae(e,t){if(Gs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function qae(e,t){return Xae(e)||Zae(e,t)||Gae(e,t)||Kae()}function Kae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gae(e,t){if(e){if(typeof e=="string")return nw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nw(e,t)}}function nw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Zae(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,c=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(l=(n=s.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return c}}function Xae(e){if(Array.isArray(e))return e}function Vp(){return Vp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vp.apply(this,arguments)}var Yae=function(t,r){var n;return I.isValidElement(t)?n=I.cloneElement(t,r):Ue(t)?n=t(r):n=I.createElement("line",Vp({},r,{className:"recharts-reference-line-line"})),n},Jae=function(t,r,n,i,s,o,c,l,u){var d=s.x,f=s.y,h=s.width,p=s.height;if(n){var v=u.y,m=t.y.apply(v,{position:o});if(Ln(u,"discard")&&!t.y.isInRange(m))return null;var g=[{x:d+h,y:m},{x:d,y:m}];return l==="left"?g.reverse():g}if(r){var b=u.x,y=t.x.apply(b,{position:o});if(Ln(u,"discard")&&!t.x.isInRange(y))return null;var w=[{x:y,y:f+p},{x:y,y:f}];return c==="top"?w.reverse():w}if(i){var A=u.segment,N=A.map(function(j){return t.apply(j,{position:o})});return Ln(u,"discard")&&wne(N,function(j){return!t.isInRange(j)})?null:N}return null};function Qae(e){var t=e.x,r=e.y,n=e.segment,i=e.xAxisId,s=e.yAxisId,o=e.shape,c=e.className,l=e.alwaysShow,u=$ae(),d=zP(i),f=UP(s),h=Mae();if(!u||!h)return null;pn(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=Bg({x:d.scale,y:f.scale}),v=Zt(t),m=Zt(r),g=n&&n.length===2,b=Jae(p,v,m,g,h,e.position,d.orientation,f.orientation,e);if(!b)return null;var y=qae(b,2),w=y[0],A=w.x,N=w.y,j=y[1],O=j.x,S=j.y,P=Ln(e,"hidden")?"url(#".concat(u,")"):void 0,C=rw(rw({clipPath:P},Re(e,!0)),{},{x1:A,y1:N,x2:O,y2:S});return I.createElement(tt,{className:Ke("recharts-reference-line",c)},Yae(o,C),er.renderCallByParent(e,uae({x1:A,y1:N,x2:O,y2:S})))}var qg=function(e){function t(){return Lae(this,t),Vae(this,t,arguments)}return Wae(t,e),Bae(t,[{key:"render",value:function(){return I.createElement(Qae,this.props)}}])}(I.Component);Hg(qg,"displayName","ReferenceLine");Hg(qg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function zp(){return zp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zp.apply(this,arguments)}function Zs(e){"@babel/helpers - typeof";return Zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zs(e)}function aw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function iw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aw(Object(r),!0).forEach(function(n){Xf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tie(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,KP(n.key),n)}}function rie(e,t,r){return t&&tie(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function nie(e,t,r){return t=kd(t),aie(e,qP()?Reflect.construct(t,r||[],kd(e).constructor):t.apply(e,r))}function aie(e,t){if(t&&(Zs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iie(e)}function iie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qP=function(){return!!e})()}function kd(e){return kd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kd(e)}function sie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Up(e,t)}function Up(e,t){return Up=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Up(e,t)}function Xf(e,t,r){return t=KP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KP(e){var t=oie(e,"string");return Zs(t)=="symbol"?t:t+""}function oie(e,t){if(Zs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var cie=function(t){var r=t.x,n=t.y,i=t.xAxis,s=t.yAxis,o=Bg({x:i.scale,y:s.scale}),c=o.apply({x:r,y:n},{bandAware:!0});return Ln(t,"discard")&&!o.isInRange(c)?null:c},Yf=function(e){function t(){return eie(this,t),nie(this,t,arguments)}return sie(t,e),rie(t,[{key:"render",value:function(){var n=this.props,i=n.x,s=n.y,o=n.r,c=n.alwaysShow,l=n.clipPathId,u=Zt(i),d=Zt(s);if(pn(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=cie(this.props);if(!f)return null;var h=f.x,p=f.y,v=this.props,m=v.shape,g=v.className,b=Ln(this.props,"hidden")?"url(#".concat(l,")"):void 0,y=iw(iw({clipPath:b},Re(this.props,!0)),{},{cx:h,cy:p});return I.createElement(tt,{className:Ke("recharts-reference-dot",g)},t.renderDot(m,y),er.renderCallByParent(this.props,{x:h-o,y:p-o,width:2*o,height:2*o}))}}])}(I.Component);Xf(Yf,"displayName","ReferenceDot");Xf(Yf,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Xf(Yf,"renderDot",function(e,t){var r;return I.isValidElement(e)?r=I.cloneElement(e,t):Ue(e)?r=e(t):r=I.createElement(Al,zp({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function Wp(){return Wp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wp.apply(this,arguments)}function Xs(e){"@babel/helpers - typeof";return Xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xs(e)}function sw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ow(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sw(Object(r),!0).forEach(function(n){Jf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uie(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ZP(n.key),n)}}function die(e,t,r){return t&&uie(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function fie(e,t,r){return t=Cd(t),hie(e,GP()?Reflect.construct(t,r||[],Cd(e).constructor):t.apply(e,r))}function hie(e,t){if(t&&(Xs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mie(e)}function mie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GP=function(){return!!e})()}function Cd(e){return Cd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cd(e)}function pie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hp(e,t)}function Hp(e,t){return Hp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Hp(e,t)}function Jf(e,t,r){return t=ZP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZP(e){var t=vie(e,"string");return Xs(t)=="symbol"?t:t+""}function vie(e,t){if(Xs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var gie=function(t,r,n,i,s){var o=s.x1,c=s.x2,l=s.y1,u=s.y2,d=s.xAxis,f=s.yAxis;if(!d||!f)return null;var h=Bg({x:d.scale,y:f.scale}),p={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},v={x:r?h.x.apply(c,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Ln(s,"discard")&&(!h.isInRange(p)||!h.isInRange(v))?null:IP(p,v)},Qf=function(e){function t(){return lie(this,t),fie(this,t,arguments)}return pie(t,e),die(t,[{key:"render",value:function(){var n=this.props,i=n.x1,s=n.x2,o=n.y1,c=n.y2,l=n.className,u=n.alwaysShow,d=n.clipPathId;pn(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Zt(i),h=Zt(s),p=Zt(o),v=Zt(c),m=this.props.shape;if(!f&&!h&&!p&&!v&&!m)return null;var g=gie(f,h,p,v,this.props);if(!g&&!m)return null;var b=Ln(this.props,"hidden")?"url(#".concat(d,")"):void 0;return I.createElement(tt,{className:Ke("recharts-reference-area",l)},t.renderRect(m,ow(ow({clipPath:b},Re(this.props,!0)),g)),er.renderCallByParent(this.props,g))}}])}(I.Component);Jf(Qf,"displayName","ReferenceArea");Jf(Qf,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Jf(Qf,"renderRect",function(e,t){var r;return I.isValidElement(e)?r=I.cloneElement(e,t):Ue(e)?r=e(t):r=I.createElement(Lg,Wp({},t,{className:"recharts-reference-area-rect"})),r});function XP(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function xie(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return fae(n,r)}function yie(e,t,r){var n=r==="width",i=e.x,s=e.y,o=e.width,c=e.height;return t===1?{start:n?i:s,end:n?i+o:s+c}:{start:n?i+o:s+c,end:n?i:s}}function Td(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-i)<=0}function bie(e,t){return XP(e,t+1)}function jie(e,t,r,n,i){for(var s=(n||[]).slice(),o=t.start,c=t.end,l=0,u=1,d=o,f=function(){var v=n==null?void 0:n[l];if(v===void 0)return{v:XP(n,u)};var m=l,g,b=function(){return g===void 0&&(g=r(v,m)),g},y=v.coordinate,w=l===0||Td(e,y,b,d,c);w||(l=0,d=o,u+=1),w&&(d=y+e*(b()/2+i),l+=u)},h;u<=s.length;)if(h=f(),h)return h.v;return[]}function sl(e){"@babel/helpers - typeof";return sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sl(e)}function cw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function lr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cw(Object(r),!0).forEach(function(n){wie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wie(e,t,r){return t=Nie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nie(e){var t=Sie(e,"string");return sl(t)=="symbol"?t:t+""}function Sie(e,t){if(sl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Aie(e,t,r,n,i){for(var s=(n||[]).slice(),o=s.length,c=t.start,l=t.end,u=function(h){var p=s[h],v,m=function(){return v===void 0&&(v=r(p,h)),v};if(h===o-1){var g=e*(p.coordinate+e*m()/2-l);s[h]=p=lr(lr({},p),{},{tickCoord:g>0?p.coordinate-g*e:p.coordinate})}else s[h]=p=lr(lr({},p),{},{tickCoord:p.coordinate});var b=Td(e,p.tickCoord,m,c,l);b&&(l=p.tickCoord-e*(m()/2+i),s[h]=lr(lr({},p),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return s}function Oie(e,t,r,n,i,s){var o=(n||[]).slice(),c=o.length,l=t.start,u=t.end;if(s){var d=n[c-1],f=r(d,c-1),h=e*(d.coordinate+e*f/2-u);o[c-1]=d=lr(lr({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var p=Td(e,d.tickCoord,function(){return f},l,u);p&&(u=d.tickCoord-e*(f/2+i),o[c-1]=lr(lr({},d),{},{isShow:!0}))}for(var v=s?c-1:c,m=function(y){var w=o[y],A,N=function(){return A===void 0&&(A=r(w,y)),A};if(y===0){var j=e*(w.coordinate-e*N()/2-l);o[y]=w=lr(lr({},w),{},{tickCoord:j<0?w.coordinate-j*e:w.coordinate})}else o[y]=w=lr(lr({},w),{},{tickCoord:w.coordinate});var O=Td(e,w.tickCoord,N,l,u);O&&(l=w.tickCoord+e*(N()/2+i),o[y]=lr(lr({},w),{},{isShow:!0}))},g=0;g<v;g++)m(g);return o}function Kg(e,t,r){var n=e.tick,i=e.ticks,s=e.viewBox,o=e.minTickGap,c=e.orientation,l=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!i||!i.length||!n)return[];if(pe(l)||Ya.isSsr)return bie(i,typeof l=="number"&&pe(l)?l:0);var h=[],p=c==="top"||c==="bottom"?"width":"height",v=d&&p==="width"?tc(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(w,A){var N=Ue(u)?u(w.value,A):w.value;return p==="width"?xie(tc(N,{fontSize:t,letterSpacing:r}),v,f):tc(N,{fontSize:t,letterSpacing:r})[p]},g=i.length>=2?gr(i[1].coordinate-i[0].coordinate):1,b=yie(s,g,p);return l==="equidistantPreserveStart"?jie(g,b,m,i,o):(l==="preserveStart"||l==="preserveStartEnd"?h=Oie(g,b,m,i,o,l==="preserveStartEnd"):h=Aie(g,b,m,i,o),h.filter(function(y){return y.isShow}))}var _ie=["viewBox"],Pie=["viewBox"],kie=["ticks"];function Ys(e){"@babel/helpers - typeof";return Ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ys(e)}function ms(){return ms=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ms.apply(this,arguments)}function lw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Wt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lw(Object(r),!0).forEach(function(n){Gg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xh(e,t){if(e==null)return{};var r=Cie(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Cie(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Tie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,JP(n.key),n)}}function Eie(e,t,r){return t&&uw(e.prototype,t),r&&uw(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function $ie(e,t,r){return t=Ed(t),Die(e,YP()?Reflect.construct(t,r||[],Ed(e).constructor):t.apply(e,r))}function Die(e,t){if(t&&(Ys(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Iie(e)}function Iie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YP=function(){return!!e})()}function Ed(e){return Ed=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ed(e)}function Mie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qp(e,t)}function qp(e,t){return qp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},qp(e,t)}function Gg(e,t,r){return t=JP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JP(e){var t=Rie(e,"string");return Ys(t)=="symbol"?t:t+""}function Rie(e,t){if(Ys(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ys(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var _o=function(e){function t(r){var n;return Tie(this,t),n=$ie(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return Mie(t,e),Eie(t,[{key:"shouldComponentUpdate",value:function(n,i){var s=n.viewBox,o=Xh(n,_ie),c=this.props,l=c.viewBox,u=Xh(c,Pie);return!As(s,l)||!As(o,u)||!As(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,s=i.x,o=i.y,c=i.width,l=i.height,u=i.orientation,d=i.tickSize,f=i.mirror,h=i.tickMargin,p,v,m,g,b,y,w=f?-1:1,A=n.tickSize||d,N=pe(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=v=n.coordinate,g=o+ +!f*l,m=g-w*A,y=m-w*h,b=N;break;case"left":m=g=n.coordinate,v=s+ +!f*c,p=v-w*A,b=p-w*h,y=N;break;case"right":m=g=n.coordinate,v=s+ +f*c,p=v+w*A,b=p+w*h,y=N;break;default:p=v=n.coordinate,g=o+ +f*l,m=g+w*A,y=m+w*h,b=N;break}return{line:{x1:p,y1:m,x2:v,y2:g},tick:{x:b,y}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,o;switch(i){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,c=n.height,l=n.orientation,u=n.mirror,d=n.axisLine,f=Wt(Wt(Wt({},Re(this.props,!1)),Re(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);f=Wt(Wt({},f),{},{x1:i,y1:s+h*c,x2:i+o,y2:s+h*c})}else{var p=+(l==="left"&&!u||l==="right"&&u);f=Wt(Wt({},f),{},{x1:i+p*o,y1:s,x2:i+p*o,y2:s+c})}return I.createElement("line",ms({},f,{className:Ke("recharts-cartesian-axis-line",Lr(d,"className"))}))}},{key:"renderTicks",value:function(n,i,s){var o=this,c=this.props,l=c.tickLine,u=c.stroke,d=c.tick,f=c.tickFormatter,h=c.unit,p=Kg(Wt(Wt({},this.props),{},{ticks:n}),i,s),v=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),g=Re(this.props,!1),b=Re(d,!1),y=Wt(Wt({},g),{},{fill:"none"},Re(l,!1)),w=p.map(function(A,N){var j=o.getTickLineCoord(A),O=j.line,S=j.tick,P=Wt(Wt(Wt(Wt({textAnchor:v,verticalAnchor:m},g),{},{stroke:"none",fill:u},b),S),{},{index:N,payload:A,visibleTicksCount:p.length,tickFormatter:f});return I.createElement(tt,ms({className:"recharts-cartesian-axis-tick",key:"tick-".concat(A.value,"-").concat(A.coordinate,"-").concat(A.tickCoord)},Li(o.props,A,N)),l&&I.createElement("line",ms({},y,O,{className:Ke("recharts-cartesian-axis-tick-line",Lr(l,"className"))})),d&&t.renderTickItem(d,P,"".concat(Ue(f)?f(A.value,N):A.value).concat(h||"")))});return I.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,i=this.props,s=i.axisLine,o=i.width,c=i.height,l=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var f=this.props,h=f.ticks,p=Xh(f,kie),v=h;return Ue(l)&&(v=h&&h.length>0?l(this.props):l(p)),o<=0||c<=0||!v||!v.length?null:I.createElement(tt,{className:Ke("recharts-cartesian-axis",u),ref:function(g){n.layerReference=g}},s&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),er.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,s){var o,c=Ke(i.className,"recharts-cartesian-axis-tick-value");return I.isValidElement(n)?o=I.cloneElement(n,Wt(Wt({},i),{},{className:c})):Ue(n)?o=n(Wt(Wt({},i),{},{className:c})):o=I.createElement(Fi,ms({},i,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])}(x.Component);Gg(_o,"displayName","CartesianAxis");Gg(_o,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Lie=["x1","y1","x2","y2","key"],Fie=["offset"];function Ui(e){"@babel/helpers - typeof";return Ui=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ui(e)}function dw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dw(Object(r),!0).forEach(function(n){Bie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bie(e,t,r){return t=Vie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vie(e){var t=zie(e,"string");return Ui(t)=="symbol"?t:t+""}function zie(e,t){if(Ui(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ui(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vi(){return vi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vi.apply(this,arguments)}function fw(e,t){if(e==null)return{};var r=Uie(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Uie(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Wie=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,i=t.x,s=t.y,o=t.width,c=t.height,l=t.ry;return I.createElement("rect",{x:i,y:s,ry:l,width:o,height:c,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function QP(e,t){var r;if(I.isValidElement(e))r=I.cloneElement(e,t);else if(Ue(e))r=e(t);else{var n=t.x1,i=t.y1,s=t.x2,o=t.y2,c=t.key,l=fw(t,Lie),u=Re(l,!1);u.offset;var d=fw(u,Fie);r=I.createElement("line",vi({},d,{x1:n,y1:i,x2:s,y2:o,fill:"none",key:c}))}return r}function Hie(e){var t=e.x,r=e.width,n=e.horizontal,i=n===void 0?!0:n,s=e.horizontalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(c,l){var u=dr(dr({},e),{},{x1:t,y1:c,x2:t+r,y2:c,key:"line-".concat(l),index:l});return QP(i,u)});return I.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function qie(e){var t=e.y,r=e.height,n=e.vertical,i=n===void 0?!0:n,s=e.verticalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(c,l){var u=dr(dr({},e),{},{x1:c,y1:t,x2:c,y2:t+r,key:"line-".concat(l),index:l});return QP(i,u)});return I.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Kie(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,i=e.y,s=e.width,o=e.height,c=e.horizontalPoints,l=e.horizontal,u=l===void 0?!0:l;if(!u||!t||!t.length)return null;var d=c.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var v=!d[p+1],m=v?i+o-h:d[p+1]-h;if(m<=0)return null;var g=p%t.length;return I.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:m,width:s,stroke:"none",fill:t[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return I.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Gie(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,i=e.fillOpacity,s=e.x,o=e.y,c=e.width,l=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+s-s)}).sort(function(h,p){return h-p});s!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var v=!d[p+1],m=v?s+c-h:d[p+1]-h;if(m<=0)return null;var g=p%n.length;return I.createElement("rect",{key:"react-".concat(p),x:h,y:o,width:m,height:l,stroke:"none",fill:n[g],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return I.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Zie=function(t,r){var n=t.xAxis,i=t.width,s=t.height,o=t.offset;return X_(Kg(dr(dr(dr({},_o.defaultProps),n),{},{ticks:oa(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.left,o.left+o.width,r)},Xie=function(t,r){var n=t.yAxis,i=t.width,s=t.height,o=t.offset;return X_(Kg(dr(dr(dr({},_o.defaultProps),n),{},{ticks:oa(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.top,o.top+o.height,r)},as={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function os(e){var t,r,n,i,s,o,c=Ug(),l=Wg(),u=Rae(),d=dr(dr({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:as.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:as.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:as.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:as.horizontalFill,vertical:(s=e.vertical)!==null&&s!==void 0?s:as.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:as.verticalFill,x:pe(e.x)?e.x:u.left,y:pe(e.y)?e.y:u.top,width:pe(e.width)?e.width:u.width,height:pe(e.height)?e.height:u.height}),f=d.x,h=d.y,p=d.width,v=d.height,m=d.syncWithTicks,g=d.horizontalValues,b=d.verticalValues,y=Dae(),w=Iae();if(!pe(p)||p<=0||!pe(v)||v<=0||!pe(f)||f!==+f||!pe(h)||h!==+h)return null;var A=d.verticalCoordinatesGenerator||Zie,N=d.horizontalCoordinatesGenerator||Xie,j=d.horizontalPoints,O=d.verticalPoints;if((!j||!j.length)&&Ue(N)){var S=g&&g.length,P=N({yAxis:w?dr(dr({},w),{},{ticks:S?g:w.ticks}):void 0,width:c,height:l,offset:u},S?!0:m);pn(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ui(P),"]")),Array.isArray(P)&&(j=P)}if((!O||!O.length)&&Ue(A)){var C=b&&b.length,_=A({xAxis:y?dr(dr({},y),{},{ticks:C?b:y.ticks}):void 0,width:c,height:l,offset:u},C?!0:m);pn(Array.isArray(_),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ui(_),"]")),Array.isArray(_)&&(O=_)}return I.createElement("g",{className:"recharts-cartesian-grid"},I.createElement(Wie,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),I.createElement(Hie,vi({},d,{offset:u,horizontalPoints:j,xAxis:y,yAxis:w})),I.createElement(qie,vi({},d,{offset:u,verticalPoints:O,xAxis:y,yAxis:w})),I.createElement(Kie,vi({},d,{horizontalPoints:j})),I.createElement(Gie,vi({},d,{verticalPoints:O})))}os.displayName="CartesianGrid";var Yie=["type","layout","connectNulls","ref"],Jie=["key"];function Js(e){"@babel/helpers - typeof";return Js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Js(e)}function hw(e,t){if(e==null)return{};var r=Qie(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Qie(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function oc(){return oc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oc.apply(this,arguments)}function mw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mw(Object(r),!0).forEach(function(n){cn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function is(e){return nse(e)||rse(e)||tse(e)||ese()}function ese(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tse(e,t){if(e){if(typeof e=="string")return Kp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Kp(e,t)}}function rse(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function nse(e){if(Array.isArray(e))return Kp(e)}function Kp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ase(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tk(n.key),n)}}function ise(e,t,r){return t&&pw(e.prototype,t),r&&pw(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function sse(e,t,r){return t=$d(t),ose(e,ek()?Reflect.construct(t,r||[],$d(e).constructor):t.apply(e,r))}function ose(e,t){if(t&&(Js(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cse(e)}function cse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ek(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ek=function(){return!!e})()}function $d(e){return $d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$d(e)}function lse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gp(e,t)}function Gp(e,t){return Gp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Gp(e,t)}function cn(e,t,r){return t=tk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tk(e){var t=use(e,"string");return Js(t)=="symbol"?t:t+""}function use(e,t){if(Js(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Js(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Oi=function(e){function t(){var r;ase(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=sse(this,t,[].concat(i)),cn(r,"state",{isAnimationFinished:!0,totalLength:0}),cn(r,"generateSimpleStrokeDasharray",function(o,c){return"".concat(c,"px ").concat(o-c,"px")}),cn(r,"getStrokeDasharray",function(o,c,l){var u=l.reduce(function(b,y){return b+y});if(!u)return r.generateSimpleStrokeDasharray(c,o);for(var d=Math.floor(o/u),f=o%u,h=c-o,p=[],v=0,m=0;v<l.length;m+=l[v],++v)if(m+l[v]>f){p=[].concat(is(l.slice(0,v)),[f-m]);break}var g=p.length%2===0?[0,h]:[h];return[].concat(is(t.repeat(l,d)),is(p),g).map(function(b){return"".concat(b,"px")}).join(", ")}),cn(r,"id",Gi("recharts-line-")),cn(r,"pathRef",function(o){r.mainCurve=o}),cn(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),cn(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return lse(t,e),ise(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.points,c=s.xAxis,l=s.yAxis,u=s.layout,d=s.children,f=Fr(d,Sl);if(!f)return null;var h=function(m,g){return{x:m.x,y:m.y,value:m.value,errorVal:Dt(m.payload,g)}},p={clipPath:n?"url(#clipPath-".concat(i,")"):null};return I.createElement(tt,p,f.map(function(v){return I.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:o,xAxis:c,yAxis:l,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,i,s){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var c=this.props,l=c.dot,u=c.points,d=c.dataKey,f=Re(this.props,!1),h=Re(l,!0),p=u.map(function(m,g){var b=kr(kr(kr({key:"dot-".concat(g),r:3},f),h),{},{index:g,cx:m.x,cy:m.y,value:m.value,dataKey:d,payload:m.payload,points:u});return t.renderDotItem(l,b)}),v={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return I.createElement(tt,oc({className:"recharts-line-dots",key:"dots"},v),p)}},{key:"renderCurveStatically",value:function(n,i,s,o){var c=this.props,l=c.type,u=c.layout,d=c.connectNulls;c.ref;var f=hw(c,Yie),h=kr(kr(kr({},Re(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:n},o),{},{type:l,layout:u,connectNulls:d});return I.createElement(Ai,oc({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var s=this,o=this.props,c=o.points,l=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,p=o.animationId,v=o.animateNewValues,m=o.width,g=o.height,b=this.state,y=b.prevPoints,w=b.totalLength;return I.createElement(yn,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(A){var N=A.t;if(y){var j=y.length/c.length,O=c.map(function(T,D){var $=Math.floor(D*j);if(y[$]){var k=y[$],M=Kt(k.x,T.x),E=Kt(k.y,T.y);return kr(kr({},T),{},{x:M(N),y:E(N)})}if(v){var U=Kt(m*2,T.x),R=Kt(g/2,T.y);return kr(kr({},T),{},{x:U(N),y:R(N)})}return kr(kr({},T),{},{x:T.x,y:T.y})});return s.renderCurveStatically(O,n,i)}var S=Kt(0,w),P=S(N),C;if(l){var _="".concat(l).split(/[,\s]+/gim).map(function(T){return parseFloat(T)});C=s.getStrokeDasharray(P,w,_)}else C=s.generateSimpleStrokeDasharray(w,P);return s.renderCurveStatically(c,n,i,{strokeDasharray:C})})}},{key:"renderCurve",value:function(n,i){var s=this.props,o=s.points,c=s.isAnimationActive,l=this.state,u=l.prevPoints,d=l.totalLength;return c&&o&&o.length&&(!u&&d>0||!Bi(u,o))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(o,n,i)}},{key:"render",value:function(){var n,i=this.props,s=i.hide,o=i.dot,c=i.points,l=i.className,u=i.xAxis,d=i.yAxis,f=i.top,h=i.left,p=i.width,v=i.height,m=i.isAnimationActive,g=i.id;if(s||!c||!c.length)return null;var b=this.state.isAnimationFinished,y=c.length===1,w=Ke("recharts-line",l),A=u&&u.allowDataOverflow,N=d&&d.allowDataOverflow,j=A||N,O=qe(g)?this.id:g,S=(n=Re(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},P=S.r,C=P===void 0?3:P,_=S.strokeWidth,T=_===void 0?2:_,D=zA(o)?o:{},$=D.clipDot,k=$===void 0?!0:$,M=C*2+T;return I.createElement(tt,{className:w},A||N?I.createElement("defs",null,I.createElement("clipPath",{id:"clipPath-".concat(O)},I.createElement("rect",{x:A?h:h-p/2,y:N?f:f-v/2,width:A?p:p*2,height:N?v:v*2})),!k&&I.createElement("clipPath",{id:"clipPath-dots-".concat(O)},I.createElement("rect",{x:h-M/2,y:f-M/2,width:p+M,height:v+M}))):null,!y&&this.renderCurve(j,O),this.renderErrorBar(j,O),(y||o)&&this.renderDots(j,k,O),(!m||b)&&Rn.renderCallByParent(this.props,c))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var s=n.length%2!==0?[].concat(is(n),[0]):n,o=[],c=0;c<i;++c)o=[].concat(is(o),is(s));return o}},{key:"renderDotItem",value:function(n,i){var s;if(I.isValidElement(n))s=I.cloneElement(n,i);else if(Ue(n))s=n(i);else{var o=i.key,c=hw(i,Jie),l=Ke("recharts-line-dot",typeof n!="boolean"?n.className:"");s=I.createElement(Al,oc({key:o},c,{className:l}))}return s}}])}(x.PureComponent);cn(Oi,"displayName","Line");cn(Oi,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Ya.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});cn(Oi,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,i=e.xAxisTicks,s=e.yAxisTicks,o=e.dataKey,c=e.bandSize,l=e.displayedData,u=e.offset,d=t.layout,f=l.map(function(h,p){var v=Dt(h,o);return d==="horizontal"?{x:ud({axis:r,ticks:i,bandSize:c,entry:h,index:p}),y:qe(v)?null:n.scale(v),value:v,payload:h}:{x:qe(v)?null:r.scale(v),y:ud({axis:n,ticks:s,bandSize:c,entry:h,index:p}),value:v,payload:h}});return kr({points:f,layout:d},u)});var dse=["layout","type","stroke","connectNulls","isRange","ref"],fse=["key"],rk;function Qs(e){"@babel/helpers - typeof";return Qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qs(e)}function nk(e,t){if(e==null)return{};var r=hse(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function hse(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function gi(){return gi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gi.apply(this,arguments)}function vw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Pa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vw(Object(r),!0).forEach(function(n){$n(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ik(n.key),n)}}function pse(e,t,r){return t&&gw(e.prototype,t),r&&gw(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function vse(e,t,r){return t=Dd(t),gse(e,ak()?Reflect.construct(t,r||[],Dd(e).constructor):t.apply(e,r))}function gse(e,t){if(t&&(Qs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xse(e)}function xse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ak(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ak=function(){return!!e})()}function Dd(e){return Dd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dd(e)}function yse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zp(e,t)}function Zp(e,t){return Zp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Zp(e,t)}function $n(e,t,r){return t=ik(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ik(e){var t=bse(e,"string");return Qs(t)=="symbol"?t:t+""}function bse(e,t){if(Qs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Fn=function(e){function t(){var r;mse(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=vse(this,t,[].concat(i)),$n(r,"state",{isAnimationFinished:!0}),$n(r,"id",Gi("recharts-area-")),$n(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Ue(o)&&o()}),$n(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Ue(o)&&o()}),r}return yse(t,e),pse(t,[{key:"renderDots",value:function(n,i,s){var o=this.props.isAnimationActive,c=this.state.isAnimationFinished;if(o&&!c)return null;var l=this.props,u=l.dot,d=l.points,f=l.dataKey,h=Re(this.props,!1),p=Re(u,!0),v=d.map(function(g,b){var y=Pa(Pa(Pa({key:"dot-".concat(b),r:3},h),p),{},{index:b,cx:g.x,cy:g.y,dataKey:f,value:g.value,payload:g.payload,points:d});return t.renderDotItem(u,y)}),m={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return I.createElement(tt,gi({className:"recharts-area-dots"},m),v)}},{key:"renderHorizontalRect",value:function(n){var i=this.props,s=i.baseLine,o=i.points,c=i.strokeWidth,l=o[0].x,u=o[o.length-1].x,d=n*Math.abs(l-u),f=Da(o.map(function(h){return h.y||0}));return pe(s)&&typeof s=="number"?f=Math.max(s,f):s&&Array.isArray(s)&&s.length&&(f=Math.max(Da(s.map(function(h){return h.y||0})),f)),pe(f)?I.createElement("rect",{x:l<u?l:l-d,y:0,width:d,height:Math.floor(f+(c?parseInt("".concat(c),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var i=this.props,s=i.baseLine,o=i.points,c=i.strokeWidth,l=o[0].y,u=o[o.length-1].y,d=n*Math.abs(l-u),f=Da(o.map(function(h){return h.x||0}));return pe(s)&&typeof s=="number"?f=Math.max(s,f):s&&Array.isArray(s)&&s.length&&(f=Math.max(Da(s.map(function(h){return h.x||0})),f)),pe(f)?I.createElement("rect",{x:0,y:l<u?l:l-d,width:f+(c?parseInt("".concat(c),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,i,s,o){var c=this.props,l=c.layout,u=c.type,d=c.stroke,f=c.connectNulls,h=c.isRange;c.ref;var p=nk(c,dse);return I.createElement(tt,{clipPath:s?"url(#clipPath-".concat(o,")"):null},I.createElement(Ai,gi({},Re(p,!0),{points:n,connectNulls:f,type:u,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),d!=="none"&&I.createElement(Ai,gi({},Re(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:n})),d!=="none"&&h&&I.createElement(Ai,gi({},Re(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(n,i){var s=this,o=this.props,c=o.points,l=o.baseLine,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,p=o.animationId,v=this.state,m=v.prevPoints,g=v.prevBaseLine;return I.createElement(yn,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var y=b.t;if(m){var w=m.length/c.length,A=c.map(function(S,P){var C=Math.floor(P*w);if(m[C]){var _=m[C],T=Kt(_.x,S.x),D=Kt(_.y,S.y);return Pa(Pa({},S),{},{x:T(y),y:D(y)})}return S}),N;if(pe(l)&&typeof l=="number"){var j=Kt(g,l);N=j(y)}else if(qe(l)||bo(l)){var O=Kt(g,0);N=O(y)}else N=l.map(function(S,P){var C=Math.floor(P*w);if(g[C]){var _=g[C],T=Kt(_.x,S.x),D=Kt(_.y,S.y);return Pa(Pa({},S),{},{x:T(y),y:D(y)})}return S});return s.renderAreaStatically(A,N,n,i)}return I.createElement(tt,null,I.createElement("defs",null,I.createElement("clipPath",{id:"animationClipPath-".concat(i)},s.renderClipRect(y))),I.createElement(tt,{clipPath:"url(#animationClipPath-".concat(i,")")},s.renderAreaStatically(c,l,n,i)))})}},{key:"renderArea",value:function(n,i){var s=this.props,o=s.points,c=s.baseLine,l=s.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return l&&o&&o.length&&(!d&&h>0||!Bi(d,o)||!Bi(f,c))?this.renderAreaWithAnimation(n,i):this.renderAreaStatically(o,c,n,i)}},{key:"render",value:function(){var n,i=this.props,s=i.hide,o=i.dot,c=i.points,l=i.className,u=i.top,d=i.left,f=i.xAxis,h=i.yAxis,p=i.width,v=i.height,m=i.isAnimationActive,g=i.id;if(s||!c||!c.length)return null;var b=this.state.isAnimationFinished,y=c.length===1,w=Ke("recharts-area",l),A=f&&f.allowDataOverflow,N=h&&h.allowDataOverflow,j=A||N,O=qe(g)?this.id:g,S=(n=Re(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},P=S.r,C=P===void 0?3:P,_=S.strokeWidth,T=_===void 0?2:_,D=zA(o)?o:{},$=D.clipDot,k=$===void 0?!0:$,M=C*2+T;return I.createElement(tt,{className:w},A||N?I.createElement("defs",null,I.createElement("clipPath",{id:"clipPath-".concat(O)},I.createElement("rect",{x:A?d:d-p/2,y:N?u:u-v/2,width:A?p:p*2,height:N?v:v*2})),!k&&I.createElement("clipPath",{id:"clipPath-dots-".concat(O)},I.createElement("rect",{x:d-M/2,y:u-M/2,width:p+M,height:v+M}))):null,y?null:this.renderArea(j,O),(o||y)&&this.renderDots(j,k,O),(!m||b)&&Rn.renderCallByParent(this.props,c))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:n.points!==i.curPoints||n.baseLine!==i.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(x.PureComponent);rk=Fn;$n(Fn,"displayName","Area");$n(Fn,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Ya.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});$n(Fn,"getBaseValue",function(e,t,r,n){var i=e.layout,s=e.baseValue,o=t.props.baseValue,c=o??s;if(pe(c)&&typeof c=="number")return c;var l=i==="horizontal"?n:r,u=l.scale.domain();if(l.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return c==="dataMin"?f:c==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return c==="dataMin"?u[0]:c==="dataMax"?u[1]:u[0]});$n(Fn,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,i=e.yAxis,s=e.xAxisTicks,o=e.yAxisTicks,c=e.bandSize,l=e.dataKey,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=t.layout,v=u&&u.length,m=rk.getBaseValue(t,r,n,i),g=p==="horizontal",b=!1,y=f.map(function(A,N){var j;v?j=u[d+N]:(j=Dt(A,l),Array.isArray(j)?b=!0:j=[m,j]);var O=j[1]==null||v&&Dt(A,l)==null;return g?{x:ud({axis:n,ticks:s,bandSize:c,entry:A,index:N}),y:O?null:i.scale(j[1]),value:j,payload:A}:{x:O?null:n.scale(j[1]),y:ud({axis:i,ticks:o,bandSize:c,entry:A,index:N}),value:j,payload:A}}),w;return v||b?w=y.map(function(A){var N=Array.isArray(A.value)?A.value[0]:null;return g?{x:A.x,y:N!=null&&A.y!=null?i.scale(N):null}:{x:N!=null?n.scale(N):null,y:A.y}}):w=g?i.scale(m):n.scale(m),Pa({points:y,baseLine:w,layout:p,isRange:b},h)});$n(Fn,"renderDotItem",function(e,t){var r;if(I.isValidElement(e))r=I.cloneElement(e,t);else if(Ue(e))r=e(t);else{var n=Ke("recharts-area-dot",typeof e!="boolean"?e.className:""),i=t.key,s=nk(t,fse);r=I.createElement(Al,gi({},s,{key:i,className:n}))}return r});function eo(e){"@babel/helpers - typeof";return eo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eo(e)}function jse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wse(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ck(n.key),n)}}function Nse(e,t,r){return t&&wse(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Sse(e,t,r){return t=Id(t),Ase(e,sk()?Reflect.construct(t,r||[],Id(e).constructor):t.apply(e,r))}function Ase(e,t){if(t&&(eo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ose(e)}function Ose(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sk=function(){return!!e})()}function Id(e){return Id=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Id(e)}function _se(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xp(e,t)}function Xp(e,t){return Xp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Xp(e,t)}function ok(e,t,r){return t=ck(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ck(e){var t=Pse(e,"string");return eo(t)=="symbol"?t:t+""}function Pse(e,t){if(eo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(eo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Yp(){return Yp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yp.apply(this,arguments)}function kse(e){var t=e.xAxisId,r=Ug(),n=Wg(),i=zP(t);return i==null?null:x.createElement(_o,Yp({},i,{className:Ke("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return oa(o,!0)}}))}var _n=function(e){function t(){return jse(this,t),Sse(this,t,arguments)}return _se(t,e),Nse(t,[{key:"render",value:function(){return x.createElement(kse,this.props)}}])}(x.Component);ok(_n,"displayName","XAxis");ok(_n,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function to(e){"@babel/helpers - typeof";return to=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},to(e)}function Cse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tse(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dk(n.key),n)}}function Ese(e,t,r){return t&&Tse(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $se(e,t,r){return t=Md(t),Dse(e,lk()?Reflect.construct(t,r||[],Md(e).constructor):t.apply(e,r))}function Dse(e,t){if(t&&(to(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ise(e)}function Ise(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lk=function(){return!!e})()}function Md(e){return Md=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Md(e)}function Mse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jp(e,t)}function Jp(e,t){return Jp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Jp(e,t)}function uk(e,t,r){return t=dk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dk(e){var t=Rse(e,"string");return to(t)=="symbol"?t:t+""}function Rse(e,t){if(to(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(to(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Qp(){return Qp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qp.apply(this,arguments)}var Lse=function(t){var r=t.yAxisId,n=Ug(),i=Wg(),s=UP(r);return s==null?null:x.createElement(_o,Qp({},s,{className:Ke("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(c){return oa(c,!0)}}))},Pn=function(e){function t(){return Cse(this,t),$se(this,t,arguments)}return Mse(t,e),Ese(t,[{key:"render",value:function(){return x.createElement(Lse,this.props)}}])}(x.Component);uk(Pn,"displayName","YAxis");uk(Pn,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function xw(e){return zse(e)||Vse(e)||Bse(e)||Fse()}function Fse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bse(e,t){if(e){if(typeof e=="string")return ev(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ev(e,t)}}function Vse(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zse(e){if(Array.isArray(e))return ev(e)}function ev(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var tv=function(t,r,n,i,s){var o=Fr(t,qg),c=Fr(t,Yf),l=[].concat(xw(o),xw(c)),u=Fr(t,Qf),d="".concat(i,"Id"),f=i[0],h=r;if(l.length&&(h=l.reduce(function(m,g){if(g.props[d]===n&&Ln(g.props,"extendDomain")&&pe(g.props[f])){var b=g.props[f];return[Math.min(m[0],b),Math.max(m[1],b)]}return m},h)),u.length){var p="".concat(f,"1"),v="".concat(f,"2");h=u.reduce(function(m,g){if(g.props[d]===n&&Ln(g.props,"extendDomain")&&pe(g.props[p])&&pe(g.props[v])){var b=g.props[p],y=g.props[v];return[Math.min(m[0],b,y),Math.max(m[1],b,y)]}return m},h)}return s&&s.length&&(h=s.reduce(function(m,g){return pe(g)?[Math.min(m[0],g),Math.max(m[1],g)]:m},h)),h},fk={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function s(l,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new i(d,f||l,h),v=r?r+u:u;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],p]:l._events[v].push(p):(l._events[v]=p,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function c(){this._events=new n,this._eventsCount=0}c.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},c.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,v=new Array(p);h<p;h++)v[h]=f[h].fn;return v},c.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},c.prototype.emit=function(u,d,f,h,p,v){var m=r?r+u:u;if(!this._events[m])return!1;var g=this._events[m],b=arguments.length,y,w;if(g.fn){switch(g.once&&this.removeListener(u,g.fn,void 0,!0),b){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,d),!0;case 3:return g.fn.call(g.context,d,f),!0;case 4:return g.fn.call(g.context,d,f,h),!0;case 5:return g.fn.call(g.context,d,f,h,p),!0;case 6:return g.fn.call(g.context,d,f,h,p,v),!0}for(w=1,y=new Array(b-1);w<b;w++)y[w-1]=arguments[w];g.fn.apply(g.context,y)}else{var A=g.length,N;for(w=0;w<A;w++)switch(g[w].once&&this.removeListener(u,g[w].fn,void 0,!0),b){case 1:g[w].fn.call(g[w].context);break;case 2:g[w].fn.call(g[w].context,d);break;case 3:g[w].fn.call(g[w].context,d,f);break;case 4:g[w].fn.call(g[w].context,d,f,h);break;default:if(!y)for(N=1,y=new Array(b-1);N<b;N++)y[N-1]=arguments[N];g[w].fn.apply(g[w].context,y)}}return!0},c.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},c.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},c.prototype.removeListener=function(u,d,f,h){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return o(this,p),this;var v=this._events[p];if(v.fn)v.fn===d&&(!h||v.once)&&(!f||v.context===f)&&o(this,p);else{for(var m=0,g=[],b=v.length;m<b;m++)(v[m].fn!==d||h&&!v[m].once||f&&v[m].context!==f)&&g.push(v[m]);g.length?this._events[p]=g.length===1?g[0]:g:o(this,p)}return this},c.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=r,c.EventEmitter=c,e.exports=c})(fk);var Use=fk.exports;const Wse=gt(Use);var Yh=new Wse,Jh="recharts.syncMouseEvents";function ol(e){"@babel/helpers - typeof";return ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ol(e)}function Hse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qse(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hk(n.key),n)}}function Kse(e,t,r){return t&&qse(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qh(e,t,r){return t=hk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hk(e){var t=Gse(e,"string");return ol(t)=="symbol"?t:t+""}function Gse(e,t){if(ol(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ol(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Zse=function(){function e(){Hse(this,e),Qh(this,"activeIndex",0),Qh(this,"coordinateList",[]),Qh(this,"layout","horizontal")}return Kse(e,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,s=i===void 0?null:i,o=r.container,c=o===void 0?null:o,l=r.layout,u=l===void 0?null:l,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=c??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,o=i.y,c=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=s+l+u,h=o+this.offset.top+c/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function Xse(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],i=e==null?void 0:e[1];if(n&&i&&pe(n)&&pe(i))return!0}return!1}function Yse(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function mk(e){var t=e.cx,r=e.cy,n=e.radius,i=e.startAngle,s=e.endAngle,o=Nt(t,r,n,i),c=Nt(t,r,n,s);return{points:[o,c],cx:t,cy:r,radius:n,startAngle:i,endAngle:s}}function Jse(e,t,r){var n,i,s,o;if(e==="horizontal")n=t.x,s=n,i=r.top,o=r.top+r.height;else if(e==="vertical")i=t.y,o=i,n=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var c=t.cx,l=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=Nt(c,l,u,f),p=Nt(c,l,d,f);n=h.x,i=h.y,s=p.x,o=p.y}else return mk(t);return[{x:n,y:i},{x:s,y:o}]}function cl(e){"@babel/helpers - typeof";return cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cl(e)}function yw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Gl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yw(Object(r),!0).forEach(function(n){Qse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qse(e,t,r){return t=eoe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eoe(e){var t=toe(e,"string");return cl(t)=="symbol"?t:t+""}function toe(e,t){if(cl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function roe(e){var t,r,n=e.element,i=e.tooltipEventType,s=e.isActive,o=e.activeCoordinate,c=e.activePayload,l=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!s||!o||h!=="ScatterChart"&&i!=="axis")return null;var v,m=Ai;if(h==="ScatterChart")v=o,m=ute;else if(h==="BarChart")v=Yse(f,o,l,d),m=Lg;else if(f==="radial"){var g=mk(o),b=g.cx,y=g.cy,w=g.radius,A=g.startAngle,N=g.endAngle;v={cx:b,cy:y,startAngle:A,endAngle:N,innerRadius:w,outerRadius:w},m=oP}else v={points:Jse(f,o,l)},m=Ai;var j=Gl(Gl(Gl(Gl({stroke:"#ccc",pointerEvents:"none"},l),v),Re(p,!1)),{},{payload:c,payloadIndex:u,className:Ke("recharts-tooltip-cursor",p.className)});return x.isValidElement(p)?x.cloneElement(p,j):x.createElement(m,j)}var noe=["item"],aoe=["children","className","width","height","style","compact","title","desc"];function ro(e){"@babel/helpers - typeof";return ro=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ro(e)}function ps(){return ps=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ps.apply(this,arguments)}function bw(e,t){return ooe(e)||soe(e,t)||vk(e,t)||ioe()}function ioe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function soe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,c=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(l=(n=s.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return c}}function ooe(e){if(Array.isArray(e))return e}function jw(e,t){if(e==null)return{};var r=coe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function coe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function loe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uoe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gk(n.key),n)}}function doe(e,t,r){return t&&uoe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function foe(e,t,r){return t=Rd(t),hoe(e,pk()?Reflect.construct(t,r||[],Rd(e).constructor):t.apply(e,r))}function hoe(e,t){if(t&&(ro(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return moe(e)}function moe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pk=function(){return!!e})()}function Rd(e){return Rd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rd(e)}function poe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rv(e,t)}function rv(e,t){return rv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},rv(e,t)}function no(e){return xoe(e)||goe(e)||vk(e)||voe()}function voe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vk(e,t){if(e){if(typeof e=="string")return nv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nv(e,t)}}function goe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xoe(e){if(Array.isArray(e))return nv(e)}function nv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ww(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ne(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ww(Object(r),!0).forEach(function(n){ze(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ww(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ze(e,t,r){return t=gk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gk(e){var t=yoe(e,"string");return ro(t)=="symbol"?t:t+""}function yoe(e,t){if(ro(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ro(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var boe={xAxis:["bottom","top"],yAxis:["left","right"]},joe={width:"100%",height:"100%"},xk={x:0,y:0};function Zl(e){return e}var woe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},Noe=function(t,r,n,i){var s=r.find(function(d){return d&&d.index===n});if(s){if(t==="horizontal")return{x:s.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:s.coordinate};if(t==="centric"){var o=s.coordinate,c=i.radius;return ne(ne(ne({},i),Nt(i.cx,i.cy,c,o)),{},{angle:o,radius:c})}var l=s.coordinate,u=i.angle;return ne(ne(ne({},i),Nt(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return xk},eh=function(t,r){var n=r.graphicalItems,i=r.dataStartIndex,s=r.dataEndIndex,o=(n??[]).reduce(function(c,l){var u=l.props.data;return u&&u.length?[].concat(no(c),no(u)):c},[]);return o.length>0?o:t&&t.length&&pe(i)&&pe(s)?t.slice(i,s+1):[]};function yk(e){return e==="number"?[0,"auto"]:void 0}var av=function(t,r,n,i){var s=t.graphicalItems,o=t.tooltipAxis,c=eh(r,t);return n<0||!s||!s.length||n>=c.length?null:s.reduce(function(l,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=f===void 0?c:f;h=Mu(p,o.dataKey,i)}else h=f&&f[n]||c[n];return h?[].concat(no(l),[tP(u,h)]):l},[])},Nw=function(t,r,n,i){var s=i||{x:t.chartX,y:t.chartY},o=woe(s,n),c=t.orderedTooltipTicks,l=t.tooltipAxis,u=t.tooltipTicks,d=DY(o,c,u,l);if(d>=0&&u){var f=u[d]&&u[d].value,h=av(t,r,d,f),p=Noe(n,c,d,s);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},Soe=function(t,r){var n=r.axes,i=r.graphicalItems,s=r.axisType,o=r.axisIdKey,c=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,p=Z_(d,s);return n.reduce(function(v,m){var g,b=m.type.defaultProps!==void 0?ne(ne({},m.type.defaultProps),m.props):m.props,y=b.type,w=b.dataKey,A=b.allowDataOverflow,N=b.allowDuplicatedCategory,j=b.scale,O=b.ticks,S=b.includeHidden,P=b[o];if(v[P])return v;var C=eh(t.data,{graphicalItems:i.filter(function(ie){var V,H=o in ie.props?ie.props[o]:(V=ie.type.defaultProps)===null||V===void 0?void 0:V[o];return H===P}),dataStartIndex:l,dataEndIndex:u}),_=C.length,T,D,$;Xse(b.domain,A,y)&&(T=gp(b.domain,null,A),p&&(y==="number"||j!=="auto")&&($=nc(C,w,"category")));var k=yk(y);if(!T||T.length===0){var M,E=(M=b.domain)!==null&&M!==void 0?M:k;if(w){if(T=nc(C,w,y),y==="category"&&p){var U=S6(T);N&&U?(D=T,T=Nd(0,_)):N||(T=U0(E,T,m).reduce(function(ie,V){return ie.indexOf(V)>=0?ie:[].concat(no(ie),[V])},[]))}else if(y==="category")N?T=T.filter(function(ie){return ie!==""&&!qe(ie)}):T=U0(E,T,m).reduce(function(ie,V){return ie.indexOf(V)>=0||V===""||qe(V)?ie:[].concat(no(ie),[V])},[]);else if(y==="number"){var R=FY(C,i.filter(function(ie){var V,H,fe=o in ie.props?ie.props[o]:(V=ie.type.defaultProps)===null||V===void 0?void 0:V[o],Le="hide"in ie.props?ie.props.hide:(H=ie.type.defaultProps)===null||H===void 0?void 0:H.hide;return fe===P&&(S||!Le)}),w,s,d);R&&(T=R)}p&&(y==="number"||j!=="auto")&&($=nc(C,w,"category"))}else p?T=Nd(0,_):c&&c[P]&&c[P].hasStack&&y==="number"?T=h==="expand"?[0,1]:eP(c[P].stackGroups,l,u):T=G_(C,i.filter(function(ie){var V=o in ie.props?ie.props[o]:ie.type.defaultProps[o],H="hide"in ie.props?ie.props.hide:ie.type.defaultProps.hide;return V===P&&(S||!H)}),y,d,!0);if(y==="number")T=tv(f,T,P,s,O),E&&(T=gp(E,T,A));else if(y==="category"&&E){var X=E,F=T.every(function(ie){return X.indexOf(ie)>=0});F&&(T=X)}}return ne(ne({},v),{},ze({},P,ne(ne({},b),{},{axisType:s,domain:T,categoricalDomain:$,duplicateDomain:D,originalDomain:(g=b.domain)!==null&&g!==void 0?g:k,isCategorical:p,layout:d})))},{})},Aoe=function(t,r){var n=r.graphicalItems,i=r.Axis,s=r.axisType,o=r.axisIdKey,c=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=eh(t.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:u}),p=h.length,v=Z_(d,s),m=-1;return n.reduce(function(g,b){var y=b.type.defaultProps!==void 0?ne(ne({},b.type.defaultProps),b.props):b.props,w=y[o],A=yk("number");if(!g[w]){m++;var N;return v?N=Nd(0,p):c&&c[w]&&c[w].hasStack?(N=eP(c[w].stackGroups,l,u),N=tv(f,N,w,s)):(N=gp(A,G_(h,n.filter(function(j){var O,S,P=o in j.props?j.props[o]:(O=j.type.defaultProps)===null||O===void 0?void 0:O[o],C="hide"in j.props?j.props.hide:(S=j.type.defaultProps)===null||S===void 0?void 0:S.hide;return P===w&&!C}),"number",d),i.defaultProps.allowDataOverflow),N=tv(f,N,w,s)),ne(ne({},g),{},ze({},w,ne(ne({axisType:s},i.defaultProps),{},{hide:!0,orientation:Lr(boe,"".concat(s,".").concat(m%2),null),domain:N,originalDomain:A,isCategorical:v,layout:d})))}return g},{})},Ooe=function(t,r){var n=r.axisType,i=n===void 0?"xAxis":n,s=r.AxisComp,o=r.graphicalItems,c=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(i,"Id"),h=Fr(d,s),p={};return h&&h.length?p=Soe(t,{axes:h,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:c,dataStartIndex:l,dataEndIndex:u}):o&&o.length&&(p=Aoe(t,{Axis:s,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:c,dataStartIndex:l,dataEndIndex:u})),p},_oe=function(t){var r=Ea(t),n=oa(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:dg(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:dd(r,n)}},Sw=function(t){var r=t.children,n=t.defaultShowTooltip,i=Er(r,qs),s=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},Poe=function(t){return!t||!t.length?!1:t.some(function(r){var n=da(r&&r.type);return n&&n.indexOf("Bar")>=0})},Aw=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},koe=function(t,r){var n=t.props,i=t.graphicalItems,s=t.xAxisMap,o=s===void 0?{}:s,c=t.yAxisMap,l=c===void 0?{}:c,u=n.width,d=n.height,f=n.children,h=n.margin||{},p=Er(f,qs),v=Er(f,wi),m=Object.keys(l).reduce(function(N,j){var O=l[j],S=O.orientation;return!O.mirror&&!O.hide?ne(ne({},N),{},ze({},S,N[S]+O.width)):N},{left:h.left||0,right:h.right||0}),g=Object.keys(o).reduce(function(N,j){var O=o[j],S=O.orientation;return!O.mirror&&!O.hide?ne(ne({},N),{},ze({},S,Lr(N,"".concat(S))+O.height)):N},{top:h.top||0,bottom:h.bottom||0}),b=ne(ne({},g),m),y=b.bottom;p&&(b.bottom+=p.props.height||qs.defaultProps.height),v&&r&&(b=RY(b,i,n,r));var w=u-b.left-b.right,A=d-b.top-b.bottom;return ne(ne({brushBottom:y},b),{},{width:Math.max(w,0),height:Math.max(A,0)})},Coe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},th=function(t){var r=t.chartName,n=t.GraphicalChild,i=t.defaultTooltipEventType,s=i===void 0?"axis":i,o=t.validateTooltipEventTypes,c=o===void 0?["axis"]:o,l=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(b,y){var w=y.graphicalItems,A=y.stackGroups,N=y.offset,j=y.updateId,O=y.dataStartIndex,S=y.dataEndIndex,P=b.barSize,C=b.layout,_=b.barGap,T=b.barCategoryGap,D=b.maxBarSize,$=Aw(C),k=$.numericAxisName,M=$.cateAxisName,E=Poe(w),U=[];return w.forEach(function(R,X){var F=eh(b.data,{graphicalItems:[R],dataStartIndex:O,dataEndIndex:S}),ie=R.type.defaultProps!==void 0?ne(ne({},R.type.defaultProps),R.props):R.props,V=ie.dataKey,H=ie.maxBarSize,fe=ie["".concat(k,"Id")],Le=ie["".concat(M,"Id")],me={},Pe=l.reduce(function(z,re){var se=y["".concat(re.axisType,"Map")],Ce=ie["".concat(re.axisType,"Id")];se&&se[Ce]||re.axisType==="zAxis"||zi();var J=se[Ce];return ne(ne({},z),{},ze(ze({},re.axisType,J),"".concat(re.axisType,"Ticks"),oa(J)))},me),le=Pe[M],ye=Pe["".concat(M,"Ticks")],xe=A&&A[fe]&&A[fe].hasStack&&GY(R,A[fe].stackGroups),te=da(R.type).indexOf("Bar")>=0,Ve=dd(le,ye),Te=[],et=E&&IY({barSize:P,stackGroups:A,totalSize:Coe(Pe,M)});if(te){var rt,st,L=qe(H)?D:H,G=(rt=(st=dd(le,ye,!0))!==null&&st!==void 0?st:L)!==null&&rt!==void 0?rt:0;Te=MY({barGap:_,barCategoryGap:T,bandSize:G!==Ve?G:Ve,sizeList:et[Le],maxBarSize:L}),G!==Ve&&(Te=Te.map(function(z){return ne(ne({},z),{},{position:ne(ne({},z.position),{},{offset:z.position.offset-G/2})})}))}var Y=R&&R.type&&R.type.getComposedData;Y&&U.push({props:ne(ne({},Y(ne(ne({},Pe),{},{displayedData:F,props:b,dataKey:V,item:R,bandSize:Ve,barPosition:Te,offset:N,stackedData:xe,layout:C,dataStartIndex:O,dataEndIndex:S}))),{},ze(ze(ze({key:R.key||"item-".concat(X)},k,Pe[k]),M,Pe[M]),"animationId",j)),childIndex:M6(R,b.children),item:R})}),U},p=function(b,y){var w=b.props,A=b.dataStartIndex,N=b.dataEndIndex,j=b.updateId;if(!Ry({props:w}))return null;var O=w.children,S=w.layout,P=w.stackOffset,C=w.data,_=w.reverseStackOrder,T=Aw(S),D=T.numericAxisName,$=T.cateAxisName,k=Fr(O,n),M=qY(C,k,"".concat(D,"Id"),"".concat($,"Id"),P,_),E=l.reduce(function(ie,V){var H="".concat(V.axisType,"Map");return ne(ne({},ie),{},ze({},H,Ooe(w,ne(ne({},V),{},{graphicalItems:k,stackGroups:V.axisType===D&&M,dataStartIndex:A,dataEndIndex:N}))))},{}),U=koe(ne(ne({},E),{},{props:w,graphicalItems:k}),y==null?void 0:y.legendBBox);Object.keys(E).forEach(function(ie){E[ie]=d(w,E[ie],U,ie.replace("Map",""),r)});var R=E["".concat($,"Map")],X=_oe(R),F=h(w,ne(ne({},E),{},{dataStartIndex:A,dataEndIndex:N,updateId:j,graphicalItems:k,stackGroups:M,offset:U}));return ne(ne({formattedGraphicalItems:F,graphicalItems:k,offset:U,stackGroups:M},X),E)},v=function(g){function b(y){var w,A,N;return loe(this,b),N=foe(this,b,[y]),ze(N,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ze(N,"accessibilityManager",new Zse),ze(N,"handleLegendBBoxUpdate",function(j){if(j){var O=N.state,S=O.dataStartIndex,P=O.dataEndIndex,C=O.updateId;N.setState(ne({legendBBox:j},p({props:N.props,dataStartIndex:S,dataEndIndex:P,updateId:C},ne(ne({},N.state),{},{legendBBox:j}))))}}),ze(N,"handleReceiveSyncEvent",function(j,O,S){if(N.props.syncId===j){if(S===N.eventEmitterSymbol&&typeof N.props.syncMethod!="function")return;N.applySyncEvent(O)}}),ze(N,"handleBrushChange",function(j){var O=j.startIndex,S=j.endIndex;if(O!==N.state.dataStartIndex||S!==N.state.dataEndIndex){var P=N.state.updateId;N.setState(function(){return ne({dataStartIndex:O,dataEndIndex:S},p({props:N.props,dataStartIndex:O,dataEndIndex:S,updateId:P},N.state))}),N.triggerSyncEvent({dataStartIndex:O,dataEndIndex:S})}}),ze(N,"handleMouseEnter",function(j){var O=N.getMouseInfo(j);if(O){var S=ne(ne({},O),{},{isTooltipActive:!0});N.setState(S),N.triggerSyncEvent(S);var P=N.props.onMouseEnter;Ue(P)&&P(S,j)}}),ze(N,"triggeredAfterMouseMove",function(j){var O=N.getMouseInfo(j),S=O?ne(ne({},O),{},{isTooltipActive:!0}):{isTooltipActive:!1};N.setState(S),N.triggerSyncEvent(S);var P=N.props.onMouseMove;Ue(P)&&P(S,j)}),ze(N,"handleItemMouseEnter",function(j){N.setState(function(){return{isTooltipActive:!0,activeItem:j,activePayload:j.tooltipPayload,activeCoordinate:j.tooltipPosition||{x:j.cx,y:j.cy}}})}),ze(N,"handleItemMouseLeave",function(){N.setState(function(){return{isTooltipActive:!1}})}),ze(N,"handleMouseMove",function(j){j.persist(),N.throttleTriggeredAfterMouseMove(j)}),ze(N,"handleMouseLeave",function(j){N.throttleTriggeredAfterMouseMove.cancel();var O={isTooltipActive:!1};N.setState(O),N.triggerSyncEvent(O);var S=N.props.onMouseLeave;Ue(S)&&S(O,j)}),ze(N,"handleOuterEvent",function(j){var O=I6(j),S=Lr(N.props,"".concat(O));if(O&&Ue(S)){var P,C;/.*touch.*/i.test(O)?C=N.getMouseInfo(j.changedTouches[0]):C=N.getMouseInfo(j),S((P=C)!==null&&P!==void 0?P:{},j)}}),ze(N,"handleClick",function(j){var O=N.getMouseInfo(j);if(O){var S=ne(ne({},O),{},{isTooltipActive:!0});N.setState(S),N.triggerSyncEvent(S);var P=N.props.onClick;Ue(P)&&P(S,j)}}),ze(N,"handleMouseDown",function(j){var O=N.props.onMouseDown;if(Ue(O)){var S=N.getMouseInfo(j);O(S,j)}}),ze(N,"handleMouseUp",function(j){var O=N.props.onMouseUp;if(Ue(O)){var S=N.getMouseInfo(j);O(S,j)}}),ze(N,"handleTouchMove",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&N.throttleTriggeredAfterMouseMove(j.changedTouches[0])}),ze(N,"handleTouchStart",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&N.handleMouseDown(j.changedTouches[0])}),ze(N,"handleTouchEnd",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&N.handleMouseUp(j.changedTouches[0])}),ze(N,"handleDoubleClick",function(j){var O=N.props.onDoubleClick;if(Ue(O)){var S=N.getMouseInfo(j);O(S,j)}}),ze(N,"handleContextMenu",function(j){var O=N.props.onContextMenu;if(Ue(O)){var S=N.getMouseInfo(j);O(S,j)}}),ze(N,"triggerSyncEvent",function(j){N.props.syncId!==void 0&&Yh.emit(Jh,N.props.syncId,j,N.eventEmitterSymbol)}),ze(N,"applySyncEvent",function(j){var O=N.props,S=O.layout,P=O.syncMethod,C=N.state.updateId,_=j.dataStartIndex,T=j.dataEndIndex;if(j.dataStartIndex!==void 0||j.dataEndIndex!==void 0)N.setState(ne({dataStartIndex:_,dataEndIndex:T},p({props:N.props,dataStartIndex:_,dataEndIndex:T,updateId:C},N.state)));else if(j.activeTooltipIndex!==void 0){var D=j.chartX,$=j.chartY,k=j.activeTooltipIndex,M=N.state,E=M.offset,U=M.tooltipTicks;if(!E)return;if(typeof P=="function")k=P(U,j);else if(P==="value"){k=-1;for(var R=0;R<U.length;R++)if(U[R].value===j.activeLabel){k=R;break}}var X=ne(ne({},E),{},{x:E.left,y:E.top}),F=Math.min(D,X.x+X.width),ie=Math.min($,X.y+X.height),V=U[k]&&U[k].value,H=av(N.state,N.props.data,k),fe=U[k]?{x:S==="horizontal"?U[k].coordinate:F,y:S==="horizontal"?ie:U[k].coordinate}:xk;N.setState(ne(ne({},j),{},{activeLabel:V,activeCoordinate:fe,activePayload:H,activeTooltipIndex:k}))}else N.setState(j)}),ze(N,"renderCursor",function(j){var O,S=N.state,P=S.isTooltipActive,C=S.activeCoordinate,_=S.activePayload,T=S.offset,D=S.activeTooltipIndex,$=S.tooltipAxisBandSize,k=N.getTooltipEventType(),M=(O=j.props.active)!==null&&O!==void 0?O:P,E=N.props.layout,U=j.key||"_recharts-cursor";return I.createElement(roe,{key:U,activeCoordinate:C,activePayload:_,activeTooltipIndex:D,chartName:r,element:j,isActive:M,layout:E,offset:T,tooltipAxisBandSize:$,tooltipEventType:k})}),ze(N,"renderPolarAxis",function(j,O,S){var P=Lr(j,"type.axisType"),C=Lr(N.state,"".concat(P,"Map")),_=j.type.defaultProps,T=_!==void 0?ne(ne({},_),j.props):j.props,D=C&&C[T["".concat(P,"Id")]];return x.cloneElement(j,ne(ne({},D),{},{className:Ke(P,D.className),key:j.key||"".concat(O,"-").concat(S),ticks:oa(D,!0)}))}),ze(N,"renderPolarGrid",function(j){var O=j.props,S=O.radialLines,P=O.polarAngles,C=O.polarRadius,_=N.state,T=_.radiusAxisMap,D=_.angleAxisMap,$=Ea(T),k=Ea(D),M=k.cx,E=k.cy,U=k.innerRadius,R=k.outerRadius;return x.cloneElement(j,{polarAngles:Array.isArray(P)?P:oa(k,!0).map(function(X){return X.coordinate}),polarRadius:Array.isArray(C)?C:oa($,!0).map(function(X){return X.coordinate}),cx:M,cy:E,innerRadius:U,outerRadius:R,key:j.key||"polar-grid",radialLines:S})}),ze(N,"renderLegend",function(){var j=N.state.formattedGraphicalItems,O=N.props,S=O.children,P=O.width,C=O.height,_=N.props.margin||{},T=P-(_.left||0)-(_.right||0),D=q_({children:S,formattedGraphicalItems:j,legendWidth:T,legendContent:u});if(!D)return null;var $=D.item,k=jw(D,noe);return x.cloneElement($,ne(ne({},k),{},{chartWidth:P,chartHeight:C,margin:_,onBBoxUpdate:N.handleLegendBBoxUpdate}))}),ze(N,"renderTooltip",function(){var j,O=N.props,S=O.children,P=O.accessibilityLayer,C=Er(S,ur);if(!C)return null;var _=N.state,T=_.isTooltipActive,D=_.activeCoordinate,$=_.activePayload,k=_.activeLabel,M=_.offset,E=(j=C.props.active)!==null&&j!==void 0?j:T;return x.cloneElement(C,{viewBox:ne(ne({},M),{},{x:M.left,y:M.top}),active:E,label:k,payload:E?$:[],coordinate:D,accessibilityLayer:P})}),ze(N,"renderBrush",function(j){var O=N.props,S=O.margin,P=O.data,C=N.state,_=C.offset,T=C.dataStartIndex,D=C.dataEndIndex,$=C.updateId;return x.cloneElement(j,{key:j.key||"_recharts-brush",onChange:Wl(N.handleBrushChange,j.props.onChange),data:P,x:pe(j.props.x)?j.props.x:_.left,y:pe(j.props.y)?j.props.y:_.top+_.height+_.brushBottom-(S.bottom||0),width:pe(j.props.width)?j.props.width:_.width,startIndex:T,endIndex:D,updateId:"brush-".concat($)})}),ze(N,"renderReferenceElement",function(j,O,S){if(!j)return null;var P=N,C=P.clipPathId,_=N.state,T=_.xAxisMap,D=_.yAxisMap,$=_.offset,k=j.type.defaultProps||{},M=j.props,E=M.xAxisId,U=E===void 0?k.xAxisId:E,R=M.yAxisId,X=R===void 0?k.yAxisId:R;return x.cloneElement(j,{key:j.key||"".concat(O,"-").concat(S),xAxis:T[U],yAxis:D[X],viewBox:{x:$.left,y:$.top,width:$.width,height:$.height},clipPathId:C})}),ze(N,"renderActivePoints",function(j){var O=j.item,S=j.activePoint,P=j.basePoint,C=j.childIndex,_=j.isRange,T=[],D=O.props.key,$=O.item.type.defaultProps!==void 0?ne(ne({},O.item.type.defaultProps),O.item.props):O.item.props,k=$.activeDot,M=$.dataKey,E=ne(ne({index:C,dataKey:M,cx:S.x,cy:S.y,r:4,fill:Rg(O.item),strokeWidth:2,stroke:"#fff",payload:S.payload,value:S.value},Re(k,!1)),Ru(k));return T.push(b.renderActiveDot(k,E,"".concat(D,"-activePoint-").concat(C))),P?T.push(b.renderActiveDot(k,ne(ne({},E),{},{cx:P.x,cy:P.y}),"".concat(D,"-basePoint-").concat(C))):_&&T.push(null),T}),ze(N,"renderGraphicChild",function(j,O,S){var P=N.filterFormatItem(j,O,S);if(!P)return null;var C=N.getTooltipEventType(),_=N.state,T=_.isTooltipActive,D=_.tooltipAxis,$=_.activeTooltipIndex,k=_.activeLabel,M=N.props.children,E=Er(M,ur),U=P.props,R=U.points,X=U.isRange,F=U.baseLine,ie=P.item.type.defaultProps!==void 0?ne(ne({},P.item.type.defaultProps),P.item.props):P.item.props,V=ie.activeDot,H=ie.hide,fe=ie.activeBar,Le=ie.activeShape,me=!!(!H&&T&&E&&(V||fe||Le)),Pe={};C!=="axis"&&E&&E.props.trigger==="click"?Pe={onClick:Wl(N.handleItemMouseEnter,j.props.onClick)}:C!=="axis"&&(Pe={onMouseLeave:Wl(N.handleItemMouseLeave,j.props.onMouseLeave),onMouseEnter:Wl(N.handleItemMouseEnter,j.props.onMouseEnter)});var le=x.cloneElement(j,ne(ne({},P.props),Pe));function ye(re){return typeof D.dataKey=="function"?D.dataKey(re.payload):null}if(me)if($>=0){var xe,te;if(D.dataKey&&!D.allowDuplicatedCategory){var Ve=typeof D.dataKey=="function"?ye:"payload.".concat(D.dataKey.toString());xe=Mu(R,Ve,k),te=X&&F&&Mu(F,Ve,k)}else xe=R==null?void 0:R[$],te=X&&F&&F[$];if(Le||fe){var Te=j.props.activeIndex!==void 0?j.props.activeIndex:$;return[x.cloneElement(j,ne(ne(ne({},P.props),Pe),{},{activeIndex:Te})),null,null]}if(!qe(xe))return[le].concat(no(N.renderActivePoints({item:P,activePoint:xe,basePoint:te,childIndex:$,isRange:X})))}else{var et,rt=(et=N.getItemByXY(N.state.activeCoordinate))!==null&&et!==void 0?et:{graphicalItem:le},st=rt.graphicalItem,L=st.item,G=L===void 0?j:L,Y=st.childIndex,z=ne(ne(ne({},P.props),Pe),{},{activeIndex:Y});return[x.cloneElement(G,z),null,null]}return X?[le,null,null]:[le,null]}),ze(N,"renderCustomized",function(j,O,S){return x.cloneElement(j,ne(ne({key:"recharts-customized-".concat(S)},N.props),N.state))}),ze(N,"renderMap",{CartesianGrid:{handler:Zl,once:!0},ReferenceArea:{handler:N.renderReferenceElement},ReferenceLine:{handler:Zl},ReferenceDot:{handler:N.renderReferenceElement},XAxis:{handler:Zl},YAxis:{handler:Zl},Brush:{handler:N.renderBrush,once:!0},Bar:{handler:N.renderGraphicChild},Line:{handler:N.renderGraphicChild},Area:{handler:N.renderGraphicChild},Radar:{handler:N.renderGraphicChild},RadialBar:{handler:N.renderGraphicChild},Scatter:{handler:N.renderGraphicChild},Pie:{handler:N.renderGraphicChild},Funnel:{handler:N.renderGraphicChild},Tooltip:{handler:N.renderCursor,once:!0},PolarGrid:{handler:N.renderPolarGrid,once:!0},PolarAngleAxis:{handler:N.renderPolarAxis},PolarRadiusAxis:{handler:N.renderPolarAxis},Customized:{handler:N.renderCustomized}}),N.clipPathId="".concat((w=y.id)!==null&&w!==void 0?w:Gi("recharts"),"-clip"),N.throttleTriggeredAfterMouseMove=HO(N.triggeredAfterMouseMove,(A=y.throttleDelay)!==null&&A!==void 0?A:1e3/60),N.state={},N}return poe(b,g),doe(b,[{key:"componentDidMount",value:function(){var w,A;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,A=w.children,N=w.data,j=w.height,O=w.layout,S=Er(A,ur);if(S){var P=S.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var C=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,_=av(this.state,N,P,C),T=this.state.tooltipTicks[P].coordinate,D=(this.state.offset.top+j)/2,$=O==="horizontal",k=$?{x:T,y:D}:{y:T,x:D},M=this.state.formattedGraphicalItems.find(function(U){var R=U.item;return R.type.name==="Scatter"});M&&(k=ne(ne({},k),M.props.points[P].tooltipPosition),_=M.props.points[P].tooltipPayload);var E={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:C,activePayload:_,activeCoordinate:k};this.setState(E),this.renderCursor(S),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,A){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==A.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var N,j;this.accessibilityManager.setDetails({offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0}})}return null}},{key:"componentDidUpdate",value:function(w){Em([Er(w.children,ur)],[Er(this.props.children,ur)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=Er(this.props.children,ur);if(w&&typeof w.props.shared=="boolean"){var A=w.props.shared?"axis":"item";return c.indexOf(A)>=0?A:s}return s}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var A=this.container,N=A.getBoundingClientRect(),j=cK(N),O={chartX:Math.round(w.pageX-j.left),chartY:Math.round(w.pageY-j.top)},S=N.width/A.offsetWidth||1,P=this.inRange(O.chartX,O.chartY,S);if(!P)return null;var C=this.state,_=C.xAxisMap,T=C.yAxisMap,D=this.getTooltipEventType(),$=Nw(this.state,this.props.data,this.props.layout,P);if(D!=="axis"&&_&&T){var k=Ea(_).scale,M=Ea(T).scale,E=k&&k.invert?k.invert(O.chartX):null,U=M&&M.invert?M.invert(O.chartY):null;return ne(ne({},O),{},{xValue:E,yValue:U},$)}return $?ne(ne({},O),$):null}},{key:"inRange",value:function(w,A){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,j=this.props.layout,O=w/N,S=A/N;if(j==="horizontal"||j==="vertical"){var P=this.state.offset,C=O>=P.left&&O<=P.left+P.width&&S>=P.top&&S<=P.top+P.height;return C?{x:O,y:S}:null}var _=this.state,T=_.angleAxisMap,D=_.radiusAxisMap;if(T&&D){var $=Ea(T);return q0({x:O,y:S},$)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,A=this.getTooltipEventType(),N=Er(w,ur),j={};N&&A==="axis"&&(N.props.trigger==="click"?j={onClick:this.handleClick}:j={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var O=Ru(this.props,this.handleOuterEvent);return ne(ne({},O),j)}},{key:"addListener",value:function(){Yh.on(Jh,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Yh.removeListener(Jh,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,A,N){for(var j=this.state.formattedGraphicalItems,O=0,S=j.length;O<S;O++){var P=j[O];if(P.item===w||P.props.key===w.key||A===da(P.item.type)&&N===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,A=this.state.offset,N=A.left,j=A.top,O=A.height,S=A.width;return I.createElement("defs",null,I.createElement("clipPath",{id:w},I.createElement("rect",{x:N,y:j,height:O,width:S})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(A,N){var j=bw(N,2),O=j[0],S=j[1];return ne(ne({},A),{},ze({},O,S.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(A,N){var j=bw(N,2),O=j[0],S=j[1];return ne(ne({},A),{},ze({},O,S.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var A;return(A=this.state.xAxisMap)===null||A===void 0||(A=A[w])===null||A===void 0?void 0:A.scale}},{key:"getYScaleByAxisId",value:function(w){var A;return(A=this.state.yAxisMap)===null||A===void 0||(A=A[w])===null||A===void 0?void 0:A.scale}},{key:"getItemByXY",value:function(w){var A=this.state,N=A.formattedGraphicalItems,j=A.activeItem;if(N&&N.length)for(var O=0,S=N.length;O<S;O++){var P=N[O],C=P.props,_=P.item,T=_.type.defaultProps!==void 0?ne(ne({},_.type.defaultProps),_.props):_.props,D=da(_.type);if(D==="Bar"){var $=(C.data||[]).find(function(U){return Wee(w,U)});if($)return{graphicalItem:P,payload:$}}else if(D==="RadialBar"){var k=(C.data||[]).find(function(U){return q0(w,U)});if(k)return{graphicalItem:P,payload:k}}else if(Kf(P,j)||Gf(P,j)||rl(P,j)){var M=Ere({graphicalItem:P,activeTooltipItem:j,itemData:T.data}),E=T.activeIndex===void 0?M:T.activeIndex;return{graphicalItem:ne(ne({},P),{},{childIndex:E}),payload:rl(P,j)?T.data[M]:P.props.data[M]}}}return null}},{key:"render",value:function(){var w=this;if(!Ry(this))return null;var A=this.props,N=A.children,j=A.className,O=A.width,S=A.height,P=A.style,C=A.compact,_=A.title,T=A.desc,D=jw(A,aoe),$=Re(D,!1);if(C)return I.createElement(ew,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},I.createElement(Dm,ps({},$,{width:O,height:S,title:_,desc:T}),this.renderClipPath(),Fy(N,this.renderMap)));if(this.props.accessibilityLayer){var k,M;$.tabIndex=(k=this.props.tabIndex)!==null&&k!==void 0?k:0,$.role=(M=this.props.role)!==null&&M!==void 0?M:"application",$.onKeyDown=function(U){w.accessibilityManager.keyboardEvent(U)},$.onFocus=function(){w.accessibilityManager.focus()}}var E=this.parseEventsOfWrapper();return I.createElement(ew,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},I.createElement("div",ps({className:Ke("recharts-wrapper",j),style:ne({position:"relative",cursor:"default",width:O,height:S},P)},E,{ref:function(R){w.container=R}}),I.createElement(Dm,ps({},$,{width:O,height:S,title:_,desc:T,style:joe}),this.renderClipPath(),Fy(N,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(x.Component);ze(v,"displayName",r),ze(v,"defaultProps",ne({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),ze(v,"getDerivedStateFromProps",function(g,b){var y=g.dataKey,w=g.data,A=g.children,N=g.width,j=g.height,O=g.layout,S=g.stackOffset,P=g.margin,C=b.dataStartIndex,_=b.dataEndIndex;if(b.updateId===void 0){var T=Sw(g);return ne(ne(ne({},T),{},{updateId:0},p(ne(ne({props:g},T),{},{updateId:0}),b)),{},{prevDataKey:y,prevData:w,prevWidth:N,prevHeight:j,prevLayout:O,prevStackOffset:S,prevMargin:P,prevChildren:A})}if(y!==b.prevDataKey||w!==b.prevData||N!==b.prevWidth||j!==b.prevHeight||O!==b.prevLayout||S!==b.prevStackOffset||!As(P,b.prevMargin)){var D=Sw(g),$={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},k=ne(ne({},Nw(b,w,O)),{},{updateId:b.updateId+1}),M=ne(ne(ne({},D),$),k);return ne(ne(ne({},M),p(ne({props:g},M),b)),{},{prevDataKey:y,prevData:w,prevWidth:N,prevHeight:j,prevLayout:O,prevStackOffset:S,prevMargin:P,prevChildren:A})}if(!Em(A,b.prevChildren)){var E,U,R,X,F=Er(A,qs),ie=F&&(E=(U=F.props)===null||U===void 0?void 0:U.startIndex)!==null&&E!==void 0?E:C,V=F&&(R=(X=F.props)===null||X===void 0?void 0:X.endIndex)!==null&&R!==void 0?R:_,H=ie!==C||V!==_,fe=!qe(w),Le=fe&&!H?b.updateId:b.updateId+1;return ne(ne({updateId:Le},p(ne(ne({props:g},b),{},{updateId:Le,dataStartIndex:ie,dataEndIndex:V}),b)),{},{prevChildren:A,dataStartIndex:ie,dataEndIndex:V})}return null}),ze(v,"renderActiveDot",function(g,b,y){var w;return x.isValidElement(g)?w=x.cloneElement(g,b):Ue(g)?w=g(b):w=I.createElement(Al,b),I.createElement(tt,{className:"recharts-active-dot",key:y},w)});var m=x.forwardRef(function(b,y){return I.createElement(v,ps({},b,{ref:y}))});return m.displayName=v.displayName,m},Toe=th({chartName:"LineChart",GraphicalChild:Oi,axisComponents:[{axisType:"xAxis",AxisComp:_n},{axisType:"yAxis",AxisComp:Pn}],formatAxisMap:Fg}),Ow=th({chartName:"BarChart",GraphicalChild:qa,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:_n},{axisType:"yAxis",AxisComp:Pn}],formatAxisMap:Fg}),_w=th({chartName:"PieChart",GraphicalChild:Wn,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:qf},{axisType:"radiusAxis",AxisComp:Wf}],formatAxisMap:aJ,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),Pw=th({chartName:"AreaChart",GraphicalChild:Fn,axisComponents:[{axisType:"xAxis",AxisComp:_n},{axisType:"yAxis",AxisComp:Pn}],formatAxisMap:Fg});const kw=["#8884d8","#82ca9d","#ffc658","#ff8042","#0088FE","#00C49F"],em=[{name:"T1",revenue:4e3,bookings:240},{name:"T2",revenue:3e3,bookings:139},{name:"T3",revenue:2e3,bookings:980},{name:"T4",revenue:2780,bookings:390},{name:"T5",revenue:1890,bookings:480},{name:"T6",revenue:2390,bookings:380},{name:"T7",revenue:3490,bookings:430}],Eoe=[{name:"T1",confirmed:240,cancelled:24,pending:12},{name:"T2",confirmed:139,cancelled:13,pending:8},{name:"T3",confirmed:980,cancelled:98,pending:45},{name:"T4",confirmed:390,cancelled:39,pending:18},{name:"T5",confirmed:480,cancelled:48,pending:22},{name:"T6",confirmed:380,cancelled:38,pending:15},{name:"T7",confirmed:430,cancelled:43,pending:20}],Cw=[{name:"室內",value:400,color:"#3B82F6"},{name:"戶外",value:300,color:"#10B981"},{name:"無障礙",value:100,color:"#F59E0B"}],$oe=[{name:"王小明",bookings:45,totalSpent:125e4,lastBooking:"2024-01-15"},{name:"李小華",bookings:38,totalSpent:98e4,lastBooking:"2024-01-14"},{name:"張大偉",bookings:32,totalSpent:85e4,lastBooking:"2024-01-13"},{name:"陳美玲",bookings:28,totalSpent:72e4,lastBooking:"2024-01-12"},{name:"劉志強",bookings:25,totalSpent:65e4,lastBooking:"2024-01-11"}],Doe=[{hour:"6:00",bookings:12},{hour:"7:00",bookings:25},{hour:"8:00",bookings:45},{hour:"9:00",bookings:38},{hour:"10:00",bookings:32},{hour:"11:00",bookings:28},{hour:"12:00",bookings:55},{hour:"13:00",bookings:42},{hour:"14:00",bookings:35},{hour:"15:00",bookings:48},{hour:"16:00",bookings:62},{hour:"17:00",bookings:58},{hour:"18:00",bookings:45},{hour:"19:00",bookings:38},{hour:"20:00",bookings:25},{hour:"21:00",bookings:18},{hour:"22:00",bookings:12},{hour:"23:00",bookings:8}],Tw=()=>{var A,N,j,O,S,P,C;const[e,t]=x.useState(!0),[r,n]=x.useState(null),[i,s]=x.useState(null);console.log(i);const[o,c]=x.useState([]),[l,u]=x.useState(null),[d,f]=x.useState("overview"),[h,p]=x.useState("7d");x.useEffect(()=>{v()},[]);const v=async()=>{try{t(!0);const[_,T,D,$]=await Promise.all([t$(),r$("today"),n$(),a$()]);n(_),s(T),c(D),u($)}catch{Z.error("無法載入儀表板資料")}finally{t(!1)}},m=()=>{Z.success("報告匯出成功")},g=_=>_.toLocaleString("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0,maximumFractionDigits:0}),b=_=>{const T={pending:{label:"等待確認",variant:"secondary",color:"bg-yellow-100 text-yellow-800"},confirmed:{label:"預約成功",variant:"default",color:"bg-blue-100 text-blue-800"},"checked-in":{label:"已進入停車場",variant:"default",color:"bg-green-100 text-green-800"},"checked-out":{label:"已離開停車場",variant:"secondary",color:"bg-gray-100 text-gray-800"},cancelled:{label:"已取消",variant:"destructive",color:"bg-red-100 text-red-800"}},D=T[_]||T.pending;return a.jsx(Me,{variant:D.variant,className:D.color,children:D.label})},y=_=>_>=0?a.jsx(la,{className:"h-4 w-4 text-green-500"}):a.jsx(vu,{className:"h-4 w-4 text-red-500"}),w=o.map(_=>({name:_.name,value:_.occupancyRate}));return e?a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}):a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"儀表板"}),a.jsx("p",{className:"text-gray-600",children:"停車場系統概覽"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(Cn,{value:h,onValueChange:p,children:[a.jsx(fn,{className:"w-32",children:a.jsx(Tn,{})}),a.jsxs(hn,{children:[a.jsx(nt,{value:"7d",children:"7天"}),a.jsx(nt,{value:"30d",children:"30天"}),a.jsx(nt,{value:"90d",children:"90天"}),a.jsx(nt,{value:"1y",children:"1年"})]})]}),a.jsxs(q,{variant:"outline",onClick:v,children:[a.jsx(Hn,{className:"h-4 w-4 mr-2"}),"重新整理"]}),a.jsxs(q,{onClick:m,children:[a.jsx(S1,{className:"h-4 w-4 mr-2"}),"匯出報告"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[a.jsxs(ue,{children:[a.jsxs(ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ge,{className:"text-sm font-medium",children:"今日預約"}),a.jsx(Et,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(de,{children:[a.jsx("div",{className:"text-2xl font-bold",children:(r==null?void 0:r.todayBookings)||0}),a.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[y(8.2),a.jsx("span",{className:"ml-1",children:"比昨天增加8.2%"})]})]})]}),a.jsxs(ue,{children:[a.jsxs(ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ge,{className:"text-sm font-medium",children:"今日營收"}),a.jsx(cs,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(de,{children:[a.jsx("div",{className:"text-2xl font-bold",children:g((r==null?void 0:r.todayRevenue)||0)}),a.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[y(12.5),a.jsx("span",{className:"ml-1",children:"比昨天增加12.5%"})]})]})]}),a.jsxs(ue,{children:[a.jsxs(ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ge,{className:"text-sm font-medium",children:"剩餘空位"}),a.jsx(sr,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(de,{children:[a.jsx("div",{className:"text-2xl font-bold",children:(r==null?void 0:r.availableSpaces)||0}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["總共 ",(r==null?void 0:r.totalSpaces)||0," 個停車位"]})]})]}),a.jsxs(ue,{children:[a.jsxs(ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ge,{className:"text-sm font-medium",children:"正在停車"}),a.jsx(aa,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(de,{children:[a.jsx("div",{className:"text-2xl font-bold",children:(r==null?void 0:r.parkedVehicles)||0}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[(r==null?void 0:r.leavingToday)||0," 輛車今天即將離開"]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[a.jsxs(ue,{children:[a.jsxs(ve,{children:[a.jsxs(ge,{className:"flex items-center space-x-2",children:[a.jsx(la,{className:"h-5 w-5"}),a.jsx("span",{children:"營收趨勢"})]}),a.jsx(Qe,{children:"按時間的營收"})]}),a.jsx(de,{style:{height:300},children:a.jsx(ti,{width:"100%",height:"100%",children:a.jsxs(Pw,{data:em,children:[a.jsx(os,{strokeDasharray:"3 3"}),a.jsx(_n,{dataKey:"name"}),a.jsx(Pn,{}),a.jsx(ur,{}),a.jsx(Fn,{type:"monotone",dataKey:"revenue",stroke:"#3B82F6",fill:"#3B82F6",fillOpacity:.3})]})})})]}),a.jsxs(ue,{children:[a.jsxs(ve,{children:[a.jsxs(ge,{className:"flex items-center space-x-2",children:[a.jsx(Pi,{className:"h-5 w-5"}),a.jsx("span",{children:"停車場使用率"})]}),a.jsx(Qe,{children:"各類型停車場的使用分布"})]}),a.jsx(de,{style:{height:300},children:a.jsx(ti,{width:"100%",height:"100%",children:a.jsxs(_w,{children:[a.jsx(Wn,{data:w,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:100,label:!0,children:w.map((_,T)=>a.jsx(Ec,{fill:kw[T%kw.length]},`cell-${T}`))}),a.jsx(ur,{}),a.jsx(wi,{})]})})})]})]}),a.jsxs(ue,{className:"mb-8",children:[a.jsxs(ve,{children:[a.jsxs(ge,{className:"flex items-center space-x-2",children:[a.jsx(Ur,{className:"h-5 w-5"}),a.jsx("span",{children:"高峰時段"})]}),a.jsx(Qe,{children:"每日各時段的預約數量"})]}),a.jsx(de,{style:{height:300},children:a.jsx(ti,{width:"100%",height:"100%",children:a.jsxs(Ow,{data:Doe,children:[a.jsx(os,{strokeDasharray:"3 3"}),a.jsx(_n,{dataKey:"hour"}),a.jsx(Pn,{}),a.jsx(ur,{}),a.jsx(qa,{dataKey:"bookings",fill:"#10B981"})]})})})]}),a.jsxs(vl,{value:d,onValueChange:f,className:"space-y-6",children:[a.jsxs(uo,{className:"grid w-full grid-cols-5",children:[a.jsx(Gt,{value:"overview",children:"概覽"}),a.jsx(Gt,{value:"revenue",children:"營收"}),a.jsx(Gt,{value:"bookings",children:"預約"}),a.jsx(Gt,{value:"customers",children:"客戶"}),a.jsx(Gt,{value:"parking",children:"停車場"})]}),a.jsx(Qt,{value:"overview",className:"space-y-6",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(ue,{children:[a.jsxs(ve,{children:[a.jsxs(ge,{className:"flex items-center space-x-2",children:[a.jsx(YT,{className:"h-5 w-5"}),a.jsx("span",{children:"最近預約"})]}),a.jsx(Qe,{children:"最新預約清單"})]}),a.jsx(de,{children:a.jsx("div",{className:"space-y-4",children:(A=r==null?void 0:r.recentBookings)==null?void 0:A.slice(0,5).map(_=>a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx(wr,{className:"h-5 w-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:_.driverName}),a.jsx("p",{className:"text-sm text-gray-600",children:_.licensePlate})]})]}),a.jsxs("div",{className:"text-right",children:[b(_.status),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:ir(_.checkInTime)})]})]},_._id))})})]}),a.jsxs(ue,{children:[a.jsxs(ve,{children:[a.jsxs(ge,{className:"flex items-center space-x-2",children:[a.jsx(lc,{className:"h-5 w-5"}),a.jsx("span",{children:"快速操作"})]}),a.jsx(Qe,{children:"常用操作"})]}),a.jsx(de,{children:a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs(q,{className:"h-20 flex flex-col space-y-2",children:[a.jsx(Wr,{className:"h-6 w-6"}),a.jsx("span",{children:"創建預約"})]}),a.jsxs(q,{variant:"outline",className:"h-20 flex flex-col space-y-2",children:[a.jsx(b1,{className:"h-6 w-6"}),a.jsx("span",{children:"報告"})]}),a.jsxs(q,{variant:"outline",className:"h-20 flex flex-col space-y-2",children:[a.jsx(aa,{className:"h-6 w-6"}),a.jsx("span",{children:"管理客戶"})]}),a.jsxs(q,{variant:"outline",className:"h-20 flex flex-col space-y-2",children:[a.jsx(lc,{className:"h-6 w-6"}),a.jsx("span",{children:"設定"})]})]})})]})]})}),a.jsxs(Qt,{value:"revenue",className:"space-y-6",children:[a.jsxs(ue,{children:[a.jsxs(ve,{children:[a.jsx(ge,{children:"營收分析"}),a.jsx(Qe,{children:"按時間的詳細營收"})]}),a.jsx(de,{children:a.jsx(ti,{width:"100%",height:400,children:a.jsxs(Pw,{data:em,children:[a.jsx(os,{strokeDasharray:"3 3"}),a.jsx(_n,{dataKey:"name"}),a.jsx(Pn,{}),a.jsx(ur,{}),a.jsx(Fn,{type:"monotone",dataKey:"revenue",stroke:"#3B82F6",fill:"#3B82F6",fillOpacity:.3}),a.jsx(Fn,{type:"monotone",dataKey:"bookings",stroke:"#10B981",fill:"#10B981",fillOpacity:.3})]})})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs(ue,{children:[a.jsx(ve,{children:a.jsx(ge,{className:"text-lg",children:"平均每日營收"})}),a.jsxs(de,{children:[a.jsx("div",{className:"text-3xl font-bold text-green-600",children:g(516e3)}),a.jsx("p",{className:"text-sm text-gray-500",children:"比上個月增長12.5%"})]})]}),a.jsxs(ue,{children:[a.jsx(ve,{children:a.jsx(ge,{className:"text-lg",children:"最高營收"})}),a.jsxs(de,{children:[a.jsx("div",{className:"text-3xl font-bold text-blue-600",children:g(349e4)}),a.jsx("p",{className:"text-sm text-gray-500",children:"2024年7月"})]})]}),a.jsxs(ue,{children:[a.jsx(ve,{children:a.jsx(ge,{className:"text-lg",children:"增長率"})}),a.jsxs(de,{children:[a.jsx("div",{className:"text-3xl font-bold text-purple-600",children:"+15.2%"}),a.jsx("p",{className:"text-sm text-gray-500",children:"與去年同期相比"})]})]})]})]}),a.jsxs(Qt,{value:"bookings",className:"space-y-6",children:[a.jsxs(ue,{children:[a.jsxs(ve,{children:[a.jsx(ge,{children:"預約趨勢"}),a.jsx(Qe,{children:"按狀態的預約統計"})]}),a.jsx(de,{children:a.jsx(ti,{width:"100%",height:400,children:a.jsxs(Toe,{data:Eoe,children:[a.jsx(os,{strokeDasharray:"3 3"}),a.jsx(_n,{dataKey:"name"}),a.jsx(Pn,{}),a.jsx(ur,{}),a.jsx(Oi,{type:"monotone",dataKey:"confirmed",stroke:"#10B981",strokeWidth:2}),a.jsx(Oi,{type:"monotone",dataKey:"cancelled",stroke:"#EF4444",strokeWidth:2}),a.jsx(Oi,{type:"monotone",dataKey:"pending",stroke:"#F59E0B",strokeWidth:2})]})})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs(ue,{children:[a.jsx(ve,{children:a.jsx(ge,{className:"text-lg",children:"成功預約"})}),a.jsxs(de,{children:[a.jsx("div",{className:"text-3xl font-bold text-green-600",children:"2,679"}),a.jsx("p",{className:"text-sm text-gray-500",children:"94.2% 總預約數"})]})]}),a.jsxs(ue,{children:[a.jsx(ve,{children:a.jsx(ge,{className:"text-lg",children:"已取消預約"})}),a.jsxs(de,{children:[a.jsx("div",{className:"text-3xl font-bold text-red-600",children:"168"}),a.jsx("p",{className:"text-sm text-gray-500",children:"5.8% 總預約數"})]})]}),a.jsxs(ue,{children:[a.jsx(ve,{children:a.jsx(ge,{className:"text-lg",children:"等待確認"})}),a.jsxs(de,{children:[a.jsx("div",{className:"text-3xl font-bold text-yellow-600",children:"45"}),a.jsx("p",{className:"text-sm text-gray-500",children:"1.6% 總預約數"})]})]})]})]}),a.jsxs(Qt,{value:"customers",className:"space-y-6",children:[a.jsxs(ue,{children:[a.jsxs(ve,{children:[a.jsx(ge,{children:"頂級客戶"}),a.jsx(Qe,{children:"預約數量最高的前5名客戶"})]}),a.jsx(de,{children:a.jsx("div",{className:"space-y-4",children:$oe.map((_,T)=>a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-sm font-semibold text-blue-600",children:T+1})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold",children:_.name}),a.jsxs("p",{className:"text-sm text-gray-500",children:[_.bookings," 預約 • ",g(_.totalSpent)]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm text-gray-500",children:"最後預約"}),a.jsx("p",{className:"text-sm font-medium",children:Or(_.lastBooking)})]})]},T))})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs(ue,{children:[a.jsxs(ve,{children:[a.jsx(ge,{children:"新客戶"}),a.jsx(Qe,{children:"按月份的新客戶統計"})]}),a.jsx(de,{children:a.jsx(ti,{width:"100%",height:300,children:a.jsxs(Ow,{data:em,children:[a.jsx(os,{strokeDasharray:"3 3"}),a.jsx(_n,{dataKey:"name"}),a.jsx(Pn,{}),a.jsx(ur,{}),a.jsx(qa,{dataKey:"bookings",fill:"#3B82F6"})]})})})]}),a.jsxs(ue,{children:[a.jsxs(ve,{children:[a.jsx(ge,{children:"客戶統計"}),a.jsx(Qe,{children:"客戶概覽"})]}),a.jsxs(de,{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{children:"總客戶數"}),a.jsx("span",{className:"font-semibold",children:"1,247"})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{children:"本月新客戶"}),a.jsx("span",{className:"font-semibold text-green-600",children:"156"})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{children:"VIP客戶"}),a.jsx("span",{className:"font-semibold text-purple-600",children:"89"})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{children:"回訪率"}),a.jsx("span",{className:"font-semibold text-blue-600",children:"78.5%"})]})]})]})]})]}),a.jsxs(Qt,{value:"parking",className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(ue,{children:[a.jsxs(ve,{children:[a.jsxs(ge,{className:"flex items-center space-x-2",children:[a.jsx(Pi,{className:"h-5 w-5"}),a.jsx("span",{children:"停車場狀態"})]}),a.jsx(Qe,{children:"各停車場狀況概覽"})]}),a.jsx(de,{children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.map(_=>a.jsx(ue,{className:"hover:shadow-md transition-shadow",children:a.jsxs(de,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h3",{className:"font-semibold",children:_.name}),a.jsx(Me,{variant:(_.type||"indoor")==="indoor"?"default":"secondary",children:(_.type||"indoor")==="indoor"?"🏢 Trong nhà":(_.type||"indoor")==="outdoor"?"🌤 Ngoài trời":"♿️ Khuyết tật"})]}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"空位:"}),a.jsxs("span",{className:"font-medium",children:[_.availableSpaces,"/",_.totalSpaces]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"使用率:"}),a.jsxs("span",{className:"font-medium",children:[_.occupancyRate,"%"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"基本價格:"}),a.jsxs("span",{className:"font-medium",children:[g(_.pricePerDay),"/天"]})]})]}),a.jsx("div",{className:"mt-3",children:a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-[#39653f] h-2 rounded-full",style:{width:`${100-_.occupancyRate}%`}})})})]})},_._id))})})]}),a.jsxs(ue,{children:[a.jsxs(ve,{children:[a.jsx(ge,{children:"停車場效能"}),a.jsx(Qe,{children:"各類型停車場的使用率"})]}),a.jsx(de,{children:a.jsx(ti,{width:"100%",height:300,children:a.jsxs(_w,{children:[a.jsx(Wn,{data:Cw,cx:"50%",cy:"50%",labelLine:!1,label:({name:_,percent:T})=>`${_} ${(T*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:Cw.map((_,T)=>a.jsx(Ec,{fill:_.color},`cell-${T}`))}),a.jsx(ur,{})]})})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs(ue,{children:[a.jsxs(ve,{children:[a.jsxs(ge,{className:"flex items-center space-x-2",children:[a.jsx(sr,{className:"h-5 w-5"}),a.jsxs("span",{children:["正在停車 (",((N=l==null?void 0:l.parkedVehicles)==null?void 0:N.length)||0,")"]})]}),a.jsx(Qe,{children:"停車場內的車輛清單"})]}),a.jsx(de,{children:a.jsx("div",{className:"space-y-3",children:(j=l==null?void 0:l.parkedVehicles)==null?void 0:j.slice(0,5).map(_=>a.jsxs("div",{className:"p-3 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"font-medium",children:_.driverName}),a.jsx(mr,{className:"h-4 w-4 text-green-600"})]}),a.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[a.jsx("div",{children:_.licensePlate}),a.jsxs("div",{children:["進入: ",ir(_.actualCheckInTime||_.checkInTime)]}),a.jsxs("div",{children:["預計離開: ",ir(_.checkOutTime)]})]})]},_._id))})})]}),a.jsxs(ue,{children:[a.jsxs(ve,{children:[a.jsxs(ge,{className:"flex items-center space-x-2",children:[a.jsx(Ur,{className:"h-5 w-5"}),a.jsxs("span",{children:["即將到達 (",((O=l==null?void 0:l.arrivingToday)==null?void 0:O.length)||0,")"]})]}),a.jsx(Qe,{children:"今天預計到達的車輛"})]}),a.jsx(de,{children:a.jsx("div",{className:"space-y-3",children:(S=l==null?void 0:l.arrivingToday)==null?void 0:S.slice(0,5).map(_=>a.jsxs("div",{className:"p-3 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"font-medium",children:_.driverName}),a.jsx(gs,{className:"h-4 w-4 text-yellow-600"})]}),a.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[a.jsx("div",{children:_.licensePlate}),a.jsxs("div",{children:["預計: ",ir(_.estimatedArrivalTime||_.checkInTime)]}),a.jsxs("div",{children:["航班: ",_.flightNumber||"N/A"]})]})]},_._id))})})]}),a.jsxs(ue,{children:[a.jsxs(ve,{children:[a.jsxs(ge,{className:"flex items-center space-x-2",children:[a.jsx(qr,{className:"h-5 w-5"}),a.jsxs("span",{children:["即將離開 (",((P=l==null?void 0:l.leavingToday)==null?void 0:P.length)||0,")"]})]}),a.jsx(Qe,{children:"今天預計離開的車輛"})]}),a.jsx(de,{children:a.jsx("div",{className:"space-y-3",children:(C=l==null?void 0:l.leavingToday)==null?void 0:C.slice(0,5).map(_=>a.jsxs("div",{className:"p-3 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"font-medium",children:_.driverName}),a.jsx(qr,{className:"h-4 w-4 text-red-600"})]}),a.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[a.jsx("div",{children:_.licensePlate}),a.jsxs("div",{children:["預計離開: ",ir(_.checkOutTime)]}),a.jsxs("div",{children:["已停車: ",ir(_.actualCheckInTime||_.checkInTime)]})]})]},_._id))})})]})]})]})]})]})},Br=x.forwardRef(({className:e,...t},r)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:r,className:Ye("w-full caption-bottom text-sm",e),...t})}));Br.displayName="Table";const Vr=x.forwardRef(({className:e,...t},r)=>a.jsx("thead",{ref:r,className:Ye("[&_tr]:border-b",e),...t}));Vr.displayName="TableHeader";const zr=x.forwardRef(({className:e,...t},r)=>a.jsx("tbody",{ref:r,className:Ye("[&_tr:last-child]:border-0",e),...t}));zr.displayName="TableBody";const Ioe=x.forwardRef(({className:e,...t},r)=>a.jsx("tfoot",{ref:r,className:Ye("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));Ioe.displayName="TableFooter";const Pt=x.forwardRef(({className:e,...t},r)=>a.jsx("tr",{ref:r,className:Ye("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Pt.displayName="TableRow";const Se=x.forwardRef(({className:e,...t},r)=>a.jsx("th",{ref:r,className:Ye("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Se.displayName="TableHead";const Ae=x.forwardRef(({className:e,...t},r)=>a.jsx("td",{ref:r,className:Ye("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Ae.displayName="TableCell";const Moe=x.forwardRef(({className:e,...t},r)=>a.jsx("caption",{ref:r,className:Ye("mt-4 text-sm text-muted-foreground",e),...t}));Moe.displayName="TableCaption";const Roe=()=>{const[e,t]=x.useState([]),[r,n]=x.useState(!0),[i,s]=x.useState(0),[o,c]=x.useState(1),[l,u]=x.useState(1),[d,f]=x.useState({status:"all",dateFrom:"",dateTo:"",search:""}),[h,p]=x.useState(null),[v,m]=x.useState(!1);x.useEffect(()=>{g()},[o,d]);const g=async()=>{try{n(!0);const S={...d,status:d.status==="all"?"":d.status,page:o,limit:10},P=await i$(S);t(P.bookings),s(P.total),u(P.totalPages)}catch{Z.error("無法載入預約清單")}finally{n(!1)}},b=async(S,P)=>{var C,_;try{await s$(S,P),Z.success("狀態更新成功"),g()}catch(T){console.error("Status update error:",T);const D=((_=(C=T.response)==null?void 0:C.data)==null?void 0:_.message)||T.message||"狀態更新失敗";Z.error(D)}},y=(S,P)=>()=>b(S,P),w=S=>{const P=window.open("","_blank");if(!P)return;const C=`
      <!DOCTYPE html>
      <html>
      <head>
        <title>預約詳情 - ${S.driverName}</title>
        <style>
          body { font-family: Arial, sans-serif; margin: 20px; }
          .header { text-align: center; border-bottom: 2px solid #333; padding-bottom: 10px; margin-bottom: 20px; }
          .section { margin-bottom: 20px; }
          .section h3 { color: #333; border-bottom: 1px solid #ccc; padding-bottom: 5px; }
          .info-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
          .info-item { margin-bottom: 8px; }
          .label { font-weight: bold; }
          .status { padding: 4px 8px; border-radius: 4px; font-size: 12px; }
          .status-pending { background-color: #fef3c7; color: #92400e; }
          .status-confirmed { background-color: #fef3c7; color: #92400e; }
          .status-checked-in { background-color: #d1fae5; color: #065f46; }
          .status-checked-out { background-color: #f3f4f6; color: #374151; }
          .status-cancelled { background-color: #fee2e2; color: #991b1b; }
          .services { display: flex; flex-wrap: wrap; gap: 5px; }
          .service-badge { background-color: #f3f4f6; padding: 2px 6px; border-radius: 4px; font-size: 12px; }
          .total { font-size: 18px; font-weight: bold; color: #333; }
          @media print {
            body { margin: 0; }
            .no-print { display: none; }
          }
        </style>
      </head>
      <body>
        <div class="header">
          <h1>預約詳細資訊</h1>
          <p>預約編號: ${S._id}</p>
        </div>

        <div class="section">
          <h3>客戶資訊</h3>
          <div class="info-grid">
            <div class="info-item">
              <span class="label">姓名:</span> ${S.driverName}
            </div>
            <div class="info-item">
              <span class="label">電話:</span> ${S.phone}
            </div>
            <div class="info-item">
              <span class="label">電子郵件:</span> ${S.email||"無"}
            </div>
            <div class="info-item">
              <span class="label">車牌號碼:</span> ${S.licensePlate}
            </div>
            <div class="info-item">
              <span class="label">乘客:</span> ${S.passengerCount} 人
            </div>
            <div class="info-item">
              <span class="label">行李:</span> ${S.luggageCount} 件
            </div>
          </div>
        </div>

        <div class="section">
          <h3>預約資訊</h3>
          <div class="info-grid">
            <div class="info-item">
              <span class="label">停車場:</span> ${S.parkingType.name}
            </div>
            <div class="info-item">
              <span class="label">類型:</span> ${(S.parkingType.type||"indoor")==="indoor"?"室內":(S.parkingType.type||"indoor")==="outdoor"?"戶外":"無障礙"}
            </div>
            <div class="info-item">
              <span class="label">進入時間:</span> ${ir(S.checkInTime)}
            </div>
            <div class="info-item">
              <span class="label">回國時間:</span> ${ir(S.checkOutTime)}
            </div>
            <div class="info-item">
              <span class="label">狀態:</span> 
              <span class="status status-${S.status}">
                ${S.status==="pending"?"等待進入停車場":S.status==="confirmed"?"等待進入停車場 (舊)":S.status==="checked-in"?"已進入停車場":S.status==="checked-out"?"已離開停車場":"已取消"}
              </span>
            </div>
            <div class="info-item">
              <span class="label">VIP:</span> ${S.isVIP?"是":"否"}
            </div>
          </div>
        </div>

        ${S.addonServices.length>0?`
        <div class="section">
          <h3>附加服務</h3>
          <div class="services">
            ${S.addonServices.map(_=>`<span class="service-badge">${_.service.icon} ${_.service.name} - ${_.price.toLocaleString("zh-TW")} TWD</span>`).join("")}
          </div>
        </div>
        `:""}

        <div class="section">
          <h3>付款資訊</h3>
          <div class="info-grid">
            <div class="info-item">
              <span class="label">總金額:</span> ${S.totalAmount.toLocaleString("zh-TW")} TWD
            </div>
            ${S.discountAmount>0?`
            <div class="info-item">
              <span class="label">折扣:</span> -${S.discountAmount.toLocaleString("zh-TW")} TWD
            </div>
            `:""}
            <div class="info-item total">
              <span class="label">應付金額:</span> ${S.finalAmount.toLocaleString("zh-TW")} TWD
            </div>
            <div class="info-item">
              <span class="label">付款方式:</span> ${S.paymentMethod}
            </div>
            <div class="info-item">
              <span class="label">付款狀態:</span> ${S.paymentStatus}
            </div>
          </div>
        </div>

        ${S.notes?`
        <div class="section">
          <h3>備註</h3>
          <p>${S.notes}</p>
        </div>
        `:""}

        <div class="no-print" style="margin-top: 30px; text-align: center;">
          <button onclick="window.print()">列印</button>
          <button onclick="window.close()">關閉</button>
        </div>
      </body>
      </html>
    `;P.document.write(C),P.document.close()},A=S=>{const P={pending:{label:"等待進入停車場",variant:"secondary",color:"bg-yellow-100 text-yellow-800"},confirmed:{label:"等待進入停車場",variant:"secondary",color:"bg-yellow-100 text-yellow-800"},"checked-in":{label:"已進入停車場",variant:"default",color:"bg-green-100 text-green-800"},"checked-out":{label:"已離開停車場",variant:"secondary",color:"bg-gray-100 text-gray-800"},cancelled:{label:"已取消",variant:"destructive",color:"bg-red-100 text-red-800"}},C=P[S]||P.pending;return a.jsx(Me,{variant:C.variant,className:C.color,children:C.label})},N=S=>S.toLocaleString("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0,maximumFractionDigits:0}),j=(S,P)=>{f(C=>({...C,[S]:P})),c(1)},O=d.status||"all";return r&&e.length===0?a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})})}):a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold",children:"預約管理"}),a.jsx("p",{className:"text-gray-600",children:"管理系統中的所有預約"})]}),a.jsxs(ue,{className:"mb-6",children:[a.jsx(ve,{children:a.jsxs(ge,{className:"flex items-center space-x-2",children:[a.jsx(hr,{className:"h-5 w-5"}),a.jsx("span",{children:"篩選"})]})}),a.jsx(de,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"search",children:"搜尋"}),a.jsxs("div",{className:"relative",children:[a.jsx(Hr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),a.jsx(ce,{id:"search",placeholder:"姓名、電話、車牌號碼...",value:d.search,onChange:S=>j("search",S.target.value),className:"pl-10"})]})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"status",children:"狀態"}),a.jsxs(Cn,{value:O,onValueChange:S=>j("status",S),defaultValue:"all",children:[a.jsx(fn,{children:a.jsx(Tn,{placeholder:"所有狀態"})}),a.jsxs(hn,{children:[a.jsx(nt,{value:"all",children:"所有狀態"}),a.jsx(nt,{value:"pending",children:"等待進入停車場"}),a.jsx(nt,{value:"confirmed",children:"等待進入停車場 (舊)"}),a.jsx(nt,{value:"checked-in",children:"已進入停車場"}),a.jsx(nt,{value:"checked-out",children:"已離開停車場"}),a.jsx(nt,{value:"cancelled",children:"已取消"})]})]})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"dateFrom",children:"開始日期"}),a.jsx(ce,{id:"dateFrom",type:"date",value:d.dateFrom,onChange:S=>j("dateFrom",S.target.value)})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"dateTo",children:"結束日期"}),a.jsx(ce,{id:"dateTo",type:"date",value:d.dateTo,onChange:S=>j("dateTo",S.target.value)})]}),a.jsx("div",{className:"flex items-end",children:a.jsx(q,{onClick:g,className:"w-full",children:"篩選"})})]})})]}),a.jsxs(ue,{children:[a.jsxs(ve,{children:[a.jsx(ge,{children:"預約清單"}),a.jsxs(Qe,{children:["共 ",i," 筆預約 • 第 ",o," 頁，共 ",l," 頁"]})]}),a.jsx(de,{children:r?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):a.jsxs(a.Fragment,{children:[a.jsxs(Br,{children:[a.jsx(Vr,{children:a.jsxs(Pt,{children:[a.jsx(Se,{children:"客戶"}),a.jsx(Se,{children:"停車場"}),a.jsx(Se,{children:"時間"}),a.jsx(Se,{children:"狀態"}),a.jsx(Se,{children:"金額"}),a.jsx(Se,{children:"操作"})]})}),a.jsx(zr,{children:e.map(S=>a.jsxs(Pt,{children:[a.jsx(Ae,{children:a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"font-medium",children:S.driverName}),a.jsxs("div",{className:"text-sm text-gray-600 flex items-center space-x-2",children:[a.jsx(ca,{className:"h-3 w-3"}),a.jsx("span",{children:S.phone})]}),a.jsxs("div",{className:"text-sm text-gray-600 flex items-center space-x-2",children:[a.jsx(sr,{className:"h-3 w-3"}),a.jsx("span",{children:S.licensePlate})]})]})}),a.jsx(Ae,{children:a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"font-medium",children:S.parkingType.name}),a.jsxs("div",{className:"text-sm text-gray-600",children:[S.parkingType.icon||"🏢"," ",(S.parkingType.type||"indoor")==="indoor"?"室內":(S.parkingType.type||"indoor")==="outdoor"?"戶外":"無障礙"]})]})}),a.jsx(Ae,{children:a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"text-sm",children:[a.jsx(Et,{className:"h-3 w-3 inline mr-1"}),ir(S.checkInTime)]}),a.jsxs("div",{className:"text-sm",children:[a.jsx(Ur,{className:"h-3 w-3 inline mr-1"}),ir(S.checkOutTime)]})]})}),a.jsx(Ae,{children:A(S.status)}),a.jsx(Ae,{children:a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"font-medium",children:N(S.finalAmount)}),S.discountAmount>0&&a.jsxs("div",{className:"text-sm text-green-600",children:["-",N(S.discountAmount)]})]})}),a.jsx(Ae,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(q,{size:"sm",variant:"outline",onClick:()=>{p(S),m(!0)},children:a.jsx(yi,{className:"h-4 w-4"})}),(S.status==="pending"||S.status==="confirmed")&&a.jsxs(a.Fragment,{children:[a.jsx(q,{size:"sm",variant:"default",className:"bg-[#39653f] hover:bg-[#2d4f33] text-white",onClick:y(S._id,"checked-in"),children:"已進入停車場"}),a.jsx(q,{size:"sm",variant:"destructive",onClick:y(S._id,"cancelled"),children:"取消"})]}),S.status==="checked-in"&&a.jsx(q,{size:"sm",variant:"default",className:"bg-[#39653f] hover:bg-[#2d4f33] text-white",onClick:y(S._id,"checked-out"),children:"已離開停車場"}),a.jsx(q,{size:"sm",variant:"outline",onClick:()=>w(S),children:a.jsx(P1,{className:"h-4 w-4"})})]})})]},S._id))})]}),l>1&&a.jsxs("div",{className:"flex items-center justify-between mt-6",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:["顯示第 ",(o-1)*10+1," - ",Math.min(o*10,i)," 筆，共 ",i," 筆結果"]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(q,{variant:"outline",size:"sm",onClick:()=>c(o-1),disabled:o===1,children:"上一頁"}),a.jsxs("span",{className:"text-sm",children:["第 ",o," 頁，共 ",l," 頁"]}),a.jsx(q,{variant:"outline",size:"sm",onClick:()=>c(o+1),disabled:o===l,children:"下一頁"})]})]})]})})]}),a.jsx(ht,{open:v,onOpenChange:m,children:a.jsxs(ot,{className:"max-w-2xl",children:[a.jsxs(ct,{children:[a.jsx(ut,{children:"預約詳細資訊"}),a.jsx(dt,{children:"預約的詳細資訊"})]}),h&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-2",children:"客戶資訊"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"姓名:"})," ",h.driverName]}),a.jsxs("div",{children:[a.jsx("strong",{children:"電話:"})," ",h.phone]}),a.jsxs("div",{children:[a.jsx("strong",{children:"電子郵件:"})," ",h.email]}),a.jsxs("div",{children:[a.jsx("strong",{children:"車牌號碼:"})," ",h.licensePlate]}),a.jsxs("div",{children:[a.jsx("strong",{children:"乘客:"})," ",h.passengerCount," 人"]}),a.jsxs("div",{children:[a.jsx("strong",{children:"行李:"})," ",h.luggageCount," 件"]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-2",children:"預約資訊"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"停車場:"})," ",h.parkingType.name]}),a.jsxs("div",{children:[a.jsx("strong",{children:"類型:"})," ",h.parkingType.type||"indoor"]}),a.jsxs("div",{children:[a.jsx("strong",{children:"進入:"})," ",ir(h.checkInTime)]}),a.jsxs("div",{children:[a.jsx("strong",{children:"離開:"})," ",ir(h.checkOutTime)]}),a.jsxs("div",{children:[a.jsx("strong",{children:"狀態:"})," ",A(h.status)]}),a.jsxs("div",{children:[a.jsx("strong",{children:"VIP:"})," ",h.isVIP?"是":"否"]})]})]})]}),h.addonServices.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-2",children:"附加服務"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:h.addonServices.map((S,P)=>a.jsxs(Me,{variant:"outline",children:[S.service.icon," ",S.service.name," - ",N(S.price)]},P))})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-2",children:"付款資訊"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"總金額:"})," ",N(h.totalAmount)]}),h.discountAmount>0&&a.jsxs("div",{children:[a.jsx("strong",{children:"折扣:"})," -",N(h.discountAmount)]}),a.jsxs("div",{children:[a.jsx("strong",{children:"應付金額:"})," ",N(h.finalAmount)]}),a.jsxs("div",{children:[a.jsx("strong",{children:"付款方式:"})," ",h.paymentMethod]}),a.jsxs("div",{children:[a.jsx("strong",{children:"付款狀態:"})," ",h.paymentStatus]})]})]}),h.notes&&a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-2",children:"備註"}),a.jsx("p",{className:"text-sm bg-gray-50 p-3 rounded",children:h.notes})]})]}),a.jsx(lt,{children:a.jsx(q,{variant:"outline",onClick:()=>m(!1),children:"關閉"})})]})})]})};function Loe(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e==null||e(i),r===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function Foe(e,t=[]){let r=[];function n(s,o){const c=x.createContext(o),l=r.length;r=[...r,o];const u=f=>{var b;const{scope:h,children:p,...v}=f,m=((b=h==null?void 0:h[e])==null?void 0:b[l])||c,g=x.useMemo(()=>v,Object.values(v));return a.jsx(m.Provider,{value:g,children:p})};u.displayName=s+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[l])||c,v=x.useContext(p);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=r.map(o=>x.createContext(o));return function(c){const l=(c==null?void 0:c[e])||s;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:l}}),[c,l])}};return i.scopeName=e,[n,Boe(i,...t)]}function Boe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=n.reduce((c,{useScope:l,scopeName:u})=>{const f=l(s)[`__scope${u}`];return{...c,...f}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function bk(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function Voe({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,i]=zoe({defaultProp:t,onChange:r}),s=e!==void 0,o=s?e:n,c=bk(r),l=x.useCallback(u=>{if(s){const f=typeof u=="function"?u(e):u;f!==e&&c(f)}else i(u)},[s,e,i,c]);return[o,l]}function zoe({defaultProp:e,onChange:t}){const r=x.useState(e),[n]=r,i=x.useRef(n),s=bk(t);return x.useEffect(()=>{i.current!==n&&(s(n),i.current=n)},[n,i,s]),r}function Uoe(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Woe=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{};function Hoe(e){const[t,r]=x.useState(void 0);return Woe(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,c;if("borderBoxSize"in s){const l=s.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,c=u.blockSize}else o=e.offsetWidth,c=e.offsetHeight;r({width:o,height:c})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Zg="Switch",[qoe,Mce]=Foe(Zg),[Koe,Goe]=qoe(Zg),jk=x.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:s,required:o,disabled:c,value:l="on",onCheckedChange:u,form:d,...f}=e,[h,p]=x.useState(null),v=xE(t,w=>p(w)),m=x.useRef(!1),g=h?d||!!h.closest("form"):!0,[b=!1,y]=Voe({prop:i,defaultProp:s,onChange:u});return a.jsxs(Koe,{scope:r,checked:b,disabled:c,children:[a.jsx(hv.button,{type:"button",role:"switch","aria-checked":b,"aria-required":o,"data-state":Sk(b),"data-disabled":c?"":void 0,disabled:c,value:l,...f,ref:v,onClick:Loe(e.onClick,w=>{y(A=>!A),g&&(m.current=w.isPropagationStopped(),m.current||w.stopPropagation())})}),g&&a.jsx(Zoe,{control:h,bubbles:!m.current,name:n,value:l,checked:b,required:o,disabled:c,form:d,style:{transform:"translateX(-100%)"}})]})});jk.displayName=Zg;var wk="SwitchThumb",Nk=x.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,i=Goe(wk,r);return a.jsx(hv.span,{"data-state":Sk(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:t})});Nk.displayName=wk;var Zoe=e=>{const{control:t,checked:r,bubbles:n=!0,...i}=e,s=x.useRef(null),o=Uoe(r),c=Hoe(t);return x.useEffect(()=>{const l=s.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==r&&f){const h=new Event("click",{bubbles:n});f.call(l,r),l.dispatchEvent(h)}},[o,r,n]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:s,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Sk(e){return e?"checked":"unchecked"}var Ak=jk,Xoe=Nk;const wt=x.forwardRef(({className:e,...t},r)=>a.jsx(Ak,{className:Ye("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:a.jsx(Xoe,{className:Ye("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));wt.displayName=Ak.displayName;const Yoe=()=>{var B,ae,Fe,$e,Ut,St,Yt,nr,Lt,Zn,Xg;const[e,t]=x.useState([]),[r,n]=x.useState(!0),[i,s]=x.useState(!1),[o,c]=x.useState(!1);console.log(o,"isTyping");const l=x.useRef(null),[u,d]=x.useState(""),[f,h]=x.useState({search:"",role:"all",vipStatus:"all",isActive:"all"}),[p,v]=x.useState(null),[m,g]=x.useState(!1),[b,y]=x.useState(!1),[w,A]=x.useState(!1),[N,j]=x.useState(!1),[O,S]=x.useState(!1),[P,C]=x.useState(!1),[_,T]=x.useState(1),[D,$]=x.useState(1),[k,M]=x.useState(0),[E,U]=x.useState([]),[R,X]=x.useState("all");console.log(R,"activeTab");const[F,ie]=x.useState({totalUsers:0,vipUsers:0,activeUsers:0,newUsersThisMonth:0}),[V,H]=x.useState({name:"",email:"",phone:"",password:"",role:"user",licensePlate:"",address:"",isVIP:!1,vipDiscount:10,notes:""}),[fe,Le]=x.useState({isVIP:!1,vipDiscount:10});x.useEffect(()=>{me()},[f.search,f.role,f.vipStatus,f.isActive]),x.useEffect(()=>()=>{l.current&&clearTimeout(l.current)},[]);const me=async()=>{try{n(!0);const W={page:1,limit:1e3};f.search&&(W.search=f.search),f.role!=="all"&&(W.role=f.role),f.vipStatus!=="all"&&(W.isVIP=f.vipStatus==="vip"),f.isActive!=="all"&&(W.isActive=f.isActive==="active");const je=await o$(W),De=await Promise.all(je.users.map(async $t=>{try{const cr=await c$($t._id);return{...$t,stats:cr.stats}}catch(cr){return console.error(`Error loading stats for user ${$t._id}:`,cr),{...$t,stats:{totalBookings:0,totalSpent:0,averageSpent:0,bookingTrend:"stable",recentBookings:[],completedBookings:0,cancelledBookings:0,pendingBookings:0,confirmedBookings:0,averageDuration:0,totalVipSavings:0,vipBookingsCount:0}}}}));U(De),t(De),M(je.total||0),$(Math.ceil((je.total||0)/10)),ie({totalUsers:je.total||0,vipUsers:De.filter($t=>$t.isVIP).length,activeUsers:De.filter($t=>$t.isActive).length,newUsersThisMonth:Math.floor(Math.random()*20)})}catch(W){Z.error("無法載入用戶列表"),console.error("Error loading users:",W)}finally{n(!1)}},Pe=async()=>{var W,je;try{if(!V.name||!V.email||!V.phone){Z.error("請填寫所有必填信息");return}await l$(V),Z.success("創建用戶成功"),A(!1),Ve(),me()}catch(De){Z.error(((je=(W=De.response)==null?void 0:W.data)==null?void 0:je.message)||"無法創建用戶"),console.error("Error creating user:",De)}},le=async()=>{var W,je;if(p)try{const De={...V};if(De.password)await Ox(p._id,De);else{const{password:$t,...cr}=De;await Ox(p._id,cr)}Z.success("更新用戶信息成功"),y(!1),Ve(),me()}catch(De){Z.error(((je=(W=De.response)==null?void 0:W.data)==null?void 0:je.message)||"無法更新用戶信息"),console.error("Error updating user:",De)}},ye=async()=>{var W,je;if(p)try{await u$(p._id),Z.success("刪除用戶成功"),j(!1),v(null),me()}catch(De){Z.error(((je=(W=De.response)==null?void 0:W.data)==null?void 0:je.message)||"無法刪除用戶"),console.error("Error deleting user:",De)}},xe=async()=>{if(p)try{if(fe.isVIP&&(fe.vipDiscount<0||fe.vipDiscount>100)){Z.error("VIP折扣必須在0%到100%之間");return}const W=fe.isVIP?fe.vipDiscount:void 0;await Ax(p._id,fe.isVIP,W),Z.success("更新VIP信息成功"),S(!1),me()}catch(W){Z.error("無法更新VIP信息"),console.error("Error updating VIP:",W)}},te=async W=>{try{const je=e.find(De=>De._id===W);if(!je)return;await Ax(W,!0,je.vipDiscount),Z.success("創建VIP碼成功"),me()}catch(je){Z.error("無法創建VIP碼"),console.error("Error generating VIP code:",je)}},Ve=()=>{H({name:"",email:"",phone:"",password:"",role:"user",licensePlate:"",address:"",isVIP:!1,vipDiscount:10,notes:""}),C(!1),v(null)},Te=()=>{Ve(),A(!0)},et=W=>{v(W),H({name:W.name,email:W.email,phone:W.phone,password:"",role:W.role,licensePlate:W.licensePlate||"",address:W.address||"",isVIP:W.isVIP,vipDiscount:W.vipDiscount,notes:W.notes||""}),C(!0),y(!0)},rt=W=>{v(W),Le({isVIP:W.isVIP,vipDiscount:W.vipDiscount}),S(!0)},st=W=>{v(W),j(!0)},L=W=>{v(W),g(!0)},G=W=>{const je={admin:{label:"管理員",variant:"destructive",color:"bg-red-100 text-red-800"},staff:{label:"員工",variant:"default",color:"bg-blue-100 text-blue-800"},user:{label:"客戶",variant:"secondary",color:"bg-gray-100 text-gray-800"}},De=je[W]||je.user;return a.jsx(Me,{variant:De.variant,className:De.color,children:De.label})},Y=W=>W?a.jsxs(Me,{variant:"default",className:"bg-green-100 text-green-800",children:[a.jsx(mr,{className:"h-3 w-3 mr-1"}),"活動"]}):a.jsxs(Me,{variant:"secondary",className:"bg-red-100 text-red-800",children:[a.jsx(qr,{className:"h-3 w-3 mr-1"}),"暫時鎖定"]}),z=W=>{switch(W){case"up":return a.jsx(la,{className:"h-4 w-4 text-green-600"});case"down":return a.jsx(vu,{className:"h-4 w-4 text-red-600"});default:return a.jsx("div",{className:"h-4 w-4"})}},re=W=>W.toLocaleString("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0,maximumFractionDigits:0}),se=W=>W<1?`${Math.round(W*24)} 小時`:`${Math.round(W)} 天`,Ce=W=>{const je={pending:{label:"等待確認",color:"bg-yellow-100 text-yellow-800"},confirmed:{label:"預約成功",color:"bg-blue-100 text-blue-800"},"checked-in":{label:"已進入停車場",color:"bg-green-100 text-green-800"},"checked-out":{label:"已離開停車場",color:"bg-gray-100 text-gray-800"},cancelled:{label:"已取消",color:"bg-red-100 text-red-800"}},De=je[W]||je.pending;return a.jsx(Me,{className:De.color,children:De.label})},J=(W,je)=>{h(De=>({...De,[W]:je})),W!=="search"&&T(1)},Ee=x.useCallback(W=>{d(W),c(!0),s(!0),l.current&&clearTimeout(l.current),l.current=setTimeout(()=>{h(je=>({...je,search:W})),T(1),s(!1),c(!1)},500)},[]),Q=(W,je,De=10)=>{const $t=(je-1)*De,cr=$t+De;return W.slice($t,cr)},oe=(W,je)=>{switch(je){case"vip":return W.filter(De=>De.isVIP);case"non-vip":return W.filter(De=>!De.isVIP);default:return W}},Be=()=>{Z.success("導出數據成功")};return r?a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}):a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"用戶管理"}),a.jsx("p",{className:"text-gray-600",children:"查看和管理系統中的所有用戶"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(q,{variant:"outline",onClick:Be,children:[a.jsx(S1,{className:"h-4 w-4 mr-2"}),"導出數據"]}),a.jsxs(q,{variant:"outline",onClick:me,children:[a.jsx(Hn,{className:"h-4 w-4 mr-2"}),"刷新"]}),a.jsxs(q,{onClick:Te,children:[a.jsx(Wr,{className:"h-4 w-4 mr-2"}),"添加用戶"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[a.jsx(ue,{children:a.jsx(de,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"總用戶"}),a.jsx("p",{className:"text-2xl font-bold",children:F.totalUsers})]}),a.jsx(aa,{className:"h-8 w-8 text-blue-600"})]})})}),a.jsx(ue,{children:a.jsx(de,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"VIP用戶"}),a.jsx("p",{className:"text-2xl font-bold",children:F.vipUsers})]}),a.jsx(Eo,{className:"h-8 w-8 text-yellow-600"})]})})}),a.jsx(ue,{children:a.jsx(de,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"非VIP用戶"}),a.jsx("p",{className:"text-2xl font-bold",children:F.totalUsers-F.vipUsers})]}),a.jsx(wr,{className:"h-8 w-8 text-gray-600"})]})})}),a.jsx(ue,{children:a.jsx(de,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"活動用戶"}),a.jsx("p",{className:"text-2xl font-bold",children:F.activeUsers})]}),a.jsx(mr,{className:"h-8 w-8 text-green-600"})]})})})]}),a.jsxs(ue,{className:"mb-6",children:[a.jsx(ve,{children:a.jsxs(ge,{className:"flex items-center",children:[a.jsx(hr,{className:"h-5 w-5 mr-2"}),"過濾器"]})}),a.jsx(de,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"search",children:"搜索"}),a.jsxs("div",{className:"relative",children:[i?a.jsx("div",{className:"absolute left-3 top-3 h-4 w-4 animate-spin rounded-full border-2 border-blue-600 border-t-transparent"}):a.jsx(Hr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),a.jsx(ce,{id:"search",placeholder:"姓名, 電子郵件, 電話號碼...",value:u,onChange:W=>Ee(W.target.value),onCompositionEnd:W=>Ee(W.currentTarget.value),className:"pl-10"})]})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"roleFilter",children:"角色"}),a.jsxs(Cn,{value:f.role,onValueChange:W=>J("role",W),children:[a.jsx(fn,{children:a.jsx(Tn,{})}),a.jsxs(hn,{children:[a.jsx(nt,{value:"all",children:"所有角色"}),a.jsx(nt,{value:"admin",children:"管理員"}),a.jsx(nt,{value:"staff",children:"員工"}),a.jsx(nt,{value:"user",children:"客戶"})]})]})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"vipFilter",children:"VIP"}),a.jsxs(Cn,{value:f.vipStatus,onValueChange:W=>J("vipStatus",W),children:[a.jsx(fn,{children:a.jsx(Tn,{})}),a.jsxs(hn,{children:[a.jsx(nt,{value:"all",children:"所有"}),a.jsx(nt,{value:"vip",children:"VIP"}),a.jsx(nt,{value:"non-vip",children:"非VIP"})]})]})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"statusFilter",children:"狀態"}),a.jsxs(Cn,{value:f.isActive,onValueChange:W=>J("isActive",W),children:[a.jsx(fn,{children:a.jsx(Tn,{})}),a.jsxs(hn,{children:[a.jsx(nt,{value:"all",children:"所有"}),a.jsx(nt,{value:"active",children:"活動"}),a.jsx(nt,{value:"inactive",children:"暫時鎖定"})]})]})]}),a.jsx("div",{className:"flex items-end",children:a.jsxs(q,{variant:"outline",className:"w-full",onClick:()=>{d(""),s(!1),c(!1),l.current&&clearTimeout(l.current),h({search:"",role:"all",vipStatus:"all",isActive:"all"}),T(1)},children:[a.jsx(hr,{className:"h-4 w-4 mr-2"}),"清除過濾器"]})})]})})]}),a.jsxs(ue,{children:[a.jsxs(ve,{children:[a.jsx(ge,{children:"用戶列表"}),a.jsxs(Qe,{children:["總共 ",k," 用戶 • VIP: ",F.vipUsers," • 非VIP: ",F.totalUsers-F.vipUsers," • 第 ",_," 頁 / ",D," 頁"]})]}),a.jsx(de,{children:a.jsxs(vl,{defaultValue:"all",className:"w-full",onValueChange:W=>{X(W),T(1)},children:[a.jsxs(uo,{className:"grid w-full grid-cols-3",children:[a.jsx(Gt,{value:"all",children:"所有用戶"}),a.jsx(Gt,{value:"vip",children:"VIP用戶"}),a.jsx(Gt,{value:"non-vip",children:"非VIP用戶"})]}),a.jsxs(Qt,{value:"all",children:[a.jsxs(Br,{children:[a.jsx(Vr,{children:a.jsxs(Pt,{children:[a.jsx(Se,{children:"信息"}),a.jsx(Se,{children:"角色 & VIP"}),a.jsx(Se,{children:"統計"}),a.jsx(Se,{children:"狀態"}),a.jsx(Se,{children:"操作"})]})}),a.jsx(zr,{children:Q(oe(E,"all"),_).map(W=>{var je,De,$t,cr;return a.jsxs(Pt,{children:[a.jsx(Ae,{children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx(wr,{className:"h-5 w-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:W.name}),a.jsxs("div",{className:"text-sm text-gray-600 flex items-center",children:[a.jsx(ys,{className:"h-3 w-3 mr-1"}),W.email]}),a.jsxs("div",{className:"text-sm text-gray-600 flex items-center",children:[a.jsx(ca,{className:"h-3 w-3 mr-1"}),W.phone]}),W.licensePlate&&a.jsxs("div",{className:"text-sm text-gray-600 flex items-center",children:[a.jsx(sr,{className:"h-3 w-3 mr-1"}),W.licensePlate]})]})]})}),a.jsx(Ae,{children:a.jsxs("div",{className:"space-y-2",children:[G(W.role),W.isVIP&&a.jsxs("div",{className:"space-y-1",children:[a.jsxs(Me,{variant:"default",className:"bg-yellow-100 text-yellow-800",children:[a.jsx($o,{className:"h-3 w-3 mr-1"}),"VIP ",W.vipDiscount,"%"]}),W.vipCode?a.jsx("div",{className:"text-xs",children:a.jsx("code",{className:"bg-yellow-50 px-1 py-0.5 rounded text-yellow-700 font-mono",children:W.vipCode})}):a.jsx("div",{className:"text-xs text-red-600",children:"⚠️ 尚未有VIP碼"})]})]})}),a.jsx(Ae,{children:a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"預約:"}),a.jsx("span",{className:"font-medium",children:((je=W.stats)==null?void 0:je.totalBookings)||0})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"總支出:"}),a.jsx("span",{className:"font-medium",children:re(((De=W.stats)==null?void 0:De.totalSpent)||0)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"平均:"}),a.jsx("span",{className:"font-medium",children:re((($t=W.stats)==null?void 0:$t.averageSpent)||0)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"趨勢:"}),z(((cr=W.stats)==null?void 0:cr.bookingTrend)||"stable")]})]})}),a.jsx(Ae,{children:Y(W.isActive)}),a.jsx(Ae,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(q,{size:"sm",variant:"outline",onClick:()=>L(W),title:"查看詳細信息",children:a.jsx(yi,{className:"h-4 w-4"})}),a.jsx(q,{size:"sm",variant:"outline",onClick:()=>et(W),title:"編輯",children:a.jsx(Qr,{className:"h-4 w-4"})}),a.jsx(q,{size:"sm",variant:"outline",onClick:()=>rt(W),title:"管理VIP",children:a.jsx(Eo,{className:"h-4 w-4"})}),W.isVIP&&!W.vipCode&&a.jsx(q,{size:"sm",variant:"outline",onClick:()=>te(W._id),title:"創建VIP碼",className:"bg-yellow-50 border-yellow-200 text-yellow-700 hover:bg-yellow-100",children:a.jsx($o,{className:"h-4 w-4"})}),W.role!=="admin"&&a.jsx(q,{size:"sm",variant:"destructive",onClick:()=>st(W),title:"刪除用戶",children:a.jsx(Ir,{className:"h-4 w-4"})})]})})]},W._id)})})]}),oe(E,"all").length===0&&a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(aa,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"找不到用戶"}),a.jsx("p",{className:"text-gray-500",children:"找不到任何用戶符合當前過濾器。"})]}),Math.ceil(oe(E,"non-vip").length/10)>1&&a.jsxs("div",{className:"flex items-center justify-between mt-6",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:["顯示 ",(_-1)*10+1," - ",Math.min(_*10,oe(E,"non-vip").length)," 的 ",oe(E,"non-vip").length," 用戶"]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs(q,{variant:"outline",size:"sm",onClick:()=>T(W=>Math.max(1,W-1)),disabled:_===1,children:[a.jsx(sh,{className:"h-4 w-4"}),"上一頁"]}),a.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,Math.ceil(oe(E,"non-vip").length/10))},(W,je)=>{const De=je+1;return a.jsx(q,{variant:_===De?"default":"outline",size:"sm",onClick:()=>T(De),children:De},De)})}),a.jsxs(q,{variant:"outline",size:"sm",onClick:()=>T(W=>Math.min(Math.ceil(oe(E,"non-vip").length/10),W+1)),disabled:_===Math.ceil(oe(E,"non-vip").length/10),children:["下一頁",a.jsx(oh,{className:"h-4 w-4"})]})]})]})]}),a.jsxs(Qt,{value:"vip",children:[a.jsxs(Br,{children:[a.jsx(Vr,{children:a.jsxs(Pt,{children:[a.jsx(Se,{children:"信息"}),a.jsx(Se,{children:"角色 & VIP"}),a.jsx(Se,{children:"統計"}),a.jsx(Se,{children:"狀態"}),a.jsx(Se,{children:"操作"})]})}),a.jsx(zr,{children:Q(oe(E,"vip"),_).map(W=>{var je,De,$t,cr;return a.jsxs(Pt,{children:[a.jsx(Ae,{children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx(wr,{className:"h-5 w-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:W.name}),a.jsxs("div",{className:"text-sm text-gray-600 flex items-center",children:[a.jsx(ys,{className:"h-3 w-3 mr-1"}),W.email]}),a.jsxs("div",{className:"text-sm text-gray-600 flex items-center",children:[a.jsx(ca,{className:"h-3 w-3 mr-1"}),W.phone]}),W.licensePlate&&a.jsxs("div",{className:"text-sm text-gray-600 flex items-center",children:[a.jsx(sr,{className:"h-3 w-3 mr-1"}),W.licensePlate]})]})]})}),a.jsx(Ae,{children:a.jsxs("div",{className:"space-y-2",children:[G(W.role),W.isVIP&&a.jsxs("div",{className:"space-y-1",children:[a.jsxs(Me,{variant:"default",className:"bg-yellow-100 text-yellow-800",children:[a.jsx($o,{className:"h-3 w-3 mr-1"}),"VIP ",W.vipDiscount,"%"]}),W.vipCode?a.jsx("div",{className:"text-xs",children:a.jsx("code",{className:"bg-yellow-50 px-1 py-0.5 rounded text-yellow-700 font-mono",children:W.vipCode})}):a.jsx("div",{className:"text-xs text-red-600",children:"⚠️ 尚未有VIP碼"})]})]})}),a.jsx(Ae,{children:a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"預約:"}),a.jsx("span",{className:"font-medium",children:((je=W.stats)==null?void 0:je.totalBookings)||0})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"總支出:"}),a.jsx("span",{className:"font-medium",children:re(((De=W.stats)==null?void 0:De.totalSpent)||0)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"平均:"}),a.jsx("span",{className:"font-medium",children:re((($t=W.stats)==null?void 0:$t.averageSpent)||0)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"趨勢:"}),z(((cr=W.stats)==null?void 0:cr.bookingTrend)||"stable")]})]})}),a.jsx(Ae,{children:Y(W.isActive)}),a.jsx(Ae,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(q,{size:"sm",variant:"outline",onClick:()=>L(W),title:"查看詳細信息",children:a.jsx(yi,{className:"h-4 w-4"})}),a.jsx(q,{size:"sm",variant:"outline",onClick:()=>et(W),title:"編輯",children:a.jsx(Qr,{className:"h-4 w-4"})}),a.jsx(q,{size:"sm",variant:"outline",onClick:()=>rt(W),title:"管理VIP",children:a.jsx(Eo,{className:"h-4 w-4"})}),W.isVIP&&!W.vipCode&&a.jsx(q,{size:"sm",variant:"outline",onClick:()=>te(W._id),title:"創建VIP碼",className:"bg-yellow-50 border-yellow-200 text-yellow-700 hover:bg-yellow-100",children:a.jsx($o,{className:"h-4 w-4"})}),W.role!=="admin"&&a.jsx(q,{size:"sm",variant:"destructive",onClick:()=>st(W),title:"刪除用戶",children:a.jsx(Ir,{className:"h-4 w-4"})})]})})]},W._id)})})]}),oe(E,"vip").length===0&&a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(aa,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"找不到VIP用戶"}),a.jsx("p",{className:"text-gray-500",children:"找不到任何VIP用戶符合當前過濾器。"})]}),Math.ceil(oe(E,"vip").length/10)>1&&a.jsxs("div",{className:"flex items-center justify-between mt-6",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:["顯示 ",(_-1)*10+1," - ",Math.min(_*10,oe(E,"vip").length)," 的 ",oe(E,"vip").length," 用戶"]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs(q,{variant:"outline",size:"sm",onClick:()=>T(W=>Math.max(1,W-1)),disabled:_===1,children:[a.jsx(sh,{className:"h-4 w-4"}),"上一頁"]}),a.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,Math.ceil(oe(E,"vip").length/10))},(W,je)=>{const De=je+1;return a.jsx(q,{variant:_===De?"default":"outline",size:"sm",onClick:()=>T(De),children:De},De)})}),a.jsxs(q,{variant:"outline",size:"sm",onClick:()=>T(W=>Math.min(Math.ceil(oe(E,"vip").length/10),W+1)),disabled:_===Math.ceil(oe(E,"vip").length/10),children:["下一頁",a.jsx(oh,{className:"h-4 w-4"})]})]})]})]}),a.jsxs(Qt,{value:"non-vip",children:[a.jsxs(Br,{children:[a.jsx(Vr,{children:a.jsxs(Pt,{children:[a.jsx(Se,{children:"信息"}),a.jsx(Se,{children:"角色 & VIP"}),a.jsx(Se,{children:"統計"}),a.jsx(Se,{children:"狀態"}),a.jsx(Se,{children:"操作"})]})}),a.jsx(zr,{children:Q(oe(E,"non-vip"),_).map(W=>{var je,De,$t,cr;return a.jsxs(Pt,{children:[a.jsx(Ae,{children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx(wr,{className:"h-5 w-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:W.name}),a.jsxs("div",{className:"text-sm text-gray-600 flex items-center",children:[a.jsx(ys,{className:"h-3 w-3 mr-1"}),W.email]}),a.jsxs("div",{className:"text-sm text-gray-600 flex items-center",children:[a.jsx(ca,{className:"h-3 w-3 mr-1"}),W.phone]}),W.licensePlate&&a.jsxs("div",{className:"text-sm text-gray-600 flex items-center",children:[a.jsx(sr,{className:"h-3 w-3 mr-1"}),W.licensePlate]})]})]})}),a.jsx(Ae,{children:a.jsxs("div",{className:"space-y-2",children:[G(W.role),a.jsx("div",{className:"text-xs text-gray-500",children:"非VIP用戶"})]})}),a.jsx(Ae,{children:a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"預約:"}),a.jsx("span",{className:"font-medium",children:((je=W.stats)==null?void 0:je.totalBookings)||0})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"總支出:"}),a.jsx("span",{className:"font-medium",children:re(((De=W.stats)==null?void 0:De.totalSpent)||0)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"平均:"}),a.jsx("span",{className:"font-medium",children:re((($t=W.stats)==null?void 0:$t.averageSpent)||0)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"趨勢:"}),z(((cr=W.stats)==null?void 0:cr.bookingTrend)||"stable")]})]})}),a.jsx(Ae,{children:Y(W.isActive)}),a.jsx(Ae,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(q,{size:"sm",variant:"outline",onClick:()=>L(W),title:"查看詳細信息",children:a.jsx(yi,{className:"h-4 w-4"})}),a.jsx(q,{size:"sm",variant:"outline",onClick:()=>et(W),title:"編輯",children:a.jsx(Qr,{className:"h-4 w-4"})}),a.jsx(q,{size:"sm",variant:"outline",onClick:()=>rt(W),title:"管理VIP",children:a.jsx(Eo,{className:"h-4 w-4"})}),W.role!=="admin"&&a.jsx(q,{size:"sm",variant:"destructive",onClick:()=>st(W),title:"刪除用戶",children:a.jsx(Ir,{className:"h-4 w-4"})})]})})]},W._id)})})]}),oe(E,"non-vip").length===0&&a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(aa,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"找不到非VIP用戶"}),a.jsx("p",{className:"text-gray-500",children:"找不到任何非VIP用戶符合當前過濾器。"})]}),Math.ceil(oe(E,"all").length/10)>1&&a.jsxs("div",{className:"flex items-center justify-between mt-6",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:["顯示 ",(_-1)*10+1," - ",Math.min(_*10,oe(E,"all").length)," 的 ",oe(E,"all").length," 用戶"]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs(q,{variant:"outline",size:"sm",onClick:()=>T(W=>Math.max(1,W-1)),disabled:_===1,children:[a.jsx(sh,{className:"h-4 w-4"}),"上一頁"]}),a.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,Math.ceil(oe(E,"all").length/10))},(W,je)=>{const De=je+1;return a.jsx(q,{variant:_===De?"default":"outline",size:"sm",onClick:()=>T(De),children:De},De)})}),a.jsxs(q,{variant:"outline",size:"sm",onClick:()=>T(W=>Math.min(Math.ceil(oe(E,"all").length/10),W+1)),disabled:_===Math.ceil(oe(E,"all").length/10),children:["下一頁",a.jsx(oh,{className:"h-4 w-4"})]})]})]})]})]})})]}),a.jsx(ht,{open:m,onOpenChange:g,children:a.jsxs(ot,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[a.jsxs(ct,{children:[a.jsx(ut,{children:"用戶詳細信息"}),a.jsx(dt,{children:"用戶詳細信息"})]}),p&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsxs("h4",{className:"font-semibold mb-3 flex items-center",children:[a.jsx(wr,{className:"h-4 w-4 mr-2"}),"基本信息"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"姓名:"})," ",p.name]}),a.jsxs("div",{children:[a.jsx("strong",{children:"電子郵件:"})," ",p.email]}),a.jsxs("div",{children:[a.jsx("strong",{children:"電話號碼:"})," ",p.phone]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"角色:"})," ",G(p.role)]}),a.jsxs("div",{children:[a.jsx("strong",{children:"狀態:"})," ",Y(p.isActive)]}),a.jsxs("div",{children:[a.jsx("strong",{children:"加入:"})," ",Or(p.createdAt)]})]})]})]}),p.licensePlate&&a.jsxs("div",{children:[a.jsxs("h4",{className:"font-semibold mb-3 flex items-center",children:[a.jsx(sr,{className:"h-4 w-4 mr-2"}),"車輛信息"]}),a.jsxs("div",{className:"text-sm",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"車牌號碼:"})," ",p.licensePlate]}),p.address&&a.jsxs("div",{children:[a.jsx("strong",{children:"地址:"})," ",p.address]})]})]}),p.isVIP&&a.jsxs("div",{children:[a.jsxs("h4",{className:"font-semibold mb-3 flex items-center",children:[a.jsx(Eo,{className:"h-4 w-4 mr-2"}),"VIP信息"]}),a.jsxs("div",{className:"text-sm",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"VIP折扣:"})," ",p.vipDiscount,"%"]}),a.jsxs("div",{children:[a.jsx("strong",{children:"VIP碼:"})," ",a.jsx("code",{className:"bg-yellow-100 px-2 py-1 rounded text-yellow-800 font-mono",children:p.vipCode||"N/A"})]}),a.jsxs("div",{children:[a.jsx("strong",{children:"VIP創建日期:"})," ",p.vipCreatedAt?Or(p.vipCreatedAt):"N/A"]})]})]}),a.jsxs("div",{children:[a.jsxs("h4",{className:"font-semibold mb-3 flex items-center",children:[a.jsx($o,{className:"h-4 w-4 mr-2"}),"統計"]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:((B=p.stats)==null?void 0:B.totalBookings)||0}),a.jsx("div",{className:"text-gray-500",children:"總預約"})]}),a.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded",children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:re(((ae=p.stats)==null?void 0:ae.totalSpent)||0)}),a.jsx("div",{className:"text-gray-500",children:"總支出"})]}),a.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded",children:[a.jsx("div",{className:"text-2xl font-bold text-purple-600",children:re(((Fe=p.stats)==null?void 0:Fe.averageSpent)||0)}),a.jsx("div",{className:"text-gray-500",children:"平均/預約"})]}),a.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded",children:[a.jsx("div",{className:"text-2xl font-bold text-orange-600",children:z((($e=p.stats)==null?void 0:$e.bookingTrend)||"stable")}),a.jsx("div",{className:"text-gray-500",children:"趨勢"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4 text-sm",children:[a.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded",children:[a.jsx("div",{className:"text-xl font-bold text-blue-600",children:((Ut=p.stats)==null?void 0:Ut.completedBookings)||0}),a.jsx("div",{className:"text-gray-500",children:"完成"})]}),a.jsxs("div",{className:"text-center p-3 bg-yellow-50 rounded",children:[a.jsx("div",{className:"text-xl font-bold text-yellow-600",children:((St=p.stats)==null?void 0:St.pendingBookings)||0}),a.jsx("div",{className:"text-gray-500",children:"等待確認"})]}),a.jsxs("div",{className:"text-center p-3 bg-red-50 rounded",children:[a.jsx("div",{className:"text-xl font-bold text-red-600",children:((Yt=p.stats)==null?void 0:Yt.cancelledBookings)||0}),a.jsx("div",{className:"text-gray-500",children:"已取消"})]}),a.jsxs("div",{className:"text-center p-3 bg-green-50 rounded",children:[a.jsx("div",{className:"text-xl font-bold text-green-600",children:se(((nr=p.stats)==null?void 0:nr.averageDuration)||0)}),a.jsx("div",{className:"text-gray-500",children:"平均時間"})]})]}),((Lt=p.stats)==null?void 0:Lt.totalVipSavings)&&p.stats.totalVipSavings>0&&a.jsxs("div",{className:"mt-4 p-3 bg-yellow-50 rounded",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(iE,{className:"h-4 w-4 text-yellow-600 mr-2"}),a.jsx("span",{className:"font-medium",children:"VIP節省"})]}),a.jsx("div",{className:"text-xl font-bold text-yellow-600",children:re(p.stats.totalVipSavings)})]}),a.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:["從 ",((Zn=p.stats)==null?void 0:Zn.vipBookingsCount)||0," 預約VIP"]})]})]}),((Xg=p.stats)==null?void 0:Xg.recentBookings)&&p.stats.recentBookings.length>0&&a.jsxs("div",{children:[a.jsxs("h4",{className:"font-semibold mb-3 flex items-center",children:[a.jsx(Et,{className:"h-4 w-4 mr-2"}),"最近預約"]}),a.jsx("div",{className:"space-y-2",children:p.stats.recentBookings.map(W=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded",children:[a.jsx("div",{className:"flex items-center space-x-3",children:a.jsxs("div",{className:"text-sm",children:[a.jsx("div",{className:"font-medium",children:W.driverName}),a.jsx("div",{className:"text-gray-600",children:W.licensePlate})]})}),a.jsxs("div",{className:"flex items-center space-x-2",children:[Ce(W.status),a.jsx("div",{className:"text-sm font-medium",children:re(W.finalAmount)})]})]},W._id))})]}),p.notes&&a.jsxs("div",{children:[a.jsxs("h4",{className:"font-semibold mb-3 flex items-center",children:[a.jsx(xs,{className:"h-4 w-4 mr-2"}),"備註"]}),a.jsx("div",{className:"text-sm p-3 bg-yellow-50 rounded",children:p.notes})]})]}),a.jsxs(lt,{children:[a.jsx(q,{variant:"outline",onClick:()=>g(!1),children:"關閉"}),a.jsx(q,{onClick:()=>{g(!1),p&&et(p)},children:"編輯"})]})]})}),a.jsx(ht,{open:w||b,onOpenChange:W=>{W||(A(!1),y(!1),Ve())},children:a.jsxs(ot,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[a.jsxs(ct,{children:[a.jsx(ut,{children:P?"編輯用戶":"添加新用戶"}),a.jsx(dt,{children:P?"更新用戶信息":"在系統中創建新用戶"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"name",children:"姓名 *"}),a.jsx(ce,{id:"name",value:V.name,onChange:W=>H(je=>({...je,name:W.target.value}))})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"email",children:"Email *"}),a.jsx(ce,{id:"email",type:"email",value:V.email,onChange:W=>H(je=>({...je,email:W.target.value}))})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"phone",children:"電話號碼 *"}),a.jsx(ce,{id:"phone",value:V.phone,onChange:W=>H(je=>({...je,phone:W.target.value}))})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"role",children:"角色 *"}),a.jsxs(Cn,{value:V.role,onValueChange:W=>H(je=>({...je,role:W})),children:[a.jsx(fn,{children:a.jsx(Tn,{})}),a.jsxs(hn,{children:[a.jsx(nt,{value:"user",children:"客戶"}),a.jsx(nt,{value:"staff",children:"員工"}),a.jsx(nt,{value:"admin",children:"管理員"})]})]})]})]}),!P&&a.jsxs("div",{children:[a.jsxs(K,{htmlFor:"password",children:["密碼 ",!P&&"*"]}),a.jsx(ce,{id:"password",type:"password",value:V.password,onChange:W=>H(je=>({...je,password:W.target.value})),placeholder:P?"留空如果不想更改":"輸入密碼"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"licensePlate",children:"車牌號碼"}),a.jsx(ce,{id:"licensePlate",value:V.licensePlate,onChange:W=>H(je=>({...je,licensePlate:W.target.value}))})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"address",children:"地址"}),a.jsx(ce,{id:"address",value:V.address,onChange:W=>H(je=>({...je,address:W.target.value}))})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(wt,{id:"isVIP",checked:V.isVIP,onCheckedChange:W=>H(je=>({...je,isVIP:W}))}),a.jsx(K,{htmlFor:"isVIP",children:"VIP用戶"})]}),V.isVIP&&a.jsxs("div",{children:[a.jsx(K,{htmlFor:"vipDiscount",children:"VIP折扣 (%)"}),a.jsx(ce,{id:"vipDiscount",type:"number",min:"0",max:"100",value:V.vipDiscount,onChange:W=>H(je=>({...je,vipDiscount:parseInt(W.target.value)}))})]})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"notes",children:"備註"}),a.jsx(tr,{id:"notes",value:V.notes,onChange:W=>H(je=>({...je,notes:W.target.value})),rows:3,placeholder:"關於用戶的備註..."})]})]}),a.jsxs(lt,{children:[a.jsx(q,{variant:"outline",onClick:()=>{A(!1),y(!1),Ve()},children:"取消"}),a.jsx(q,{onClick:P?le:Pe,children:P?"更新":"創建用戶"})]})]})}),a.jsx(ht,{open:O,onOpenChange:S,children:a.jsxs(ot,{children:[a.jsxs(ct,{children:[a.jsx(ut,{children:"管理VIP"}),a.jsx(dt,{children:"更新用戶的VIP信息"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(wt,{id:"vipStatus",checked:fe.isVIP,onCheckedChange:W=>Le(je=>({...je,isVIP:W,vipDiscount:W?je.vipDiscount:0}))}),a.jsx(K,{htmlFor:"vipStatus",children:"VIP用戶"})]}),fe.isVIP&&a.jsxs("div",{children:[a.jsx(K,{htmlFor:"vipDiscountAmount",children:"VIP折扣 (%)"}),a.jsx(ce,{id:"vipDiscountAmount",type:"number",min:"0",max:"100",value:fe.vipDiscount,onChange:W=>{const je=parseInt(W.target.value);Le(De=>({...De,vipDiscount:isNaN(je)?0:Math.max(0,Math.min(100,je))}))}})]})]}),a.jsxs(lt,{children:[a.jsx(q,{variant:"outline",onClick:()=>S(!1),children:"取消"}),a.jsx(q,{onClick:xe,children:"更新VIP"})]})]})}),a.jsx(ht,{open:N,onOpenChange:j,children:a.jsxs(ot,{children:[a.jsxs(ct,{children:[a.jsx(ut,{children:"確認刪除"}),a.jsxs(dt,{children:['您確定要刪除用戶 "',p==null?void 0:p.name,'"? 此操作無法撤銷。']})]}),a.jsxs(lt,{children:[a.jsx(q,{variant:"outline",onClick:()=>j(!1),children:"取消"}),a.jsx(q,{variant:"destructive",onClick:ye,children:"刪除"})]})]})})]})},Xl={bookingTerms:{content:`1. Điều khoản đặt chỗ bãi đậu xe

• Khách hàng phải đặt chỗ trước ít nhất 1 giờ
• Thời gian đặt chỗ tối đa là 30 ngày
• Mỗi lần đặt chỗ tối thiểu 1 giờ
• Hủy đặt chỗ trước 2 giờ để được hoàn tiền

2. Thông tin cần thiết khi đặt chỗ

• Họ tên khách hàng
• Số điện thoại liên hệ
• Biển số xe
• Thời gian đặt chỗ (giờ đến và giờ đi)
• Loại bãi đậu xe mong muốn

3. Xác nhận đặt chỗ

• Hệ thống sẽ gửi SMS/Email xác nhận
• Khách hàng cần xác nhận trong vòng 15 phút
• Nếu không xác nhận, đặt chỗ sẽ tự động hủy`,isActive:!0},bookingRules:{content:`1. Quy định sử dụng bãi đậu xe

• Tuân thủ hướng dẫn của nhân viên
• Đậu xe đúng vị trí được chỉ định
• Không để xe quá thời gian đã đặt
• Giữ gìn vệ sinh chung

2. Quy định về an toàn

• Tắt động cơ khi đậu xe
• Khóa xe cẩn thận
• Không để vật có giá trị trong xe
• Báo cáo ngay khi có sự cố

3. Quy định về thanh toán

• Thanh toán đầy đủ trước khi sử dụng
• Chấp nhận tiền mặt và thẻ tín dụng
• Hóa đơn sẽ được cung cấp sau khi thanh toán`,isActive:!0},privacyPolicy:{content:`1. Thu thập thông tin

• Thông tin cá nhân: tên, số điện thoại, email
• Thông tin xe: biển số, loại xe
• Thông tin đặt chỗ: thời gian, vị trí

2. Sử dụng thông tin

• Để xử lý đặt chỗ và thanh toán
• Để liên lạc với khách hàng
• Để cải thiện dịch vụ

3. Bảo mật thông tin

• Mã hóa dữ liệu nhạy cảm
• Không chia sẻ thông tin với bên thứ ba
• Tuân thủ quy định bảo mật dữ liệu`,isActive:!0},contactInfo:{content:`Thông tin liên hệ:

Điện thoại: +886 2 1234 5678
Email: info@parkingzone.com
Địa chỉ: 123 Parking Street, Taipei, Taiwan
Website: https://parkingzone.com

Giờ làm việc:
Thứ 2 - Thứ 6: 06:00 - 22:00
Thứ 7 - Chủ nhật: 07:00 - 21:00

Hỗ trợ khách hàng 24/7 qua hotline`,isActive:!0},timeSlotInterval:{content:`Cài đặt khoảng thời gian đặt chỗ:

• Khoảng thời gian mặc định: 15 phút
• Tùy chọn: 15, 30, 45, 60 phút
• Khách hàng có thể chọn thời gian phù hợp
• Hệ thống sẽ hiển thị các slot có sẵn`,isActive:!0},cancellationPolicy:{content:`Chính sách hủy đặt chỗ:

1. Hủy miễn phí
• Hủy trước 2 giờ: hoàn tiền 100%
• Hủy trước 1 giờ: hoàn tiền 50%

2. Hủy có phí
• Hủy trong vòng 1 giờ: không hoàn tiền
• Không đến đúng giờ: tính phí 1 giờ

3. Hoàn tiền
• Xử lý trong vòng 3-5 ngày làm việc
• Hoàn tiền qua phương thức thanh toán ban đầu`,isActive:!0},refundPolicy:{content:`Chính sách hoàn tiền:

1. Điều kiện hoàn tiền
• Hủy đặt chỗ đúng quy định
• Dịch vụ không đạt chất lượng
• Lỗi hệ thống kỹ thuật

2. Thời gian xử lý
• Hoàn tiền trong vòng 3-5 ngày làm việc
• Thông báo qua email/SMS

3. Phương thức hoàn tiền
• Hoàn tiền qua phương thức thanh toán ban đầu
• Chuyển khoản ngân hàng (nếu cần)`,isActive:!0}},Joe=()=>{const[e,t]=x.useState(!0),[r,n]=x.useState(!1),[i,s]=x.useState({contactInfo:{phone:"",email:"",address:"",website:""},businessHours:{open:"06:00",close:"22:00",is24Hours:!1},bookingTerms:"",bookingRules:"",defaultVIPDiscount:10,bookingAdvanceHours:24,maxBookingDays:30,minBookingDays:3,timeSlotInterval:15,autoCancelMinutes:15,notificationSettings:{emailNotifications:!0,smsNotifications:!1,reminderHours:1,confirmationEmail:!0,reminderEmail:!0},paymentSettings:{acceptCash:!0,acceptCreditCard:!0,acceptOnlinePayment:!1,currency:"TWD",taxRate:0},luggageSettings:{freeLuggageCount:1,luggagePricePerItem:100},maintenanceMode:{enabled:!1,message:""}}),[o,c]=x.useState(Xl),[l,u]=x.useState(null),[d,f]=x.useState("");x.useEffect(()=>{h(),p()},[]);const h=async()=>{var j,O,S;try{t(!0);const P=await xv();console.log("🔍 Loaded settings:",P),s(C=>({...C,...P,contactInfo:{...C.contactInfo,...P.contactInfo},businessHours:{...C.businessHours,...P.businessHours},notificationSettings:{...C.notificationSettings,...P.notificationSettings},paymentSettings:{...C.paymentSettings,...P.paymentSettings},luggageSettings:{...C.luggageSettings,...P.luggageSettings},maintenanceMode:{...C.maintenanceMode,...P.maintenanceMode}}))}catch(P){console.error("Error loading settings:",P);const C=((O=(j=P.response)==null?void 0:j.data)==null?void 0:O.message)||P.message||"無法載入系統設定";if(Z.error(C),((S=P.response)==null?void 0:S.status)===401)return}finally{t(!1)}},p=async()=>{try{const j=await w$();console.log("🔍 Loaded terms:",j),j.success?c(j.terms||Xl):c(Xl)}catch(j){console.error("Error loading terms:",j),c(Xl)}},v=async()=>{var j,O;try{n(!0),console.log("🔍 Saving settings:",i),await D$(i),Z.success("設定儲存成功！")}catch(S){console.error("Error saving settings:",S);const P=((O=(j=S.response)==null?void 0:j.data)==null?void 0:O.message)||S.message||"無法儲存設定";Z.error(P)}finally{n(!1)}},m=async()=>{var j,O;try{n(!0),console.log("🔍 Saving booking terms:",{bookingTerms:i.bookingTerms,bookingRules:i.bookingRules}),await I$({bookingTerms:i.bookingTerms,bookingRules:i.bookingRules}),Z.success("預約條款儲存成功！")}catch(S){console.error("Error saving booking terms:",S);const P=((O=(j=S.response)==null?void 0:j.data)==null?void 0:O.message)||S.message||"無法儲存預約條款";Z.error(P)}finally{n(!1)}},g=async()=>{var j,O;try{n(!0),console.log("🔍 Saving all terms:",o),await N$(o),Z.success("儲存所有條款成功！")}catch(S){console.error("Error saving terms:",S);const P=((O=(j=S.response)==null?void 0:j.data)==null?void 0:O.message)||S.message||"無法儲存條款";Z.error(P)}finally{n(!1)}},b=j=>{u(j),f(o[j].content)},y=async()=>{var j,O;if(l)try{n(!0),console.log("🔍 Updating section:",l,{content:d,isActive:o[l].isActive}),await _x(l,{content:d,isActive:o[l].isActive});const S={...o,[l]:{...o[l],content:d}};c(S),u(null),f(""),Z.success("更新條款成功！")}catch(S){console.error("Error updating section:",S);const P=((O=(j=S.response)==null?void 0:j.data)==null?void 0:O.message)||S.message||"無法更新條款";Z.error(P)}finally{n(!1)}},w=async j=>{var O,S;try{console.log("🔍 Toggling section:",j,{content:o[j].content,isActive:!o[j].isActive}),await _x(j,{content:o[j].content,isActive:!o[j].isActive});const P={...o,[j]:{...o[j],isActive:!o[j].isActive}};c(P),Z.success(`${o[j].isActive?"停用":"啟用"}條款成功！`)}catch(P){console.error("Error toggling section:",P);const C=((S=(O=P.response)==null?void 0:O.data)==null?void 0:S.message)||P.message||"無法變更條款狀態";Z.error(C)}},A=j=>({bookingTerms:"預約條款",bookingRules:"預約規定",privacyPolicy:"隱私政策",contactInfo:"聯絡資訊",timeSlotInterval:"時段間隔",cancellationPolicy:"取消政策",refundPolicy:"退款政策"})[j],N=j=>({bookingTerms:a.jsx(bi,{className:"h-4 w-4"}),bookingRules:a.jsx(mu,{className:"h-4 w-4"}),privacyPolicy:a.jsx(hu,{className:"h-4 w-4"}),contactInfo:a.jsx(ca,{className:"h-4 w-4"}),timeSlotInterval:a.jsx(Ur,{className:"h-4 w-4"}),cancellationPolicy:a.jsx(qr,{className:"h-4 w-4"}),refundPolicy:a.jsx(mr,{className:"h-4 w-4"})})[j];return e?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"系統設定"}),a.jsx("p",{className:"text-gray-600",children:"系統配置和一般資訊"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(q,{variant:"outline",onClick:h,children:[a.jsx(Hn,{className:"h-4 w-4 mr-2"}),"重新整理"]}),a.jsxs(q,{onClick:v,disabled:r,children:[a.jsx(Ko,{className:"h-4 w-4 mr-2"}),r?"儲存中...":"儲存全部"]})]})]}),a.jsxs(vl,{defaultValue:"general",className:"space-y-6",children:[a.jsxs(uo,{children:[a.jsx(Gt,{value:"general",children:"一般"}),a.jsx(Gt,{value:"booking",children:"預約"}),a.jsx(Gt,{value:"notifications",children:"通知"}),a.jsx(Gt,{value:"payment",children:"付款"}),a.jsx(Gt,{value:"luggage",children:"行李"})]}),a.jsx(Qt,{value:"general",className:"space-y-6",children:a.jsxs(ue,{children:[a.jsx(ve,{children:a.jsxs(ge,{className:"flex items-center space-x-2",children:[a.jsx(lc,{className:"h-5 w-5 text-blue-600"}),a.jsx("span",{children:"一般設定"})]})}),a.jsxs(de,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"website",children:"Website"}),a.jsx(ce,{id:"website",value:i.contactInfo.website,onChange:j=>s(O=>({...O,contactInfo:{...O.contactInfo,website:j.target.value}})),placeholder:"https://example.com"})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"contactEmail",children:"聯絡電子郵件"}),a.jsx(ce,{id:"contactEmail",type:"email",value:i.contactInfo.email,onChange:j=>s(O=>({...O,contactInfo:{...O.contactInfo,email:j.target.value}})),placeholder:"info@example.com"})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"contactPhone",children:"電話號碼"}),a.jsx(ce,{id:"contactPhone",value:i.contactInfo.phone,onChange:j=>s(O=>({...O,contactInfo:{...O.contactInfo,phone:j.target.value}})),placeholder:"+886 2 1234 5678"})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"address",children:"地址"}),a.jsx(ce,{id:"address",value:i.contactInfo.address,onChange:j=>s(O=>({...O,contactInfo:{...O.contactInfo,address:j.target.value}})),placeholder:"123 Parking Street, Taipei, Taiwan"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{children:"營業時間"}),a.jsx(ce,{type:"time",value:i.businessHours.open,onChange:j=>s(O=>({...O,businessHours:{...O.businessHours,open:j.target.value}})),disabled:i.businessHours.is24Hours})]}),a.jsxs("div",{children:[a.jsx(K,{children:"關門時間"}),a.jsx(ce,{type:"time",value:i.businessHours.close,onChange:j=>s(O=>({...O,businessHours:{...O.businessHours,close:j.target.value}})),disabled:i.businessHours.is24Hours})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(wt,{id:"maintenanceMode",checked:i.maintenanceMode.enabled,onCheckedChange:j=>s(O=>({...O,maintenanceMode:{...O.maintenanceMode,enabled:j}}))}),a.jsx(K,{htmlFor:"maintenanceMode",children:"維護模式"})]}),i.maintenanceMode.enabled&&a.jsxs("div",{children:[a.jsx(K,{htmlFor:"maintenanceMessage",children:"維護通知"}),a.jsx(tr,{id:"maintenanceMessage",value:i.maintenanceMode.message,onChange:j=>s(O=>({...O,maintenanceMode:{...O.maintenanceMode,message:j.target.value}})),placeholder:"系統正在維護中，請稍後再試。",rows:3})]}),a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"💡 注意事項"}),a.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[a.jsx("li",{children:"• 聯絡資訊將顯示在首頁"}),a.jsx("li",{children:"• 營業時間會影響預約功能"}),a.jsx("li",{children:"• 維護模式將暫停整個系統"})]})]})]})]})}),a.jsxs(Qt,{value:"booking",className:"space-y-6",children:[a.jsxs(ue,{children:[a.jsx(ve,{children:a.jsxs(ge,{className:"flex items-center space-x-2",children:[a.jsx(Ur,{className:"h-5 w-5 text-blue-600"}),a.jsx("span",{children:"Cài đặt đặt chỗ"})]})}),a.jsxs(de,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"defaultVIPDiscount",children:"預設VIP折扣 (%)"}),a.jsx(ce,{id:"defaultVIPDiscount",type:"number",min:"0",max:"100",value:i.defaultVIPDiscount,onChange:j=>s(O=>({...O,defaultVIPDiscount:parseInt(j.target.value)}))})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"bookingAdvanceHours",children:"提前預約 (小時)"}),a.jsx(ce,{id:"bookingAdvanceHours",type:"number",min:"0",value:i.bookingAdvanceHours,onChange:j=>s(O=>({...O,bookingAdvanceHours:parseInt(j.target.value)}))})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"maxBookingDays",children:"最大 (天)"}),a.jsx(ce,{id:"maxBookingDays",type:"number",min:"1",value:i.maxBookingDays,onChange:j=>s(O=>({...O,maxBookingDays:parseInt(j.target.value)}))})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"minBookingDays",children:"最少 (天)"}),a.jsx(ce,{id:"minBookingDays",type:"number",min:"1",value:i.minBookingDays,onChange:j=>s(O=>({...O,minBookingDays:parseInt(j.target.value)}))})]})]}),a.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-semibold text-yellow-800 mb-2",children:"⚙️ 預約設定"}),a.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[a.jsx("li",{children:"• VIP折扣：適用於VIP客戶"}),a.jsx("li",{children:"• 提前預約：預約的最短時間"}),a.jsx("li",{children:"• 最少：客戶必須預約的最少天數"}),a.jsx("li",{children:"• 最大：可提前預約的最大天數"}),a.jsx("li",{children:"• 時段間隔：預約時段的精確度"}),a.jsx("li",{children:"• 自動取消：等待確認的時間"})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(wt,{id:"is24Hours",checked:i.businessHours.is24Hours,onCheckedChange:j=>s(O=>({...O,businessHours:{...O.businessHours,is24Hours:j}}))}),a.jsx(K,{htmlFor:"is24Hours",children:"24/7營業"})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"timeSlotInterval",children:"預約時段間隔 (分鐘)"}),a.jsxs("select",{id:"timeSlotInterval",value:i.timeSlotInterval,onChange:j=>s(O=>({...O,timeSlotInterval:parseInt(j.target.value)})),className:"w-full p-2 border border-gray-300 rounded-md",children:[a.jsx("option",{value:15,children:"15 分鐘"}),a.jsx("option",{value:30,children:"30 分鐘"}),a.jsx("option",{value:45,children:"45 分鐘"}),a.jsx("option",{value:60,children:"60 分鐘"})]})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"autoCancelMinutes",children:"自動取消時間 (分鐘)"}),a.jsx(ce,{id:"autoCancelMinutes",type:"number",min:"0",max:"120",value:i.autoCancelMinutes,onChange:j=>s(O=>({...O,autoCancelMinutes:parseInt(j.target.value)}))})]})]})]}),a.jsxs(ue,{children:[a.jsx(ve,{children:a.jsxs(ge,{className:"flex items-center space-x-2",children:[a.jsx(bi,{className:"h-5 w-5 text-blue-600"}),a.jsx("span",{children:"Điều khoản đặt chỗ"})]})}),a.jsxs(de,{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"請在預約停車位前仔細閱讀相關規定和條款。"}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"bookingTerms",children:"預約條款"}),a.jsx(tr,{id:"bookingTerms",value:i.bookingTerms,onChange:j=>s(O=>({...O,bookingTerms:j.target.value})),rows:10,placeholder:"輸入預約條款..."})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"bookingRules",children:"預約規定"}),a.jsx(tr,{id:"bookingRules",value:i.bookingRules,onChange:j=>s(O=>({...O,bookingRules:j.target.value})),rows:10,placeholder:"輸入預約規定..."})]}),a.jsxs(q,{onClick:m,disabled:r,children:[a.jsx(Ko,{className:"h-4 w-4 mr-2"}),"儲存條款"]})]})]})]}),a.jsx(Qt,{value:"notifications",className:"space-y-6",children:a.jsxs(ue,{children:[a.jsx(ve,{children:a.jsxs(ge,{className:"flex items-center space-x-2",children:[a.jsx(tu,{className:"h-5 w-5 text-blue-600"}),a.jsx("span",{children:"Cài đặt thông báo"})]})}),a.jsxs(de,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(wt,{id:"emailNotifications",checked:i.notificationSettings.emailNotifications,onCheckedChange:j=>s(O=>({...O,notificationSettings:{...O.notificationSettings,emailNotifications:j}}))}),a.jsx(K,{htmlFor:"emailNotifications",children:"電子郵件通知"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(wt,{id:"smsNotifications",checked:i.notificationSettings.smsNotifications,onCheckedChange:j=>s(O=>({...O,notificationSettings:{...O.notificationSettings,smsNotifications:j}}))}),a.jsx(K,{htmlFor:"smsNotifications",children:"簡訊通知"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(wt,{id:"confirmationEmail",checked:i.notificationSettings.confirmationEmail,onCheckedChange:j=>s(O=>({...O,notificationSettings:{...O.notificationSettings,confirmationEmail:j}}))}),a.jsx(K,{htmlFor:"confirmationEmail",children:"預約確認電子郵件"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(wt,{id:"reminderEmail",checked:i.notificationSettings.reminderEmail,onCheckedChange:j=>s(O=>({...O,notificationSettings:{...O.notificationSettings,reminderEmail:j}}))}),a.jsx(K,{htmlFor:"reminderEmail",children:"提醒電子郵件"})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"reminderHours",children:"提前提醒時間 (小時)"}),a.jsx(ce,{id:"reminderHours",type:"number",min:"0",max:"24",value:i.notificationSettings.reminderHours,onChange:j=>s(O=>({...O,notificationSettings:{...O.notificationSettings,reminderHours:parseInt(j.target.value)}}))})]})]})]})}),a.jsx(Qt,{value:"payment",className:"space-y-6",children:a.jsxs(ue,{children:[a.jsx(ve,{children:a.jsxs(ge,{className:"flex items-center space-x-2",children:[a.jsx(N1,{className:"h-5 w-5 text-blue-600"}),a.jsx("span",{children:"Cài đặt thanh toán"})]})}),a.jsxs(de,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"currency",children:"貨幣單位"}),a.jsx(ce,{id:"currency",value:i.paymentSettings.currency,onChange:j=>s(O=>({...O,paymentSettings:{...O.paymentSettings,currency:j.target.value}}))})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"taxRate",children:"稅率 (%)"}),a.jsx(ce,{id:"taxRate",type:"number",min:"0",max:"100",value:i.paymentSettings.taxRate,onChange:j=>s(O=>({...O,paymentSettings:{...O.paymentSettings,taxRate:parseFloat(j.target.value)}}))})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(wt,{id:"acceptCash",checked:i.paymentSettings.acceptCash,onCheckedChange:j=>s(O=>({...O,paymentSettings:{...O.paymentSettings,acceptCash:j}}))}),a.jsx(K,{htmlFor:"acceptCash",children:"接受現金"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(wt,{id:"acceptCreditCard",checked:i.paymentSettings.acceptCreditCard,onCheckedChange:j=>s(O=>({...O,paymentSettings:{...O.paymentSettings,acceptCreditCard:j}}))}),a.jsx(K,{htmlFor:"acceptCreditCard",children:"接受信用卡"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(wt,{id:"acceptOnlinePayment",checked:i.paymentSettings.acceptOnlinePayment,onCheckedChange:j=>s(O=>({...O,paymentSettings:{...O.paymentSettings,acceptOnlinePayment:j}}))}),a.jsx(K,{htmlFor:"acceptOnlinePayment",children:"接受線上付款"})]})]})]})]})}),a.jsx(Qt,{value:"luggage",className:"space-y-6",children:a.jsxs(ue,{children:[a.jsxs(ve,{children:[a.jsxs(ge,{className:"flex items-center space-x-2",children:[a.jsx(dm,{className:"h-5 w-5 text-blue-600"}),a.jsx("span",{children:"Cài đặt hành lý"})]}),a.jsx(Qe,{children:"配置行李費用和免費行李數量"})]}),a.jsxs(de,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"freeLuggageCount",children:"免費行李數量"}),a.jsx(ce,{id:"freeLuggageCount",type:"number",min:"0",value:i.luggageSettings.freeLuggageCount,onChange:j=>s(O=>({...O,luggageSettings:{...O.luggageSettings,freeLuggageCount:parseInt(j.target.value)||0}})),placeholder:"1"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"每個預約的免費行李數量"})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"luggagePricePerItem",children:"每件額外行李價格 (NT$)"}),a.jsx(ce,{id:"luggagePricePerItem",type:"number",min:"0",value:i.luggageSettings.luggagePricePerItem,onChange:j=>s(O=>({...O,luggageSettings:{...O.luggageSettings,luggagePricePerItem:parseInt(j.target.value)||0}})),placeholder:"100"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"超過免費數量後每件行李的費用"})]})]}),a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"費用計算範例："}),a.jsxs("div",{className:"text-sm text-blue-800 space-y-1",children:[a.jsxs("p",{children:["• 如果客戶選擇1件行李：免費 (≤ ",i.luggageSettings.freeLuggageCount,")"]}),a.jsxs("p",{children:["• 如果客戶選擇2件行李：額外費用 ",i.luggageSettings.luggagePricePerItem," NT$"]}),a.jsxs("p",{children:["• 如果客戶選擇3件行李：額外費用 ",i.luggageSettings.luggagePricePerItem*2," NT$"]})]})]})]})]})}),a.jsx(Qt,{value:"terms",className:"space-y-6",children:a.jsxs(ue,{children:[a.jsxs(ve,{children:[a.jsxs(ge,{className:"flex items-center space-x-2",children:[a.jsx(bi,{className:"h-5 w-5 text-blue-600"}),a.jsx("span",{children:"條款管理"})]}),a.jsx(Qe,{children:"管理系統的所有條款和規定"})]}),a.jsxs(de,{className:"space-y-4",children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.keys(o).map(j=>a.jsxs(ue,{className:"relative",children:[a.jsx(ve,{className:"pb-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[N(j),a.jsx(ge,{className:"text-sm",children:A(j)})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Me,{variant:o[j].isActive?"default":"secondary",children:o[j].isActive?"啟用":"停用"}),a.jsx(q,{variant:"outline",size:"sm",onClick:()=>b(j),children:a.jsx(Qr,{className:"h-3 w-3"})})]})]})}),a.jsxs(de,{children:[a.jsxs("div",{className:"text-sm text-gray-600 line-clamp-3",children:[o[j].content.substring(0,100),"..."]}),a.jsx("div",{className:"mt-2",children:a.jsx(q,{variant:"outline",size:"sm",onClick:()=>w(j),children:o[j].isActive?"停用":"啟用"})})]})]},j))}),a.jsxs(q,{onClick:g,disabled:r,className:"w-full",children:[a.jsx(Ko,{className:"h-4 w-4 mr-2"}),"儲存所有條款"]})]})]})})]}),a.jsx(ht,{open:!!l,onOpenChange:()=>u(null),children:a.jsxs(ot,{className:"max-w-4xl",children:[a.jsxs(ct,{children:[a.jsxs(ut,{children:["編輯 ",l?A(l):""]}),a.jsx(dt,{children:"更新此條款內容"})]}),a.jsx("div",{className:"space-y-4",children:a.jsx(tr,{value:d,onChange:j=>f(j.target.value),rows:15,placeholder:"輸入條款內容..."})}),a.jsxs(lt,{children:[a.jsx(q,{variant:"outline",onClick:()=>u(null),children:"取消"}),a.jsxs(q,{onClick:y,disabled:r,children:[a.jsx(Ko,{className:"h-4 w-4 mr-2"}),"儲存變更"]})]})]})})]})},Qoe=()=>{const[e,t]=x.useState([]),[r,n]=x.useState(!0),[i,s]=x.useState(""),[o,c]=x.useState(!1),[l,u]=x.useState(!1),[d,f]=x.useState(!1),[h,p]=x.useState(null),[v,m]=x.useState(!1),[g,b]=x.useState({code:"",name:"",type:"indoor",description:"",icon:"🏢",color:"#3B82F6",pricePerDay:100,totalSpaces:50,features:[""],isActive:!0});x.useEffect(()=>{y()},[]);const y=async()=>{try{n(!0);const k=await Yd();console.log("🔍 Parking types data:",k),t(k.parkingTypes)}catch(k){console.error("Error loading parking types:",k),Z.error("無法載入停車場清單")}finally{n(!1)}},w=async()=>{try{const{type:k,...M}=g;console.log("🔍 Creating parking type:",M),await d$(M),Z.success("創建停車場成功"),c(!1),j(),y()}catch(k){console.error("Error creating parking type:",k),Z.error("無法創建停車場")}},A=async()=>{if(h)try{const{type:k,...M}=g;if((h.code||g.code)&&(M.code=h.code||g.code),console.log("🔍 Updating parking type:",{selectedType:h,_id:h._id,selectedTypeCode:h.code,formDataCode:g.code,finalCode:M.code,updateData:M}),!h._id){Z.error("Không tìm thấy ID bãi đậu xe");return}await f$(h._id,M),Z.success("Cập nhật bãi đậu xe thành công"),u(!1),j(),y()}catch(k){console.error("Error updating parking type:",k),Z.error("Không thể cập nhật bãi đậu xe")}},N=async()=>{if(h)try{await h$(h.code),Z.success("Xóa bãi đậu xe thành công"),f(!1),p(null),y()}catch{Z.error("Không thể xóa bãi đậu xe")}},j=()=>{b({code:"",name:"",type:"indoor",description:"",icon:"🏢",color:"#3B82F6",pricePerDay:100,totalSpaces:50,features:[""],isActive:!0}),m(!1),p(null)},O=()=>{b({code:"",name:"",type:"indoor",description:"",icon:"🏢",color:"#3B82F6",pricePerDay:100,totalSpaces:50,features:[""],isActive:!0}),c(!0)},S=k=>{console.log("🔍 Opening edit dialog for parking type:",k),p(k),b({code:k.code,name:k.name,type:k.type||"indoor",description:k.description,icon:k.icon,color:k.color||"#3B82F6",pricePerDay:k.pricePerDay||100,totalSpaces:k.totalSpaces||50,features:k.features||[""],isActive:k.isActive}),m(!0),u(!0)},P=k=>{p(k),f(!0)},C=()=>{b({...g,features:[...g.features,""]})},_=k=>{b({...g,features:g.features.filter((M,E)=>E!==k)})},T=(k,M)=>{const E=[...g.features];E[k]=M,b({...g,features:E})},D=k=>k==null?"0 TWD":k.toLocaleString("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0,maximumFractionDigits:0}),$=e.filter(k=>k.name.toLowerCase().includes(i.toLowerCase())||k.description.toLowerCase().includes(i.toLowerCase()));return r?a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}):a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"停車場"}),a.jsx("p",{className:"text-gray-600",children:"管理系統中的停車場"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(q,{variant:"outline",onClick:y,children:[a.jsx(Hn,{className:"h-4 w-4 mr-2"}),"重新整理"]}),a.jsxs(q,{onClick:O,children:[a.jsx(Wr,{className:"h-4 w-4 mr-2"}),"新增停車場"]})]})]}),a.jsxs(ue,{className:"mb-6",children:[a.jsx(ve,{children:a.jsxs(ge,{className:"flex items-center",children:[a.jsx(hr,{className:"h-5 w-5 mr-2"}),"篩選"]})}),a.jsx(de,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"search",children:"搜尋"}),a.jsxs("div",{className:"relative",children:[a.jsx(Hr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),a.jsx(ce,{id:"search",placeholder:"名稱、描述...",value:i,onChange:k=>s(k.target.value),className:"pl-10"})]})]}),a.jsx("div",{className:"flex items-end",children:a.jsxs(q,{variant:"outline",className:"w-full",children:[a.jsx(hr,{className:"h-4 w-4 mr-2"}),"篩選"]})})]})})]}),a.jsxs(ue,{children:[a.jsxs(ve,{children:[a.jsx(ge,{children:"停車場清單"}),a.jsxs(Qe,{children:["總共 ",$.length," 個停車場"]})]}),a.jsxs(de,{children:[a.jsxs(Br,{children:[a.jsx(Vr,{children:a.jsxs(Pt,{children:[a.jsx(Se,{children:"資訊"}),a.jsx(Se,{children:"價格"}),a.jsx(Se,{children:"容量"}),a.jsx(Se,{children:"功能"}),a.jsx(Se,{children:"狀態"}),a.jsx(Se,{children:"操作"})]})}),a.jsx(zr,{children:$.map(k=>(console.log("🔍 Rendering parking type:",k),a.jsxs(Pt,{children:[a.jsx(Ae,{children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-2xl",style:{backgroundColor:(k.color||"#3B82F6")+"20"},children:k.icon}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:k.name}),a.jsx("div",{className:"text-sm text-gray-600",children:k.description}),a.jsxs("div",{className:"text-sm text-gray-500",children:["代碼: ",k.code]})]})]})}),a.jsx(Ae,{children:a.jsx("div",{className:"space-y-1 text-sm",children:a.jsxs("div",{children:["基本: ",D(k.pricePerDay),"/天"]})})}),a.jsx(Ae,{children:a.jsx("div",{className:"text-sm",children:a.jsxs("div",{children:["最大: ",k.totalSpaces||0," 位"]})})}),a.jsx(Ae,{children:a.jsxs("div",{className:"flex flex-wrap gap-1",children:[(k.features||[]).slice(0,2).map((M,E)=>a.jsx(Me,{variant:"outline",className:"text-xs",children:M},E)),(k.features||[]).length>2&&a.jsxs(Me,{variant:"outline",className:"text-xs",children:["+",(k.features||[]).length-2," 更多"]})]})}),a.jsx(Ae,{children:a.jsx(Me,{variant:k.isActive?"default":"secondary",children:k.isActive?a.jsxs(a.Fragment,{children:[a.jsx(mr,{className:"h-3 w-3 mr-1"}),"啟用"]}):a.jsxs(a.Fragment,{children:[a.jsx(qr,{className:"h-3 w-3 mr-1"}),"暫停"]})})}),a.jsx(Ae,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(q,{size:"sm",variant:"outline",onClick:()=>S(k),children:a.jsx(Qr,{className:"h-4 w-4"})}),a.jsx(q,{size:"sm",variant:"destructive",onClick:()=>P(k),children:a.jsx(Ir,{className:"h-4 w-4"})})]})})]},k._id||k.code)))})]}),$.length===0&&a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(sr,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"找不到停車場"}),a.jsx("p",{className:"text-gray-500",children:"沒有符合當前篩選條件的停車場。"})]})]})]}),a.jsx(ht,{open:o||l,onOpenChange:k=>{k||(c(!1),u(!1),j())},children:a.jsxs(ot,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[a.jsxs(ct,{children:[a.jsx(ut,{children:v?"編輯停車場":"新增停車場"}),a.jsx(dt,{children:v?"更新停車場資訊":"創建新的停車場並提供必要資訊"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"name",children:"停車場名稱 *"}),a.jsx(ce,{id:"name",value:g.name,onChange:k=>b(M=>({...M,name:k.target.value})),placeholder:"例如: 停車場A、停車場B、VIP區域..."})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"code",children:"停車場代碼 *"}),a.jsx(ce,{id:"code",value:g.code,onChange:k=>b(M=>({...M,code:k.target.value})),placeholder:"例如: A001、B002、VIP001"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"icon",children:"圖示"}),a.jsx(ce,{id:"icon",value:g.icon,onChange:k=>b(M=>({...M,icon:k.target.value})),placeholder:"🏢 🌤 ♿️"})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"color",children:"顏色"}),a.jsx(ce,{id:"color",type:"color",value:g.color,onChange:k=>b(M=>({...M,color:k.target.value}))})]})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"description",children:"描述"}),a.jsx(tr,{id:"description",value:g.description,onChange:k=>b(M=>({...M,description:k.target.value})),placeholder:"停車場的詳細描述...",rows:3})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"pricePerDay",children:"基本價格 (TWD/天) *"}),a.jsx(ce,{id:"pricePerDay",type:"number",value:g.pricePerDay,onChange:k=>b(M=>({...M,pricePerDay:parseInt(k.target.value)}))})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"totalSpaces",children:"最大車位數 *"}),a.jsx(ce,{id:"totalSpaces",type:"number",value:g.totalSpaces,onChange:k=>b(M=>({...M,totalSpaces:parseInt(k.target.value)}))})]})]}),a.jsxs("div",{children:[a.jsx(K,{children:"功能"}),a.jsxs("div",{className:"space-y-2",children:[g.features.map((k,M)=>a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(ce,{value:k,onChange:E=>T(M,E.target.value),placeholder:"輸入功能..."}),a.jsx(q,{variant:"outline",size:"sm",onClick:()=>_(M),children:a.jsx(Ir,{className:"h-4 w-4"})})]},M)),a.jsxs(q,{variant:"outline",size:"sm",onClick:C,children:[a.jsx(Wr,{className:"h-4 w-4 mr-2"}),"新增功能"]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(wt,{id:"isActive",checked:g.isActive,onCheckedChange:k=>b(M=>({...M,isActive:k}))}),a.jsx(K,{htmlFor:"isActive",children:"啟用此停車場"})]})]}),a.jsxs(lt,{children:[a.jsx(q,{variant:"outline",onClick:()=>{c(!1),u(!1),j()},children:"取消"}),a.jsx(q,{onClick:v?A:w,children:v?"更新":"創建停車場"})]})]})}),a.jsx(ht,{open:d,onOpenChange:f,children:a.jsxs(ot,{children:[a.jsxs(ct,{children:[a.jsx(ut,{children:"確認刪除"}),a.jsxs(dt,{children:['您確定要刪除停車場 "',h==null?void 0:h.name,'"? 此操作無法撤銷。']})]}),a.jsxs(lt,{children:[a.jsx(q,{variant:"outline",onClick:()=>f(!1),children:"取消"}),a.jsx(q,{variant:"destructive",onClick:N,children:"刪除"})]})]})})]})},ece=()=>{const[e,t]=x.useState([]),[r,n]=x.useState(!0),[i,s]=x.useState(""),[o,c]=x.useState("all"),[l,u]=x.useState(!1),[d,f]=x.useState(!1),[h,p]=x.useState(!1),[v,m]=x.useState(null),[g,b]=x.useState(!1),[y,w]=x.useState({code:"",name:"",description:"",discountType:"percentage",discountValue:10,minOrderAmount:0,maxDiscount:0,maxUsage:100,isActive:!0,validFrom:"",validTo:""});x.useEffect(()=>{A()},[]);const A=async()=>{try{n(!0);const E=await g$();t(E.discountCodes)}catch{Z.error("無法載入折扣碼清單")}finally{n(!1)}},N=async()=>{try{await x$(y),Z.success("創建折扣碼成功"),u(!1),S(),A()}catch{Z.error("無法創建折扣碼")}},j=async()=>{if(v)try{await y$(v._id,y),Z.success("更新折扣碼成功"),f(!1),S(),A()}catch{Z.error("無法更新折扣碼")}},O=async()=>{if(v)try{await b$(v._id),Z.success("刪除折扣碼成功"),p(!1),m(null),A()}catch{Z.error("無法刪除折扣碼")}},S=()=>{w({code:"",name:"",description:"",discountType:"percentage",discountValue:10,minOrderAmount:0,maxDiscount:0,maxUsage:100,isActive:!0,validFrom:"",validTo:""}),b(!1),m(null)},P=()=>{S(),u(!0)},C=E=>{m(E),w({code:E.code,name:E.name,description:E.description,discountType:E.discountType,discountValue:E.discountValue,minOrderAmount:E.minOrderAmount||0,maxDiscount:E.maxDiscount||0,maxUsage:E.maxUsage,isActive:E.isActive,validFrom:E.validFrom,validTo:E.validTo}),b(!0),f(!0)},_=E=>{m(E),p(!0)},T=E=>{navigator.clipboard.writeText(E),Z.success("Đã sao chép mã giảm giá")},D=E=>new Date(E).toLocaleDateString("zh-TW"),$=(E,U)=>Math.round(E/U*100),k=E=>{const U=new Date,R=new Date(E.validFrom),X=new Date(E.validTo);return E.isActive?U<R?a.jsx(Me,{variant:"outline",className:"bg-yellow-100 text-yellow-800",children:"未開始"}):U>X?a.jsx(Me,{variant:"secondary",className:"bg-gray-100 text-gray-800",children:"過期"}):E.currentUsage>=E.maxUsage?a.jsx(Me,{variant:"secondary",className:"bg-orange-100 text-orange-800",children:"已用完"}):a.jsx(Me,{className:"bg-green-100 text-green-800",children:"啟用"}):a.jsx(Me,{variant:"secondary",className:"bg-red-100 text-red-800",children:"暫停"})},M=e.filter(E=>{const U=E.name.toLowerCase().includes(i.toLowerCase())||E.code.toLowerCase().includes(i.toLowerCase())||E.description.toLowerCase().includes(i.toLowerCase()),R=o==="all"||E.discountType===o;return U&&R});return r?a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}):a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"折扣碼"}),a.jsx("p",{className:"text-gray-600",children:"管理折扣碼和優惠"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(q,{variant:"outline",onClick:A,children:[a.jsx(Hn,{className:"h-4 w-4 mr-2"}),"重新整理"]}),a.jsxs(q,{onClick:P,children:[a.jsx(Wr,{className:"h-4 w-4 mr-2"}),"新增折扣碼"]})]})]}),a.jsxs(ue,{className:"mb-6",children:[a.jsx(ve,{children:a.jsxs(ge,{className:"flex items-center",children:[a.jsx(hr,{className:"h-5 w-5 mr-2"}),"篩選"]})}),a.jsx(de,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"search",children:"搜尋"}),a.jsxs("div",{className:"relative",children:[a.jsx(Hr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),a.jsx(ce,{id:"search",placeholder:"名稱, 代碼, 描述...",value:i,onChange:E=>s(E.target.value),className:"pl-10"})]})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"type",children:"折扣類型"}),a.jsxs("select",{id:"type",value:o,onChange:E=>c(E.target.value),className:"w-full p-2 border border-gray-300 rounded-md",children:[a.jsx("option",{value:"all",children:"所有類型"}),a.jsx("option",{value:"percentage",children:"百分比 (%)"}),a.jsx("option",{value:"fixed",children:"固定金額"})]})]}),a.jsx("div",{className:"flex items-end",children:a.jsxs(q,{variant:"outline",className:"w-full",children:[a.jsx(hr,{className:"h-4 w-4 mr-2"}),"篩選"]})})]})})]}),a.jsxs(ue,{children:[a.jsxs(ve,{children:[a.jsx(ge,{children:"折扣碼清單"}),a.jsxs(Qe,{children:["總共 ",M.length," 個折扣碼"]})]}),a.jsxs(de,{children:[a.jsxs(Br,{children:[a.jsx(Vr,{children:a.jsxs(Pt,{children:[a.jsx(Se,{children:"資訊"}),a.jsx(Se,{children:"價值"}),a.jsx(Se,{children:"使用"}),a.jsx(Se,{children:"期限"}),a.jsx(Se,{children:"狀態"}),a.jsx(Se,{children:"操作"})]})}),a.jsx(zr,{children:M.map(E=>a.jsxs(Pt,{children:[a.jsx(Ae,{children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx(pu,{className:"h-5 w-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:E.name}),a.jsx("div",{className:"text-sm text-gray-600 font-mono",children:E.code}),a.jsx("div",{className:"text-sm text-gray-500",children:E.description})]})]})}),a.jsx(Ae,{children:a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsx("div",{className:"font-medium",children:E.discountType==="percentage"?`${E.discountValue}%`:`${E.discountValue} TWD`}),E.minOrderAmount&&E.minOrderAmount>0&&a.jsxs("div",{className:"text-gray-500",children:["最低: ",E.minOrderAmount," TWD"]}),E.maxDiscount&&E.maxDiscount>0&&a.jsxs("div",{className:"text-gray-500",children:["最高: ",E.maxDiscount," TWD"]})]})}),a.jsx(Ae,{children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"text-sm",children:[a.jsxs("div",{children:[E.currentUsage,"/",E.maxUsage]}),a.jsx("div",{className:"text-gray-500",children:"已使用"})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-[#39653f] h-2 rounded-full transition-all",style:{width:`${$(E.currentUsage,E.maxUsage)}%`}})})]})}),a.jsx(Ae,{children:a.jsxs("div",{className:"text-sm text-gray-600",children:[a.jsxs("div",{children:["從: ",D(E.validFrom)]}),a.jsxs("div",{children:["到: ",D(E.validTo)]})]})}),a.jsx(Ae,{children:k(E)}),a.jsx(Ae,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(q,{size:"sm",variant:"outline",onClick:()=>C(E),children:a.jsx(Qr,{className:"h-4 w-4"})}),a.jsx(q,{size:"sm",variant:"outline",onClick:()=>T(E.code),children:a.jsx(ru,{className:"h-4 w-4"})}),a.jsx(q,{size:"sm",variant:"destructive",onClick:()=>_(E),children:a.jsx(Ir,{className:"h-4 w-4"})})]})})]},E._id))})]}),M.length===0&&a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(pu,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"找不到折扣碼"}),a.jsx("p",{className:"text-gray-500",children:"沒有找到符合目前篩選條件的折扣碼。"})]})]})]}),a.jsx(ht,{open:l||d,onOpenChange:E=>{E||(u(!1),f(!1),S())},children:a.jsxs(ot,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[a.jsxs(ct,{children:[a.jsx(ut,{children:g?"編輯折扣碼":"新增折扣碼"}),a.jsx(dt,{children:g?"更新折扣碼資訊":"創建新的折扣碼並提供必要資訊"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"code",children:"折扣碼 *"}),a.jsx(ce,{id:"code",value:y.code,onChange:E=>w(U=>({...U,code:E.target.value.toUpperCase()})),placeholder:"Ví dụ: WELCOME10"})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"name",children:"折扣碼名稱 *"}),a.jsx(ce,{id:"name",value:y.name,onChange:E=>w(U=>({...U,name:E.target.value})),placeholder:"例如: 歡迎折扣"})]})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"description",children:"描述"}),a.jsx(tr,{id:"description",value:y.description,onChange:E=>w(U=>({...U,description:E.target.value})),placeholder:"輸入折扣碼詳細描述...",rows:3})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"discountType",children:"折扣類型"}),a.jsxs("select",{id:"discountType",value:y.discountType,onChange:E=>w(U=>({...U,discountType:E.target.value})),className:"w-full p-2 border border-gray-300 rounded-md",children:[a.jsx("option",{value:"percentage",children:"百分比 (%)"}),a.jsx("option",{value:"fixed",children:"固定金額 (TWD)"})]})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"discountValue",children:"折扣價值 *"}),a.jsx(ce,{id:"discountValue",type:"number",value:y.discountValue,onChange:E=>w(U=>({...U,discountValue:parseInt(E.target.value)})),placeholder:y.discountType==="percentage"?"10":"50"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"minOrderAmount",children:"最低訂單金額 (TWD)"}),a.jsx(ce,{id:"minOrderAmount",type:"number",value:y.minOrderAmount,onChange:E=>w(U=>({...U,minOrderAmount:parseInt(E.target.value)})),placeholder:"0"})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"maxDiscount",children:"最高折扣金額 (TWD)"}),a.jsx(ce,{id:"maxDiscount",type:"number",value:y.maxDiscount,onChange:E=>w(U=>({...U,maxDiscount:parseInt(E.target.value)})),placeholder:"0 (不限制)"})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.jsxs("div",{children:[a.jsx(K,{htmlFor:"maxUsage",children:"使用限制"}),a.jsx(ce,{id:"maxUsage",type:"number",value:y.maxUsage,onChange:E=>w(U=>({...U,maxUsage:parseInt(E.target.value)})),placeholder:"100"})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"validFrom",children:"開始日期"}),a.jsx(ce,{id:"validFrom",type:"date",value:y.validFrom,onChange:E=>w(U=>({...U,validFrom:E.target.value}))})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"validTo",children:"結束日期"}),a.jsx(ce,{id:"validTo",type:"date",value:y.validTo,onChange:E=>w(U=>({...U,validTo:E.target.value}))})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(wt,{id:"isActive",checked:y.isActive,onCheckedChange:E=>w(U=>({...U,isActive:E}))}),a.jsx(K,{htmlFor:"isActive",children:"啟用此折扣碼"})]})]}),a.jsxs(lt,{children:[a.jsx(q,{variant:"outline",onClick:()=>{u(!1),f(!1),S()},children:"取消"}),a.jsx(q,{onClick:g?j:N,children:g?"更新":"創建"})]})]})}),a.jsx(ht,{open:h,onOpenChange:p,children:a.jsxs(ot,{children:[a.jsxs(ct,{children:[a.jsx(ut,{children:"確認刪除"}),a.jsxs(dt,{children:['您確定要刪除折扣碼 "',v==null?void 0:v.name,'" (',v==null?void 0:v.code,")? 此操作無法撤銷。"]})]}),a.jsxs(lt,{children:[a.jsx(q,{variant:"outline",onClick:()=>p(!1),children:"取消"}),a.jsx(q,{variant:"destructive",onClick:O,children:"刪除"})]})]})})]})},tce=()=>{const[e,t]=x.useState([]),[r,n]=x.useState(!0),[i,s]=x.useState(""),[o,c]=x.useState("all"),[l,u]=x.useState(!1),[d,f]=x.useState(!1),[h,p]=x.useState(!1),[v,m]=x.useState(null),[g,b]=x.useState(!1),[y,w]=x.useState({name:"",description:"",icon:"🚐",price:0,category:"other",duration:30,features:[""],isActive:!0});x.useEffect(()=>{A()},[]);const A=async()=>{try{n(!0);const R=await H1();t(R.services)}catch{Z.error("無法載入服務清單")}finally{n(!1)}},N=async()=>{try{await m$(y),Z.success("創建服務成功"),u(!1),S(),A()}catch{Z.error("無法創建服務")}},j=async()=>{if(v)try{await p$(v._id,y),Z.success("更新服務成功"),f(!1),S(),A()}catch{Z.error("無法更新服務")}},O=async()=>{if(v)try{await v$(v._id),Z.success("刪除服務成功"),p(!1),m(null),A()}catch{Z.error("無法刪除服務")}},S=()=>{w({name:"",description:"",icon:"🚐",price:0,category:"other",duration:30,features:[""],isActive:!0}),b(!1),m(null)},P=()=>{S(),u(!0)},C=R=>{m(R),w({name:R.name,description:R.description,icon:R.icon,price:R.price,category:R.category,duration:R.duration||30,features:R.features||[""],isActive:R.isActive}),b(!0),f(!0)},_=R=>{m(R),p(!0)},T=()=>{w({...y,features:[...y.features,""]})},D=R=>{w({...y,features:y.features.filter((X,F)=>F!==R)})},$=(R,X)=>{const F=[...y.features];F[R]=X,w({...y,features:F})},k=R=>({transport:sr,cleaning:nE,security:mu,convenience:ls,other:ls})[R]||ls,M=R=>({transport:"bg-blue-100 text-blue-800",cleaning:"bg-purple-100 text-purple-800",security:"bg-red-100 text-red-800",convenience:"bg-green-100 text-green-800",other:"bg-gray-100 text-gray-800"})[R]||"bg-gray-100 text-gray-800",E=R=>R===0?"免費":R.toLocaleString("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0,maximumFractionDigits:0}),U=e.filter(R=>{const X=R.name.toLowerCase().includes(i.toLowerCase())||R.description.toLowerCase().includes(i.toLowerCase()),F=o==="all"||R.category===o;return X&&F});return r?a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}):a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"附加服務"}),a.jsx("p",{className:"text-gray-600",children:"管理客戶的附加服務"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(q,{variant:"outline",onClick:A,children:[a.jsx(Hn,{className:"h-4 w-4 mr-2"}),"重新整理"]}),a.jsxs(q,{onClick:P,children:[a.jsx(Wr,{className:"h-4 w-4 mr-2"}),"新增服務"]})]})]}),a.jsxs(ue,{className:"mb-6",children:[a.jsx(ve,{children:a.jsxs(ge,{className:"flex items-center",children:[a.jsx(hr,{className:"h-5 w-5 mr-2"}),"篩選"]})}),a.jsx(de,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"search",children:"搜尋"}),a.jsxs("div",{className:"relative",children:[a.jsx(Hr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),a.jsx(ce,{id:"search",placeholder:"名稱、描述...",value:i,onChange:R=>s(R.target.value),className:"pl-10"})]})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"category",children:"類別"}),a.jsxs("select",{id:"category",value:o,onChange:R=>c(R.target.value),className:"w-full p-2 border border-gray-300 rounded-md",children:[a.jsx("option",{value:"all",children:"所有類別"}),a.jsx("option",{value:"transport",children:"運輸"}),a.jsx("option",{value:"cleaning",children:"清潔"}),a.jsx("option",{value:"security",children:"安全"}),a.jsx("option",{value:"convenience",children:"便利"}),a.jsx("option",{value:"other",children:"其他"})]})]}),a.jsx("div",{className:"flex items-end",children:a.jsxs(q,{variant:"outline",className:"w-full",children:[a.jsx(hr,{className:"h-4 w-4 mr-2"}),"篩選"]})})]})})]}),a.jsxs(ue,{children:[a.jsxs(ve,{children:[a.jsx(ge,{children:"服務清單"}),a.jsxs(Qe,{children:["共 ",U.length," 項服務"]})]}),a.jsxs(de,{children:[a.jsxs(Br,{children:[a.jsx(Vr,{children:a.jsxs(Pt,{children:[a.jsx(Se,{children:"資訊"}),a.jsx(Se,{children:"類別"}),a.jsx(Se,{children:"價格"}),a.jsx(Se,{children:"時間"}),a.jsx(Se,{children:"功能"}),a.jsx(Se,{children:"狀態"}),a.jsx(Se,{children:"操作"})]})}),a.jsx(zr,{children:U.map(R=>{const X=k(R.category);return a.jsxs(Pt,{children:[a.jsx(Ae,{children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-2xl",children:R.icon}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:R.name}),a.jsx("div",{className:"text-sm text-gray-600",children:R.description})]})]})}),a.jsx(Ae,{children:a.jsxs(Me,{className:M(R.category),children:[a.jsx(X,{className:"h-3 w-3 mr-1"}),R.category==="transport"&&"運輸",R.category==="cleaning"&&"清潔",R.category==="security"&&"安全",R.category==="convenience"&&"便利",R.category==="other"&&"其他",!["transport","cleaning","security","convenience","other"].includes(R.category)&&R.category]})}),a.jsx(Ae,{children:a.jsx("div",{className:"text-sm font-medium",children:E(R.price)})}),a.jsx(Ae,{children:a.jsx("div",{className:"text-sm",children:R.duration?`${R.duration} 分鐘`:"N/A"})}),a.jsx(Ae,{children:a.jsxs("div",{className:"flex flex-wrap gap-1",children:[(R.features||[]).slice(0,2).map((F,ie)=>a.jsx(Me,{variant:"outline",className:"text-xs",children:F},ie)),(R.features||[]).length>2&&a.jsxs(Me,{variant:"outline",className:"text-xs",children:["+",(R.features||[]).length-2," 更多"]})]})}),a.jsx(Ae,{children:a.jsx(Me,{variant:R.isActive?"default":"secondary",children:R.isActive?a.jsxs(a.Fragment,{children:[a.jsx(mr,{className:"h-3 w-3 mr-1"}),"啟用"]}):a.jsxs(a.Fragment,{children:[a.jsx(qr,{className:"h-3 w-3 mr-1"}),"暫停"]})})}),a.jsx(Ae,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(q,{size:"sm",variant:"outline",onClick:()=>C(R),children:a.jsx(Qr,{className:"h-4 w-4"})}),a.jsx(q,{size:"sm",variant:"destructive",onClick:()=>_(R),children:a.jsx(Ir,{className:"h-4 w-4"})})]})})]},R._id)})})]}),U.length===0&&a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(ls,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"找不到服務"}),a.jsx("p",{className:"text-gray-500",children:"沒有符合當前篩選條件的服務。"})]})]})]}),a.jsx(ht,{open:l||d,onOpenChange:R=>{R||(u(!1),f(!1),S())},children:a.jsxs(ot,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[a.jsxs(ct,{children:[a.jsx(ut,{children:g?"編輯服務":"新增服務"}),a.jsx(dt,{children:g?"更新服務資訊":"創建新的附加服務，包含必要資訊"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"name",children:"服務名稱 *"}),a.jsx(ce,{id:"name",value:y.name,onChange:R=>w(X=>({...X,name:R.target.value})),placeholder:"例如：洗車、機場接送..."})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"icon",children:"圖示"}),a.jsx(ce,{id:"icon",value:y.icon,onChange:R=>w(X=>({...X,icon:R.target.value})),placeholder:"🚐 🚗 ✨ 🧴"})]})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"description",children:"描述"}),a.jsx(tr,{id:"description",value:y.description,onChange:R=>w(X=>({...X,description:R.target.value})),placeholder:"詳細描述服務...",rows:3})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"price",children:"價格 (TWD)"}),a.jsx(ce,{id:"price",type:"number",value:y.price,onChange:R=>w(X=>({...X,price:parseInt(R.target.value)})),placeholder:"0"})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"duration",children:"時間 (分鐘)"}),a.jsx(ce,{id:"duration",type:"number",value:y.duration,onChange:R=>w(X=>({...X,duration:parseInt(R.target.value)})),placeholder:"30"})]})]}),a.jsxs("div",{children:[a.jsx(K,{children:"功能"}),a.jsxs("div",{className:"space-y-2",children:[y.features.map((R,X)=>a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(ce,{value:R,onChange:F=>$(X,F.target.value),placeholder:"輸入功能..."}),a.jsx(q,{variant:"outline",size:"sm",onClick:()=>D(X),children:a.jsx(Ir,{className:"h-4 w-4"})})]},X)),a.jsxs(q,{variant:"outline",size:"sm",onClick:T,children:[a.jsx(Wr,{className:"h-4 w-4 mr-2"}),"新增功能"]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(wt,{id:"isActive",checked:y.isActive,onCheckedChange:R=>w(X=>({...X,isActive:R}))}),a.jsx(K,{htmlFor:"isActive",children:"啟用此服務"})]})]}),a.jsxs(lt,{children:[a.jsx(q,{variant:"outline",onClick:()=>{u(!1),f(!1),S()},children:"取消"}),a.jsx(q,{onClick:g?j:N,children:g?"更新":"創建服務"})]})]})}),a.jsx(ht,{open:h,onOpenChange:p,children:a.jsxs(ot,{children:[a.jsxs(ct,{children:[a.jsx(ut,{children:"確認刪除"}),a.jsxs(dt,{children:['您確定要刪除服務 "',v==null?void 0:v.name,'" 嗎？ 此操作無法撤銷。']})]}),a.jsxs(lt,{children:[a.jsx(q,{variant:"outline",onClick:()=>p(!1),children:"取消"}),a.jsx(q,{variant:"destructive",onClick:O,children:"刪除"})]})]})})]})},rce=()=>{const[e,t]=x.useState([]),[r,n]=x.useState(!0),[i,s]=x.useState("email"),[o,c]=x.useState(""),[l,u]=x.useState(!1),[d,f]=x.useState(!1),[h,p]=x.useState(!1),[v,m]=x.useState(!1),[g,b]=x.useState(!1),[y,w]=x.useState(!1),[A,N]=x.useState(null),[j,O]=x.useState(""),[S,P]=x.useState(!1),[C,_]=x.useState(null),[T,D]=x.useState(!1),[$,k]=x.useState(!1),[M,E]=x.useState({name:"",type:"email",subject:"",content:"",description:"",variables:[],isActive:!0}),[U,R]=x.useState({templateName:"",type:"email",recipient:"",variables:{}}),[X,F]=x.useState({templateName:"",type:"email",recipients:"",variables:{}});x.useEffect(()=>{ie(),V()},[]);const ie=async()=>{try{n(!0);const z=await S$({type:i,search:o});t(z.templates)}catch(z){Z.error("無法載入通知模板清單"),console.error("Load templates error:",z)}finally{n(!1)}},V=async()=>{try{const z=await C$();_(z)}catch(z){console.error("Load stats error:",z)}},H=async()=>{try{await A$(M),Z.success("創建通知模板成功"),u(!1),le(),ie(),V()}catch(z){Z.error("無法創建通知模板"),console.error("Create template error:",z)}},fe=async()=>{if(A)try{await O$(A._id,M),Z.success("更新通知模板成功"),f(!1),le(),ie(),V()}catch(z){Z.error("無法更新通知模板"),console.error("Update template error:",z)}},Le=async()=>{if(A)try{await _$(A._id),Z.success("刪除通知模板成功"),p(!1),N(null),ie(),V()}catch(z){Z.error("無法刪除通知模板"),console.error("Delete template error:",z)}},me=async()=>{try{D(!0);const z=await P$(U);console.log("Test notification result:",z),Z.success("發送測試通知成功"),b(!1),ye()}catch(z){Z.error("無法發送測試通知"),console.error("Test notification error:",z)}finally{D(!1)}},Pe=async()=>{try{k(!0);const z=X.recipients.split(",").map(se=>se.trim()).filter(se=>se),re=await k$({...X,recipients:z});Z.success(`發送批量通知成功: ${re.message}`),w(!1),xe()}catch(z){Z.error("無法發送批量通知"),console.error("Bulk notification error:",z)}finally{k(!1)}},le=()=>{E({name:"",type:"email",subject:"",content:"",description:"",variables:[],isActive:!0}),P(!1),N(null)},ye=()=>{R({templateName:"",type:"email",recipient:"",variables:{}})},xe=()=>{F({templateName:"",type:"email",recipients:"",variables:{}})},te=()=>{le(),E(z=>({...z,type:i})),u(!0)},Ve=z=>{N(z),E({name:z.name,type:z.type,subject:z.subject||"",content:z.content,description:z.description,variables:z.variables||[],isActive:z.isActive}),P(!0),f(!0)},Te=z=>{N(z),p(!0)},et=z=>{N(z),R({templateName:z.name,type:z.type,recipient:"",variables:{}}),b(!0)},rt=z=>{N(z),F({templateName:z.name,type:z.type,recipients:"",variables:{}}),w(!0)},st=z=>{let re=z.content;z.variables.forEach(se=>{const Ce={customerName:"Nguyễn Văn A",bookingId:"BK2024001",bookingDate:"15/01/2024",startTime:"08:00",endTime:"12:00",parkingType:"Trong nhà",totalAmount:"400",location:"Tầng 1, Khu A",reminderTime:"30 phút",amount:"400",paymentMethod:"Thẻ tín dụng",paymentTime:"15/01/2024 07:30",refundAmount:"400",refundTime:"15/01/2024 10:00",discountPercent:"20",promoCode:"SAVE20",expiryDate:"31/01/2024"};re=re.replace(new RegExp(`{{${se}}}`,"g"),Ce[se]||`[${se}]`)}),O(re),N(z),m(!0)},L=z=>({email:ys,sms:_1,push:oE})[z]||tu,G=z=>({email:"bg-blue-100 text-blue-800",sms:"bg-green-100 text-green-800",push:"bg-purple-100 text-purple-800"})[z]||"bg-gray-100 text-gray-800",Y=e.filter(z=>{const re=z.type===i,se=z.name.toLowerCase().includes(o.toLowerCase())||z.description.toLowerCase().includes(o.toLowerCase());return re&&se});return x.useEffect(()=>{ie()},[i,o]),r?a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}):a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"通知模板"}),a.jsx("p",{className:"text-gray-600",children:"管理系統通知模板"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(q,{variant:"outline",onClick:ie,children:[a.jsx(Hn,{className:"h-4 w-4 mr-2"}),"重新整理"]}),a.jsxs(q,{onClick:te,children:[a.jsx(Wr,{className:"h-4 w-4 mr-2"}),"新增模板"]})]})]}),C&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[a.jsx(ue,{children:a.jsx(de,{className:"p-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(b1,{className:"h-5 w-5 text-blue-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"總共模板"}),a.jsx("p",{className:"text-2xl font-bold",children:C.total})]})]})})}),a.jsx(ue,{children:a.jsx(de,{className:"p-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(mr,{className:"h-5 w-5 text-green-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"啟用"}),a.jsx("p",{className:"text-2xl font-bold",children:C.active})]})]})})}),a.jsx(ue,{children:a.jsx(de,{className:"p-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(qr,{className:"h-5 w-5 text-red-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"暫停"}),a.jsx("p",{className:"text-2xl font-bold",children:C.inactive})]})]})})}),a.jsx(ue,{children:a.jsx(de,{className:"p-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(tu,{className:"h-5 w-5 text-purple-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"類型"}),a.jsx("p",{className:"text-2xl font-bold",children:C.stats.length})]})]})})})]}),a.jsxs(ue,{className:"mb-6",children:[a.jsx(ve,{children:a.jsxs(ge,{className:"flex items-center",children:[a.jsx(Hr,{className:"h-5 w-5 mr-2"}),"搜尋"]})}),a.jsx(de,{children:a.jsxs("div",{className:"relative",children:[a.jsx(Hr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),a.jsx(ce,{placeholder:"名稱、描述...",value:o,onChange:z=>c(z.target.value),className:"pl-10"})]})})]}),a.jsxs(vl,{value:i,onValueChange:s,className:"space-y-4",children:[a.jsxs(uo,{className:"grid w-full grid-cols-3",children:[a.jsx(Gt,{value:"email",children:"Email"}),a.jsx(Gt,{value:"sms",children:"SMS"}),a.jsx(Gt,{value:"push",children:"推送通知"})]}),a.jsx(Qt,{value:i,className:"space-y-4",children:a.jsxs(ue,{children:[a.jsxs(ve,{children:[a.jsx(ge,{children:"通知模板清單"}),a.jsxs(Qe,{children:["總共 ",Y.length," 個通知模板 ",i.toUpperCase()]})]}),a.jsxs(de,{children:[a.jsxs(Br,{children:[a.jsx(Vr,{children:a.jsxs(Pt,{children:[a.jsx(Se,{children:"資訊"}),a.jsx(Se,{children:"類型"}),a.jsx(Se,{children:"標題"}),a.jsx(Se,{children:"變數"}),a.jsx(Se,{children:"狀態"}),a.jsx(Se,{children:"操作"})]})}),a.jsx(zr,{children:Y.map(z=>{const re=L(z.type);return a.jsxs(Pt,{children:[a.jsx(Ae,{children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx(re,{className:"h-5 w-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:z.name}),a.jsx("div",{className:"text-sm text-gray-600",children:z.description})]})]})}),a.jsx(Ae,{children:a.jsx(Me,{className:G(z.type),children:z.type.toUpperCase()})}),a.jsx(Ae,{children:a.jsx("div",{className:"text-sm text-gray-600 max-w-xs truncate",children:z.subject||"Không có tiêu đề"})}),a.jsx(Ae,{children:a.jsxs("div",{className:"flex flex-wrap gap-1",children:[(z.variables||[]).slice(0,3).map(se=>a.jsx(Me,{variant:"outline",className:"text-xs",children:`{{${se}}}`},se)),(z.variables||[]).length>3&&a.jsxs(Me,{variant:"outline",className:"text-xs",children:["+",(z.variables||[]).length-3," nữa"]})]})}),a.jsx(Ae,{children:a.jsx(Me,{variant:z.isActive?"default":"secondary",children:z.isActive?a.jsxs(a.Fragment,{children:[a.jsx(mr,{className:"h-3 w-3 mr-1"}),"啟用"]}):a.jsxs(a.Fragment,{children:[a.jsx(qr,{className:"h-3 w-3 mr-1"}),"暫停"]})})}),a.jsx(Ae,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(q,{size:"sm",variant:"outline",onClick:()=>st(z),children:a.jsx(yi,{className:"h-4 w-4"})}),a.jsx(q,{size:"sm",variant:"outline",onClick:()=>et(z),children:a.jsx(lE,{className:"h-4 w-4"})}),a.jsx(q,{size:"sm",variant:"outline",onClick:()=>rt(z),children:a.jsx(aa,{className:"h-4 w-4"})}),a.jsx(q,{size:"sm",variant:"outline",onClick:()=>Ve(z),children:a.jsx(Qr,{className:"h-4 w-4"})}),a.jsx(q,{size:"sm",variant:"destructive",onClick:()=>Te(z),children:a.jsx(Ir,{className:"h-4 w-4"})})]})})]},z._id)})})]}),Y.length===0&&a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(tu,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"沒有通知模板"}),a.jsxs("p",{className:"text-gray-500",children:["沒有通知模板 ",i.toUpperCase(),"."]})]})]})]})})]}),a.jsx(ht,{open:l||d,onOpenChange:z=>{z||(u(!1),f(!1),le())},children:a.jsxs(ot,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[a.jsxs(ct,{children:[a.jsx(ut,{children:S?"編輯通知模板":"新增通知模板"}),a.jsx(dt,{children:S?"更新通知模板內容":"創建新的通知模板並提供必要資訊"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"name",children:"通知模板名稱 *"}),a.jsx(ce,{id:"name",value:M.name,onChange:z=>E(re=>({...re,name:z.target.value})),placeholder:"例如: 確認預約"})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"type",children:"通知類型"}),a.jsxs("select",{id:"type",value:M.type,onChange:z=>E(re=>({...re,type:z.target.value})),className:"w-full p-2 border border-gray-300 rounded-md",children:[a.jsx("option",{value:"email",children:"Email"}),a.jsx("option",{value:"sms",children:"SMS"}),a.jsx("option",{value:"push",children:"推送通知"})]})]})]}),M.type==="email"&&a.jsxs("div",{children:[a.jsx(K,{htmlFor:"subject",children:"電郵標題"}),a.jsx(ce,{id:"subject",value:M.subject,onChange:z=>E(re=>({...re,subject:z.target.value})),placeholder:"輸入電郵標題..."})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"description",children:"描述"}),a.jsx(ce,{id:"description",value:M.description,onChange:z=>E(re=>({...re,description:z.target.value})),placeholder:"輸入通知模板描述..."})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"content",children:"內容 *"}),a.jsx(tr,{id:"content",value:M.content,onChange:z=>E(re=>({...re,content:z.target.value})),rows:15,className:"font-mono text-sm",placeholder:"輸入通知模板內容... 使用 {{variable}} 插入變數."})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(wt,{id:"isActive",checked:M.isActive,onCheckedChange:z=>E(re=>({...re,isActive:z}))}),a.jsx(K,{htmlFor:"isActive",children:"啟用此通知模板"})]})]}),a.jsxs(lt,{children:[a.jsx(q,{variant:"outline",onClick:()=>{u(!1),f(!1),le()},children:"Hủy"}),a.jsxs(q,{onClick:S?fe:H,children:[a.jsx(Ko,{className:"h-4 w-4 mr-2"}),S?"更新":"創建"]})]})]})}),a.jsx(ht,{open:g,onOpenChange:b,children:a.jsxs(ot,{className:"max-w-2xl",children:[a.jsxs(ct,{children:[a.jsx(ut,{children:"測試發送通知"}),a.jsxs(dt,{children:['發送測試通知以測試模板 "',A==null?void 0:A.name,'"']})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"testRecipient",children:"接收者 *"}),a.jsx(ce,{id:"testRecipient",value:U.recipient,onChange:z=>R(re=>({...re,recipient:z.target.value})),placeholder:U.type==="email"?"email@example.com":U.type==="sms"?"+84901234567":"device_token"})]}),a.jsxs("div",{children:[a.jsx(K,{children:"變數 (可選)"}),a.jsx("div",{className:"space-y-2",children:((A==null?void 0:A.variables)||[]).map(z=>a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(K,{className:"w-24 text-sm",children:[z,":"]}),a.jsx(ce,{value:U.variables[z]||"",onChange:re=>R(se=>({...se,variables:{...se.variables,[z]:re.target.value}})),placeholder:`輸入 ${z} 的值`})]},z))})]})]}),a.jsxs(lt,{children:[a.jsx(q,{variant:"outline",onClick:()=>b(!1),children:"取消"}),a.jsxs(q,{onClick:me,disabled:T,children:[a.jsx(sE,{className:"h-4 w-4 mr-2"}),T?"正在發送...":"發送測試"]})]})]})}),a.jsx(ht,{open:y,onOpenChange:w,children:a.jsxs(ot,{className:"max-w-2xl",children:[a.jsxs(ct,{children:[a.jsx(ut,{children:"發送批量通知"}),a.jsxs(dt,{children:['發送通知 "',A==null?void 0:A.name,'" 給多個接收者']})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"bulkRecipients",children:"接收者列表 *"}),a.jsx(tr,{id:"bulkRecipients",value:X.recipients,onChange:z=>F(re=>({...re,recipients:z.target.value})),placeholder:X.type==="email"?"email1@example.com, email2@example.com":X.type==="sms"?"+84901234567, +84987654321":"token1, token2",rows:4}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"每個接收者一行或用逗號分隔"})]}),a.jsxs("div",{children:[a.jsx(K,{children:"變數 (可選)"}),a.jsx("div",{className:"space-y-2",children:((A==null?void 0:A.variables)||[]).map(z=>a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(K,{className:"w-24 text-sm",children:[z,":"]}),a.jsx(ce,{value:X.variables[z]||"",onChange:re=>F(se=>({...se,variables:{...se.variables,[z]:re.target.value}})),placeholder:`輸入 ${z} 的值`})]},z))})]})]}),a.jsxs(lt,{children:[a.jsx(q,{variant:"outline",onClick:()=>w(!1),children:"取消"}),a.jsxs(q,{onClick:Pe,disabled:$,children:[a.jsx(aa,{className:"h-4 w-4 mr-2"}),$?"正在發送...":"發送批量"]})]})]})}),a.jsx(ht,{open:v,onOpenChange:m,children:a.jsxs(ot,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[a.jsxs(ct,{children:[a.jsx(ut,{children:"預覽通知模板"}),a.jsxs(dt,{children:[A==null?void 0:A.name," - ",A==null?void 0:A.type.toUpperCase()]})]}),a.jsxs("div",{className:"space-y-4",children:[(A==null?void 0:A.subject)&&a.jsxs("div",{children:[a.jsx(K,{className:"text-sm font-medium",children:"標題:"}),a.jsx("div",{className:"mt-1 p-3 bg-gray-50 rounded-lg",children:a.jsx("p",{className:"text-sm",children:A.subject})})]}),a.jsxs("div",{children:[a.jsx(K,{className:"text-sm font-medium",children:"內容:"}),a.jsx("div",{className:"mt-1 p-4 bg-gray-50 rounded-lg",children:a.jsx("pre",{className:"text-sm text-gray-700 whitespace-pre-wrap max-h-96 overflow-y-auto",children:j})})]}),a.jsxs("div",{children:[a.jsx(K,{className:"text-sm font-medium",children:"已替換的變數:"}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:((A==null?void 0:A.variables)||[]).map(z=>a.jsx(Me,{variant:"outline",className:"text-xs",children:`{{${z}}}`},z))})]})]}),a.jsx(lt,{children:a.jsx(q,{variant:"outline",onClick:()=>m(!1),children:"關閉"})})]})}),a.jsx(ht,{open:h,onOpenChange:p,children:a.jsxs(ot,{children:[a.jsxs(ct,{children:[a.jsx(ut,{children:"確認刪除"}),a.jsxs(dt,{children:['您確定要刪除通知模板 "',A==null?void 0:A.name,'"? 此操作無法撤銷。']})]}),a.jsxs(lt,{children:[a.jsx(q,{variant:"outline",onClick:()=>p(!1),children:"取消"}),a.jsx(q,{variant:"destructive",onClick:Le,children:"刪除"})]})]})})]})},nce=()=>{const[e,t]=x.useState([]),[r,n]=x.useState([]),[i,s]=x.useState(!0),[o,c]=x.useState(""),[l,u]=x.useState(!1),[d,f]=x.useState(!1),[h,p]=x.useState(!1),[v,m]=x.useState(null),[g,b]=x.useState(!1),[y,w]=x.useState({date:"",reason:"",description:"",affectedParkingTypes:[],isActive:!0});x.useEffect(()=>{A()},[]);const A=async()=>{try{s(!0);const[$,k]=await Promise.all([M$(),Yd()]);t($.maintenanceDays),n(k.parkingTypes)}catch($){console.error("Error loading data:",$),Z.error("無法載入資料")}finally{s(!1)}},N=async()=>{try{await R$(y),Z.success("創建維護日期成功"),u(!1),S(),A()}catch($){console.error("Error creating maintenance day:",$),Z.error("無法創建維護日期")}},j=async()=>{if(v)try{await L$(v._id,y),Z.success("更新維護日期成功"),f(!1),S(),A()}catch($){console.error("Error updating maintenance day:",$),Z.error("無法更新維護日期")}},O=async()=>{if(v)try{await F$(v._id),Z.success("刪除維護日期成功"),p(!1),m(null),A()}catch{Z.error("Không thể xóa ngày bảo trì")}},S=()=>{w({date:"",reason:"",description:"",affectedParkingTypes:[],isActive:!0}),b(!1),m(null)},P=()=>{w({date:"",reason:"",description:"",affectedParkingTypes:[],isActive:!0}),u(!0)},C=$=>{m($),w({date:new Date($.date).toISOString().split("T")[0],reason:$.reason,description:$.description||"",affectedParkingTypes:$.affectedParkingTypes.map(k=>k._id),isActive:$.isActive}),b(!0),f(!0)},_=$=>{m($),p(!0)},T=$=>new Date($).toLocaleDateString("zh-TW",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),D=e.filter($=>$.reason.toLowerCase().includes(o.toLowerCase())||$.description&&$.description.toLowerCase().includes(o.toLowerCase()));return i?a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}):a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"維護日期"}),a.jsx("p",{className:"text-gray-600",children:"管理不接收車輛的維護日期"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(q,{variant:"outline",onClick:A,children:[a.jsx(Hn,{className:"h-4 w-4 mr-2"}),"重新整理"]}),a.jsxs(q,{onClick:P,children:[a.jsx(Wr,{className:"h-4 w-4 mr-2"}),"新增維護日期"]})]})]}),a.jsxs(ue,{className:"mb-6",children:[a.jsx(ve,{children:a.jsxs(ge,{className:"flex items-center",children:[a.jsx(hr,{className:"h-5 w-5 mr-2"}),"篩選"]})}),a.jsx(de,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"search",children:"搜尋"}),a.jsxs("div",{className:"relative",children:[a.jsx(Hr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),a.jsx(ce,{id:"search",placeholder:"原因、描述...",value:o,onChange:$=>c($.target.value),className:"pl-10"})]})]}),a.jsx("div",{className:"flex items-end",children:a.jsxs(q,{variant:"outline",className:"w-full",children:[a.jsx(hr,{className:"h-4 w-4 mr-2"}),"篩選"]})})]})})]}),a.jsxs(ue,{children:[a.jsxs(ve,{children:[a.jsx(ge,{children:"維護日期清單"}),a.jsxs(Qe,{children:["總共 ",D.length," 個維護日期"]})]}),a.jsxs(de,{children:[a.jsxs(Br,{children:[a.jsx(Vr,{children:a.jsxs(Pt,{children:[a.jsx(Se,{children:"日期"}),a.jsx(Se,{children:"原因"}),a.jsx(Se,{children:"受影響的停車場"}),a.jsx(Se,{children:"狀態"}),a.jsx(Se,{children:"操作"})]})}),a.jsx(zr,{children:D.map($=>a.jsxs(Pt,{children:[a.jsx(Ae,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Et,{className:"h-4 w-4 text-gray-500"}),a.jsx("span",{className:"font-medium",children:T($.date)})]})}),a.jsx(Ae,{children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:$.reason}),$.description&&a.jsx("div",{className:"text-sm text-gray-600",children:$.description})]})}),a.jsx(Ae,{children:a.jsx("div",{className:"flex flex-wrap gap-1",children:$.affectedParkingTypes.map((k,M)=>a.jsx(Me,{variant:"outline",className:"text-xs",children:k.name},M))})}),a.jsx(Ae,{children:a.jsx(Me,{variant:$.isActive?"default":"secondary",children:$.isActive?a.jsxs(a.Fragment,{children:[a.jsx(mr,{className:"h-3 w-3 mr-1"}),"啟用"]}):a.jsxs(a.Fragment,{children:[a.jsx(qr,{className:"h-3 w-3 mr-1"}),"暫停"]})})}),a.jsx(Ae,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(q,{size:"sm",variant:"outline",onClick:()=>C($),children:a.jsx(Qr,{className:"h-4 w-4"})}),a.jsx(q,{size:"sm",variant:"destructive",onClick:()=>_($),children:a.jsx(Ir,{className:"h-4 w-4"})})]})})]},$._id))})]}),D.length===0&&a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(xs,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"沒有維護日期"}),a.jsx("p",{className:"text-gray-500",children:"沒有維護日期。"})]})]})]}),a.jsx(ht,{open:l||d,onOpenChange:$=>{$||(u(!1),f(!1),S())},children:a.jsxs(ot,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[a.jsxs(ct,{children:[a.jsx(ut,{children:g?"編輯維護日期":"新增維護日期"}),a.jsx(dt,{children:g?"更新維護日期資訊":"創建新的維護日期"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"date",children:"維護日期 *"}),a.jsx(ce,{id:"date",type:"date",value:y.date,onChange:$=>w(k=>({...k,date:$.target.value}))})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"reason",children:"維護原因 *"}),a.jsx(ce,{id:"reason",value:y.reason,onChange:$=>w(k=>({...k,reason:$.target.value})),placeholder:"例如: 系統維護, 修理..."})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"description",children:"詳細描述"}),a.jsx(tr,{id:"description",value:y.description,onChange:$=>w(k=>({...k,description:$.target.value})),placeholder:"輸入維護詳細描述...",rows:3})]}),a.jsxs("div",{children:[a.jsx(K,{children:"受影響的停車場"}),a.jsx("div",{className:"space-y-2 mt-2",children:r.map($=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",id:`parking-${$._id}`,checked:y.affectedParkingTypes.includes($._id),onChange:k=>{k.target.checked?w(M=>({...M,affectedParkingTypes:[...M.affectedParkingTypes,$._id]})):w(M=>({...M,affectedParkingTypes:M.affectedParkingTypes.filter(E=>E!==$._id)}))}}),a.jsxs(K,{htmlFor:`parking-${$._id}`,className:"text-sm",children:[$.name," (",$.code,")"]})]},$._id))})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(wt,{id:"isActive",checked:y.isActive,onCheckedChange:$=>w(k=>({...k,isActive:$}))}),a.jsx(K,{htmlFor:"isActive",children:"啟用此維護日期"})]})]}),a.jsxs(lt,{children:[a.jsx(q,{variant:"outline",onClick:()=>{u(!1),f(!1),S()},children:"Hủy"}),a.jsx(q,{onClick:g?j:N,children:g?"更新":"創建"})]})]})}),a.jsx(ht,{open:h,onOpenChange:p,children:a.jsxs(ot,{children:[a.jsxs(ct,{children:[a.jsx(ut,{children:"確認刪除"}),a.jsxs(dt,{children:['您確定要刪除維護日期 "',v==null?void 0:v.reason,'"? 此操作無法撤銷。']})]}),a.jsxs(lt,{children:[a.jsx(q,{variant:"outline",onClick:()=>p(!1),children:"取消"}),a.jsx(q,{variant:"destructive",onClick:O,children:"刪除"})]})]})})]})},lu=({id:e,value:t,onChange:r,min:n,max:i,className:s="",placeholder:o,type:c="datetime-local"})=>{const l=h=>{const p=h.target.value;if(c==="datetime-local"){const v=k1(p);r(v)}else{const v=C1(p);r(v)}},u=()=>t?c==="datetime-local"?bs(t):js(t):"",d=()=>{if(n)return c==="datetime-local"?bs(n):js(n)},f=()=>{if(i)return c==="datetime-local"?bs(i):js(i)};return a.jsx(ce,{id:e,type:c,value:u(),onChange:l,min:d(),max:f(),placeholder:o||(c==="datetime-local"?"yyyy/mm/dd hh:mm":"yyyy/mm/dd"),className:s,style:{fontFamily:"monospace"}})},ace=()=>{const[e,t]=x.useState([]),[r,n]=x.useState(null),[i,s]=x.useState([]),[o,c]=x.useState(!0),[l,u]=x.useState(""),[d,f]=x.useState(!1),[h,p]=x.useState(!1),[v,m]=x.useState(!1),[g,b]=x.useState(!1),[y,w]=x.useState(null),[A,N]=x.useState(!1),[j,O]=x.useState("single"),[S,P]=x.useState([]),[C,_]=x.useState([]),[T,D]=x.useState(!1),[$,k]=x.useState(!1),[M,E]=x.useState(!1),[U,R]=x.useState(""),[X,F]=x.useState(!1),[ie,V]=x.useState(!1),[H,fe]=x.useState({startDate:"",endDate:"",price:0,reason:"",isActive:!0}),[Le,me]=x.useState(!1);x.useEffect(()=>{Pe()},[]);const Pe=async()=>{try{c(!0);const B=await Yd(),ae=await Promise.all(B.parkingTypes.map(async Fe=>{try{const $e=await E$(Fe._id);return{...Fe,specialPrices:$e.specialPrices||[]}}catch{return{...Fe,specialPrices:[]}}}));t(ae),ae.length>0&&(n(ae[0]),s(ae[0].specialPrices))}catch(B){console.error("Error loading parking types:",B),Z.error("Không thể tải danh sách bãi đậu xe")}finally{c(!1)}},le=async B=>{const ae=e.find(Fe=>Fe._id===B);n(ae||null),ae&&s(ae.specialPrices)},ye=async()=>{var ae,Fe;if(!r)return;if(!H.startDate||!H.price||!H.reason.trim()){Z.error("Vui lòng điền đầy đủ thông tin bao gồm lý do");return}if(!Le&&!H.endDate){Z.error("Vui lòng chọn ngày kết thúc");return}const B={...H,endDate:Le?H.startDate:H.endDate,forceOverride:ie};try{const $e=await T$(r._id,B);Z.success($e.message||"新增特殊價格成功"),f(!1),Te(),await Pe()}catch($e){console.error("Error creating special price:",$e);const Ut=((Fe=(ae=$e.response)==null?void 0:ae.data)==null?void 0:Fe.message)||"無法新增特殊價格";Z.error(Ut)}},xe=async()=>{var ae,Fe,$e,Ut;if(S.length===0){Z.error("Vui lòng chọn ít nhất một bãi đậu xe");return}if(!H.startDate||!H.price||!H.reason.trim()){Z.error("Vui lòng điền đầy đủ thông tin bao gồm lý do");return}const B={...H,endDate:Le?H.startDate:H.endDate};try{const St=[];for(const Lt of S)try{const Zn=await Px(Lt,[B],X);St.push({parkingTypeId:Lt,success:!0,result:Zn})}catch(Zn){St.push({parkingTypeId:Lt,success:!1,error:((Fe=(ae=Zn.response)==null?void 0:ae.data)==null?void 0:Fe.message)||"Lỗi không xác định"})}const Yt=St.filter(Lt=>Lt.success).length,nr=St.filter(Lt=>!Lt.success).length;Yt>0&&Z.success(`成功創建 ${Yt} 個特殊價格`),nr>0&&Z.error(`${nr} 個特殊價格創建失敗`),p(!1),Te(),P([]),await Pe()}catch(St){console.error("Error creating bulk special prices:",St),Z.error(((Ut=($e=St.response)==null?void 0:$e.data)==null?void 0:Ut.message)||"批量創建特殊價格時發生錯誤")}},te=async()=>{if(!y||!r)return;if(!H.startDate||!H.price||!H.reason.trim()){Z.error("Vui lòng điền đầy đủ thông tin bao gồm lý do");return}const B={...H,endDate:Le?H.startDate:H.endDate};try{await kx(r._id,y._id,B),Z.success("更新特殊價格成功"),m(!1),Te(),await Pe()}catch(ae){console.error("Error updating special price:",ae),Z.error("無法更新特殊價格")}},Ve=async()=>{if(!(!y||!r))try{await Cx(r._id,y._id),Z.success("刪除特殊價格成功"),b(!1),w(null),await Pe()}catch{Z.error("無法刪除特殊價格")}},Te=()=>{fe({startDate:"",endDate:"",price:0,reason:"",isActive:!0}),N(!1),w(null),R(""),me(!1),V(!1)},et=()=>{fe({startDate:"",endDate:"",price:0,reason:"",isActive:!0}),me(!1),V(!1),f(!0)},rt=()=>{fe({startDate:"",endDate:"",price:0,reason:"",isActive:!0}),me(!1),p(!0)},st=B=>{w(B);const ae=new Date(B.startDate).toISOString().split("T")[0],Fe=new Date(B.endDate).toISOString().split("T")[0];fe({startDate:ae,endDate:Fe,price:B.price,reason:B.reason,isActive:B.isActive}),me(ae===Fe),N(!0),m(!0)},L=B=>{w(B),b(!0)},G=B=>B.toLocaleString("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0,maximumFractionDigits:0}),Y=(B,ae,Fe)=>{const $e=new Date;switch(B){case"weekend":const Ut=[];if(!ae||!Fe)return[];const St=new Date(ae),Yt=new Date(Fe);let nr=new Date(St);for(;nr.getDay()!==6;)nr.setDate(nr.getDate()+1);let Lt=new Date(nr);for(;Lt<=Yt;){const Zn=new Date(Lt);Zn.setDate(Lt.getDate()+1),Ut.push({startDate:Lt.toISOString().split("T")[0],endDate:Zn.toISOString().split("T")[0],price:r?Math.round(r.pricePerDay*1.2):0,reason:"週末",isActive:!0}),Lt.setDate(Lt.getDate()+7)}return Ut;case"holiday":return[{startDate:$e.toISOString().split("T")[0],endDate:new Date($e.getTime()+7*24*60*60*1e3).toISOString().split("T")[0],price:r?Math.round(r.pricePerDay*1.5):0,reason:"節日",isActive:!0}];case"peak":return[{startDate:$e.toISOString().split("T")[0],endDate:new Date($e.getTime()+30*24*60*60*1e3).toISOString().split("T")[0],price:r?Math.round(r.pricePerDay*1.3):0,reason:"旺季",isActive:!0}];default:return[H]}},z=B=>{if(R(B),B==="weekend"&&(!H.startDate||!H.endDate)){Z.error("Vui lòng chọn khoảng ngày trước khi sử dụng template cuối tuần");return}const ae=Y(B,H.startDate,H.endDate);ae.length===1?fe(ae[0]):ae.length>1?(_(ae),D(!0)):B==="weekend"&&Z.error("Không tìm thấy cuối tuần nào trong khoảng ngày đã chọn")},re=()=>{if(S.length===0){Z.error("Vui lòng chọn ít nhất một bãi đậu xe");return}if(C.length===0){Z.error("Không có dữ liệu template");return}(async()=>{var ae,Fe;try{const $e=[];for(const Yt of S)try{const nr=await Px(Yt,C,X);$e.push({parkingTypeId:Yt,success:!0,result:nr})}catch(nr){$e.push({parkingTypeId:Yt,success:!1,error:((Fe=(ae=nr.response)==null?void 0:ae.data)==null?void 0:Fe.message)||"Lỗi không xác định"})}const Ut=$e.filter(Yt=>Yt.success).length,St=$e.filter(Yt=>!Yt.success).length;Ut>0&&Z.success(`Áp dụng thành công ${C.length} template cho ${Ut} bãi đậu xe`),St>0&&Z.error(`${St} bãi đậu xe áp dụng thất bại`),D(!1),_([]),P([]),await Pe()}catch($e){console.error("Error applying bulk templates:",$e),Z.error("Không thể áp dụng template hàng loạt")}})()},se=async()=>{if(S.length===0){Z.error("Vui lòng chọn ít nhất một bãi đậu xe");return}try{const B=e.filter(Fe=>S.includes(Fe._id)).flatMap(Fe=>Fe.specialPrices);if(B.length===0){Z.error("Không có giá đặc biệt nào để xóa");return}const ae=[];for(const Fe of e)if(S.includes(Fe._id))for(const $e of Fe.specialPrices)ae.push(Cx(Fe._id,$e._id));await Promise.all(ae),Z.success(`Đã xóa ${B.length} giá đặc biệt từ ${S.length} bãi đậu xe`),k(!1),P([]),await Pe()}catch(B){console.error("Error bulk deleting special prices:",B),Z.error("Không thể xóa giá đặc biệt hàng loạt")}},Ce=async()=>{if(S.length===0){Z.error("Vui lòng chọn ít nhất một bãi đậu xe");return}if(!H.startDate||!H.price||!H.reason.trim()){Z.error("Vui lòng điền đầy đủ thông tin bao gồm lý do");return}try{const B=e.filter(Fe=>S.includes(Fe._id)).flatMap(Fe=>Fe.specialPrices);if(B.length===0){Z.error("Không có giá đặc biệt nào để sửa");return}const ae=[];for(const Fe of e)if(S.includes(Fe._id))for(const $e of Fe.specialPrices)ae.push(kx(Fe._id,$e._id,H));await Promise.all(ae),Z.success(`Đã cập nhật ${B.length} giá đặc biệt từ ${S.length} bãi đậu xe`),E(!1),P([]),Te(),await Pe()}catch(B){console.error("Error bulk updating special prices:",B),Z.error("Không thể cập nhật giá đặc biệt hàng loạt")}},J=()=>{S.length===e.length?P([]):P(e.map(B=>B._id))},Ee=B=>{P(ae=>ae.includes(B)?ae.filter(Fe=>Fe!==B):[...ae,B])},Q=i.filter(B=>B.reason.toLowerCase().includes(l.toLowerCase())),Be=e.flatMap(B=>B.specialPrices.map(ae=>({...ae,parkingTypeName:B.name,parkingTypeCode:B.code}))).filter(B=>B.reason.toLowerCase().includes(l.toLowerCase())||B.parkingTypeName.toLowerCase().includes(l.toLowerCase()));return o?a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}):a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"特殊價格"}),a.jsx("p",{className:"text-gray-600",children:"管理特定日期的特殊價格"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(q,{variant:"outline",onClick:Pe,children:[a.jsx(Hn,{className:"h-4 w-4 mr-2"}),"重新整理"]}),a.jsxs(q,{variant:"outline",onClick:rt,children:[a.jsx(yx,{className:"h-4 w-4 mr-2"}),"批量配置"]}),a.jsxs(q,{onClick:et,disabled:!r,children:[a.jsx(Wr,{className:"h-4 w-4 mr-2"}),"新增特殊價格"]})]})]}),a.jsxs(vl,{value:j,onValueChange:B=>O(B),className:"space-y-6",children:[a.jsxs(uo,{className:"grid w-full grid-cols-2",children:[a.jsxs(Gt,{value:"single",className:"flex items-center space-x-2",children:[a.jsx(lc,{className:"h-4 w-4"}),a.jsx("span",{children:"個別停車場配置"})]}),a.jsxs(Gt,{value:"overview",className:"flex items-center space-x-2",children:[a.jsx(xx,{className:"h-4 w-4"}),a.jsx("span",{children:"全部概覽"})]})]}),a.jsxs(Qt,{value:"single",className:"space-y-6",children:[a.jsxs(ue,{children:[a.jsx(ve,{children:a.jsxs(ge,{className:"flex items-center",children:[a.jsx(la,{className:"h-5 w-5 mr-2"}),"選擇停車場"]})}),a.jsx(de,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"parkingType",children:"停車場"}),a.jsx("select",{id:"parkingType",value:(r==null?void 0:r._id)||"",onChange:B=>le(B.target.value),className:"w-full p-2 border border-gray-300 rounded-md",children:e.map(B=>a.jsxs("option",{value:B._id,children:[B.name," (",B.code,") - ",G(B.pricePerDay),"/天"]},B._id))})]}),a.jsx("div",{className:"flex items-end",children:a.jsxs("div",{className:"text-sm text-gray-600",children:["基本價格: ",r?G(r.pricePerDay):"N/A"]})})]})})]}),a.jsxs(ue,{children:[a.jsx(ve,{children:a.jsxs(ge,{className:"flex items-center",children:[a.jsx(hr,{className:"h-5 w-5 mr-2"}),"篩選"]})}),a.jsx(de,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"search",children:"搜尋"}),a.jsxs("div",{className:"relative",children:[a.jsx(Hr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),a.jsx(ce,{id:"search",placeholder:"原因...",value:l,onChange:B=>u(B.target.value),className:"pl-10"})]})]}),a.jsx("div",{className:"flex items-end",children:a.jsxs(q,{variant:"outline",className:"w-full",children:[a.jsx(hr,{className:"h-4 w-4 mr-2"}),"篩選"]})})]})})]}),a.jsxs(ue,{children:[a.jsxs(ve,{children:[a.jsx(ge,{children:"特殊價格清單"}),a.jsxs(Qe,{children:[r&&`停車場: ${r.name}`," - 共 ",Q.length," 個特殊價格"]})]}),a.jsxs(de,{children:[a.jsxs(Br,{children:[a.jsx(Vr,{children:a.jsxs(Pt,{children:[a.jsx(Se,{children:"日期"}),a.jsx(Se,{children:"價格"}),a.jsx(Se,{children:"原因"}),a.jsx(Se,{children:"狀態"}),a.jsx(Se,{children:"操作"})]})}),a.jsx(zr,{children:Q.map(B=>a.jsxs(Pt,{children:[a.jsx(Ae,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Et,{className:"h-4 w-4 text-gray-500"}),a.jsx("span",{className:"font-medium",children:Do(B.startDate,B.endDate)})]})}),a.jsx(Ae,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(cs,{className:"h-4 w-4 text-green-500"}),a.jsx("span",{className:"font-bold text-green-600",children:G(B.price)})]})}),a.jsx(Ae,{children:a.jsx("div",{className:"font-medium",children:B.reason})}),a.jsx(Ae,{children:a.jsx(Me,{variant:B.isActive?"default":"secondary",children:B.isActive?a.jsxs(a.Fragment,{children:[a.jsx(mr,{className:"h-3 w-3 mr-1"}),"Hoạt động"]}):a.jsxs(a.Fragment,{children:[a.jsx(qr,{className:"h-3 w-3 mr-1"}),"Tạm khóa"]})})}),a.jsx(Ae,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(q,{size:"sm",variant:"outline",onClick:()=>st(B),children:a.jsx(Qr,{className:"h-4 w-4"})}),a.jsx(q,{size:"sm",variant:"destructive",onClick:()=>L(B),children:a.jsx(Ir,{className:"h-4 w-4"})})]})})]},B._id))})]}),Q.length===0&&a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(la,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"沒有特殊價格"}),a.jsx("p",{className:"text-gray-500",children:"此停車場尚未設置任何特殊價格。"})]})]})]})]}),a.jsxs(Qt,{value:"overview",className:"space-y-6",children:[a.jsxs(ue,{children:[a.jsx(ve,{children:a.jsxs(ge,{className:"flex items-center",children:[a.jsx(yx,{className:"h-5 w-5 mr-2"}),"選擇停車場進行批量操作"]})}),a.jsx(de,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx($a,{id:"selectAllOverview",checked:S.length===e.length,onCheckedChange:J}),a.jsx(K,{htmlFor:"selectAllOverview",className:"font-medium",children:"選擇所有停車場"})]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 max-h-40 overflow-y-auto border rounded-md p-3",children:e.map(B=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx($a,{id:`overview-${B._id}`,checked:S.includes(B._id),onCheckedChange:()=>Ee(B._id)}),a.jsxs(K,{htmlFor:`overview-${B._id}`,className:"text-sm",children:[B.name," (",B.code,")"]})]},B._id))}),a.jsxs("div",{className:"text-sm text-gray-600",children:["已選擇: ",S.length,"/",e.length," 個停車場"]})]})})]}),a.jsxs(ue,{children:[a.jsx(ve,{children:a.jsxs(ge,{className:"flex items-center",children:[a.jsx(hr,{className:"h-5 w-5 mr-2"}),"概覽篩選"]})}),a.jsx(de,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"overviewSearch",children:"搜尋"}),a.jsxs("div",{className:"relative",children:[a.jsx(Hr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),a.jsx(ce,{id:"overviewSearch",placeholder:"原因或停車場名稱...",value:l,onChange:B=>u(B.target.value),className:"pl-10"})]})]}),a.jsx("div",{className:"flex items-end",children:a.jsxs("div",{className:"text-sm text-gray-600",children:["總計: ",Be.length," 個特殊價格"]})})]})})]}),a.jsxs(ue,{children:[a.jsxs(ve,{children:[a.jsx(ge,{children:"所有特殊價格概覽"}),a.jsx(Qe,{children:"查看所有停車場的特殊價格"})]}),a.jsxs(de,{children:[a.jsxs(Br,{children:[a.jsx(Vr,{children:a.jsxs(Pt,{children:[a.jsx(Se,{children:"停車場"}),a.jsx(Se,{children:"日期"}),a.jsx(Se,{children:"價格"}),a.jsx(Se,{children:"原因"}),a.jsx(Se,{children:"狀態"})]})}),a.jsx(zr,{children:Be.map(B=>a.jsxs(Pt,{children:[a.jsx(Ae,{children:a.jsxs("div",{className:"font-medium",children:[B.parkingTypeName,a.jsx(Me,{variant:"outline",className:"ml-2",children:B.parkingTypeCode})]})}),a.jsx(Ae,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Et,{className:"h-4 w-4 text-gray-500"}),a.jsx("span",{className:"font-medium",children:Do(B.startDate,B.endDate)})]})}),a.jsx(Ae,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(cs,{className:"h-4 w-4 text-green-500"}),a.jsx("span",{className:"font-bold text-green-600",children:G(B.price)})]})}),a.jsx(Ae,{children:a.jsx("div",{className:"font-medium",children:B.reason})}),a.jsx(Ae,{children:a.jsx(Me,{variant:B.isActive?"default":"secondary",children:B.isActive?a.jsxs(a.Fragment,{children:[a.jsx(mr,{className:"h-3 w-3 mr-1"}),"Hoạt động"]}):a.jsxs(a.Fragment,{children:[a.jsx(qr,{className:"h-3 w-3 mr-1"}),"Tạm khóa"]})})})]},`${B.parkingTypeCode}-${B._id}`))})]}),Be.length===0&&a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(xx,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"沒有特殊價格"}),a.jsx("p",{className:"text-gray-500",children:"尚未為任何停車場設置特殊價格。"})]})]})]})]})]}),a.jsx(ht,{open:d||v,onOpenChange:B=>{B||(f(!1),m(!1),Te())},children:a.jsxs(ot,{className:"max-w-md",children:[a.jsxs(ct,{children:[a.jsx(ut,{children:A?"編輯特殊價格":"新增特殊價格"}),a.jsx(dt,{children:A?"更新特殊價格資訊":"為特定日期創建新的特殊價格"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[a.jsx(wt,{id:"singleDayMode",checked:Le,onCheckedChange:me}),a.jsx(K,{htmlFor:"singleDayMode",className:"font-medium",children:Le?"單日模式":"日期範圍模式"})]}),Le?a.jsxs("div",{children:[a.jsx(K,{htmlFor:"singleDate",children:"選擇日期 *"}),a.jsx(lu,{id:"singleDate",type:"date",value:H.startDate,onChange:B=>fe(ae=>({...ae,startDate:B,endDate:B})),placeholder:"yyyy/mm/dd"})]}):a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"startDate",children:"開始日期 *"}),a.jsx(ce,{id:"startDate",type:"date",value:H.startDate,onChange:B=>fe(ae=>({...ae,startDate:B.target.value}))})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"endDate",children:"結束日期 *"}),a.jsx(ce,{id:"endDate",type:"date",value:H.endDate,onChange:B=>fe(ae=>({...ae,endDate:B.target.value}))})]})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"price",children:"價格 (TWD) *"}),a.jsx(ce,{id:"price",type:"number",value:H.price,onChange:B=>fe(ae=>({...ae,price:parseFloat(B.target.value)})),placeholder:"Nhập giá..."})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"reason",children:"原因 *"}),a.jsx(tr,{id:"reason",value:H.reason,onChange:B=>fe(ae=>({...ae,reason:B.target.value})),placeholder:"Ví dụ: Cuối tuần, Ngày lễ Tết, Sự kiện đặc biệt, Mùa cao điểm, Lễ hội, Ngày nghỉ lễ...",rows:3}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"💡 Nhập lý do cụ thể để khách hàng hiểu rõ tại sao giá thay đổi"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(wt,{id:"isActive",checked:H.isActive,onCheckedChange:B=>fe(ae=>({...ae,isActive:B}))}),a.jsx(K,{htmlFor:"isActive",children:"啟用此特殊價格"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(wt,{id:"singleForceOverride",checked:ie,onCheckedChange:V}),a.jsx(K,{htmlFor:"singleForceOverride",className:"text-orange-600",children:"覆蓋已存在的特殊價格"})]})]}),a.jsxs(lt,{children:[a.jsx(q,{variant:"outline",onClick:()=>{f(!1),m(!1),Te()},children:"取消"}),a.jsx(q,{onClick:A?te:ye,children:A?"更新":"創建特殊價格"})]})]})}),a.jsx(ht,{open:T,onOpenChange:D,children:a.jsxs(ot,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(ct,{children:[a.jsx(ut,{children:"選擇要應用的模板"}),a.jsx(dt,{children:"選擇一個模板應用到已選擇的停車場。"})]}),a.jsx("div",{className:"space-y-4",children:C.map((B,ae)=>a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-md",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Et,{className:"h-4 w-4 text-gray-500"}),a.jsx("span",{children:Do(B.startDate,B.endDate)})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(cs,{className:"h-4 w-4 text-green-500"}),a.jsx("span",{children:G(B.price)})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx(Me,{variant:B.isActive?"default":"secondary",children:B.isActive?"啟用":"暫停"})}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(q,{size:"sm",variant:"outline",onClick:()=>{fe(B),D(!1),_([])},children:a.jsx(Qr,{className:"h-4 w-4"})}),a.jsx(q,{size:"sm",variant:"destructive",onClick:()=>{_(C.filter((Fe,$e)=>$e!==ae))},children:a.jsx(Ir,{className:"h-4 w-4"})})]})]},ae))}),a.jsxs(lt,{children:[a.jsx(q,{variant:"outline",onClick:()=>{D(!1),_([])},children:"Hủy"}),a.jsxs(q,{onClick:re,disabled:C.length===0,children:[a.jsx(ru,{className:"h-4 w-4 mr-2"}),"應用到 ",S.length," 個停車場"]})]})]})}),a.jsx(ht,{open:h,onOpenChange:p,children:a.jsxs(ot,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(ct,{children:[a.jsx(ut,{children:"批量特殊價格配置"}),a.jsx(dt,{children:"同時為多個停車場應用特殊價格"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx(K,{className:"text-sm font-medium",children:"快速模板"}),U==="weekend"&&H.startDate&&H.endDate&&a.jsxs("div",{className:"text-xs text-blue-600 bg-blue-50 p-2 rounded-md mt-1",children:['💡 "週末"模板將為 ',H.startDate," 到 ",H.endDate," 期間的所有週末創建特殊價格"]}),a.jsxs("div",{className:"grid grid-cols-3 gap-2 mt-2",children:[a.jsxs(q,{variant:U==="weekend"?"default":"outline",size:"sm",onClick:()=>z("weekend"),className:"flex items-center space-x-2",children:[a.jsx(dE,{className:"h-3 w-3"}),a.jsx("span",{children:"週末"})]}),a.jsxs(q,{variant:U==="holiday"?"default":"outline",size:"sm",onClick:()=>z("holiday"),className:"flex items-center space-x-2",children:[a.jsx(Et,{className:"h-3 w-3"}),a.jsx("span",{children:"節日"})]}),a.jsxs(q,{variant:U==="peak"?"default":"outline",size:"sm",onClick:()=>z("peak"),className:"flex items-center space-x-2",children:[a.jsx(la,{className:"h-3 w-3"}),a.jsx("span",{children:"旺季"})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(wt,{id:"bulkSingleDayMode",checked:Le,onCheckedChange:me}),a.jsx(K,{htmlFor:"bulkSingleDayMode",className:"font-medium",children:Le?"單日模式":"日期範圍模式"})]}),a.jsxs("div",{className:"space-y-4",children:[Le?a.jsxs("div",{children:[a.jsx(K,{htmlFor:"bulkSingleDate",children:"選擇日期 *"}),a.jsx(ce,{id:"bulkSingleDate",type:"date",value:H.startDate,onChange:B=>fe(ae=>({...ae,startDate:B.target.value,endDate:B.target.value}))})]}):a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"bulkStartDate",children:"開始日期 *"}),a.jsx(ce,{id:"bulkStartDate",type:"date",value:H.startDate,onChange:B=>{if(fe(ae=>({...ae,startDate:B.target.value})),U==="weekend"&&H.endDate){const ae=Y("weekend",B.target.value,H.endDate);_(ae)}}})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"bulkEndDate",children:"結束日期 *"}),a.jsx(ce,{id:"bulkEndDate",type:"date",value:H.endDate,onChange:B=>{if(fe(ae=>({...ae,endDate:B.target.value})),U==="weekend"&&H.startDate){const ae=Y("weekend",H.startDate,B.target.value);_(ae)}}})]})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"bulkPrice",children:"價格 (TWD) *"}),a.jsx(ce,{id:"bulkPrice",type:"number",value:H.price,onChange:B=>fe(ae=>({...ae,price:parseFloat(B.target.value)})),placeholder:"輸入價格..."})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"bulkReason",children:"原因 *"}),a.jsx(tr,{id:"bulkReason",value:H.reason,onChange:B=>fe(ae=>({...ae,reason:B.target.value})),placeholder:"Ví dụ: Cuối tuần, Ngày lễ Tết, Sự kiện đặc biệt, Mùa cao điểm, Lễ hội, Ngày nghỉ lễ...",rows:3}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"💡 Nhập lý do cụ thể để khách hàng hiểu rõ tại sao giá thay đổi"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(wt,{id:"bulkIsActive",checked:H.isActive,onCheckedChange:B=>fe(ae=>({...ae,isActive:B}))}),a.jsx(K,{htmlFor:"bulkIsActive",children:"啟用此特殊價格"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(wt,{id:"forceOverride",checked:X,onCheckedChange:F}),a.jsx(K,{htmlFor:"forceOverride",className:"text-orange-600",children:"覆蓋已存在的特殊價格"})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[a.jsx($a,{id:"selectAll",checked:S.length===e.length,onCheckedChange:J}),a.jsx(K,{htmlFor:"selectAll",className:"font-medium",children:"選擇所有停車場"})]}),a.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-40 overflow-y-auto border rounded-md p-3",children:e.map(B=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx($a,{id:B._id,checked:S.includes(B._id),onCheckedChange:()=>Ee(B._id)}),a.jsxs(K,{htmlFor:B._id,className:"text-sm",children:[B.name," (",B.code,")"]})]},B._id))}),a.jsxs("div",{className:"text-sm text-gray-600 mt-2",children:["已選擇: ",S.length,"/",e.length," 個停車場"]})]})]}),a.jsxs(lt,{children:[a.jsx(q,{variant:"outline",onClick:()=>{p(!1),Te(),P([])},children:"Hủy"}),a.jsxs(q,{onClick:xe,disabled:S.length===0,children:[a.jsx(ru,{className:"h-4 w-4 mr-2"}),"應用到 ",S.length," 個停車場"]})]})]})}),a.jsx(ht,{open:T,onOpenChange:D,children:a.jsxs(ot,{className:"max-w-2xl",children:[a.jsxs(ct,{children:[a.jsx(ut,{children:"Chọn template để áp dụng"}),a.jsx(dt,{children:"Chọn một template để áp dụng cho các bãi đậu xe đã chọn."})]}),a.jsx("div",{className:"space-y-4",children:C.map((B,ae)=>a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-md",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Et,{className:"h-4 w-4 text-gray-500"}),a.jsx("span",{children:Do(B.startDate,B.endDate)})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(cs,{className:"h-4 w-4 text-green-500"}),a.jsx("span",{children:G(B.price)})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx(Me,{variant:B.isActive?"default":"secondary",children:B.isActive?"Hoạt động":"Tạm khóa"})}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(q,{size:"sm",variant:"outline",onClick:()=>{fe(B),D(!1),_([])},children:a.jsx(Qr,{className:"h-4 w-4"})}),a.jsx(q,{size:"sm",variant:"destructive",onClick:()=>{_(C.filter((Fe,$e)=>$e!==ae))},children:a.jsx(Ir,{className:"h-4 w-4"})})]})]},ae))}),a.jsxs(lt,{children:[a.jsx(q,{variant:"outline",onClick:()=>{D(!1),_([])},children:"Hủy"}),a.jsxs(q,{onClick:re,disabled:C.length===0,children:[a.jsx(ru,{className:"h-4 w-4 mr-2"}),"Áp dụng cho ",S.length," bãi đậu xe"]})]})]})}),a.jsx(ht,{open:$,onOpenChange:k,children:a.jsxs(ot,{children:[a.jsxs(ct,{children:[a.jsx(ut,{children:"確認刪除"}),a.jsx(dt,{children:"您確定要刪除所選停車場的所有特殊價格嗎？ 此操作無法撤銷。"})]}),a.jsxs(lt,{children:[a.jsx(q,{variant:"outline",onClick:()=>k(!1),children:"Hủy"}),a.jsx(q,{variant:"destructive",onClick:se,children:"刪除"})]})]})}),a.jsx(ht,{open:M,onOpenChange:E,children:a.jsxs(ot,{className:"max-w-2xl",children:[a.jsxs(ct,{children:[a.jsx(ut,{children:"批量更新特殊價格"}),a.jsx(dt,{children:"更新所選停車場所有特殊價格的資訊。"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[a.jsx(wt,{id:"bulkEditSingleDayMode",checked:Le,onCheckedChange:me}),a.jsx(K,{htmlFor:"bulkEditSingleDayMode",className:"font-medium",children:Le?"單日模式":"日期範圍模式"})]}),Le?a.jsxs("div",{children:[a.jsx(K,{htmlFor:"bulkEditSingleDate",children:"選擇日期 *"}),a.jsx(ce,{id:"bulkEditSingleDate",type:"date",value:H.startDate,onChange:B=>fe(ae=>({...ae,startDate:B.target.value,endDate:B.target.value}))})]}):a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"bulkStartDateEdit",children:"開始日期 *"}),a.jsx(ce,{id:"bulkStartDateEdit",type:"date",value:H.startDate,onChange:B=>fe(ae=>({...ae,startDate:B.target.value}))})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"bulkEndDateEdit",children:"結束日期 *"}),a.jsx(ce,{id:"bulkEndDateEdit",type:"date",value:H.endDate,onChange:B=>fe(ae=>({...ae,endDate:B.target.value}))})]})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"bulkPriceEdit",children:"價格 (TWD) *"}),a.jsx(ce,{id:"bulkPriceEdit",type:"number",value:H.price,onChange:B=>fe(ae=>({...ae,price:parseFloat(B.target.value)})),placeholder:"Nhập giá..."})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"bulkReasonEdit",children:"原因 *"}),a.jsx(tr,{id:"bulkReasonEdit",value:H.reason,onChange:B=>fe(ae=>({...ae,reason:B.target.value})),placeholder:"Ví dụ: Cuối tuần, Ngày lễ Tết, Sự kiện đặc biệt, Mùa cao điểm, Lễ hội, Ngày nghỉ lễ...",rows:3}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"💡 Nhập lý do cụ thể để khách hàng hiểu rõ tại sao giá thay đổi"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(wt,{id:"bulkIsActiveEdit",checked:H.isActive,onCheckedChange:B=>fe(ae=>({...ae,isActive:B}))}),a.jsx(K,{htmlFor:"bulkIsActiveEdit",children:"啟用此特殊價格"})]})]}),a.jsxs(lt,{children:[a.jsx(q,{variant:"outline",onClick:()=>{E(!1),Te()},children:"Hủy"}),a.jsx(q,{onClick:Ce,children:"Cập nhật"})]})]})}),a.jsx(ht,{open:$,onOpenChange:k,children:a.jsxs(ot,{children:[a.jsxs(ct,{children:[a.jsx(ut,{children:"確認批量刪除"}),a.jsx(dt,{children:"Bạn có chắc chắn muốn xóa tất cả giá đặc biệt cho các bãi đậu xe đã chọn? Hành động này không thể hoàn tác."})]}),a.jsxs(lt,{children:[a.jsx(q,{variant:"outline",onClick:()=>k(!1),children:"Hủy"}),a.jsx(q,{variant:"destructive",onClick:se,children:"Xóa"})]})]})}),a.jsx(ht,{open:M,onOpenChange:E,children:a.jsxs(ot,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(ct,{children:[a.jsx(ut,{children:"Cập nhật giá đặc biệt hàng loạt"}),a.jsx(dt,{children:"Cập nhật thông tin giá đặc biệt cho tất cả các giá đặc biệt của các bãi đậu xe đã chọn."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"bulkStartDateEdit",children:"Từ ngày *"}),a.jsx(ce,{id:"bulkStartDateEdit",type:"date",value:H.startDate,onChange:B=>fe(ae=>({...ae,startDate:B.target.value}))})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"bulkEndDateEdit",children:"Đến ngày *"}),a.jsx(ce,{id:"bulkEndDateEdit",type:"date",value:H.endDate,onChange:B=>fe(ae=>({...ae,endDate:B.target.value}))})]})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"bulkPriceEdit",children:"Giá (TWD) *"}),a.jsx(ce,{id:"bulkPriceEdit",type:"number",value:H.price,onChange:B=>fe(ae=>({...ae,price:parseFloat(B.target.value)})),placeholder:"Nhập giá..."})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"bulkReasonEdit",children:"Lý do *"}),a.jsx(tr,{id:"bulkReasonEdit",value:H.reason,onChange:B=>fe(ae=>({...ae,reason:B.target.value})),placeholder:"Ví dụ: Cuối tuần, Ngày lễ Tết, Sự kiện đặc biệt, Mùa cao điểm, Lễ hội, Ngày nghỉ lễ...",rows:3}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"💡 Nhập lý do cụ thể để khách hàng hiểu rõ tại sao giá thay đổi"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(wt,{id:"bulkIsActiveEdit",checked:H.isActive,onCheckedChange:B=>fe(ae=>({...ae,isActive:B}))}),a.jsx(K,{htmlFor:"bulkIsActiveEdit",children:"啟用此特殊價格"})]})]}),a.jsxs(lt,{children:[a.jsx(q,{variant:"outline",onClick:()=>{E(!1),Te()},children:"Hủy"}),a.jsx(q,{onClick:Ce,children:"更新"})]})]})}),a.jsx(ht,{open:g,onOpenChange:b,children:a.jsxs(ot,{children:[a.jsxs(ct,{children:[a.jsx(ut,{children:"確認刪除"}),a.jsxs(dt,{children:['您確定要刪除時間範圍 "',y?Do(y.startDate,y.endDate):"",'" 的特殊價格嗎？ 此操作無法撤銷。']})]}),a.jsxs(lt,{children:[a.jsx(q,{variant:"outline",onClick:()=>b(!1),children:"取消"}),a.jsx(q,{variant:"destructive",onClick:Ve,children:"刪除"})]})]})})]})},ice=({parkingTypeId:e,checkInTime:t,checkOutTime:r,onDateSelect:n,onDateRangeSelect:i})=>{const[s,o]=x.useState([]),[c,l]=x.useState(!1),[u,d]=x.useState(new Date),[f,h]=x.useState(null),[p,v]=x.useState(null),[m,g]=x.useState(null);x.useEffect(()=>{e&&b()},[e]),x.useEffect(()=>{e&&m&&y()},[e,u,m]);const b=async()=>{try{const D=await we.get("/parking");if(D.data.parkingTypes){const $=D.data.parkingTypes.find(k=>k._id===e);$&&g($)}}catch(D){console.error("Error loading parking type info:",D)}},y=async()=>{l(!0);try{const D=new Date(u.getFullYear(),u.getMonth(),1),$=new Date(u.getFullYear(),u.getMonth()+1,0),k=[],M=new Date(D);for(;M<=$;){const E=M.toISOString().split("T")[0],U=t&&r&&M>=new Date(t)&&M<=new Date(r),R=(m==null?void 0:m.totalSpaces)||10,X=(m==null?void 0:m.pricePerDay)||1200;k.push({date:E,isAvailable:!0,isSelected:!!U,isInRange:!!U,conflictingBookings:0,availableSlots:R,price:X}),M.setDate(M.getDate()+1)}o(k),await w(k)}catch(D){console.error("Error loading availability data:",D)}finally{l(!1)}},w=async D=>{try{if(!m){console.log("Parking type info not loaded yet");return}const $=u.getFullYear(),k=u.getMonth()+1,M=await we.get(`/parking/${e}/month-availability`,{params:{year:$,month:k}});if(M.data.availabilityData){const E=M.data.availabilityData,U=D.map(R=>{const X=E.find(F=>F.date===R.date);if(X)return{...R,isAvailable:X.isAvailable,availableSlots:X.availableSpaces,price:X.price,isSpecialPrice:!1,specialPriceReason:""};{const ie=new Date(R.date)<new Date;return{...R,isAvailable:!ie,availableSlots:ie?0:(m==null?void 0:m.totalSpaces)||0,price:(m==null?void 0:m.pricePerDay)||0,isSpecialPrice:!1,specialPriceReason:""}}});o(U)}}catch($){console.error("Error checking daily availability:",$);const k=new Date,M=D.map(E=>{const R=new Date(E.date)<k,X=R?0:Math.max(1,Math.floor(Math.random()*((m==null?void 0:m.totalSpaces)||10)));return{...E,isAvailable:!R,availableSlots:X,price:(m==null?void 0:m.pricePerDay)||1200,isSpecialPrice:!1,specialPriceReason:""}});o(M)}},A=D=>{if(!D.isAvailable||D.availableSlots===0)return"unavailable";if(t&&r){const $=new Date(D.date),k=new Date(t),M=new Date(r);if($>=k&&$<=M)return"in-booking-range"}if(f&&p){const $=new Date(D.date),k=new Date(f),M=new Date(p);if($>=k&&$<=M)return"in-range"}return f&&D.date===f?"selected":"available"},N=D=>{const $="w-full h-20 rounded-lg flex flex-col items-center justify-center text-sm font-medium cursor-pointer transition-all duration-200 border-2";switch(A(D)){case"selected":return`${$} bg-[#39653f] text-white border-[#39653f] shadow-lg hover:bg-[#2d4f33] hover:shadow-xl`;case"in-range":return`${$} bg-blue-200 text-blue-800 border-blue-300 hover:bg-blue-300 hover:shadow-md`;case"in-booking-range":return`${$} bg-green-100 text-green-800 border-green-300 hover:bg-green-200 hover:shadow-md`;case"unavailable":return`${$} bg-red-50 text-red-600 border-red-200 cursor-not-allowed opacity-60`;default:return`${$} bg-white text-gray-700 border-gray-200 hover:bg-gray-50 hover:border-blue-300 hover:shadow-md`}},j=D=>D.toLocaleString("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0,maximumFractionDigits:0}),O=D=>{const $=D.getFullYear(),k=String(D.getMonth()+1).padStart(2,"0");return`${$}/${k}`},S=()=>{d(D=>new Date(D.getFullYear(),D.getMonth()-1,1))},P=()=>{d(D=>new Date(D.getFullYear(),D.getMonth()+1,1))},C=()=>["日","一","二","三","四","五","六"],_=()=>{const D=u.getFullYear(),$=u.getMonth(),k=new Date(D,$,1),M=new Date(D,$+1,0),E=new Date(k),U=new Date(M),R=[],X=new Date(E),F=k.getDay();for(let ie=0;ie<F;ie++)R.push(null);for(;X<=U;){const ie=X.toISOString().split("T")[0],V=s.find(H=>H.date===ie);R.push({date:ie,day:X.getDate(),...V}),X.setDate(X.getDate()+1)}return R},T=D=>{if(!D)return;const $=s.find(k=>k.date===D);!$||!$.isAvailable||$.availableSlots===0||(n==null||n(D),!f||f&&p?(h(D),v(null)):D>=f?(v(D),i==null||i(f,D)):(h(D),v(f),i==null||i(D,f)))};return c?a.jsxs(ue,{className:"border-0 shadow-lg",children:[a.jsx(ve,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-b",children:a.jsxs(ge,{className:"flex items-center space-x-3 text-blue-900",children:[a.jsx(Et,{className:"h-6 w-6 text-blue-600"}),a.jsx("span",{children:"可用性日曆"})]})}),a.jsx(de,{className:"p-6",children:a.jsx("div",{className:"flex items-center justify-center h-32",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})})]}):a.jsxs(ue,{className:"border-0 shadow-lg",children:[a.jsx(ve,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-b",children:a.jsxs(ge,{className:"flex items-center space-x-3 text-blue-900",children:[a.jsx(Et,{className:"h-6 w-6 text-blue-600"}),a.jsx("span",{children:"Lịch khả dụng"})]})}),a.jsxs(de,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs(q,{variant:"outline",size:"sm",onClick:S,className:"flex items-center space-x-2 hover:bg-blue-50 hover:border-blue-300",children:[a.jsx("span",{className:"text-blue-600",children:"←"}),a.jsx("span",{className:"text-blue-600",children:"上個月"})]}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 bg-blue-50 px-4 py-2 rounded-lg",children:O(u)}),a.jsxs(q,{variant:"outline",size:"sm",onClick:P,className:"flex items-center space-x-2 hover:bg-blue-50 hover:border-blue-300",children:[a.jsx("span",{className:"text-blue-600",children:"下個月"}),a.jsx("span",{className:"text-blue-600",children:"→"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"grid grid-cols-7 gap-2",children:C().map((D,$)=>a.jsx("div",{className:"text-center text-sm font-medium text-gray-600 py-2 bg-gray-50 rounded-lg",children:D},$))}),a.jsx("div",{className:"grid grid-cols-7 gap-2",children:_().map((D,$)=>{if(!D)return a.jsx("div",{className:"w-full h-20"},$);const k=s.find(U=>U.date===D.date),M=A(k||{...D,isAvailable:!0}),E=N(k||{...D,isAvailable:!0});return a.jsxs("div",{className:`${E} cursor-pointer transition-all duration-200 hover:scale-105 hover:shadow-md ${k!=null&&k.isAvailable&&((k==null?void 0:k.availableSlots)||0)>0?"hover:bg-blue-50 hover:border-blue-300":"cursor-not-allowed opacity-60"}`,onClick:()=>T(D.date),title:`${D.date} - ${M}`,children:[a.jsx("div",{className:"text-lg font-bold mb-1 text-gray-900",children:D.day}),a.jsx("div",{className:"text-center",children:k!=null&&k.isAvailable&&((k==null?void 0:k.availableSlots)||0)>0?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-center space-x-1 mb-1",children:[a.jsx(sr,{className:"h-3 w-3 text-green-600"}),a.jsxs("span",{className:"text-xs font-medium text-green-700",children:[k.availableSlots," 位"]})]}),a.jsx("div",{className:`text-xs font-bold ${k.isSpecialPrice?"text-orange-600":"text-green-600"}`,children:j(k.price||0)}),k.isSpecialPrice&&a.jsx("div",{className:"text-xs text-orange-500 font-medium truncate",children:k.specialPriceReason})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex items-center justify-center mb-1",children:a.jsx(qr,{className:"h-4 w-4 text-red-500"})}),a.jsx("div",{className:"text-xs font-medium text-red-600",children:"已滿"})]})})]},$)})})]}),a.jsxs("div",{className:"mt-6 pt-4 border-t",children:[a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 bg-white border-2 border-gray-200 rounded"}),a.jsx("span",{className:"text-gray-600",children:"可用"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 bg-green-100 border-2 border-green-300 rounded"}),a.jsx("span",{className:"text-gray-600",children:"已預約"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 bg-red-50 border-2 border-red-200 rounded opacity-60"}),a.jsx("span",{className:"text-gray-600",children:"已滿"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 bg-[#39653f] border-2 border-blue-600 rounded"}),a.jsx("span",{className:"text-gray-600",children:"已選擇"})]})]}),a.jsxs("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx("span",{className:"text-blue-600",children:"💡"}),a.jsx("span",{className:"text-sm font-medium text-blue-800",children:"使用說明"})]}),a.jsxs("div",{className:"text-xs text-blue-700 space-y-1",children:[a.jsx("p",{children:"• 點擊日期可選擇進入時間"}),a.jsx("p",{children:"• 再次點擊其他日期可選擇回國時間"}),a.jsx("p",{children:"• 綠色數字表示可用車位數量"}),a.jsx("p",{children:"• 橙色價格表示特殊價格"})]})]})]})]})]})},sce=({checkInTime:e,checkOutTime:t,conflictingDays:r,totalDays:n,availableDays:i})=>{if(r.length===0)return null;const o=r.length===n?"full":r.length>n/2?"major":"minor",c=()=>{switch(o){case"full":return"所選時間範圍內的所有日期都已被預約。請選擇其他時間範圍。";case"major":return"所選時間範圍內的大部分日期已被預約。只剩下少數空閒日期。";case"minor":return"所選時間範圍內的部分日期已被預約。";default:return"預約時間有衝突。"}},l=()=>{switch(o){case"full":return"border-red-200 bg-red-50 text-red-800";case"major":return"border-orange-200 bg-orange-50 text-orange-800";case"minor":return"border-yellow-200 bg-yellow-50 text-yellow-800";default:return"border-gray-200 bg-gray-50 text-gray-800"}};return a.jsxs(ue,{className:`border-2 ${l()}`,children:[a.jsx(ve,{className:"pb-3",children:a.jsxs(ge,{className:"flex items-center space-x-2 text-lg",children:[a.jsx(xs,{className:"h-5 w-5"}),a.jsx("span",{children:"時間衝突通知"})]})}),a.jsxs(de,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Et,{className:"h-4 w-4"}),a.jsx("span",{className:"font-medium",children:"摘要:"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs(Me,{variant:"outline",className:"bg-green-100 text-green-800",children:[i," 天空閒"]}),a.jsxs(Me,{variant:"outline",className:"bg-red-100 text-red-800",children:[r.length," 天已預約"]})]})]}),a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx(hu,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),a.jsx("p",{className:"text-sm",children:c()})]}),a.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[a.jsx(Ur,{className:"h-4 w-4"}),a.jsxs("span",{children:["時間範圍: ",Or(e)," - ",Or(t)]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-2",children:"已被預約的日期:"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:r.map((u,d)=>a.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[a.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),a.jsx("span",{children:Or(u)})]},d))})]}),a.jsxs("div",{className:"bg-white/50 p-3 rounded-lg",children:[a.jsx("h4",{className:"font-medium mb-2",children:"建議:"}),a.jsxs("ul",{className:"text-sm space-y-1",children:[o==="full"&&a.jsx("li",{children:"• 選擇完全不同的時間範圍"}),o==="major"&&a.jsxs(a.Fragment,{children:[a.jsx("li",{children:"• 選擇較短的時間範圍"}),a.jsx("li",{children:"• 選擇其他時間範圍"})]}),o==="minor"&&a.jsxs(a.Fragment,{children:[a.jsx("li",{children:"• 可以預約剩餘的空閒日期"}),a.jsx("li",{children:"• 或選擇其他時間範圍"})]}),a.jsx("li",{children:"• 聯繫我們以獲得支援"})]})]})]})]})},oce=()=>{const[e,t]=x.useState([]),[r,n]=x.useState([]),[i,s]=x.useState(!0),[o,c]=x.useState(!1),[l,u]=x.useState(null),[d,f]=x.useState([]);console.log(d);const[h,p]=x.useState(null),[v,m]=x.useState(null),[g,b]=x.useState([]),[y,w]=x.useState([]),[A,N]=x.useState(!1),[j,O]=x.useState(null),[S,P]=x.useState({parkingTypeId:"",checkInTime:"",checkOutTime:"",driverName:"",phone:"",email:"",licensePlate:"",passengerCount:1,luggageCount:0,selectedAddonServices:[],discountCode:"",estimatedArrivalTime:"",flightNumber:"",notes:"",paymentStatus:"pending",paymentMethod:"cash",status:"confirmed"});x.useEffect(()=>{C()},[]),x.useEffect(()=>{S.parkingTypeId&&S.checkInTime&&S.checkOutTime?(_(),D()):(f([]),p(null),b([]),w([]))},[S.parkingTypeId,S.checkInTime,S.checkOutTime]),x.useEffect(()=>{const V=setTimeout(()=>{S.email&&k(S.email)},1e3);return()=>clearTimeout(V)},[S.email]),x.useEffect(()=>{S.parkingTypeId&&S.checkInTime&&S.checkOutTime&&T()},[S.selectedAddonServices,S.discountCode,A]);const C=async()=>{try{s(!0);const[V,H]=await Promise.all([Yd(),H1()]);t(V.parkingTypes),n(H.services)}catch(V){console.error("Error loading data:",V),Z.error("無法載入資料")}finally{s(!1)}},_=async()=>{try{const H=(await we.post("/bookings/check-availability",{parkingTypeId:S.parkingTypeId,checkInTime:S.checkInTime,checkOutTime:S.checkOutTime})).data;if(H.success)f(H.availableSlots),p(H.pricing),b([]),await T();else{f([]),p(null);const fe=await $();b(fe),Z.error(H.message||"停車場在此時段已無空位")}}catch(V){console.error("Error checking availability:",V),Z.error("檢查可用性時發生錯誤")}},T=async()=>{if(!(!S.parkingTypeId||!S.checkInTime||!S.checkOutTime))try{const V=await ZE({parkingTypeId:S.parkingTypeId,checkInTime:S.checkInTime,checkOutTime:S.checkOutTime,addonServices:S.selectedAddonServices,discountCode:S.discountCode,isVIP:A,userEmail:S.email});p(V.pricing)}catch(V){console.error("Error calculating pricing:",V)}},D=async()=>{if(!(!S.parkingTypeId||!S.checkInTime||!S.checkOutTime))try{const V=await q1(S.parkingTypeId,S.checkInTime,S.checkOutTime);w(V.maintenanceDays),V.hasMaintenance&&Z.error("此停車場在選擇的時間內正在維護")}catch(V){console.error("Error checking maintenance:",V)}},$=async()=>{if(!S.checkInTime||!S.checkOutTime)return[];const V=[],H=new Date(S.checkInTime),fe=new Date(S.checkOutTime),Le=new Date(H);for(;Le<=fe;){const me=Le.toISOString().split("T")[0];try{(await we.post("/bookings/check-availability",{parkingTypeId:S.parkingTypeId,checkInTime:`${me}T00:00:00.000Z`,checkOutTime:`${me}T23:59:59.999Z`})).data.success||V.push(me)}catch(Pe){console.error("Error checking day availability:",Pe),V.push(me)}Le.setDate(Le.getDate()+1)}return V},k=async V=>{if(!(!V||!V.includes("@")))try{const H=JSON.parse(localStorage.getItem("user")||"{}");if(H.email===V&&H.isVIP){O(H),N(!0),Z.success(`🎉 歡迎VIP會員！您享有 ${H.vipDiscount||0}% 折扣！`);return}const fe=await c1(V);fe.success&&fe.user&&fe.user.isVIP?(O(fe.user),N(!0),Z.success(`🎉 歡迎VIP會員！您享有 ${fe.user.vipDiscount||0}% 折扣！`)):(O(null),N(!1))}catch(H){console.error("Error checking VIP status:",H),O(null),N(!1)}},M=async()=>{var V,H,fe,Le;if(!((V=S.discountCode)!=null&&V.trim())){Z.error("請輸入折扣碼");return}if(!S.parkingTypeId||!S.checkInTime||!S.checkOutTime){Z.error("請先選擇停車場和時間再應用折扣碼");return}try{const me=JSON.parse(localStorage.getItem("user")||"{}"),le=(await we.post("/bookings/apply-discount",{discountCode:S.discountCode,parkingTypeId:S.parkingTypeId,checkInTime:S.checkInTime,checkOutTime:S.checkOutTime,addonServices:S.selectedAddonServices,isVIP:A,email:S.email||me.email})).data;le.success?(m(le.discountInfo),Z.success("折扣碼應用成功！")):(Z.error(le.message||"折扣碼無效"),m(null))}catch(me){if(console.error("Error applying discount:",me),((H=me.response)==null?void 0:H.status)===401)Z.error("請登入以使用折扣碼");else{const Pe=((Le=(fe=me.response)==null?void 0:fe.data)==null?void 0:Le.message)||me.message||"無法應用折扣碼";Z.error(Pe)}m(null)}},E=async()=>{try{const V={...S,addonServices:S.selectedAddonServices},H=await j$(V);u(H.booking),c(!0),U(),Z.success("手動預約創建成功")}catch(V){console.error("Error creating manual booking:",V),Z.error("無法創建手動預約")}},U=()=>{P({parkingTypeId:"",checkInTime:"",checkOutTime:"",driverName:"",phone:"",email:"",licensePlate:"",passengerCount:1,luggageCount:0,selectedAddonServices:[],discountCode:"",estimatedArrivalTime:"",flightNumber:"",notes:"",paymentStatus:"pending",paymentMethod:"cash",status:"confirmed"}),p(null),m(null),f([]),b([]),w([])},R=V=>{P(H=>({...H,selectedAddonServices:H.selectedAddonServices.includes(V)?H.selectedAddonServices.filter(fe=>fe!==V):[...H.selectedAddonServices,V]}))},X=V=>V==null?"0 TWD":V.toLocaleString("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0,maximumFractionDigits:0}),F=e.find(V=>V._id===S.parkingTypeId),ie=r.filter(V=>S.selectedAddonServices.includes(V._id));return i?a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}):a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsx("div",{className:"flex justify-between items-center mb-8",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"手動預約"}),a.jsx("p",{className:"text-gray-600",children:"為客戶創建預約"})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs(ue,{children:[a.jsxs(ve,{children:[a.jsxs(ge,{className:"flex items-center",children:[a.jsx(Wr,{className:"h-5 w-5 mr-2"}),"預約資訊"]}),a.jsx(Qe,{children:"輸入新預約的詳細資訊"})]}),a.jsxs(de,{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"parkingType",children:"停車場 *"}),a.jsxs(Cn,{value:S.parkingTypeId,onValueChange:V=>P(H=>({...H,parkingTypeId:V})),children:[a.jsx(fn,{children:a.jsx(Tn,{placeholder:"選擇停車場"})}),a.jsx(hn,{children:e.map(V=>a.jsxs(nt,{value:V._id,children:[V.name," (",V.code,") - ",X(V.pricePerDay||0),"/天"]},V._id))})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"checkInTime",children:"進入時間 *"}),a.jsx(lu,{id:"checkInTime",type:"datetime-local",value:S.checkInTime,onChange:V=>P(H=>({...H,checkInTime:V})),placeholder:"yyyy/mm/dd hh:mm"})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"checkOutTime",children:"回國時間 *"}),a.jsx(lu,{id:"checkOutTime",type:"datetime-local",value:S.checkOutTime,onChange:V=>P(H=>({...H,checkOutTime:V})),placeholder:"yyyy/mm/dd hh:mm"})]})]}),S.parkingTypeId&&S.checkInTime&&S.checkOutTime&&a.jsx(ice,{parkingTypeId:S.parkingTypeId,checkInTime:S.checkInTime,checkOutTime:S.checkOutTime}),g.length>0&&a.jsx(sce,{checkInTime:S.checkInTime,checkOutTime:S.checkOutTime,conflictingDays:g,totalDays:Math.ceil((new Date(S.checkOutTime).getTime()-new Date(S.checkInTime).getTime())/(1e3*60*60*24)),availableDays:Math.ceil((new Date(S.checkOutTime).getTime()-new Date(S.checkInTime).getTime())/(1e3*60*60*24))-g.length}),y.length>0&&a.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx(gs,{className:"h-5 w-5 text-red-600"}),a.jsx("span",{className:"font-medium text-red-800",children:"⚠️ 停車場正在維護"})]}),a.jsxs("div",{className:"text-sm text-red-700",children:[a.jsx("p",{children:"所選停車場在此時段正在維護："}),a.jsx("ul",{className:"mt-2 space-y-1",children:y.map((V,H)=>a.jsxs("li",{className:"flex items-center space-x-2",children:[a.jsx("span",{children:"•"}),a.jsxs("span",{children:[Or(V.date),": ",V.reason]})]},H))}),a.jsx("p",{className:"mt-2 font-medium",children:"請選擇其他時間或停車場。"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[a.jsx(wr,{className:"h-4 w-4 mr-2"}),"客戶資訊"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"driverName",children:"您的姓名 *"}),a.jsx(ce,{id:"driverName",value:S.driverName,onChange:V=>P(H=>({...H,driverName:V.target.value})),placeholder:"輸入您的姓名"})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"phone",children:"電話號碼 *"}),a.jsx(ce,{id:"phone",value:S.phone,onChange:V=>P(H=>({...H,phone:V.target.value})),placeholder:"輸入電話號碼"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"email",children:"Email *"}),a.jsxs("div",{className:"relative",children:[a.jsx(ce,{id:"email",type:"email",value:S.email,onChange:V=>P(H=>({...H,email:V.target.value})),placeholder:"輸入電子郵件",className:A?"border-yellow-400 bg-yellow-50":""}),A&&j&&a.jsx("div",{className:"absolute -top-2 -right-2",children:a.jsxs(Me,{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white border-0 text-xs",children:["👑 VIP ",j.vipDiscount,"%"]})})]}),A&&j&&a.jsxs("div",{className:"text-xs text-yellow-600 bg-yellow-50 p-2 rounded",children:["✨ 歡迎VIP會員！您享有 ",j.vipDiscount,"% 自動折扣。"]})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"licensePlate",children:"車牌號碼 *"}),a.jsx(ce,{id:"licensePlate",value:S.licensePlate,onChange:V=>P(H=>({...H,licensePlate:V.target.value.toUpperCase()})),placeholder:"輸入車牌號碼"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"passengerCount",children:"乘客數量"}),a.jsx(ce,{id:"passengerCount",type:"number",min:"1",value:S.passengerCount,onChange:V=>P(H=>({...H,passengerCount:parseInt(V.target.value)}))})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"luggageCount",children:"行李數量（免費1個，第2個以上現場收100元/行李））"}),a.jsx(ce,{id:"luggageCount",type:"number",min:"0",value:S.luggageCount,onChange:V=>P(H=>({...H,luggageCount:parseInt(V.target.value)}))})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[a.jsx(Ur,{className:"h-4 w-4 mr-2"}),"附加資訊"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"estimatedArrivalTime",children:"預計到達時間"}),a.jsx(lu,{id:"estimatedArrivalTime",type:"datetime-local",value:S.estimatedArrivalTime,onChange:V=>P(H=>({...H,estimatedArrivalTime:V})),placeholder:"yyyy/mm/dd hh:mm"})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"flightNumber",children:"航班號碼"}),a.jsx(ce,{id:"flightNumber",value:S.flightNumber,onChange:V=>P(H=>({...H,flightNumber:V.target.value})),placeholder:"輸入航班號碼"})]})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"notes",children:"備註"}),a.jsx(tr,{id:"notes",value:S.notes,onChange:V=>P(H=>({...H,notes:V.target.value})),placeholder:"附加備註...",rows:3})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[a.jsx(N1,{className:"h-4 w-4 mr-2"}),"付款資訊"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"paymentStatus",children:"付款狀態"}),a.jsxs(Cn,{value:S.paymentStatus,onValueChange:V=>P(H=>({...H,paymentStatus:V})),children:[a.jsx(fn,{children:a.jsx(Tn,{})}),a.jsxs(hn,{children:[a.jsx(nt,{value:"pending",children:"等待付款"}),a.jsx(nt,{value:"paid",children:"已付款"}),a.jsx(nt,{value:"refunded",children:"已退款"})]})]})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"paymentMethod",children:"付款方式"}),a.jsxs(Cn,{value:S.paymentMethod,onValueChange:V=>P(H=>({...H,paymentMethod:V})),children:[a.jsx(fn,{children:a.jsx(Tn,{})}),a.jsxs(hn,{children:[a.jsx(nt,{value:"cash",children:"現金"}),a.jsx(nt,{value:"credit_card",children:"信用卡"}),a.jsx(nt,{value:"online",children:"線上付款"})]})]})]})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"status",children:"預約狀態"}),a.jsxs(Cn,{value:S.status,onValueChange:V=>P(H=>({...H,status:V})),children:[a.jsx(fn,{children:a.jsx(Tn,{})}),a.jsxs(hn,{children:[a.jsx(nt,{value:"pending",children:"等待確認"}),a.jsx(nt,{value:"confirmed",children:"預約成功"}),a.jsx(nt,{value:"checked-in",children:"已進入停車場"}),a.jsx(nt,{value:"checked-out",children:"已離開停車場"})]})]})]})]}),a.jsx(q,{onClick:E,className:"w-full",children:"創建手動預約"})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs(ue,{children:[a.jsxs(ve,{children:[a.jsxs(ge,{className:"flex items-center",children:[a.jsx(sr,{className:"h-5 w-5 mr-2"}),"附加服務"]}),a.jsx(Qe,{children:"為客戶選擇附加服務"})]}),a.jsxs(de,{className:"space-y-4",children:[r.map(V=>a.jsxs("div",{className:"flex items-center space-x-3 p-3 border rounded-lg",children:[a.jsx($a,{id:`service-${V._id}`,checked:S.selectedAddonServices.includes(V._id),onCheckedChange:()=>R(V._id)}),a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-2xl",children:V.icon}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:V.name}),a.jsx("div",{className:"text-sm text-gray-600",children:V.description})]})]})}),a.jsx("div",{className:"text-right",children:a.jsx("div",{className:"font-bold text-green-600",children:X(V.price||0)})})]},V._id)),ie.length>0&&a.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[a.jsx("h4",{className:"font-semibold mb-2",children:"已選擇的服務："}),a.jsxs("div",{className:"space-y-2",children:[ie.map(V=>a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{children:V.name}),a.jsx("span",{className:"font-medium",children:X(V.price||0)})]},V._id)),a.jsx("div",{className:"border-t pt-2",children:a.jsxs("div",{className:"flex justify-between items-center font-bold",children:[a.jsx("span",{children:"服務總計："}),a.jsx("span",{children:X(ie.reduce((V,H)=>V+(H.price||0),0))})]})})]})]})]})]}),a.jsxs(ue,{children:[a.jsxs(ve,{children:[a.jsxs(ge,{className:"flex items-center",children:[a.jsx(pu,{className:"h-5 w-5 mr-2"}),"折扣碼"]}),a.jsx(Qe,{children:"如有折扣碼請輸入"})]}),a.jsxs(de,{className:"space-y-4",children:[a.jsxs("div",{className:"flex space-x-3",children:[a.jsx(ce,{placeholder:"輸入折扣碼",value:S.discountCode,onChange:V=>P(H=>({...H,discountCode:V.target.value})),className:"flex-1"}),a.jsx(q,{onClick:M,className:"bg-[#39653f] hover:bg-[#2d4f33]",children:"應用"})]}),v&&a.jsxs("div",{className:"p-4 bg-gradient-to-r from-green-50 to-blue-50 border border-green-200 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[a.jsx(mr,{className:"h-5 w-5 text-green-600"}),a.jsx("span",{className:"font-medium text-green-800",children:"優惠已應用！"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"bg-white p-3 rounded-lg border border-green-200",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx("span",{className:"text-lg",children:"🎫"}),a.jsx("span",{className:"font-semibold text-green-700",children:"優惠券折扣"})]}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"優惠券代碼："}),a.jsx("span",{className:"font-semibold text-green-600",children:v.code})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"折扣類型："}),a.jsx("span",{className:"font-semibold",children:v.discountType==="percentage"?`${v.discountValue}%`:"固定金額"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"折扣金額："}),a.jsxs("span",{className:"font-semibold text-green-600",children:["-",X(v.discountAmount)]})]})]})]}),v.vipDiscount>0&&a.jsxs("div",{className:"bg-white p-3 rounded-lg border border-blue-200",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx("span",{className:"text-lg",children:"👑"}),a.jsx("span",{className:"font-semibold text-blue-700",children:"VIP會員折扣"})]}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"狀態："}),a.jsx("span",{className:"font-semibold text-blue-600",children:"VIP會員"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"折扣比例："}),a.jsxs("span",{className:"font-semibold",children:[Math.round(v.vipDiscount/(v.originalAmount-v.discountAmount)*100),"%"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"折扣金額："}),a.jsxs("span",{className:"font-semibold text-blue-600",children:["-",X(v.vipDiscount)]})]})]})]}),a.jsx("div",{className:"bg-gradient-to-r from-green-100 to-blue-100 p-3 rounded-lg border-2 border-green-300",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-semibold",children:"原始總額："}),a.jsx("span",{className:"font-semibold",children:X(v.originalAmount)})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-semibold text-green-700",children:"總折扣："}),a.jsxs("span",{className:"font-bold text-green-700 text-lg",children:["-",X(v.totalDiscount||v.discountAmount)]})]}),a.jsx("div",{className:"border-t pt-2",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-bold text-lg",children:"總付款："}),a.jsx("span",{className:"font-bold text-green-800 text-xl",children:X(v.finalAmount)})]})})]})})]})]})]})]}),h&&a.jsxs(ue,{children:[a.jsx(ve,{children:a.jsxs(ge,{className:"flex items-center",children:[a.jsx(fv,{className:"h-5 w-5 mr-2"}),"價格摘要"]})}),a.jsx(de,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"bg-gray-50 p-3 rounded-lg",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-semibold text-gray-900",children:"基本價格"}),a.jsxs("div",{className:"text-sm text-gray-600",children:[F==null?void 0:F.name," • ",(h==null?void 0:h.durationDays)||0," 天"]})]}),a.jsx("span",{className:"font-semibold text-gray-900",children:X(h==null?void 0:h.basePrice)})]})}),(h==null?void 0:h.dailyPrices)&&h.dailyPrices.length>0&&a.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[a.jsx("div",{className:"text-sm font-semibold text-blue-700 mb-2",children:"📅 每日價格詳情："}),a.jsx("div",{className:"space-y-2",children:h.dailyPrices.map((V,H)=>a.jsxs("div",{className:"flex justify-between items-center text-sm bg-white p-2 rounded",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-gray-600",children:Or(V.date)}),V.isSpecialPrice&&a.jsxs(Me,{variant:"outline",className:"text-xs bg-orange-100 text-orange-700 border-orange-200",children:["💰 ",V.specialPriceReason]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[V.isSpecialPrice&&a.jsx("span",{className:"text-xs text-gray-500 line-through",children:X(V.originalPrice)}),a.jsx("span",{className:`font-semibold ${V.isSpecialPrice?"text-orange-600":"text-blue-600"}`,children:X(V.price)})]})]},H))})]}),S.selectedAddonServices.length>0&&a.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[a.jsx("div",{className:"text-sm font-semibold text-blue-700 mb-2",children:"🚀 附加服務："}),a.jsx("div",{className:"space-y-2",children:S.selectedAddonServices.map(V=>{const H=r.find(fe=>fe._id===V);return H?a.jsxs("div",{className:"flex justify-between items-center text-sm bg-white p-2 rounded",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-lg",children:H.icon}),a.jsx("span",{children:H.name})]}),a.jsx("span",{className:"font-semibold text-blue-600",children:X(H.price||0)})]},V):null})})]}),A&&j&&a.jsxs("div",{className:"flex justify-between items-center py-2 bg-blue-50 rounded-lg px-3",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-blue-600",children:"👑 VIP折扣："}),a.jsxs("span",{className:"text-xs text-blue-500 bg-blue-100 px-2 py-1 rounded",children:[j.vipDiscount,"% 折扣"]})]}),v?a.jsxs("span",{className:"font-semibold text-blue-600",children:["-",X(v.vipDiscount||0)]}):a.jsxs("span",{className:"text-sm text-blue-600",children:["~",X(Math.round(((h==null?void 0:h.totalAmount)||0)*(j.vipDiscount/100)))]})]}),v&&v.discountAmount>0&&a.jsxs("div",{className:"flex justify-between items-center py-2 bg-green-50 rounded-lg px-3",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-green-600",children:"🎫 優惠券："}),a.jsxs("span",{className:"text-xs text-green-500 bg-green-100 px-2 py-1 rounded",children:[v.code," (",v.discountType==="percentage"?`${v.discountValue}%`:"固定",")"]})]}),a.jsxs("span",{className:"font-semibold text-green-600",children:["-",X(v.discountAmount)]})]}),a.jsx(di,{}),a.jsx("div",{className:"bg-gradient-to-r from-emerald-100 to-teal-100 p-4 rounded-lg border-2 border-emerald-300",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-semibold text-gray-700",children:"原始總額："}),a.jsx("span",{className:"font-semibold text-gray-900",children:X((h==null?void 0:h.totalAmount)||0)})]}),v&&(v.discountAmount>0||v.vipDiscount>0)||A&&j?a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-semibold text-green-700",children:"總折扣："}),a.jsxs("span",{className:"font-bold text-green-700 text-lg",children:["-",X(v?v.totalDiscount||v.discountAmount||0:Math.round(((h==null?void 0:h.totalAmount)||0)*((j==null?void 0:j.vipDiscount)/100)))]})]}):null,a.jsx("div",{className:"border-t pt-2",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-bold text-lg text-gray-900",children:"總付款："}),a.jsx("span",{className:"text-2xl font-bold text-emerald-600",children:X(v?v.finalAmount:A&&j?Math.round(((h==null?void 0:h.totalAmount)||0)*(1-j.vipDiscount/100)):(h==null?void 0:h.finalAmount)||(h==null?void 0:h.totalAmount)||0)})]})})]})})]})})]})]})]}),a.jsx(ht,{open:o,onOpenChange:c,children:a.jsxs(ot,{children:[a.jsxs(ct,{children:[a.jsxs(ut,{className:"flex items-center",children:[a.jsx(mr,{className:"h-5 w-5 mr-2 text-green-500"}),"預約成功"]}),a.jsx(dt,{children:"手動預約已成功創建"})]}),l&&a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[a.jsxs("div",{className:"font-semibold",children:["預約編號: ",l.bookingNumber]}),a.jsxs("div",{className:"text-sm text-gray-600",children:["客戶: ",l.driverName]}),a.jsxs("div",{className:"text-sm text-gray-600",children:["車牌號碼: ",l.licensePlate]}),a.jsxs("div",{className:"text-sm text-gray-600",children:["總金額: ",X(l.finalAmount)]})]})}),a.jsx(lt,{children:a.jsx(q,{onClick:()=>c(!1),children:"關閉"})})]})})]})},cce=()=>{const[e,t]=x.useState(null),[r,n]=x.useState(!0),[i,s]=x.useState("checkins");x.useEffect(()=>{o()},[]);const o=async()=>{try{n(!0);const f=await $$();t(f)}catch(f){console.error("Error loading today data:",f),Z.error("無法載入今日資料")}finally{n(!1)}},c=f=>f.toLocaleString("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0,maximumFractionDigits:0}),l=f=>{switch(f){case"confirmed":return a.jsxs(Me,{variant:"default",children:[a.jsx(mr,{className:"h-3 w-3 mr-1"}),"預約成功"]});case"checked-in":return a.jsxs(Me,{variant:"secondary",children:[a.jsx(sr,{className:"h-3 w-3 mr-1"}),"已進入停車場"]});case"checked-out":return a.jsxs(Me,{variant:"outline",children:[a.jsx(Ur,{className:"h-3 w-3 mr-1"}),"已離開停車場"]});case"cancelled":return a.jsxs(Me,{variant:"destructive",children:[a.jsx(qr,{className:"h-3 w-3 mr-1"}),"已取消"]});default:return a.jsx(Me,{variant:"secondary",children:f})}},u=()=>{window.print()};if(r)return a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})});if(!e)return a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsxs("div",{className:"text-center",children:[a.jsx(xs,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"沒有資料"}),a.jsx("p",{className:"text-gray-500",children:"無法載入今日資料。"})]})});const d=()=>{switch(i){case"checkins":return e.checkInsToday;case"checkouts":return e.checkOutsToday;case"overdue":return e.overdueBookings;default:return e.checkInsToday}};return a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"今日概覽"}),a.jsx("p",{className:"text-gray-600",children:"今日停車場進出車輛統計"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(q,{variant:"outline",onClick:o,children:[a.jsx(Hn,{className:"h-4 w-4 mr-2"}),"重新整理"]}),a.jsxs(q,{variant:"outline",onClick:u,children:[a.jsx(P1,{className:"h-4 w-4 mr-2"}),"列印報告"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[a.jsxs(ue,{children:[a.jsxs(ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ge,{className:"text-sm font-medium",children:"今日進入車輛"}),a.jsx(la,{className:"h-4 w-4 text-green-600"})]}),a.jsxs(de,{children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.summary.totalCheckIns}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"今天將進入停車場的車輛"})]})]}),a.jsxs(ue,{children:[a.jsxs(ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ge,{className:"text-sm font-medium",children:"今天離開車輛"}),a.jsx(vu,{className:"h-4 w-4 text-blue-600"})]}),a.jsxs(de,{children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.summary.totalCheckOuts}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"今天將離開停車場的車輛"})]})]}),a.jsxs(ue,{children:[a.jsxs(ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ge,{className:"text-sm font-medium",children:"逾期車輛"}),a.jsx(xs,{className:"h-4 w-4 text-red-600"})]}),a.jsxs(de,{children:[a.jsx("div",{className:"text-2xl font-bold text-red-600",children:e.summary.totalOverdue}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"已超過預約時間的車輛"})]})]})]}),a.jsxs(ue,{children:[a.jsxs(ve,{children:[a.jsx(ge,{children:"今日詳情"}),a.jsx(Qe,{children:"查看進出停車場車輛的詳細資訊"})]}),a.jsxs(de,{children:[a.jsxs("div",{className:"flex space-x-2 mb-6",children:[a.jsxs(q,{variant:i==="checkins"?"default":"outline",onClick:()=>s("checkins"),children:[a.jsx(la,{className:"h-4 w-4 mr-2"}),"進入車輛 (",e.summary.totalCheckIns,")"]}),a.jsxs(q,{variant:i==="checkouts"?"default":"outline",onClick:()=>s("checkouts"),children:[a.jsx(vu,{className:"h-4 w-4 mr-2"}),"離開車輛 (",e.summary.totalCheckOuts,")"]}),a.jsxs(q,{variant:i==="overdue"?"default":"outline",onClick:()=>s("overdue"),children:[a.jsx(xs,{className:"h-4 w-4 mr-2"}),"逾期 (",e.summary.totalOverdue,")"]})]}),a.jsxs(Br,{children:[a.jsx(Vr,{children:a.jsxs(Pt,{children:[a.jsx(Se,{children:"預約編號"}),a.jsx(Se,{children:"客戶"}),a.jsx(Se,{children:"車牌號碼"}),a.jsx(Se,{children:"停車場"}),a.jsx(Se,{children:"時間"}),a.jsx(Se,{children:"狀態"}),a.jsx(Se,{children:"金額"})]})}),a.jsx(zr,{children:d().map(f=>a.jsxs(Pt,{children:[a.jsx(Ae,{children:a.jsx("div",{className:"font-medium",children:f.bookingNumber})}),a.jsx(Ae,{children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:f.driverName}),a.jsx("div",{className:"text-sm text-gray-600",children:f.phone})]})}),a.jsx(Ae,{children:a.jsx("div",{className:"font-medium",children:f.licensePlate})}),a.jsx(Ae,{children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:f.parkingType.name}),a.jsx("div",{className:"text-sm text-gray-600",children:f.parkingType.code})]})}),a.jsx(Ae,{children:a.jsxs("div",{children:[a.jsxs("div",{className:"text-sm",children:[a.jsx("span",{className:"font-medium",children:"進入:"})," ",ir(f.checkInTime)]}),a.jsxs("div",{className:"text-sm text-gray-600",children:[a.jsx("span",{className:"font-medium",children:"離開:"})," ",ir(f.checkOutTime)]})]})}),a.jsx(Ae,{children:l(f.status)}),a.jsx(Ae,{children:a.jsx("div",{className:"font-bold text-green-600",children:c(f.finalAmount)})})]},f._id))})]}),d().length===0&&a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(Et,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsxs("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:[i==="checkins"&&"今天沒有車輛進入",i==="checkouts"&&"今天沒有車輛離開",i==="overdue"&&"沒有逾期車輛"]}),a.jsxs("p",{className:"text-gray-500",children:[i==="checkins"&&"今天還沒有車輛預約進入。",i==="checkouts"&&"今天還沒有車輛預約離開。",i==="overdue"&&"所有車輛都按時。"]})]})]})]}),a.jsx("style",{children:`
        @media print {
          .no-print {
            display: none !important;
          }
          .print-break {
            page-break-before: always;
          }
        }
      `})]})},Ew=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Dashboard"}),a.jsx("p",{className:"text-muted-foreground",children:"Tổng quan hệ thống bãi đậu xe - Staff Panel"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsxs(ue,{children:[a.jsxs(ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ge,{className:"text-sm font-medium",children:"Đặt chỗ hôm nay"}),a.jsx(Et,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(de,{children:[a.jsx("div",{className:"text-2xl font-bold",children:"0"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"+0 đặt thành công"})]})]}),a.jsxs(ue,{children:[a.jsxs(ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ge,{className:"text-sm font-medium",children:"Doanh thu hôm nay"}),a.jsx(cs,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(de,{children:[a.jsx("div",{className:"text-2xl font-bold",children:"0,00 NT$"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Trung bình 0,00 NT$/đặt chỗ"})]})]}),a.jsxs(ue,{children:[a.jsxs(ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ge,{className:"text-sm font-medium",children:"Chỗ trống còn lại"}),a.jsx(sr,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(de,{children:[a.jsx("div",{className:"text-2xl font-bold",children:"0"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Tổng 0 chỗ đậu xe"})]})]}),a.jsxs(ue,{children:[a.jsxs(ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ge,{className:"text-sm font-medium",children:"Xe đang đỗ"}),a.jsx(wr,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(de,{children:[a.jsx("div",{className:"text-2xl font-bold",children:"0"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"0 xe sắp rời bãi hôm nay"})]})]})]}),a.jsx("div",{className:"border-b",children:a.jsxs("nav",{className:"-mb-px flex space-x-8",children:[a.jsx("button",{className:"border-b-2 border-primary text-primary px-1 py-2 text-sm font-medium",children:"Tổng quan"}),a.jsx("button",{className:"border-b-2 border-transparent text-muted-foreground hover:text-foreground px-1 py-2 text-sm font-medium",children:"Bãi đậu xe"}),a.jsx("button",{className:"border-b-2 border-transparent text-muted-foreground hover:text-foreground px-1 py-2 text-sm font-medium",children:"Đặt chỗ"}),a.jsx("button",{className:"border-b-2 border-transparent text-muted-foreground hover:text-foreground px-1 py-2 text-sm font-medium",children:"Trạng thái hiện tại"})]})}),a.jsx("div",{className:"bg-white rounded-lg border p-6",children:a.jsxs("div",{className:"text-center text-muted-foreground",children:[a.jsx("p",{children:"Chào mừng đến với Staff Dashboard"}),a.jsx("p",{className:"text-sm mt-2",children:"Bạn có thể quản lý đặt chỗ và theo dõi trạng thái bãi đậu xe từ đây."})]})})]}),lce=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Quản lý đặt chỗ"}),a.jsx("p",{className:"text-muted-foreground",children:"Quản lý và theo dõi các đặt chỗ đậu xe"})]}),a.jsxs(q,{children:[a.jsx(Wr,{className:"h-4 w-4 mr-2"}),"Tạo đặt chỗ mới"]})]}),a.jsxs(ue,{children:[a.jsx(ve,{children:a.jsx(ge,{className:"text-lg",children:"Bộ lọc"})}),a.jsx(de,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Hr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(ce,{placeholder:"Tìm kiếm đặt chỗ...",className:"pl-10"})]}),a.jsx(ce,{placeholder:"Từ ngày",type:"date"}),a.jsx(ce,{placeholder:"Đến ngày",type:"date"}),a.jsxs(q,{variant:"outline",className:"w-full",children:[a.jsx(hr,{className:"h-4 w-4 mr-2"}),"Lọc"]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs(ue,{children:[a.jsxs(ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ge,{className:"text-sm font-medium",children:"Tổng đặt chỗ"}),a.jsx(Et,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(de,{children:[a.jsx("div",{className:"text-2xl font-bold",children:"0"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"+0 so với hôm qua"})]})]}),a.jsxs(ue,{children:[a.jsxs(ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ge,{className:"text-sm font-medium",children:"Đặt thành công"}),a.jsx(Me,{variant:"default",className:"h-4 w-4",children:"✓"})]}),a.jsxs(de,{children:[a.jsx("div",{className:"text-2xl font-bold",children:"0"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"0% tỷ lệ xác nhận"})]})]}),a.jsxs(ue,{children:[a.jsxs(ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ge,{className:"text-sm font-medium",children:"Chờ xác nhận"}),a.jsx(Me,{variant:"secondary",className:"h-4 w-4",children:"⏳"})]}),a.jsxs(de,{children:[a.jsx("div",{className:"text-2xl font-bold",children:"0"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Cần xử lý"})]})]}),a.jsxs(ue,{children:[a.jsxs(ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ge,{className:"text-sm font-medium",children:"Đã hủy"}),a.jsx(Me,{variant:"destructive",className:"h-4 w-4",children:"✗"})]}),a.jsxs(de,{children:[a.jsx("div",{className:"text-2xl font-bold",children:"0"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"0% tỷ lệ hủy"})]})]})]}),a.jsxs(ue,{children:[a.jsx(ve,{children:a.jsx(ge,{children:"Danh sách đặt chỗ"})}),a.jsx(de,{children:a.jsx("div",{className:"rounded-md border",children:a.jsxs("div",{className:"p-4 text-center text-muted-foreground",children:[a.jsx(Et,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"Chưa có đặt chỗ nào"}),a.jsx("p",{className:"text-sm",children:"Các đặt chỗ sẽ hiển thị ở đây"})]})})})]})]}),$w=({requiredRole:e})=>{const{user:t,loading:r}=oo();if(r)return a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"})});if(!t)return a.jsx(Yg,{to:"/login",replace:!0});if(e){const n={user:1,staff:2,admin:3},i=n[t.role],s=n[e];if(i<s)return a.jsx(Yg,{to:"/",replace:!0})}return a.jsx(Fd,{})};function uce(){return a.jsx(oT,{children:a.jsx(iT,{children:a.jsxs(Ok,{children:[a.jsxs(xt,{path:"/",element:a.jsx(mE,{}),children:[a.jsx(xt,{index:!0,element:a.jsx(Tx,{})}),a.jsx(xt,{path:"booking",element:a.jsx(Tx,{})}),a.jsx(xt,{path:"booking-confirmation",element:a.jsx(B$,{})}),a.jsx(xt,{path:"lookup",element:a.jsx(xI,{})}),a.jsx(xt,{path:"login",element:a.jsx(XM,{})}),a.jsx(xt,{path:"register",element:a.jsx(JM,{})})]}),a.jsx(xt,{path:"/admin",element:a.jsx($w,{requiredRole:"admin"}),children:a.jsxs(xt,{element:a.jsx(pE,{}),children:[a.jsx(xt,{index:!0,element:a.jsx(Tw,{})}),a.jsx(xt,{path:"dashboard",element:a.jsx(Tw,{})}),a.jsx(xt,{path:"bookings",element:a.jsx(Roe,{})}),a.jsx(xt,{path:"users",element:a.jsx(Yoe,{})}),a.jsx(xt,{path:"parking-types",element:a.jsx(Qoe,{})}),a.jsx(xt,{path:"services",element:a.jsx(tce,{})}),a.jsx(xt,{path:"discounts",element:a.jsx(ece,{})}),a.jsx(xt,{path:"notifications",element:a.jsx(rce,{})}),a.jsx(xt,{path:"settings",element:a.jsx(Joe,{})}),a.jsx(xt,{path:"maintenance",element:a.jsx(nce,{})}),a.jsx(xt,{path:"special-pricing",element:a.jsx(ace,{})}),a.jsx(xt,{path:"manual-booking",element:a.jsx(oce,{})}),a.jsx(xt,{path:"today-overview",element:a.jsx(cce,{})})]})}),a.jsx(xt,{path:"/staff",element:a.jsx($w,{requiredRole:"staff"}),children:a.jsxs(xt,{element:a.jsx(vE,{}),children:[a.jsx(xt,{index:!0,element:a.jsx(Ew,{})}),a.jsx(xt,{path:"dashboard",element:a.jsx(Ew,{})}),a.jsx(xt,{path:"bookings",element:a.jsx(lce,{})})]})})]})})})}tm.createRoot(document.getElementById("root")).render(a.jsx(I.StrictMode,{children:a.jsxs(_k,{children:[a.jsx(uce,{}),a.jsx(aT,{position:"top-right"})]})}));
