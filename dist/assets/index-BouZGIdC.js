import{r as v,a as io,b as D,R as Ws,c as Zw,d as kl,g as xt}from"./vendor-BqSMHcVE.js";import{u as zd,L as Er,O as Ud,a as Wd,N as lx,R as G2,b as yt,B as Z2}from"./router-BXaqELzt.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Xw={exports:{}},Hd={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X2=v,Y2=Symbol.for("react.element"),J2=Symbol.for("react.fragment"),Q2=Object.prototype.hasOwnProperty,ek=X2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tk={key:!0,ref:!0,__self:!0,__source:!0};function Yw(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)Q2.call(t,n)&&!tk.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Y2,type:e,key:i,ref:o,props:s,_owner:ek.current}}Hd.Fragment=J2;Hd.jsx=Yw;Hd.jsxs=Yw;Xw.exports=Hd;var a=Xw.exports,sm={},ux=io;sm.createRoot=ux.createRoot,sm.hydrateRoot=ux.hydrateRoot;function Jw(e,t){return function(){return e.apply(t,arguments)}}const{toString:rk}=Object.prototype,{getPrototypeOf:ug}=Object,{iterator:qd,toStringTag:Qw}=Symbol,Kd=(e=>t=>{const r=rk.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),wn=e=>(e=e.toLowerCase(),t=>Kd(t)===e),Gd=e=>t=>typeof t===e,{isArray:oo}=Array,fc=Gd("undefined");function nk(e){return e!==null&&!fc(e)&&e.constructor!==null&&!fc(e.constructor)&&Ar(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const e1=wn("ArrayBuffer");function ak(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&e1(e.buffer),t}const sk=Gd("string"),Ar=Gd("function"),t1=Gd("number"),Zd=e=>e!==null&&typeof e=="object",ik=e=>e===!0||e===!1,eu=e=>{if(Kd(e)!=="object")return!1;const t=ug(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Qw in e)&&!(qd in e)},ok=wn("Date"),ck=wn("File"),lk=wn("Blob"),uk=wn("FileList"),dk=e=>Zd(e)&&Ar(e.pipe),fk=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Ar(e.append)&&((t=Kd(e))==="formdata"||t==="object"&&Ar(e.toString)&&e.toString()==="[object FormData]"))},hk=wn("URLSearchParams"),[mk,pk,gk,vk]=["ReadableStream","Request","Response","Headers"].map(wn),xk=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function hl(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,s;if(typeof e!="object"&&(e=[e]),oo(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{const i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let c;for(n=0;n<o;n++)c=i[n],t.call(null,e[c],c,e)}}function r1(e,t){t=t.toLowerCase();const r=Object.keys(e);let n=r.length,s;for(;n-- >0;)if(s=r[n],t===s.toLowerCase())return s;return null}const us=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,n1=e=>!fc(e)&&e!==us;function im(){const{caseless:e}=n1(this)&&this||{},t={},r=(n,s)=>{const i=e&&r1(t,s)||s;eu(t[i])&&eu(n)?t[i]=im(t[i],n):eu(n)?t[i]=im({},n):oo(n)?t[i]=n.slice():t[i]=n};for(let n=0,s=arguments.length;n<s;n++)arguments[n]&&hl(arguments[n],r);return t}const yk=(e,t,r,{allOwnKeys:n}={})=>(hl(t,(s,i)=>{r&&Ar(s)?e[i]=Jw(s,r):e[i]=s},{allOwnKeys:n}),e),bk=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),jk=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},wk=(e,t,r,n)=>{let s,i,o;const c={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)o=s[i],(!n||n(o,e,t))&&!c[o]&&(t[o]=e[o],c[o]=!0);e=r!==!1&&ug(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},Nk=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},Sk=e=>{if(!e)return null;if(oo(e))return e;let t=e.length;if(!t1(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},Ak=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&ug(Uint8Array)),Ok=(e,t)=>{const n=(e&&e[qd]).call(e);let s;for(;(s=n.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},_k=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},Pk=wn("HTMLFormElement"),kk=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),dx=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),Tk=wn("RegExp"),a1=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};hl(r,(s,i)=>{let o;(o=t(s,i,e))!==!1&&(n[i]=o||s)}),Object.defineProperties(e,n)},Ck=e=>{a1(e,(t,r)=>{if(Ar(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Ar(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Ek=(e,t)=>{const r={},n=s=>{s.forEach(i=>{r[i]=!0})};return oo(e)?n(e):n(String(e).split(t)),r},$k=()=>{},Dk=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Ik(e){return!!(e&&Ar(e.append)&&e[Qw]==="FormData"&&e[qd])}const Mk=e=>{const t=new Array(10),r=(n,s)=>{if(Zd(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[s]=n;const i=oo(n)?[]:{};return hl(n,(o,c)=>{const l=r(o,s+1);!fc(l)&&(i[c]=l)}),t[s]=void 0,i}}return n};return r(e,0)},Rk=wn("AsyncFunction"),Lk=e=>e&&(Zd(e)||Ar(e))&&Ar(e.then)&&Ar(e.catch),s1=((e,t)=>e?setImmediate:t?((r,n)=>(us.addEventListener("message",({source:s,data:i})=>{s===us&&i===r&&n.length&&n.shift()()},!1),s=>{n.push(s),us.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Ar(us.postMessage)),Fk=typeof queueMicrotask<"u"?queueMicrotask.bind(us):typeof process<"u"&&process.nextTick||s1,Bk=e=>e!=null&&Ar(e[qd]),ne={isArray:oo,isArrayBuffer:e1,isBuffer:nk,isFormData:fk,isArrayBufferView:ak,isString:sk,isNumber:t1,isBoolean:ik,isObject:Zd,isPlainObject:eu,isReadableStream:mk,isRequest:pk,isResponse:gk,isHeaders:vk,isUndefined:fc,isDate:ok,isFile:ck,isBlob:lk,isRegExp:Tk,isFunction:Ar,isStream:dk,isURLSearchParams:hk,isTypedArray:Ak,isFileList:uk,forEach:hl,merge:im,extend:yk,trim:xk,stripBOM:bk,inherits:jk,toFlatObject:wk,kindOf:Kd,kindOfTest:wn,endsWith:Nk,toArray:Sk,forEachEntry:Ok,matchAll:_k,isHTMLForm:Pk,hasOwnProperty:dx,hasOwnProp:dx,reduceDescriptors:a1,freezeMethods:Ck,toObjectSet:Ek,toCamelCase:kk,noop:$k,toFiniteNumber:Dk,findKey:r1,global:us,isContextDefined:n1,isSpecCompliantForm:Ik,toJSONObject:Mk,isAsyncFn:Rk,isThenable:Lk,setImmediate:s1,asap:Fk,isIterable:Bk};function Ze(e,t,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}ne.inherits(Ze,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ne.toJSONObject(this.config),code:this.code,status:this.status}}});const i1=Ze.prototype,o1={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{o1[e]={value:e}});Object.defineProperties(Ze,o1);Object.defineProperty(i1,"isAxiosError",{value:!0});Ze.from=(e,t,r,n,s,i)=>{const o=Object.create(i1);return ne.toFlatObject(e,o,function(l){return l!==Error.prototype},c=>c!=="isAxiosError"),Ze.call(o,e.message,t,r,n,s),o.cause=e,o.name=e.name,i&&Object.assign(o,i),o};const Vk=null;function om(e){return ne.isPlainObject(e)||ne.isArray(e)}function c1(e){return ne.endsWith(e,"[]")?e.slice(0,-2):e}function fx(e,t,r){return e?e.concat(t).map(function(s,i){return s=c1(s),!r&&i?"["+s+"]":s}).join(r?".":""):t}function zk(e){return ne.isArray(e)&&!e.some(om)}const Uk=ne.toFlatObject(ne,{},null,function(t){return/^is[A-Z]/.test(t)});function Xd(e,t,r){if(!ne.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=ne.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,x){return!ne.isUndefined(x[m])});const n=r.metaTokens,s=r.visitor||d,i=r.dots,o=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&ne.isSpecCompliantForm(t);if(!ne.isFunction(s))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(ne.isDate(g))return g.toISOString();if(ne.isBoolean(g))return g.toString();if(!l&&ne.isBlob(g))throw new Ze("Blob is not supported. Use a Buffer instead.");return ne.isArrayBuffer(g)||ne.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function d(g,m,x){let b=g;if(g&&!x&&typeof g=="object"){if(ne.endsWith(m,"{}"))m=n?m:m.slice(0,-2),g=JSON.stringify(g);else if(ne.isArray(g)&&zk(g)||(ne.isFileList(g)||ne.endsWith(m,"[]"))&&(b=ne.toArray(g)))return m=c1(m),b.forEach(function(w,S){!(ne.isUndefined(w)||w===null)&&t.append(o===!0?fx([m],S,i):o===null?m:m+"[]",u(w))}),!1}return om(g)?!0:(t.append(fx(x,m,i),u(g)),!1)}const f=[],h=Object.assign(Uk,{defaultVisitor:d,convertValue:u,isVisitable:om});function p(g,m){if(!ne.isUndefined(g)){if(f.indexOf(g)!==-1)throw Error("Circular reference detected in "+m.join("."));f.push(g),ne.forEach(g,function(b,y){(!(ne.isUndefined(b)||b===null)&&s.call(t,b,ne.isString(y)?y.trim():y,m,h))===!0&&p(b,m?m.concat(y):[y])}),f.pop()}}if(!ne.isObject(e))throw new TypeError("data must be an object");return p(e),t}function hx(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function dg(e,t){this._pairs=[],e&&Xd(e,this,t)}const l1=dg.prototype;l1.append=function(t,r){this._pairs.push([t,r])};l1.toString=function(t){const r=t?function(n){return t.call(this,n,hx)}:hx;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function Wk(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function u1(e,t,r){if(!t)return e;const n=r&&r.encode||Wk;ne.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let i;if(s?i=s(t,r):i=ne.isURLSearchParams(t)?t.toString():new dg(t,r).toString(n),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class mx{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ne.forEach(this.handlers,function(n){n!==null&&t(n)})}}const d1={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Hk=typeof URLSearchParams<"u"?URLSearchParams:dg,qk=typeof FormData<"u"?FormData:null,Kk=typeof Blob<"u"?Blob:null,Gk={isBrowser:!0,classes:{URLSearchParams:Hk,FormData:qk,Blob:Kk},protocols:["http","https","file","blob","url","data"]},fg=typeof window<"u"&&typeof document<"u",cm=typeof navigator=="object"&&navigator||void 0,Zk=fg&&(!cm||["ReactNative","NativeScript","NS"].indexOf(cm.product)<0),Xk=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Yk=fg&&window.location.href||"http://localhost",Jk=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:fg,hasStandardBrowserEnv:Zk,hasStandardBrowserWebWorkerEnv:Xk,navigator:cm,origin:Yk},Symbol.toStringTag,{value:"Module"})),hr={...Jk,...Gk};function Qk(e,t){return Xd(e,new hr.classes.URLSearchParams,Object.assign({visitor:function(r,n,s,i){return hr.isNode&&ne.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function eT(e){return ne.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function tT(e){const t={},r=Object.keys(e);let n;const s=r.length;let i;for(n=0;n<s;n++)i=r[n],t[i]=e[i];return t}function f1(e){function t(r,n,s,i){let o=r[i++];if(o==="__proto__")return!0;const c=Number.isFinite(+o),l=i>=r.length;return o=!o&&ne.isArray(s)?s.length:o,l?(ne.hasOwnProp(s,o)?s[o]=[s[o],n]:s[o]=n,!c):((!s[o]||!ne.isObject(s[o]))&&(s[o]=[]),t(r,n,s[o],i)&&ne.isArray(s[o])&&(s[o]=tT(s[o])),!c)}if(ne.isFormData(e)&&ne.isFunction(e.entries)){const r={};return ne.forEachEntry(e,(n,s)=>{t(eT(n),s,r,0)}),r}return null}function rT(e,t,r){if(ne.isString(e))try{return(t||JSON.parse)(e),ne.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const ml={transitional:d1,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,i=ne.isObject(t);if(i&&ne.isHTMLForm(t)&&(t=new FormData(t)),ne.isFormData(t))return s?JSON.stringify(f1(t)):t;if(ne.isArrayBuffer(t)||ne.isBuffer(t)||ne.isStream(t)||ne.isFile(t)||ne.isBlob(t)||ne.isReadableStream(t))return t;if(ne.isArrayBufferView(t))return t.buffer;if(ne.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Qk(t,this.formSerializer).toString();if((c=ne.isFileList(t))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Xd(c?{"files[]":t}:t,l&&new l,this.formSerializer)}}return i||s?(r.setContentType("application/json",!1),rT(t)):t}],transformResponse:[function(t){const r=this.transitional||ml.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(ne.isResponse(t)||ne.isReadableStream(t))return t;if(t&&ne.isString(t)&&(n&&!this.responseType||s)){const o=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(c){if(o)throw c.name==="SyntaxError"?Ze.from(c,Ze.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:hr.classes.FormData,Blob:hr.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ne.forEach(["delete","get","head","post","put","patch"],e=>{ml.headers[e]={}});const nT=ne.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),aT=e=>{const t={};let r,n,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),r=o.substring(0,s).trim().toLowerCase(),n=o.substring(s+1).trim(),!(!r||t[r]&&nT[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},px=Symbol("internals");function To(e){return e&&String(e).trim().toLowerCase()}function tu(e){return e===!1||e==null?e:ne.isArray(e)?e.map(tu):String(e)}function sT(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const iT=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function ih(e,t,r,n,s){if(ne.isFunction(n))return n.call(this,t,r);if(s&&(t=r),!!ne.isString(t)){if(ne.isString(n))return t.indexOf(n)!==-1;if(ne.isRegExp(n))return n.test(t)}}function oT(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function cT(e,t){const r=ne.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(s,i,o){return this[n].call(this,t,s,i,o)},configurable:!0})})}let Or=class{constructor(t){t&&this.set(t)}set(t,r,n){const s=this;function i(c,l,u){const d=To(l);if(!d)throw new Error("header name must be a non-empty string");const f=ne.findKey(s,d);(!f||s[f]===void 0||u===!0||u===void 0&&s[f]!==!1)&&(s[f||l]=tu(c))}const o=(c,l)=>ne.forEach(c,(u,d)=>i(u,d,l));if(ne.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(ne.isString(t)&&(t=t.trim())&&!iT(t))o(aT(t),r);else if(ne.isObject(t)&&ne.isIterable(t)){let c={},l,u;for(const d of t){if(!ne.isArray(d))throw TypeError("Object iterator must return a key-value pair");c[u=d[0]]=(l=c[u])?ne.isArray(l)?[...l,d[1]]:[l,d[1]]:d[1]}o(c,r)}else t!=null&&i(r,t,n);return this}get(t,r){if(t=To(t),t){const n=ne.findKey(this,t);if(n){const s=this[n];if(!r)return s;if(r===!0)return sT(s);if(ne.isFunction(r))return r.call(this,s,n);if(ne.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=To(t),t){const n=ne.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||ih(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let s=!1;function i(o){if(o=To(o),o){const c=ne.findKey(n,o);c&&(!r||ih(n,n[c],c,r))&&(delete n[c],s=!0)}}return ne.isArray(t)?t.forEach(i):i(t),s}clear(t){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const i=r[n];(!t||ih(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const r=this,n={};return ne.forEach(this,(s,i)=>{const o=ne.findKey(n,i);if(o){r[o]=tu(s),delete r[i];return}const c=t?oT(i):String(i).trim();c!==i&&delete r[i],r[c]=tu(s),n[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return ne.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=t&&ne.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(s=>n.set(s)),n}static accessor(t){const n=(this[px]=this[px]={accessors:{}}).accessors,s=this.prototype;function i(o){const c=To(o);n[c]||(cT(s,o),n[c]=!0)}return ne.isArray(t)?t.forEach(i):i(t),this}};Or.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ne.reduceDescriptors(Or.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});ne.freezeMethods(Or);function oh(e,t){const r=this||ml,n=t||r,s=Or.from(n.headers);let i=n.data;return ne.forEach(e,function(c){i=c.call(r,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function h1(e){return!!(e&&e.__CANCEL__)}function co(e,t,r){Ze.call(this,e??"canceled",Ze.ERR_CANCELED,t,r),this.name="CanceledError"}ne.inherits(co,Ze,{__CANCEL__:!0});function m1(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new Ze("Request failed with status code "+r.status,[Ze.ERR_BAD_REQUEST,Ze.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function lT(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function uT(e,t){e=e||10;const r=new Array(e),n=new Array(e);let s=0,i=0,o;return t=t!==void 0?t:1e3,function(l){const u=Date.now(),d=n[i];o||(o=u),r[s]=l,n[s]=u;let f=i,h=0;for(;f!==s;)h+=r[f++],f=f%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),u-o<t)return;const p=d&&u-d;return p?Math.round(h*1e3/p):void 0}}function dT(e,t){let r=0,n=1e3/t,s,i;const o=(u,d=Date.now())=>{r=d,s=null,i&&(clearTimeout(i),i=null),e.apply(null,u)};return[(...u)=>{const d=Date.now(),f=d-r;f>=n?o(u,d):(s=u,i||(i=setTimeout(()=>{i=null,o(s)},n-f)))},()=>s&&o(s)]}const hu=(e,t,r=3)=>{let n=0;const s=uT(50,250);return dT(i=>{const o=i.loaded,c=i.lengthComputable?i.total:void 0,l=o-n,u=s(l),d=o<=c;n=o;const f={loaded:o,total:c,progress:c?o/c:void 0,bytes:l,rate:u||void 0,estimated:u&&c&&d?(c-o)/u:void 0,event:i,lengthComputable:c!=null,[t?"download":"upload"]:!0};e(f)},r)},gx=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},vx=e=>(...t)=>ne.asap(()=>e(...t)),fT=hr.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,hr.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(hr.origin),hr.navigator&&/(msie|trident)/i.test(hr.navigator.userAgent)):()=>!0,hT=hr.hasStandardBrowserEnv?{write(e,t,r,n,s,i){const o=[e+"="+encodeURIComponent(t)];ne.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),ne.isString(n)&&o.push("path="+n),ne.isString(s)&&o.push("domain="+s),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function mT(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function pT(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function p1(e,t,r){let n=!mT(t);return e&&(n||r==!1)?pT(e,t):t}const xx=e=>e instanceof Or?{...e}:e;function _s(e,t){t=t||{};const r={};function n(u,d,f,h){return ne.isPlainObject(u)&&ne.isPlainObject(d)?ne.merge.call({caseless:h},u,d):ne.isPlainObject(d)?ne.merge({},d):ne.isArray(d)?d.slice():d}function s(u,d,f,h){if(ne.isUndefined(d)){if(!ne.isUndefined(u))return n(void 0,u,f,h)}else return n(u,d,f,h)}function i(u,d){if(!ne.isUndefined(d))return n(void 0,d)}function o(u,d){if(ne.isUndefined(d)){if(!ne.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function c(u,d,f){if(f in t)return n(u,d);if(f in e)return n(void 0,u)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:c,headers:(u,d,f)=>s(xx(u),xx(d),f,!0)};return ne.forEach(Object.keys(Object.assign({},e,t)),function(d){const f=l[d]||s,h=f(e[d],t[d],d);ne.isUndefined(h)&&f!==c||(r[d]=h)}),r}const g1=e=>{const t=_s({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:c}=t;t.headers=o=Or.from(o),t.url=u1(p1(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),c&&o.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let l;if(ne.isFormData(r)){if(hr.hasStandardBrowserEnv||hr.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[u,...d]=l?l.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...d].join("; "))}}if(hr.hasStandardBrowserEnv&&(n&&ne.isFunction(n)&&(n=n(t)),n||n!==!1&&fT(t.url))){const u=s&&i&&hT.read(i);u&&o.set(s,u)}return t},gT=typeof XMLHttpRequest<"u",vT=gT&&function(e){return new Promise(function(r,n){const s=g1(e);let i=s.data;const o=Or.from(s.headers).normalize();let{responseType:c,onUploadProgress:l,onDownloadProgress:u}=s,d,f,h,p,g;function m(){p&&p(),g&&g(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let x=new XMLHttpRequest;x.open(s.method.toUpperCase(),s.url,!0),x.timeout=s.timeout;function b(){if(!x)return;const w=Or.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),N={data:!c||c==="text"||c==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:w,config:e,request:x};m1(function(A){r(A),m()},function(A){n(A),m()},N),x=null}"onloadend"in x?x.onloadend=b:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(b)},x.onabort=function(){x&&(n(new Ze("Request aborted",Ze.ECONNABORTED,e,x)),x=null)},x.onerror=function(){n(new Ze("Network Error",Ze.ERR_NETWORK,e,x)),x=null},x.ontimeout=function(){let S=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const N=s.transitional||d1;s.timeoutErrorMessage&&(S=s.timeoutErrorMessage),n(new Ze(S,N.clarifyTimeoutError?Ze.ETIMEDOUT:Ze.ECONNABORTED,e,x)),x=null},i===void 0&&o.setContentType(null),"setRequestHeader"in x&&ne.forEach(o.toJSON(),function(S,N){x.setRequestHeader(N,S)}),ne.isUndefined(s.withCredentials)||(x.withCredentials=!!s.withCredentials),c&&c!=="json"&&(x.responseType=s.responseType),u&&([h,g]=hu(u,!0),x.addEventListener("progress",h)),l&&x.upload&&([f,p]=hu(l),x.upload.addEventListener("progress",f),x.upload.addEventListener("loadend",p)),(s.cancelToken||s.signal)&&(d=w=>{x&&(n(!w||w.type?new co(null,e,x):w),x.abort(),x=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const y=lT(s.url);if(y&&hr.protocols.indexOf(y)===-1){n(new Ze("Unsupported protocol "+y+":",Ze.ERR_BAD_REQUEST,e));return}x.send(i||null)})},xT=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,s;const i=function(u){if(!s){s=!0,c();const d=u instanceof Error?u:this.reason;n.abort(d instanceof Ze?d:new co(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,i(new Ze(`timeout ${t} of ms exceeded`,Ze.ETIMEDOUT))},t);const c=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:l}=n;return l.unsubscribe=()=>ne.asap(c),l}},yT=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,s;for(;n<r;)s=n+t,yield e.slice(n,s),n=s},bT=async function*(e,t){for await(const r of jT(e))yield*yT(r,t)},jT=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},yx=(e,t,r,n)=>{const s=bT(e,t);let i=0,o,c=l=>{o||(o=!0,n&&n(l))};return new ReadableStream({async pull(l){try{const{done:u,value:d}=await s.next();if(u){c(),l.close();return}let f=d.byteLength;if(r){let h=i+=f;r(h)}l.enqueue(new Uint8Array(d))}catch(u){throw c(u),u}},cancel(l){return c(l),s.return()}},{highWaterMark:2})},Yd=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",v1=Yd&&typeof ReadableStream=="function",wT=Yd&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),x1=(e,...t)=>{try{return!!e(...t)}catch{return!1}},NT=v1&&x1(()=>{let e=!1;const t=new Request(hr.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),bx=64*1024,lm=v1&&x1(()=>ne.isReadableStream(new Response("").body)),mu={stream:lm&&(e=>e.body)};Yd&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!mu[t]&&(mu[t]=ne.isFunction(e[t])?r=>r[t]():(r,n)=>{throw new Ze(`Response type '${t}' is not supported`,Ze.ERR_NOT_SUPPORT,n)})})})(new Response);const ST=async e=>{if(e==null)return 0;if(ne.isBlob(e))return e.size;if(ne.isSpecCompliantForm(e))return(await new Request(hr.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(ne.isArrayBufferView(e)||ne.isArrayBuffer(e))return e.byteLength;if(ne.isURLSearchParams(e)&&(e=e+""),ne.isString(e))return(await wT(e)).byteLength},AT=async(e,t)=>{const r=ne.toFiniteNumber(e.getContentLength());return r??ST(t)},OT=Yd&&(async e=>{let{url:t,method:r,data:n,signal:s,cancelToken:i,timeout:o,onDownloadProgress:c,onUploadProgress:l,responseType:u,headers:d,withCredentials:f="same-origin",fetchOptions:h}=g1(e);u=u?(u+"").toLowerCase():"text";let p=xT([s,i&&i.toAbortSignal()],o),g;const m=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let x;try{if(l&&NT&&r!=="get"&&r!=="head"&&(x=await AT(d,n))!==0){let N=new Request(t,{method:"POST",body:n,duplex:"half"}),j;if(ne.isFormData(n)&&(j=N.headers.get("content-type"))&&d.setContentType(j),N.body){const[A,O]=gx(x,hu(vx(l)));n=yx(N.body,bx,A,O)}}ne.isString(f)||(f=f?"include":"omit");const b="credentials"in Request.prototype;g=new Request(t,{...h,signal:p,method:r.toUpperCase(),headers:d.normalize().toJSON(),body:n,duplex:"half",credentials:b?f:void 0});let y=await fetch(g,h);const w=lm&&(u==="stream"||u==="response");if(lm&&(c||w&&m)){const N={};["status","statusText","headers"].forEach(P=>{N[P]=y[P]});const j=ne.toFiniteNumber(y.headers.get("content-length")),[A,O]=c&&gx(j,hu(vx(c),!0))||[];y=new Response(yx(y.body,bx,A,()=>{O&&O(),m&&m()}),N)}u=u||"text";let S=await mu[ne.findKey(mu,u)||"text"](y,e);return!w&&m&&m(),await new Promise((N,j)=>{m1(N,j,{data:S,headers:Or.from(y.headers),status:y.status,statusText:y.statusText,config:e,request:g})})}catch(b){throw m&&m(),b&&b.name==="TypeError"&&/Load failed|fetch/i.test(b.message)?Object.assign(new Ze("Network Error",Ze.ERR_NETWORK,e,g),{cause:b.cause||b}):Ze.from(b,b&&b.code,e,g)}}),um={http:Vk,xhr:vT,fetch:OT};ne.forEach(um,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const jx=e=>`- ${e}`,_T=e=>ne.isFunction(e)||e===null||e===!1,y1={getAdapter:e=>{e=ne.isArray(e)?e:[e];const{length:t}=e;let r,n;const s={};for(let i=0;i<t;i++){r=e[i];let o;if(n=r,!_T(r)&&(n=um[(o=String(r)).toLowerCase()],n===void 0))throw new Ze(`Unknown adapter '${o}'`);if(n)break;s[o||"#"+i]=n}if(!n){const i=Object.entries(s).map(([c,l])=>`adapter ${c} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=t?i.length>1?`since :
`+i.map(jx).join(`
`):" "+jx(i[0]):"as no adapter specified";throw new Ze("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:um};function ch(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new co(null,e)}function wx(e){return ch(e),e.headers=Or.from(e.headers),e.data=oh.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),y1.getAdapter(e.adapter||ml.adapter)(e).then(function(n){return ch(e),n.data=oh.call(e,e.transformResponse,n),n.headers=Or.from(n.headers),n},function(n){return h1(n)||(ch(e),n&&n.response&&(n.response.data=oh.call(e,e.transformResponse,n.response),n.response.headers=Or.from(n.response.headers))),Promise.reject(n)})}const b1="1.10.0",Jd={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Jd[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Nx={};Jd.transitional=function(t,r,n){function s(i,o){return"[Axios v"+b1+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return(i,o,c)=>{if(t===!1)throw new Ze(s(o," has been removed"+(r?" in "+r:"")),Ze.ERR_DEPRECATED);return r&&!Nx[o]&&(Nx[o]=!0,console.warn(s(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,o,c):!0}};Jd.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function PT(e,t,r){if(typeof e!="object")throw new Ze("options must be an object",Ze.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const i=n[s],o=t[i];if(o){const c=e[i],l=c===void 0||o(c,i,e);if(l!==!0)throw new Ze("option "+i+" must be "+l,Ze.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Ze("Unknown option "+i,Ze.ERR_BAD_OPTION)}}const ru={assertOptions:PT,validators:Jd},An=ru.validators;let ys=class{constructor(t){this.defaults=t||{},this.interceptors={request:new mx,response:new mx}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=_s(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:i}=r;n!==void 0&&ru.assertOptions(n,{silentJSONParsing:An.transitional(An.boolean),forcedJSONParsing:An.transitional(An.boolean),clarifyTimeoutError:An.transitional(An.boolean)},!1),s!=null&&(ne.isFunction(s)?r.paramsSerializer={serialize:s}:ru.assertOptions(s,{encode:An.function,serialize:An.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),ru.assertOptions(r,{baseUrl:An.spelling("baseURL"),withXsrfToken:An.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&ne.merge(i.common,i[r.method]);i&&ne.forEach(["delete","get","head","post","put","patch","common"],g=>{delete i[g]}),r.headers=Or.concat(o,i);const c=[];let l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(r)===!1||(l=l&&m.synchronous,c.unshift(m.fulfilled,m.rejected))});const u=[];this.interceptors.response.forEach(function(m){u.push(m.fulfilled,m.rejected)});let d,f=0,h;if(!l){const g=[wx.bind(this),void 0];for(g.unshift.apply(g,c),g.push.apply(g,u),h=g.length,d=Promise.resolve(r);f<h;)d=d.then(g[f++],g[f++]);return d}h=c.length;let p=r;for(f=0;f<h;){const g=c[f++],m=c[f++];try{p=g(p)}catch(x){m.call(this,x);break}}try{d=wx.call(this,p)}catch(g){return Promise.reject(g)}for(f=0,h=u.length;f<h;)d=d.then(u[f++],u[f++]);return d}getUri(t){t=_s(this.defaults,t);const r=p1(t.baseURL,t.url,t.allowAbsoluteUrls);return u1(r,t.params,t.paramsSerializer)}};ne.forEach(["delete","get","head","options"],function(t){ys.prototype[t]=function(r,n){return this.request(_s(n||{},{method:t,url:r,data:(n||{}).data}))}});ne.forEach(["post","put","patch"],function(t){function r(n){return function(i,o,c){return this.request(_s(c||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}ys.prototype[t]=r(),ys.prototype[t+"Form"]=r(!0)});let kT=class j1{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(s=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](s);n._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(c=>{n.subscribe(c),i=c}).then(s);return o.cancel=function(){n.unsubscribe(i)},o},t(function(i,o,c){n.reason||(n.reason=new co(i,o,c),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new j1(function(s){t=s}),cancel:t}}};function TT(e){return function(r){return e.apply(null,r)}}function CT(e){return ne.isObject(e)&&e.isAxiosError===!0}const dm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(dm).forEach(([e,t])=>{dm[t]=e});function w1(e){const t=new ys(e),r=Jw(ys.prototype.request,t);return ne.extend(r,ys.prototype,t,{allOwnKeys:!0}),ne.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return w1(_s(e,s))},r}const Ft=w1(ml);Ft.Axios=ys;Ft.CanceledError=co;Ft.CancelToken=kT;Ft.isCancel=h1;Ft.VERSION=b1;Ft.toFormData=Xd;Ft.AxiosError=Ze;Ft.Cancel=Ft.CanceledError;Ft.all=function(t){return Promise.all(t)};Ft.spread=TT;Ft.isAxiosError=CT;Ft.mergeConfig=_s;Ft.AxiosHeaders=Or;Ft.formToJSON=e=>f1(ne.isHTMLForm(e)?new FormData(e):e);Ft.getAdapter=y1.getAdapter;Ft.HttpStatusCode=dm;Ft.default=Ft;const{Axios:Kce,AxiosError:Gce,CanceledError:Zce,isCancel:Xce,CancelToken:Yce,VERSION:Jce,all:Qce,Cancel:ele,isAxiosError:tle,spread:rle,toFormData:nle,AxiosHeaders:ale,HttpStatusCode:sle,formToJSON:ile,getAdapter:ole,mergeConfig:cle}=Ft,ET="http://localhost:5002/api",Ae=Ft.create({baseURL:ET,headers:{"Content-Type":"application/json"}});Ae.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));Ae.interceptors.response.use(e=>e,e=>{var t,r,n,s,i,o;if(console.error("API Error:",{status:(t=e.response)==null?void 0:t.status,message:(n=(r=e.response)==null?void 0:r.data)==null?void 0:n.message,url:(s=e.config)==null?void 0:s.url,method:(i=e.config)==null?void 0:i.method}),((o=e.response)==null?void 0:o.status)===401){const c=window.location.pathname;["/booking","/lookup","/booking-confirmation"].includes(c)?console.log("Unauthorized on public route - continuing without auth"):(console.log("Unauthorized on protected route - logging out user"),localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login")}return Promise.reject(e)});const $T=async e=>(await Ae.post("/auth/register",e)).data,DT=async e=>(await Ae.post("/auth/login",e)).data,IT=async()=>(await Ae.get("/auth/profile")).data.user,N1=async e=>(await Ae.post("/auth/check-vip",{email:e})).data,MT=async e=>(await Ae.post("/auth/check-vip-code",{vipCode:e})).data;let RT={data:""},LT=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||RT,FT=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,BT=/\/\*[^]*?\*\/|  +/g,Sx=/\n+/g,Ta=(e,t)=>{let r="",n="",s="";for(let i in e){let o=e[i];i[0]=="@"?i[1]=="i"?r=i+" "+o+";":n+=i[1]=="f"?Ta(o,i):i+"{"+Ta(o,i[1]=="k"?"":t)+"}":typeof o=="object"?n+=Ta(o,t?t.replace(/([^,])+/g,c=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,c):c?c+" "+l:l)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Ta.p?Ta.p(i,o):i+":"+o+";")}return r+(t&&s?t+"{"+s+"}":s)+n},Xn={},S1=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+S1(e[r]);return t}return e},VT=(e,t,r,n,s)=>{let i=S1(e),o=Xn[i]||(Xn[i]=(l=>{let u=0,d=11;for(;u<l.length;)d=101*d+l.charCodeAt(u++)>>>0;return"go"+d})(i));if(!Xn[o]){let l=i!==e?e:(u=>{let d,f,h=[{}];for(;d=FT.exec(u.replace(BT,""));)d[4]?h.shift():d[3]?(f=d[3].replace(Sx," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][d[1]]=d[2].replace(Sx," ").trim();return h[0]})(e);Xn[o]=Ta(s?{["@keyframes "+o]:l}:l,r?"":"."+o)}let c=r&&Xn.g?Xn.g:null;return r&&(Xn.g=Xn[o]),((l,u,d,f)=>{f?u.data=u.data.replace(f,l):u.data.indexOf(l)===-1&&(u.data=d?l+u.data:u.data+l)})(Xn[o],t,n,c),o},zT=(e,t,r)=>e.reduce((n,s,i)=>{let o=t[i];if(o&&o.call){let c=o(r),l=c&&c.props&&c.props.className||/^go/.test(c)&&c;o=l?"."+l:c&&typeof c=="object"?c.props?"":Ta(c,""):c===!1?"":c}return n+s+(o??"")},"");function Qd(e){let t=this||{},r=e.call?e(t.p):e;return VT(r.unshift?r.raw?zT(r,[].slice.call(arguments,1),t.p):r.reduce((n,s)=>Object.assign(n,s&&s.call?s(t.p):s),{}):r,LT(t.target),t.g,t.o,t.k)}let A1,fm,hm;Qd.bind({g:1});let ha=Qd.bind({k:1});function UT(e,t,r,n){Ta.p=t,A1=e,fm=r,hm=n}function Ga(e,t){let r=this||{};return function(){let n=arguments;function s(i,o){let c=Object.assign({},i),l=c.className||s.className;r.p=Object.assign({theme:fm&&fm()},c),r.o=/ *go\d+/.test(l),c.className=Qd.apply(r,n)+(l?" "+l:"");let u=e;return e[0]&&(u=c.as||e,delete c.as),hm&&u[0]&&hm(c),A1(u,c)}return s}}var WT=e=>typeof e=="function",pu=(e,t)=>WT(e)?e(t):e,HT=(()=>{let e=0;return()=>(++e).toString()})(),O1=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),qT=20,_1=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,qT)};case 1:return{...e,toasts:e.toasts.map(i=>i.id===t.toast.id?{...i,...t.toast}:i)};case 2:let{toast:r}=t;return _1(e,{type:e.toasts.find(i=>i.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=t;return{...e,toasts:e.toasts.map(i=>i.id===n||n===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(i=>i.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let s=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+s}))}}},nu=[],ds={toasts:[],pausedAt:void 0},Hs=e=>{ds=_1(ds,e),nu.forEach(t=>{t(ds)})},KT={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},GT=(e={})=>{let[t,r]=v.useState(ds),n=v.useRef(ds);v.useEffect(()=>(n.current!==ds&&r(ds),nu.push(r),()=>{let i=nu.indexOf(r);i>-1&&nu.splice(i,1)}),[]);let s=t.toasts.map(i=>{var o,c,l;return{...e,...e[i.type],...i,removeDelay:i.removeDelay||((o=e[i.type])==null?void 0:o.removeDelay)||(e==null?void 0:e.removeDelay),duration:i.duration||((c=e[i.type])==null?void 0:c.duration)||(e==null?void 0:e.duration)||KT[i.type],style:{...e.style,...(l=e[i.type])==null?void 0:l.style,...i.style}}});return{...t,toasts:s}},ZT=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||HT()}),pl=e=>(t,r)=>{let n=ZT(t,e,r);return Hs({type:2,toast:n}),n.id},Y=(e,t)=>pl("blank")(e,t);Y.error=pl("error");Y.success=pl("success");Y.loading=pl("loading");Y.custom=pl("custom");Y.dismiss=e=>{Hs({type:3,toastId:e})};Y.remove=e=>Hs({type:4,toastId:e});Y.promise=(e,t,r)=>{let n=Y.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(s=>{let i=t.success?pu(t.success,s):void 0;return i?Y.success(i,{id:n,...r,...r==null?void 0:r.success}):Y.dismiss(n),s}).catch(s=>{let i=t.error?pu(t.error,s):void 0;i?Y.error(i,{id:n,...r,...r==null?void 0:r.error}):Y.dismiss(n)}),e};var XT=(e,t)=>{Hs({type:1,toast:{id:e,height:t}})},YT=()=>{Hs({type:5,time:Date.now()})},tc=new Map,JT=1e3,QT=(e,t=JT)=>{if(tc.has(e))return;let r=setTimeout(()=>{tc.delete(e),Hs({type:4,toastId:e})},t);tc.set(e,r)},eC=e=>{let{toasts:t,pausedAt:r}=GT(e);v.useEffect(()=>{if(r)return;let i=Date.now(),o=t.map(c=>{if(c.duration===1/0)return;let l=(c.duration||0)+c.pauseDuration-(i-c.createdAt);if(l<0){c.visible&&Y.dismiss(c.id);return}return setTimeout(()=>Y.dismiss(c.id),l)});return()=>{o.forEach(c=>c&&clearTimeout(c))}},[t,r]);let n=v.useCallback(()=>{r&&Hs({type:6,time:Date.now()})},[r]),s=v.useCallback((i,o)=>{let{reverseOrder:c=!1,gutter:l=8,defaultPosition:u}=o||{},d=t.filter(p=>(p.position||u)===(i.position||u)&&p.height),f=d.findIndex(p=>p.id===i.id),h=d.filter((p,g)=>g<f&&p.visible).length;return d.filter(p=>p.visible).slice(...c?[h+1]:[0,h]).reduce((p,g)=>p+(g.height||0)+l,0)},[t]);return v.useEffect(()=>{t.forEach(i=>{if(i.dismissed)QT(i.id,i.removeDelay);else{let o=tc.get(i.id);o&&(clearTimeout(o),tc.delete(i.id))}})},[t]),{toasts:t,handlers:{updateHeight:XT,startPause:YT,endPause:n,calculateOffset:s}}},tC=ha`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,rC=ha`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,nC=ha`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,aC=Ga("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${tC} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${rC} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${nC} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,sC=ha`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,iC=Ga("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${sC} 1s linear infinite;
`,oC=ha`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,cC=ha`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,lC=Ga("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${oC} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${cC} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,uC=Ga("div")`
  position: absolute;
`,dC=Ga("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,fC=ha`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,hC=Ga("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${fC} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,mC=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?v.createElement(hC,null,t):t:r==="blank"?null:v.createElement(dC,null,v.createElement(iC,{...n}),r!=="loading"&&v.createElement(uC,null,r==="error"?v.createElement(aC,{...n}):v.createElement(lC,{...n})))},pC=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,gC=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,vC="0%{opacity:0;} 100%{opacity:1;}",xC="0%{opacity:1;} 100%{opacity:0;}",yC=Ga("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,bC=Ga("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,jC=(e,t)=>{let r=e.includes("top")?1:-1,[n,s]=O1()?[vC,xC]:[pC(r),gC(r)];return{animation:t?`${ha(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ha(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},wC=v.memo(({toast:e,position:t,style:r,children:n})=>{let s=e.height?jC(e.position||t||"top-center",e.visible):{opacity:0},i=v.createElement(mC,{toast:e}),o=v.createElement(bC,{...e.ariaProps},pu(e.message,e));return v.createElement(yC,{className:e.className,style:{...s,...r,...e.style}},typeof n=="function"?n({icon:i,message:o}):v.createElement(v.Fragment,null,i,o))});UT(v.createElement);var NC=({id:e,className:t,style:r,onHeightUpdate:n,children:s})=>{let i=v.useCallback(o=>{if(o){let c=()=>{let l=o.getBoundingClientRect().height;n(e,l)};c(),new MutationObserver(c).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return v.createElement("div",{ref:i,className:t,style:r},s)},SC=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:O1()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...s}},AC=Qd`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Tl=16,OC=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:s,containerStyle:i,containerClassName:o})=>{let{toasts:c,handlers:l}=eC(r);return v.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Tl,left:Tl,right:Tl,bottom:Tl,pointerEvents:"none",...i},className:o,onMouseEnter:l.startPause,onMouseLeave:l.endPause},c.map(u=>{let d=u.position||t,f=l.calculateOffset(u,{reverseOrder:e,gutter:n,defaultPosition:t}),h=SC(d,f);return v.createElement(NC,{id:u.id,key:u.id,onHeightUpdate:l.updateHeight,className:u.visible?AC:"",style:h},u.type==="custom"?pu(u.message,u):s?s(u):v.createElement(wC,{toast:u,position:d}))}))},Co=Y;const P1=v.createContext(void 0),lo=()=>{const e=v.useContext(P1);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},_C=({children:e})=>{const[t,r]=v.useState(null),[n,s]=v.useState(null),[i,o]=v.useState(!0);v.useEffect(()=>{(async()=>{const h=localStorage.getItem("token"),p=localStorage.getItem("user");if(h&&p)try{s(h),r(JSON.parse(p)),await IT()}catch{localStorage.removeItem("token"),localStorage.removeItem("user"),s(null),r(null)}o(!1)})()},[]);const d={user:t,token:n,login:async(f,h)=>{var p,g;try{const m=await DT({email:f,password:h}),{token:x,user:b}=m;s(x),r(b),localStorage.setItem("token",x),localStorage.setItem("user",JSON.stringify(b)),Co.success("登入成功！"+b.email)}catch(m){const x=((g=(p=m.response)==null?void 0:p.data)==null?void 0:g.error)||"登入失敗";throw Co.error(x),m}},register:async f=>{var h,p;try{const g=await $T(f),{token:m,user:x}=g;s(m),r(x),localStorage.setItem("token",m),localStorage.setItem("user",JSON.stringify(x)),Co.success("註冊成功！")}catch(g){const m=((p=(h=g.response)==null?void 0:h.data)==null?void 0:p.error)||"註冊失敗";throw Co.error(m),g}},logout:()=>{s(null),r(null),localStorage.removeItem("token"),localStorage.removeItem("user"),Co.success("登出成功！")},loading:i};return a.jsx(P1.Provider,{value:d,children:e})},PC=v.createContext(void 0),kC=({children:e,defaultTheme:t="system",storageKey:r="vite-ui-theme"})=>{const[n,s]=v.useState(()=>localStorage.getItem(r)||t);v.useEffect(()=>{const o=window.document.documentElement;if(o.classList.remove("light","dark"),n==="system"){const c=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";o.classList.add(c)}else o.classList.add(n);localStorage.setItem(r,n)},[n,r]),v.useEffect(()=>{const o=window.matchMedia("(prefers-color-scheme: dark)"),c=()=>{if(n==="system"){const l=window.document.documentElement;l.classList.remove("light","dark");const u=o.matches?"dark":"light";l.classList.add(u)}};return o.addEventListener("change",c),()=>o.removeEventListener("change",c)},[n]);const i={theme:n,setTheme:o=>{localStorage.setItem(r,o),s(o)}};return a.jsx(PC.Provider,{value:i,children:e})};function Ax(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function TC(...e){return t=>{let r=!1;const n=e.map(s=>{const i=Ax(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():Ax(e[s],null)}}}}function an(e){const t=EC(e),r=v.forwardRef((n,s)=>{const{children:i,...o}=n,c=v.Children.toArray(i),l=c.find(DC);if(l){const u=l.props.children,d=c.map(f=>f===l?v.Children.count(u)>1?v.Children.only(null):v.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:v.isValidElement(u)?v.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}var CC=an("Slot");function EC(e){const t=v.forwardRef((r,n)=>{const{children:s,...i}=r;if(v.isValidElement(s)){const o=MC(s),c=IC(i,s.props);return s.type!==v.Fragment&&(c.ref=n?TC(n,o):o),v.cloneElement(s,c)}return v.Children.count(s)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var $C=Symbol("radix.slottable");function DC(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===$C}function IC(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...c)=>{const l=i(...c);return s(...c),l}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function MC(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function k1(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=k1(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ge(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=k1(e))&&(n&&(n+=" "),n+=t);return n}const Ox=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,_x=Ge,hg=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return _x(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],f=i==null?void 0:i[u];if(d===null)return null;const h=Ox(d)||Ox(f);return s[u][h]}),c=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),l=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(g=>{let[m,x]=g;return Array.isArray(x)?x.includes({...i,...c}[m]):{...i,...c}[m]===x})?[...u,f,h]:u},[]);return _x(e,o,l,r==null?void 0:r.class,r==null?void 0:r.className)},mg="-",RC=e=>{const t=FC(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const c=o.split(mg);return c[0]===""&&c.length!==1&&c.shift(),T1(c,t)||LC(o)},getConflictingClassGroupIds:(o,c)=>{const l=r[o]||[];return c&&n[o]?[...l,...n[o]]:l}}},T1=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?T1(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(mg);return(o=t.validators.find(({validator:c})=>c(i)))==null?void 0:o.classGroupId},Px=/^\[(.+)\]$/,LC=e=>{if(Px.test(e)){const t=Px.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},FC=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return VC(Object.entries(e.classGroups),r).forEach(([i,o])=>{mm(o,n,i,t)}),n},mm=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:kx(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(BC(s)){mm(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,o])=>{mm(o,kx(t,i),r,n)})})},kx=(e,t)=>{let r=e;return t.split(mg).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},BC=e=>e.isThemeGetter,VC=(e,t)=>t?e.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,c])=>[t+o,c])):i);return[r,s]}):e,zC=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return s(i,o),o},set(i,o){r.has(i)?r.set(i,o):s(i,o)}}},C1="!",UC=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],i=t.length,o=c=>{const l=[];let u=0,d=0,f;for(let x=0;x<c.length;x++){let b=c[x];if(u===0){if(b===s&&(n||c.slice(x,x+i)===t)){l.push(c.slice(d,x)),d=x+i;continue}if(b==="/"){f=x;continue}}b==="["?u++:b==="]"&&u--}const h=l.length===0?c:c.substring(d),p=h.startsWith(C1),g=p?h.substring(1):h,m=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:m}};return r?c=>r({className:c,parseClassName:o}):o},WC=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},HC=e=>({cache:zC(e.cacheSize),parseClassName:UC(e),...RC(e)}),qC=/\s+/,KC=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(qC);let c="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=r(u);let g=!!p,m=n(g?h.substring(0,p):h);if(!m){if(!g){c=u+(c.length>0?" "+c:c);continue}if(m=n(h),!m){c=u+(c.length>0?" "+c:c);continue}g=!1}const x=WC(d).join(":"),b=f?x+C1:x,y=b+m;if(i.includes(y))continue;i.push(y);const w=s(m,g);for(let S=0;S<w.length;++S){const N=w[S];i.push(b+N)}c=u+(c.length>0?" "+c:c)}return c};function GC(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=E1(t))&&(n&&(n+=" "),n+=r);return n}const E1=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=E1(e[n]))&&(r&&(r+=" "),r+=t);return r};function ZC(e,...t){let r,n,s,i=o;function o(l){const u=t.reduce((d,f)=>f(d),e());return r=HC(u),n=r.cache.get,s=r.cache.set,i=c,c(l)}function c(l){const u=n(l);if(u)return u;const d=KC(l,r);return s(l,d),d}return function(){return i(GC.apply(null,arguments))}}const At=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},$1=/^\[(?:([a-z-]+):)?(.+)\]$/i,XC=/^\d+\/\d+$/,YC=new Set(["px","full","screen"]),JC=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,QC=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,eE=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,tE=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,rE=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Yn=e=>xi(e)||YC.has(e)||XC.test(e),Sa=e=>uo(e,"length",uE),xi=e=>!!e&&!Number.isNaN(Number(e)),lh=e=>uo(e,"number",xi),Eo=e=>!!e&&Number.isInteger(Number(e)),nE=e=>e.endsWith("%")&&xi(e.slice(0,-1)),Qe=e=>$1.test(e),Aa=e=>JC.test(e),aE=new Set(["length","size","percentage"]),sE=e=>uo(e,aE,D1),iE=e=>uo(e,"position",D1),oE=new Set(["image","url"]),cE=e=>uo(e,oE,fE),lE=e=>uo(e,"",dE),$o=()=>!0,uo=(e,t,r)=>{const n=$1.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},uE=e=>QC.test(e)&&!eE.test(e),D1=()=>!1,dE=e=>tE.test(e),fE=e=>rE.test(e),hE=()=>{const e=At("colors"),t=At("spacing"),r=At("blur"),n=At("brightness"),s=At("borderColor"),i=At("borderRadius"),o=At("borderSpacing"),c=At("borderWidth"),l=At("contrast"),u=At("grayscale"),d=At("hueRotate"),f=At("invert"),h=At("gap"),p=At("gradientColorStops"),g=At("gradientColorStopPositions"),m=At("inset"),x=At("margin"),b=At("opacity"),y=At("padding"),w=At("saturate"),S=At("scale"),N=At("sepia"),j=At("skew"),A=At("space"),O=At("translate"),P=()=>["auto","contain","none"],T=()=>["auto","hidden","clip","visible","scroll"],_=()=>["auto",Qe,t],k=()=>[Qe,t],E=()=>["",Yn,Sa],C=()=>["auto",xi,Qe],I=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],F=()=>["solid","dashed","dotted","double","none"],$=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],q=()=>["start","end","center","between","around","evenly","stretch"],M=()=>["","0",Qe],J=()=>["auto","avoid","all","avoid-page","page","left","right","column"],V=()=>[xi,Qe];return{cacheSize:500,separator:":",theme:{colors:[$o],spacing:[Yn,Sa],blur:["none","",Aa,Qe],brightness:V(),borderColor:[e],borderRadius:["none","","full",Aa,Qe],borderSpacing:k(),borderWidth:E(),contrast:V(),grayscale:M(),hueRotate:V(),invert:M(),gap:k(),gradientColorStops:[e],gradientColorStopPositions:[nE,Sa],inset:_(),margin:_(),opacity:V(),padding:k(),saturate:V(),scale:V(),sepia:M(),skew:V(),space:k(),translate:k()},classGroups:{aspect:[{aspect:["auto","square","video",Qe]}],container:["container"],columns:[{columns:[Aa]}],"break-after":[{"break-after":J()}],"break-before":[{"break-before":J()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...I(),Qe]}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Eo,Qe]}],basis:[{basis:_()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Qe]}],grow:[{grow:M()}],shrink:[{shrink:M()}],order:[{order:["first","last","none",Eo,Qe]}],"grid-cols":[{"grid-cols":[$o]}],"col-start-end":[{col:["auto",{span:["full",Eo,Qe]},Qe]}],"col-start":[{"col-start":C()}],"col-end":[{"col-end":C()}],"grid-rows":[{"grid-rows":[$o]}],"row-start-end":[{row:["auto",{span:[Eo,Qe]},Qe]}],"row-start":[{"row-start":C()}],"row-end":[{"row-end":C()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Qe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Qe]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Qe,t]}],"min-w":[{"min-w":[Qe,t,"min","max","fit"]}],"max-w":[{"max-w":[Qe,t,"none","full","min","max","fit","prose",{screen:[Aa]},Aa]}],h:[{h:[Qe,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Qe,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Qe,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Qe,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Aa,Sa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",lh]}],"font-family":[{font:[$o]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Qe]}],"line-clamp":[{"line-clamp":["none",xi,lh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Yn,Qe]}],"list-image":[{"list-image":["none",Qe]}],"list-style-type":[{list:["none","disc","decimal",Qe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...F(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Yn,Sa]}],"underline-offset":[{"underline-offset":["auto",Yn,Qe]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Qe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Qe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...I(),iE]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",sE]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},cE]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...F(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:F()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...F()]}],"outline-offset":[{"outline-offset":[Yn,Qe]}],"outline-w":[{outline:[Yn,Sa]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:E()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Yn,Sa]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Aa,lE]}],"shadow-color":[{shadow:[$o]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...$(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":$()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Aa,Qe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Qe]}],duration:[{duration:V()}],ease:[{ease:["linear","in","out","in-out",Qe]}],delay:[{delay:V()}],animate:[{animate:["none","spin","ping","pulse","bounce",Qe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[Eo,Qe]}],"translate-x":[{"translate-x":[O]}],"translate-y":[{"translate-y":[O]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Qe]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Qe]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Qe]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Yn,Sa,lh]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},mE=ZC(hE);function Ye(...e){return mE(Ge(e))}const pE=hg("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),W=v.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},i)=>{const o=n?CC:"button";return a.jsx(o,{className:Ye(pE({variant:t,size:r,className:e})),ref:i,...s})});W.displayName="Button";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var gE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ne=(e,t)=>{const r=v.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:c="",children:l,...u},d)=>v.createElement("svg",{ref:d,...gE,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${vE(e)}`,c].join(" "),...u},[...t.map(([f,h])=>v.createElement(f,h)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=Ne("Accessibility",[["circle",{cx:"16",cy:"4",r:"1",key:"1grugj"}],["path",{d:"m18 19 1-7-6 1",key:"r0i19z"}],["path",{d:"m5 8 3-3 5.5 3-2.36 3.5",key:"9ptxx2"}],["path",{d:"M4.24 14.5a5 5 0 0 0 6.88 6",key:"10kmtu"}],["path",{d:"M13.76 17.5a5 5 0 0 0-6.88-6",key:"2qq6rc"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=Ne("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yi=Ne("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bi=Ne("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bE=Ne("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=Ne("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I1=Ne("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const au=Ne("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wE=Ne("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=Ne("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=Ne("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=Ne("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=Ne("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1=Ne("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1=Ne("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rc=Ne("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nc=Ne("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NE=Ne("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hr=Ne("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const su=Ne("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=Ne("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Do=Ne("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ui=Ne("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1=Ne("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=Ne("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=Ne("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=Ne("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=Ne("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=Ne("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=Ne("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AE=Ne("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OE=Ne("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _E=Ne("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gu=Ne("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uh=Ne("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=Ne("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=Ne("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pg=Ne("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ji=Ne("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ps=Ne("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=Ne("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gg=Ne("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1=Ne("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const di=Ne("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nn=Ne("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kE=Ne("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=Ne("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qr=Ne("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pm=Ne("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vg=Ne("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=Ne("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zo=Ne("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kr=Ne("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TE=Ne("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hc=Ne("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vu=Ne("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gm=Ne("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CE=Ne("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Io=Ne("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EE=Ne("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $E=Ne("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xu=Ne("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DE=Ne("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2",key:"187lwq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _r=Ne("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yu=Ne("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=Ne("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IE=Ne("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nr=Ne("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=Ne("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=Ne("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gr=Ne("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=Ne("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RE=Ne("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),LE=()=>{const{user:e,logout:t}=lo(),r=zd(),[n,s]=v.useState(!1),i=o=>r.pathname===o;return a.jsx("header",{className:"border-b bg-[#39653f] text-white",children:a.jsxs("div",{className:"container mx-auto px-4 py-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Er,{to:"/",className:"flex items-center space-x-2",children:a.jsx("img",{src:"/logo.png",alt:"晶順出國停車場",className:"h-8 w-auto"})}),a.jsxs("nav",{className:"hidden md:flex items-center space-x-6",children:[a.jsx(Er,{to:"/",className:`text-sm font-medium transition-colors hover:text-white/80 ${i("/")||i("/booking")?"text-white":"text-white/70"}`,children:"線上預約"}),a.jsx(Er,{to:"/lookup",className:`text-sm font-medium transition-colors hover:text-white/80 ${i("/lookup")?"text-white":"text-white/70"}`,children:"查詢預約"})]}),a.jsx("div",{className:"md:hidden",children:a.jsx(W,{variant:"ghost",size:"sm",className:"text-white hover:bg-white/10",onClick:()=>s(!n),children:n?a.jsx(qs,{className:"h-5 w-5"}):a.jsx(gg,{className:"h-5 w-5"})})}),a.jsx("div",{className:"flex items-center space-x-4",children:e?a.jsxs("div",{className:"flex items-center space-x-4",children:[e.role==="admin"&&a.jsx(Er,{to:"/admin/dashboard",children:a.jsx(W,{variant:"outline",size:"sm",className:"text-white bg-[#39653f] border-white hover:bg-white/10",children:"Admin Panel"})}),e.role==="staff"&&a.jsx(Er,{to:"/staff/dashboard",children:a.jsx(W,{variant:"outline",size:"sm",className:"text-white border-white hover:bg-white/10",children:"Staff Panel"})}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Nr,{className:"h-4 w-4 text-white"}),a.jsx("span",{className:"text-sm font-medium text-white",children:e.name}),e.isVIP&&a.jsx("span",{className:"bg-yellow-100 text-yellow-800 text-xs px-2 py-1 rounded-full",children:"VIP"})]}),a.jsx(W,{variant:"ghost",size:"sm",className:"text-white hover:bg-white/10",onClick:t,children:a.jsx(pg,{className:"h-4 w-4"})})]}):a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Er,{to:"/login",children:a.jsx(W,{variant:"ghost",size:"sm",className:"text-white hover:bg-white/10",children:"登入"})}),a.jsx(Er,{to:"/register",children:a.jsx(W,{size:"sm",className:"bg-white text-[#39653f] hover:bg-white/90",children:"註冊"})})]})})]}),n&&a.jsx("div",{className:"md:hidden border-t border-white/20 bg-[#39653f]",children:a.jsxs("div",{className:"px-4 py-2 space-y-1",children:[a.jsx(Er,{to:"/",className:`block px-3 py-2 rounded-md text-sm font-medium transition-colors ${i("/")||i("/booking")?"bg-white/20 text-white":"text-white/70 hover:text-white hover:bg-white/10"}`,onClick:()=>s(!1),children:"線上預約"}),a.jsx(Er,{to:"/lookup",className:`block px-3 py-2 rounded-md text-sm font-medium transition-colors ${i("/lookup")?"bg-white/20 text-white":"text-white/70 hover:text-white hover:bg-white/10"}`,onClick:()=>s(!1),children:"查詢預約"})]})})]})})},FE=()=>a.jsx("footer",{className:"bg-[#39653f] text-white",children:a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsxs("div",{className:"text-center space-y-6",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("img",{src:"/logo.png",alt:"晶順出國停車場",className:"h-12 w-auto"})}),a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx("p",{className:"text-white/90 leading-relaxed text-lg",children:"晶順出國停車場位於大園區，桃園機場外圍。我們提供多元化的停車服務，包括露天停車場與室內停車場，滿足不同出國的顧客需求。此外，我們還提供24小時免費機場接送服務，確保您從停車場到機場航廈的過程快速、安全、無縫銜接，讓您的旅程從一開始就充滿愉快與便利…"}),a.jsx("div",{className:"mt-4",children:a.jsx("a",{href:"https://jingparking.com/about-us/",target:"_blank",rel:"noopener noreferrer",className:"text-white font-semibold hover:text-white/80 transition-colors",children:"繼續了解我們"})})]})]})})}),BE=()=>a.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[a.jsx(LE,{}),a.jsx("main",{className:"flex-1 container mx-auto px-4 py-8",children:a.jsx(Ud,{})}),a.jsx(FE,{})]}),VE=()=>{const{logout:e,user:t}=lo(),r=zd(),[n,s]=D.useState(!1),i=()=>{e(),Y.success("登出成功")},c=(()=>{const u=[{path:"/admin",icon:V1,label:"儀表板",exact:!0,roles:["admin","staff"]},{path:"/admin/bookings",icon:Et,label:"預約",exact:!1,roles:["admin","staff"]}],d=[{path:"/admin/users",icon:aa,label:"用戶",exact:!1,roles:["admin"]},{path:"/admin/parking-types",icon:wE,label:"停車場",exact:!1,roles:["admin"]},{path:"/admin/services",icon:di,label:"附加服務",exact:!1,roles:["admin"]},{path:"/admin/discounts",icon:xu,label:"折扣碼",exact:!1,roles:["admin"]},{path:"/admin/notifications",icon:z1,label:"通知",exact:!1,roles:["admin"]},{path:"/admin/maintenance",icon:ME,label:"維護日期",exact:!1,roles:["admin"]},{path:"/admin/special-pricing",icon:la,label:"特殊價格",exact:!1,roles:["admin"]},{path:"/admin/manual-booking",icon:qr,label:"手動預約",exact:!1,roles:["admin","staff"]},{path:"/admin/today-overview",icon:Hr,label:"今日概覽",exact:!1,roles:["admin","staff"]},{path:"/admin/settings",icon:hc,label:"系統設定",exact:!1,roles:["admin"]}];return[...u,...d].filter(f=>f.roles.includes((t==null?void 0:t.role)||"user"))})(),l=(u,d=!1)=>d?r.pathname===u:r.pathname.startsWith(u);return a.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[n&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>s(!1)}),a.jsx("aside",{className:`
        fixed inset-y-0 left-0 z-50 w-64 bg-[#39653f] shadow-lg transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0
        ${n?"translate-x-0":"-translate-x-full"}
      `,children:a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/20",children:[a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx("img",{src:"/logo.png",alt:"晶順出國停車場",className:"h-8 w-auto"})}),a.jsx(W,{variant:"ghost",size:"sm",className:"lg:hidden text-white hover:bg-white/10",onClick:()=>s(!1),children:a.jsx(qs,{className:"h-4 w-4"})})]}),a.jsx("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:c.map(u=>{const d=u.icon;return a.jsxs(Er,{to:u.path,className:`
                    flex items-center space-x-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors
                    ${l(u.path,u.exact)?"bg-white/20 text-white border-r-2 border-white":"text-white/70 hover:bg-white/10 hover:text-white"}
                  `,onClick:()=>s(!1),children:[a.jsx(d,{className:"h-5 w-5"}),a.jsx("span",{children:u.label})]},u.path)})}),a.jsx("div",{className:"p-4 border-t border-white/20",children:a.jsxs(W,{variant:"ghost",className:"w-full justify-start text-white/70 hover:text-white hover:bg-white/10",onClick:i,children:[a.jsx(pg,{className:"h-5 w-5 mr-3"}),"登出"]})})]})}),a.jsxs("div",{className:"flex-1 flex flex-col lg:ml-0",children:[a.jsxs("header",{className:"bg-white shadow-sm border-b px-4 py-3 flex items-center justify-between",children:[a.jsx(W,{variant:"ghost",size:"sm",className:"lg:hidden",onClick:()=>s(!0),children:a.jsx(gg,{className:"h-5 w-5"})}),a.jsx("div",{className:"flex items-center space-x-4",children:a.jsxs("div",{className:"text-sm text-gray-600",children:["Chào mừng, ",(t==null?void 0:t.role)==="admin"?"Admin":"Staff"]})})]}),a.jsx("main",{className:"flex-1 p-6 overflow-auto",children:a.jsx(Ud,{})})]})]})},zE=()=>{const{logout:e}=lo(),t=zd(),[r,n]=D.useState(!1),s=()=>{e(),Y.success("登出成功")},i=[{path:"/staff",icon:V1,label:"儀表板",exact:!0},{path:"/staff/bookings",icon:Et,label:"預約",exact:!1}],o=(c,l=!1)=>l?t.pathname===c:t.pathname.startsWith(c);return a.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[r&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>n(!1)}),a.jsx("aside",{className:`
        fixed inset-y-0 left-0 z-50 w-64 bg-[#39653f] shadow-lg transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0
        ${r?"translate-x-0":"-translate-x-full"}
      `,children:a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/20",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("img",{src:"/logo.png",alt:"晶順出國停車場",className:"h-8 w-auto"}),a.jsx("span",{className:"text-lg font-semibold text-white",children:"晶順出國停車場"})]}),a.jsx(W,{variant:"ghost",size:"sm",className:"lg:hidden",onClick:()=>n(!1),children:a.jsx(qs,{className:"h-4 w-4"})})]}),a.jsx("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:i.map(c=>{const l=c.icon;return a.jsxs(Er,{to:c.path,className:`
                    flex items-center space-x-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors
                    ${o(c.path,c.exact)?"bg-white/20 text-white border-r-2 border-white":"text-white/70 hover:bg-white/10 hover:text-white"}
                  `,onClick:()=>n(!1),children:[a.jsx(l,{className:"h-5 w-5"}),a.jsx("span",{children:c.label})]},c.path)})}),a.jsx("div",{className:"p-4 border-t",children:a.jsxs(W,{variant:"ghost",className:"w-full justify-start text-white/70 hover:text-white hover:bg-white/10",onClick:s,children:[a.jsx(pg,{className:"h-5 w-5 mr-3"}),"Đăng xuất"]})})]})}),a.jsxs("div",{className:"flex-1 flex flex-col lg:ml-0",children:[a.jsxs("header",{className:"bg-white shadow-sm border-b px-4 py-3 flex items-center justify-between",children:[a.jsx(W,{variant:"ghost",size:"sm",className:"lg:hidden",onClick:()=>n(!0),children:a.jsx(gg,{className:"h-5 w-5"})}),a.jsx("div",{className:"flex items-center space-x-4",children:a.jsx("div",{className:"text-sm text-gray-600",children:"Chào mừng, Staff"})})]}),a.jsx("main",{className:"flex-1 p-6 overflow-auto",children:a.jsx(Ud,{})})]})]})},ue=v.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:Ye("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));ue.displayName="Card";const xe=v.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:Ye("flex flex-col space-y-1.5 p-6",e),...t}));xe.displayName="CardHeader";const ye=v.forwardRef(({className:e,...t},r)=>a.jsx("h3",{ref:r,className:Ye("text-2xl font-semibold leading-none tracking-tight",e),...t}));ye.displayName="CardTitle";const rt=v.forwardRef(({className:e,...t},r)=>a.jsx("p",{ref:r,className:Ye("text-sm text-muted-foreground",e),...t}));rt.displayName="CardDescription";const he=v.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:Ye("p-6 pt-0",e),...t}));he.displayName="CardContent";const UE=v.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:Ye("flex items-center p-6 pt-0",e),...t}));UE.displayName="CardFooter";const le=v.forwardRef(({className:e,type:t,...r},n)=>a.jsx("input",{type:t,className:Ye("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));le.displayName="Input";const or=e=>{const t=new Date(e),r=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0");return`${r}/${n}/${s}`},Xo=e=>{const t=new Date(e),r=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0"),i=t.getDay();return`${r}/${n}/${s} (星期${["天","一","二","三","四","五","六"][i]})`},$t=e=>{const t=new Date(e),r=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0"),i=String(t.getHours()).padStart(2,"0"),o=String(t.getMinutes()).padStart(2,"0");return`${r}/${n}/${s} ${i}:${o}`},Mo=(e,t)=>{const r=or(e),n=or(t);return r===n?r:`${r} - ${n}`},wi=e=>new Date(e).toISOString().slice(0,16),Ni=e=>new Date(e).toISOString().split("T")[0],U1=e=>e?new Date(e).toISOString():"",W1=e=>{if(!e)return"";const[t,r,n]=e.split("-").map(Number);return new Date(Date.UTC(t,r-1,n)).toISOString()},$x=({id:e,value:t,onChange:r,min:n,max:s,className:i="",placeholder:o,type:c="datetime-local"})=>{const[l,u]=v.useState(!1),[d,f]=v.useState(""),[h,p]=v.useState(""),g=v.useRef(null),m=v.useRef(null);v.useEffect(()=>{f(t?c==="datetime-local"?$t(t):or(t):"")},[t,c]),v.useEffect(()=>{h&&l&&f(c==="datetime-local"?$t(h):or(h))},[h,l,c]),v.useEffect(()=>{const j=A=>{m.current&&!m.current.contains(A.target)&&g.current&&!g.current.contains(A.target)&&u(!1)};return document.addEventListener("mousedown",j),()=>document.removeEventListener("mousedown",j)},[]);const x=()=>{u(!0),p(t)},b=j=>{const A=j.target.value;if(f(A),A.includes("/"))try{const O=A.split(" "),P=O[0],T=O[1]||(c==="datetime-local"?"00:00":"");if(P.includes("/")){const[_,k,E]=P.split("/");if(_&&k&&E){let C;if(c==="datetime-local"){const[I,F]=T.split(":");C=new Date(parseInt(_),parseInt(k)-1,parseInt(E),parseInt(I||"0"),parseInt(F||"0")).toISOString()}else C=new Date(parseInt(_),parseInt(k)-1,parseInt(E)).toISOString();isNaN(new Date(C).getTime())||r(C)}}}catch(O){console.error("Error parsing date:",O)}},y=j=>{const A=j.target.value;if(c==="datetime-local"){const O=U1(A);p(O),r(O)}else{const O=W1(A);r(O),u(!1)}},w=()=>{const j=h||t;return j?c==="datetime-local"?wi(j):Ni(j):""},S=()=>{if(n)return c==="datetime-local"?wi(n):Ni(n)},N=()=>{if(s)return c==="datetime-local"?wi(s):Ni(s)};return a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:"relative",children:[a.jsx(le,{ref:g,id:e,type:"text",value:d,onChange:b,onClick:x,placeholder:o||(c==="datetime-local"?"年/月/日 00:00":"年/月/日"),className:i,style:{fontFamily:"monospace",cursor:"pointer"}}),a.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:c==="datetime-local"?a.jsx(Hr,{className:"h-4 w-4 text-gray-400"}):a.jsx(Et,{className:"h-4 w-4 text-gray-400"})})]}),l&&a.jsx("div",{ref:m,className:"absolute top-full left-0 z-50 mt-1 bg-white border border-gray-300 rounded-md shadow-lg p-4 min-w-[300px]",children:a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"text-sm font-medium text-gray-700",children:c==="datetime-local"?"選擇日期和時間":"選擇日期"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-xs text-gray-600",children:"使用原生選擇器:"}),a.jsx("input",{type:c,value:w(),onChange:y,min:S(),max:N(),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),h&&a.jsxs("div",{className:"text-xs text-gray-500",children:["當前選擇: ",c==="datetime-local"?$t(h):or(h)]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-xs text-gray-600",children:"或直接輸入 (yyyy/mm/dd):"}),a.jsx("input",{type:"text",value:h?c==="datetime-local"?$t(h):or(h):d,onChange:b,placeholder:c==="datetime-local"?"年/月/日 00:00":"年/月/日",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono"})]}),a.jsxs("div",{className:"flex justify-end space-x-2 pt-2",children:[a.jsx("button",{type:"button",onClick:()=>{p(""),u(!1)},className:"px-3 py-1 text-sm text-gray-600 hover:text-gray-800",children:"取消"}),a.jsx("button",{type:"button",onClick:()=>{h&&r(h),p(""),u(!1)},className:"px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700",children:"完成"})]})]})})]})};function Dx(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function H1(...e){return t=>{let r=!1;const n=e.map(s=>{const i=Dx(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():Dx(e[s],null)}}}}function WE(...e){return v.useCallback(H1(...e),e)}var q1=v.forwardRef((e,t)=>{const{children:r,...n}=e,s=v.Children.toArray(r),i=s.find(qE);if(i){const o=i.props.children,c=s.map(l=>l===i?v.Children.count(o)>1?v.Children.only(null):v.isValidElement(o)?o.props.children:null:l);return a.jsx(vm,{...n,ref:t,children:v.isValidElement(o)?v.cloneElement(o,void 0,c):null})}return a.jsx(vm,{...n,ref:t,children:r})});q1.displayName="Slot";var vm=v.forwardRef((e,t)=>{const{children:r,...n}=e;if(v.isValidElement(r)){const s=GE(r),i=KE(n,r.props);return r.type!==v.Fragment&&(i.ref=t?H1(t,s):s),v.cloneElement(r,i)}return v.Children.count(r)>1?v.Children.only(null):null});vm.displayName="SlotClone";var HE=({children:e})=>a.jsx(a.Fragment,{children:e});function qE(e){return v.isValidElement(e)&&e.type===HE}function KE(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...c)=>{i(...c),s(...c)}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function GE(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var ZE=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],gl=ZE.reduce((e,t)=>{const r=v.forwardRef((n,s)=>{const{asChild:i,...o}=n,c=i?q1:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...o,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),XE="Label",K1=v.forwardRef((e,t)=>a.jsx(gl.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));K1.displayName=XE;var G1=K1;const YE=hg("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Z=v.forwardRef(({className:e,...t},r)=>a.jsx(G1,{ref:r,className:Ye(YE(),e),...t}));Z.displayName=G1.displayName;const JE=hg("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Le({className:e,variant:t,...r}){return a.jsx("div",{className:Ye(JE({variant:t}),e),...r})}function Ix(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function QE(...e){return t=>{let r=!1;const n=e.map(s=>{const i=Ix(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():Ix(e[s],null)}}}}function xg(...e){return v.useCallback(QE(...e),e)}function e$(e,t=[]){let r=[];function n(i,o){const c=v.createContext(o),l=r.length;r=[...r,o];const u=f=>{var b;const{scope:h,children:p,...g}=f,m=((b=h==null?void 0:h[e])==null?void 0:b[l])||c,x=v.useMemo(()=>g,Object.values(g));return a.jsx(m.Provider,{value:x,children:p})};u.displayName=i+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[l])||c,g=v.useContext(p);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(o=>v.createContext(o));return function(c){const l=(c==null?void 0:c[e])||i;return v.useMemo(()=>({[`__scope${e}`]:{...c,[e]:l}}),[c,l])}};return s.scopeName=e,[n,t$(s,...t)]}function t$(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((c,{useScope:l,scopeName:u})=>{const f=l(i)[`__scope${u}`];return{...c,...f}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function Mx(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}var bu=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},r$=Ws[" useInsertionEffect ".trim().toString()]||bu;function n$({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,i,o]=a$({defaultProp:t,onChange:r}),c=e!==void 0,l=c?e:s;{const d=v.useRef(e!==void 0);v.useEffect(()=>{const f=d.current;f!==c&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=c},[c,n])}const u=v.useCallback(d=>{var f;if(c){const h=s$(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else i(d)},[c,e,i,o]);return[l,u]}function a$({defaultProp:e,onChange:t}){const[r,n]=v.useState(e),s=v.useRef(r),i=v.useRef(t);return r$(()=>{i.current=t},[t]),v.useEffect(()=>{var o;s.current!==r&&((o=i.current)==null||o.call(i,r),s.current=r)},[r,s]),[r,n,i]}function s$(e){return typeof e=="function"}function i$(e){const t=v.useRef({value:e,previous:e});return v.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function o$(e){const[t,r]=v.useState(void 0);return bu(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,c;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,c=u.blockSize}else o=e.offsetWidth,c=e.offsetHeight;r({width:o,height:c})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}function c$(e,t){return v.useReducer((r,n)=>t[r][n]??r,e)}var Z1=e=>{const{present:t,children:r}=e,n=l$(t),s=typeof r=="function"?r({present:n.isPresent}):v.Children.only(r),i=xg(n.ref,u$(s));return typeof r=="function"||n.isPresent?v.cloneElement(s,{ref:i}):null};Z1.displayName="Presence";function l$(e){const[t,r]=v.useState(),n=v.useRef(null),s=v.useRef(e),i=v.useRef("none"),o=e?"mounted":"unmounted",[c,l]=c$(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const u=Cl(n.current);i.current=c==="mounted"?u:"none"},[c]),bu(()=>{const u=n.current,d=s.current;if(d!==e){const h=i.current,p=Cl(u);e?l("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,l]),bu(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const m=Cl(n.current).includes(p.animationName);if(p.target===t&&m&&(l("ANIMATION_END"),!s.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},h=p=>{p.target===t&&(i.current=Cl(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:v.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Cl(e){return(e==null?void 0:e.animationName)||"none"}function u$(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var d$=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],yg=d$.reduce((e,t)=>{const r=an(`Primitive.${t}`),n=v.forwardRef((s,i)=>{const{asChild:o,...c}=s,l=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(l,{...c,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),ef="Checkbox",[f$,lle]=e$(ef),[h$,bg]=f$(ef);function m$(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:s,disabled:i,form:o,name:c,onCheckedChange:l,required:u,value:d="on",internal_do_not_use_render:f}=e,[h,p]=n$({prop:r,defaultProp:s??!1,onChange:l,caller:ef}),[g,m]=v.useState(null),[x,b]=v.useState(null),y=v.useRef(!1),w=g?!!o||!!g.closest("form"):!0,S={checked:h,disabled:i,setChecked:p,control:g,setControl:m,name:c,form:o,value:d,hasConsumerStoppedPropagationRef:y,required:u,defaultChecked:Ra(s)?!1:s,isFormControl:w,bubbleInput:x,setBubbleInput:b};return a.jsx(h$,{scope:t,...S,children:p$(f)?f(S):n})}var X1="CheckboxTrigger",Y1=v.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},s)=>{const{control:i,value:o,disabled:c,checked:l,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:p,bubbleInput:g}=bg(X1,e),m=xg(s,d),x=v.useRef(l);return v.useEffect(()=>{const b=i==null?void 0:i.form;if(b){const y=()=>f(x.current);return b.addEventListener("reset",y),()=>b.removeEventListener("reset",y)}},[i,f]),a.jsx(yg.button,{type:"button",role:"checkbox","aria-checked":Ra(l)?"mixed":l,"aria-required":u,"data-state":rN(l),"data-disabled":c?"":void 0,disabled:c,value:o,...n,ref:m,onKeyDown:Mx(t,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:Mx(r,b=>{f(y=>Ra(y)?!0:!y),g&&p&&(h.current=b.isPropagationStopped(),h.current||b.stopPropagation())})})});Y1.displayName=X1;var jg=v.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:i,required:o,disabled:c,value:l,onCheckedChange:u,form:d,...f}=e;return a.jsx(m$,{__scopeCheckbox:r,checked:s,defaultChecked:i,disabled:c,required:o,onCheckedChange:u,name:n,form:d,value:l,internal_do_not_use_render:({isFormControl:h})=>a.jsxs(a.Fragment,{children:[a.jsx(Y1,{...f,ref:t,__scopeCheckbox:r}),h&&a.jsx(tN,{__scopeCheckbox:r})]})})});jg.displayName=ef;var J1="CheckboxIndicator",Q1=v.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...s}=e,i=bg(J1,r);return a.jsx(Z1,{present:n||Ra(i.checked)||i.checked===!0,children:a.jsx(yg.span,{"data-state":rN(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});Q1.displayName=J1;var eN="CheckboxBubbleInput",tN=v.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:o,required:c,disabled:l,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:p}=bg(eN,e),g=xg(r,p),m=i$(i),x=o$(n);v.useEffect(()=>{const y=h;if(!y)return;const w=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(w,"checked").set,j=!s.current;if(m!==i&&N){const A=new Event("click",{bubbles:j});y.indeterminate=Ra(i),N.call(y,Ra(i)?!1:i),y.dispatchEvent(A)}},[h,m,i,s]);const b=v.useRef(Ra(i)?!1:i);return a.jsx(yg.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??b.current,required:c,disabled:l,name:u,value:d,form:f,...t,tabIndex:-1,ref:g,style:{...t.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});tN.displayName=eN;function p$(e){return typeof e=="function"}function Ra(e){return e==="indeterminate"}function rN(e){return Ra(e)?"indeterminate":e?"checked":"unchecked"}const $a=v.forwardRef(({className:e,...t},r)=>a.jsx(jg,{ref:r,className:Ye("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:a.jsx(Q1,{className:Ye("flex items-center justify-center text-current"),children:a.jsx(M1,{className:"h-4 w-4"})})}));$a.displayName=jg.displayName;const rr=v.forwardRef(({className:e,...t},r)=>a.jsx("textarea",{className:Ye("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...t}));rr.displayName="Textarea";var g$=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],v$=g$.reduce((e,t)=>{const r=an(`Primitive.${t}`),n=v.forwardRef((s,i)=>{const{asChild:o,...c}=s,l=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(l,{...c,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),x$="Separator",Rx="horizontal",y$=["horizontal","vertical"],nN=v.forwardRef((e,t)=>{const{decorative:r,orientation:n=Rx,...s}=e,i=b$(n)?n:Rx,c=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return a.jsx(v$.div,{"data-orientation":i,...c,...s,ref:t})});nN.displayName=x$;function b$(e){return y$.includes(e)}var aN=nN;const fs=v.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},s)=>a.jsx(aN,{ref:s,decorative:r,orientation:t,className:Ye("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));fs.displayName=aN.displayName;const j$=async e=>(await Ae.post("/bookings/calculate-price",e)).data,w$=async e=>(await Ae.post("/bookings",e)).data,N$=async(e,t)=>{const r={};return e&&(r.phone=e),t&&(r.licensePlate=t),(await Ae.get("/bookings/search",{params:r})).data.bookings},S$=async e=>(await Ae.get(`/bookings/${e}`)).data.booking,A$=async()=>(await Ae.get("/parking")).data.parkingTypes,O$=async()=>(await Ae.get("/addon-services")).data.services,_$=async()=>(await Ae.get("/admin/dashboard")).data,P$=async e=>(await Ae.get(`/admin/bookings/stats/${e}`)).data,k$=async()=>(await Ae.get("/admin/parking-types/stats")).data.parkingTypes,T$=async()=>(await Ae.get("/admin/parking/current-status")).data,Lx=async e=>(await Ae.get("/admin/bookings",{params:e})).data,C$=async(e,t)=>(await Ae.patch(`/admin/bookings/${e}/status`,{status:t})).data,E$=async e=>(await Ae.get("/admin/users",{params:e})).data,Fx=async(e,t,r)=>{console.log("🔍 Frontend VIP Update Request:",{userId:e,isVIP:t,vipDiscount:r,url:`/admin/users/${e}/vip`,data:{isVIP:t,vipDiscount:r}});const n=await Ae.patch(`/admin/users/${e}/vip`,{isVIP:t,vipDiscount:r});return console.log("🔍 Frontend VIP Update Response:",n.data),n.data},dh=async(e,t)=>(await Ae.put(`/admin/users/${e}`,t)).data,$$=async e=>{try{return(await Ae.get(`/admin/users/${e}/stats`)).data}catch(t){throw console.error("Error getting user stats:",t),t}},D$=async e=>(await Ae.post("/admin/users",e)).data,I$=async e=>(await Ae.delete(`/admin/users/${e}`)).data,tf=async()=>(await Ae.get("/admin/parking-types")).data,M$=async e=>(await Ae.post("/admin/parking-types",e)).data,R$=async(e,t)=>(await Ae.put(`/admin/parking-types/${e}`,t)).data,L$=async e=>(await Ae.delete(`/admin/parking-types/${e}`)).data,sN=async e=>(await Ae.get("/admin/addon-services",{params:e})).data,F$=async e=>(await Ae.post("/admin/addon-services",e)).data,B$=async(e,t)=>(await Ae.put(`/admin/addon-services/${e}`,t)).data,V$=async e=>(await Ae.delete(`/admin/addon-services/${e}`)).data,z$=async e=>(await Ae.get("/admin/discount-codes",{params:e})).data,U$=async e=>(await Ae.post("/admin/discount-codes",e)).data,W$=async(e,t)=>(await Ae.put(`/admin/discount-codes/${e}`,t)).data,H$=async e=>(await Ae.delete(`/admin/discount-codes/${e}`)).data,q$=async e=>(await Ae.post("/admin/bookings/manual",e)).data,K$=async()=>(await Ae.get("/admin/terms")).data,Bx=async(e,t)=>(await Ae.put(`/admin/terms/${e}`,t)).data,G$=async e=>(await Ae.post("/admin/terms/save-all",e)).data,Z$=async e=>(await Ae.get("/admin/notification-templates",{params:e})).data,X$=async e=>(await Ae.post("/admin/notification-templates",e)).data,Y$=async(e,t)=>(await Ae.put(`/admin/notification-templates/${e}`,t)).data,J$=async e=>(await Ae.delete(`/admin/notification-templates/${e}`)).data,Q$=async e=>(await Ae.post("/admin/notifications/test",e)).data,eD=async e=>(await Ae.post("/admin/notifications/bulk",e)).data,tD=async()=>(await Ae.get("/admin/notifications/stats")).data,rD=async(e,t)=>(await Ae.post(`/admin/parking-types/${e}/special-prices`,t)).data,Vx=async(e,t,r)=>(await Ae.post(`/admin/parking-types/${e}/special-prices/bulk`,{specialPrices:t,forceOverride:r})).data,zx=async(e,t,r)=>(await Ae.put(`/admin/parking-types/${e}/special-prices/${t}`,r)).data,Ux=async(e,t)=>(await Ae.delete(`/admin/parking-types/${e}/special-prices/${t}`)).data,nD=async e=>(await Ae.get(`/admin/parking-types/${e}/special-prices`)).data,aD=async()=>(await Ae.get("/bookings/today/summary")).data,wg=async()=>(await Ae.get("/system-settings")).data.settings,sD=async e=>(await Ae.put("/admin/settings",e)).data,iD=async e=>(await Ae.put("/admin/settings",e)).data,oD=async e=>(await Ae.get("/maintenance",{params:e})).data,cD=async e=>(await Ae.post("/maintenance",e)).data,lD=async(e,t)=>(await Ae.put(`/maintenance/${e}`,t)).data,uD=async e=>(await Ae.delete(`/maintenance/${e}`)).data,iN=async(e,t,r)=>{try{const i=((await Ae.get(`/maintenance/check/range?startDate=${t}&endDate=${r}`)).data.maintenanceDays||[]).filter(o=>{const c=o.isActive,l=o.affectedParkingTypes.some(p=>p._id===e),u=new Date(o.date);u.setHours(0,0,0,0);const d=new Date(t);d.setHours(0,0,0,0);const f=new Date(r);f.setHours(23,59,59,999);const h=u>=d&&u<=f;return c&&l&&h});return{hasMaintenance:i.length>0,maintenanceDays:i}}catch(n){return console.error("Error checking maintenance:",n),{hasMaintenance:!1,maintenanceDays:[]}}},oN=({images:e,showFullscreen:t=!0,className:r=""})=>{const[n,s]=v.useState(0),[i,o]=v.useState(!1),c=()=>{s(p=>p===0?e.length-1:p-1)},l=()=>{s(p=>(p+1)%e.length)},u=p=>{s(p)},d=()=>{o(!0)},f=()=>{o(!1)};if(!e||e.length===0)return a.jsx("div",{className:`flex items-center justify-center bg-gray-100 rounded-lg h-48 ${r}`,children:a.jsxs("div",{className:"text-center text-gray-500",children:[a.jsx("div",{className:"text-4xl mb-2",children:"📷"}),a.jsx("p",{children:"暫無圖片"})]})});const h=e[n];return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:`relative ${r}`,children:[a.jsxs("div",{className:"relative aspect-video overflow-hidden rounded-lg bg-gray-100",children:[a.jsx("img",{src:h.url,alt:h.originalName,className:"w-full h-full object-cover",onError:p=>{const g=p.target;g.src="/logo.png"}}),e.length>1&&a.jsxs(a.Fragment,{children:[a.jsx(W,{variant:"outline",size:"icon",className:"absolute left-2 top-1/2 transform -translate-y-1/2 bg-white/80 hover:bg-white",onClick:c,children:a.jsx(rc,{className:"h-4 w-4"})}),a.jsx(W,{variant:"outline",size:"icon",className:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-white/80 hover:bg-white",onClick:l,children:a.jsx(nc,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"absolute top-2 right-2 bg-black/50 text-white px-2 py-1 rounded text-sm",children:[n+1," / ",e.length]}),t&&a.jsx(W,{variant:"outline",size:"sm",className:"absolute bottom-2 right-2 bg-white/80 hover:bg-white",onClick:d,children:a.jsx(PE,{className:"h-4 w-4"})})]}),e.length>1&&a.jsx("div",{className:"flex space-x-2 mt-3 overflow-x-auto",children:e.map((p,g)=>a.jsx("button",{className:`flex-shrink-0 w-16 h-12 rounded overflow-hidden border-2 transition-all ${g===n?"border-blue-500 ring-2 ring-blue-200":"border-gray-200 hover:border-gray-300"}`,onClick:()=>u(g),children:a.jsx("img",{src:p.thumbnailUrl||p.url,alt:p.originalName,className:"w-full h-full object-cover",onError:m=>{const x=m.target;x.src="/logo.png"}})},p._id))})]}),i&&a.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-90 flex items-center justify-center",onClick:f,children:a.jsxs("div",{className:"relative w-full h-full flex items-center justify-center p-4",onClick:p=>p.stopPropagation(),children:[a.jsx(W,{variant:"outline",size:"icon",className:"absolute top-4 right-4 bg-white/80 hover:bg-white z-10",onClick:f,children:a.jsx(qs,{className:"h-4 w-4"})}),a.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[a.jsx("img",{src:h.url,alt:h.originalName,className:"max-w-full max-h-full object-contain",onError:p=>{const g=p.target;g.src="/logo.png"}}),e.length>1&&a.jsxs(a.Fragment,{children:[a.jsx(W,{variant:"outline",size:"icon",className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-white/80 hover:bg-white",onClick:c,children:a.jsx(rc,{className:"h-4 w-4"})}),a.jsx(W,{variant:"outline",size:"icon",className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-white/80 hover:bg-white",onClick:l,children:a.jsx(nc,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-black/50 text-white px-3 py-1 rounded text-sm",children:[n+1," / ",e.length]})]})]})})]})},Wx=()=>{var ke;const e=Wd(),[t,r]=v.useState(1),[n,s]=v.useState(!1),[i,o]=v.useState(null);console.log(i,"systemSettings");const[c,l]=v.useState([]),[u,d]=v.useState([]),[f,h]=v.useState([]);console.log(f,"availableSlots");const[p,g]=v.useState(null),[m,x]=v.useState(null),[b,y]=v.useState(!1),[w,S]=v.useState(null),[N,j]=v.useState(null),[A,O]=v.useState(!1),[P,T]=v.useState(""),[_,k]=v.useState(!1),[E,C]=v.useState([]);console.log(E,"conflictingDays");const[I,F]=v.useState(""),[$,q]=v.useState(""),[M,J]=v.useState([]),[V,z]=v.useState({agreedToTerms:!1,parkingTypeId:"",checkInTime:"",checkOutTime:"",selectedAddonServices:[],discountCode:"",driverName:"",phone:"",email:"",licensePlate:"",passengerCount:1,luggageCount:0,termsAccepted:!1}),[B,G]=v.useState(!1),[ce,we]=v.useState(null),[pe,Oe]=v.useState(3);v.useEffect(()=>{R()},[]);const R=async()=>{try{s(!0),j(null);const[re,Ce,te]=await Promise.all([wg(),A$(),O$()]);o(re),console.log(re,"settings"),l(Array.isArray(Ce)?Ce:[]),d(Array.isArray(te)?te:[]),F((re==null?void 0:re.bookingTerms)||""),q((re==null?void 0:re.bookingRules)||""),Oe((re==null?void 0:re.minBookingDays)||3);const me=JSON.parse(localStorage.getItem("user")||"{}");y(me.isVIP||!1)}catch(re){console.error("Error loading initial data:",re),j("無法載入系統資料"),Y.error("無法載入系統資料"),l([]),d([])}finally{s(!1)}};v.useEffect(()=>{V.parkingTypeId&&V.checkInTime&&V.checkOutTime?(de(),fe(),ee()):(h([]),g(null),C([]),J([]),G(!1),we(null))},[V.parkingTypeId,V.checkInTime,V.checkOutTime]),v.useEffect(()=>{const re=setTimeout(()=>{V.email&&Se(V.email)},1e3);return()=>clearTimeout(re)},[V.email]);const de=async()=>{try{const Ce=(await Ae.post("/bookings/check-availability",{parkingTypeId:V.parkingTypeId,checkInTime:V.checkInTime,checkOutTime:V.checkOutTime})).data;if(Ce.success)h(Ce.availableSlots),g(Ce.pricing),C([]);else{h([]),g(null);const te=await Me();C(te),Y.error(Ce.message||"停車場在此時間段已滿")}}catch(re){console.error("Error checking availability:",re),Y.error("檢查可用性時發生錯誤")}},fe=async()=>{if(!(!V.parkingTypeId||!V.checkInTime||!V.checkOutTime))try{const re=await iN(V.parkingTypeId,V.checkInTime,V.checkOutTime);J(re.maintenanceDays),re.hasMaintenance&&Y.error("此停車場在選定時間內正在維護")}catch(re){console.error("Error checking maintenance:",re)}},ee=async()=>{if(!(!V.checkInTime||!V.checkOutTime||!V.parkingTypeId))try{const re=new Date(V.checkInTime),Ce=new Date(V.checkOutTime),te=new Date(re),me=[],Be=[];for(;te<=Ce;){const U=te.toISOString().split("T")[0];try{(await Ae.post("/bookings/check-availability",{parkingTypeId:V.parkingTypeId,checkInTime:`${U}T00:00:00.000Z`,checkOutTime:`${U}T23:59:59.999Z`})).data.success?Be.push({date:U,formattedDate:Xo(te)}):me.push({date:U,formattedDate:Xo(te)})}catch(ie){console.error("Error checking day availability:",ie),me.push({date:U,formattedDate:Xo(te)})}te.setDate(te.getDate()+1)}me.length>0?(G(!0),we({conflictingDates:me,availableDates:Be,totalDays:Math.ceil((Ce.getTime()-re.getTime())/(1e3*60*60*24))+1,conflictingDays:me.length,availableDays:Be.length})):(G(!1),we(null))}catch(re){console.error("Error checking date range availability:",re)}},Me=async()=>{if(!V.checkInTime||!V.checkOutTime)return[];const re=[],Ce=new Date(V.checkInTime),te=new Date(V.checkOutTime),me=new Date(Ce);for(;me<=te;){const Be=me.toISOString().split("T")[0];try{(await Ae.post("/bookings/check-availability",{parkingTypeId:V.parkingTypeId,checkInTime:`${Be}T00:00:00.000Z`,checkOutTime:`${Be}T23:59:59.999Z`})).data.success||re.push(Be)}catch(U){console.error("Error checking day availability:",U),re.push(Be)}me.setDate(me.getDate()+1)}return re},Se=async re=>{if(!(!re||!re.includes("@")))try{const Ce=JSON.parse(localStorage.getItem("user")||"{}");if(Ce.email===re&&Ce.isVIP){S(Ce),y(!0),Y.success(`🎉 歡迎VIP會員！您享有${Ce.vipDiscount||0}%折扣！`);return}const te=await N1(re);te.success&&te.user&&te.user.isVIP?(S(te.user),y(!0),Y.success(`🎉 歡迎VIP會員！您享有${te.user.vipDiscount||0}%折扣！`)):(S(null),y(!1))}catch(Ce){console.error("Error checking VIP status:",Ce),S(null),y(!1)}},tt=async()=>{if(!P.trim()){Y.error("請輸入VIP碼");return}k(!0);try{const re=await MT(P.trim());re.success&&re.user&&re.user.isVIP?(S(re.user),y(!0),O(!1),T(""),z(Ce=>({...Ce,driverName:re.user.name,email:re.user.email,phone:re.user.phone,licensePlate:re.user.licensePlate||""})),Y.success(`🎉 歡迎VIP會員！您享有${re.user.vipDiscount||0}%折扣！`)):(Y.error(re.message||"VIP碼無效"),S(null),y(!1))}catch(re){console.error("Error checking VIP code:",re),Y.error("檢查VIP碼時發生錯誤"),S(null),y(!1)}finally{k(!1)}},nt=async()=>{var re,Ce,te,me;if(!((re=V.discountCode)!=null&&re.trim())){Y.error("請輸入折扣碼");return}if(!V.parkingTypeId||!V.checkInTime||!V.checkOutTime){Y.error("請在應用折扣碼之前選擇停車場和時間");return}try{const Be=JSON.parse(localStorage.getItem("user")||"{}"),ie=(await Ae.post("/bookings/apply-discount",{discountCode:V.discountCode,parkingTypeId:V.parkingTypeId,checkInTime:V.checkInTime,checkOutTime:V.checkOutTime,addonServices:V.selectedAddonServices,isVIP:b,userEmail:V.email||Be.email})).data;ie.success?(x(ie.discountInfo),Y.success("折扣碼應用成功！")):(Y.error(ie.message||"折扣碼無效"),x(null))}catch(Be){if(console.error("Error applying discount:",Be),((Ce=Be.response)==null?void 0:Ce.status)===401)Y.error("請登入以使用折扣碼");else{const U=((me=(te=Be.response)==null?void 0:te.data)==null?void 0:me.message)||Be.message||"無法應用折扣碼";Y.error(U)}x(null)}},ze=async()=>{var re,Ce,te,me,Be,U,ie;if(!V.termsAccepted){Y.error("您必須同意條款");return}if(!V.parkingTypeId){Y.error("請選擇停車場類型");return}if(!V.checkInTime||!V.checkOutTime){Y.error("請選擇預約時間");return}if(V.checkInTime&&V.checkOutTime){const Ve=new Date(V.checkInTime),Ee=new Date(V.checkOutTime),Je=Math.abs(Ee.getTime()-Ve.getTime()),kt=Math.ceil(Je/(1e3*60*60*24));if(kt<pe){Y.error(`最少需要預約 ${pe} 天，您選擇了 ${kt} 天`);return}}if(!V.driverName||!V.phone||!V.email||!V.licensePlate){Y.error("請填寫完整的個人資料");return}try{s(!0);const Ve={parkingTypeId:V.parkingTypeId,checkInTime:V.checkInTime,checkOutTime:V.checkOutTime,driverName:V.driverName,phone:V.phone,email:V.email,licensePlate:V.licensePlate,passengerCount:V.passengerCount,luggageCount:V.luggageCount,addonServices:V.selectedAddonServices,discountCode:V.discountCode,termsAccepted:V.termsAccepted,departureTerminal:V.departureTerminal,returnTerminal:V.returnTerminal},Ee=await w$(Ve);console.log("Booking result:",Ee);const Je={bookingId:Ee.booking._id,bookingNumber:Ee.booking.bookingNumber||`BK${Ee.booking._id.slice(-6).toUpperCase()}`,parkingType:{name:((re=Ee.booking.parkingType)==null?void 0:re.name)||"Unknown",type:((Ce=Ee.booking.parkingType)==null?void 0:Ce.type)||"indoor",location:((te=Ee.booking.parkingType)==null?void 0:te.location)||""},driverName:Ee.booking.driverName,phone:Ee.booking.phone,email:Ee.booking.email,licensePlate:Ee.booking.licensePlate,checkInTime:Ee.booking.checkInTime,checkOutTime:Ee.booking.checkOutTime,durationDays:Ee.booking.durationDays||1,totalAmount:Ee.booking.totalAmount,isVIP:Ee.booking.isVIP,vipDiscount:Ee.booking.vipDiscount,finalAmount:Ee.booking.finalAmount,addonServices:((me=Ee.booking.addonServices)==null?void 0:me.map(kt=>{var Jt,ar,Vt;return{name:((Jt=kt.service)==null?void 0:Jt.name)||"Unknown Service",price:((ar=kt.service)==null?void 0:ar.price)||0,icon:((Vt=kt.service)==null?void 0:Vt.icon)||"🔧"}}))||[],discountAmount:Ee.booking.discountAmount||0,paymentMethod:Ee.booking.paymentMethod||"cash",status:Ee.booking.status,passengerCount:Ee.booking.passengerCount,departureTerminal:Ee.booking.departureTerminal,returnTerminal:Ee.booking.returnTerminal};e("/booking-confirmation",{state:{bookingData:Je,pricing:p,discountInfo:m}})}catch(Ve){if(console.error("Error creating booking:",Ve),((Be=Ve.response)==null?void 0:Be.status)===401)Y.error("請登入以創建預約");else{const Ee=((ie=(U=Ve.response)==null?void 0:U.data)==null?void 0:ie.message)||Ve.message||"無法創建預約";Y.error(Ee)}}finally{s(!1)}},L=re=>re.icon?re.icon:{indoor:"🏢",outdoor:"☀️",disabled:"♿"}[re.type]||"🚗",X=re=>{const Ce={indoor:{label:"室內",color:"bg-blue-100 text-blue-800 border-blue-200"},outdoor:{label:"戶外",color:"bg-green-100 text-green-800 border-green-200"},disabled:{label:"無障礙",color:"bg-orange-100 text-orange-800 border-orange-200"}},te=Ce[re]||Ce.indoor;return a.jsx(Le,{variant:"outline",className:te.color,children:te.label})},Q=re=>re==null?"0 TWD":re.toLocaleString("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0,maximumFractionDigits:0}),K=re=>re==null?"":typeof re=="string"?re:typeof re=="number"?re.toString():typeof re=="object"?(console.warn("Attempting to render object as text:",re),"[Object]"):String(re),ae=[{id:1,title:"條款",icon:a.jsx(bs,{className:"h-4 w-4"})},{id:2,title:"選擇停車場",icon:a.jsx(Ps,{className:"h-4 w-4"})},{id:3,title:"服務",icon:a.jsx(gm,{className:"h-4 w-4"})},{id:4,title:"個人資料",icon:a.jsx(Nr,{className:"h-4 w-4"})}],oe=()=>{var re,Ce;switch(t){case 1:return a.jsx("div",{className:"space-y-6",children:a.jsxs(ue,{className:"border-0 shadow-lg",children:[a.jsx(xe,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-b",children:a.jsxs(ye,{className:"flex items-center space-x-3 text-blue-900",children:[a.jsx(vu,{className:"h-6 w-6 text-blue-600"}),a.jsx("span",{children:"條款和規定"})]})}),a.jsxs(he,{className:"p-6 space-y-6",children:[a.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:"請在預約停車位之前仔細閱讀規定和條款。"}),a.jsxs("div",{className:"space-y-6",children:[I&&a.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[a.jsxs("h4",{className:"font-semibold mb-3 text-blue-800 flex items-center",children:[a.jsx(bs,{className:"h-4 w-4 mr-2"}),"預約條款"]}),a.jsx("div",{className:"whitespace-pre-line text-sm leading-relaxed text-gray-700",children:I})]}),$&&a.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[a.jsxs("h4",{className:"font-semibold mb-3 text-green-800 flex items-center",children:[a.jsx(vu,{className:"h-4 w-4 mr-2"}),"預約規定"]}),a.jsx("div",{className:"whitespace-pre-line text-sm leading-relaxed text-gray-700",children:$})]}),!I&&!$&&a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold mb-3 text-blue-800",children:"一般規定"}),a.jsxs("div",{className:"space-y-3 text-sm text-gray-700",children:[a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("span",{className:"font-bold text-blue-600",children:"1."}),a.jsx("span",{children:"客戶必須按預約時間準時到達。"})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("span",{className:"font-bold text-blue-600",children:"2."}),a.jsx("span",{children:"不得超過預約時間停放車輛。"})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("span",{className:"font-bold text-blue-600",children:"3."}),a.jsx("span",{children:"遵守停車場安全規定。"})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("span",{className:"font-bold text-blue-600",children:"4."}),a.jsx("span",{children:"客戶對車內財物負責。"})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("span",{className:"font-bold text-blue-600",children:"5."}),a.jsx("span",{children:"停車場對天災造成的損害不承擔責任。"})]})]})]})})]}),a.jsx("div",{className:"border-t pt-6",children:a.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-gray-50 rounded-lg",children:[a.jsx($a,{id:"agreedToTerms",checked:V.agreedToTerms,onCheckedChange:te=>z(me=>({...me,agreedToTerms:!!te}))}),a.jsx(Z,{htmlFor:"agreedToTerms",className:"text-sm font-medium",children:"我已閱讀並同意上述條款"})]})})]})]})});case 2:return a.jsx("div",{className:"space-y-6",children:a.jsxs(ue,{className:"border-0 shadow-lg",children:[a.jsx(xe,{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-b",children:a.jsxs(ye,{className:"flex items-center space-x-3 text-green-900",children:[a.jsx(Ps,{className:"h-6 w-6 text-green-600"}),a.jsx("span",{children:"選擇停車場類型和時間"})]})}),a.jsxs(he,{className:"p-6 space-y-8",children:[a.jsxs("div",{children:[a.jsx(Z,{className:"text-lg font-semibold text-gray-800 mb-4 block",children:"停車場類型"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:(c||[]).filter(te=>te.isActive).map(te=>{const me=V.parkingTypeId===te._id,Be=M.some(U=>U.affectedParkingTypes.some(ie=>ie._id===te._id));return a.jsx(ue,{className:`transition-all duration-300 ${Be?"opacity-50 cursor-not-allowed bg-gray-100 border-gray-300":me?"cursor-pointer border-2 border-blue-500 bg-gradient-to-br from-blue-50 to-indigo-50 shadow-lg hover:shadow-xl hover:scale-105":"cursor-pointer border-gray-200 hover:border-blue-300 hover:shadow-xl hover:scale-105"}`,onClick:()=>{Be||z(U=>({...U,parkingTypeId:te._id}))},children:a.jsxs(he,{className:"p-6",children:[te.images&&te.images.length>0?a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"text-sm text-gray-600 mb-2 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"mr-2",children:"📷"}),te.images.length," 張圖片"]}),a.jsx("div",{className:"text-xs text-gray-500",children:"點擊圖片查看 • 使用箭頭或縮圖切換"})]}),a.jsx(oN,{images:te.images,showFullscreen:!0,className:"w-full"})]}):a.jsx("div",{className:"mb-4 flex items-center justify-center bg-gray-100 rounded-lg h-48",children:a.jsxs("div",{className:"text-center text-gray-500",children:[a.jsx("div",{className:"text-4xl mb-2",children:"📷"}),a.jsx("p",{className:"text-sm",children:"暫無圖片"})]})}),a.jsx("div",{className:"flex items-start justify-between mb-4",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"text-3xl",children:L(te)}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-lg text-gray-900",children:te.name}),a.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[X(te.type||"indoor"),Be&&a.jsx(Le,{variant:"destructive",className:"bg-red-100 text-red-800 border-red-200",children:"🔧 維護中"})]})]})]})}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"容量:"}),a.jsxs("span",{className:"font-medium text-gray-900",children:[te.totalSpaces," 位"]})]}),te.description&&a.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:K(te.description)}),a.jsx("div",{className:"pt-3 border-t",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:Q(te.pricePerDay)}),a.jsx("p",{className:"text-sm text-gray-500",children:"/天"})]})})]})]})},te._id)})})]}),V.parkingTypeId&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx(Z,{className:"text-lg font-semibold text-gray-800 mb-4 block",children:"選擇預約時間"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"checkInTime",className:"text-sm font-medium text-gray-700",children:"進入時間 *"}),a.jsx("div",{className:"relative",children:a.jsx($x,{id:"checkInTime",type:"datetime-local",value:V.checkInTime,onChange:te=>{if(z(me=>({...me,checkInTime:te})),te&&V.checkOutTime){const me=new Date(te),Be=new Date(me);Be.setDate(me.getDate()+pe),new Date(V.checkOutTime)<Be&&z(ie=>({...ie,checkOutTime:Be.toISOString().slice(0,16)}))}},min:new Date().toISOString().slice(0,16),className:"pl-10",placeholder:"年/月/日 00:00"})}),a.jsxs("p",{className:"text-xs text-gray-500",children:["最少預約 ",pe," 天"]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"checkOutTime",className:"text-sm font-medium text-gray-700",children:"回國時間 *"}),a.jsx("div",{className:"relative",children:a.jsx($x,{id:"checkOutTime",type:"datetime-local",value:V.checkOutTime,onChange:te=>{if(V.checkInTime){const me=new Date(V.checkInTime),Be=new Date(te),U=new Date(me);if(U.setDate(me.getDate()+pe),Be<U){Y.error(`最少需要預約 ${pe} 天`);return}}z(me=>({...me,checkOutTime:te}))},min:V.checkInTime?(()=>{const te=new Date(V.checkInTime),me=new Date(te);return me.setDate(te.getDate()+pe),me.toISOString().slice(0,16)})():new Date().toISOString().slice(0,16),className:"pl-10",placeholder:"年/月/日 00:00"})}),a.jsxs("p",{className:"text-xs text-gray-500",children:["從進入時間起最少 ",pe," 天"]})]})]})]}),B&&ce&&a.jsxs("div",{className:"p-6 bg-red-50 border border-red-200 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[a.jsx(yi,{className:"h-5 w-5 text-red-600"}),a.jsx("h3",{className:"text-lg font-semibold text-red-800",children:"您所選的日期，停車位已經被約完，詳細如下："})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-red-700 mb-2",children:"您選的日期："}),a.jsxs("div",{className:"space-y-2",children:[ce.conflictingDates.map((te,me)=>a.jsxs("div",{className:"flex items-center space-x-2 text-red-600",children:[a.jsx("span",{children:"•"}),a.jsx("span",{children:te.formattedDate}),a.jsx("span",{className:"text-red-500 font-medium",children:"(x 無空位)"})]},me)),ce.availableDates.map((te,me)=>a.jsxs("div",{className:"flex items-center space-x-2 text-green-600",children:[a.jsx("span",{children:"•"}),a.jsx("span",{children:te.formattedDate})]},me))]})]}),a.jsx("div",{className:"bg-white p-4 rounded-lg border border-red-200",children:a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-red-700",children:"總計："}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsxs("span",{className:"text-sm text-red-600",children:[ce.conflictingDays," 天已滿"]}),a.jsxs("span",{className:"text-sm text-green-600",children:[ce.availableDays," 天空閒"]})]})]})}),a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[a.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"建議："}),a.jsxs("div",{className:"space-y-1 text-sm text-blue-700",children:[a.jsx("div",{children:"• 選擇其他時間範圍"}),a.jsx("div",{children:"• 選擇較短的時間範圍"}),a.jsx("div",{children:"• 聯繫我們以獲得支援"})]})]})]})]}),M.length>0&&a.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx(yi,{className:"h-5 w-5 text-red-600"}),a.jsx("span",{className:"font-medium text-red-800",children:"⚠️ 停車場正在維護"})]}),a.jsxs("div",{className:"text-sm text-red-700",children:[a.jsx("p",{children:"所選停車場在此時間內正在維護:"}),a.jsx("ul",{className:"mt-2 space-y-1",children:M.map((te,me)=>a.jsxs("li",{className:"flex items-center space-x-2",children:[a.jsx("span",{children:"•"}),a.jsxs("span",{children:[or(te.date),": ",te.reason]})]},me))}),a.jsx("p",{className:"mt-2 font-medium",children:"請選擇其他時間或停車場。"})]})]})]})]})]})});case 3:return a.jsx("div",{className:"space-y-6",children:a.jsxs(ue,{className:"border-0 shadow-lg",children:[a.jsxs(xe,{className:"bg-gradient-to-r from-purple-50 to-pink-50 border-b",children:[a.jsxs(ye,{className:"flex items-center space-x-3 text-purple-900",children:[a.jsx(gm,{className:"h-6 w-6 text-purple-600"}),a.jsx("span",{children:"服務"})]}),a.jsx(rt,{className:"text-purple-700",children:"選擇您需要的服務"})]}),a.jsx(he,{className:"p-6",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:(u||[]).filter(te=>te.isActive).map(te=>{const me=V.selectedAddonServices.includes(te._id);return a.jsx(ue,{className:`cursor-pointer transition-all duration-300 hover:shadow-xl hover:scale-105 ${me?"border-2 border-purple-500 bg-gradient-to-br from-purple-50 to-pink-50 shadow-lg":"border-gray-200 hover:border-purple-300"}`,onClick:()=>{z(me?Be=>({...Be,selectedAddonServices:(Be.selectedAddonServices||[]).filter(U=>U!==te._id)}):Be=>({...Be,selectedAddonServices:[...Be.selectedAddonServices,te._id]}))},children:a.jsxs(he,{className:"p-6",children:[a.jsx("div",{className:"flex items-start justify-between mb-4",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"text-3xl",children:te.icon}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-lg text-gray-900",children:te.name}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:te.description})]})]})}),a.jsx("div",{className:"text-center pt-3 border-t",children:a.jsx("p",{className:"text-2xl font-bold text-purple-600",children:Q(te.price)})})]})},te._id)})})})]})});case 4:return a.jsxs("div",{className:"space-y-6",children:[p&&a.jsxs(ue,{className:"border-0 shadow-lg",children:[a.jsx(xe,{className:"bg-gradient-to-r from-emerald-50 to-teal-50 border-b",children:a.jsxs(ye,{className:"flex items-center space-x-3 text-emerald-900",children:[a.jsx(vg,{className:"h-6 w-6 text-emerald-600"}),a.jsx("span",{children:"價格摘要"})]})}),a.jsx(he,{className:"p-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"bg-gray-50 p-3 rounded-lg",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-semibold text-gray-900",children:"基本價格"}),a.jsxs("div",{className:"text-sm text-gray-600",children:[(re=c.find(te=>te._id===V.parkingTypeId))==null?void 0:re.name," • ",p.durationDays," 天"]})]}),a.jsx("span",{className:"font-semibold text-gray-900",children:Q(p.totalPrice)})]})}),(p==null?void 0:p.dailyPrices)&&p.dailyPrices.length>0&&a.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[a.jsx("div",{className:"text-sm font-semibold text-blue-700 mb-2",children:"📅 每日價格詳細:"}),a.jsx("div",{className:"space-y-2",children:p.dailyPrices.map((te,me)=>a.jsxs("div",{className:"flex justify-between items-center text-sm bg-white p-2 rounded",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-gray-600",children:Xo(te.date)}),te.isSpecialPrice&&a.jsxs(Le,{variant:"outline",className:"text-xs bg-orange-100 text-orange-700 border-orange-200 max-w-32 truncate",title:te.specialPriceReason,children:["💰 ",te.specialPriceReason||"特殊價格"]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[te.isSpecialPrice&&a.jsx("span",{className:"text-xs text-gray-500 line-through",children:Q(te.originalPrice)}),a.jsx("span",{className:`font-semibold ${te.isSpecialPrice?"text-orange-600":"text-blue-600"}`,children:Q(te.price)})]})]},me))})]}),V.selectedAddonServices.length>0&&a.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[a.jsx("div",{className:"text-sm font-semibold text-blue-700 mb-2",children:"🚀 附加服務:"}),a.jsx("div",{className:"space-y-2",children:V.selectedAddonServices.map(te=>{const me=u.find(Be=>Be._id===te);return me?a.jsxs("div",{className:"flex justify-between items-center text-sm bg-white p-2 rounded",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-lg",children:me.icon}),a.jsx("span",{children:me.name})]}),a.jsx("span",{className:"font-semibold text-blue-600",children:Q(me.price)})]},te):null})})]}),b&&w&&a.jsxs("div",{className:"flex justify-between items-center py-2 bg-blue-50 rounded-lg px-3",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-blue-600",children:"👑 VIP 折扣:"}),a.jsxs("span",{className:"text-xs text-blue-500 bg-blue-100 px-2 py-1 rounded",children:[w.vipDiscount,"% 折扣"]})]}),m?a.jsxs("span",{className:"font-semibold text-blue-600",children:["-",Q(m.vipDiscount||0)]}):a.jsxs("span",{className:"text-sm text-blue-600",children:["~",Q(Math.round(((p==null?void 0:p.totalPrice)||0)*(w.vipDiscount/100)))]})]}),m&&m.discountAmount>0&&a.jsxs("div",{className:"flex justify-between items-center py-2 bg-green-50 rounded-lg px-3",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-green-600",children:"🎫 優惠券:"}),a.jsxs("span",{className:"text-xs text-green-500 bg-green-100 px-2 py-1 rounded",children:[m.code," (",m.discountType==="percentage"?`${m.discountValue}%`:"固定",")"]})]}),a.jsxs("span",{className:"font-semibold text-green-600",children:["-",Q(m.discountAmount)]})]}),a.jsx(fs,{}),a.jsx("div",{className:"bg-gradient-to-r from-emerald-100 to-teal-100 p-4 rounded-lg border-2 border-emerald-300",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-semibold text-gray-700",children:"總原價:"}),a.jsx("span",{className:"font-semibold text-gray-900",children:Q(p.totalPrice+(u||[]).filter(te=>V.selectedAddonServices.includes(te._id)).reduce((te,me)=>te+me.price,0))})]}),m&&(m.discountAmount>0||m.vipDiscount>0)||b&&w?a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-semibold text-green-700",children:"總折扣:"}),a.jsxs("span",{className:"font-bold text-green-700 text-lg",children:["-",Q(m?m.totalDiscount||m.discountAmount||0:(()=>{const me=((p==null?void 0:p.totalPrice)||0)+u.filter(Be=>V.selectedAddonServices.includes(Be._id)).reduce((Be,U)=>Be+U.price,0);return Math.round(me*((w==null?void 0:w.vipDiscount)/100))})())]})]}):null,a.jsx("div",{className:"border-t pt-2",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-bold text-lg text-gray-900",children:"總付款:"}),a.jsx("span",{className:"text-2xl font-bold text-emerald-600",children:(()=>{const me=((p==null?void 0:p.totalPrice)||0)+u.filter(Be=>V.selectedAddonServices.includes(Be._id)).reduce((Be,U)=>Be+U.price,0);if(m)return Q(m.finalAmount);if(b&&w){const Be=me*(w.vipDiscount/100);return Q(Math.round(me-Be))}else return Q(me)})()})]})})]})})]})})]}),a.jsxs(ue,{className:"border-0 shadow-lg",children:[a.jsxs(xe,{className:"bg-gradient-to-r from-indigo-50 to-blue-50 border-b",children:[a.jsxs(ye,{className:"flex items-center space-x-3 text-indigo-900",children:[a.jsx(Nr,{className:"h-6 w-6 text-indigo-600"}),a.jsx("span",{children:"個人資料"}),b&&a.jsx(Le,{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white border-0",children:"👑 VIP Member"})]}),a.jsx(rt,{className:"text-indigo-700",children:"填寫個人資料以完成預約"})]}),a.jsxs(he,{className:"p-6 space-y-6",children:[!b&&a.jsxs("div",{className:"bg-gradient-to-r from-yellow-50 to-orange-50 border border-yellow-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx("span",{className:"text-yellow-800 font-medium",children:"👑 您是VIP會員嗎？"})}),a.jsx(W,{type:"button",variant:"outline",size:"sm",onClick:()=>O(!A),className:"border-yellow-300 text-yellow-700 hover:bg-yellow-100",children:A?"隱藏":"輸入VIP碼"})]}),A&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(le,{placeholder:"輸入您的VIP碼",value:P,onChange:te=>T(te.target.value),className:"flex-1"}),a.jsx(W,{type:"button",onClick:tt,disabled:_,className:"bg-[#39653f] hover:bg-[#2d4f33] text-white",children:_?"正在檢查...":"檢查"})]}),a.jsx("p",{className:"text-xs text-yellow-700",children:"💡 VIP碼格式: 年份 + 電話號碼 (例如: 1140908805805)"})]})]}),a.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 border border-green-200 rounded-lg p-4",children:[a.jsx("div",{className:"flex items-center justify-between mb-3",children:a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx("span",{className:"text-green-800 font-medium",children:"🎫 您有折扣碼嗎？"})})}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(le,{placeholder:"輸入折扣碼",value:V.discountCode,onChange:te=>z(me=>({...me,discountCode:te.target.value})),className:"flex-1"}),a.jsx(W,{type:"button",onClick:nt,disabled:!((Ce=V.discountCode)!=null&&Ce.trim())||!V.parkingTypeId||!V.checkInTime||!V.checkOutTime,className:"bg-[#39653f] hover:bg-[#2d4f33] text-white",children:"應用"})]}),a.jsx("p",{className:"text-xs text-green-700",children:"💡 輸入有效的折扣碼以獲得額外優惠"})]}),m&&a.jsxs("div",{className:"mt-3 p-3 bg-white rounded-lg border border-green-200",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx("span",{className:"text-green-600",children:"✅"}),a.jsx("span",{className:"font-medium text-green-800",children:"折扣已應用！"})]}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"折扣碼:"}),a.jsx("span",{className:"font-semibold text-green-600",children:m.code})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"折扣金額:"}),a.jsxs("span",{className:"font-semibold text-green-600",children:["-",Q(m.discountAmount)]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"最終金額:"}),a.jsx("span",{className:"font-semibold text-green-600",children:Q(m.finalAmount)})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"driverName",className:"text-sm font-medium text-gray-700",children:"您的姓名 *"}),a.jsx(le,{id:"driverName",value:V.driverName,onChange:te=>z(me=>({...me,driverName:te.target.value})),placeholder:"輸入您的姓名"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"phone",className:"text-sm font-medium text-gray-700",children:"電話號碼 *"}),a.jsx(le,{id:"phone",value:V.phone,onChange:te=>z(me=>({...me,phone:te.target.value})),placeholder:"輸入電話號碼"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"email",className:"text-sm font-medium text-gray-700",children:"信箱 *"}),a.jsxs("div",{className:"relative",children:[a.jsx(le,{id:"email",type:"email",value:V.email,onChange:te=>z(me=>({...me,email:te.target.value})),placeholder:"輸入電子郵件",className:b?"border-yellow-400 bg-yellow-50":""}),b&&w&&a.jsx("div",{className:"absolute -top-2 -right-2",children:a.jsxs(Le,{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white border-0 text-xs",children:["👑 VIP ",w.vipDiscount,"%"]})})]}),b&&w&&a.jsxs("div",{className:"text-xs text-yellow-600 bg-yellow-50 p-2 rounded",children:["✨ 歡迎VIP會員！您自動享有",w.vipDiscount,"%折扣。"]}),!b&&V.email&&!w&&a.jsx("div",{className:"text-xs text-gray-500 bg-gray-50 p-2 rounded",children:"ℹ️ 普通客戶 - 無VIP優惠"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"licensePlate",className:"text-sm font-medium text-gray-700",children:"車牌號碼 *"}),a.jsx(le,{id:"licensePlate",value:V.licensePlate,onChange:te=>z(me=>({...me,licensePlate:te.target.value.toUpperCase()})),placeholder:"輸入車牌號碼"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"passengerCount",className:"text-sm font-medium text-gray-700",children:"接駁人數 (上限5人，多一個人現場收100元/人)"}),a.jsx(le,{id:"passengerCount",type:"number",min:"1",value:V.passengerCount,onChange:te=>z(me=>({...me,passengerCount:parseInt(te.target.value)}))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"luggageCount",className:"text-sm font-medium text-gray-700",children:"行李數量（免費1個，第2個以上現場收100元/行李）"}),a.jsx(le,{id:"luggageCount",type:"number",min:"0",value:V.luggageCount,onChange:te=>z(me=>({...me,luggageCount:parseInt(te.target.value)}))})]})]}),V.passengerCount>0&&a.jsxs("div",{className:"space-y-6 bg-blue-50 p-4 rounded-lg border border-blue-200",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-blue-800 font-medium",children:"✈️ 航廈選擇"}),a.jsx("span",{className:"text-xs text-blue-600",children:"(接駁服務需要)"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"departureTerminal",className:"text-sm font-medium text-gray-700",children:"出發航廈（前往機場）"}),a.jsxs("select",{id:"departureTerminal",value:V.departureTerminal||"",onChange:te=>z(me=>({...me,departureTerminal:te.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"請選擇出發航廈"}),a.jsx("option",{value:"terminal1",children:"第一航廈"}),a.jsx("option",{value:"terminal2",children:"第二航廈"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"returnTerminal",className:"text-sm font-medium text-gray-700",children:"回程航廈（接回停車場）"}),a.jsxs("select",{id:"returnTerminal",value:V.returnTerminal||"",onChange:te=>z(me=>({...me,returnTerminal:te.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"請選擇回程航廈"}),a.jsx("option",{value:"terminal1",children:"第一航廈"}),a.jsx("option",{value:"terminal2",children:"第二航廈"})]})]})]}),a.jsx("div",{className:"text-xs text-blue-600 bg-blue-100 p-2 rounded",children:"💡 請確認航廈選擇正確，以確保接駁服務順利進行"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"notes",className:"text-sm font-medium text-gray-700",children:"備註"}),a.jsx(rr,{id:"notes",placeholder:"輸入備註 (如果有的話)",rows:3})]})]})]}),a.jsx(ue,{className:"border-0 shadow-lg",children:a.jsx(he,{className:"p-6",children:a.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-gray-50 rounded-lg",children:[a.jsx($a,{id:"termsAccepted",checked:V.termsAccepted,onCheckedChange:te=>z(me=>({...me,termsAccepted:!!te}))}),a.jsx(Z,{htmlFor:"termsAccepted",className:"text-sm font-medium",children:"我同意所有預約條款和條件"})]})})})]});default:return null}};return n?a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}):N?a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsx(ue,{className:"border-0 shadow-lg",children:a.jsxs(he,{className:"pt-6",children:[a.jsxs("div",{className:"flex items-center space-x-2 text-red-600",children:[a.jsx(yi,{className:"h-5 w-5"}),a.jsx("span",{children:N})]}),a.jsx(W,{onClick:R,className:"mt-4",children:"重試"})]})})}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50",children:a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsx("div",{className:"mb-8",children:a.jsx("div",{className:"flex items-center justify-between bg-white rounded-lg shadow-lg p-4",children:ae.map((re,Ce)=>a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`flex items-center justify-center w-12 h-12 rounded-full border-2 transition-all duration-300 ${t>=re.id?"bg-[#39653f] border-[#39653f] text-white shadow-lg":"bg-white border-gray-300 text-gray-500"}`,children:t>re.id?a.jsx(pr,{className:"h-6 w-6"}):re.icon}),a.jsx("span",{className:`ml-3 text-sm font-medium transition-colors duration-300 ${t>=re.id?"text-blue-600":"text-gray-500"}`,children:re.title}),Ce<ae.length-1&&a.jsx("div",{className:`w-20 h-0.5 mx-4 transition-colors duration-300 ${t>re.id?"bg-[#39653f]":"bg-gray-300"}`})]},re.id))})}),t>=2&&V.checkInTime&&V.checkOutTime&&a.jsx("div",{className:"mb-6",children:a.jsx(ue,{className:"border-2 border-blue-200 bg-gradient-to-r from-blue-50 to-indigo-50",children:a.jsx(he,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Hr,{className:"h-5 w-5 text-blue-600"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-blue-900",children:"已選擇時間:"}),a.jsxs("div",{className:"flex items-center space-x-4 text-sm text-blue-800",children:[a.jsxs("span",{children:[a.jsx("strong",{children:"進入:"})," ",$t(V.checkInTime)]}),a.jsx("span",{className:"text-blue-600",children:"→"}),a.jsxs("span",{children:[a.jsx("strong",{children:"離開:"})," ",$t(V.checkOutTime)]})]})]})]}),V.parkingTypeId&&a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-sm text-blue-700",children:[a.jsx("strong",{children:"停車場:"})," ",((ke=c.find(re=>re._id===V.parkingTypeId))==null?void 0:ke.name)||"未選擇"]}),a.jsx("div",{className:"text-xs text-blue-600",children:(()=>{const re=new Date(V.checkInTime),Ce=new Date(V.checkOutTime),te=Math.abs(Ce.getTime()-re.getTime());return`${Math.ceil(te/(1e3*60*60*24))} 天`})()})]})]})})})}),oe(),a.jsxs("div",{className:"flex justify-between mt-8",children:[a.jsxs(W,{variant:"outline",onClick:()=>r(re=>Math.max(1,re-1)),disabled:t===1,className:"px-6 py-3",children:[a.jsx(bE,{className:"h-4 w-4 mr-2"}),"返回"]}),a.jsx("div",{className:"flex space-x-3",children:t<ae.length?a.jsxs(W,{onClick:()=>r(re=>re+1),disabled:t===1&&!V.agreedToTerms||t===2&&!V.parkingTypeId||t===2&&(!V.checkInTime||!V.checkOutTime)||t===2&&M.length>0,className:"px-8 py-3 bg-[#39653f] hover:bg-[#2d4f33]",children:["下一步",a.jsx(jE,{className:"h-4 w-4 ml-2"})]}):a.jsx(W,{onClick:ze,disabled:n||!V.termsAccepted,className:"px-8 py-3 bg-[#39653f] hover:bg-[#2d4f33]",children:n?"正在處理...":"完成預約"})})]})]})})})},dD=()=>{var p,g,m,x,b;const e=zd(),t=Wd(),[r,n]=v.useState(null),[s,i]=v.useState(!0),o=(p=e.state)==null?void 0:p.bookingData;v.useEffect(()=>{c()},[]);const c=async()=>{try{const y=await wg();n(y)}catch(y){console.error("Error loading system settings:",y)}finally{i(!1)}},l=y=>y==null?"0 TWD":y.toLocaleString("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0,maximumFractionDigits:0}),u=()=>{if(!o)return[];const y=[],w=new Date(o.checkInTime),S=new Date(o.checkOutTime),N=Math.max(1,o.durationDays||1),j=Math.round((o.totalAmount||0)/N),A=new Date(w);for(;A<S;){const O=new Date(A).toISOString().split("T")[0];y.push({date:O,price:j}),A.setDate(A.getDate()+1)}return y},d=y=>{if(y.icon)return a.jsx("span",{className:"text-lg",children:y.icon});switch(y.type||y){case"indoor":return a.jsx(Tx,{className:"h-5 w-5 text-blue-600"});case"outdoor":return a.jsx(EE,{className:"h-5 w-5 text-yellow-600"});case"disabled":return a.jsx(xE,{className:"h-5 w-5 text-green-600"});default:return a.jsx(ir,{className:"h-5 w-5 text-gray-600"})}},f=y=>{const w={pending:{label:"等待確認",variant:"secondary",color:"bg-yellow-100 text-yellow-800"},confirmed:{label:"預約成功",variant:"default",color:"bg-green-100 text-green-800"},"checked-in":{label:"已進入停車場",variant:"default",color:"bg-blue-100 text-blue-800"},"checked-out":{label:"已離開停車場",variant:"outline",color:"bg-gray-100 text-gray-800"},cancelled:{label:"已取消",variant:"destructive",color:"bg-red-100 text-red-800"}},S=w[y]||w.pending;return a.jsx(Le,{variant:S.variant,className:S.color,children:S.label})},h=()=>{t("/")};return s?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"正在加載信息..."})]})}):o?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-8",children:a.jsxs("div",{className:"container mx-auto px-4 max-w-full",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-green-100 rounded-full mb-4",children:a.jsx(pr,{className:"h-10 w-10 text-green-600"})}),a.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"預約成功！"}),a.jsx("p",{className:"text-gray-600",children:"感謝您使用我們的服務"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs(ue,{className:"border-2 border-green-200 bg-green-50/50",children:[a.jsx(xe,{className:"pb-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(ye,{className:"text-xl text-gray-800",children:"預約信息"}),a.jsxs(rt,{className:"text-gray-600",children:["預約編號: ",a.jsx("span",{className:"font-mono font-bold text-blue-600",children:o.bookingNumber})]})]}),f(o.status)]})}),a.jsxs(he,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Et,{className:"h-5 w-5 text-blue-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"進入停車場日期"}),a.jsx("p",{className:"font-semibold",children:or(o.checkInTime)})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Hr,{className:"h-5 w-5 text-blue-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"離開停車場日期"}),a.jsx("p",{className:"font-semibold",children:or(o.checkOutTime)})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Ps,{className:"h-5 w-5 text-blue-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"停車場類型"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[d(o.parkingType),a.jsx("p",{className:"font-semibold",children:o.parkingType.name})]})]})]})]})]}),a.jsxs(ue,{children:[a.jsx(xe,{children:a.jsxs(ye,{className:"flex items-center space-x-2",children:[a.jsx(Nr,{className:"h-5 w-5 text-blue-600"}),a.jsx("span",{children:"客戶信息"}),o.isVIP&&a.jsx(Le,{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white border-0",children:"👑 VIP 會員"})]})}),a.jsx(he,{className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Nr,{className:"h-5 w-5 text-gray-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"您的姓名"}),a.jsx("p",{className:"font-semibold",children:o.driverName})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(ir,{className:"h-5 w-5 text-gray-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"車牌號碼"}),a.jsx("p",{className:"font-semibold font-mono",children:o.licensePlate})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(ca,{className:"h-5 w-5 text-gray-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"電話號碼"}),a.jsx("p",{className:"font-semibold",children:o.phone})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(ji,{className:"h-5 w-5 text-gray-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"電子郵件"}),a.jsx("p",{className:"font-semibold",children:o.email})]})]})]})})]}),o.passengerCount&&o.passengerCount>0&&a.jsxs(ue,{children:[a.jsx(xe,{children:a.jsxs(ye,{className:"flex items-center space-x-2",children:[a.jsx(Tx,{className:"h-5 w-5 text-blue-600"}),a.jsx("span",{children:"接駁服務信息"})]})}),a.jsx(he,{children:a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[a.jsx("span",{className:"text-blue-800 font-medium",children:"✈️ 航廈選擇"}),a.jsx("span",{className:"text-xs text-blue-600",children:"(接駁服務)"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-blue-600 text-sm",children:"🚀"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"出發航廈"}),a.jsx("p",{className:"font-semibold",children:o.departureTerminal==="terminal1"?"第一航廈":o.departureTerminal==="terminal2"?"第二航廈":"未選擇"})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-green-600 text-sm",children:"🏠"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"回程航廈"}),a.jsx("p",{className:"font-semibold",children:o.returnTerminal==="terminal1"?"第一航廈":o.returnTerminal==="terminal2"?"第二航廈":"未選擇"})]})]})]}),a.jsx("div",{className:"mt-3 text-xs text-blue-600 bg-blue-100 p-2 rounded",children:"💡 接駁服務將根據您選擇的航廈提供服務"})]})})})]}),a.jsxs(ue,{children:[a.jsx(xe,{children:a.jsxs(ye,{className:"flex items-center space-x-2",children:[a.jsx(vg,{className:"h-5 w-5 text-blue-600"}),a.jsx("span",{children:"付款詳情"})]})}),a.jsx(he,{children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("span",{className:"text-gray-600",children:["基本費用 (",o.durationDays," 天)"]}),a.jsx("span",{className:"font-semibold",children:l(o.totalAmount)})]}),(o.dailyPrices&&o.dailyPrices.length>0||!0)&&a.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[a.jsx("div",{className:"text-sm font-semibold text-blue-700 mb-2",children:"📅 每日價格詳細:"}),a.jsx("div",{className:"space-y-2",children:(o.dailyPrices&&o.dailyPrices.length>0?o.dailyPrices:u()).map((y,w)=>a.jsxs("div",{className:"flex justify-between items-center text-sm bg-white p-2 rounded",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-gray-600",children:Xo(y.date)}),y.isSpecialPrice&&a.jsxs(Le,{variant:"outline",className:"text-xs bg-orange-100 text-orange-700 border-orange-200 max-w-32 truncate",title:y.specialPriceReason,children:["💰 ",y.specialPriceReason||"特殊價格"]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[y.isSpecialPrice&&y.originalPrice?a.jsx("span",{className:"text-xs text-gray-500 line-through",children:l(y.originalPrice)}):null,a.jsx("span",{className:`font-semibold ${y.isSpecialPrice?"text-orange-600":"text-blue-600"}`,children:l(y.price)})]})]},w))})]}),o.addonServices.length>0&&a.jsxs(a.Fragment,{children:[a.jsx(fs,{}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm font-medium text-gray-700",children:"附加服務:"}),o.addonServices.map((y,w)=>a.jsxs("div",{className:"flex justify-between items-center text-sm",children:[a.jsx("span",{className:"text-gray-600",children:y.name}),a.jsx("span",{children:l(y.price)})]},w))]})]}),o.discountAmount>0&&a.jsxs(a.Fragment,{children:[a.jsx(fs,{}),a.jsxs("div",{className:"flex justify-between items-center py-2 bg-green-50 rounded-lg px-3",children:[a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx("span",{className:"text-green-600",children:"🎫 折扣:"})}),a.jsxs("span",{className:"font-semibold text-green-600",children:["-",l(o.discountAmount)]})]})]}),o.vipDiscount&&o.vipDiscount>0&&a.jsxs(a.Fragment,{children:[a.jsx(fs,{}),a.jsxs("div",{className:"flex justify-between items-center py-2 bg-blue-50 rounded-lg px-3",children:[a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx("span",{className:"text-blue-600",children:"👑 VIP 折扣:"})}),a.jsxs("span",{className:"font-semibold text-blue-600",children:["-",l(o.vipDiscount)]})]})]}),a.jsx(fs,{}),a.jsx("div",{className:"bg-gradient-to-r from-emerald-100 to-teal-100 p-3 rounded-lg border-2 border-emerald-300",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-semibold",children:"總費用:"}),a.jsx("span",{className:"font-semibold",children:l(o.totalAmount)})]}),(o.discountAmount>0||o.vipDiscount&&o.vipDiscount>0)&&a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-semibold text-green-700",children:"總折扣:"}),a.jsxs("span",{className:"font-bold text-green-700 text-lg",children:["-",l((o.discountAmount||0)+(o.vipDiscount||0))]})]}),a.jsx("div",{className:"border-t pt-2",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-bold text-lg",children:"總付款:"}),a.jsx("span",{className:"font-bold text-emerald-800 text-xl",children:l(o.finalAmount)})]})})]})})]})})]})]}),a.jsxs("div",{className:"space-y-6",children:[r&&a.jsxs(ue,{children:[a.jsx(xe,{children:a.jsxs(ye,{className:"text-lg flex items-center space-x-2",children:[a.jsx(bs,{className:"h-5 w-5 text-blue-600"}),a.jsx("span",{children:"聯繫信息"})]})}),a.jsxs(he,{className:"space-y-3 text-sm",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ca,{className:"h-4 w-4 text-gray-500"}),a.jsx("span",{children:((g=r.contactInfo)==null?void 0:g.phone)||"N/A"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ji,{className:"h-4 w-4 text-gray-500"}),a.jsx("span",{children:((m=r.contactInfo)==null?void 0:m.email)||"N/A"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ps,{className:"h-4 w-4 text-gray-500"}),a.jsx("span",{children:((x=r.contactInfo)==null?void 0:x.address)||"N/A"})]}),((b=r.contactInfo)==null?void 0:b.website)&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(bs,{className:"h-4 w-4 text-gray-500"}),a.jsx("a",{href:r.contactInfo.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:r.contactInfo.website})]})]})]}),a.jsxs(ue,{className:"border-amber-200 bg-amber-50/50",children:[a.jsx(xe,{children:a.jsx(ye,{className:"text-lg text-amber-800",children:"重要提示"})}),a.jsxs(he,{className:"text-sm text-amber-700 space-y-2",children:[a.jsx("p",{children:"• 請按預約時間到達"}),a.jsx("p",{children:"• 請攜帶車輛證明文件和駕駛執照"}),a.jsx("p",{children:"• 如有變更，請立即聯繫"}),a.jsx("p",{children:"• 保留預約編號以供查詢"})]})]})]})]})]})}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-red-500 text-6xl mb-4",children:"⚠️"}),a.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"找不到預約信息"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"請返回預約頁面"}),a.jsxs(W,{onClick:h,className:"bg-[#39653f] hover:bg-[#2d4f33]",children:[a.jsx(OE,{className:"h-4 w-4 mr-2"}),"返回主頁"]})]})})};function La(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function Hx(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function fD(...e){return t=>{let r=!1;const n=e.map(s=>{const i=Hx(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():Hx(e[s],null)}}}}function Ks(...e){return v.useCallback(fD(...e),e)}function hD(e,t){const r=v.createContext(t),n=i=>{const{children:o,...c}=i,l=v.useMemo(()=>c,Object.values(c));return a.jsx(r.Provider,{value:l,children:o})};n.displayName=e+"Provider";function s(i){const o=v.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,s]}function mD(e,t=[]){let r=[];function n(i,o){const c=v.createContext(o),l=r.length;r=[...r,o];const u=f=>{var b;const{scope:h,children:p,...g}=f,m=((b=h==null?void 0:h[e])==null?void 0:b[l])||c,x=v.useMemo(()=>g,Object.values(g));return a.jsx(m.Provider,{value:x,children:p})};u.displayName=i+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[l])||c,g=v.useContext(p);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(o=>v.createContext(o));return function(c){const l=(c==null?void 0:c[e])||i;return v.useMemo(()=>({[`__scope${e}`]:{...c,[e]:l}}),[c,l])}};return s.scopeName=e,[n,pD(s,...t)]}function pD(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((c,{useScope:l,scopeName:u})=>{const f=l(i)[`__scope${u}`];return{...c,...f}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var mc=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},gD=Ws[" useId ".trim().toString()]||(()=>{}),vD=0;function fh(e){const[t,r]=v.useState(gD());return mc(()=>{r(n=>n??String(vD++))},[e]),e||(t?`radix-${t}`:"")}var xD=Ws[" useInsertionEffect ".trim().toString()]||mc;function yD({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,i,o]=bD({defaultProp:t,onChange:r}),c=e!==void 0,l=c?e:s;{const d=v.useRef(e!==void 0);v.useEffect(()=>{const f=d.current;f!==c&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=c},[c,n])}const u=v.useCallback(d=>{var f;if(c){const h=jD(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else i(d)},[c,e,i,o]);return[l,u]}function bD({defaultProp:e,onChange:t}){const[r,n]=v.useState(e),s=v.useRef(r),i=v.useRef(t);return xD(()=>{i.current=t},[t]),v.useEffect(()=>{var o;s.current!==r&&((o=i.current)==null||o.call(i,r),s.current=r)},[r,s]),[r,n,i]}function jD(e){return typeof e=="function"}var wD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ba=wD.reduce((e,t)=>{const r=an(`Primitive.${t}`),n=v.forwardRef((s,i)=>{const{asChild:o,...c}=s,l=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(l,{...c,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function ND(e,t){e&&io.flushSync(()=>e.dispatchEvent(t))}function pc(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function SD(e,t=globalThis==null?void 0:globalThis.document){const r=pc(e);v.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var AD="DismissableLayer",xm="dismissableLayer.update",OD="dismissableLayer.pointerDownOutside",_D="dismissableLayer.focusOutside",qx,cN=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),lN=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:c,...l}=e,u=v.useContext(cN),[d,f]=v.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=v.useState({}),g=Ks(t,A=>f(A)),m=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=m.indexOf(x),y=d?m.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,S=y>=b,N=TD(A=>{const O=A.target,P=[...u.branches].some(T=>T.contains(O));!S||P||(s==null||s(A),o==null||o(A),A.defaultPrevented||c==null||c())},h),j=CD(A=>{const O=A.target;[...u.branches].some(T=>T.contains(O))||(i==null||i(A),o==null||o(A),A.defaultPrevented||c==null||c())},h);return SD(A=>{y===u.layers.size-1&&(n==null||n(A),!A.defaultPrevented&&c&&(A.preventDefault(),c()))},h),v.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(qx=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Kx(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=qx)}},[d,h,r,u]),v.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Kx())},[d,u]),v.useEffect(()=>{const A=()=>p({});return document.addEventListener(xm,A),()=>document.removeEventListener(xm,A)},[]),a.jsx(ba.div,{...l,ref:g,style:{pointerEvents:w?S?"auto":"none":void 0,...e.style},onFocusCapture:La(e.onFocusCapture,j.onFocusCapture),onBlurCapture:La(e.onBlurCapture,j.onBlurCapture),onPointerDownCapture:La(e.onPointerDownCapture,N.onPointerDownCapture)})});lN.displayName=AD;var PD="DismissableLayerBranch",kD=v.forwardRef((e,t)=>{const r=v.useContext(cN),n=v.useRef(null),s=Ks(t,n);return v.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),a.jsx(ba.div,{...e,ref:s})});kD.displayName=PD;function TD(e,t=globalThis==null?void 0:globalThis.document){const r=pc(e),n=v.useRef(!1),s=v.useRef(()=>{});return v.useEffect(()=>{const i=c=>{if(c.target&&!n.current){let l=function(){uN(OD,r,u,{discrete:!0})};const u={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=l,t.addEventListener("click",s.current,{once:!0})):l()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function CD(e,t=globalThis==null?void 0:globalThis.document){const r=pc(e),n=v.useRef(!1);return v.useEffect(()=>{const s=i=>{i.target&&!n.current&&uN(_D,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Kx(){const e=new CustomEvent(xm);document.dispatchEvent(e)}function uN(e,t,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?ND(s,i):s.dispatchEvent(i)}var hh="focusScope.autoFocusOnMount",mh="focusScope.autoFocusOnUnmount",Gx={bubbles:!1,cancelable:!0},ED="FocusScope",dN=v.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[c,l]=v.useState(null),u=pc(s),d=pc(i),f=v.useRef(null),h=Ks(t,m=>l(m)),p=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(n){let m=function(w){if(p.paused||!c)return;const S=w.target;c.contains(S)?f.current=S:Oa(f.current,{select:!0})},x=function(w){if(p.paused||!c)return;const S=w.relatedTarget;S!==null&&(c.contains(S)||Oa(f.current,{select:!0}))},b=function(w){if(document.activeElement===document.body)for(const N of w)N.removedNodes.length>0&&Oa(c)};document.addEventListener("focusin",m),document.addEventListener("focusout",x);const y=new MutationObserver(b);return c&&y.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",x),y.disconnect()}}},[n,c,p.paused]),v.useEffect(()=>{if(c){Xx.add(p);const m=document.activeElement;if(!c.contains(m)){const b=new CustomEvent(hh,Gx);c.addEventListener(hh,u),c.dispatchEvent(b),b.defaultPrevented||($D(LD(fN(c)),{select:!0}),document.activeElement===m&&Oa(c))}return()=>{c.removeEventListener(hh,u),setTimeout(()=>{const b=new CustomEvent(mh,Gx);c.addEventListener(mh,d),c.dispatchEvent(b),b.defaultPrevented||Oa(m??document.body,{select:!0}),c.removeEventListener(mh,d),Xx.remove(p)},0)}}},[c,u,d,p]);const g=v.useCallback(m=>{if(!r&&!n||p.paused)return;const x=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,b=document.activeElement;if(x&&b){const y=m.currentTarget,[w,S]=DD(y);w&&S?!m.shiftKey&&b===S?(m.preventDefault(),r&&Oa(w,{select:!0})):m.shiftKey&&b===w&&(m.preventDefault(),r&&Oa(S,{select:!0})):b===y&&m.preventDefault()}},[r,n,p.paused]);return a.jsx(ba.div,{tabIndex:-1,...o,ref:h,onKeyDown:g})});dN.displayName=ED;function $D(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Oa(n,{select:t}),document.activeElement!==r)return}function DD(e){const t=fN(e),r=Zx(t,e),n=Zx(t.reverse(),e);return[r,n]}function fN(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Zx(e,t){for(const r of e)if(!ID(r,{upTo:t}))return r}function ID(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function MD(e){return e instanceof HTMLInputElement&&"select"in e}function Oa(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&MD(e)&&t&&e.select()}}var Xx=RD();function RD(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Yx(e,t),e.unshift(t)},remove(t){var r;e=Yx(e,t),(r=e[0])==null||r.resume()}}}function Yx(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function LD(e){return e.filter(t=>t.tagName!=="A")}var FD="Portal",hN=v.forwardRef((e,t)=>{var c;const{container:r,...n}=e,[s,i]=v.useState(!1);mc(()=>i(!0),[]);const o=r||s&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return o?Zw.createPortal(a.jsx(ba.div,{...n,ref:t}),o):null});hN.displayName=FD;function BD(e,t){return v.useReducer((r,n)=>t[r][n]??r,e)}var rf=e=>{const{present:t,children:r}=e,n=VD(t),s=typeof r=="function"?r({present:n.isPresent}):v.Children.only(r),i=Ks(n.ref,zD(s));return typeof r=="function"||n.isPresent?v.cloneElement(s,{ref:i}):null};rf.displayName="Presence";function VD(e){const[t,r]=v.useState(),n=v.useRef(null),s=v.useRef(e),i=v.useRef("none"),o=e?"mounted":"unmounted",[c,l]=BD(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const u=El(n.current);i.current=c==="mounted"?u:"none"},[c]),mc(()=>{const u=n.current,d=s.current;if(d!==e){const h=i.current,p=El(u);e?l("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,l]),mc(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const m=El(n.current).includes(p.animationName);if(p.target===t&&m&&(l("ANIMATION_END"),!s.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},h=p=>{p.target===t&&(i.current=El(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:v.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function El(e){return(e==null?void 0:e.animationName)||"none"}function zD(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var ph=0;function UD(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Jx()),document.body.insertAdjacentElement("beforeend",e[1]??Jx()),ph++,()=>{ph===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),ph--}},[])}function Jx(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var _n=function(){return _n=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},_n.apply(this,arguments)};function mN(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function WD(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var iu="right-scroll-bar-position",ou="width-before-scroll-bar",HD="with-scroll-bars-hidden",qD="--removed-body-scroll-bar-size";function gh(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function KD(e,t){var r=v.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var GD=typeof window<"u"?v.useLayoutEffect:v.useEffect,Qx=new WeakMap;function ZD(e,t){var r=KD(null,function(n){return e.forEach(function(s){return gh(s,n)})});return GD(function(){var n=Qx.get(r);if(n){var s=new Set(n),i=new Set(e),o=r.current;s.forEach(function(c){i.has(c)||gh(c,null)}),i.forEach(function(c){s.has(c)||gh(c,o)})}Qx.set(r,e)},[e]),r}function XD(e){return e}function YD(e,t){t===void 0&&(t=XD);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(c){return c!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(c){return i(c)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var c=r;r=[],c.forEach(i),o=r}var l=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(l)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return s}function JD(e){e===void 0&&(e={});var t=YD(null);return t.options=_n({async:!0,ssr:!1},e),t}var pN=function(e){var t=e.sideCar,r=mN(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return v.createElement(n,_n({},r))};pN.isSideCarExport=!0;function QD(e,t){return e.useMedium(t),pN}var gN=JD(),vh=function(){},nf=v.forwardRef(function(e,t){var r=v.useRef(null),n=v.useState({onScrollCapture:vh,onWheelCapture:vh,onTouchMoveCapture:vh}),s=n[0],i=n[1],o=e.forwardProps,c=e.children,l=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,p=e.noIsolation,g=e.inert,m=e.allowPinchZoom,x=e.as,b=x===void 0?"div":x,y=e.gapMode,w=mN(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,N=ZD([r,t]),j=_n(_n({},w),s);return v.createElement(v.Fragment,null,d&&v.createElement(S,{sideCar:gN,removeScrollBar:u,shards:f,noIsolation:p,inert:g,setCallbacks:i,allowPinchZoom:!!m,lockRef:r,gapMode:y}),o?v.cloneElement(v.Children.only(c),_n(_n({},j),{ref:N})):v.createElement(b,_n({},j,{className:l,ref:N}),c))});nf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};nf.classNames={fullWidth:ou,zeroRight:iu};var eI=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function tI(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=eI();return t&&e.setAttribute("nonce",t),e}function rI(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function nI(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var aI=function(){var e=0,t=null;return{add:function(r){e==0&&(t=tI())&&(rI(t,r),nI(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},sI=function(){var e=aI();return function(t,r){v.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},vN=function(){var e=sI(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},iI={left:0,top:0,right:0,gap:0},xh=function(e){return parseInt(e||"",10)||0},oI=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[xh(r),xh(n),xh(s)]},cI=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return iI;var t=oI(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},lI=vN(),Si="data-scroll-locked",uI=function(e,t,r,n){var s=e.left,i=e.top,o=e.right,c=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(HD,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(c,"px ").concat(n,`;
  }
  body[`).concat(Si,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(c,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(iu,` {
    right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(ou,` {
    margin-right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(iu," .").concat(iu,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(ou," .").concat(ou,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Si,`] {
    `).concat(qD,": ").concat(c,`px;
  }
`)},ey=function(){var e=parseInt(document.body.getAttribute(Si)||"0",10);return isFinite(e)?e:0},dI=function(){v.useEffect(function(){return document.body.setAttribute(Si,(ey()+1).toString()),function(){var e=ey()-1;e<=0?document.body.removeAttribute(Si):document.body.setAttribute(Si,e.toString())}},[])},fI=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;dI();var i=v.useMemo(function(){return cI(s)},[s]);return v.createElement(lI,{styles:uI(i,!t,s,r?"":"!important")})},ym=!1;if(typeof window<"u")try{var $l=Object.defineProperty({},"passive",{get:function(){return ym=!0,!0}});window.addEventListener("test",$l,$l),window.removeEventListener("test",$l,$l)}catch{ym=!1}var ei=ym?{passive:!1}:!1,hI=function(e){return e.tagName==="TEXTAREA"},xN=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!hI(e)&&r[t]==="visible")},mI=function(e){return xN(e,"overflowY")},pI=function(e){return xN(e,"overflowX")},ty=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=yN(e,n);if(s){var i=bN(e,n),o=i[1],c=i[2];if(o>c)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},gI=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},vI=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},yN=function(e,t){return e==="v"?mI(t):pI(t)},bN=function(e,t){return e==="v"?gI(t):vI(t)},xI=function(e,t){return e==="h"&&t==="rtl"?-1:1},yI=function(e,t,r,n,s){var i=xI(e,window.getComputedStyle(t).direction),o=i*n,c=r.target,l=t.contains(c),u=!1,d=o>0,f=0,h=0;do{var p=bN(e,c),g=p[0],m=p[1],x=p[2],b=m-x-i*g;(g||b)&&yN(e,c)&&(f+=b,h+=g),c instanceof ShadowRoot?c=c.host:c=c.parentNode}while(!l&&c!==document.body||l&&(t.contains(c)||t===c));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},Dl=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},ry=function(e){return[e.deltaX,e.deltaY]},ny=function(e){return e&&"current"in e?e.current:e},bI=function(e,t){return e[0]===t[0]&&e[1]===t[1]},jI=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},wI=0,ti=[];function NI(e){var t=v.useRef([]),r=v.useRef([0,0]),n=v.useRef(),s=v.useState(wI++)[0],i=v.useState(vN)[0],o=v.useRef(e);v.useEffect(function(){o.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var m=WD([e.lockRef.current],(e.shards||[]).map(ny),!0).filter(Boolean);return m.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var c=v.useCallback(function(m,x){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var b=Dl(m),y=r.current,w="deltaX"in m?m.deltaX:y[0]-b[0],S="deltaY"in m?m.deltaY:y[1]-b[1],N,j=m.target,A=Math.abs(w)>Math.abs(S)?"h":"v";if("touches"in m&&A==="h"&&j.type==="range")return!1;var O=ty(A,j);if(!O)return!0;if(O?N=A:(N=A==="v"?"h":"v",O=ty(A,j)),!O)return!1;if(!n.current&&"changedTouches"in m&&(w||S)&&(n.current=N),!N)return!0;var P=n.current||N;return yI(P,x,m,P==="h"?w:S)},[]),l=v.useCallback(function(m){var x=m;if(!(!ti.length||ti[ti.length-1]!==i)){var b="deltaY"in x?ry(x):Dl(x),y=t.current.filter(function(N){return N.name===x.type&&(N.target===x.target||x.target===N.shadowParent)&&bI(N.delta,b)})[0];if(y&&y.should){x.cancelable&&x.preventDefault();return}if(!y){var w=(o.current.shards||[]).map(ny).filter(Boolean).filter(function(N){return N.contains(x.target)}),S=w.length>0?c(x,w[0]):!o.current.noIsolation;S&&x.cancelable&&x.preventDefault()}}},[]),u=v.useCallback(function(m,x,b,y){var w={name:m,delta:x,target:b,should:y,shadowParent:SI(b)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(S){return S!==w})},1)},[]),d=v.useCallback(function(m){r.current=Dl(m),n.current=void 0},[]),f=v.useCallback(function(m){u(m.type,ry(m),m.target,c(m,e.lockRef.current))},[]),h=v.useCallback(function(m){u(m.type,Dl(m),m.target,c(m,e.lockRef.current))},[]);v.useEffect(function(){return ti.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,ei),document.addEventListener("touchmove",l,ei),document.addEventListener("touchstart",d,ei),function(){ti=ti.filter(function(m){return m!==i}),document.removeEventListener("wheel",l,ei),document.removeEventListener("touchmove",l,ei),document.removeEventListener("touchstart",d,ei)}},[]);var p=e.removeScrollBar,g=e.inert;return v.createElement(v.Fragment,null,g?v.createElement(i,{styles:jI(s)}):null,p?v.createElement(fI,{gapMode:e.gapMode}):null)}function SI(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const AI=QD(gN,NI);var Ng=v.forwardRef(function(e,t){return v.createElement(nf,_n({},e,{ref:t,sideCar:AI}))});Ng.classNames=nf.classNames;var OI=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ri=new WeakMap,Il=new WeakMap,Ml={},yh=0,jN=function(e){return e&&(e.host||jN(e.parentNode))},_I=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=jN(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},PI=function(e,t,r,n){var s=_I(t,Array.isArray(e)?e:[e]);Ml[r]||(Ml[r]=new WeakMap);var i=Ml[r],o=[],c=new Set,l=new Set(s),u=function(f){!f||c.has(f)||(c.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(c.has(h))d(h);else try{var p=h.getAttribute(n),g=p!==null&&p!=="false",m=(ri.get(h)||0)+1,x=(i.get(h)||0)+1;ri.set(h,m),i.set(h,x),o.push(h),m===1&&g&&Il.set(h,!0),x===1&&h.setAttribute(r,"true"),g||h.setAttribute(n,"true")}catch(b){console.error("aria-hidden: cannot operate on ",h,b)}})};return d(t),c.clear(),yh++,function(){o.forEach(function(f){var h=ri.get(f)-1,p=i.get(f)-1;ri.set(f,h),i.set(f,p),h||(Il.has(f)||f.removeAttribute(n),Il.delete(f)),p||f.removeAttribute(r)}),yh--,yh||(ri=new WeakMap,ri=new WeakMap,Il=new WeakMap,Ml={})}},wN=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=OI(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),PI(n,s,r,"aria-hidden")):function(){return null}},af="Dialog",[NN,ule]=mD(af),[kI,Nn]=NN(af),SN=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,c=v.useRef(null),l=v.useRef(null),[u,d]=yD({prop:n,defaultProp:s??!1,onChange:i,caller:af});return a.jsx(kI,{scope:t,triggerRef:c,contentRef:l,contentId:fh(),titleId:fh(),descriptionId:fh(),open:u,onOpenChange:d,onOpenToggle:v.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};SN.displayName=af;var AN="DialogTrigger",TI=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Nn(AN,r),i=Ks(t,s.triggerRef);return a.jsx(ba.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Og(s.open),...n,ref:i,onClick:La(e.onClick,s.onOpenToggle)})});TI.displayName=AN;var Sg="DialogPortal",[CI,ON]=NN(Sg,{forceMount:void 0}),_N=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,i=Nn(Sg,t);return a.jsx(CI,{scope:t,forceMount:r,children:v.Children.map(n,o=>a.jsx(rf,{present:r||i.open,children:a.jsx(hN,{asChild:!0,container:s,children:o})}))})};_N.displayName=Sg;var ju="DialogOverlay",PN=v.forwardRef((e,t)=>{const r=ON(ju,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=Nn(ju,e.__scopeDialog);return i.modal?a.jsx(rf,{present:n||i.open,children:a.jsx($I,{...s,ref:t})}):null});PN.displayName=ju;var EI=an("DialogOverlay.RemoveScroll"),$I=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Nn(ju,r);return a.jsx(Ng,{as:EI,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(ba.div,{"data-state":Og(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),ks="DialogContent",kN=v.forwardRef((e,t)=>{const r=ON(ks,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=Nn(ks,e.__scopeDialog);return a.jsx(rf,{present:n||i.open,children:i.modal?a.jsx(DI,{...s,ref:t}):a.jsx(II,{...s,ref:t})})});kN.displayName=ks;var DI=v.forwardRef((e,t)=>{const r=Nn(ks,e.__scopeDialog),n=v.useRef(null),s=Ks(t,r.contentRef,n);return v.useEffect(()=>{const i=n.current;if(i)return wN(i)},[]),a.jsx(TN,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:La(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:La(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,c=o.button===0&&o.ctrlKey===!0;(o.button===2||c)&&i.preventDefault()}),onFocusOutside:La(e.onFocusOutside,i=>i.preventDefault())})}),II=v.forwardRef((e,t)=>{const r=Nn(ks,e.__scopeDialog),n=v.useRef(!1),s=v.useRef(!1);return a.jsx(TN,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,c;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(c=r.triggerRef.current)==null||c.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var l,u;(l=e.onInteractOutside)==null||l.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),TN=v.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,c=Nn(ks,r),l=v.useRef(null),u=Ks(t,l);return UD(),a.jsxs(a.Fragment,{children:[a.jsx(dN,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(lN,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":Og(c.open),...o,ref:u,onDismiss:()=>c.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(MI,{titleId:c.titleId}),a.jsx(LI,{contentRef:l,descriptionId:c.descriptionId})]})]})}),Ag="DialogTitle",CN=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Nn(Ag,r);return a.jsx(ba.h2,{id:s.titleId,...n,ref:t})});CN.displayName=Ag;var EN="DialogDescription",$N=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Nn(EN,r);return a.jsx(ba.p,{id:s.descriptionId,...n,ref:t})});$N.displayName=EN;var DN="DialogClose",IN=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Nn(DN,r);return a.jsx(ba.button,{type:"button",...n,ref:t,onClick:La(e.onClick,()=>s.onOpenChange(!1))})});IN.displayName=DN;function Og(e){return e?"open":"closed"}var MN="DialogTitleWarning",[dle,RN]=hD(MN,{contentName:ks,titleName:Ag,docsSlug:"dialog"}),MI=({titleId:e})=>{const t=RN(MN),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return v.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},RI="DialogDescriptionWarning",LI=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${RN(RI).contentName}}.`;return v.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},FI=SN,BI=_N,LN=PN,FN=kN,BN=CN,VN=$N,VI=IN;const ft=FI,zI=BI,zN=v.forwardRef(({className:e,...t},r)=>a.jsx(LN,{ref:r,className:Ye("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));zN.displayName=LN.displayName;const it=v.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(zI,{children:[a.jsx(zN,{}),a.jsxs(FN,{ref:n,className:Ye("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,a.jsxs(VI,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(qs,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));it.displayName=FN.displayName;const ot=({className:e,...t})=>a.jsx("div",{className:Ye("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});ot.displayName="DialogHeader";const ct=({className:e,...t})=>a.jsx("div",{className:Ye("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});ct.displayName="DialogFooter";const lt=v.forwardRef(({className:e,...t},r)=>a.jsx(BN,{ref:r,className:Ye("text-lg font-semibold leading-none tracking-tight",e),...t}));lt.displayName=BN.displayName;const ut=v.forwardRef(({className:e,...t},r)=>a.jsx(VN,{ref:r,className:Ye("text-sm text-muted-foreground",e),...t}));ut.displayName=VN.displayName;const UI=()=>{const[e,t]=v.useState("phone"),[r,n]=v.useState(""),[s,i]=v.useState(!1),[o,c]=v.useState([]),[l,u]=v.useState(null),[d,f]=v.useState(!1),[h,p]=v.useState(!1),[g,m]=v.useState({status:"",dateFrom:"",dateTo:"",minAmount:"",maxAmount:""}),[x,b]=v.useState([]),y=async()=>{var T;if(!r.trim()){Y.error("請輸入搜尋資訊");return}try{i(!0);const _=e==="phone"?r.trim():void 0,k=e==="licensePlate"?r.trim().toUpperCase():void 0,E=await N$(_,k);c(E||[]),b(E||[]),(E==null?void 0:E.length)===0&&Y("找不到任何預約",{icon:"ℹ️"})}catch(_){((T=_.response)==null?void 0:T.status)===401?Y.error("請登入以查詢預約"):Y.error(_.message||"搜尋時發生錯誤")}finally{i(!1)}},w=async T=>{var _;try{const k=await S$(T);u(k),f(!0)}catch(k){((_=k.response)==null?void 0:_.status)===401?Y.error("請登入以查看預約詳情"):Y.error(k.message||"無法載入預約詳情")}},S=T=>{const _={pending:{label:"等待確認",variant:"secondary",color:"bg-yellow-100 text-yellow-800"},confirmed:{label:"預約成功",variant:"default",color:"bg-blue-100 text-blue-800"},"checked-in":{label:"已進入停車場",variant:"default",color:"bg-green-100 text-green-800"},"checked-out":{label:"已離開停車場",variant:"secondary",color:"bg-gray-100 text-gray-800"},cancelled:{label:"已取消",variant:"destructive",color:"bg-red-100 text-red-800"}},k=_[T]||_.pending;return a.jsx(Le,{variant:k.variant,className:k.color,children:k.label})},N=T=>new Date(T).toLocaleString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),j=T=>T.toLocaleString("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0,maximumFractionDigits:0}),A=T=>{if(T.icon)return T.icon;switch(T.type||T){case"indoor":return"🏢";case"outdoor":return"🌤";case"disabled":return"♿️";default:return"🚗"}},O=()=>{let T=[...o];if(g.status&&(T=T.filter(_=>_.status===g.status)),g.dateFrom){const _=new Date(g.dateFrom);T=T.filter(k=>new Date(k.checkInTime)>=_)}if(g.dateTo){const _=new Date(g.dateTo);T=T.filter(k=>new Date(k.checkInTime)<=_)}if(g.minAmount){const _=parseFloat(g.minAmount);T=T.filter(k=>k.finalAmount>=_)}if(g.maxAmount){const _=parseFloat(g.maxAmount);T=T.filter(k=>k.finalAmount<=_)}b(T)},P=()=>{m({status:"",dateFrom:"",dateTo:"",minAmount:"",maxAmount:""}),b(o)};return D.useEffect(()=>{O()},[g,o]),a.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold",children:"查詢預約"}),a.jsx("p",{className:"text-gray-600",children:"請輸入電話號碼或車牌號碼以查詢預約"})]}),a.jsxs(ue,{className:"mb-8",children:[a.jsxs(xe,{children:[a.jsxs(ye,{className:"flex items-center space-x-2",children:[a.jsx(Kr,{className:"h-5 w-5"}),a.jsx("span",{children:"查詢預約"})]}),a.jsx(rt,{children:"選擇搜索方法並輸入信息"})]}),a.jsx(he,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex space-x-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"radio",id:"phone",name:"searchType",value:"phone",checked:e==="phone",onChange:T=>t(T.target.value),className:"w-4 h-4 text-blue-600"}),a.jsxs(Z,{htmlFor:"phone",className:"flex items-center space-x-2 cursor-pointer",children:[a.jsx(ca,{className:"h-4 w-4"}),a.jsx("span",{children:"電話號碼"})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"radio",id:"licensePlate",name:"searchType",value:"licensePlate",checked:e==="licensePlate",onChange:T=>t(T.target.value),className:"w-4 h-4 text-blue-600"}),a.jsxs(Z,{htmlFor:"licensePlate",className:"flex items-center space-x-2 cursor-pointer",children:[a.jsx(ir,{className:"h-4 w-4"}),a.jsx("span",{children:"車牌號碼"})]})]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx(Z,{htmlFor:"searchValue",children:e==="phone"?"電話號碼":"車牌號碼"}),a.jsx(le,{id:"searchValue",placeholder:e==="phone"?"請輸入電話號碼":"請輸入車牌號碼",value:r,onChange:T=>n(T.target.value),onKeyPress:T=>T.key==="Enter"&&y()})]}),a.jsxs("div",{className:"flex items-end space-x-2",children:[a.jsxs(W,{variant:"outline",onClick:()=>p(!h),className:"px-4",children:[a.jsx(mr,{className:"h-4 w-4 mr-2"}),"過濾器"]}),a.jsx(W,{onClick:y,disabled:s||!r.trim(),className:"px-6",children:s?a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):a.jsxs(a.Fragment,{children:[a.jsx(Kr,{className:"h-4 w-4 mr-2"}),"搜索"]})})]})]}),h&&a.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h4",{className:"font-medium text-gray-700",children:"高級過濾器"}),a.jsxs(W,{variant:"outline",size:"sm",onClick:P,children:[a.jsx(qs,{className:"h-4 w-4 mr-1"}),"清除過濾器"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"status",children:"狀態"}),a.jsxs("select",{id:"status",value:g.status,onChange:T=>m(_=>({..._,status:T.target.value})),className:"w-full p-2 border border-gray-300 rounded-md",children:[a.jsx("option",{value:"",children:"所有狀態"}),a.jsx("option",{value:"pending",children:"等待確認"}),a.jsx("option",{value:"confirmed",children:"預約成功"}),a.jsx("option",{value:"checked-in",children:"已進入停車場"}),a.jsx("option",{value:"checked-out",children:"已離開停車場"}),a.jsx("option",{value:"cancelled",children:"已取消"})]})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"dateFrom",children:"從日期"}),a.jsx(le,{id:"dateFrom",type:"date",value:g.dateFrom,onChange:T=>m(_=>({..._,dateFrom:T.target.value}))})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"dateTo",children:"到日期"}),a.jsx(le,{id:"dateTo",type:"date",value:g.dateTo,onChange:T=>m(_=>({..._,dateTo:T.target.value}))})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"minAmount",children:"最小金額"}),a.jsx(le,{id:"minAmount",type:"number",placeholder:"0",value:g.minAmount,onChange:T=>m(_=>({..._,minAmount:T.target.value}))})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"maxAmount",children:"最大金額"}),a.jsx(le,{id:"maxAmount",type:"number",placeholder:"1000000",value:g.maxAmount,onChange:T=>m(_=>({..._,maxAmount:T.target.value}))})]})]})]})]})})]}),o.length>0&&a.jsxs(ue,{children:[a.jsxs(xe,{children:[a.jsx(ye,{children:"搜索結果"}),a.jsxs(rt,{children:["找到 ",x.length," 預約 ",x.length!==o.length&&`(總共 ${o.length})`]})]}),a.jsx(he,{children:a.jsx("div",{className:"space-y-4",children:x.map(T=>a.jsx(ue,{className:"hover:shadow-md transition-shadow",children:a.jsx(he,{className:"p-4",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx("h3",{className:"font-semibold",children:T.driverName}),S(T.status)]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ca,{className:"h-4 w-4"}),a.jsx("span",{children:T.phone})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ir,{className:"h-4 w-4"}),a.jsx("span",{children:T.licensePlate})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ps,{className:"h-4 w-4"}),a.jsx("span",{children:T.parkingType.name}),a.jsx("span",{className:"text-lg",children:A(T.parkingType)})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Et,{className:"h-4 w-4"}),a.jsxs("span",{children:["進入停車場: ",N(T.checkInTime)]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Hr,{className:"h-4 w-4"}),a.jsxs("span",{children:["離開停車場: ",N(T.checkOutTime)]})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsxs("span",{className:"font-medium",children:["總金額: ",j(T.finalAmount)]})}),T.discountAmount>0&&a.jsx("div",{className:"flex items-center space-x-2 text-green-600",children:a.jsxs("span",{className:"text-xs",children:["🎫 折扣: -",j(T.discountAmount)]})}),T.vipDiscount&&T.vipDiscount>0&&a.jsx("div",{className:"flex items-center space-x-2 text-blue-600",children:a.jsxs("span",{className:"text-xs",children:["👑 VIP: -",j(T.vipDiscount)]})})]})]}),T.addonServices&&T.addonServices.length>0&&a.jsxs("div",{className:"mt-3",children:[a.jsx("div",{className:"text-sm font-medium text-gray-700 mb-1",children:"附加服務:"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:T.addonServices.map((_,k)=>{var E,C,I;return a.jsxs(Le,{variant:"outline",className:"text-xs",children:[((E=_.service)==null?void 0:E.icon)||_.icon||"🔧"," ",((C=_.service)==null?void 0:C.name)||_.name||"Unknown Service"," - ",j(((I=_.service)==null?void 0:I.price)||_.price||0)]},k)})})]})]}),a.jsxs(W,{variant:"outline",size:"sm",onClick:()=>w(T._id),children:[a.jsx(gu,{className:"h-4 w-4 mr-1"}),"詳細信息"]})]})})},T._id))})})]}),o.length===0&&!s&&r&&a.jsx(ue,{children:a.jsxs(he,{className:"p-8 text-center",children:[a.jsx(yi,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"找不到預約"}),a.jsxs("p",{className:"text-gray-500",children:["找不到任何預約與 ",e==="phone"?"電話號碼":"車牌號碼"," 相關。"]})]})}),a.jsx(ft,{open:d,onOpenChange:f,children:a.jsxs(it,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[a.jsxs(ot,{children:[a.jsx(lt,{children:"預約詳細信息"}),a.jsx(ut,{children:"預約詳細信息"})]}),l&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsxs("h4",{className:"font-semibold mb-3 flex items-center",children:[a.jsx(Nr,{className:"h-4 w-4 mr-2"}),"客戶信息"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"姓名:"})," ",l.driverName]}),a.jsxs("div",{children:[a.jsx("strong",{children:"電話號碼:"})," ",l.phone]}),a.jsxs("div",{children:[a.jsx("strong",{children:"電子郵件:"})," ",l.email]}),a.jsxs("div",{children:[a.jsx("strong",{children:"VIP 狀態:"})," ",l.isVIP?"👑 VIP 會員":"普通客戶"]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"車牌號碼:"})," ",l.licensePlate]}),a.jsxs("div",{children:[a.jsx("strong",{children:"乘客:"})," ",l.passengerCount," 人"]}),a.jsxs("div",{children:[a.jsx("strong",{children:"行李:"})," ",l.luggageCount," 件"]})]})]})]}),a.jsxs("div",{children:[a.jsxs("h4",{className:"font-semibold mb-3 flex items-center",children:[a.jsx(Et,{className:"h-4 w-4 mr-2"}),"預約信息"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"停車場:"})," ",l.parkingType.name]}),a.jsxs("div",{children:[a.jsx("strong",{children:"類型:"})," ",A(l.parkingType)," ",l.parkingType.type||"indoor"]}),a.jsxs("div",{children:[a.jsx("strong",{children:"狀態:"})," ",S(l.status)]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"進入停車場:"})," ",N(l.checkInTime)]}),a.jsxs("div",{children:[a.jsx("strong",{children:"離開停車場:"})," ",N(l.checkOutTime)]}),a.jsxs("div",{children:[a.jsx("strong",{children:"VIP:"})," ",l.isVIP?"是":"否"]})]})]})]}),(l.estimatedArrivalTime||l.flightNumber||l.notes)&&a.jsxs("div",{children:[a.jsxs("h4",{className:"font-semibold mb-3 flex items-center",children:[a.jsx(gu,{className:"h-4 w-4 mr-2"}),"附加信息"]}),a.jsxs("div",{className:"space-y-2 text-sm",children:[l.estimatedArrivalTime&&a.jsxs("div",{children:[a.jsx("strong",{children:"預計到達時間:"})," ",N(l.estimatedArrivalTime)]}),l.flightNumber&&a.jsxs("div",{children:[a.jsx("strong",{children:"航班號:"})," ",l.flightNumber]}),l.notes&&a.jsxs("div",{children:[a.jsx("strong",{children:"備註:"})," ",l.notes]})]})]}),l.addonServices&&l.addonServices.length>0&&a.jsxs("div",{children:[a.jsxs("h4",{className:"font-semibold mb-3 flex items-center",children:[a.jsx(di,{className:"h-4 w-4 mr-2"}),"附加服務"]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:l.addonServices.map((T,_)=>{var k,E,C;return a.jsxs(Le,{variant:"outline",children:[((k=T.service)==null?void 0:k.icon)||T.icon||"🔧"," ",((E=T.service)==null?void 0:E.name)||T.name||"Unknown Service"," - ",j(((C=T.service)==null?void 0:C.price)||T.price||0)]},_)})})]}),a.jsxs("div",{children:[a.jsxs("h4",{className:"font-semibold mb-3 flex items-center",children:[a.jsx("span",{className:"text-lg mr-2",children:"💰"}),"付款信息"]}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"總金額:"})," ",j(l.totalAmount)]}),l.discountAmount>0&&a.jsx("div",{className:"bg-green-50 p-2 rounded",children:a.jsxs("div",{children:[a.jsx("strong",{children:"🎫 折扣:"})," -",j(l.discountAmount)]})}),l.vipDiscount&&l.vipDiscount>0&&a.jsx("div",{className:"bg-blue-50 p-2 rounded",children:a.jsxs("div",{children:[a.jsx("strong",{children:"👑 VIP 折扣:"})," -",j(l.vipDiscount)]})}),a.jsxs("div",{className:"border-t pt-2",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"總折扣:"})," -",j((l.discountAmount||0)+(l.vipDiscount||0))]}),a.jsxs("div",{children:[a.jsx("strong",{children:"付款:"})," ",j(l.finalAmount)]})]}),a.jsxs("div",{children:[a.jsx("strong",{children:"付款方式:"})," ",l.paymentMethod]}),a.jsxs("div",{children:[a.jsx("strong",{children:"付款狀態:"})," ",l.paymentStatus]})]})]})]}),a.jsx(ct,{children:a.jsx(W,{variant:"outline",onClick:()=>f(!1),children:"關閉"})})]})})]})};var vl=e=>e.type==="checkbox",hs=e=>e instanceof Date,vr=e=>e==null;const UN=e=>typeof e=="object";var Lt=e=>!vr(e)&&!Array.isArray(e)&&UN(e)&&!hs(e),WI=e=>Lt(e)&&e.target?vl(e.target)?e.target.checked:e.target.value:e,HI=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,qI=(e,t)=>e.has(HI(t)),KI=e=>{const t=e.constructor&&e.constructor.prototype;return Lt(t)&&t.hasOwnProperty("isPrototypeOf")},_g=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Jr(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(_g&&(e instanceof Blob||n))&&(r||Lt(e)))if(t=r?[]:{},!r&&!KI(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=Jr(e[s]));else return e;return t}var sf=e=>Array.isArray(e)?e.filter(Boolean):[],Ut=e=>e===void 0,$e=(e,t,r)=>{if(!t||!Lt(e))return r;const n=sf(t.split(/[,[\].]+?/)).reduce((s,i)=>vr(s)?s:s[i],e);return Ut(n)||n===e?Ut(e[t])?r:e[t]:n},On=e=>typeof e=="boolean",Pg=e=>/^\w*$/.test(e),WN=e=>sf(e.replace(/["|']|\]/g,"").split(/\.|\[/)),gt=(e,t,r)=>{let n=-1;const s=Pg(t)?[t]:WN(t),i=s.length,o=i-1;for(;++n<i;){const c=s[n];let l=r;if(n!==o){const u=e[c];l=Lt(u)||Array.isArray(u)?u:isNaN(+s[n+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;e[c]=l,e=e[c]}return e};const ay={BLUR:"blur",FOCUS_OUT:"focusout"},hn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Jn={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};D.createContext(null);var GI=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const o=i;return t._proxyFormState[o]!==hn.all&&(t._proxyFormState[o]=!n||hn.all),e[o]}});return s},wr=e=>Lt(e)&&!Object.keys(e).length,ZI=(e,t,r,n)=>{r(e);const{name:s,...i}=e;return wr(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===hn.all)},cu=e=>Array.isArray(e)?e:[e];function XI(e){const t=D.useRef(e);t.current=e,D.useEffect(()=>{const r=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{r&&r.unsubscribe()}},[e.disabled])}var Cn=e=>typeof e=="string",YI=(e,t,r,n,s)=>Cn(e)?(n&&t.watch.add(e),$e(r,e,s)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),$e(r,i))):(n&&(t.watchAll=!0),r),HN=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},sy=e=>({isOnSubmit:!e||e===hn.onSubmit,isOnBlur:e===hn.onBlur,isOnChange:e===hn.onChange,isOnAll:e===hn.all,isOnTouch:e===hn.onTouched}),iy=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const ac=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const i=$e(e,s);if(i){const{_f:o,...c}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],s)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(ac(c,t))break}else if(Lt(c)&&ac(c,t))break}}};var JI=(e,t,r)=>{const n=cu($e(e,r));return gt(n,"root",t[r]),gt(e,r,n),e},kg=e=>e.type==="file",Pn=e=>typeof e=="function",wu=e=>{if(!_g)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},lu=e=>Cn(e),Tg=e=>e.type==="radio",Nu=e=>e instanceof RegExp;const oy={value:!1,isValid:!1},cy={value:!0,isValid:!0};var qN=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Ut(e[0].attributes.value)?Ut(e[0].value)||e[0].value===""?cy:{value:e[0].value,isValid:!0}:cy:oy}return oy};const ly={isValid:!1,value:null};var KN=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,ly):ly;function uy(e,t,r="validate"){if(lu(e)||Array.isArray(e)&&e.every(lu)||On(e)&&!e)return{type:r,message:lu(e)?e:"",ref:t}}var ni=e=>Lt(e)&&!Nu(e)?e:{value:e,message:""},dy=async(e,t,r,n,s,i)=>{const{ref:o,refs:c,required:l,maxLength:u,minLength:d,min:f,max:h,pattern:p,validate:g,name:m,valueAsNumber:x,mount:b}=e._f,y=$e(r,m);if(!b||t.has(m))return{};const w=c?c[0]:o,S=k=>{s&&w.reportValidity&&(w.setCustomValidity(On(k)?"":k||""),w.reportValidity())},N={},j=Tg(o),A=vl(o),O=j||A,P=(x||kg(o))&&Ut(o.value)&&Ut(y)||wu(o)&&o.value===""||y===""||Array.isArray(y)&&!y.length,T=HN.bind(null,m,n,N),_=(k,E,C,I=Jn.maxLength,F=Jn.minLength)=>{const $=k?E:C;N[m]={type:k?I:F,message:$,ref:o,...T(k?I:F,$)}};if(i?!Array.isArray(y)||!y.length:l&&(!O&&(P||vr(y))||On(y)&&!y||A&&!qN(c).isValid||j&&!KN(c).isValid)){const{value:k,message:E}=lu(l)?{value:!!l,message:l}:ni(l);if(k&&(N[m]={type:Jn.required,message:E,ref:w,...T(Jn.required,E)},!n))return S(E),N}if(!P&&(!vr(f)||!vr(h))){let k,E;const C=ni(h),I=ni(f);if(!vr(y)&&!isNaN(y)){const F=o.valueAsNumber||y&&+y;vr(C.value)||(k=F>C.value),vr(I.value)||(E=F<I.value)}else{const F=o.valueAsDate||new Date(y),$=J=>new Date(new Date().toDateString()+" "+J),q=o.type=="time",M=o.type=="week";Cn(C.value)&&y&&(k=q?$(y)>$(C.value):M?y>C.value:F>new Date(C.value)),Cn(I.value)&&y&&(E=q?$(y)<$(I.value):M?y<I.value:F<new Date(I.value))}if((k||E)&&(_(!!k,C.message,I.message,Jn.max,Jn.min),!n))return S(N[m].message),N}if((u||d)&&!P&&(Cn(y)||i&&Array.isArray(y))){const k=ni(u),E=ni(d),C=!vr(k.value)&&y.length>+k.value,I=!vr(E.value)&&y.length<+E.value;if((C||I)&&(_(C,k.message,E.message),!n))return S(N[m].message),N}if(p&&!P&&Cn(y)){const{value:k,message:E}=ni(p);if(Nu(k)&&!y.match(k)&&(N[m]={type:Jn.pattern,message:E,ref:o,...T(Jn.pattern,E)},!n))return S(E),N}if(g){if(Pn(g)){const k=await g(y,r),E=uy(k,w);if(E&&(N[m]={...E,...T(Jn.validate,E.message)},!n))return S(E.message),N}else if(Lt(g)){let k={};for(const E in g){if(!wr(k)&&!n)break;const C=uy(await g[E](y,r),w,E);C&&(k={...C,...T(E,C.message)},S(C.message),n&&(N[m]=k))}if(!wr(k)&&(N[m]={ref:w,...k},!n))return N}}return S(!0),N};function QI(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Ut(e)?n++:e[t[n++]];return e}function eM(e){for(const t in e)if(e.hasOwnProperty(t)&&!Ut(e[t]))return!1;return!0}function Gt(e,t){const r=Array.isArray(t)?t:Pg(t)?[t]:WN(t),n=r.length===1?e:QI(e,r),s=r.length-1,i=r[s];return n&&delete n[i],s!==0&&(Lt(n)&&wr(n)||Array.isArray(n)&&eM(n))&&Gt(e,r.slice(0,-1)),e}var bh=()=>{let e=[];return{get observers(){return e},next:s=>{for(const i of e)i.next&&i.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(i=>i!==s)}}),unsubscribe:()=>{e=[]}}},bm=e=>vr(e)||!UN(e);function Ca(e,t){if(bm(e)||bm(t))return e===t;if(hs(e)&&hs(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const s of r){const i=e[s];if(!n.includes(s))return!1;if(s!=="ref"){const o=t[s];if(hs(i)&&hs(o)||Lt(i)&&Lt(o)||Array.isArray(i)&&Array.isArray(o)?!Ca(i,o):i!==o)return!1}}return!0}var GN=e=>e.type==="select-multiple",tM=e=>Tg(e)||vl(e),jh=e=>wu(e)&&e.isConnected,ZN=e=>{for(const t in e)if(Pn(e[t]))return!0;return!1};function Su(e,t={}){const r=Array.isArray(e);if(Lt(e)||r)for(const n in e)Array.isArray(e[n])||Lt(e[n])&&!ZN(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Su(e[n],t[n])):vr(e[n])||(t[n]=!0);return t}function XN(e,t,r){const n=Array.isArray(e);if(Lt(e)||n)for(const s in e)Array.isArray(e[s])||Lt(e[s])&&!ZN(e[s])?Ut(t)||bm(r[s])?r[s]=Array.isArray(e[s])?Su(e[s],[]):{...Su(e[s])}:XN(e[s],vr(t)?{}:t[s],r[s]):r[s]=!Ca(e[s],t[s]);return r}var Ro=(e,t)=>XN(e,t,Su(t)),YN=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Ut(e)?e:t?e===""?NaN:e&&+e:r&&Cn(e)?new Date(e):n?n(e):e;function wh(e){const t=e.ref;return kg(t)?t.files:Tg(t)?KN(e.refs).value:GN(t)?[...t.selectedOptions].map(({value:r})=>r):vl(t)?qN(e.refs).value:YN(Ut(t.value)?e.ref.value:t.value,e)}var rM=(e,t,r,n)=>{const s={};for(const i of e){const o=$e(t,i);o&&gt(s,i,o._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},Lo=e=>Ut(e)?e:Nu(e)?e.source:Lt(e)?Nu(e.value)?e.value.source:e.value:e;const fy="AsyncFunction";var nM=e=>!!e&&!!e.validate&&!!(Pn(e.validate)&&e.validate.constructor.name===fy||Lt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===fy)),aM=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function hy(e,t,r){const n=$e(e,r);if(n||Pg(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const i=s.join("."),o=$e(t,i),c=$e(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(c&&c.type)return{name:i,error:c};s.pop()}return{name:r}}var sM=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,iM=(e,t)=>!sf($e(e,t)).length&&Gt(e,t);const oM={mode:hn.onSubmit,reValidateMode:hn.onChange,shouldFocusError:!0};function cM(e={}){let t={...oM,...e},r={submitCount:0,isDirty:!1,isLoading:Pn(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},s=Lt(t.defaultValues)||Lt(t.values)?Jr(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:Jr(s),o={action:!1,mount:!1,watch:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:bh(),array:bh(),state:bh()},h=sy(t.mode),p=sy(t.reValidateMode),g=t.criteriaMode===hn.all,m=L=>X=>{clearTimeout(u),u=setTimeout(L,X)},x=async L=>{if(!t.disabled&&(d.isValid||L)){const X=t.resolver?wr((await O()).errors):await T(n,!0);X!==r.isValid&&f.state.next({isValid:X})}},b=(L,X)=>{!t.disabled&&(d.isValidating||d.validatingFields)&&((L||Array.from(c.mount)).forEach(Q=>{Q&&(X?gt(r.validatingFields,Q,X):Gt(r.validatingFields,Q))}),f.state.next({validatingFields:r.validatingFields,isValidating:!wr(r.validatingFields)}))},y=(L,X=[],Q,K,ae=!0,oe=!0)=>{if(K&&Q&&!t.disabled){if(o.action=!0,oe&&Array.isArray($e(n,L))){const ke=Q($e(n,L),K.argA,K.argB);ae&&gt(n,L,ke)}if(oe&&Array.isArray($e(r.errors,L))){const ke=Q($e(r.errors,L),K.argA,K.argB);ae&&gt(r.errors,L,ke),iM(r.errors,L)}if(d.touchedFields&&oe&&Array.isArray($e(r.touchedFields,L))){const ke=Q($e(r.touchedFields,L),K.argA,K.argB);ae&&gt(r.touchedFields,L,ke)}d.dirtyFields&&(r.dirtyFields=Ro(s,i)),f.state.next({name:L,isDirty:k(L,X),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else gt(i,L,X)},w=(L,X)=>{gt(r.errors,L,X),f.state.next({errors:r.errors})},S=L=>{r.errors=L,f.state.next({errors:r.errors,isValid:!1})},N=(L,X,Q,K)=>{const ae=$e(n,L);if(ae){const oe=$e(i,L,Ut(Q)?$e(s,L):Q);Ut(oe)||K&&K.defaultChecked||X?gt(i,L,X?oe:wh(ae._f)):I(L,oe),o.mount&&x()}},j=(L,X,Q,K,ae)=>{let oe=!1,ke=!1;const re={name:L};if(!t.disabled){const Ce=!!($e(n,L)&&$e(n,L)._f&&$e(n,L)._f.disabled);if(!Q||K){d.isDirty&&(ke=r.isDirty,r.isDirty=re.isDirty=k(),oe=ke!==re.isDirty);const te=Ce||Ca($e(s,L),X);ke=!!(!Ce&&$e(r.dirtyFields,L)),te||Ce?Gt(r.dirtyFields,L):gt(r.dirtyFields,L,!0),re.dirtyFields=r.dirtyFields,oe=oe||d.dirtyFields&&ke!==!te}if(Q){const te=$e(r.touchedFields,L);te||(gt(r.touchedFields,L,Q),re.touchedFields=r.touchedFields,oe=oe||d.touchedFields&&te!==Q)}oe&&ae&&f.state.next(re)}return oe?re:{}},A=(L,X,Q,K)=>{const ae=$e(r.errors,L),oe=d.isValid&&On(X)&&r.isValid!==X;if(t.delayError&&Q?(l=m(()=>w(L,Q)),l(t.delayError)):(clearTimeout(u),l=null,Q?gt(r.errors,L,Q):Gt(r.errors,L)),(Q?!Ca(ae,Q):ae)||!wr(K)||oe){const ke={...K,...oe&&On(X)?{isValid:X}:{},errors:r.errors,name:L};r={...r,...ke},f.state.next(ke)}},O=async L=>{b(L,!0);const X=await t.resolver(i,t.context,rM(L||c.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return b(L),X},P=async L=>{const{errors:X}=await O(L);if(L)for(const Q of L){const K=$e(X,Q);K?gt(r.errors,Q,K):Gt(r.errors,Q)}else r.errors=X;return X},T=async(L,X,Q={valid:!0})=>{for(const K in L){const ae=L[K];if(ae){const{_f:oe,...ke}=ae;if(oe){const re=c.array.has(oe.name),Ce=ae._f&&nM(ae._f);Ce&&d.validatingFields&&b([K],!0);const te=await dy(ae,c.disabled,i,g,t.shouldUseNativeValidation&&!X,re);if(Ce&&d.validatingFields&&b([K]),te[oe.name]&&(Q.valid=!1,X))break;!X&&($e(te,oe.name)?re?JI(r.errors,te,oe.name):gt(r.errors,oe.name,te[oe.name]):Gt(r.errors,oe.name))}!wr(ke)&&await T(ke,X,Q)}}return Q.valid},_=()=>{for(const L of c.unMount){const X=$e(n,L);X&&(X._f.refs?X._f.refs.every(Q=>!jh(Q)):!jh(X._f.ref))&&we(L)}c.unMount=new Set},k=(L,X)=>!t.disabled&&(L&&X&&gt(i,L,X),!Ca(V(),s)),E=(L,X,Q)=>YI(L,c,{...o.mount?i:Ut(X)?s:Cn(L)?{[L]:X}:X},Q,X),C=L=>sf($e(o.mount?i:s,L,t.shouldUnregister?$e(s,L,[]):[])),I=(L,X,Q={})=>{const K=$e(n,L);let ae=X;if(K){const oe=K._f;oe&&(!oe.disabled&&gt(i,L,YN(X,oe)),ae=wu(oe.ref)&&vr(X)?"":X,GN(oe.ref)?[...oe.ref.options].forEach(ke=>ke.selected=ae.includes(ke.value)):oe.refs?vl(oe.ref)?oe.refs.length>1?oe.refs.forEach(ke=>(!ke.defaultChecked||!ke.disabled)&&(ke.checked=Array.isArray(ae)?!!ae.find(re=>re===ke.value):ae===ke.value)):oe.refs[0]&&(oe.refs[0].checked=!!ae):oe.refs.forEach(ke=>ke.checked=ke.value===ae):kg(oe.ref)?oe.ref.value="":(oe.ref.value=ae,oe.ref.type||f.values.next({name:L,values:{...i}})))}(Q.shouldDirty||Q.shouldTouch)&&j(L,ae,Q.shouldTouch,Q.shouldDirty,!0),Q.shouldValidate&&J(L)},F=(L,X,Q)=>{for(const K in X){const ae=X[K],oe=`${L}.${K}`,ke=$e(n,oe);(c.array.has(L)||Lt(ae)||ke&&!ke._f)&&!hs(ae)?F(oe,ae,Q):I(oe,ae,Q)}},$=(L,X,Q={})=>{const K=$e(n,L),ae=c.array.has(L),oe=Jr(X);gt(i,L,oe),ae?(f.array.next({name:L,values:{...i}}),(d.isDirty||d.dirtyFields)&&Q.shouldDirty&&f.state.next({name:L,dirtyFields:Ro(s,i),isDirty:k(L,oe)})):K&&!K._f&&!vr(oe)?F(L,oe,Q):I(L,oe,Q),iy(L,c)&&f.state.next({...r}),f.values.next({name:o.mount?L:void 0,values:{...i}})},q=async L=>{o.mount=!0;const X=L.target;let Q=X.name,K=!0;const ae=$e(n,Q),oe=()=>X.type?wh(ae._f):WI(L),ke=re=>{K=Number.isNaN(re)||hs(re)&&isNaN(re.getTime())||Ca(re,$e(i,Q,re))};if(ae){let re,Ce;const te=oe(),me=L.type===ay.BLUR||L.type===ay.FOCUS_OUT,Be=!aM(ae._f)&&!t.resolver&&!$e(r.errors,Q)&&!ae._f.deps||sM(me,$e(r.touchedFields,Q),r.isSubmitted,p,h),U=iy(Q,c,me);gt(i,Q,te),me?(ae._f.onBlur&&ae._f.onBlur(L),l&&l(0)):ae._f.onChange&&ae._f.onChange(L);const ie=j(Q,te,me,!1),Ve=!wr(ie)||U;if(!me&&f.values.next({name:Q,type:L.type,values:{...i}}),Be)return d.isValid&&(t.mode==="onBlur"&&me?x():me||x()),Ve&&f.state.next({name:Q,...U?{}:ie});if(!me&&U&&f.state.next({...r}),t.resolver){const{errors:Ee}=await O([Q]);if(ke(te),K){const Je=hy(r.errors,n,Q),kt=hy(Ee,n,Je.name||Q);re=kt.error,Q=kt.name,Ce=wr(Ee)}}else b([Q],!0),re=(await dy(ae,c.disabled,i,g,t.shouldUseNativeValidation))[Q],b([Q]),ke(te),K&&(re?Ce=!1:d.isValid&&(Ce=await T(n,!0)));K&&(ae._f.deps&&J(ae._f.deps),A(Q,Ce,re,ie))}},M=(L,X)=>{if($e(r.errors,X)&&L.focus)return L.focus(),1},J=async(L,X={})=>{let Q,K;const ae=cu(L);if(t.resolver){const oe=await P(Ut(L)?L:ae);Q=wr(oe),K=L?!ae.some(ke=>$e(oe,ke)):Q}else L?(K=(await Promise.all(ae.map(async oe=>{const ke=$e(n,oe);return await T(ke&&ke._f?{[oe]:ke}:ke)}))).every(Boolean),!(!K&&!r.isValid)&&x()):K=Q=await T(n);return f.state.next({...!Cn(L)||d.isValid&&Q!==r.isValid?{}:{name:L},...t.resolver||!L?{isValid:Q}:{},errors:r.errors}),X.shouldFocus&&!K&&ac(n,M,L?ae:c.mount),K},V=L=>{const X={...o.mount?i:s};return Ut(L)?X:Cn(L)?$e(X,L):L.map(Q=>$e(X,Q))},z=(L,X)=>({invalid:!!$e((X||r).errors,L),isDirty:!!$e((X||r).dirtyFields,L),error:$e((X||r).errors,L),isValidating:!!$e(r.validatingFields,L),isTouched:!!$e((X||r).touchedFields,L)}),B=L=>{L&&cu(L).forEach(X=>Gt(r.errors,X)),f.state.next({errors:L?r.errors:{}})},G=(L,X,Q)=>{const K=($e(n,L,{_f:{}})._f||{}).ref,ae=$e(r.errors,L)||{},{ref:oe,message:ke,type:re,...Ce}=ae;gt(r.errors,L,{...Ce,...X,ref:K}),f.state.next({name:L,errors:r.errors,isValid:!1}),Q&&Q.shouldFocus&&K&&K.focus&&K.focus()},ce=(L,X)=>Pn(L)?f.values.subscribe({next:Q=>L(E(void 0,X),Q)}):E(L,X,!0),we=(L,X={})=>{for(const Q of L?cu(L):c.mount)c.mount.delete(Q),c.array.delete(Q),X.keepValue||(Gt(n,Q),Gt(i,Q)),!X.keepError&&Gt(r.errors,Q),!X.keepDirty&&Gt(r.dirtyFields,Q),!X.keepTouched&&Gt(r.touchedFields,Q),!X.keepIsValidating&&Gt(r.validatingFields,Q),!t.shouldUnregister&&!X.keepDefaultValue&&Gt(s,Q);f.values.next({values:{...i}}),f.state.next({...r,...X.keepDirty?{isDirty:k()}:{}}),!X.keepIsValid&&x()},pe=({disabled:L,name:X,field:Q,fields:K})=>{(On(L)&&o.mount||L||c.disabled.has(X))&&(L?c.disabled.add(X):c.disabled.delete(X),j(X,wh(Q?Q._f:$e(K,X)._f),!1,!1,!0))},Oe=(L,X={})=>{let Q=$e(n,L);const K=On(X.disabled)||On(t.disabled);return gt(n,L,{...Q||{},_f:{...Q&&Q._f?Q._f:{ref:{name:L}},name:L,mount:!0,...X}}),c.mount.add(L),Q?pe({field:Q,disabled:On(X.disabled)?X.disabled:t.disabled,name:L}):N(L,!0,X.value),{...K?{disabled:X.disabled||t.disabled}:{},...t.progressive?{required:!!X.required,min:Lo(X.min),max:Lo(X.max),minLength:Lo(X.minLength),maxLength:Lo(X.maxLength),pattern:Lo(X.pattern)}:{},name:L,onChange:q,onBlur:q,ref:ae=>{if(ae){Oe(L,X),Q=$e(n,L);const oe=Ut(ae.value)&&ae.querySelectorAll&&ae.querySelectorAll("input,select,textarea")[0]||ae,ke=tM(oe),re=Q._f.refs||[];if(ke?re.find(Ce=>Ce===oe):oe===Q._f.ref)return;gt(n,L,{_f:{...Q._f,...ke?{refs:[...re.filter(jh),oe,...Array.isArray($e(s,L))?[{}]:[]],ref:{type:oe.type,name:L}}:{ref:oe}}}),N(L,!1,void 0,oe)}else Q=$e(n,L,{}),Q._f&&(Q._f.mount=!1),(t.shouldUnregister||X.shouldUnregister)&&!(qI(c.array,L)&&o.action)&&c.unMount.add(L)}}},R=()=>t.shouldFocusError&&ac(n,M,c.mount),de=L=>{On(L)&&(f.state.next({disabled:L}),ac(n,(X,Q)=>{const K=$e(n,Q);K&&(X.disabled=K._f.disabled||L,Array.isArray(K._f.refs)&&K._f.refs.forEach(ae=>{ae.disabled=K._f.disabled||L}))},0,!1))},fe=(L,X)=>async Q=>{let K;Q&&(Q.preventDefault&&Q.preventDefault(),Q.persist&&Q.persist());let ae=Jr(i);if(c.disabled.size)for(const oe of c.disabled)gt(ae,oe,void 0);if(f.state.next({isSubmitting:!0}),t.resolver){const{errors:oe,values:ke}=await O();r.errors=oe,ae=ke}else await T(n);if(Gt(r.errors,"root"),wr(r.errors)){f.state.next({errors:{}});try{await L(ae,Q)}catch(oe){K=oe}}else X&&await X({...r.errors},Q),R(),setTimeout(R);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:wr(r.errors)&&!K,submitCount:r.submitCount+1,errors:r.errors}),K)throw K},ee=(L,X={})=>{$e(n,L)&&(Ut(X.defaultValue)?$(L,Jr($e(s,L))):($(L,X.defaultValue),gt(s,L,Jr(X.defaultValue))),X.keepTouched||Gt(r.touchedFields,L),X.keepDirty||(Gt(r.dirtyFields,L),r.isDirty=X.defaultValue?k(L,Jr($e(s,L))):k()),X.keepError||(Gt(r.errors,L),d.isValid&&x()),f.state.next({...r}))},Me=(L,X={})=>{const Q=L?Jr(L):s,K=Jr(Q),ae=wr(L),oe=ae?s:K;if(X.keepDefaultValues||(s=Q),!X.keepValues){if(X.keepDirtyValues){const ke=new Set([...c.mount,...Object.keys(Ro(s,i))]);for(const re of Array.from(ke))$e(r.dirtyFields,re)?gt(oe,re,$e(i,re)):$(re,$e(oe,re))}else{if(_g&&Ut(L))for(const ke of c.mount){const re=$e(n,ke);if(re&&re._f){const Ce=Array.isArray(re._f.refs)?re._f.refs[0]:re._f.ref;if(wu(Ce)){const te=Ce.closest("form");if(te){te.reset();break}}}}n={}}i=t.shouldUnregister?X.keepDefaultValues?Jr(s):{}:Jr(oe),f.array.next({values:{...oe}}),f.values.next({values:{...oe}})}c={mount:X.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!X.keepIsValid||!!X.keepDirtyValues,o.watch=!!t.shouldUnregister,f.state.next({submitCount:X.keepSubmitCount?r.submitCount:0,isDirty:ae?!1:X.keepDirty?r.isDirty:!!(X.keepDefaultValues&&!Ca(L,s)),isSubmitted:X.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ae?{}:X.keepDirtyValues?X.keepDefaultValues&&i?Ro(s,i):r.dirtyFields:X.keepDefaultValues&&L?Ro(s,L):X.keepDirty?r.dirtyFields:{},touchedFields:X.keepTouched?r.touchedFields:{},errors:X.keepErrors?r.errors:{},isSubmitSuccessful:X.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Se=(L,X)=>Me(Pn(L)?L(i):L,X);return{control:{register:Oe,unregister:we,getFieldState:z,handleSubmit:fe,setError:G,_executeSchema:O,_getWatch:E,_getDirty:k,_updateValid:x,_removeUnmounted:_,_updateFieldArray:y,_updateDisabledField:pe,_getFieldArray:C,_reset:Me,_resetDefaultValues:()=>Pn(t.defaultValues)&&t.defaultValues().then(L=>{Se(L,t.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:L=>{r={...r,...L}},_disableForm:de,_subjects:f,_proxyFormState:d,_setErrors:S,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(L){o=L},get _defaultValues(){return s},get _names(){return c},set _names(L){c=L},get _formState(){return r},set _formState(L){r=L},get _options(){return t},set _options(L){t={...t,...L}}},trigger:J,register:Oe,handleSubmit:fe,watch:ce,setValue:$,getValues:V,reset:Se,resetField:ee,clearErrors:B,unregister:we,setError:G,setFocus:(L,X={})=>{const Q=$e(n,L),K=Q&&Q._f;if(K){const ae=K.refs?K.refs[0]:K.ref;ae.focus&&(ae.focus(),X.shouldSelect&&Pn(ae.select)&&ae.select())}},getFieldState:z}}function JN(e={}){const t=D.useRef(void 0),r=D.useRef(void 0),[n,s]=D.useState({isDirty:!1,isValidating:!1,isLoading:Pn(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Pn(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...cM(e),formState:n});const i=t.current.control;return i._options=e,XI({subject:i._subjects.state,next:o=>{ZI(o,i._proxyFormState,i._updateFormState)&&s({...i._formState})}}),D.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),D.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),D.useEffect(()=>{e.values&&!Ca(e.values,r.current)?(i._reset(e.values,i._options.resetOptions),r.current=e.values,s(o=>({...o}))):i._resetDefaultValues()},[e.values,i]),D.useEffect(()=>{e.errors&&i._setErrors(e.errors)},[e.errors,i]),D.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),D.useEffect(()=>{e.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})},[e.shouldUnregister,i]),t.current.formState=GI(n,i),t.current}const my=(e,t,r)=>{if(e&&"reportValidity"in e){const n=$e(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},QN=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?my(n.ref,r,e):n.refs&&n.refs.forEach(s=>my(s,r,e))}},lM=(e,t)=>{t.shouldUseNativeValidation&&QN(e,t);const r={};for(const n in e){const s=$e(t.fields,n),i=Object.assign(e[n]||{},{ref:s&&s.ref});if(uM(t.names||Object.keys(e),n)){const o=Object.assign({},$e(r,n));gt(o,"root",i),gt(r,n,o)}else gt(r,n,i)}return r},uM=(e,t)=>e.some(r=>r.startsWith(t+"."));var dM=function(e,t){for(var r={};e.length;){var n=e[0],s=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var c=n.unionErrors[0].errors[0];r[o]={message:c.message,type:c.code}}else r[o]={message:i,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var l=r[o].types,u=l&&l[n.code];r[o]=HN(o,t,r,s,u?[].concat(u,n.message):n.message)}e.shift()}return r},eS=function(e,t,r){return r===void 0&&(r={}),function(n,s,i){try{return Promise.resolve(function(o,c){try{var l=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return i.shouldUseNativeValidation&&QN({},i),{errors:{},values:r.raw?n:u}})}catch(u){return c(u)}return l&&l.then?l.then(void 0,c):l}(0,function(o){if(function(c){return Array.isArray(c==null?void 0:c.errors)}(o))return{values:{},errors:lM(dM(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},dt;(function(e){e.assertEqual=s=>s;function t(s){}e.assertIs=t;function r(s){throw new Error}e.assertNever=r,e.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},e.getValidEnumValues=s=>{const i=e.objectKeys(s).filter(c=>typeof s[s[c]]!="number"),o={};for(const c of i)o[c]=s[c];return e.objectValues(o)},e.objectValues=s=>e.objectKeys(s).map(function(i){return s[i]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},e.find=(s,i)=>{for(const o of s)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function n(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(dt||(dt={}));var jm;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(jm||(jm={}));const Te=dt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ra=e=>{switch(typeof e){case"undefined":return Te.undefined;case"string":return Te.string;case"number":return isNaN(e)?Te.nan:Te.number;case"boolean":return Te.boolean;case"function":return Te.function;case"bigint":return Te.bigint;case"symbol":return Te.symbol;case"object":return Array.isArray(e)?Te.array:e===null?Te.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Te.promise:typeof Map<"u"&&e instanceof Map?Te.map:typeof Set<"u"&&e instanceof Set?Te.set:typeof Date<"u"&&e instanceof Date?Te.date:Te.object;default:return Te.unknown}},ge=dt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),fM=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class Lr extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},n={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let c=n,l=0;for(;l<o.path.length;){const u=o.path[l];l===o.path.length-1?(c[u]=c[u]||{_errors:[]},c[u]._errors.push(r(o))):c[u]=c[u]||{_errors:[]},c=c[u],l++}}};return s(this),n}static assert(t){if(!(t instanceof Lr))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,dt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const s of this.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(t(s))):n.push(t(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Lr.create=e=>new Lr(e);const Ti=(e,t)=>{let r;switch(e.code){case ge.invalid_type:e.received===Te.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case ge.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,dt.jsonStringifyReplacer)}`;break;case ge.unrecognized_keys:r=`Unrecognized key(s) in object: ${dt.joinValues(e.keys,", ")}`;break;case ge.invalid_union:r="Invalid input";break;case ge.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${dt.joinValues(e.options)}`;break;case ge.invalid_enum_value:r=`Invalid enum value. Expected ${dt.joinValues(e.options)}, received '${e.received}'`;break;case ge.invalid_arguments:r="Invalid function arguments";break;case ge.invalid_return_type:r="Invalid function return type";break;case ge.invalid_date:r="Invalid date";break;case ge.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:dt.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case ge.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case ge.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case ge.custom:r="Invalid input";break;case ge.invalid_intersection_types:r="Intersection results could not be merged";break;case ge.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case ge.not_finite:r="Number must be finite";break;default:r=t.defaultError,dt.assertNever(e)}return{message:r}};let tS=Ti;function hM(e){tS=e}function Au(){return tS}const Ou=e=>{const{data:t,path:r,errorMaps:n,issueData:s}=e,i=[...r,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let c="";const l=n.filter(u=>!!u).slice().reverse();for(const u of l)c=u(o,{data:t,defaultError:c}).message;return{...s,path:i,message:c}},mM=[];function je(e,t){const r=Au(),n=Ou({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===Ti?void 0:Ti].filter(s=>!!s)});e.common.issues.push(n)}class gr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const s of r){if(s.status==="aborted")return qe;s.status==="dirty"&&t.dirty(),n.push(s.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const s of r){const i=await s.key,o=await s.value;n.push({key:i,value:o})}return gr.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const s of r){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return qe;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(n[i.value]=o.value)}return{status:t.value,value:n}}}const qe=Object.freeze({status:"aborted"}),fi=e=>({status:"dirty",value:e}),jr=e=>({status:"valid",value:e}),wm=e=>e.status==="aborted",Nm=e=>e.status==="dirty",Ts=e=>e.status==="valid",gc=e=>typeof Promise<"u"&&e instanceof Promise;function _u(e,t,r,n){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function rS(e,t,r,n,s){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}var Re;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Re||(Re={}));var Yo,Jo;class Bn{constructor(t,r,n,s){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const py=(e,t)=>{if(Ts(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Lr(e.common.issues);return this._error=r,this._error}}};function Xe(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:s}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(o,c)=>{var l,u;const{message:d}=e;return o.code==="invalid_enum_value"?{message:d??c.defaultError}:typeof c.data>"u"?{message:(l=d??n)!==null&&l!==void 0?l:c.defaultError}:o.code!=="invalid_type"?{message:c.defaultError}:{message:(u=d??r)!==null&&u!==void 0?u:c.defaultError}},description:s}}class et{get description(){return this._def.description}_getType(t){return ra(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:ra(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new gr,ctx:{common:t.parent.common,data:t.data,parsedType:ra(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(gc(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){var n;const s={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ra(t)},i=this._parseSync({data:t,path:s.path,parent:s});return py(s,i)}"~validate"(t){var r,n;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ra(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:s});return Ts(i)?{value:i.value}:{issues:s.common.issues}}catch(i){!((n=(r=i==null?void 0:i.message)===null||r===void 0?void 0:r.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:s}).then(i=>Ts(i)?{value:i.value}:{issues:s.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ra(t)},s=this._parse({data:t,path:n.path,parent:n}),i=await(gc(s)?s:Promise.resolve(s));return py(n,i)}refine(t,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,i)=>{const o=t(s),c=()=>i.addIssue({code:ge.custom,...n(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(c(),!1)):o?!0:(c(),!1)})}refinement(t,r){return this._refinement((n,s)=>t(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(t){return new xn({schema:this,typeName:He.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Dn.create(this,this._def)}nullable(){return Ua.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return gn.create(this)}promise(){return Ei.create(this,this._def)}or(t){return bc.create([this,t],this._def)}and(t){return jc.create(this,t,this._def)}transform(t){return new xn({...Xe(this._def),schema:this,typeName:He.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new Oc({...Xe(this._def),innerType:this,defaultValue:r,typeName:He.ZodDefault})}brand(){return new Cg({typeName:He.ZodBranded,type:this,...Xe(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new _c({...Xe(this._def),innerType:this,catchValue:r,typeName:He.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return xl.create(this,t)}readonly(){return Pc.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const pM=/^c[^\s-]{8,}$/i,gM=/^[0-9a-z]+$/,vM=/^[0-9A-HJKMNP-TV-Z]{26}$/i,xM=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,yM=/^[a-z0-9_-]{21}$/i,bM=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,jM=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,wM=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,NM="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Nh;const SM=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,AM=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,OM=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,_M=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,PM=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,kM=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nS="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",TM=new RegExp(`^${nS}$`);function aS(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function CM(e){return new RegExp(`^${aS(e)}$`)}function sS(e){let t=`${nS}T${aS(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function EM(e,t){return!!((t==="v4"||!t)&&SM.test(e)||(t==="v6"||!t)&&OM.test(e))}function $M(e,t){if(!bM.test(e))return!1;try{const[r]=e.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||!s.typ||!s.alg||t&&s.alg!==t)}catch{return!1}}function DM(e,t){return!!((t==="v4"||!t)&&AM.test(e)||(t==="v6"||!t)&&_M.test(e))}class pn extends et{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Te.string){const i=this._getOrReturnCtx(t);return je(i,{code:ge.invalid_type,expected:Te.string,received:i.parsedType}),qe}const n=new gr;let s;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(s=this._getOrReturnCtx(t,s),je(s,{code:ge.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(s=this._getOrReturnCtx(t,s),je(s,{code:ge.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,c=t.data.length<i.value;(o||c)&&(s=this._getOrReturnCtx(t,s),o?je(s,{code:ge.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):c&&je(s,{code:ge.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")wM.test(t.data)||(s=this._getOrReturnCtx(t,s),je(s,{validation:"email",code:ge.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")Nh||(Nh=new RegExp(NM,"u")),Nh.test(t.data)||(s=this._getOrReturnCtx(t,s),je(s,{validation:"emoji",code:ge.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")xM.test(t.data)||(s=this._getOrReturnCtx(t,s),je(s,{validation:"uuid",code:ge.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")yM.test(t.data)||(s=this._getOrReturnCtx(t,s),je(s,{validation:"nanoid",code:ge.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")pM.test(t.data)||(s=this._getOrReturnCtx(t,s),je(s,{validation:"cuid",code:ge.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")gM.test(t.data)||(s=this._getOrReturnCtx(t,s),je(s,{validation:"cuid2",code:ge.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")vM.test(t.data)||(s=this._getOrReturnCtx(t,s),je(s,{validation:"ulid",code:ge.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),je(s,{validation:"url",code:ge.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),je(s,{validation:"regex",code:ge.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(t,s),je(s,{code:ge.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(s=this._getOrReturnCtx(t,s),je(s,{code:ge.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(s=this._getOrReturnCtx(t,s),je(s,{code:ge.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?sS(i).test(t.data)||(s=this._getOrReturnCtx(t,s),je(s,{code:ge.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?TM.test(t.data)||(s=this._getOrReturnCtx(t,s),je(s,{code:ge.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?CM(i).test(t.data)||(s=this._getOrReturnCtx(t,s),je(s,{code:ge.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?jM.test(t.data)||(s=this._getOrReturnCtx(t,s),je(s,{validation:"duration",code:ge.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?EM(t.data,i.version)||(s=this._getOrReturnCtx(t,s),je(s,{validation:"ip",code:ge.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?$M(t.data,i.alg)||(s=this._getOrReturnCtx(t,s),je(s,{validation:"jwt",code:ge.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?DM(t.data,i.version)||(s=this._getOrReturnCtx(t,s),je(s,{validation:"cidr",code:ge.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?PM.test(t.data)||(s=this._getOrReturnCtx(t,s),je(s,{validation:"base64",code:ge.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?kM.test(t.data)||(s=this._getOrReturnCtx(t,s),je(s,{validation:"base64url",code:ge.invalid_string,message:i.message}),n.dirty()):dt.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(s=>t.test(s),{validation:r,code:ge.invalid_string,...Re.errToObj(n)})}_addCheck(t){return new pn({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Re.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Re.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Re.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Re.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Re.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Re.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Re.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Re.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Re.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Re.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Re.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Re.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Re.errToObj(t)})}datetime(t){var r,n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1,local:(n=t==null?void 0:t.local)!==null&&n!==void 0?n:!1,...Re.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Re.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Re.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Re.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...Re.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Re.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Re.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Re.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Re.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Re.errToObj(r)})}nonempty(t){return this.min(1,Re.errToObj(t))}trim(){return new pn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new pn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new pn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}pn.create=e=>{var t;return new pn({checks:[],typeName:He.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Xe(e)})};function IM(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,s=r>n?r:n,i=parseInt(e.toFixed(s).replace(".","")),o=parseInt(t.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}class Ba extends et{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Te.number){const i=this._getOrReturnCtx(t);return je(i,{code:ge.invalid_type,expected:Te.number,received:i.parsedType}),qe}let n;const s=new gr;for(const i of this._def.checks)i.kind==="int"?dt.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),je(n,{code:ge.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),je(n,{code:ge.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),je(n,{code:ge.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?IM(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),je(n,{code:ge.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),je(n,{code:ge.not_finite,message:i.message}),s.dirty()):dt.assertNever(i);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Re.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Re.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Re.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Re.toString(r))}setLimit(t,r,n,s){return new Ba({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Re.toString(s)}]})}_addCheck(t){return new Ba({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Re.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Re.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Re.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Re.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Re.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Re.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Re.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Re.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Re.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&dt.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Ba.create=e=>new Ba({checks:[],typeName:He.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Xe(e)});class Va extends et{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Te.bigint)return this._getInvalidInput(t);let n;const s=new gr;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),je(n,{code:ge.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),je(n,{code:ge.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),je(n,{code:ge.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):dt.assertNever(i);return{status:s.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return je(r,{code:ge.invalid_type,expected:Te.bigint,received:r.parsedType}),qe}gte(t,r){return this.setLimit("min",t,!0,Re.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Re.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Re.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Re.toString(r))}setLimit(t,r,n,s){return new Va({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Re.toString(s)}]})}_addCheck(t){return new Va({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Re.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Re.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Re.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Re.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Re.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Va.create=e=>{var t;return new Va({checks:[],typeName:He.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Xe(e)})};class vc extends et{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Te.boolean){const n=this._getOrReturnCtx(t);return je(n,{code:ge.invalid_type,expected:Te.boolean,received:n.parsedType}),qe}return jr(t.data)}}vc.create=e=>new vc({typeName:He.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Xe(e)});class Cs extends et{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Te.date){const i=this._getOrReturnCtx(t);return je(i,{code:ge.invalid_type,expected:Te.date,received:i.parsedType}),qe}if(isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return je(i,{code:ge.invalid_date}),qe}const n=new gr;let s;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(s=this._getOrReturnCtx(t,s),je(s,{code:ge.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(s=this._getOrReturnCtx(t,s),je(s,{code:ge.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):dt.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Cs({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Re.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Re.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Cs.create=e=>new Cs({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:He.ZodDate,...Xe(e)});class Pu extends et{_parse(t){if(this._getType(t)!==Te.symbol){const n=this._getOrReturnCtx(t);return je(n,{code:ge.invalid_type,expected:Te.symbol,received:n.parsedType}),qe}return jr(t.data)}}Pu.create=e=>new Pu({typeName:He.ZodSymbol,...Xe(e)});class xc extends et{_parse(t){if(this._getType(t)!==Te.undefined){const n=this._getOrReturnCtx(t);return je(n,{code:ge.invalid_type,expected:Te.undefined,received:n.parsedType}),qe}return jr(t.data)}}xc.create=e=>new xc({typeName:He.ZodUndefined,...Xe(e)});class yc extends et{_parse(t){if(this._getType(t)!==Te.null){const n=this._getOrReturnCtx(t);return je(n,{code:ge.invalid_type,expected:Te.null,received:n.parsedType}),qe}return jr(t.data)}}yc.create=e=>new yc({typeName:He.ZodNull,...Xe(e)});class Ci extends et{constructor(){super(...arguments),this._any=!0}_parse(t){return jr(t.data)}}Ci.create=e=>new Ci({typeName:He.ZodAny,...Xe(e)});class js extends et{constructor(){super(...arguments),this._unknown=!0}_parse(t){return jr(t.data)}}js.create=e=>new js({typeName:He.ZodUnknown,...Xe(e)});class ma extends et{_parse(t){const r=this._getOrReturnCtx(t);return je(r,{code:ge.invalid_type,expected:Te.never,received:r.parsedType}),qe}}ma.create=e=>new ma({typeName:He.ZodNever,...Xe(e)});class ku extends et{_parse(t){if(this._getType(t)!==Te.undefined){const n=this._getOrReturnCtx(t);return je(n,{code:ge.invalid_type,expected:Te.void,received:n.parsedType}),qe}return jr(t.data)}}ku.create=e=>new ku({typeName:He.ZodVoid,...Xe(e)});class gn extends et{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),s=this._def;if(r.parsedType!==Te.array)return je(r,{code:ge.invalid_type,expected:Te.array,received:r.parsedType}),qe;if(s.exactLength!==null){const o=r.data.length>s.exactLength.value,c=r.data.length<s.exactLength.value;(o||c)&&(je(r,{code:o?ge.too_big:ge.too_small,minimum:c?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(je(r,{code:ge.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(je(r,{code:ge.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,c)=>s.type._parseAsync(new Bn(r,o,r.path,c)))).then(o=>gr.mergeArray(n,o));const i=[...r.data].map((o,c)=>s.type._parseSync(new Bn(r,o,r.path,c)));return gr.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new gn({...this._def,minLength:{value:t,message:Re.toString(r)}})}max(t,r){return new gn({...this._def,maxLength:{value:t,message:Re.toString(r)}})}length(t,r){return new gn({...this._def,exactLength:{value:t,message:Re.toString(r)}})}nonempty(t){return this.min(1,t)}}gn.create=(e,t)=>new gn({type:e,minLength:null,maxLength:null,exactLength:null,typeName:He.ZodArray,...Xe(t)});function ci(e){if(e instanceof Ct){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=Dn.create(ci(n))}return new Ct({...e._def,shape:()=>t})}else return e instanceof gn?new gn({...e._def,type:ci(e.element)}):e instanceof Dn?Dn.create(ci(e.unwrap())):e instanceof Ua?Ua.create(ci(e.unwrap())):e instanceof Vn?Vn.create(e.items.map(t=>ci(t))):e}class Ct extends et{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=dt.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==Te.object){const u=this._getOrReturnCtx(t);return je(u,{code:ge.invalid_type,expected:Te.object,received:u.parsedType}),qe}const{status:n,ctx:s}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),c=[];if(!(this._def.catchall instanceof ma&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||c.push(u);const l=[];for(const u of o){const d=i[u],f=s.data[u];l.push({key:{status:"valid",value:u},value:d._parse(new Bn(s,f,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof ma){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of c)l.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")c.length>0&&(je(s,{code:ge.unrecognized_keys,keys:c}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of c){const f=s.data[d];l.push({key:{status:"valid",value:d},value:u._parse(new Bn(s,f,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of l){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>gr.mergeObjectSync(n,u)):gr.mergeObjectSync(n,l)}get shape(){return this._def.shape()}strict(t){return Re.errToObj,new Ct({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var s,i,o,c;const l=(o=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(c=Re.errToObj(t).message)!==null&&c!==void 0?c:l}:{message:l}}}:{}})}strip(){return new Ct({...this._def,unknownKeys:"strip"})}passthrough(){return new Ct({...this._def,unknownKeys:"passthrough"})}extend(t){return new Ct({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Ct({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:He.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Ct({...this._def,catchall:t})}pick(t){const r={};return dt.objectKeys(t).forEach(n=>{t[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new Ct({...this._def,shape:()=>r})}omit(t){const r={};return dt.objectKeys(this.shape).forEach(n=>{t[n]||(r[n]=this.shape[n])}),new Ct({...this._def,shape:()=>r})}deepPartial(){return ci(this)}partial(t){const r={};return dt.objectKeys(this.shape).forEach(n=>{const s=this.shape[n];t&&!t[n]?r[n]=s:r[n]=s.optional()}),new Ct({...this._def,shape:()=>r})}required(t){const r={};return dt.objectKeys(this.shape).forEach(n=>{if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof Dn;)i=i._def.innerType;r[n]=i}}),new Ct({...this._def,shape:()=>r})}keyof(){return iS(dt.objectKeys(this.shape))}}Ct.create=(e,t)=>new Ct({shape:()=>e,unknownKeys:"strip",catchall:ma.create(),typeName:He.ZodObject,...Xe(t)});Ct.strictCreate=(e,t)=>new Ct({shape:()=>e,unknownKeys:"strict",catchall:ma.create(),typeName:He.ZodObject,...Xe(t)});Ct.lazycreate=(e,t)=>new Ct({shape:e,unknownKeys:"strip",catchall:ma.create(),typeName:He.ZodObject,...Xe(t)});class bc extends et{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function s(i){for(const c of i)if(c.result.status==="valid")return c.result;for(const c of i)if(c.result.status==="dirty")return r.common.issues.push(...c.ctx.common.issues),c.result;const o=i.map(c=>new Lr(c.ctx.common.issues));return je(r,{code:ge.invalid_union,unionErrors:o}),qe}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const l of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=l._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const c=o.map(l=>new Lr(l));return je(r,{code:ge.invalid_union,unionErrors:c}),qe}}get options(){return this._def.options}}bc.create=(e,t)=>new bc({options:e,typeName:He.ZodUnion,...Xe(t)});const ea=e=>e instanceof Nc?ea(e.schema):e instanceof xn?ea(e.innerType()):e instanceof Sc?[e.value]:e instanceof za?e.options:e instanceof Ac?dt.objectValues(e.enum):e instanceof Oc?ea(e._def.innerType):e instanceof xc?[void 0]:e instanceof yc?[null]:e instanceof Dn?[void 0,...ea(e.unwrap())]:e instanceof Ua?[null,...ea(e.unwrap())]:e instanceof Cg||e instanceof Pc?ea(e.unwrap()):e instanceof _c?ea(e._def.innerType):[];class of extends et{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Te.object)return je(r,{code:ge.invalid_type,expected:Te.object,received:r.parsedType}),qe;const n=this.discriminator,s=r.data[n],i=this.optionsMap.get(s);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(je(r,{code:ge.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),qe)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){const s=new Map;for(const i of r){const o=ea(i.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const c of o){if(s.has(c))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(c)}`);s.set(c,i)}}return new of({typeName:He.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:s,...Xe(n)})}}function Sm(e,t){const r=ra(e),n=ra(t);if(e===t)return{valid:!0,data:e};if(r===Te.object&&n===Te.object){const s=dt.objectKeys(t),i=dt.objectKeys(e).filter(c=>s.indexOf(c)!==-1),o={...e,...t};for(const c of i){const l=Sm(e[c],t[c]);if(!l.valid)return{valid:!1};o[c]=l.data}return{valid:!0,data:o}}else if(r===Te.array&&n===Te.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let i=0;i<e.length;i++){const o=e[i],c=t[i],l=Sm(o,c);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return r===Te.date&&n===Te.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class jc extends et{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=(i,o)=>{if(wm(i)||wm(o))return qe;const c=Sm(i.value,o.value);return c.valid?((Nm(i)||Nm(o))&&r.dirty(),{status:r.value,value:c.data}):(je(n,{code:ge.invalid_intersection_types}),qe)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}jc.create=(e,t,r)=>new jc({left:e,right:t,typeName:He.ZodIntersection,...Xe(r)});class Vn extends et{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Te.array)return je(n,{code:ge.invalid_type,expected:Te.array,received:n.parsedType}),qe;if(n.data.length<this._def.items.length)return je(n,{code:ge.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),qe;!this._def.rest&&n.data.length>this._def.items.length&&(je(n,{code:ge.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,c)=>{const l=this._def.items[c]||this._def.rest;return l?l._parse(new Bn(n,o,n.path,c)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>gr.mergeArray(r,o)):gr.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new Vn({...this._def,rest:t})}}Vn.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Vn({items:e,typeName:He.ZodTuple,rest:null,...Xe(t)})};class wc extends et{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Te.object)return je(n,{code:ge.invalid_type,expected:Te.object,received:n.parsedType}),qe;const s=[],i=this._def.keyType,o=this._def.valueType;for(const c in n.data)s.push({key:i._parse(new Bn(n,c,n.path,c)),value:o._parse(new Bn(n,n.data[c],n.path,c)),alwaysSet:c in n.data});return n.common.async?gr.mergeObjectAsync(r,s):gr.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof et?new wc({keyType:t,valueType:r,typeName:He.ZodRecord,...Xe(n)}):new wc({keyType:pn.create(),valueType:t,typeName:He.ZodRecord,...Xe(r)})}}class Tu extends et{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Te.map)return je(n,{code:ge.invalid_type,expected:Te.map,received:n.parsedType}),qe;const s=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([c,l],u)=>({key:s._parse(new Bn(n,c,n.path,[u,"key"])),value:i._parse(new Bn(n,l,n.path,[u,"value"]))}));if(n.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const l of o){const u=await l.key,d=await l.value;if(u.status==="aborted"||d.status==="aborted")return qe;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),c.set(u.value,d.value)}return{status:r.value,value:c}})}else{const c=new Map;for(const l of o){const u=l.key,d=l.value;if(u.status==="aborted"||d.status==="aborted")return qe;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),c.set(u.value,d.value)}return{status:r.value,value:c}}}}Tu.create=(e,t,r)=>new Tu({valueType:t,keyType:e,typeName:He.ZodMap,...Xe(r)});class Es extends et{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Te.set)return je(n,{code:ge.invalid_type,expected:Te.set,received:n.parsedType}),qe;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(je(n,{code:ge.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(je(n,{code:ge.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const i=this._def.valueType;function o(l){const u=new Set;for(const d of l){if(d.status==="aborted")return qe;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const c=[...n.data.values()].map((l,u)=>i._parse(new Bn(n,l,n.path,u)));return n.common.async?Promise.all(c).then(l=>o(l)):o(c)}min(t,r){return new Es({...this._def,minSize:{value:t,message:Re.toString(r)}})}max(t,r){return new Es({...this._def,maxSize:{value:t,message:Re.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Es.create=(e,t)=>new Es({valueType:e,minSize:null,maxSize:null,typeName:He.ZodSet,...Xe(t)});class Ai extends et{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Te.function)return je(r,{code:ge.invalid_type,expected:Te.function,received:r.parsedType}),qe;function n(c,l){return Ou({data:c,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Au(),Ti].filter(u=>!!u),issueData:{code:ge.invalid_arguments,argumentsError:l}})}function s(c,l){return Ou({data:c,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Au(),Ti].filter(u=>!!u),issueData:{code:ge.invalid_return_type,returnTypeError:l}})}const i={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof Ei){const c=this;return jr(async function(...l){const u=new Lr([]),d=await c._def.args.parseAsync(l,i).catch(p=>{throw u.addIssue(n(l,p)),u}),f=await Reflect.apply(o,this,d);return await c._def.returns._def.type.parseAsync(f,i).catch(p=>{throw u.addIssue(s(f,p)),u})})}else{const c=this;return jr(function(...l){const u=c._def.args.safeParse(l,i);if(!u.success)throw new Lr([n(l,u.error)]);const d=Reflect.apply(o,this,u.data),f=c._def.returns.safeParse(d,i);if(!f.success)throw new Lr([s(d,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new Ai({...this._def,args:Vn.create(t).rest(js.create())})}returns(t){return new Ai({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new Ai({args:t||Vn.create([]).rest(js.create()),returns:r||js.create(),typeName:He.ZodFunction,...Xe(n)})}}class Nc extends et{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Nc.create=(e,t)=>new Nc({getter:e,typeName:He.ZodLazy,...Xe(t)});class Sc extends et{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return je(r,{received:r.data,code:ge.invalid_literal,expected:this._def.value}),qe}return{status:"valid",value:t.data}}get value(){return this._def.value}}Sc.create=(e,t)=>new Sc({value:e,typeName:He.ZodLiteral,...Xe(t)});function iS(e,t){return new za({values:e,typeName:He.ZodEnum,...Xe(t)})}class za extends et{constructor(){super(...arguments),Yo.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return je(r,{expected:dt.joinValues(n),received:r.parsedType,code:ge.invalid_type}),qe}if(_u(this,Yo)||rS(this,Yo,new Set(this._def.values)),!_u(this,Yo).has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return je(r,{received:r.data,code:ge.invalid_enum_value,options:n}),qe}return jr(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return za.create(t,{...this._def,...r})}exclude(t,r=this._def){return za.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}Yo=new WeakMap;za.create=iS;class Ac extends et{constructor(){super(...arguments),Jo.set(this,void 0)}_parse(t){const r=dt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==Te.string&&n.parsedType!==Te.number){const s=dt.objectValues(r);return je(n,{expected:dt.joinValues(s),received:n.parsedType,code:ge.invalid_type}),qe}if(_u(this,Jo)||rS(this,Jo,new Set(dt.getValidEnumValues(this._def.values))),!_u(this,Jo).has(t.data)){const s=dt.objectValues(r);return je(n,{received:n.data,code:ge.invalid_enum_value,options:s}),qe}return jr(t.data)}get enum(){return this._def.values}}Jo=new WeakMap;Ac.create=(e,t)=>new Ac({values:e,typeName:He.ZodNativeEnum,...Xe(t)});class Ei extends et{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Te.promise&&r.common.async===!1)return je(r,{code:ge.invalid_type,expected:Te.promise,received:r.parsedType}),qe;const n=r.parsedType===Te.promise?r.data:Promise.resolve(r.data);return jr(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Ei.create=(e,t)=>new Ei({type:e,typeName:He.ZodPromise,...Xe(t)});class xn extends et{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===He.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=this._def.effect||null,i={addIssue:o=>{je(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async c=>{if(r.value==="aborted")return qe;const l=await this._def.schema._parseAsync({data:c,path:n.path,parent:n});return l.status==="aborted"?qe:l.status==="dirty"||r.value==="dirty"?fi(l.value):l});{if(r.value==="aborted")return qe;const c=this._def.schema._parseSync({data:o,path:n.path,parent:n});return c.status==="aborted"?qe:c.status==="dirty"||r.value==="dirty"?fi(c.value):c}}if(s.type==="refinement"){const o=c=>{const l=s.refinement(c,i);if(n.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(n.common.async===!1){const c=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return c.status==="aborted"?qe:(c.status==="dirty"&&r.dirty(),o(c.value),{status:r.value,value:c.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(c=>c.status==="aborted"?qe:(c.status==="dirty"&&r.dirty(),o(c.value).then(()=>({status:r.value,value:c.value}))))}if(s.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Ts(o))return o;const c=s.transform(o.value,i);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:c}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>Ts(o)?Promise.resolve(s.transform(o.value,i)).then(c=>({status:r.value,value:c})):o);dt.assertNever(s)}}xn.create=(e,t,r)=>new xn({schema:e,typeName:He.ZodEffects,effect:t,...Xe(r)});xn.createWithPreprocess=(e,t,r)=>new xn({schema:t,effect:{type:"preprocess",transform:e},typeName:He.ZodEffects,...Xe(r)});class Dn extends et{_parse(t){return this._getType(t)===Te.undefined?jr(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Dn.create=(e,t)=>new Dn({innerType:e,typeName:He.ZodOptional,...Xe(t)});class Ua extends et{_parse(t){return this._getType(t)===Te.null?jr(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ua.create=(e,t)=>new Ua({innerType:e,typeName:He.ZodNullable,...Xe(t)});class Oc extends et{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===Te.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Oc.create=(e,t)=>new Oc({innerType:e,typeName:He.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Xe(t)});class _c extends et{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return gc(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Lr(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Lr(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}_c.create=(e,t)=>new _c({innerType:e,typeName:He.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Xe(t)});class Cu extends et{_parse(t){if(this._getType(t)!==Te.nan){const n=this._getOrReturnCtx(t);return je(n,{code:ge.invalid_type,expected:Te.nan,received:n.parsedType}),qe}return{status:"valid",value:t.data}}}Cu.create=e=>new Cu({typeName:He.ZodNaN,...Xe(e)});const MM=Symbol("zod_brand");class Cg extends et{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class xl extends et{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?qe:i.status==="dirty"?(r.dirty(),fi(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?qe:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(t,r){return new xl({in:t,out:r,typeName:He.ZodPipeline})}}class Pc extends et{_parse(t){const r=this._def.innerType._parse(t),n=s=>(Ts(s)&&(s.value=Object.freeze(s.value)),s);return gc(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}Pc.create=(e,t)=>new Pc({innerType:e,typeName:He.ZodReadonly,...Xe(t)});function gy(e,t){const r=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof r=="string"?{message:r}:r}function oS(e,t={},r){return e?Ci.create().superRefine((n,s)=>{var i,o;const c=e(n);if(c instanceof Promise)return c.then(l=>{var u,d;if(!l){const f=gy(t,n),h=(d=(u=f.fatal)!==null&&u!==void 0?u:r)!==null&&d!==void 0?d:!0;s.addIssue({code:"custom",...f,fatal:h})}});if(!c){const l=gy(t,n),u=(o=(i=l.fatal)!==null&&i!==void 0?i:r)!==null&&o!==void 0?o:!0;s.addIssue({code:"custom",...l,fatal:u})}}):Ci.create()}const RM={object:Ct.lazycreate};var He;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(He||(He={}));const LM=(e,t={message:`Input not instance of ${e.name}`})=>oS(r=>r instanceof e,t),cS=pn.create,lS=Ba.create,FM=Cu.create,BM=Va.create,uS=vc.create,VM=Cs.create,zM=Pu.create,UM=xc.create,WM=yc.create,HM=Ci.create,qM=js.create,KM=ma.create,GM=ku.create,ZM=gn.create,XM=Ct.create,YM=Ct.strictCreate,JM=bc.create,QM=of.create,eR=jc.create,tR=Vn.create,rR=wc.create,nR=Tu.create,aR=Es.create,sR=Ai.create,iR=Nc.create,oR=Sc.create,cR=za.create,lR=Ac.create,uR=Ei.create,vy=xn.create,dR=Dn.create,fR=Ua.create,hR=xn.createWithPreprocess,mR=xl.create,pR=()=>cS().optional(),gR=()=>lS().optional(),vR=()=>uS().optional(),xR={string:e=>pn.create({...e,coerce:!0}),number:e=>Ba.create({...e,coerce:!0}),boolean:e=>vc.create({...e,coerce:!0}),bigint:e=>Va.create({...e,coerce:!0}),date:e=>Cs.create({...e,coerce:!0})},yR=qe;var na=Object.freeze({__proto__:null,defaultErrorMap:Ti,setErrorMap:hM,getErrorMap:Au,makeIssue:Ou,EMPTY_PATH:mM,addIssueToContext:je,ParseStatus:gr,INVALID:qe,DIRTY:fi,OK:jr,isAborted:wm,isDirty:Nm,isValid:Ts,isAsync:gc,get util(){return dt},get objectUtil(){return jm},ZodParsedType:Te,getParsedType:ra,ZodType:et,datetimeRegex:sS,ZodString:pn,ZodNumber:Ba,ZodBigInt:Va,ZodBoolean:vc,ZodDate:Cs,ZodSymbol:Pu,ZodUndefined:xc,ZodNull:yc,ZodAny:Ci,ZodUnknown:js,ZodNever:ma,ZodVoid:ku,ZodArray:gn,ZodObject:Ct,ZodUnion:bc,ZodDiscriminatedUnion:of,ZodIntersection:jc,ZodTuple:Vn,ZodRecord:wc,ZodMap:Tu,ZodSet:Es,ZodFunction:Ai,ZodLazy:Nc,ZodLiteral:Sc,ZodEnum:za,ZodNativeEnum:Ac,ZodPromise:Ei,ZodEffects:xn,ZodTransformer:xn,ZodOptional:Dn,ZodNullable:Ua,ZodDefault:Oc,ZodCatch:_c,ZodNaN:Cu,BRAND:MM,ZodBranded:Cg,ZodPipeline:xl,ZodReadonly:Pc,custom:oS,Schema:et,ZodSchema:et,late:RM,get ZodFirstPartyTypeKind(){return He},coerce:xR,any:HM,array:ZM,bigint:BM,boolean:uS,date:VM,discriminatedUnion:QM,effect:vy,enum:cR,function:sR,instanceof:LM,intersection:eR,lazy:iR,literal:oR,map:nR,nan:FM,nativeEnum:lR,never:KM,null:WM,nullable:fR,number:lS,object:XM,oboolean:vR,onumber:gR,optional:dR,ostring:pR,pipeline:mR,preprocess:hR,promise:uR,record:rR,set:aR,strictObject:YM,string:cS,symbol:zM,transformer:vy,tuple:tR,undefined:UM,union:JM,unknown:qM,void:GM,NEVER:yR,ZodIssueCode:ge,quotelessJson:fM,ZodError:Lr});const bR=na.object({email:na.string().email("電子郵件格式無效"),password:na.string().min(6,"密碼至少需要6個字符")}),jR=()=>{const[e,t]=v.useState(!1),[r,n]=v.useState(!1),{login:s}=lo(),i=Wd(),{register:o,handleSubmit:c,formState:{errors:l}}=JN({resolver:eS(bR)}),u=async d=>{n(!0);try{await s(d.email,d.password),i("/")}catch{}finally{n(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted/30 py-12",children:a.jsxs(ue,{className:"w-full max-w-md",children:[a.jsxs(xe,{className:"text-center",children:[a.jsx(ye,{className:"text-2xl",children:"登入"}),a.jsx(rt,{children:"登入您的帳戶以繼續"})]}),a.jsxs(he,{children:[a.jsxs("form",{onSubmit:c(u),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"email",children:"電子郵件"}),a.jsx(le,{id:"email",type:"email",placeholder:"請輸入您的電子郵件",...o("email"),className:l.email?"border-red-500":""}),l.email&&a.jsx("p",{className:"text-sm text-red-500",children:l.email.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"password",children:"密碼"}),a.jsxs("div",{className:"relative",children:[a.jsx(le,{id:"password",type:e?"text":"password",placeholder:"請輸入密碼",...o("password"),className:l.password?"border-red-500":""}),a.jsx("button",{type:"button",onClick:()=>t(!e),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground",children:e?a.jsx(B1,{className:"h-4 w-4"}):a.jsx(Ma,{className:"h-4 w-4"})})]}),l.password&&a.jsx("p",{className:"text-sm text-red-500",children:l.password.message})]}),a.jsx(W,{type:"submit",className:"w-full",disabled:r,children:r?"登入中...":"登入"})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs("p",{className:"text-sm text-muted-foreground",children:["還沒有帳戶？"," ",a.jsx(Er,{to:"/register",className:"text-primary hover:underline",children:"立即註冊"})]})})]})]})})},wR=na.object({name:na.string().min(2,"姓名至少需要2個字符"),email:na.string().email("電子郵件格式無效"),phone:na.string().min(10,"電話號碼無效"),password:na.string().min(6,"密碼至少需要6個字符"),licensePlate:na.string().optional()}),NR=()=>{const[e,t]=v.useState(!1),[r,n]=v.useState(!1),{register:s}=lo(),i=Wd(),{register:o,handleSubmit:c,formState:{errors:l}}=JN({resolver:eS(wR)}),u=async d=>{n(!0);try{await s(d),i("/")}catch{}finally{n(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted/30 py-12",children:a.jsxs(ue,{className:"w-full max-w-md",children:[a.jsxs(xe,{className:"text-center",children:[a.jsx(ye,{className:"text-2xl",children:"註冊"}),a.jsx(rt,{children:"創建新帳戶以使用服務"})]}),a.jsxs(he,{children:[a.jsxs("form",{onSubmit:c(u),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"name",children:"姓名"}),a.jsx(le,{id:"name",type:"text",placeholder:"請輸入您的姓名",...o("name"),className:l.name?"border-red-500":""}),l.name&&a.jsx("p",{className:"text-sm text-red-500",children:l.name.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"email",children:"電子郵件"}),a.jsx(le,{id:"email",type:"email",placeholder:"請輸入您的電子郵件",...o("email"),className:l.email?"border-red-500":""}),l.email&&a.jsx("p",{className:"text-sm text-red-500",children:l.email.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"phone",children:"電話號碼"}),a.jsx(le,{id:"phone",type:"tel",placeholder:"請輸入電話號碼",...o("phone"),className:l.phone?"border-red-500":""}),l.phone&&a.jsx("p",{className:"text-sm text-red-500",children:l.phone.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"licensePlate",children:"車牌號碼 (選填)"}),a.jsx(le,{id:"licensePlate",type:"text",placeholder:"請輸入車牌號碼",...o("licensePlate")})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Z,{htmlFor:"password",children:"密碼"}),a.jsxs("div",{className:"relative",children:[a.jsx(le,{id:"password",type:e?"text":"password",placeholder:"請輸入密碼",...o("password"),className:l.password?"border-red-500":""}),a.jsx("button",{type:"button",onClick:()=>t(!e),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground",children:e?a.jsx(B1,{className:"h-4 w-4"}):a.jsx(Ma,{className:"h-4 w-4"})})]}),l.password&&a.jsx("p",{className:"text-sm text-red-500",children:l.password.message})]}),a.jsx(W,{type:"submit",className:"w-full",disabled:r,children:r?"註冊中...":"註冊"})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs("p",{className:"text-sm text-muted-foreground",children:["已有帳戶？"," ",a.jsx(Er,{to:"/login",className:"text-primary hover:underline",children:"登入"})]})})]})]})})};function ua(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function Eg(e,t=[]){let r=[];function n(i,o){const c=v.createContext(o),l=r.length;r=[...r,o];const u=f=>{var b;const{scope:h,children:p,...g}=f,m=((b=h==null?void 0:h[e])==null?void 0:b[l])||c,x=v.useMemo(()=>g,Object.values(g));return a.jsx(m.Provider,{value:x,children:p})};u.displayName=i+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[l])||c,g=v.useContext(p);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(o=>v.createContext(o));return function(c){const l=(c==null?void 0:c[e])||i;return v.useMemo(()=>({[`__scope${e}`]:{...c,[e]:l}}),[c,l])}};return s.scopeName=e,[n,SR(s,...t)]}function SR(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((c,{useScope:l,scopeName:u})=>{const f=l(i)[`__scope${u}`];return{...c,...f}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function xy(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function AR(...e){return t=>{let r=!1;const n=e.map(s=>{const i=xy(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():xy(e[s],null)}}}}function Eu(...e){return v.useCallback(AR(...e),e)}function OR(e){const t=e+"CollectionProvider",[r,n]=Eg(t),[s,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:x,children:b}=m,y=D.useRef(null),w=D.useRef(new Map).current;return a.jsx(s,{scope:x,itemMap:w,collectionRef:y,children:b})};o.displayName=t;const c=e+"CollectionSlot",l=an(c),u=D.forwardRef((m,x)=>{const{scope:b,children:y}=m,w=i(c,b),S=Eu(x,w.collectionRef);return a.jsx(l,{ref:S,children:y})});u.displayName=c;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=an(d),p=D.forwardRef((m,x)=>{const{scope:b,children:y,...w}=m,S=D.useRef(null),N=Eu(x,S),j=i(d,b);return D.useEffect(()=>(j.itemMap.set(S,{ref:S,...w}),()=>void j.itemMap.delete(S))),a.jsx(h,{[f]:"",ref:N,children:y})});p.displayName=d;function g(m){const x=i(e+"CollectionConsumer",m);return D.useCallback(()=>{const y=x.collectionRef.current;if(!y)return[];const w=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(x.itemMap.values()).sort((j,A)=>w.indexOf(j.ref.current)-w.indexOf(A.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:u,ItemSlot:p},g,n]}var $u=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},_R=Ws[" useId ".trim().toString()]||(()=>{}),PR=0;function dS(e){const[t,r]=v.useState(_R());return $u(()=>{r(n=>n??String(PR++))},[e]),t?`radix-${t}`:""}var kR=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],fo=kR.reduce((e,t)=>{const r=an(`Primitive.${t}`),n=v.forwardRef((s,i)=>{const{asChild:o,...c}=s,l=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(l,{...c,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function TR(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}var CR=Ws[" useInsertionEffect ".trim().toString()]||$u;function fS({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,i,o]=ER({defaultProp:t,onChange:r}),c=e!==void 0,l=c?e:s;{const d=v.useRef(e!==void 0);v.useEffect(()=>{const f=d.current;f!==c&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=c},[c,n])}const u=v.useCallback(d=>{var f;if(c){const h=$R(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else i(d)},[c,e,i,o]);return[l,u]}function ER({defaultProp:e,onChange:t}){const[r,n]=v.useState(e),s=v.useRef(r),i=v.useRef(t);return CR(()=>{i.current=t},[t]),v.useEffect(()=>{var o;s.current!==r&&((o=i.current)==null||o.call(i,r),s.current=r)},[r,s]),[r,n,i]}function $R(e){return typeof e=="function"}var DR=v.createContext(void 0);function hS(e){const t=v.useContext(DR);return e||t||"ltr"}var Sh="rovingFocusGroup.onEntryFocus",IR={bubbles:!1,cancelable:!0},yl="RovingFocusGroup",[Am,mS,MR]=OR(yl),[RR,pS]=Eg(yl,[MR]),[LR,FR]=RR(yl),gS=v.forwardRef((e,t)=>a.jsx(Am.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(Am.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(BR,{...e,ref:t})})}));gS.displayName=yl;var BR=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=v.useRef(null),p=Eu(t,h),g=hS(i),[m,x]=fS({prop:o,defaultProp:c??null,onChange:l,caller:yl}),[b,y]=v.useState(!1),w=TR(u),S=mS(r),N=v.useRef(!1),[j,A]=v.useState(0);return v.useEffect(()=>{const O=h.current;if(O)return O.addEventListener(Sh,w),()=>O.removeEventListener(Sh,w)},[w]),a.jsx(LR,{scope:r,orientation:n,dir:g,loop:s,currentTabStopId:m,onItemFocus:v.useCallback(O=>x(O),[x]),onItemShiftTab:v.useCallback(()=>y(!0),[]),onFocusableItemAdd:v.useCallback(()=>A(O=>O+1),[]),onFocusableItemRemove:v.useCallback(()=>A(O=>O-1),[]),children:a.jsx(fo.div,{tabIndex:b||j===0?-1:0,"data-orientation":n,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:ua(e.onMouseDown,()=>{N.current=!0}),onFocus:ua(e.onFocus,O=>{const P=!N.current;if(O.target===O.currentTarget&&P&&!b){const T=new CustomEvent(Sh,IR);if(O.currentTarget.dispatchEvent(T),!T.defaultPrevented){const _=S().filter(F=>F.focusable),k=_.find(F=>F.active),E=_.find(F=>F.id===m),I=[k,E,..._].filter(Boolean).map(F=>F.ref.current);yS(I,d)}}N.current=!1}),onBlur:ua(e.onBlur,()=>y(!1))})})}),vS="RovingFocusGroupItem",xS=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,children:o,...c}=e,l=dS(),u=i||l,d=FR(vS,r),f=d.currentTabStopId===u,h=mS(r),{onFocusableItemAdd:p,onFocusableItemRemove:g,currentTabStopId:m}=d;return v.useEffect(()=>{if(n)return p(),()=>g()},[n,p,g]),a.jsx(Am.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:a.jsx(fo.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...c,ref:t,onMouseDown:ua(e.onMouseDown,x=>{n?d.onItemFocus(u):x.preventDefault()}),onFocus:ua(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:ua(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){d.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const b=UR(x,d.orientation,d.dir);if(b!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let w=h().filter(S=>S.focusable).map(S=>S.ref.current);if(b==="last")w.reverse();else if(b==="prev"||b==="next"){b==="prev"&&w.reverse();const S=w.indexOf(x.currentTarget);w=d.loop?WR(w,S+1):w.slice(S+1)}setTimeout(()=>yS(w))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:m!=null}):o})})});xS.displayName=vS;var VR={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function zR(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function UR(e,t,r){const n=zR(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return VR[n]}function yS(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function WR(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var HR=gS,qR=xS;function KR(e,t){return v.useReducer((r,n)=>t[r][n]??r,e)}var bS=e=>{const{present:t,children:r}=e,n=GR(t),s=typeof r=="function"?r({present:n.isPresent}):v.Children.only(r),i=Eu(n.ref,ZR(s));return typeof r=="function"||n.isPresent?v.cloneElement(s,{ref:i}):null};bS.displayName="Presence";function GR(e){const[t,r]=v.useState(),n=v.useRef(null),s=v.useRef(e),i=v.useRef("none"),o=e?"mounted":"unmounted",[c,l]=KR(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const u=Rl(n.current);i.current=c==="mounted"?u:"none"},[c]),$u(()=>{const u=n.current,d=s.current;if(d!==e){const h=i.current,p=Rl(u);e?l("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,l]),$u(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const m=Rl(n.current).includes(p.animationName);if(p.target===t&&m&&(l("ANIMATION_END"),!s.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},h=p=>{p.target===t&&(i.current=Rl(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:v.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Rl(e){return(e==null?void 0:e.animationName)||"none"}function ZR(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var cf="Tabs",[XR,fle]=Eg(cf,[pS]),jS=pS(),[YR,$g]=XR(cf),wS=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:c,activationMode:l="automatic",...u}=e,d=hS(c),[f,h]=fS({prop:n,onChange:s,defaultProp:i??"",caller:cf});return a.jsx(YR,{scope:r,baseId:dS(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:l,children:a.jsx(fo.div,{dir:d,"data-orientation":o,...u,ref:t})})});wS.displayName=cf;var NS="TabsList",SS=v.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,i=$g(NS,r),o=jS(r);return a.jsx(HR,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:a.jsx(fo.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});SS.displayName=NS;var AS="TabsTrigger",OS=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...i}=e,o=$g(AS,r),c=jS(r),l=kS(o.baseId,n),u=TS(o.baseId,n),d=n===o.value;return a.jsx(qR,{asChild:!0,...c,focusable:!s,active:d,children:a.jsx(fo.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:t,onMouseDown:ua(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:ua(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:ua(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!s&&f&&o.onValueChange(n)})})})});OS.displayName=AS;var _S="TabsContent",PS=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:i,...o}=e,c=$g(_S,r),l=kS(c.baseId,n),u=TS(c.baseId,n),d=n===c.value,f=v.useRef(d);return v.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),a.jsx(bS,{present:s||d,children:({present:h})=>a.jsx(fo.div,{"data-state":d?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});PS.displayName=_S;function kS(e,t){return`${e}-trigger-${t}`}function TS(e,t){return`${e}-content-${t}`}var JR=wS,CS=SS,ES=OS,$S=PS;const ho=JR,Gs=v.forwardRef(({className:e,...t},r)=>a.jsx(CS,{ref:r,className:Ye("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Gs.displayName=CS.displayName;const Mt=v.forwardRef(({className:e,...t},r)=>a.jsx(ES,{ref:r,className:Ye("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Mt.displayName=ES.displayName;const er=v.forwardRef(({className:e,...t},r)=>a.jsx($S,{ref:r,className:Ye("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));er.displayName=$S.displayName;function yy(e,[t,r]){return Math.min(r,Math.max(t,e))}function Wt(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function Dg(e,t=[]){let r=[];function n(i,o){const c=v.createContext(o),l=r.length;r=[...r,o];const u=f=>{var b;const{scope:h,children:p,...g}=f,m=((b=h==null?void 0:h[e])==null?void 0:b[l])||c,x=v.useMemo(()=>g,Object.values(g));return a.jsx(m.Provider,{value:x,children:p})};u.displayName=i+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[l])||c,g=v.useContext(p);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(o=>v.createContext(o));return function(c){const l=(c==null?void 0:c[e])||i;return v.useMemo(()=>({[`__scope${e}`]:{...c,[e]:l}}),[c,l])}};return s.scopeName=e,[n,QR(s,...t)]}function QR(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((c,{useScope:l,scopeName:u})=>{const f=l(i)[`__scope${u}`];return{...c,...f}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function by(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function e4(...e){return t=>{let r=!1;const n=e.map(s=>{const i=by(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():by(e[s],null)}}}}function cr(...e){return v.useCallback(e4(...e),e)}function t4(e){const t=e+"CollectionProvider",[r,n]=Dg(t),[s,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:x,children:b}=m,y=D.useRef(null),w=D.useRef(new Map).current;return a.jsx(s,{scope:x,itemMap:w,collectionRef:y,children:b})};o.displayName=t;const c=e+"CollectionSlot",l=an(c),u=D.forwardRef((m,x)=>{const{scope:b,children:y}=m,w=i(c,b),S=cr(x,w.collectionRef);return a.jsx(l,{ref:S,children:y})});u.displayName=c;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=an(d),p=D.forwardRef((m,x)=>{const{scope:b,children:y,...w}=m,S=D.useRef(null),N=cr(x,S),j=i(d,b);return D.useEffect(()=>(j.itemMap.set(S,{ref:S,...w}),()=>void j.itemMap.delete(S))),a.jsx(h,{[f]:"",ref:N,children:y})});p.displayName=d;function g(m){const x=i(e+"CollectionConsumer",m);return D.useCallback(()=>{const y=x.collectionRef.current;if(!y)return[];const w=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(x.itemMap.values()).sort((j,A)=>w.indexOf(j.ref.current)-w.indexOf(A.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:u,ItemSlot:p},g,n]}var r4=v.createContext(void 0);function n4(e){const t=v.useContext(r4);return e||t||"ltr"}var a4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Bt=a4.reduce((e,t)=>{const r=an(`Primitive.${t}`),n=v.forwardRef((s,i)=>{const{asChild:o,...c}=s,l=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(l,{...c,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function s4(e,t){e&&io.flushSync(()=>e.dispatchEvent(t))}function $s(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function i4(e,t=globalThis==null?void 0:globalThis.document){const r=$s(e);v.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var o4="DismissableLayer",Om="dismissableLayer.update",c4="dismissableLayer.pointerDownOutside",l4="dismissableLayer.focusOutside",jy,DS=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),IS=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:c,...l}=e,u=v.useContext(DS),[d,f]=v.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=v.useState({}),g=cr(t,A=>f(A)),m=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=m.indexOf(x),y=d?m.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,S=y>=b,N=f4(A=>{const O=A.target,P=[...u.branches].some(T=>T.contains(O));!S||P||(s==null||s(A),o==null||o(A),A.defaultPrevented||c==null||c())},h),j=h4(A=>{const O=A.target;[...u.branches].some(T=>T.contains(O))||(i==null||i(A),o==null||o(A),A.defaultPrevented||c==null||c())},h);return i4(A=>{y===u.layers.size-1&&(n==null||n(A),!A.defaultPrevented&&c&&(A.preventDefault(),c()))},h),v.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(jy=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),wy(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=jy)}},[d,h,r,u]),v.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),wy())},[d,u]),v.useEffect(()=>{const A=()=>p({});return document.addEventListener(Om,A),()=>document.removeEventListener(Om,A)},[]),a.jsx(Bt.div,{...l,ref:g,style:{pointerEvents:w?S?"auto":"none":void 0,...e.style},onFocusCapture:Wt(e.onFocusCapture,j.onFocusCapture),onBlurCapture:Wt(e.onBlurCapture,j.onBlurCapture),onPointerDownCapture:Wt(e.onPointerDownCapture,N.onPointerDownCapture)})});IS.displayName=o4;var u4="DismissableLayerBranch",d4=v.forwardRef((e,t)=>{const r=v.useContext(DS),n=v.useRef(null),s=cr(t,n);return v.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),a.jsx(Bt.div,{...e,ref:s})});d4.displayName=u4;function f4(e,t=globalThis==null?void 0:globalThis.document){const r=$s(e),n=v.useRef(!1),s=v.useRef(()=>{});return v.useEffect(()=>{const i=c=>{if(c.target&&!n.current){let l=function(){MS(c4,r,u,{discrete:!0})};const u={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=l,t.addEventListener("click",s.current,{once:!0})):l()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function h4(e,t=globalThis==null?void 0:globalThis.document){const r=$s(e),n=v.useRef(!1);return v.useEffect(()=>{const s=i=>{i.target&&!n.current&&MS(l4,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function wy(){const e=new CustomEvent(Om);document.dispatchEvent(e)}function MS(e,t,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?s4(s,i):s.dispatchEvent(i)}var Ah=0;function m4(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Ny()),document.body.insertAdjacentElement("beforeend",e[1]??Ny()),Ah++,()=>{Ah===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Ah--}},[])}function Ny(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Oh="focusScope.autoFocusOnMount",_h="focusScope.autoFocusOnUnmount",Sy={bubbles:!1,cancelable:!0},p4="FocusScope",RS=v.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[c,l]=v.useState(null),u=$s(s),d=$s(i),f=v.useRef(null),h=cr(t,m=>l(m)),p=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(n){let m=function(w){if(p.paused||!c)return;const S=w.target;c.contains(S)?f.current=S:_a(f.current,{select:!0})},x=function(w){if(p.paused||!c)return;const S=w.relatedTarget;S!==null&&(c.contains(S)||_a(f.current,{select:!0}))},b=function(w){if(document.activeElement===document.body)for(const N of w)N.removedNodes.length>0&&_a(c)};document.addEventListener("focusin",m),document.addEventListener("focusout",x);const y=new MutationObserver(b);return c&&y.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",x),y.disconnect()}}},[n,c,p.paused]),v.useEffect(()=>{if(c){Oy.add(p);const m=document.activeElement;if(!c.contains(m)){const b=new CustomEvent(Oh,Sy);c.addEventListener(Oh,u),c.dispatchEvent(b),b.defaultPrevented||(g4(j4(LS(c)),{select:!0}),document.activeElement===m&&_a(c))}return()=>{c.removeEventListener(Oh,u),setTimeout(()=>{const b=new CustomEvent(_h,Sy);c.addEventListener(_h,d),c.dispatchEvent(b),b.defaultPrevented||_a(m??document.body,{select:!0}),c.removeEventListener(_h,d),Oy.remove(p)},0)}}},[c,u,d,p]);const g=v.useCallback(m=>{if(!r&&!n||p.paused)return;const x=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,b=document.activeElement;if(x&&b){const y=m.currentTarget,[w,S]=v4(y);w&&S?!m.shiftKey&&b===S?(m.preventDefault(),r&&_a(w,{select:!0})):m.shiftKey&&b===w&&(m.preventDefault(),r&&_a(S,{select:!0})):b===y&&m.preventDefault()}},[r,n,p.paused]);return a.jsx(Bt.div,{tabIndex:-1,...o,ref:h,onKeyDown:g})});RS.displayName=p4;function g4(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(_a(n,{select:t}),document.activeElement!==r)return}function v4(e){const t=LS(e),r=Ay(t,e),n=Ay(t.reverse(),e);return[r,n]}function LS(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Ay(e,t){for(const r of e)if(!x4(r,{upTo:t}))return r}function x4(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function y4(e){return e instanceof HTMLInputElement&&"select"in e}function _a(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&y4(e)&&t&&e.select()}}var Oy=b4();function b4(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=_y(e,t),e.unshift(t)},remove(t){var r;e=_y(e,t),(r=e[0])==null||r.resume()}}}function _y(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function j4(e){return e.filter(t=>t.tagName!=="A")}var Pr=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},w4=Ws[" useId ".trim().toString()]||(()=>{}),N4=0;function Ig(e){const[t,r]=v.useState(w4());return Pr(()=>{r(n=>n??String(N4++))},[e]),t?`radix-${t}`:""}const S4=["top","right","bottom","left"],Wa=Math.min,Dr=Math.max,Du=Math.round,Ll=Math.floor,In=e=>({x:e,y:e}),A4={left:"right",right:"left",bottom:"top",top:"bottom"},O4={start:"end",end:"start"};function _m(e,t,r){return Dr(e,Wa(t,r))}function pa(e,t){return typeof e=="function"?e(t):e}function ga(e){return e.split("-")[0]}function mo(e){return e.split("-")[1]}function Mg(e){return e==="x"?"y":"x"}function Rg(e){return e==="y"?"height":"width"}function Ha(e){return["top","bottom"].includes(ga(e))?"y":"x"}function Lg(e){return Mg(Ha(e))}function _4(e,t,r){r===void 0&&(r=!1);const n=mo(e),s=Lg(e),i=Rg(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Iu(o)),[o,Iu(o)]}function P4(e){const t=Iu(e);return[Pm(e),t,Pm(t)]}function Pm(e){return e.replace(/start|end/g,t=>O4[t])}function k4(e,t,r){const n=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?s:n:t?n:s;case"left":case"right":return t?i:o;default:return[]}}function T4(e,t,r,n){const s=mo(e);let i=k4(ga(e),r==="start",n);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(Pm)))),i}function Iu(e){return e.replace(/left|right|bottom|top/g,t=>A4[t])}function C4(e){return{top:0,right:0,bottom:0,left:0,...e}}function FS(e){return typeof e!="number"?C4(e):{top:e,right:e,bottom:e,left:e}}function Mu(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function Py(e,t,r){let{reference:n,floating:s}=e;const i=Ha(t),o=Lg(t),c=Rg(o),l=ga(t),u=i==="y",d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,h=n[c]/2-s[c]/2;let p;switch(l){case"top":p={x:d,y:n.y-s.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-s.width,y:f};break;default:p={x:n.x,y:n.y}}switch(mo(t)){case"start":p[o]-=h*(r&&u?-1:1);break;case"end":p[o]+=h*(r&&u?-1:1);break}return p}const E4=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:o}=r,c=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=Py(u,n,l),h=n,p={},g=0;for(let m=0;m<c.length;m++){const{name:x,fn:b}=c[m],{x:y,y:w,data:S,reset:N}=await b({x:d,y:f,initialPlacement:n,placement:h,strategy:s,middlewareData:p,rects:u,platform:o,elements:{reference:e,floating:t}});d=y??d,f=w??f,p={...p,[x]:{...p[x],...S}},N&&g<=50&&(g++,typeof N=="object"&&(N.placement&&(h=N.placement),N.rects&&(u=N.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):N.rects),{x:d,y:f}=Py(u,h,l)),m=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:p}};async function kc(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:i,rects:o,elements:c,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=pa(t,e),g=FS(p),x=c[h?f==="floating"?"reference":"floating":f],b=Mu(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(x)))==null||r?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:u,rootBoundary:d,strategy:l})),y=f==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating)),S=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},N=Mu(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:y,offsetParent:w,strategy:l}):y);return{top:(b.top-N.top+g.top)/S.y,bottom:(N.bottom-b.bottom+g.bottom)/S.y,left:(b.left-N.left+g.left)/S.x,right:(N.right-b.right+g.right)/S.x}}const $4=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:i,platform:o,elements:c,middlewareData:l}=t,{element:u,padding:d=0}=pa(e,t)||{};if(u==null)return{};const f=FS(d),h={x:r,y:n},p=Lg(s),g=Rg(p),m=await o.getDimensions(u),x=p==="y",b=x?"top":"left",y=x?"bottom":"right",w=x?"clientHeight":"clientWidth",S=i.reference[g]+i.reference[p]-h[p]-i.floating[g],N=h[p]-i.reference[p],j=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let A=j?j[w]:0;(!A||!await(o.isElement==null?void 0:o.isElement(j)))&&(A=c.floating[w]||i.floating[g]);const O=S/2-N/2,P=A/2-m[g]/2-1,T=Wa(f[b],P),_=Wa(f[y],P),k=T,E=A-m[g]-_,C=A/2-m[g]/2+O,I=_m(k,C,E),F=!l.arrow&&mo(s)!=null&&C!==I&&i.reference[g]/2-(C<k?T:_)-m[g]/2<0,$=F?C<k?C-k:C-E:0;return{[p]:h[p]+$,data:{[p]:I,centerOffset:C-I-$,...F&&{alignmentOffset:$}},reset:F}}}),D4=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:i,rects:o,initialPlacement:c,platform:l,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...x}=pa(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const b=ga(s),y=Ha(c),w=ga(c)===c,S=await(l.isRTL==null?void 0:l.isRTL(u.floating)),N=h||(w||!m?[Iu(c)]:P4(c)),j=g!=="none";!h&&j&&N.push(...T4(c,m,g,S));const A=[c,...N],O=await kc(t,x),P=[];let T=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&P.push(O[b]),f){const C=_4(s,o,S);P.push(O[C[0]],O[C[1]])}if(T=[...T,{placement:s,overflows:P}],!P.every(C=>C<=0)){var _,k;const C=(((_=i.flip)==null?void 0:_.index)||0)+1,I=A[C];if(I)return{data:{index:C,overflows:T},reset:{placement:I}};let F=(k=T.filter($=>$.overflows[0]<=0).sort(($,q)=>$.overflows[1]-q.overflows[1])[0])==null?void 0:k.placement;if(!F)switch(p){case"bestFit":{var E;const $=(E=T.filter(q=>{if(j){const M=Ha(q.placement);return M===y||M==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(M=>M>0).reduce((M,J)=>M+J,0)]).sort((q,M)=>q[1]-M[1])[0])==null?void 0:E[0];$&&(F=$);break}case"initialPlacement":F=c;break}if(s!==F)return{reset:{placement:F}}}return{}}}};function ky(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Ty(e){return S4.some(t=>e[t]>=0)}const I4=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=pa(e,t);switch(n){case"referenceHidden":{const i=await kc(t,{...s,elementContext:"reference"}),o=ky(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Ty(o)}}}case"escaped":{const i=await kc(t,{...s,altBoundary:!0}),o=ky(i,r.floating);return{data:{escapedOffsets:o,escaped:Ty(o)}}}default:return{}}}}};async function M4(e,t){const{placement:r,platform:n,elements:s}=e,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=ga(r),c=mo(r),l=Ha(r)==="y",u=["left","top"].includes(o)?-1:1,d=i&&l?-1:1,f=pa(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return c&&typeof g=="number"&&(p=c==="end"?g*-1:g),l?{x:p*d,y:h*u}:{x:h*u,y:p*d}}const R4=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:i,placement:o,middlewareData:c}=t,l=await M4(t,e);return o===((r=c.offset)==null?void 0:r.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},L4=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:c={fn:x=>{let{x:b,y}=x;return{x:b,y}}},...l}=pa(e,t),u={x:r,y:n},d=await kc(t,l),f=Ha(ga(s)),h=Mg(f);let p=u[h],g=u[f];if(i){const x=h==="y"?"top":"left",b=h==="y"?"bottom":"right",y=p+d[x],w=p-d[b];p=_m(y,p,w)}if(o){const x=f==="y"?"top":"left",b=f==="y"?"bottom":"right",y=g+d[x],w=g-d[b];g=_m(y,g,w)}const m=c.fn({...t,[h]:p,[f]:g});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[h]:i,[f]:o}}}}}},F4=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:i,middlewareData:o}=t,{offset:c=0,mainAxis:l=!0,crossAxis:u=!0}=pa(e,t),d={x:r,y:n},f=Ha(s),h=Mg(f);let p=d[h],g=d[f];const m=pa(c,t),x=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const w=h==="y"?"height":"width",S=i.reference[h]-i.floating[w]+x.mainAxis,N=i.reference[h]+i.reference[w]-x.mainAxis;p<S?p=S:p>N&&(p=N)}if(u){var b,y;const w=h==="y"?"width":"height",S=["top","left"].includes(ga(s)),N=i.reference[f]-i.floating[w]+(S&&((b=o.offset)==null?void 0:b[f])||0)+(S?0:x.crossAxis),j=i.reference[f]+i.reference[w]+(S?0:((y=o.offset)==null?void 0:y[f])||0)-(S?x.crossAxis:0);g<N?g=N:g>j&&(g=j)}return{[h]:p,[f]:g}}}},B4=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:i,platform:o,elements:c}=t,{apply:l=()=>{},...u}=pa(e,t),d=await kc(t,u),f=ga(s),h=mo(s),p=Ha(s)==="y",{width:g,height:m}=i.floating;let x,b;f==="top"||f==="bottom"?(x=f,b=h===(await(o.isRTL==null?void 0:o.isRTL(c.floating))?"start":"end")?"left":"right"):(b=f,x=h==="end"?"top":"bottom");const y=m-d.top-d.bottom,w=g-d.left-d.right,S=Wa(m-d[x],y),N=Wa(g-d[b],w),j=!t.middlewareData.shift;let A=S,O=N;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(O=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(A=y),j&&!h){const T=Dr(d.left,0),_=Dr(d.right,0),k=Dr(d.top,0),E=Dr(d.bottom,0);p?O=g-2*(T!==0||_!==0?T+_:Dr(d.left,d.right)):A=m-2*(k!==0||E!==0?k+E:Dr(d.top,d.bottom))}await l({...t,availableWidth:O,availableHeight:A});const P=await o.getDimensions(c.floating);return g!==P.width||m!==P.height?{reset:{rects:!0}}:{}}}};function lf(){return typeof window<"u"}function po(e){return BS(e)?(e.nodeName||"").toLowerCase():"#document"}function Fr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function qn(e){var t;return(t=(BS(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function BS(e){return lf()?e instanceof Node||e instanceof Fr(e).Node:!1}function yn(e){return lf()?e instanceof Element||e instanceof Fr(e).Element:!1}function zn(e){return lf()?e instanceof HTMLElement||e instanceof Fr(e).HTMLElement:!1}function Cy(e){return!lf()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Fr(e).ShadowRoot}function bl(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=bn(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(s)}function V4(e){return["table","td","th"].includes(po(e))}function uf(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Fg(e){const t=Bg(),r=yn(e)?bn(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function z4(e){let t=qa(e);for(;zn(t)&&!$i(t);){if(Fg(t))return t;if(uf(t))return null;t=qa(t)}return null}function Bg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function $i(e){return["html","body","#document"].includes(po(e))}function bn(e){return Fr(e).getComputedStyle(e)}function df(e){return yn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function qa(e){if(po(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Cy(e)&&e.host||qn(e);return Cy(t)?t.host:t}function VS(e){const t=qa(e);return $i(t)?e.ownerDocument?e.ownerDocument.body:e.body:zn(t)&&bl(t)?t:VS(t)}function Tc(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=VS(e),i=s===((n=e.ownerDocument)==null?void 0:n.body),o=Fr(s);if(i){const c=km(o);return t.concat(o,o.visualViewport||[],bl(s)?s:[],c&&r?Tc(c):[])}return t.concat(s,Tc(s,[],r))}function km(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function zS(e){const t=bn(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=zn(e),i=s?e.offsetWidth:r,o=s?e.offsetHeight:n,c=Du(r)!==i||Du(n)!==o;return c&&(r=i,n=o),{width:r,height:n,$:c}}function Vg(e){return yn(e)?e:e.contextElement}function Oi(e){const t=Vg(e);if(!zn(t))return In(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:i}=zS(t);let o=(i?Du(r.width):r.width)/n,c=(i?Du(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!c||!Number.isFinite(c))&&(c=1),{x:o,y:c}}const U4=In(0);function US(e){const t=Fr(e);return!Bg()||!t.visualViewport?U4:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function W4(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Fr(e)?!1:t}function Ds(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),i=Vg(e);let o=In(1);t&&(n?yn(n)&&(o=Oi(n)):o=Oi(e));const c=W4(i,r,n)?US(i):In(0);let l=(s.left+c.x)/o.x,u=(s.top+c.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(i){const h=Fr(i),p=n&&yn(n)?Fr(n):n;let g=h,m=km(g);for(;m&&n&&p!==g;){const x=Oi(m),b=m.getBoundingClientRect(),y=bn(m),w=b.left+(m.clientLeft+parseFloat(y.paddingLeft))*x.x,S=b.top+(m.clientTop+parseFloat(y.paddingTop))*x.y;l*=x.x,u*=x.y,d*=x.x,f*=x.y,l+=w,u+=S,g=Fr(m),m=km(g)}}return Mu({width:d,height:f,x:l,y:u})}function zg(e,t){const r=df(e).scrollLeft;return t?t.left+r:Ds(qn(e)).left+r}function WS(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-(r?0:zg(e,n)),i=n.top+t.scrollTop;return{x:s,y:i}}function H4(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const i=s==="fixed",o=qn(n),c=t?uf(t.floating):!1;if(n===o||c&&i)return r;let l={scrollLeft:0,scrollTop:0},u=In(1);const d=In(0),f=zn(n);if((f||!f&&!i)&&((po(n)!=="body"||bl(o))&&(l=df(n)),zn(n))){const p=Ds(n);u=Oi(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}const h=o&&!f&&!i?WS(o,l,!0):In(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-l.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-l.scrollTop*u.y+d.y+h.y}}function q4(e){return Array.from(e.getClientRects())}function K4(e){const t=qn(e),r=df(e),n=e.ownerDocument.body,s=Dr(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Dr(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+zg(e);const c=-r.scrollTop;return bn(n).direction==="rtl"&&(o+=Dr(t.clientWidth,n.clientWidth)-s),{width:s,height:i,x:o,y:c}}function G4(e,t){const r=Fr(e),n=qn(e),s=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,c=0,l=0;if(s){i=s.width,o=s.height;const u=Bg();(!u||u&&t==="fixed")&&(c=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:c,y:l}}function Z4(e,t){const r=Ds(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,i=zn(e)?Oi(e):In(1),o=e.clientWidth*i.x,c=e.clientHeight*i.y,l=s*i.x,u=n*i.y;return{width:o,height:c,x:l,y:u}}function Ey(e,t,r){let n;if(t==="viewport")n=G4(e,r);else if(t==="document")n=K4(qn(e));else if(yn(t))n=Z4(t,r);else{const s=US(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Mu(n)}function HS(e,t){const r=qa(e);return r===t||!yn(r)||$i(r)?!1:bn(r).position==="fixed"||HS(r,t)}function X4(e,t){const r=t.get(e);if(r)return r;let n=Tc(e,[],!1).filter(c=>yn(c)&&po(c)!=="body"),s=null;const i=bn(e).position==="fixed";let o=i?qa(e):e;for(;yn(o)&&!$i(o);){const c=bn(o),l=Fg(o);!l&&c.position==="fixed"&&(s=null),(i?!l&&!s:!l&&c.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||bl(o)&&!l&&HS(e,o))?n=n.filter(d=>d!==o):s=c,o=qa(o)}return t.set(e,n),n}function Y4(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const o=[...r==="clippingAncestors"?uf(t)?[]:X4(t,this._c):[].concat(r),n],c=o[0],l=o.reduce((u,d)=>{const f=Ey(t,d,s);return u.top=Dr(f.top,u.top),u.right=Wa(f.right,u.right),u.bottom=Wa(f.bottom,u.bottom),u.left=Dr(f.left,u.left),u},Ey(t,c,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function J4(e){const{width:t,height:r}=zS(e);return{width:t,height:r}}function Q4(e,t,r){const n=zn(t),s=qn(t),i=r==="fixed",o=Ds(e,!0,i,t);let c={scrollLeft:0,scrollTop:0};const l=In(0);if(n||!n&&!i)if((po(t)!=="body"||bl(s))&&(c=df(t)),n){const h=Ds(t,!0,i,t);l.x=h.x+t.clientLeft,l.y=h.y+t.clientTop}else s&&(l.x=zg(s));const u=s&&!n&&!i?WS(s,c):In(0),d=o.left+c.scrollLeft-l.x-u.x,f=o.top+c.scrollTop-l.y-u.y;return{x:d,y:f,width:o.width,height:o.height}}function Ph(e){return bn(e).position==="static"}function $y(e,t){if(!zn(e)||bn(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return qn(e)===r&&(r=r.ownerDocument.body),r}function qS(e,t){const r=Fr(e);if(uf(e))return r;if(!zn(e)){let s=qa(e);for(;s&&!$i(s);){if(yn(s)&&!Ph(s))return s;s=qa(s)}return r}let n=$y(e,t);for(;n&&V4(n)&&Ph(n);)n=$y(n,t);return n&&$i(n)&&Ph(n)&&!Fg(n)?r:n||z4(e)||r}const e3=async function(e){const t=this.getOffsetParent||qS,r=this.getDimensions,n=await r(e.floating);return{reference:Q4(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function t3(e){return bn(e).direction==="rtl"}const r3={convertOffsetParentRelativeRectToViewportRelativeRect:H4,getDocumentElement:qn,getClippingRect:Y4,getOffsetParent:qS,getElementRects:e3,getClientRects:q4,getDimensions:J4,getScale:Oi,isElement:yn,isRTL:t3};function KS(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function n3(e,t){let r=null,n;const s=qn(e);function i(){var c;clearTimeout(n),(c=r)==null||c.disconnect(),r=null}function o(c,l){c===void 0&&(c=!1),l===void 0&&(l=1),i();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:p}=u;if(c||t(),!h||!p)return;const g=Ll(f),m=Ll(s.clientWidth-(d+h)),x=Ll(s.clientHeight-(f+p)),b=Ll(d),w={rootMargin:-g+"px "+-m+"px "+-x+"px "+-b+"px",threshold:Dr(0,Wa(1,l))||1};let S=!0;function N(j){const A=j[0].intersectionRatio;if(A!==l){if(!S)return o();A?o(!1,A):n=setTimeout(()=>{o(!1,1e-7)},1e3)}A===1&&!KS(u,e.getBoundingClientRect())&&o(),S=!1}try{r=new IntersectionObserver(N,{...w,root:s.ownerDocument})}catch{r=new IntersectionObserver(N,w)}r.observe(e)}return o(!0),i}function a3(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,u=Vg(e),d=s||i?[...u?Tc(u):[],...Tc(t)]:[];d.forEach(b=>{s&&b.addEventListener("scroll",r,{passive:!0}),i&&b.addEventListener("resize",r)});const f=u&&c?n3(u,r):null;let h=-1,p=null;o&&(p=new ResizeObserver(b=>{let[y]=b;y&&y.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=p)==null||w.observe(t)})),r()}),u&&!l&&p.observe(u),p.observe(t));let g,m=l?Ds(e):null;l&&x();function x(){const b=Ds(e);m&&!KS(m,b)&&r(),m=b,g=requestAnimationFrame(x)}return r(),()=>{var b;d.forEach(y=>{s&&y.removeEventListener("scroll",r),i&&y.removeEventListener("resize",r)}),f==null||f(),(b=p)==null||b.disconnect(),p=null,l&&cancelAnimationFrame(g)}}const s3=R4,i3=L4,o3=D4,c3=B4,l3=I4,Dy=$4,u3=F4,d3=(e,t,r)=>{const n=new Map,s={platform:r3,...r},i={...s.platform,_c:n};return E4(e,t,{...s,platform:i})};var uu=typeof document<"u"?v.useLayoutEffect:v.useEffect;function Ru(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Ru(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&e.$$typeof)&&!Ru(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function GS(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Iy(e,t){const r=GS(e);return Math.round(t*r)/r}function kh(e){const t=v.useRef(e);return uu(()=>{t.current=e}),t}function f3(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:o}={},transform:c=!0,whileElementsMounted:l,open:u}=e,[d,f]=v.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=v.useState(n);Ru(h,n)||p(n);const[g,m]=v.useState(null),[x,b]=v.useState(null),y=v.useCallback(q=>{q!==j.current&&(j.current=q,m(q))},[]),w=v.useCallback(q=>{q!==A.current&&(A.current=q,b(q))},[]),S=i||g,N=o||x,j=v.useRef(null),A=v.useRef(null),O=v.useRef(d),P=l!=null,T=kh(l),_=kh(s),k=kh(u),E=v.useCallback(()=>{if(!j.current||!A.current)return;const q={placement:t,strategy:r,middleware:h};_.current&&(q.platform=_.current),d3(j.current,A.current,q).then(M=>{const J={...M,isPositioned:k.current!==!1};C.current&&!Ru(O.current,J)&&(O.current=J,io.flushSync(()=>{f(J)}))})},[h,t,r,_,k]);uu(()=>{u===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,f(q=>({...q,isPositioned:!1})))},[u]);const C=v.useRef(!1);uu(()=>(C.current=!0,()=>{C.current=!1}),[]),uu(()=>{if(S&&(j.current=S),N&&(A.current=N),S&&N){if(T.current)return T.current(S,N,E);E()}},[S,N,E,T,P]);const I=v.useMemo(()=>({reference:j,floating:A,setReference:y,setFloating:w}),[y,w]),F=v.useMemo(()=>({reference:S,floating:N}),[S,N]),$=v.useMemo(()=>{const q={position:r,left:0,top:0};if(!F.floating)return q;const M=Iy(F.floating,d.x),J=Iy(F.floating,d.y);return c?{...q,transform:"translate("+M+"px, "+J+"px)",...GS(F.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:M,top:J}},[r,c,F.floating,d.x,d.y]);return v.useMemo(()=>({...d,update:E,refs:I,elements:F,floatingStyles:$}),[d,E,I,F,$])}const h3=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?Dy({element:n.current,padding:s}).fn(r):{}:n?Dy({element:n,padding:s}).fn(r):{}}}},m3=(e,t)=>({...s3(e),options:[e,t]}),p3=(e,t)=>({...i3(e),options:[e,t]}),g3=(e,t)=>({...u3(e),options:[e,t]}),v3=(e,t)=>({...o3(e),options:[e,t]}),x3=(e,t)=>({...c3(e),options:[e,t]}),y3=(e,t)=>({...l3(e),options:[e,t]}),b3=(e,t)=>({...h3(e),options:[e,t]});var j3="Arrow",ZS=v.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...i}=e;return a.jsx(Bt.svg,{...i,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});ZS.displayName=j3;var w3=ZS;function N3(e){const[t,r]=v.useState(void 0);return Pr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,c;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,c=u.blockSize}else o=e.offsetWidth,c=e.offsetHeight;r({width:o,height:c})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Ug="Popper",[XS,YS]=Dg(Ug),[S3,JS]=XS(Ug),QS=e=>{const{__scopePopper:t,children:r}=e,[n,s]=v.useState(null);return a.jsx(S3,{scope:t,anchor:n,onAnchorChange:s,children:r})};QS.displayName=Ug;var eA="PopperAnchor",tA=v.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,i=JS(eA,r),o=v.useRef(null),c=cr(t,o);return v.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:a.jsx(Bt.div,{...s,ref:c})});tA.displayName=eA;var Wg="PopperContent",[A3,O3]=XS(Wg),rA=v.forwardRef((e,t)=>{var pe,Oe,R,de,fe,ee;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:c=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:g,...m}=e,x=JS(Wg,r),[b,y]=v.useState(null),w=cr(t,Me=>y(Me)),[S,N]=v.useState(null),j=N3(S),A=(j==null?void 0:j.width)??0,O=(j==null?void 0:j.height)??0,P=n+(i!=="center"?"-"+i:""),T=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},_=Array.isArray(u)?u:[u],k=_.length>0,E={padding:T,boundary:_.filter(P3),altBoundary:k},{refs:C,floatingStyles:I,placement:F,isPositioned:$,middlewareData:q}=f3({strategy:"fixed",placement:P,whileElementsMounted:(...Me)=>a3(...Me,{animationFrame:p==="always"}),elements:{reference:x.anchor},middleware:[m3({mainAxis:s+O,alignmentAxis:o}),l&&p3({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?g3():void 0,...E}),l&&v3({...E}),x3({...E,apply:({elements:Me,rects:Se,availableWidth:tt,availableHeight:nt})=>{const{width:ze,height:L}=Se.reference,X=Me.floating.style;X.setProperty("--radix-popper-available-width",`${tt}px`),X.setProperty("--radix-popper-available-height",`${nt}px`),X.setProperty("--radix-popper-anchor-width",`${ze}px`),X.setProperty("--radix-popper-anchor-height",`${L}px`)}}),S&&b3({element:S,padding:c}),k3({arrowWidth:A,arrowHeight:O}),h&&y3({strategy:"referenceHidden",...E})]}),[M,J]=sA(F),V=$s(g);Pr(()=>{$&&(V==null||V())},[$,V]);const z=(pe=q.arrow)==null?void 0:pe.x,B=(Oe=q.arrow)==null?void 0:Oe.y,G=((R=q.arrow)==null?void 0:R.centerOffset)!==0,[ce,we]=v.useState();return Pr(()=>{b&&we(window.getComputedStyle(b).zIndex)},[b]),a.jsx("div",{ref:C.setFloating,"data-radix-popper-content-wrapper":"",style:{...I,transform:$?I.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ce,"--radix-popper-transform-origin":[(de=q.transformOrigin)==null?void 0:de.x,(fe=q.transformOrigin)==null?void 0:fe.y].join(" "),...((ee=q.hide)==null?void 0:ee.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(A3,{scope:r,placedSide:M,onArrowChange:N,arrowX:z,arrowY:B,shouldHideArrow:G,children:a.jsx(Bt.div,{"data-side":M,"data-align":J,...m,ref:w,style:{...m.style,animation:$?void 0:"none"}})})})});rA.displayName=Wg;var nA="PopperArrow",_3={top:"bottom",right:"left",bottom:"top",left:"right"},aA=v.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,i=O3(nA,n),o=_3[i.placedSide];return a.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:a.jsx(w3,{...s,ref:r,style:{...s.style,display:"block"}})})});aA.displayName=nA;function P3(e){return e!==null}var k3=e=>({name:"transformOrigin",options:e,fn(t){var x,b,y;const{placement:r,rects:n,middlewareData:s}=t,o=((x=s.arrow)==null?void 0:x.centerOffset)!==0,c=o?0:e.arrowWidth,l=o?0:e.arrowHeight,[u,d]=sA(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((b=s.arrow)==null?void 0:b.x)??0)+c/2,p=(((y=s.arrow)==null?void 0:y.y)??0)+l/2;let g="",m="";return u==="bottom"?(g=o?f:`${h}px`,m=`${-l}px`):u==="top"?(g=o?f:`${h}px`,m=`${n.floating.height+l}px`):u==="right"?(g=`${-l}px`,m=o?f:`${p}px`):u==="left"&&(g=`${n.floating.width+l}px`,m=o?f:`${p}px`),{data:{x:g,y:m}}}});function sA(e){const[t,r="center"]=e.split("-");return[t,r]}var T3=QS,C3=tA,E3=rA,$3=aA,D3="Portal",iA=v.forwardRef((e,t)=>{var c;const{container:r,...n}=e,[s,i]=v.useState(!1);Pr(()=>i(!0),[]);const o=r||s&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return o?Zw.createPortal(a.jsx(Bt.div,{...n,ref:t}),o):null});iA.displayName=D3;var I3=Ws[" useInsertionEffect ".trim().toString()]||Pr;function My({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,i,o]=M3({defaultProp:t,onChange:r}),c=e!==void 0,l=c?e:s;{const d=v.useRef(e!==void 0);v.useEffect(()=>{const f=d.current;f!==c&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=c},[c,n])}const u=v.useCallback(d=>{var f;if(c){const h=R3(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else i(d)},[c,e,i,o]);return[l,u]}function M3({defaultProp:e,onChange:t}){const[r,n]=v.useState(e),s=v.useRef(r),i=v.useRef(t);return I3(()=>{i.current=t},[t]),v.useEffect(()=>{var o;s.current!==r&&((o=i.current)==null||o.call(i,r),s.current=r)},[r,s]),[r,n,i]}function R3(e){return typeof e=="function"}function L3(e){const t=v.useRef({value:e,previous:e});return v.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var oA=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),F3="VisuallyHidden",B3=v.forwardRef((e,t)=>a.jsx(Bt.span,{...e,ref:t,style:{...oA,...e.style}}));B3.displayName=F3;var V3=[" ","Enter","ArrowUp","ArrowDown"],z3=[" ","Enter"],Is="Select",[ff,hf,U3]=t4(Is),[go,hle]=Dg(Is,[U3,YS]),mf=YS(),[W3,Za]=go(Is),[H3,q3]=go(Is),cA=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:i,value:o,defaultValue:c,onValueChange:l,dir:u,name:d,autoComplete:f,disabled:h,required:p,form:g}=e,m=mf(t),[x,b]=v.useState(null),[y,w]=v.useState(null),[S,N]=v.useState(!1),j=n4(u),[A,O]=My({prop:n,defaultProp:s??!1,onChange:i,caller:Is}),[P,T]=My({prop:o,defaultProp:c,onChange:l,caller:Is}),_=v.useRef(null),k=x?g||!!x.closest("form"):!0,[E,C]=v.useState(new Set),I=Array.from(E).map(F=>F.props.value).join(";");return a.jsx(T3,{...m,children:a.jsxs(W3,{required:p,scope:t,trigger:x,onTriggerChange:b,valueNode:y,onValueNodeChange:w,valueNodeHasChildren:S,onValueNodeHasChildrenChange:N,contentId:Ig(),value:P,onValueChange:T,open:A,onOpenChange:O,dir:j,triggerPointerDownPosRef:_,disabled:h,children:[a.jsx(ff.Provider,{scope:t,children:a.jsx(H3,{scope:e.__scopeSelect,onNativeOptionAdd:v.useCallback(F=>{C($=>new Set($).add(F))},[]),onNativeOptionRemove:v.useCallback(F=>{C($=>{const q=new Set($);return q.delete(F),q})},[]),children:r})}),k?a.jsxs(EA,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:P,onChange:F=>T(F.target.value),disabled:h,form:g,children:[P===void 0?a.jsx("option",{value:""}):null,Array.from(E)]},I):null]})})};cA.displayName=Is;var lA="SelectTrigger",uA=v.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,i=mf(r),o=Za(lA,r),c=o.disabled||n,l=cr(t,o.onTriggerChange),u=hf(r),d=v.useRef("touch"),[f,h,p]=DA(m=>{const x=u().filter(w=>!w.disabled),b=x.find(w=>w.value===o.value),y=IA(x,m,b);y!==void 0&&o.onValueChange(y.value)}),g=m=>{c||(o.onOpenChange(!0),p()),m&&(o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return a.jsx(C3,{asChild:!0,...i,children:a.jsx(Bt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":$A(o.value)?"":void 0,...s,ref:l,onClick:Wt(s.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&g(m)}),onPointerDown:Wt(s.onPointerDown,m=>{d.current=m.pointerType;const x=m.target;x.hasPointerCapture(m.pointerId)&&x.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(g(m),m.preventDefault())}),onKeyDown:Wt(s.onKeyDown,m=>{const x=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&h(m.key),!(x&&m.key===" ")&&V3.includes(m.key)&&(g(),m.preventDefault())})})})});uA.displayName=lA;var dA="SelectValue",fA=v.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:i,placeholder:o="",...c}=e,l=Za(dA,r),{onValueNodeHasChildrenChange:u}=l,d=i!==void 0,f=cr(t,l.onValueNodeChange);return Pr(()=>{u(d)},[u,d]),a.jsx(Bt.span,{...c,ref:f,style:{pointerEvents:"none"},children:$A(l.value)?a.jsx(a.Fragment,{children:o}):i})});fA.displayName=dA;var K3="SelectIcon",hA=v.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return a.jsx(Bt.span,{"aria-hidden":!0,...s,ref:t,children:n||"▼"})});hA.displayName=K3;var G3="SelectPortal",mA=e=>a.jsx(iA,{asChild:!0,...e});mA.displayName=G3;var Ms="SelectContent",pA=v.forwardRef((e,t)=>{const r=Za(Ms,e.__scopeSelect),[n,s]=v.useState();if(Pr(()=>{s(new DocumentFragment)},[]),!r.open){const i=n;return i?io.createPortal(a.jsx(gA,{scope:e.__scopeSelect,children:a.jsx(ff.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),i):null}return a.jsx(vA,{...e,ref:t})});pA.displayName=Ms;var un=10,[gA,Xa]=go(Ms),Z3="SelectContentImpl",X3=an("SelectContent.RemoveScroll"),vA=v.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:c,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:g,hideWhenDetached:m,avoidCollisions:x,...b}=e,y=Za(Ms,r),[w,S]=v.useState(null),[N,j]=v.useState(null),A=cr(t,pe=>S(pe)),[O,P]=v.useState(null),[T,_]=v.useState(null),k=hf(r),[E,C]=v.useState(!1),I=v.useRef(!1);v.useEffect(()=>{if(w)return wN(w)},[w]),m4();const F=v.useCallback(pe=>{const[Oe,...R]=k().map(ee=>ee.ref.current),[de]=R.slice(-1),fe=document.activeElement;for(const ee of pe)if(ee===fe||(ee==null||ee.scrollIntoView({block:"nearest"}),ee===Oe&&N&&(N.scrollTop=0),ee===de&&N&&(N.scrollTop=N.scrollHeight),ee==null||ee.focus(),document.activeElement!==fe))return},[k,N]),$=v.useCallback(()=>F([O,w]),[F,O,w]);v.useEffect(()=>{E&&$()},[E,$]);const{onOpenChange:q,triggerPointerDownPosRef:M}=y;v.useEffect(()=>{if(w){let pe={x:0,y:0};const Oe=de=>{var fe,ee;pe={x:Math.abs(Math.round(de.pageX)-(((fe=M.current)==null?void 0:fe.x)??0)),y:Math.abs(Math.round(de.pageY)-(((ee=M.current)==null?void 0:ee.y)??0))}},R=de=>{pe.x<=10&&pe.y<=10?de.preventDefault():w.contains(de.target)||q(!1),document.removeEventListener("pointermove",Oe),M.current=null};return M.current!==null&&(document.addEventListener("pointermove",Oe),document.addEventListener("pointerup",R,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Oe),document.removeEventListener("pointerup",R,{capture:!0})}}},[w,q,M]),v.useEffect(()=>{const pe=()=>q(!1);return window.addEventListener("blur",pe),window.addEventListener("resize",pe),()=>{window.removeEventListener("blur",pe),window.removeEventListener("resize",pe)}},[q]);const[J,V]=DA(pe=>{const Oe=k().filter(fe=>!fe.disabled),R=Oe.find(fe=>fe.ref.current===document.activeElement),de=IA(Oe,pe,R);de&&setTimeout(()=>de.ref.current.focus())}),z=v.useCallback((pe,Oe,R)=>{const de=!I.current&&!R;(y.value!==void 0&&y.value===Oe||de)&&(P(pe),de&&(I.current=!0))},[y.value]),B=v.useCallback(()=>w==null?void 0:w.focus(),[w]),G=v.useCallback((pe,Oe,R)=>{const de=!I.current&&!R;(y.value!==void 0&&y.value===Oe||de)&&_(pe)},[y.value]),ce=n==="popper"?Tm:xA,we=ce===Tm?{side:c,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:g,hideWhenDetached:m,avoidCollisions:x}:{};return a.jsx(gA,{scope:r,content:w,viewport:N,onViewportChange:j,itemRefCallback:z,selectedItem:O,onItemLeave:B,itemTextRefCallback:G,focusSelectedItem:$,selectedItemText:T,position:n,isPositioned:E,searchRef:J,children:a.jsx(Ng,{as:X3,allowPinchZoom:!0,children:a.jsx(RS,{asChild:!0,trapped:y.open,onMountAutoFocus:pe=>{pe.preventDefault()},onUnmountAutoFocus:Wt(s,pe=>{var Oe;(Oe=y.trigger)==null||Oe.focus({preventScroll:!0}),pe.preventDefault()}),children:a.jsx(IS,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:pe=>pe.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:a.jsx(ce,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:pe=>pe.preventDefault(),...b,...we,onPlaced:()=>C(!0),ref:A,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:Wt(b.onKeyDown,pe=>{const Oe=pe.ctrlKey||pe.altKey||pe.metaKey;if(pe.key==="Tab"&&pe.preventDefault(),!Oe&&pe.key.length===1&&V(pe.key),["ArrowUp","ArrowDown","Home","End"].includes(pe.key)){let de=k().filter(fe=>!fe.disabled).map(fe=>fe.ref.current);if(["ArrowUp","End"].includes(pe.key)&&(de=de.slice().reverse()),["ArrowUp","ArrowDown"].includes(pe.key)){const fe=pe.target,ee=de.indexOf(fe);de=de.slice(ee+1)}setTimeout(()=>F(de)),pe.preventDefault()}})})})})})})});vA.displayName=Z3;var Y3="SelectItemAlignedPosition",xA=v.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,i=Za(Ms,r),o=Xa(Ms,r),[c,l]=v.useState(null),[u,d]=v.useState(null),f=cr(t,A=>d(A)),h=hf(r),p=v.useRef(!1),g=v.useRef(!0),{viewport:m,selectedItem:x,selectedItemText:b,focusSelectedItem:y}=o,w=v.useCallback(()=>{if(i.trigger&&i.valueNode&&c&&u&&m&&x&&b){const A=i.trigger.getBoundingClientRect(),O=u.getBoundingClientRect(),P=i.valueNode.getBoundingClientRect(),T=b.getBoundingClientRect();if(i.dir!=="rtl"){const fe=T.left-O.left,ee=P.left-fe,Me=A.left-ee,Se=A.width+Me,tt=Math.max(Se,O.width),nt=window.innerWidth-un,ze=yy(ee,[un,Math.max(un,nt-tt)]);c.style.minWidth=Se+"px",c.style.left=ze+"px"}else{const fe=O.right-T.right,ee=window.innerWidth-P.right-fe,Me=window.innerWidth-A.right-ee,Se=A.width+Me,tt=Math.max(Se,O.width),nt=window.innerWidth-un,ze=yy(ee,[un,Math.max(un,nt-tt)]);c.style.minWidth=Se+"px",c.style.right=ze+"px"}const _=h(),k=window.innerHeight-un*2,E=m.scrollHeight,C=window.getComputedStyle(u),I=parseInt(C.borderTopWidth,10),F=parseInt(C.paddingTop,10),$=parseInt(C.borderBottomWidth,10),q=parseInt(C.paddingBottom,10),M=I+F+E+q+$,J=Math.min(x.offsetHeight*5,M),V=window.getComputedStyle(m),z=parseInt(V.paddingTop,10),B=parseInt(V.paddingBottom,10),G=A.top+A.height/2-un,ce=k-G,we=x.offsetHeight/2,pe=x.offsetTop+we,Oe=I+F+pe,R=M-Oe;if(Oe<=G){const fe=_.length>0&&x===_[_.length-1].ref.current;c.style.bottom="0px";const ee=u.clientHeight-m.offsetTop-m.offsetHeight,Me=Math.max(ce,we+(fe?B:0)+ee+$),Se=Oe+Me;c.style.height=Se+"px"}else{const fe=_.length>0&&x===_[0].ref.current;c.style.top="0px";const Me=Math.max(G,I+m.offsetTop+(fe?z:0)+we)+R;c.style.height=Me+"px",m.scrollTop=Oe-G+m.offsetTop}c.style.margin=`${un}px 0`,c.style.minHeight=J+"px",c.style.maxHeight=k+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[h,i.trigger,i.valueNode,c,u,m,x,b,i.dir,n]);Pr(()=>w(),[w]);const[S,N]=v.useState();Pr(()=>{u&&N(window.getComputedStyle(u).zIndex)},[u]);const j=v.useCallback(A=>{A&&g.current===!0&&(w(),y==null||y(),g.current=!1)},[w,y]);return a.jsx(Q3,{scope:r,contentWrapper:c,shouldExpandOnScrollRef:p,onScrollButtonChange:j,children:a.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:a.jsx(Bt.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});xA.displayName=Y3;var J3="SelectPopperPosition",Tm=v.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=un,...i}=e,o=mf(r);return a.jsx(E3,{...o,...i,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Tm.displayName=J3;var[Q3,Hg]=go(Ms,{}),Cm="SelectViewport",yA=v.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,i=Xa(Cm,r),o=Hg(Cm,r),c=cr(t,i.onViewportChange),l=v.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(ff.Slot,{scope:r,children:a.jsx(Bt.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Wt(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const p=Math.abs(l.current-d.scrollTop);if(p>0){const g=window.innerHeight-un*2,m=parseFloat(f.style.minHeight),x=parseFloat(f.style.height),b=Math.max(m,x);if(b<g){const y=b+p,w=Math.min(g,y),S=y-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=S>0?S:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});yA.displayName=Cm;var bA="SelectGroup",[eL,tL]=go(bA),rL=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Ig();return a.jsx(eL,{scope:r,id:s,children:a.jsx(Bt.div,{role:"group","aria-labelledby":s,...n,ref:t})})});rL.displayName=bA;var jA="SelectLabel",wA=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=tL(jA,r);return a.jsx(Bt.div,{id:s.id,...n,ref:t})});wA.displayName=jA;var Lu="SelectItem",[nL,NA]=go(Lu),SA=v.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:i,...o}=e,c=Za(Lu,r),l=Xa(Lu,r),u=c.value===n,[d,f]=v.useState(i??""),[h,p]=v.useState(!1),g=cr(t,y=>{var w;return(w=l.itemRefCallback)==null?void 0:w.call(l,y,n,s)}),m=Ig(),x=v.useRef("touch"),b=()=>{s||(c.onValueChange(n),c.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(nL,{scope:r,value:n,disabled:s,textId:m,isSelected:u,onItemTextChange:v.useCallback(y=>{f(w=>w||((y==null?void 0:y.textContent)??"").trim())},[]),children:a.jsx(ff.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:a.jsx(Bt.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:g,onFocus:Wt(o.onFocus,()=>p(!0)),onBlur:Wt(o.onBlur,()=>p(!1)),onClick:Wt(o.onClick,()=>{x.current!=="mouse"&&b()}),onPointerUp:Wt(o.onPointerUp,()=>{x.current==="mouse"&&b()}),onPointerDown:Wt(o.onPointerDown,y=>{x.current=y.pointerType}),onPointerMove:Wt(o.onPointerMove,y=>{var w;x.current=y.pointerType,s?(w=l.onItemLeave)==null||w.call(l):x.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Wt(o.onPointerLeave,y=>{var w;y.currentTarget===document.activeElement&&((w=l.onItemLeave)==null||w.call(l))}),onKeyDown:Wt(o.onKeyDown,y=>{var S;((S=l.searchRef)==null?void 0:S.current)!==""&&y.key===" "||(z3.includes(y.key)&&b(),y.key===" "&&y.preventDefault())})})})})});SA.displayName=Lu;var Qo="SelectItemText",AA=v.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...i}=e,o=Za(Qo,r),c=Xa(Qo,r),l=NA(Qo,r),u=q3(Qo,r),[d,f]=v.useState(null),h=cr(t,b=>f(b),l.onItemTextChange,b=>{var y;return(y=c.itemTextRefCallback)==null?void 0:y.call(c,b,l.value,l.disabled)}),p=d==null?void 0:d.textContent,g=v.useMemo(()=>a.jsx("option",{value:l.value,disabled:l.disabled,children:p},l.value),[l.disabled,l.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:x}=u;return Pr(()=>(m(g),()=>x(g)),[m,x,g]),a.jsxs(a.Fragment,{children:[a.jsx(Bt.span,{id:l.textId,...i,ref:h}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?io.createPortal(i.children,o.valueNode):null]})});AA.displayName=Qo;var OA="SelectItemIndicator",_A=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return NA(OA,r).isSelected?a.jsx(Bt.span,{"aria-hidden":!0,...n,ref:t}):null});_A.displayName=OA;var Em="SelectScrollUpButton",PA=v.forwardRef((e,t)=>{const r=Xa(Em,e.__scopeSelect),n=Hg(Em,e.__scopeSelect),[s,i]=v.useState(!1),o=cr(t,n.onScrollButtonChange);return Pr(()=>{if(r.viewport&&r.isPositioned){let c=function(){const u=l.scrollTop>0;i(u)};const l=r.viewport;return c(),l.addEventListener("scroll",c),()=>l.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),s?a.jsx(TA,{...e,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:l}=r;c&&l&&(c.scrollTop=c.scrollTop-l.offsetHeight)}}):null});PA.displayName=Em;var $m="SelectScrollDownButton",kA=v.forwardRef((e,t)=>{const r=Xa($m,e.__scopeSelect),n=Hg($m,e.__scopeSelect),[s,i]=v.useState(!1),o=cr(t,n.onScrollButtonChange);return Pr(()=>{if(r.viewport&&r.isPositioned){let c=function(){const u=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<u;i(d)};const l=r.viewport;return c(),l.addEventListener("scroll",c),()=>l.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),s?a.jsx(TA,{...e,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:l}=r;c&&l&&(c.scrollTop=c.scrollTop+l.offsetHeight)}}):null});kA.displayName=$m;var TA=v.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,i=Xa("SelectScrollButton",r),o=v.useRef(null),c=hf(r),l=v.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return v.useEffect(()=>()=>l(),[l]),Pr(()=>{var d;const u=c().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[c]),a.jsx(Bt.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:Wt(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Wt(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Wt(s.onPointerLeave,()=>{l()})})}),aL="SelectSeparator",CA=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return a.jsx(Bt.div,{"aria-hidden":!0,...n,ref:t})});CA.displayName=aL;var Dm="SelectArrow",sL=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=mf(r),i=Za(Dm,r),o=Xa(Dm,r);return i.open&&o.position==="popper"?a.jsx($3,{...s,...n,ref:t}):null});sL.displayName=Dm;var iL="SelectBubbleInput",EA=v.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const s=v.useRef(null),i=cr(n,s),o=L3(t);return v.useEffect(()=>{const c=s.current;if(!c)return;const l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(c,t),c.dispatchEvent(f)}},[o,t]),a.jsx(Bt.select,{...r,style:{...oA,...r.style},ref:i,defaultValue:t})});EA.displayName=iL;function $A(e){return e===""||e===void 0}function DA(e){const t=$s(e),r=v.useRef(""),n=v.useRef(0),s=v.useCallback(o=>{const c=r.current+o;t(c),function l(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>l(""),1e3))}(c)},[t]),i=v.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,i]}function IA(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=oL(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==r));const l=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==r?l:void 0}function oL(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var cL=cA,MA=uA,lL=fA,uL=hA,dL=mA,RA=pA,fL=yA,LA=wA,FA=SA,hL=AA,mL=_A,BA=PA,VA=kA,zA=CA;const en=cL,tn=lL,Mr=v.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(MA,{ref:n,className:Ye("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,a.jsx(uL,{asChild:!0,children:a.jsx(R1,{className:"h-4 w-4 opacity-50"})})]}));Mr.displayName=MA.displayName;const UA=v.forwardRef(({className:e,...t},r)=>a.jsx(BA,{ref:r,className:Ye("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(NE,{className:"h-4 w-4"})}));UA.displayName=BA.displayName;const WA=v.forwardRef(({className:e,...t},r)=>a.jsx(VA,{ref:r,className:Ye("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(R1,{className:"h-4 w-4"})}));WA.displayName=VA.displayName;const Rr=v.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>a.jsx(dL,{children:a.jsxs(RA,{ref:s,className:Ye("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[a.jsx(UA,{}),a.jsx(fL,{className:Ye("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(WA,{})]})}));Rr.displayName=RA.displayName;const pL=v.forwardRef(({className:e,...t},r)=>a.jsx(LA,{ref:r,className:Ye("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));pL.displayName=LA.displayName;const at=v.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(FA,{ref:n,className:Ye("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(mL,{children:a.jsx(M1,{className:"h-4 w-4"})})}),a.jsx(hL,{children:t})]}));at.displayName=FA.displayName;const gL=v.forwardRef(({className:e,...t},r)=>a.jsx(zA,{ref:r,className:Ye("-mx-1 my-1 h-px bg-muted",e),...t}));gL.displayName=zA.displayName;var vL=Array.isArray,kr=vL,xL=typeof kl=="object"&&kl&&kl.Object===Object&&kl,HA=xL,yL=HA,bL=typeof self=="object"&&self&&self.Object===Object&&self,jL=yL||bL||Function("return this")(),Kn=jL,wL=Kn,NL=wL.Symbol,jl=NL,Ry=jl,qA=Object.prototype,SL=qA.hasOwnProperty,AL=qA.toString,Fo=Ry?Ry.toStringTag:void 0;function OL(e){var t=SL.call(e,Fo),r=e[Fo];try{e[Fo]=void 0;var n=!0}catch{}var s=AL.call(e);return n&&(t?e[Fo]=r:delete e[Fo]),s}var _L=OL,PL=Object.prototype,kL=PL.toString;function TL(e){return kL.call(e)}var CL=TL,Ly=jl,EL=_L,$L=CL,DL="[object Null]",IL="[object Undefined]",Fy=Ly?Ly.toStringTag:void 0;function ML(e){return e==null?e===void 0?IL:DL:Fy&&Fy in Object(e)?EL(e):$L(e)}var ja=ML;function RL(e){return e!=null&&typeof e=="object"}var wa=RL,LL=ja,FL=wa,BL="[object Symbol]";function VL(e){return typeof e=="symbol"||FL(e)&&LL(e)==BL}var vo=VL,zL=kr,UL=vo,WL=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,HL=/^\w*$/;function qL(e,t){if(zL(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||UL(e)?!0:HL.test(e)||!WL.test(e)||t!=null&&e in Object(t)}var qg=qL;function KL(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Ya=KL;const xo=xt(Ya);var GL=ja,ZL=Ya,XL="[object AsyncFunction]",YL="[object Function]",JL="[object GeneratorFunction]",QL="[object Proxy]";function eF(e){if(!ZL(e))return!1;var t=GL(e);return t==YL||t==JL||t==XL||t==QL}var Kg=eF;const We=xt(Kg);var tF=Kn,rF=tF["__core-js_shared__"],nF=rF,Th=nF,By=function(){var e=/[^.]+$/.exec(Th&&Th.keys&&Th.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function aF(e){return!!By&&By in e}var sF=aF,iF=Function.prototype,oF=iF.toString;function cF(e){if(e!=null){try{return oF.call(e)}catch{}try{return e+""}catch{}}return""}var KA=cF,lF=Kg,uF=sF,dF=Ya,fF=KA,hF=/[\\^$.*+?()[\]{}|]/g,mF=/^\[object .+?Constructor\]$/,pF=Function.prototype,gF=Object.prototype,vF=pF.toString,xF=gF.hasOwnProperty,yF=RegExp("^"+vF.call(xF).replace(hF,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function bF(e){if(!dF(e)||uF(e))return!1;var t=lF(e)?yF:mF;return t.test(fF(e))}var jF=bF;function wF(e,t){return e==null?void 0:e[t]}var NF=wF,SF=jF,AF=NF;function OF(e,t){var r=AF(e,t);return SF(r)?r:void 0}var Zs=OF,_F=Zs,PF=_F(Object,"create"),pf=PF,Vy=pf;function kF(){this.__data__=Vy?Vy(null):{},this.size=0}var TF=kF;function CF(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var EF=CF,$F=pf,DF="__lodash_hash_undefined__",IF=Object.prototype,MF=IF.hasOwnProperty;function RF(e){var t=this.__data__;if($F){var r=t[e];return r===DF?void 0:r}return MF.call(t,e)?t[e]:void 0}var LF=RF,FF=pf,BF=Object.prototype,VF=BF.hasOwnProperty;function zF(e){var t=this.__data__;return FF?t[e]!==void 0:VF.call(t,e)}var UF=zF,WF=pf,HF="__lodash_hash_undefined__";function qF(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=WF&&t===void 0?HF:t,this}var KF=qF,GF=TF,ZF=EF,XF=LF,YF=UF,JF=KF;function yo(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}yo.prototype.clear=GF;yo.prototype.delete=ZF;yo.prototype.get=XF;yo.prototype.has=YF;yo.prototype.set=JF;var QF=yo;function e5(){this.__data__=[],this.size=0}var t5=e5;function r5(e,t){return e===t||e!==e&&t!==t}var Gg=r5,n5=Gg;function a5(e,t){for(var r=e.length;r--;)if(n5(e[r][0],t))return r;return-1}var gf=a5,s5=gf,i5=Array.prototype,o5=i5.splice;function c5(e){var t=this.__data__,r=s5(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():o5.call(t,r,1),--this.size,!0}var l5=c5,u5=gf;function d5(e){var t=this.__data__,r=u5(t,e);return r<0?void 0:t[r][1]}var f5=d5,h5=gf;function m5(e){return h5(this.__data__,e)>-1}var p5=m5,g5=gf;function v5(e,t){var r=this.__data__,n=g5(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var x5=v5,y5=t5,b5=l5,j5=f5,w5=p5,N5=x5;function bo(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}bo.prototype.clear=y5;bo.prototype.delete=b5;bo.prototype.get=j5;bo.prototype.has=w5;bo.prototype.set=N5;var vf=bo,S5=Zs,A5=Kn,O5=S5(A5,"Map"),Zg=O5,zy=QF,_5=vf,P5=Zg;function k5(){this.size=0,this.__data__={hash:new zy,map:new(P5||_5),string:new zy}}var T5=k5;function C5(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var E5=C5,$5=E5;function D5(e,t){var r=e.__data__;return $5(t)?r[typeof t=="string"?"string":"hash"]:r.map}var xf=D5,I5=xf;function M5(e){var t=I5(this,e).delete(e);return this.size-=t?1:0,t}var R5=M5,L5=xf;function F5(e){return L5(this,e).get(e)}var B5=F5,V5=xf;function z5(e){return V5(this,e).has(e)}var U5=z5,W5=xf;function H5(e,t){var r=W5(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var q5=H5,K5=T5,G5=R5,Z5=B5,X5=U5,Y5=q5;function jo(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}jo.prototype.clear=K5;jo.prototype.delete=G5;jo.prototype.get=Z5;jo.prototype.has=X5;jo.prototype.set=Y5;var Xg=jo,GA=Xg,J5="Expected a function";function Yg(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(J5);var r=function(){var n=arguments,s=t?t.apply(this,n):n[0],i=r.cache;if(i.has(s))return i.get(s);var o=e.apply(this,n);return r.cache=i.set(s,o)||i,o};return r.cache=new(Yg.Cache||GA),r}Yg.Cache=GA;var ZA=Yg;const Q5=xt(ZA);var e6=ZA,t6=500;function r6(e){var t=e6(e,function(n){return r.size===t6&&r.clear(),n}),r=t.cache;return t}var n6=r6,a6=n6,s6=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i6=/\\(\\)?/g,o6=a6(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(s6,function(r,n,s,i){t.push(s?i.replace(i6,"$1"):n||r)}),t}),c6=o6;function l6(e,t){for(var r=-1,n=e==null?0:e.length,s=Array(n);++r<n;)s[r]=t(e[r],r,e);return s}var Jg=l6,Uy=jl,u6=Jg,d6=kr,f6=vo,Wy=Uy?Uy.prototype:void 0,Hy=Wy?Wy.toString:void 0;function XA(e){if(typeof e=="string")return e;if(d6(e))return u6(e,XA)+"";if(f6(e))return Hy?Hy.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var h6=XA,m6=h6;function p6(e){return e==null?"":m6(e)}var YA=p6,g6=kr,v6=qg,x6=c6,y6=YA;function b6(e,t){return g6(e)?e:v6(e,t)?[e]:x6(y6(e))}var JA=b6,j6=vo;function w6(e){if(typeof e=="string"||j6(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var yf=w6,N6=JA,S6=yf;function A6(e,t){t=N6(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[S6(t[r++])];return r&&r==n?e:void 0}var Qg=A6,O6=Qg;function _6(e,t,r){var n=e==null?void 0:O6(e,t);return n===void 0?r:n}var QA=_6;const Br=xt(QA);function P6(e){return e==null}var k6=P6;const Ke=xt(k6);var T6=ja,C6=kr,E6=wa,$6="[object String]";function D6(e){return typeof e=="string"||!C6(e)&&E6(e)&&T6(e)==$6}var I6=D6;const Rs=xt(I6);var eO={exports:{}},pt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ev=Symbol.for("react.element"),tv=Symbol.for("react.portal"),bf=Symbol.for("react.fragment"),jf=Symbol.for("react.strict_mode"),wf=Symbol.for("react.profiler"),Nf=Symbol.for("react.provider"),Sf=Symbol.for("react.context"),M6=Symbol.for("react.server_context"),Af=Symbol.for("react.forward_ref"),Of=Symbol.for("react.suspense"),_f=Symbol.for("react.suspense_list"),Pf=Symbol.for("react.memo"),kf=Symbol.for("react.lazy"),R6=Symbol.for("react.offscreen"),tO;tO=Symbol.for("react.module.reference");function on(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case ev:switch(e=e.type,e){case bf:case wf:case jf:case Of:case _f:return e;default:switch(e=e&&e.$$typeof,e){case M6:case Sf:case Af:case kf:case Pf:case Nf:return e;default:return t}}case tv:return t}}}pt.ContextConsumer=Sf;pt.ContextProvider=Nf;pt.Element=ev;pt.ForwardRef=Af;pt.Fragment=bf;pt.Lazy=kf;pt.Memo=Pf;pt.Portal=tv;pt.Profiler=wf;pt.StrictMode=jf;pt.Suspense=Of;pt.SuspenseList=_f;pt.isAsyncMode=function(){return!1};pt.isConcurrentMode=function(){return!1};pt.isContextConsumer=function(e){return on(e)===Sf};pt.isContextProvider=function(e){return on(e)===Nf};pt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===ev};pt.isForwardRef=function(e){return on(e)===Af};pt.isFragment=function(e){return on(e)===bf};pt.isLazy=function(e){return on(e)===kf};pt.isMemo=function(e){return on(e)===Pf};pt.isPortal=function(e){return on(e)===tv};pt.isProfiler=function(e){return on(e)===wf};pt.isStrictMode=function(e){return on(e)===jf};pt.isSuspense=function(e){return on(e)===Of};pt.isSuspenseList=function(e){return on(e)===_f};pt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===bf||e===wf||e===jf||e===Of||e===_f||e===R6||typeof e=="object"&&e!==null&&(e.$$typeof===kf||e.$$typeof===Pf||e.$$typeof===Nf||e.$$typeof===Sf||e.$$typeof===Af||e.$$typeof===tO||e.getModuleId!==void 0)};pt.typeOf=on;eO.exports=pt;var L6=eO.exports,F6=ja,B6=wa,V6="[object Number]";function z6(e){return typeof e=="number"||B6(e)&&F6(e)==V6}var rO=z6;const U6=xt(rO);var W6=rO;function H6(e){return W6(e)&&e!=+e}var q6=H6;const wo=xt(q6);var xr=function(t){return t===0?0:t>0?1:-1},ms=function(t){return Rs(t)&&t.indexOf("%")===t.length-1},ve=function(t){return U6(t)&&!wo(t)},K6=function(t){return Ke(t)},Xt=function(t){return ve(t)||Rs(t)},G6=0,Xs=function(t){var r=++G6;return"".concat(t||"").concat(r)},yr=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ve(t)&&!Rs(t))return n;var i;if(ms(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return wo(i)&&(i=n),s&&i>r&&(i=r),i},Ea=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},Z6=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},s=0;s<r;s++)if(!n[t[s]])n[t[s]]=!0;else return!0;return!1},Zt=function(t,r){return ve(t)&&ve(r)?function(n){return t+n*(r-t)}:function(){return r}};function Fu(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Br(n,t))===r})}var X6=function(t,r){return ve(t)&&ve(r)?t-r:Rs(t)&&Rs(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function _i(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function Im(e){"@babel/helpers - typeof";return Im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Im(e)}var Y6=["viewBox","children"],J6=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],qy=["points","pathLength"],Ch={svg:Y6,polygon:qy,polyline:qy},rv=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Bu=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(v.isValidElement(t)&&(n=t.props),!xo(n))return null;var s={};return Object.keys(n).forEach(function(i){rv.includes(i)&&(s[i]=r||function(o){return n[i](n,o)})}),s},Q6=function(t,r,n){return function(s){return t(r,n,s),null}},Ls=function(t,r,n){if(!xo(t)||Im(t)!=="object")return null;var s=null;return Object.keys(t).forEach(function(i){var o=t[i];rv.includes(i)&&typeof o=="function"&&(s||(s={}),s[i]=Q6(o,r,n))}),s},eB=["children"],tB=["children"];function Ky(e,t){if(e==null)return{};var r=rB(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rB(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Mm(e){"@babel/helpers - typeof";return Mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mm(e)}var Gy={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},da=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},Zy=null,Eh=null,nv=function e(t){if(t===Zy&&Array.isArray(Eh))return Eh;var r=[];return v.Children.forEach(t,function(n){Ke(n)||(L6.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Eh=r,Zy=t,r};function Vr(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(s){return da(s)}):n=[da(t)],nv(e).forEach(function(s){var i=Br(s,"type.displayName")||Br(s,"type.name");n.indexOf(i)!==-1&&r.push(s)}),r}function $r(e,t){var r=Vr(e,t);return r&&r[0]}var Xy=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,s=r.height;return!(!ve(n)||n<=0||!ve(s)||s<=0)},nB=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],aB=function(t){return t&&t.type&&Rs(t.type)&&nB.indexOf(t.type)>=0},nO=function(t){return t&&Mm(t)==="object"&&"clipDot"in t},sB=function(t,r,n,s){var i,o=(i=Ch==null?void 0:Ch[s])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!We(t)&&(s&&o.includes(r)||J6.includes(r))||n&&rv.includes(r)},Fe=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(v.isValidElement(t)&&(s=t.props),!xo(s))return null;var i={};return Object.keys(s).forEach(function(o){var c;sB((c=s)===null||c===void 0?void 0:c[o],o,r,n)&&(i[o]=s[o])}),i},Rm=function e(t,r){if(t===r)return!0;var n=v.Children.count(t);if(n!==v.Children.count(r))return!1;if(n===0)return!0;if(n===1)return Yy(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var s=0;s<n;s++){var i=t[s],o=r[s];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!Yy(i,o))return!1}return!0},Yy=function(t,r){if(Ke(t)&&Ke(r))return!0;if(!Ke(t)&&!Ke(r)){var n=t.props||{},s=n.children,i=Ky(n,eB),o=r.props||{},c=o.children,l=Ky(o,tB);return s&&c?_i(i,l)&&Rm(s,c):!s&&!c?_i(i,l):!1}return!1},Jy=function(t,r){var n=[],s={};return nv(t).forEach(function(i,o){if(aB(i))n.push(i);else if(i){var c=da(i.type),l=r[c]||{},u=l.handler,d=l.once;if(u&&(!d||!s[c])){var f=u(i,c,o);n.push(f),s[c]=!0}}}),n},iB=function(t){var r=t&&t.type;return r&&Gy[r]?Gy[r]:null},oB=function(t,r){return nv(r).indexOf(t)},cB=["children","width","height","viewBox","className","style","title","desc"];function Lm(){return Lm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lm.apply(this,arguments)}function lB(e,t){if(e==null)return{};var r=uB(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function uB(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Fm(e){var t=e.children,r=e.width,n=e.height,s=e.viewBox,i=e.className,o=e.style,c=e.title,l=e.desc,u=lB(e,cB),d=s||{width:r,height:n,x:0,y:0},f=Ge("recharts-surface",i);return D.createElement("svg",Lm({},Fe(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),D.createElement("title",null,c),D.createElement("desc",null,l),t)}var dB=["children","className"];function Bm(){return Bm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bm.apply(this,arguments)}function fB(e,t){if(e==null)return{};var r=hB(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function hB(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var st=D.forwardRef(function(e,t){var r=e.children,n=e.className,s=fB(e,dB),i=Ge("recharts-layer",n);return D.createElement("g",Bm({className:i},Fe(s,!0),{ref:t}),r)}),vn=function(t,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i]};function mB(e,t,r){var n=-1,s=e.length;t<0&&(t=-t>s?0:s+t),r=r>s?s:r,r<0&&(r+=s),s=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(s);++n<s;)i[n]=e[n+t];return i}var pB=mB,gB=pB;function vB(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:gB(e,t,r)}var xB=vB,yB="\\ud800-\\udfff",bB="\\u0300-\\u036f",jB="\\ufe20-\\ufe2f",wB="\\u20d0-\\u20ff",NB=bB+jB+wB,SB="\\ufe0e\\ufe0f",AB="\\u200d",OB=RegExp("["+AB+yB+NB+SB+"]");function _B(e){return OB.test(e)}var aO=_B;function PB(e){return e.split("")}var kB=PB,sO="\\ud800-\\udfff",TB="\\u0300-\\u036f",CB="\\ufe20-\\ufe2f",EB="\\u20d0-\\u20ff",$B=TB+CB+EB,DB="\\ufe0e\\ufe0f",IB="["+sO+"]",Vm="["+$B+"]",zm="\\ud83c[\\udffb-\\udfff]",MB="(?:"+Vm+"|"+zm+")",iO="[^"+sO+"]",oO="(?:\\ud83c[\\udde6-\\uddff]){2}",cO="[\\ud800-\\udbff][\\udc00-\\udfff]",RB="\\u200d",lO=MB+"?",uO="["+DB+"]?",LB="(?:"+RB+"(?:"+[iO,oO,cO].join("|")+")"+uO+lO+")*",FB=uO+lO+LB,BB="(?:"+[iO+Vm+"?",Vm,oO,cO,IB].join("|")+")",VB=RegExp(zm+"(?="+zm+")|"+BB+FB,"g");function zB(e){return e.match(VB)||[]}var UB=zB,WB=kB,HB=aO,qB=UB;function KB(e){return HB(e)?qB(e):WB(e)}var GB=KB,ZB=xB,XB=aO,YB=GB,JB=YA;function QB(e){return function(t){t=JB(t);var r=XB(t)?YB(t):void 0,n=r?r[0]:t.charAt(0),s=r?ZB(r,1).join(""):t.slice(1);return n[e]()+s}}var e8=QB,t8=e8,r8=t8("toUpperCase"),n8=r8;const Tf=xt(n8);function wt(e){return function(){return e}}const dO=Math.cos,Vu=Math.sin,Sn=Math.sqrt,zu=Math.PI,Cf=2*zu,Um=Math.PI,Wm=2*Um,is=1e-6,a8=Wm-is;function fO(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function s8(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return fO;const r=10**t;return function(n){this._+=n[0];for(let s=1,i=n.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class i8{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?fO:s8(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,s){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,r,n,s,i,o){this._append`C${+t},${+r},${+n},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,s,i){if(t=+t,r=+r,n=+n,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,c=this._y1,l=n-t,u=s-r,d=o-t,f=c-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>is)if(!(Math.abs(f*l-u*d)>is)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-o,g=s-c,m=l*l+u*u,x=p*p+g*g,b=Math.sqrt(m),y=Math.sqrt(h),w=i*Math.tan((Um-Math.acos((m+h-x)/(2*b*y)))/2),S=w/y,N=w/b;Math.abs(S-1)>is&&this._append`L${t+S*d},${r+S*f}`,this._append`A${i},${i},0,0,${+(f*p>d*g)},${this._x1=t+N*l},${this._y1=r+N*u}`}}arc(t,r,n,s,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let c=n*Math.cos(s),l=n*Math.sin(s),u=t+c,d=r+l,f=1^o,h=o?s-i:i-s;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>is||Math.abs(this._y1-d)>is)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%Wm+Wm),h>a8?this._append`A${n},${n},0,1,${f},${t-c},${r-l}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>is&&this._append`A${n},${n},0,${+(h>=Um)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function av(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new i8(t)}function sv(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function hO(e){this._context=e}hO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Ef(e){return new hO(e)}function mO(e){return e[0]}function pO(e){return e[1]}function gO(e,t){var r=wt(!0),n=null,s=Ef,i=null,o=av(c);e=typeof e=="function"?e:e===void 0?mO:wt(e),t=typeof t=="function"?t:t===void 0?pO:wt(t);function c(l){var u,d=(l=sv(l)).length,f,h=!1,p;for(n==null&&(i=s(p=o())),u=0;u<=d;++u)!(u<d&&r(f=l[u],u,l))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,l),+t(f,u,l));if(p)return i=null,p+""||null}return c.x=function(l){return arguments.length?(e=typeof l=="function"?l:wt(+l),c):e},c.y=function(l){return arguments.length?(t=typeof l=="function"?l:wt(+l),c):t},c.defined=function(l){return arguments.length?(r=typeof l=="function"?l:wt(!!l),c):r},c.curve=function(l){return arguments.length?(s=l,n!=null&&(i=s(n)),c):s},c.context=function(l){return arguments.length?(l==null?n=i=null:i=s(n=l),c):n},c}function Fl(e,t,r){var n=null,s=wt(!0),i=null,o=Ef,c=null,l=av(u);e=typeof e=="function"?e:e===void 0?mO:wt(+e),t=typeof t=="function"?t:wt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?pO:wt(+r);function u(f){var h,p,g,m=(f=sv(f)).length,x,b=!1,y,w=new Array(m),S=new Array(m);for(i==null&&(c=o(y=l())),h=0;h<=m;++h){if(!(h<m&&s(x=f[h],h,f))===b)if(b=!b)p=h,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),g=h-1;g>=p;--g)c.point(w[g],S[g]);c.lineEnd(),c.areaEnd()}b&&(w[h]=+e(x,h,f),S[h]=+t(x,h,f),c.point(n?+n(x,h,f):w[h],r?+r(x,h,f):S[h]))}if(y)return c=null,y+""||null}function d(){return gO().defined(s).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:wt(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:wt(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:wt(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:wt(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:wt(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:wt(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(s=typeof f=="function"?f:wt(!!f),u):s},u.curve=function(f){return arguments.length?(o=f,i!=null&&(c=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=c=null:c=o(i=f),u):i},u}class vO{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function o8(e){return new vO(e,!0)}function c8(e){return new vO(e,!1)}const iv={draw(e,t){const r=Sn(t/zu);e.moveTo(r,0),e.arc(0,0,r,0,Cf)}},l8={draw(e,t){const r=Sn(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},xO=Sn(1/3),u8=xO*2,d8={draw(e,t){const r=Sn(t/u8),n=r*xO;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},f8={draw(e,t){const r=Sn(t),n=-r/2;e.rect(n,n,r,r)}},h8=.8908130915292852,yO=Vu(zu/10)/Vu(7*zu/10),m8=Vu(Cf/10)*yO,p8=-dO(Cf/10)*yO,g8={draw(e,t){const r=Sn(t*h8),n=m8*r,s=p8*r;e.moveTo(0,-r),e.lineTo(n,s);for(let i=1;i<5;++i){const o=Cf*i/5,c=dO(o),l=Vu(o);e.lineTo(l*r,-c*r),e.lineTo(c*n-l*s,l*n+c*s)}e.closePath()}},$h=Sn(3),v8={draw(e,t){const r=-Sn(t/($h*3));e.moveTo(0,r*2),e.lineTo(-$h*r,-r),e.lineTo($h*r,-r),e.closePath()}},Zr=-.5,Xr=Sn(3)/2,Hm=1/Sn(12),x8=(Hm/2+1)*3,y8={draw(e,t){const r=Sn(t/x8),n=r/2,s=r*Hm,i=n,o=r*Hm+r,c=-i,l=o;e.moveTo(n,s),e.lineTo(i,o),e.lineTo(c,l),e.lineTo(Zr*n-Xr*s,Xr*n+Zr*s),e.lineTo(Zr*i-Xr*o,Xr*i+Zr*o),e.lineTo(Zr*c-Xr*l,Xr*c+Zr*l),e.lineTo(Zr*n+Xr*s,Zr*s-Xr*n),e.lineTo(Zr*i+Xr*o,Zr*o-Xr*i),e.lineTo(Zr*c+Xr*l,Zr*l-Xr*c),e.closePath()}};function b8(e,t){let r=null,n=av(s);e=typeof e=="function"?e:wt(e||iv),t=typeof t=="function"?t:wt(t===void 0?64:+t);function s(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:wt(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:wt(+i),s):t},s.context=function(i){return arguments.length?(r=i??null,s):r},s}function Uu(){}function Wu(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function bO(e){this._context=e}bO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Wu(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Wu(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function j8(e){return new bO(e)}function jO(e){this._context=e}jO.prototype={areaStart:Uu,areaEnd:Uu,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Wu(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function w8(e){return new jO(e)}function wO(e){this._context=e}wO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Wu(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function N8(e){return new wO(e)}function NO(e){this._context=e}NO.prototype={areaStart:Uu,areaEnd:Uu,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function S8(e){return new NO(e)}function Qy(e){return e<0?-1:1}function eb(e,t,r){var n=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(n||s<0&&-0),o=(r-e._y1)/(s||n<0&&-0),c=(i*s+o*n)/(n+s);return(Qy(i)+Qy(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(c))||0}function tb(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Dh(e,t,r){var n=e._x0,s=e._y0,i=e._x1,o=e._y1,c=(i-n)/3;e._context.bezierCurveTo(n+c,s+c*t,i-c,o-c*r,i,o)}function Hu(e){this._context=e}Hu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Dh(this,this._t0,tb(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Dh(this,tb(this,r=eb(this,e,t)),r);break;default:Dh(this,this._t0,r=eb(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function SO(e){this._context=new AO(e)}(SO.prototype=Object.create(Hu.prototype)).point=function(e,t){Hu.prototype.point.call(this,t,e)};function AO(e){this._context=e}AO.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,i){this._context.bezierCurveTo(t,e,n,r,i,s)}};function A8(e){return new Hu(e)}function O8(e){return new SO(e)}function OO(e){this._context=e}OO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=rb(e),s=rb(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],s[0][i],n[1][i],s[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function rb(e){var t,r=e.length-1,n,s=new Array(r),i=new Array(r),o=new Array(r);for(s[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=s[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(s[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)s[t]=(o[t]-s[t+1])/i[t];for(i[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function _8(e){return new OO(e)}function $f(e,t){this._context=e,this._t=t}$f.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function P8(e){return new $f(e,.5)}function k8(e){return new $f(e,0)}function T8(e){return new $f(e,1)}function Di(e,t){if((o=e.length)>1)for(var r=1,n,s,i=e[t[0]],o,c=i.length;r<o;++r)for(s=i,i=e[t[r]],n=0;n<c;++n)i[n][1]+=i[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function qm(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function C8(e,t){return e[t]}function E8(e){const t=[];return t.key=e,t}function $8(){var e=wt([]),t=qm,r=Di,n=C8;function s(i){var o=Array.from(e.apply(this,arguments),E8),c,l=o.length,u=-1,d;for(const f of i)for(c=0,++u;c<l;++c)(o[c][u]=[0,+n(f,o[c].key,u,i)]).data=f;for(c=0,d=sv(t(o));c<l;++c)o[d[c]].index=c;return r(o,d),o}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:wt(Array.from(i)),s):e},s.value=function(i){return arguments.length?(n=typeof i=="function"?i:wt(+i),s):n},s.order=function(i){return arguments.length?(t=i==null?qm:typeof i=="function"?i:wt(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(r=i??Di,s):r},s}function D8(e,t){if((n=e.length)>0){for(var r,n,s=0,i=e[0].length,o;s<i;++s){for(o=r=0;r<n;++r)o+=e[r][s][1]||0;if(o)for(r=0;r<n;++r)e[r][s][1]/=o}Di(e,t)}}function I8(e,t){if((s=e.length)>0){for(var r=0,n=e[t[0]],s,i=n.length;r<i;++r){for(var o=0,c=0;o<s;++o)c+=e[o][r][1]||0;n[r][1]+=n[r][0]=-c/2}Di(e,t)}}function M8(e,t){if(!(!((o=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var r=0,n=1,s,i,o;n<i;++n){for(var c=0,l=0,u=0;c<o;++c){for(var d=e[t[c]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,g=0;g<c;++g){var m=e[t[g]],x=m[n][1]||0,b=m[n-1][1]||0;p+=x-b}l+=f,u+=p*f}s[n-1][1]+=s[n-1][0]=r,l&&(r-=u/l)}s[n-1][1]+=s[n-1][0]=r,Di(e,t)}}function Cc(e){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cc(e)}var R8=["type","size","sizeType"];function Km(){return Km=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Km.apply(this,arguments)}function nb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ab(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nb(Object(r),!0).forEach(function(n){L8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function L8(e,t,r){return t=F8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F8(e){var t=B8(e,"string");return Cc(t)=="symbol"?t:t+""}function B8(e,t){if(Cc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function V8(e,t){if(e==null)return{};var r=z8(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function z8(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var _O={symbolCircle:iv,symbolCross:l8,symbolDiamond:d8,symbolSquare:f8,symbolStar:g8,symbolTriangle:v8,symbolWye:y8},U8=Math.PI/180,W8=function(t){var r="symbol".concat(Tf(t));return _O[r]||iv},H8=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*U8;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},q8=function(t,r){_O["symbol".concat(Tf(t))]=r},ov=function(t){var r=t.type,n=r===void 0?"circle":r,s=t.size,i=s===void 0?64:s,o=t.sizeType,c=o===void 0?"area":o,l=V8(t,R8),u=ab(ab({},l),{},{type:n,size:i,sizeType:c}),d=function(){var x=W8(n),b=b8().type(x).size(H8(i,c,n));return b()},f=u.className,h=u.cx,p=u.cy,g=Fe(u,!0);return h===+h&&p===+p&&i===+i?D.createElement("path",Km({},g,{className:Ge("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};ov.registerSymbol=q8;function Ii(e){"@babel/helpers - typeof";return Ii=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ii(e)}function Gm(){return Gm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gm.apply(this,arguments)}function sb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function K8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sb(Object(r),!0).forEach(function(n){Ec(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function G8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z8(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kO(n.key),n)}}function X8(e,t,r){return t&&Z8(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Y8(e,t,r){return t=qu(t),J8(e,PO()?Reflect.construct(t,r||[],qu(e).constructor):t.apply(e,r))}function J8(e,t){if(t&&(Ii(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Q8(e)}function Q8(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PO=function(){return!!e})()}function qu(e){return qu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qu(e)}function eV(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zm(e,t)}function Zm(e,t){return Zm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Zm(e,t)}function Ec(e,t,r){return t=kO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kO(e){var t=tV(e,"string");return Ii(t)=="symbol"?t:t+""}function tV(e,t){if(Ii(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ii(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Yr=32,cv=function(e){function t(){return G8(this,t),Y8(this,t,arguments)}return eV(t,e),X8(t,[{key:"renderIcon",value:function(n){var s=this.props.inactiveColor,i=Yr/2,o=Yr/6,c=Yr/3,l=n.inactive?s:n.color;if(n.type==="plainline")return D.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Yr,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return D.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(i,"h").concat(c,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*c,",").concat(i,`
            H`).concat(Yr,"M").concat(2*c,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(c,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return D.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Yr/8,"h").concat(Yr,"v").concat(Yr*3/4,"h").concat(-Yr,"z"),className:"recharts-legend-icon"});if(D.isValidElement(n.legendIcon)){var u=K8({},n);return delete u.legendIcon,D.cloneElement(n.legendIcon,u)}return D.createElement(ov,{fill:l,cx:i,cy:i,size:Yr,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,s=this.props,i=s.payload,o=s.iconSize,c=s.layout,l=s.formatter,u=s.inactiveColor,d={x:0,y:0,width:Yr,height:Yr},f={display:c==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,g){var m=p.formatter||l,x=Ge(Ec(Ec({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",p.inactive));if(p.type==="none")return null;var b=We(p.value)?null:p.value;vn(!We(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=p.inactive?u:p.color;return D.createElement("li",Gm({className:x,style:f,key:"legend-item-".concat(g)},Ls(n.props,p,g)),D.createElement(Fm,{width:o,height:o,viewBox:d,style:h},n.renderIcon(p)),D.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},m?m(b,p,g):b))})}},{key:"render",value:function(){var n=this.props,s=n.payload,i=n.layout,o=n.align;if(!s||!s.length)return null;var c={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return D.createElement("ul",{className:"recharts-default-legend",style:c},this.renderItems())}}])}(v.PureComponent);Ec(cv,"displayName","Legend");Ec(cv,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var rV=vf;function nV(){this.__data__=new rV,this.size=0}var aV=nV;function sV(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var iV=sV;function oV(e){return this.__data__.get(e)}var cV=oV;function lV(e){return this.__data__.has(e)}var uV=lV,dV=vf,fV=Zg,hV=Xg,mV=200;function pV(e,t){var r=this.__data__;if(r instanceof dV){var n=r.__data__;if(!fV||n.length<mV-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new hV(n)}return r.set(e,t),this.size=r.size,this}var gV=pV,vV=vf,xV=aV,yV=iV,bV=cV,jV=uV,wV=gV;function No(e){var t=this.__data__=new vV(e);this.size=t.size}No.prototype.clear=xV;No.prototype.delete=yV;No.prototype.get=bV;No.prototype.has=jV;No.prototype.set=wV;var TO=No,NV="__lodash_hash_undefined__";function SV(e){return this.__data__.set(e,NV),this}var AV=SV;function OV(e){return this.__data__.has(e)}var _V=OV,PV=Xg,kV=AV,TV=_V;function Ku(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new PV;++t<r;)this.add(e[t])}Ku.prototype.add=Ku.prototype.push=kV;Ku.prototype.has=TV;var CO=Ku;function CV(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var EO=CV;function EV(e,t){return e.has(t)}var $O=EV,$V=CO,DV=EO,IV=$O,MV=1,RV=2;function LV(e,t,r,n,s,i){var o=r&MV,c=e.length,l=t.length;if(c!=l&&!(o&&l>c))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,p=r&RV?new $V:void 0;for(i.set(e,t),i.set(t,e);++f<c;){var g=e[f],m=t[f];if(n)var x=o?n(m,g,f,t,e,i):n(g,m,f,e,t,i);if(x!==void 0){if(x)continue;h=!1;break}if(p){if(!DV(t,function(b,y){if(!IV(p,y)&&(g===b||s(g,b,r,n,i)))return p.push(y)})){h=!1;break}}else if(!(g===m||s(g,m,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var DO=LV,FV=Kn,BV=FV.Uint8Array,VV=BV;function zV(e){var t=-1,r=Array(e.size);return e.forEach(function(n,s){r[++t]=[s,n]}),r}var UV=zV;function WV(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var lv=WV,ib=jl,ob=VV,HV=Gg,qV=DO,KV=UV,GV=lv,ZV=1,XV=2,YV="[object Boolean]",JV="[object Date]",QV="[object Error]",ez="[object Map]",tz="[object Number]",rz="[object RegExp]",nz="[object Set]",az="[object String]",sz="[object Symbol]",iz="[object ArrayBuffer]",oz="[object DataView]",cb=ib?ib.prototype:void 0,Ih=cb?cb.valueOf:void 0;function cz(e,t,r,n,s,i,o){switch(r){case oz:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case iz:return!(e.byteLength!=t.byteLength||!i(new ob(e),new ob(t)));case YV:case JV:case tz:return HV(+e,+t);case QV:return e.name==t.name&&e.message==t.message;case rz:case az:return e==t+"";case ez:var c=KV;case nz:var l=n&ZV;if(c||(c=GV),e.size!=t.size&&!l)return!1;var u=o.get(e);if(u)return u==t;n|=XV,o.set(e,t);var d=qV(c(e),c(t),n,s,i,o);return o.delete(e),d;case sz:if(Ih)return Ih.call(e)==Ih.call(t)}return!1}var lz=cz;function uz(e,t){for(var r=-1,n=t.length,s=e.length;++r<n;)e[s+r]=t[r];return e}var IO=uz,dz=IO,fz=kr;function hz(e,t,r){var n=t(e);return fz(e)?n:dz(n,r(e))}var mz=hz;function pz(e,t){for(var r=-1,n=e==null?0:e.length,s=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[s++]=o)}return i}var gz=pz;function vz(){return[]}var xz=vz,yz=gz,bz=xz,jz=Object.prototype,wz=jz.propertyIsEnumerable,lb=Object.getOwnPropertySymbols,Nz=lb?function(e){return e==null?[]:(e=Object(e),yz(lb(e),function(t){return wz.call(e,t)}))}:bz,Sz=Nz;function Az(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var Oz=Az,_z=ja,Pz=wa,kz="[object Arguments]";function Tz(e){return Pz(e)&&_z(e)==kz}var Cz=Tz,ub=Cz,Ez=wa,MO=Object.prototype,$z=MO.hasOwnProperty,Dz=MO.propertyIsEnumerable,Iz=ub(function(){return arguments}())?ub:function(e){return Ez(e)&&$z.call(e,"callee")&&!Dz.call(e,"callee")},uv=Iz,Gu={exports:{}};function Mz(){return!1}var Rz=Mz;Gu.exports;(function(e,t){var r=Kn,n=Rz,s=t&&!t.nodeType&&t,i=s&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===s,c=o?r.Buffer:void 0,l=c?c.isBuffer:void 0,u=l||n;e.exports=u})(Gu,Gu.exports);var RO=Gu.exports,Lz=9007199254740991,Fz=/^(?:0|[1-9]\d*)$/;function Bz(e,t){var r=typeof e;return t=t??Lz,!!t&&(r=="number"||r!="symbol"&&Fz.test(e))&&e>-1&&e%1==0&&e<t}var dv=Bz,Vz=9007199254740991;function zz(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Vz}var fv=zz,Uz=ja,Wz=fv,Hz=wa,qz="[object Arguments]",Kz="[object Array]",Gz="[object Boolean]",Zz="[object Date]",Xz="[object Error]",Yz="[object Function]",Jz="[object Map]",Qz="[object Number]",eU="[object Object]",tU="[object RegExp]",rU="[object Set]",nU="[object String]",aU="[object WeakMap]",sU="[object ArrayBuffer]",iU="[object DataView]",oU="[object Float32Array]",cU="[object Float64Array]",lU="[object Int8Array]",uU="[object Int16Array]",dU="[object Int32Array]",fU="[object Uint8Array]",hU="[object Uint8ClampedArray]",mU="[object Uint16Array]",pU="[object Uint32Array]",Ot={};Ot[oU]=Ot[cU]=Ot[lU]=Ot[uU]=Ot[dU]=Ot[fU]=Ot[hU]=Ot[mU]=Ot[pU]=!0;Ot[qz]=Ot[Kz]=Ot[sU]=Ot[Gz]=Ot[iU]=Ot[Zz]=Ot[Xz]=Ot[Yz]=Ot[Jz]=Ot[Qz]=Ot[eU]=Ot[tU]=Ot[rU]=Ot[nU]=Ot[aU]=!1;function gU(e){return Hz(e)&&Wz(e.length)&&!!Ot[Uz(e)]}var vU=gU;function xU(e){return function(t){return e(t)}}var LO=xU,Zu={exports:{}};Zu.exports;(function(e,t){var r=HA,n=t&&!t.nodeType&&t,s=n&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===n,o=i&&r.process,c=function(){try{var l=s&&s.require&&s.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();e.exports=c})(Zu,Zu.exports);var yU=Zu.exports,bU=vU,jU=LO,db=yU,fb=db&&db.isTypedArray,wU=fb?jU(fb):bU,FO=wU,NU=Oz,SU=uv,AU=kr,OU=RO,_U=dv,PU=FO,kU=Object.prototype,TU=kU.hasOwnProperty;function CU(e,t){var r=AU(e),n=!r&&SU(e),s=!r&&!n&&OU(e),i=!r&&!n&&!s&&PU(e),o=r||n||s||i,c=o?NU(e.length,String):[],l=c.length;for(var u in e)(t||TU.call(e,u))&&!(o&&(u=="length"||s&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||_U(u,l)))&&c.push(u);return c}var EU=CU,$U=Object.prototype;function DU(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||$U;return e===r}var IU=DU;function MU(e,t){return function(r){return e(t(r))}}var BO=MU,RU=BO,LU=RU(Object.keys,Object),FU=LU,BU=IU,VU=FU,zU=Object.prototype,UU=zU.hasOwnProperty;function WU(e){if(!BU(e))return VU(e);var t=[];for(var r in Object(e))UU.call(e,r)&&r!="constructor"&&t.push(r);return t}var HU=WU,qU=Kg,KU=fv;function GU(e){return e!=null&&KU(e.length)&&!qU(e)}var wl=GU,ZU=EU,XU=HU,YU=wl;function JU(e){return YU(e)?ZU(e):XU(e)}var Df=JU,QU=mz,eW=Sz,tW=Df;function rW(e){return QU(e,tW,eW)}var nW=rW,hb=nW,aW=1,sW=Object.prototype,iW=sW.hasOwnProperty;function oW(e,t,r,n,s,i){var o=r&aW,c=hb(e),l=c.length,u=hb(t),d=u.length;if(l!=d&&!o)return!1;for(var f=l;f--;){var h=c[f];if(!(o?h in t:iW.call(t,h)))return!1}var p=i.get(e),g=i.get(t);if(p&&g)return p==t&&g==e;var m=!0;i.set(e,t),i.set(t,e);for(var x=o;++f<l;){h=c[f];var b=e[h],y=t[h];if(n)var w=o?n(y,b,h,t,e,i):n(b,y,h,e,t,i);if(!(w===void 0?b===y||s(b,y,r,n,i):w)){m=!1;break}x||(x=h=="constructor")}if(m&&!x){var S=e.constructor,N=t.constructor;S!=N&&"constructor"in e&&"constructor"in t&&!(typeof S=="function"&&S instanceof S&&typeof N=="function"&&N instanceof N)&&(m=!1)}return i.delete(e),i.delete(t),m}var cW=oW,lW=Zs,uW=Kn,dW=lW(uW,"DataView"),fW=dW,hW=Zs,mW=Kn,pW=hW(mW,"Promise"),gW=pW,vW=Zs,xW=Kn,yW=vW(xW,"Set"),VO=yW,bW=Zs,jW=Kn,wW=bW(jW,"WeakMap"),NW=wW,Xm=fW,Ym=Zg,Jm=gW,Qm=VO,ep=NW,zO=ja,So=KA,mb="[object Map]",SW="[object Object]",pb="[object Promise]",gb="[object Set]",vb="[object WeakMap]",xb="[object DataView]",AW=So(Xm),OW=So(Ym),_W=So(Jm),PW=So(Qm),kW=So(ep),os=zO;(Xm&&os(new Xm(new ArrayBuffer(1)))!=xb||Ym&&os(new Ym)!=mb||Jm&&os(Jm.resolve())!=pb||Qm&&os(new Qm)!=gb||ep&&os(new ep)!=vb)&&(os=function(e){var t=zO(e),r=t==SW?e.constructor:void 0,n=r?So(r):"";if(n)switch(n){case AW:return xb;case OW:return mb;case _W:return pb;case PW:return gb;case kW:return vb}return t});var TW=os,Mh=TO,CW=DO,EW=lz,$W=cW,yb=TW,bb=kr,jb=RO,DW=FO,IW=1,wb="[object Arguments]",Nb="[object Array]",Bl="[object Object]",MW=Object.prototype,Sb=MW.hasOwnProperty;function RW(e,t,r,n,s,i){var o=bb(e),c=bb(t),l=o?Nb:yb(e),u=c?Nb:yb(t);l=l==wb?Bl:l,u=u==wb?Bl:u;var d=l==Bl,f=u==Bl,h=l==u;if(h&&jb(e)){if(!jb(t))return!1;o=!0,d=!1}if(h&&!d)return i||(i=new Mh),o||DW(e)?CW(e,t,r,n,s,i):EW(e,t,l,r,n,s,i);if(!(r&IW)){var p=d&&Sb.call(e,"__wrapped__"),g=f&&Sb.call(t,"__wrapped__");if(p||g){var m=p?e.value():e,x=g?t.value():t;return i||(i=new Mh),s(m,x,r,n,i)}}return h?(i||(i=new Mh),$W(e,t,r,n,s,i)):!1}var LW=RW,FW=LW,Ab=wa;function UO(e,t,r,n,s){return e===t?!0:e==null||t==null||!Ab(e)&&!Ab(t)?e!==e&&t!==t:FW(e,t,r,n,UO,s)}var hv=UO,BW=TO,VW=hv,zW=1,UW=2;function WW(e,t,r,n){var s=r.length,i=s,o=!n;if(e==null)return!i;for(e=Object(e);s--;){var c=r[s];if(o&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++s<i;){c=r[s];var l=c[0],u=e[l],d=c[1];if(o&&c[2]){if(u===void 0&&!(l in e))return!1}else{var f=new BW;if(n)var h=n(u,d,l,e,t,f);if(!(h===void 0?VW(d,u,zW|UW,n,f):h))return!1}}return!0}var HW=WW,qW=Ya;function KW(e){return e===e&&!qW(e)}var WO=KW,GW=WO,ZW=Df;function XW(e){for(var t=ZW(e),r=t.length;r--;){var n=t[r],s=e[n];t[r]=[n,s,GW(s)]}return t}var YW=XW;function JW(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var HO=JW,QW=HW,e9=YW,t9=HO;function r9(e){var t=e9(e);return t.length==1&&t[0][2]?t9(t[0][0],t[0][1]):function(r){return r===e||QW(r,e,t)}}var n9=r9;function a9(e,t){return e!=null&&t in Object(e)}var s9=a9,i9=JA,o9=uv,c9=kr,l9=dv,u9=fv,d9=yf;function f9(e,t,r){t=i9(t,e);for(var n=-1,s=t.length,i=!1;++n<s;){var o=d9(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=s?i:(s=e==null?0:e.length,!!s&&u9(s)&&l9(o,s)&&(c9(e)||o9(e)))}var h9=f9,m9=s9,p9=h9;function g9(e,t){return e!=null&&p9(e,t,m9)}var v9=g9,x9=hv,y9=QA,b9=v9,j9=qg,w9=WO,N9=HO,S9=yf,A9=1,O9=2;function _9(e,t){return j9(e)&&w9(t)?N9(S9(e),t):function(r){var n=y9(r,e);return n===void 0&&n===t?b9(r,e):x9(t,n,A9|O9)}}var P9=_9;function k9(e){return e}var Ao=k9;function T9(e){return function(t){return t==null?void 0:t[e]}}var C9=T9,E9=Qg;function $9(e){return function(t){return E9(t,e)}}var D9=$9,I9=C9,M9=D9,R9=qg,L9=yf;function F9(e){return R9(e)?I9(L9(e)):M9(e)}var B9=F9,V9=n9,z9=P9,U9=Ao,W9=kr,H9=B9;function q9(e){return typeof e=="function"?e:e==null?U9:typeof e=="object"?W9(e)?z9(e[0],e[1]):V9(e):H9(e)}var Gn=q9;function K9(e,t,r,n){for(var s=e.length,i=r+(n?1:-1);n?i--:++i<s;)if(t(e[i],i,e))return i;return-1}var qO=K9;function G9(e){return e!==e}var Z9=G9;function X9(e,t,r){for(var n=r-1,s=e.length;++n<s;)if(e[n]===t)return n;return-1}var Y9=X9,J9=qO,Q9=Z9,e7=Y9;function t7(e,t,r){return t===t?e7(e,t,r):J9(e,Q9,r)}var r7=t7,n7=r7;function a7(e,t){var r=e==null?0:e.length;return!!r&&n7(e,t,0)>-1}var s7=a7;function i7(e,t,r){for(var n=-1,s=e==null?0:e.length;++n<s;)if(r(t,e[n]))return!0;return!1}var o7=i7;function c7(){}var l7=c7,Rh=VO,u7=l7,d7=lv,f7=1/0,h7=Rh&&1/d7(new Rh([,-0]))[1]==f7?function(e){return new Rh(e)}:u7,m7=h7,p7=CO,g7=s7,v7=o7,x7=$O,y7=m7,b7=lv,j7=200;function w7(e,t,r){var n=-1,s=g7,i=e.length,o=!0,c=[],l=c;if(r)o=!1,s=v7;else if(i>=j7){var u=t?null:y7(e);if(u)return b7(u);o=!1,s=x7,l=new p7}else l=t?[]:c;e:for(;++n<i;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;t&&l.push(f),c.push(d)}else s(l,f,r)||(l!==c&&l.push(f),c.push(d))}return c}var N7=w7,S7=Gn,A7=N7;function O7(e,t){return e&&e.length?A7(e,S7(t)):[]}var _7=O7;const Ob=xt(_7);function KO(e,t,r){return t===!0?Ob(e,r):We(t)?Ob(e,t):e}function Mi(e){"@babel/helpers - typeof";return Mi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mi(e)}var P7=["ref"];function _b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Qn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_b(Object(r),!0).forEach(function(n){If(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_b(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function k7(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ZO(n.key),n)}}function T7(e,t,r){return t&&Pb(e.prototype,t),r&&Pb(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function C7(e,t,r){return t=Xu(t),E7(e,GO()?Reflect.construct(t,r||[],Xu(e).constructor):t.apply(e,r))}function E7(e,t){if(t&&(Mi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $7(e)}function $7(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GO=function(){return!!e})()}function Xu(e){return Xu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xu(e)}function D7(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tp(e,t)}function tp(e,t){return tp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},tp(e,t)}function If(e,t,r){return t=ZO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZO(e){var t=I7(e,"string");return Mi(t)=="symbol"?t:t+""}function I7(e,t){if(Mi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function M7(e,t){if(e==null)return{};var r=R7(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function R7(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function L7(e){return e.value}function F7(e,t){if(D.isValidElement(e))return D.cloneElement(e,t);if(typeof e=="function")return D.createElement(e,t);t.ref;var r=M7(t,P7);return D.createElement(cv,r)}var kb=1,ws=function(e){function t(){var r;k7(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=C7(this,t,[].concat(s)),If(r,"lastBoundingBox",{width:-1,height:-1}),r}return D7(t,e),T7(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>kb||Math.abs(s.height-this.lastBoundingBox.height)>kb)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,n&&n(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Qn({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var s=this.props,i=s.layout,o=s.align,c=s.verticalAlign,l=s.margin,u=s.chartWidth,d=s.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(c==="middle"){var g=this.getBBoxSnapshot();h={top:((d||0)-g.height)/2}}else h=c==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Qn(Qn({},f),h)}},{key:"render",value:function(){var n=this,s=this.props,i=s.content,o=s.width,c=s.height,l=s.wrapperStyle,u=s.payloadUniqBy,d=s.payload,f=Qn(Qn({position:"absolute",width:o||"auto",height:c||"auto"},this.getDefaultPosition(l)),l);return D.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},F7(i,Qn(Qn({},this.props),{},{payload:KO(d,u,L7)})))}}],[{key:"getWithHeight",value:function(n,s){var i=Qn(Qn({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&ve(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||s}:null}}])}(v.PureComponent);If(ws,"displayName","Legend");If(ws,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Tb=jl,B7=uv,V7=kr,Cb=Tb?Tb.isConcatSpreadable:void 0;function z7(e){return V7(e)||B7(e)||!!(Cb&&e&&e[Cb])}var U7=z7,W7=IO,H7=U7;function XO(e,t,r,n,s){var i=-1,o=e.length;for(r||(r=H7),s||(s=[]);++i<o;){var c=e[i];t>0&&r(c)?t>1?XO(c,t-1,r,n,s):W7(s,c):n||(s[s.length]=c)}return s}var YO=XO;function q7(e){return function(t,r,n){for(var s=-1,i=Object(t),o=n(t),c=o.length;c--;){var l=o[e?c:++s];if(r(i[l],l,i)===!1)break}return t}}var K7=q7,G7=K7,Z7=G7(),X7=Z7,Y7=X7,J7=Df;function Q7(e,t){return e&&Y7(e,t,J7)}var JO=Q7,eH=wl;function tH(e,t){return function(r,n){if(r==null)return r;if(!eH(r))return e(r,n);for(var s=r.length,i=t?s:-1,o=Object(r);(t?i--:++i<s)&&n(o[i],i,o)!==!1;);return r}}var rH=tH,nH=JO,aH=rH,sH=aH(nH),mv=sH,iH=mv,oH=wl;function cH(e,t){var r=-1,n=oH(e)?Array(e.length):[];return iH(e,function(s,i,o){n[++r]=t(s,i,o)}),n}var QO=cH;function lH(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var uH=lH,Eb=vo;function dH(e,t){if(e!==t){var r=e!==void 0,n=e===null,s=e===e,i=Eb(e),o=t!==void 0,c=t===null,l=t===t,u=Eb(t);if(!c&&!u&&!i&&e>t||i&&o&&l&&!c&&!u||n&&o&&l||!r&&l||!s)return 1;if(!n&&!i&&!u&&e<t||u&&r&&s&&!n&&!i||c&&r&&s||!o&&s||!l)return-1}return 0}var fH=dH,hH=fH;function mH(e,t,r){for(var n=-1,s=e.criteria,i=t.criteria,o=s.length,c=r.length;++n<o;){var l=hH(s[n],i[n]);if(l){if(n>=c)return l;var u=r[n];return l*(u=="desc"?-1:1)}}return e.index-t.index}var pH=mH,Lh=Jg,gH=Qg,vH=Gn,xH=QO,yH=uH,bH=LO,jH=pH,wH=Ao,NH=kr;function SH(e,t,r){t.length?t=Lh(t,function(i){return NH(i)?function(o){return gH(o,i.length===1?i[0]:i)}:i}):t=[wH];var n=-1;t=Lh(t,bH(vH));var s=xH(e,function(i,o,c){var l=Lh(t,function(u){return u(i)});return{criteria:l,index:++n,value:i}});return yH(s,function(i,o){return jH(i,o,r)})}var AH=SH;function OH(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var _H=OH,PH=_H,$b=Math.max;function kH(e,t,r){return t=$b(t===void 0?e.length-1:t,0),function(){for(var n=arguments,s=-1,i=$b(n.length-t,0),o=Array(i);++s<i;)o[s]=n[t+s];s=-1;for(var c=Array(t+1);++s<t;)c[s]=n[s];return c[t]=r(o),PH(e,this,c)}}var TH=kH;function CH(e){return function(){return e}}var EH=CH,$H=Zs,DH=function(){try{var e=$H(Object,"defineProperty");return e({},"",{}),e}catch{}}(),e_=DH,IH=EH,Db=e_,MH=Ao,RH=Db?function(e,t){return Db(e,"toString",{configurable:!0,enumerable:!1,value:IH(t),writable:!0})}:MH,LH=RH,FH=800,BH=16,VH=Date.now;function zH(e){var t=0,r=0;return function(){var n=VH(),s=BH-(n-r);if(r=n,s>0){if(++t>=FH)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var UH=zH,WH=LH,HH=UH,qH=HH(WH),KH=qH,GH=Ao,ZH=TH,XH=KH;function YH(e,t){return XH(ZH(e,t,GH),e+"")}var JH=YH,QH=Gg,eq=wl,tq=dv,rq=Ya;function nq(e,t,r){if(!rq(r))return!1;var n=typeof t;return(n=="number"?eq(r)&&tq(t,r.length):n=="string"&&t in r)?QH(r[t],e):!1}var Mf=nq,aq=YO,sq=AH,iq=JH,Ib=Mf,oq=iq(function(e,t){if(e==null)return[];var r=t.length;return r>1&&Ib(e,t[0],t[1])?t=[]:r>2&&Ib(t[0],t[1],t[2])&&(t=[t[0]]),sq(e,aq(t,1),[])}),cq=oq;const pv=xt(cq);function $c(e){"@babel/helpers - typeof";return $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$c(e)}function rp(){return rp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rp.apply(this,arguments)}function lq(e,t){return hq(e)||fq(e,t)||dq(e,t)||uq()}function uq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dq(e,t){if(e){if(typeof e=="string")return Mb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mb(e,t)}}function Mb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fq(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(d){u=!0,s=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return c}}function hq(e){if(Array.isArray(e))return e}function Rb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Fh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rb(Object(r),!0).forEach(function(n){mq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mq(e,t,r){return t=pq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pq(e){var t=gq(e,"string");return $c(t)=="symbol"?t:t+""}function gq(e,t){if($c(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vq(e){return Array.isArray(e)&&Xt(e[0])&&Xt(e[1])?e.join(" ~ "):e}var xq=function(t){var r=t.separator,n=r===void 0?" : ":r,s=t.contentStyle,i=s===void 0?{}:s,o=t.itemStyle,c=o===void 0?{}:o,l=t.labelStyle,u=l===void 0?{}:l,d=t.payload,f=t.formatter,h=t.itemSorter,p=t.wrapperClassName,g=t.labelClassName,m=t.label,x=t.labelFormatter,b=t.accessibilityLayer,y=b===void 0?!1:b,w=function(){if(d&&d.length){var k={padding:0,margin:0},E=(h?pv(d,h):d).map(function(C,I){if(C.type==="none")return null;var F=Fh({display:"block",paddingTop:4,paddingBottom:4,color:C.color||"#000"},c),$=C.formatter||f||vq,q=C.value,M=C.name,J=q,V=M;if($&&J!=null&&V!=null){var z=$(q,M,C,I,d);if(Array.isArray(z)){var B=lq(z,2);J=B[0],V=B[1]}else J=z}return D.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(I),style:F},Xt(V)?D.createElement("span",{className:"recharts-tooltip-item-name"},V):null,Xt(V)?D.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,D.createElement("span",{className:"recharts-tooltip-item-value"},J),D.createElement("span",{className:"recharts-tooltip-item-unit"},C.unit||""))});return D.createElement("ul",{className:"recharts-tooltip-item-list",style:k},E)}return null},S=Fh({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),N=Fh({margin:0},u),j=!Ke(m),A=j?m:"",O=Ge("recharts-default-tooltip",p),P=Ge("recharts-tooltip-label",g);j&&x&&d!==void 0&&d!==null&&(A=x(m,d));var T=y?{role:"status","aria-live":"assertive"}:{};return D.createElement("div",rp({className:O,style:S},T),D.createElement("p",{className:P,style:N},D.isValidElement(A)?A:"".concat(A)),w())};function Dc(e){"@babel/helpers - typeof";return Dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dc(e)}function Vl(e,t,r){return t=yq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yq(e){var t=bq(e,"string");return Dc(t)=="symbol"?t:t+""}function bq(e,t){if(Dc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bo="recharts-tooltip-wrapper",jq={visibility:"hidden"};function wq(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Ge(Bo,Vl(Vl(Vl(Vl({},"".concat(Bo,"-right"),ve(r)&&t&&ve(t.x)&&r>=t.x),"".concat(Bo,"-left"),ve(r)&&t&&ve(t.x)&&r<t.x),"".concat(Bo,"-bottom"),ve(n)&&t&&ve(t.y)&&n>=t.y),"".concat(Bo,"-top"),ve(n)&&t&&ve(t.y)&&n<t.y))}function Lb(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,s=e.offsetTopLeft,i=e.position,o=e.reverseDirection,c=e.tooltipDimension,l=e.viewBox,u=e.viewBoxDimension;if(i&&ve(i[n]))return i[n];var d=r[n]-c-s,f=r[n]+s;if(t[n])return o[n]?d:f;if(o[n]){var h=d,p=l[n];return h<p?Math.max(f,l[n]):Math.max(d,l[n])}var g=f+c,m=l[n]+u;return g>m?Math.max(d,l[n]):Math.max(f,l[n])}function Nq(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Sq(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,s=e.position,i=e.reverseDirection,o=e.tooltipBox,c=e.useTranslate3d,l=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=Lb({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),f=Lb({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),u=Nq({translateX:d,translateY:f,useTranslate3d:c})):u=jq,{cssProperties:u,cssClasses:wq({translateX:d,translateY:f,coordinate:r})}}function Ri(e){"@babel/helpers - typeof";return Ri=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ri(e)}function Fb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Bb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fb(Object(r),!0).forEach(function(n){ap(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Aq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Oq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,r_(n.key),n)}}function _q(e,t,r){return t&&Oq(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Pq(e,t,r){return t=Yu(t),kq(e,t_()?Reflect.construct(t,r||[],Yu(e).constructor):t.apply(e,r))}function kq(e,t){if(t&&(Ri(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tq(e)}function Tq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function t_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t_=function(){return!!e})()}function Yu(e){return Yu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yu(e)}function Cq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&np(e,t)}function np(e,t){return np=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},np(e,t)}function ap(e,t,r){return t=r_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r_(e){var t=Eq(e,"string");return Ri(t)=="symbol"?t:t+""}function Eq(e,t){if(Ri(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ri(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Vb=1,$q=function(e){function t(){var r;Aq(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=Pq(this,t,[].concat(s)),ap(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),ap(r,"handleKeyDown",function(o){if(o.key==="Escape"){var c,l,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(c=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&c!==void 0?c:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return Cq(t,e),_q(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>Vb||Math.abs(n.height-this.state.lastBoundingBox.height)>Vb)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,c=s.animationDuration,l=s.animationEasing,u=s.children,d=s.coordinate,f=s.hasPayload,h=s.isAnimationActive,p=s.offset,g=s.position,m=s.reverseDirection,x=s.useTranslate3d,b=s.viewBox,y=s.wrapperStyle,w=Sq({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:p,position:g,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:b}),S=w.cssClasses,N=w.cssProperties,j=Bb(Bb({transition:h&&i?"transform ".concat(c,"ms ").concat(l):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},y);return D.createElement("div",{tabIndex:-1,className:S,style:j,ref:function(O){n.wrapperNode=O}},u)}}])}(v.PureComponent),Dq=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ja={isSsr:Dq()};function Li(e){"@babel/helpers - typeof";return Li=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Li(e)}function zb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ub(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zb(Object(r),!0).forEach(function(n){gv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Iq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a_(n.key),n)}}function Rq(e,t,r){return t&&Mq(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Lq(e,t,r){return t=Ju(t),Fq(e,n_()?Reflect.construct(t,r||[],Ju(e).constructor):t.apply(e,r))}function Fq(e,t){if(t&&(Li(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bq(e)}function Bq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function n_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(n_=function(){return!!e})()}function Ju(e){return Ju=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ju(e)}function Vq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sp(e,t)}function sp(e,t){return sp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},sp(e,t)}function gv(e,t,r){return t=a_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a_(e){var t=zq(e,"string");return Li(t)=="symbol"?t:t+""}function zq(e,t){if(Li(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Li(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Uq(e){return e.dataKey}function Wq(e,t){return D.isValidElement(e)?D.cloneElement(e,t):typeof e=="function"?D.createElement(e,t):D.createElement(xq,t)}var dr=function(e){function t(){return Iq(this,t),Lq(this,t,arguments)}return Vq(t,e),Rq(t,[{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,c=s.animationDuration,l=s.animationEasing,u=s.content,d=s.coordinate,f=s.filterNull,h=s.isAnimationActive,p=s.offset,g=s.payload,m=s.payloadUniqBy,x=s.position,b=s.reverseDirection,y=s.useTranslate3d,w=s.viewBox,S=s.wrapperStyle,N=g??[];f&&N.length&&(N=KO(g.filter(function(A){return A.value!=null&&(A.hide!==!0||n.props.includeHidden)}),m,Uq));var j=N.length>0;return D.createElement($q,{allowEscapeViewBox:o,animationDuration:c,animationEasing:l,isAnimationActive:h,active:i,coordinate:d,hasPayload:j,offset:p,position:x,reverseDirection:b,useTranslate3d:y,viewBox:w,wrapperStyle:S},Wq(u,Ub(Ub({},this.props),{},{payload:N})))}}])}(v.PureComponent);gv(dr,"displayName","Tooltip");gv(dr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ja.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Hq=Kn,qq=function(){return Hq.Date.now()},Kq=qq,Gq=/\s/;function Zq(e){for(var t=e.length;t--&&Gq.test(e.charAt(t)););return t}var Xq=Zq,Yq=Xq,Jq=/^\s+/;function Qq(e){return e&&e.slice(0,Yq(e)+1).replace(Jq,"")}var eK=Qq,tK=eK,Wb=Ya,rK=vo,Hb=NaN,nK=/^[-+]0x[0-9a-f]+$/i,aK=/^0b[01]+$/i,sK=/^0o[0-7]+$/i,iK=parseInt;function oK(e){if(typeof e=="number")return e;if(rK(e))return Hb;if(Wb(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Wb(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=tK(e);var r=aK.test(e);return r||sK.test(e)?iK(e.slice(2),r?2:8):nK.test(e)?Hb:+e}var s_=oK,cK=Ya,Bh=Kq,qb=s_,lK="Expected a function",uK=Math.max,dK=Math.min;function fK(e,t,r){var n,s,i,o,c,l,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(lK);t=qb(t)||0,cK(r)&&(d=!!r.leading,f="maxWait"in r,i=f?uK(qb(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function p(j){var A=n,O=s;return n=s=void 0,u=j,o=e.apply(O,A),o}function g(j){return u=j,c=setTimeout(b,t),d?p(j):o}function m(j){var A=j-l,O=j-u,P=t-A;return f?dK(P,i-O):P}function x(j){var A=j-l,O=j-u;return l===void 0||A>=t||A<0||f&&O>=i}function b(){var j=Bh();if(x(j))return y(j);c=setTimeout(b,m(j))}function y(j){return c=void 0,h&&n?p(j):(n=s=void 0,o)}function w(){c!==void 0&&clearTimeout(c),u=0,n=l=s=c=void 0}function S(){return c===void 0?o:y(Bh())}function N(){var j=Bh(),A=x(j);if(n=arguments,s=this,l=j,A){if(c===void 0)return g(l);if(f)return clearTimeout(c),c=setTimeout(b,t),p(l)}return c===void 0&&(c=setTimeout(b,t)),o}return N.cancel=w,N.flush=S,N}var hK=fK,mK=hK,pK=Ya,gK="Expected a function";function vK(e,t,r){var n=!0,s=!0;if(typeof e!="function")throw new TypeError(gK);return pK(r)&&(n="leading"in r?!!r.leading:n,s="trailing"in r?!!r.trailing:s),mK(e,t,{leading:n,maxWait:t,trailing:s})}var xK=vK;const i_=xt(xK);function Ic(e){"@babel/helpers - typeof";return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ic(e)}function Kb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function zl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kb(Object(r),!0).forEach(function(n){yK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yK(e,t,r){return t=bK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bK(e){var t=jK(e,"string");return Ic(t)=="symbol"?t:t+""}function jK(e,t){if(Ic(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ic(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wK(e,t){return OK(e)||AK(e,t)||SK(e,t)||NK()}function NK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SK(e,t){if(e){if(typeof e=="string")return Gb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gb(e,t)}}function Gb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function AK(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(d){u=!0,s=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return c}}function OK(e){if(Array.isArray(e))return e}var rs=v.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,s=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,c=e.height,l=c===void 0?"100%":c,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,p=e.children,g=e.debounce,m=g===void 0?0:g,x=e.id,b=e.className,y=e.onResize,w=e.style,S=w===void 0?{}:w,N=v.useRef(null),j=v.useRef();j.current=y,v.useImperativeHandle(t,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var A=v.useState({containerWidth:s.width,containerHeight:s.height}),O=wK(A,2),P=O[0],T=O[1],_=v.useCallback(function(E,C){T(function(I){var F=Math.round(E),$=Math.round(C);return I.containerWidth===F&&I.containerHeight===$?I:{containerWidth:F,containerHeight:$}})},[]);v.useEffect(function(){var E=function(M){var J,V=M[0].contentRect,z=V.width,B=V.height;_(z,B),(J=j.current)===null||J===void 0||J.call(j,z,B)};m>0&&(E=i_(E,m,{trailing:!0,leading:!1}));var C=new ResizeObserver(E),I=N.current.getBoundingClientRect(),F=I.width,$=I.height;return _(F,$),C.observe(N.current),function(){C.disconnect()}},[_,m]);var k=v.useMemo(function(){var E=P.containerWidth,C=P.containerHeight;if(E<0||C<0)return null;vn(ms(o)||ms(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),vn(!r||r>0,"The aspect(%s) must be greater than zero.",r);var I=ms(o)?E:o,F=ms(l)?C:l;r&&r>0&&(I?F=I/r:F&&(I=F*r),h&&F>h&&(F=h)),vn(I>0||F>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,I,F,o,l,d,f,r);var $=!Array.isArray(p)&&da(p.type).endsWith("Chart");return D.Children.map(p,function(q){return D.isValidElement(q)?v.cloneElement(q,zl({width:I,height:F},$?{style:zl({height:"100%",width:"100%",maxHeight:F,maxWidth:I},q.props.style)}:{})):q})},[r,p,l,h,f,d,P,o]);return D.createElement("div",{id:x?"".concat(x):void 0,className:Ge("recharts-responsive-container",b),style:zl(zl({},S),{},{width:o,height:l,minWidth:d,minHeight:f,maxHeight:h}),ref:N},k)}),Mc=function(t){return null};Mc.displayName="Cell";function Rc(e){"@babel/helpers - typeof";return Rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rc(e)}function Zb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ip(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zb(Object(r),!0).forEach(function(n){_K(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _K(e,t,r){return t=PK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PK(e){var t=kK(e,"string");return Rc(t)=="symbol"?t:t+""}function kK(e,t){if(Rc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ai={widthCache:{},cacheCount:0},TK=2e3,CK={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Xb="recharts_measurement_span";function EK(e){var t=ip({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var sc=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ja.isSsr)return{width:0,height:0};var n=EK(r),s=JSON.stringify({text:t,copyStyle:n});if(ai.widthCache[s])return ai.widthCache[s];try{var i=document.getElementById(Xb);i||(i=document.createElement("span"),i.setAttribute("id",Xb),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=ip(ip({},CK),n);Object.assign(i.style,o),i.textContent="".concat(t);var c=i.getBoundingClientRect(),l={width:c.width,height:c.height};return ai.widthCache[s]=l,++ai.cacheCount>TK&&(ai.cacheCount=0,ai.widthCache={}),l}catch{return{width:0,height:0}}},$K=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Lc(e){"@babel/helpers - typeof";return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lc(e)}function Qu(e,t){return RK(e)||MK(e,t)||IK(e,t)||DK()}function DK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IK(e,t){if(e){if(typeof e=="string")return Yb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yb(e,t)}}function Yb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function MK(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(d){u=!0,s=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return c}}function RK(e){if(Array.isArray(e))return e}function LK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,BK(n.key),n)}}function FK(e,t,r){return t&&Jb(e.prototype,t),r&&Jb(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function BK(e){var t=VK(e,"string");return Lc(t)=="symbol"?t:t+""}function VK(e,t){if(Lc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Qb=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,e0=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,zK=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,UK=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,o_={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},WK=Object.keys(o_),hi="NaN";function HK(e,t){return e*o_[t]}var Ul=function(){function e(t,r){LK(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!zK.test(r)&&(this.num=NaN,this.unit=""),WK.includes(r)&&(this.num=HK(t,r),this.unit="px")}return FK(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,s=(n=UK.exec(r))!==null&&n!==void 0?n:[],i=Qu(s,3),o=i[1],c=i[2];return new e(parseFloat(o),c??"")}}])}();function c_(e){if(e.includes(hi))return hi;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=Qb.exec(t))!==null&&r!==void 0?r:[],s=Qu(n,4),i=s[1],o=s[2],c=s[3],l=Ul.parse(i??""),u=Ul.parse(c??""),d=o==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return hi;t=t.replace(Qb,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=e0.exec(t))!==null&&f!==void 0?f:[],p=Qu(h,4),g=p[1],m=p[2],x=p[3],b=Ul.parse(g??""),y=Ul.parse(x??""),w=m==="+"?b.add(y):b.subtract(y);if(w.isNaN())return hi;t=t.replace(e0,w.toString())}return t}var t0=/\(([^()]*)\)/;function qK(e){for(var t=e;t.includes("(");){var r=t0.exec(t),n=Qu(r,2),s=n[1];t=t.replace(t0,c_(s))}return t}function KK(e){var t=e.replace(/\s+/g,"");return t=qK(t),t=c_(t),t}function GK(e){try{return KK(e)}catch{return hi}}function Vh(e){var t=GK(e.slice(5,-1));return t===hi?"":t}var ZK=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],XK=["dx","dy","angle","className","breakAll"];function op(){return op=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},op.apply(this,arguments)}function r0(e,t){if(e==null)return{};var r=YK(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function YK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function n0(e,t){return tG(e)||eG(e,t)||QK(e,t)||JK()}function JK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QK(e,t){if(e){if(typeof e=="string")return a0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a0(e,t)}}function a0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eG(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(d){u=!0,s=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return c}}function tG(e){if(Array.isArray(e))return e}var l_=/[ \f\n\r\t\v\u2028\u2029]+/,u_=function(t){var r=t.children,n=t.breakAll,s=t.style;try{var i=[];Ke(r)||(n?i=r.toString().split(""):i=r.toString().split(l_));var o=i.map(function(l){return{word:l,width:sc(l,s).width}}),c=n?0:sc(" ",s).width;return{wordsWithComputedWidth:o,spaceWidth:c}}catch{return null}},rG=function(t,r,n,s,i){var o=t.maxLines,c=t.children,l=t.style,u=t.breakAll,d=ve(o),f=c,h=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return I.reduce(function(F,$){var q=$.word,M=$.width,J=F[F.length-1];if(J&&(s==null||i||J.width+M+n<Number(s)))J.words.push(q),J.width+=M+n;else{var V={words:[q],width:M};F.push(V)}return F},[])},p=h(r),g=function(I){return I.reduce(function(F,$){return F.width>$.width?F:$})};if(!d)return p;for(var m="…",x=function(I){var F=f.slice(0,I),$=u_({breakAll:u,style:l,children:F+m}).wordsWithComputedWidth,q=h($),M=q.length>o||g(q).width>Number(s);return[M,q]},b=0,y=f.length-1,w=0,S;b<=y&&w<=f.length-1;){var N=Math.floor((b+y)/2),j=N-1,A=x(j),O=n0(A,2),P=O[0],T=O[1],_=x(N),k=n0(_,1),E=k[0];if(!P&&!E&&(b=N+1),P&&E&&(y=N-1),!P&&E){S=T;break}w++}return S||p},s0=function(t){var r=Ke(t)?[]:t.toString().split(l_);return[{words:r}]},nG=function(t){var r=t.width,n=t.scaleToFit,s=t.children,i=t.style,o=t.breakAll,c=t.maxLines;if((r||n)&&!Ja.isSsr){var l,u,d=u_({breakAll:o,children:s,style:i});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;l=f,u=h}else return s0(s);return rG({breakAll:o,children:s,maxLines:c,style:i},l,u,r,n)}return s0(s)},i0="#808080",Fs=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,i=s===void 0?0:s,o=t.lineHeight,c=o===void 0?"1em":o,l=t.capHeight,u=l===void 0?"0.71em":l,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,p=h===void 0?"start":h,g=t.verticalAnchor,m=g===void 0?"end":g,x=t.fill,b=x===void 0?i0:x,y=r0(t,ZK),w=v.useMemo(function(){return nG({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:f,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,f,y.style,y.width]),S=y.dx,N=y.dy,j=y.angle,A=y.className,O=y.breakAll,P=r0(y,XK);if(!Xt(n)||!Xt(i))return null;var T=n+(ve(S)?S:0),_=i+(ve(N)?N:0),k;switch(m){case"start":k=Vh("calc(".concat(u,")"));break;case"middle":k=Vh("calc(".concat((w.length-1)/2," * -").concat(c," + (").concat(u," / 2))"));break;default:k=Vh("calc(".concat(w.length-1," * -").concat(c,")"));break}var E=[];if(f){var C=w[0].width,I=y.width;E.push("scale(".concat((ve(I)?I/C:1)/C,")"))}return j&&E.push("rotate(".concat(j,", ").concat(T,", ").concat(_,")")),E.length&&(P.transform=E.join(" ")),D.createElement("text",op({},Fe(P,!0),{x:T,y:_,className:Ge("recharts-text",A),textAnchor:p,fill:b.includes("url")?i0:b}),w.map(function(F,$){var q=F.words.join(O?"":" ");return D.createElement("tspan",{x:T,dy:$===0?k:c,key:"".concat(q,"-").concat($)},q)}))};function Fa(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function aG(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function vv(e){let t,r,n;e.length!==2?(t=Fa,r=(c,l)=>Fa(e(c),l),n=(c,l)=>e(c)-l):(t=e===Fa||e===aG?e:sG,r=e,n=e);function s(c,l,u=0,d=c.length){if(u<d){if(t(l,l)!==0)return d;do{const f=u+d>>>1;r(c[f],l)<0?u=f+1:d=f}while(u<d)}return u}function i(c,l,u=0,d=c.length){if(u<d){if(t(l,l)!==0)return d;do{const f=u+d>>>1;r(c[f],l)<=0?u=f+1:d=f}while(u<d)}return u}function o(c,l,u=0,d=c.length){const f=s(c,l,u,d-1);return f>u&&n(c[f-1],l)>-n(c[f],l)?f-1:f}return{left:s,center:o,right:i}}function sG(){return 0}function d_(e){return e===null?NaN:+e}function*iG(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const oG=vv(Fa),Nl=oG.right;vv(d_).center;class o0 extends Map{constructor(t,r=uG){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(c0(this,t))}has(t){return super.has(c0(this,t))}set(t,r){return super.set(cG(this,t),r)}delete(t){return super.delete(lG(this,t))}}function c0({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function cG({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function lG({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function uG(e){return e!==null&&typeof e=="object"?e.valueOf():e}function dG(e=Fa){if(e===Fa)return f_;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function f_(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const fG=Math.sqrt(50),hG=Math.sqrt(10),mG=Math.sqrt(2);function ed(e,t,r){const n=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(n)),i=n/Math.pow(10,s),o=i>=fG?10:i>=hG?5:i>=mG?2:1;let c,l,u;return s<0?(u=Math.pow(10,-s)/o,c=Math.round(e*u),l=Math.round(t*u),c/u<e&&++c,l/u>t&&--l,u=-u):(u=Math.pow(10,s)*o,c=Math.round(e/u),l=Math.round(t/u),c*u<e&&++c,l*u>t&&--l),l<c&&.5<=r&&r<2?ed(e,t,r*2):[c,l,u]}function cp(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[s,i,o]=n?ed(t,e,r):ed(e,t,r);if(!(i>=s))return[];const c=i-s+1,l=new Array(c);if(n)if(o<0)for(let u=0;u<c;++u)l[u]=(i-u)/-o;else for(let u=0;u<c;++u)l[u]=(i-u)*o;else if(o<0)for(let u=0;u<c;++u)l[u]=(s+u)/-o;else for(let u=0;u<c;++u)l[u]=(s+u)*o;return l}function lp(e,t,r){return t=+t,e=+e,r=+r,ed(e,t,r)[2]}function up(e,t,r){t=+t,e=+e,r=+r;const n=t<e,s=n?lp(t,e,r):lp(e,t,r);return(n?-1:1)*(s<0?1/-s:s)}function l0(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function u0(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function h_(e,t,r=0,n=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(s=s===void 0?f_:dG(s);n>r;){if(n-r>600){const l=n-r+1,u=t-r+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(u-l/2<0?-1:1),p=Math.max(r,Math.floor(t-u*f/l+h)),g=Math.min(n,Math.floor(t+(l-u)*f/l+h));h_(e,t,p,g,s)}const i=e[t];let o=r,c=n;for(Vo(e,r,t),s(e[n],i)>0&&Vo(e,r,n);o<c;){for(Vo(e,o,c),++o,--c;s(e[o],i)<0;)++o;for(;s(e[c],i)>0;)--c}s(e[r],i)===0?Vo(e,r,c):(++c,Vo(e,c,n)),c<=t&&(r=c+1),t<=c&&(n=c-1)}return e}function Vo(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function pG(e,t,r){if(e=Float64Array.from(iG(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return u0(e);if(t>=1)return l0(e);var n,s=(n-1)*t,i=Math.floor(s),o=l0(h_(e,i).subarray(0,i+1)),c=u0(e.subarray(i+1));return o+(c-o)*(s-i)}}function gG(e,t,r=d_){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,i=Math.floor(s),o=+r(e[i],i,e),c=+r(e[i+1],i+1,e);return o+(c-o)*(s-i)}}function vG(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(s);++n<s;)i[n]=e+n*r;return i}function cn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Na(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const dp=Symbol("implicit");function xv(){var e=new o0,t=[],r=[],n=dp;function s(i){let o=e.get(i);if(o===void 0){if(n!==dp)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new o0;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return xv(t,r).unknown(n)},cn.apply(s,arguments),s}function Fc(){var e=xv().unknown(void 0),t=e.domain,r=e.range,n=0,s=1,i,o,c=!1,l=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,p=s<n,g=p?s:n,m=p?n:s;i=(m-g)/Math.max(1,h-l+u*2),c&&(i=Math.floor(i)),g+=(m-g-i*(h-l))*d,o=i*(1-l),c&&(g=Math.round(g),o=Math.round(o));var x=vG(h).map(function(b){return g+i*b});return r(p?x.reverse():x)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,s]=h,n=+n,s=+s,f()):[n,s]},e.rangeRound=function(h){return[n,s]=h,n=+n,s=+s,c=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(c=!!h,f()):c},e.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return Fc(t(),[n,s]).round(c).paddingInner(l).paddingOuter(u).align(d)},cn.apply(f(),arguments)}function m_(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return m_(t())},e}function ic(){return m_(Fc.apply(null,arguments).paddingInner(1))}function yv(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function p_(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Sl(){}var Bc=.7,td=1/Bc,Pi="\\s*([+-]?\\d+)\\s*",Vc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Mn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",xG=/^#([0-9a-f]{3,8})$/,yG=new RegExp(`^rgb\\(${Pi},${Pi},${Pi}\\)$`),bG=new RegExp(`^rgb\\(${Mn},${Mn},${Mn}\\)$`),jG=new RegExp(`^rgba\\(${Pi},${Pi},${Pi},${Vc}\\)$`),wG=new RegExp(`^rgba\\(${Mn},${Mn},${Mn},${Vc}\\)$`),NG=new RegExp(`^hsl\\(${Vc},${Mn},${Mn}\\)$`),SG=new RegExp(`^hsla\\(${Vc},${Mn},${Mn},${Vc}\\)$`),d0={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};yv(Sl,zc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:f0,formatHex:f0,formatHex8:AG,formatHsl:OG,formatRgb:h0,toString:h0});function f0(){return this.rgb().formatHex()}function AG(){return this.rgb().formatHex8()}function OG(){return g_(this).formatHsl()}function h0(){return this.rgb().formatRgb()}function zc(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=xG.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?m0(t):r===3?new Sr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Wl(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Wl(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=yG.exec(e))?new Sr(t[1],t[2],t[3],1):(t=bG.exec(e))?new Sr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=jG.exec(e))?Wl(t[1],t[2],t[3],t[4]):(t=wG.exec(e))?Wl(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=NG.exec(e))?v0(t[1],t[2]/100,t[3]/100,1):(t=SG.exec(e))?v0(t[1],t[2]/100,t[3]/100,t[4]):d0.hasOwnProperty(e)?m0(d0[e]):e==="transparent"?new Sr(NaN,NaN,NaN,0):null}function m0(e){return new Sr(e>>16&255,e>>8&255,e&255,1)}function Wl(e,t,r,n){return n<=0&&(e=t=r=NaN),new Sr(e,t,r,n)}function _G(e){return e instanceof Sl||(e=zc(e)),e?(e=e.rgb(),new Sr(e.r,e.g,e.b,e.opacity)):new Sr}function fp(e,t,r,n){return arguments.length===1?_G(e):new Sr(e,t,r,n??1)}function Sr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}yv(Sr,fp,p_(Sl,{brighter(e){return e=e==null?td:Math.pow(td,e),new Sr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Bc:Math.pow(Bc,e),new Sr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Sr(Ns(this.r),Ns(this.g),Ns(this.b),rd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:p0,formatHex:p0,formatHex8:PG,formatRgb:g0,toString:g0}));function p0(){return`#${ps(this.r)}${ps(this.g)}${ps(this.b)}`}function PG(){return`#${ps(this.r)}${ps(this.g)}${ps(this.b)}${ps((isNaN(this.opacity)?1:this.opacity)*255)}`}function g0(){const e=rd(this.opacity);return`${e===1?"rgb(":"rgba("}${Ns(this.r)}, ${Ns(this.g)}, ${Ns(this.b)}${e===1?")":`, ${e})`}`}function rd(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ns(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ps(e){return e=Ns(e),(e<16?"0":"")+e.toString(16)}function v0(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new mn(e,t,r,n)}function g_(e){if(e instanceof mn)return new mn(e.h,e.s,e.l,e.opacity);if(e instanceof Sl||(e=zc(e)),!e)return new mn;if(e instanceof mn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,c=i-s,l=(i+s)/2;return c?(t===i?o=(r-n)/c+(r<n)*6:r===i?o=(n-t)/c+2:o=(t-r)/c+4,c/=l<.5?i+s:2-i-s,o*=60):c=l>0&&l<1?0:o,new mn(o,c,l,e.opacity)}function kG(e,t,r,n){return arguments.length===1?g_(e):new mn(e,t,r,n??1)}function mn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}yv(mn,kG,p_(Sl,{brighter(e){return e=e==null?td:Math.pow(td,e),new mn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Bc:Math.pow(Bc,e),new mn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new Sr(zh(e>=240?e-240:e+120,s,n),zh(e,s,n),zh(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new mn(x0(this.h),Hl(this.s),Hl(this.l),rd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=rd(this.opacity);return`${e===1?"hsl(":"hsla("}${x0(this.h)}, ${Hl(this.s)*100}%, ${Hl(this.l)*100}%${e===1?")":`, ${e})`}`}}));function x0(e){return e=(e||0)%360,e<0?e+360:e}function Hl(e){return Math.max(0,Math.min(1,e||0))}function zh(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const bv=e=>()=>e;function TG(e,t){return function(r){return e+r*t}}function CG(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function EG(e){return(e=+e)==1?v_:function(t,r){return r-t?CG(t,r,e):bv(isNaN(t)?r:t)}}function v_(e,t){var r=t-e;return r?TG(e,r):bv(isNaN(e)?t:e)}const y0=function e(t){var r=EG(t);function n(s,i){var o=r((s=fp(s)).r,(i=fp(i)).r),c=r(s.g,i.g),l=r(s.b,i.b),u=v_(s.opacity,i.opacity);return function(d){return s.r=o(d),s.g=c(d),s.b=l(d),s.opacity=u(d),s+""}}return n.gamma=e,n}(1);function $G(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(i){for(s=0;s<r;++s)n[s]=e[s]*(1-i)+t[s]*i;return n}}function DG(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function IG(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)s[o]=Oo(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(c){for(o=0;o<n;++o)i[o]=s[o](c);return i}}function MG(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function nd(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function RG(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=Oo(e[s],t[s]):n[s]=t[s];return function(i){for(s in r)n[s]=r[s](i);return n}}var hp=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Uh=new RegExp(hp.source,"g");function LG(e){return function(){return e}}function FG(e){return function(t){return e(t)+""}}function BG(e,t){var r=hp.lastIndex=Uh.lastIndex=0,n,s,i,o=-1,c=[],l=[];for(e=e+"",t=t+"";(n=hp.exec(e))&&(s=Uh.exec(t));)(i=s.index)>r&&(i=t.slice(r,i),c[o]?c[o]+=i:c[++o]=i),(n=n[0])===(s=s[0])?c[o]?c[o]+=s:c[++o]=s:(c[++o]=null,l.push({i:o,x:nd(n,s)})),r=Uh.lastIndex;return r<t.length&&(i=t.slice(r),c[o]?c[o]+=i:c[++o]=i),c.length<2?l[0]?FG(l[0].x):LG(t):(t=l.length,function(u){for(var d=0,f;d<t;++d)c[(f=l[d]).i]=f.x(u);return c.join("")})}function Oo(e,t){var r=typeof t,n;return t==null||r==="boolean"?bv(t):(r==="number"?nd:r==="string"?(n=zc(t))?(t=n,y0):BG:t instanceof zc?y0:t instanceof Date?MG:DG(t)?$G:Array.isArray(t)?IG:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?RG:nd)(e,t)}function jv(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function VG(e,t){t===void 0&&(t=e,e=Oo);for(var r=0,n=t.length-1,s=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(s,s=t[++r]);return function(o){var c=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[c](o-c)}}function zG(e){return function(){return e}}function ad(e){return+e}var b0=[0,1];function br(e){return e}function mp(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:zG(isNaN(t)?NaN:.5)}function UG(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function WG(e,t,r){var n=e[0],s=e[1],i=t[0],o=t[1];return s<n?(n=mp(s,n),i=r(o,i)):(n=mp(n,s),i=r(i,o)),function(c){return i(n(c))}}function HG(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)s[o]=mp(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(c){var l=Nl(e,c,1,n)-1;return i[l](s[l](c))}}function Al(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Rf(){var e=b0,t=b0,r=Oo,n,s,i,o=br,c,l,u;function d(){var h=Math.min(e.length,t.length);return o!==br&&(o=UG(e[0],e[h-1])),c=h>2?HG:WG,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(l||(l=c(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(s((u||(u=c(t,e.map(n),nd)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,ad),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=jv,d()},f.clamp=function(h){return arguments.length?(o=h?!0:br,d()):o!==br},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,p){return n=h,s=p,d()}}function wv(){return Rf()(br,br)}function qG(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function sd(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Fi(e){return e=sd(Math.abs(e)),e?e[1]:NaN}function KG(e,t){return function(r,n){for(var s=r.length,i=[],o=0,c=e[0],l=0;s>0&&c>0&&(l+c+1>n&&(c=Math.max(1,n-l)),i.push(r.substring(s-=c,s+c)),!((l+=c+1)>n));)c=e[o=(o+1)%e.length];return i.reverse().join(t)}}function GG(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var ZG=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Uc(e){if(!(t=ZG.exec(e)))throw new Error("invalid format: "+e);var t;return new Nv({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Uc.prototype=Nv.prototype;function Nv(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Nv.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function XG(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var x_;function YG(e,t){var r=sd(e,t);if(!r)return e+"";var n=r[0],s=r[1],i=s-(x_=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+sd(e,Math.max(0,t+i-1))[0]}function j0(e,t){var r=sd(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const w0={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:qG,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>j0(e*100,t),r:j0,s:YG,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function N0(e){return e}var S0=Array.prototype.map,A0=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function JG(e){var t=e.grouping===void 0||e.thousands===void 0?N0:KG(S0.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?N0:GG(S0.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Uc(f);var h=f.fill,p=f.align,g=f.sign,m=f.symbol,x=f.zero,b=f.width,y=f.comma,w=f.precision,S=f.trim,N=f.type;N==="n"?(y=!0,N="g"):w0[N]||(w===void 0&&(w=12),S=!0,N="g"),(x||h==="0"&&p==="=")&&(x=!0,h="0",p="=");var j=m==="$"?r:m==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",A=m==="$"?n:/[%p]/.test(N)?o:"",O=w0[N],P=/[defgprs%]/.test(N);w=w===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function T(_){var k=j,E=A,C,I,F;if(N==="c")E=O(_)+E,_="";else{_=+_;var $=_<0||1/_<0;if(_=isNaN(_)?l:O(Math.abs(_),w),S&&(_=XG(_)),$&&+_==0&&g!=="+"&&($=!1),k=($?g==="("?g:c:g==="-"||g==="("?"":g)+k,E=(N==="s"?A0[8+x_/3]:"")+E+($&&g==="("?")":""),P){for(C=-1,I=_.length;++C<I;)if(F=_.charCodeAt(C),48>F||F>57){E=(F===46?s+_.slice(C+1):_.slice(C))+E,_=_.slice(0,C);break}}}y&&!x&&(_=t(_,1/0));var q=k.length+_.length+E.length,M=q<b?new Array(b-q+1).join(h):"";switch(y&&x&&(_=t(M+_,M.length?b-E.length:1/0),M=""),p){case"<":_=k+_+E+M;break;case"=":_=k+M+_+E;break;case"^":_=M.slice(0,q=M.length>>1)+k+_+E+M.slice(q);break;default:_=M+k+_+E;break}return i(_)}return T.toString=function(){return f+""},T}function d(f,h){var p=u((f=Uc(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(Fi(h)/3)))*3,m=Math.pow(10,-g),x=A0[8+g/3];return function(b){return p(m*b)+x}}return{format:u,formatPrefix:d}}var ql,Sv,y_;QG({thousands:",",grouping:[3],currency:["$",""]});function QG(e){return ql=JG(e),Sv=ql.format,y_=ql.formatPrefix,ql}function eZ(e){return Math.max(0,-Fi(Math.abs(e)))}function tZ(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Fi(t)/3)))*3-Fi(Math.abs(e)))}function rZ(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Fi(t)-Fi(e))+1}function b_(e,t,r,n){var s=up(e,t,r),i;switch(n=Uc(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=tZ(s,o))&&(n.precision=i),y_(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=rZ(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=eZ(s))&&(n.precision=i-(n.type==="%")*2);break}}return Sv(n)}function Qa(e){var t=e.domain;return e.ticks=function(r){var n=t();return cp(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var s=t();return b_(s[0],s[s.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,i=n.length-1,o=n[s],c=n[i],l,u,d=10;for(c<o&&(u=o,o=c,c=u,u=s,s=i,i=u);d-- >0;){if(u=lp(o,c,r),u===l)return n[s]=o,n[i]=c,t(n);if(u>0)o=Math.floor(o/u)*u,c=Math.ceil(c/u)*u;else if(u<0)o=Math.ceil(o*u)/u,c=Math.floor(c*u)/u;else break;l=u}return e},e}function id(){var e=wv();return e.copy=function(){return Al(e,id())},cn.apply(e,arguments),Qa(e)}function j_(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,ad),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return j_(e).unknown(t)},e=arguments.length?Array.from(e,ad):[0,1],Qa(r)}function w_(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],i=e[n],o;return i<s&&(o=r,r=n,n=o,o=s,s=i,i=o),e[r]=t.floor(s),e[n]=t.ceil(i),e}function O0(e){return Math.log(e)}function _0(e){return Math.exp(e)}function nZ(e){return-Math.log(-e)}function aZ(e){return-Math.exp(-e)}function sZ(e){return isFinite(e)?+("1e"+e):e<0?0:e}function iZ(e){return e===10?sZ:e===Math.E?Math.exp:t=>Math.pow(e,t)}function oZ(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function P0(e){return(t,r)=>-e(-t,r)}function Av(e){const t=e(O0,_0),r=t.domain;let n=10,s,i;function o(){return s=oZ(n),i=iZ(n),r()[0]<0?(s=P0(s),i=P0(i),e(nZ,aZ)):e(O0,_0),t}return t.base=function(c){return arguments.length?(n=+c,o()):n},t.domain=function(c){return arguments.length?(r(c),o()):r()},t.ticks=c=>{const l=r();let u=l[0],d=l[l.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=s(u),p=s(d),g,m;const x=c==null?10:+c;let b=[];if(!(n%1)&&p-h<x){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(g=1;g<n;++g)if(m=h<0?g/i(-h):g*i(h),!(m<u)){if(m>d)break;b.push(m)}}else for(;h<=p;++h)for(g=n-1;g>=1;--g)if(m=h>0?g/i(-h):g*i(h),!(m<u)){if(m>d)break;b.push(m)}b.length*2<x&&(b=cp(u,d,x))}else b=cp(h,p,Math.min(p-h,x)).map(i);return f?b.reverse():b},t.tickFormat=(c,l)=>{if(c==null&&(c=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Uc(l)).precision==null&&(l.trim=!0),l=Sv(l)),c===1/0)return l;const u=Math.max(1,n*c/t.ticks().length);return d=>{let f=d/i(Math.round(s(d)));return f*n<n-.5&&(f*=n),f<=u?l(d):""}},t.nice=()=>r(w_(r(),{floor:c=>i(Math.floor(s(c))),ceil:c=>i(Math.ceil(s(c)))})),t}function N_(){const e=Av(Rf()).domain([1,10]);return e.copy=()=>Al(e,N_()).base(e.base()),cn.apply(e,arguments),e}function k0(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function T0(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Ov(e){var t=1,r=e(k0(t),T0(t));return r.constant=function(n){return arguments.length?e(k0(t=+n),T0(t)):t},Qa(r)}function S_(){var e=Ov(Rf());return e.copy=function(){return Al(e,S_()).constant(e.constant())},cn.apply(e,arguments)}function C0(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function cZ(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function lZ(e){return e<0?-e*e:e*e}function _v(e){var t=e(br,br),r=1;function n(){return r===1?e(br,br):r===.5?e(cZ,lZ):e(C0(r),C0(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},Qa(t)}function Pv(){var e=_v(Rf());return e.copy=function(){return Al(e,Pv()).exponent(e.exponent())},cn.apply(e,arguments),e}function uZ(){return Pv.apply(null,arguments).exponent(.5)}function E0(e){return Math.sign(e)*e*e}function dZ(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function A_(){var e=wv(),t=[0,1],r=!1,n;function s(i){var o=dZ(e(i));return isNaN(o)?n:r?Math.round(o):o}return s.invert=function(i){return e.invert(E0(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,ad)).map(E0)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return A_(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},cn.apply(s,arguments),Qa(s)}function O_(){var e=[],t=[],r=[],n;function s(){var o=0,c=Math.max(1,t.length);for(r=new Array(c-1);++o<c;)r[o-1]=gG(e,o/c);return i}function i(o){return o==null||isNaN(o=+o)?n:t[Nl(r,o)]}return i.invertExtent=function(o){var c=t.indexOf(o);return c<0?[NaN,NaN]:[c>0?r[c-1]:e[0],c<r.length?r[c]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let c of o)c!=null&&!isNaN(c=+c)&&e.push(c);return e.sort(Fa),s()},i.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return O_().domain(e).range(t).unknown(n)},cn.apply(i,arguments)}function __(){var e=0,t=1,r=1,n=[.5],s=[0,1],i;function o(l){return l!=null&&l<=l?s[Nl(n,l,0,r)]:i}function c(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return o}return o.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,c()):[e,t]},o.range=function(l){return arguments.length?(r=(s=Array.from(l)).length-1,c()):s.slice()},o.invertExtent=function(l){var u=s.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(l){return arguments.length&&(i=l),o},o.thresholds=function(){return n.slice()},o.copy=function(){return __().domain([e,t]).range(s).unknown(i)},cn.apply(Qa(o),arguments)}function P_(){var e=[.5],t=[0,1],r,n=1;function s(i){return i!=null&&i<=i?t[Nl(e,i,0,n)]:r}return s.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return P_().domain(e).range(t).unknown(r)},cn.apply(s,arguments)}const Wh=new Date,Hh=new Date;function Yt(e,t,r,n){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const o=s(i),c=s.ceil(i);return i-o<c-i?o:c},s.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,c)=>{const l=[];if(i=s.ceil(i),c=c==null?1:Math.floor(c),!(i<o)||!(c>0))return l;let u;do l.push(u=new Date(+i)),t(i,c),e(i);while(u<i&&i<o);return l},s.filter=i=>Yt(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,c)=>{if(o>=o)if(c<0)for(;++c<=0;)for(;t(o,-1),!i(o););else for(;--c>=0;)for(;t(o,1),!i(o););}),r&&(s.count=(i,o)=>(Wh.setTime(+i),Hh.setTime(+o),e(Wh),e(Hh),Math.floor(r(Wh,Hh))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(n?o=>n(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const od=Yt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);od.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Yt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):od);od.range;const sa=1e3,rn=sa*60,ia=rn*60,va=ia*24,kv=va*7,$0=va*30,qh=va*365,gs=Yt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*sa)},(e,t)=>(t-e)/sa,e=>e.getUTCSeconds());gs.range;const Tv=Yt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*sa)},(e,t)=>{e.setTime(+e+t*rn)},(e,t)=>(t-e)/rn,e=>e.getMinutes());Tv.range;const Cv=Yt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*rn)},(e,t)=>(t-e)/rn,e=>e.getUTCMinutes());Cv.range;const Ev=Yt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*sa-e.getMinutes()*rn)},(e,t)=>{e.setTime(+e+t*ia)},(e,t)=>(t-e)/ia,e=>e.getHours());Ev.range;const $v=Yt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ia)},(e,t)=>(t-e)/ia,e=>e.getUTCHours());$v.range;const Ol=Yt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*rn)/va,e=>e.getDate()-1);Ol.range;const Lf=Yt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/va,e=>e.getUTCDate()-1);Lf.range;const k_=Yt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/va,e=>Math.floor(e/va));k_.range;function Ys(e){return Yt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*rn)/kv)}const Ff=Ys(0),cd=Ys(1),fZ=Ys(2),hZ=Ys(3),Bi=Ys(4),mZ=Ys(5),pZ=Ys(6);Ff.range;cd.range;fZ.range;hZ.range;Bi.range;mZ.range;pZ.range;function Js(e){return Yt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/kv)}const Bf=Js(0),ld=Js(1),gZ=Js(2),vZ=Js(3),Vi=Js(4),xZ=Js(5),yZ=Js(6);Bf.range;ld.range;gZ.range;vZ.range;Vi.range;xZ.range;yZ.range;const Dv=Yt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Dv.range;const Iv=Yt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Iv.range;const xa=Yt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());xa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Yt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});xa.range;const ya=Yt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ya.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Yt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});ya.range;function T_(e,t,r,n,s,i){const o=[[gs,1,sa],[gs,5,5*sa],[gs,15,15*sa],[gs,30,30*sa],[i,1,rn],[i,5,5*rn],[i,15,15*rn],[i,30,30*rn],[s,1,ia],[s,3,3*ia],[s,6,6*ia],[s,12,12*ia],[n,1,va],[n,2,2*va],[r,1,kv],[t,1,$0],[t,3,3*$0],[e,1,qh]];function c(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:l(u,d,f),g=p?p.range(u,+d+1):[];return h?g.reverse():g}function l(u,d,f){const h=Math.abs(d-u)/f,p=vv(([,,x])=>x).right(o,h);if(p===o.length)return e.every(up(u/qh,d/qh,f));if(p===0)return od.every(Math.max(up(u,d,f),1));const[g,m]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return g.every(m)}return[c,l]}const[bZ,jZ]=T_(ya,Iv,Bf,k_,$v,Cv),[wZ,NZ]=T_(xa,Dv,Ff,Ol,Ev,Tv);function Kh(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Gh(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function zo(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function SZ(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,i=e.days,o=e.shortDays,c=e.months,l=e.shortMonths,u=Uo(s),d=Wo(s),f=Uo(i),h=Wo(i),p=Uo(o),g=Wo(o),m=Uo(c),x=Wo(c),b=Uo(l),y=Wo(l),w={a:$,A:q,b:M,B:J,c:null,d:F0,e:F0,f:KZ,g:nX,G:sX,H:WZ,I:HZ,j:qZ,L:C_,m:GZ,M:ZZ,p:V,q:z,Q:z0,s:U0,S:XZ,u:YZ,U:JZ,V:QZ,w:eX,W:tX,x:null,X:null,y:rX,Y:aX,Z:iX,"%":V0},S={a:B,A:G,b:ce,B:we,c:null,d:B0,e:B0,f:uX,g:bX,G:wX,H:oX,I:cX,j:lX,L:$_,m:dX,M:fX,p:pe,q:Oe,Q:z0,s:U0,S:hX,u:mX,U:pX,V:gX,w:vX,W:xX,x:null,X:null,y:yX,Y:jX,Z:NX,"%":V0},N={a:T,A:_,b:k,B:E,c:C,d:R0,e:R0,f:BZ,g:M0,G:I0,H:L0,I:L0,j:MZ,L:FZ,m:IZ,M:RZ,p:P,q:DZ,Q:zZ,s:UZ,S:LZ,u:kZ,U:TZ,V:CZ,w:PZ,W:EZ,x:I,X:F,y:M0,Y:I0,Z:$Z,"%":VZ};w.x=j(r,w),w.X=j(n,w),w.c=j(t,w),S.x=j(r,S),S.X=j(n,S),S.c=j(t,S);function j(R,de){return function(fe){var ee=[],Me=-1,Se=0,tt=R.length,nt,ze,L;for(fe instanceof Date||(fe=new Date(+fe));++Me<tt;)R.charCodeAt(Me)===37&&(ee.push(R.slice(Se,Me)),(ze=D0[nt=R.charAt(++Me)])!=null?nt=R.charAt(++Me):ze=nt==="e"?" ":"0",(L=de[nt])&&(nt=L(fe,ze)),ee.push(nt),Se=Me+1);return ee.push(R.slice(Se,Me)),ee.join("")}}function A(R,de){return function(fe){var ee=zo(1900,void 0,1),Me=O(ee,R,fe+="",0),Se,tt;if(Me!=fe.length)return null;if("Q"in ee)return new Date(ee.Q);if("s"in ee)return new Date(ee.s*1e3+("L"in ee?ee.L:0));if(de&&!("Z"in ee)&&(ee.Z=0),"p"in ee&&(ee.H=ee.H%12+ee.p*12),ee.m===void 0&&(ee.m="q"in ee?ee.q:0),"V"in ee){if(ee.V<1||ee.V>53)return null;"w"in ee||(ee.w=1),"Z"in ee?(Se=Gh(zo(ee.y,0,1)),tt=Se.getUTCDay(),Se=tt>4||tt===0?ld.ceil(Se):ld(Se),Se=Lf.offset(Se,(ee.V-1)*7),ee.y=Se.getUTCFullYear(),ee.m=Se.getUTCMonth(),ee.d=Se.getUTCDate()+(ee.w+6)%7):(Se=Kh(zo(ee.y,0,1)),tt=Se.getDay(),Se=tt>4||tt===0?cd.ceil(Se):cd(Se),Se=Ol.offset(Se,(ee.V-1)*7),ee.y=Se.getFullYear(),ee.m=Se.getMonth(),ee.d=Se.getDate()+(ee.w+6)%7)}else("W"in ee||"U"in ee)&&("w"in ee||(ee.w="u"in ee?ee.u%7:"W"in ee?1:0),tt="Z"in ee?Gh(zo(ee.y,0,1)).getUTCDay():Kh(zo(ee.y,0,1)).getDay(),ee.m=0,ee.d="W"in ee?(ee.w+6)%7+ee.W*7-(tt+5)%7:ee.w+ee.U*7-(tt+6)%7);return"Z"in ee?(ee.H+=ee.Z/100|0,ee.M+=ee.Z%100,Gh(ee)):Kh(ee)}}function O(R,de,fe,ee){for(var Me=0,Se=de.length,tt=fe.length,nt,ze;Me<Se;){if(ee>=tt)return-1;if(nt=de.charCodeAt(Me++),nt===37){if(nt=de.charAt(Me++),ze=N[nt in D0?de.charAt(Me++):nt],!ze||(ee=ze(R,fe,ee))<0)return-1}else if(nt!=fe.charCodeAt(ee++))return-1}return ee}function P(R,de,fe){var ee=u.exec(de.slice(fe));return ee?(R.p=d.get(ee[0].toLowerCase()),fe+ee[0].length):-1}function T(R,de,fe){var ee=p.exec(de.slice(fe));return ee?(R.w=g.get(ee[0].toLowerCase()),fe+ee[0].length):-1}function _(R,de,fe){var ee=f.exec(de.slice(fe));return ee?(R.w=h.get(ee[0].toLowerCase()),fe+ee[0].length):-1}function k(R,de,fe){var ee=b.exec(de.slice(fe));return ee?(R.m=y.get(ee[0].toLowerCase()),fe+ee[0].length):-1}function E(R,de,fe){var ee=m.exec(de.slice(fe));return ee?(R.m=x.get(ee[0].toLowerCase()),fe+ee[0].length):-1}function C(R,de,fe){return O(R,t,de,fe)}function I(R,de,fe){return O(R,r,de,fe)}function F(R,de,fe){return O(R,n,de,fe)}function $(R){return o[R.getDay()]}function q(R){return i[R.getDay()]}function M(R){return l[R.getMonth()]}function J(R){return c[R.getMonth()]}function V(R){return s[+(R.getHours()>=12)]}function z(R){return 1+~~(R.getMonth()/3)}function B(R){return o[R.getUTCDay()]}function G(R){return i[R.getUTCDay()]}function ce(R){return l[R.getUTCMonth()]}function we(R){return c[R.getUTCMonth()]}function pe(R){return s[+(R.getUTCHours()>=12)]}function Oe(R){return 1+~~(R.getUTCMonth()/3)}return{format:function(R){var de=j(R+="",w);return de.toString=function(){return R},de},parse:function(R){var de=A(R+="",!1);return de.toString=function(){return R},de},utcFormat:function(R){var de=j(R+="",S);return de.toString=function(){return R},de},utcParse:function(R){var de=A(R+="",!0);return de.toString=function(){return R},de}}}var D0={"-":"",_:" ",0:"0"},nr=/^\s*\d+/,AZ=/^%/,OZ=/[\\^$*+?|[\]().{}]/g;function ht(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",i=s.length;return n+(i<r?new Array(r-i+1).join(t)+s:s)}function _Z(e){return e.replace(OZ,"\\$&")}function Uo(e){return new RegExp("^(?:"+e.map(_Z).join("|")+")","i")}function Wo(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function PZ(e,t,r){var n=nr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function kZ(e,t,r){var n=nr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function TZ(e,t,r){var n=nr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function CZ(e,t,r){var n=nr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function EZ(e,t,r){var n=nr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function I0(e,t,r){var n=nr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function M0(e,t,r){var n=nr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function $Z(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function DZ(e,t,r){var n=nr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function IZ(e,t,r){var n=nr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function R0(e,t,r){var n=nr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function MZ(e,t,r){var n=nr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function L0(e,t,r){var n=nr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function RZ(e,t,r){var n=nr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function LZ(e,t,r){var n=nr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function FZ(e,t,r){var n=nr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function BZ(e,t,r){var n=nr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function VZ(e,t,r){var n=AZ.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function zZ(e,t,r){var n=nr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function UZ(e,t,r){var n=nr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function F0(e,t){return ht(e.getDate(),t,2)}function WZ(e,t){return ht(e.getHours(),t,2)}function HZ(e,t){return ht(e.getHours()%12||12,t,2)}function qZ(e,t){return ht(1+Ol.count(xa(e),e),t,3)}function C_(e,t){return ht(e.getMilliseconds(),t,3)}function KZ(e,t){return C_(e,t)+"000"}function GZ(e,t){return ht(e.getMonth()+1,t,2)}function ZZ(e,t){return ht(e.getMinutes(),t,2)}function XZ(e,t){return ht(e.getSeconds(),t,2)}function YZ(e){var t=e.getDay();return t===0?7:t}function JZ(e,t){return ht(Ff.count(xa(e)-1,e),t,2)}function E_(e){var t=e.getDay();return t>=4||t===0?Bi(e):Bi.ceil(e)}function QZ(e,t){return e=E_(e),ht(Bi.count(xa(e),e)+(xa(e).getDay()===4),t,2)}function eX(e){return e.getDay()}function tX(e,t){return ht(cd.count(xa(e)-1,e),t,2)}function rX(e,t){return ht(e.getFullYear()%100,t,2)}function nX(e,t){return e=E_(e),ht(e.getFullYear()%100,t,2)}function aX(e,t){return ht(e.getFullYear()%1e4,t,4)}function sX(e,t){var r=e.getDay();return e=r>=4||r===0?Bi(e):Bi.ceil(e),ht(e.getFullYear()%1e4,t,4)}function iX(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ht(t/60|0,"0",2)+ht(t%60,"0",2)}function B0(e,t){return ht(e.getUTCDate(),t,2)}function oX(e,t){return ht(e.getUTCHours(),t,2)}function cX(e,t){return ht(e.getUTCHours()%12||12,t,2)}function lX(e,t){return ht(1+Lf.count(ya(e),e),t,3)}function $_(e,t){return ht(e.getUTCMilliseconds(),t,3)}function uX(e,t){return $_(e,t)+"000"}function dX(e,t){return ht(e.getUTCMonth()+1,t,2)}function fX(e,t){return ht(e.getUTCMinutes(),t,2)}function hX(e,t){return ht(e.getUTCSeconds(),t,2)}function mX(e){var t=e.getUTCDay();return t===0?7:t}function pX(e,t){return ht(Bf.count(ya(e)-1,e),t,2)}function D_(e){var t=e.getUTCDay();return t>=4||t===0?Vi(e):Vi.ceil(e)}function gX(e,t){return e=D_(e),ht(Vi.count(ya(e),e)+(ya(e).getUTCDay()===4),t,2)}function vX(e){return e.getUTCDay()}function xX(e,t){return ht(ld.count(ya(e)-1,e),t,2)}function yX(e,t){return ht(e.getUTCFullYear()%100,t,2)}function bX(e,t){return e=D_(e),ht(e.getUTCFullYear()%100,t,2)}function jX(e,t){return ht(e.getUTCFullYear()%1e4,t,4)}function wX(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Vi(e):Vi.ceil(e),ht(e.getUTCFullYear()%1e4,t,4)}function NX(){return"+0000"}function V0(){return"%"}function z0(e){return+e}function U0(e){return Math.floor(+e/1e3)}var si,I_,M_;SX({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function SX(e){return si=SZ(e),I_=si.format,si.parse,M_=si.utcFormat,si.utcParse,si}function AX(e){return new Date(e)}function OX(e){return e instanceof Date?+e:+new Date(+e)}function Mv(e,t,r,n,s,i,o,c,l,u){var d=wv(),f=d.invert,h=d.domain,p=u(".%L"),g=u(":%S"),m=u("%I:%M"),x=u("%I %p"),b=u("%a %d"),y=u("%b %d"),w=u("%B"),S=u("%Y");function N(j){return(l(j)<j?p:c(j)<j?g:o(j)<j?m:i(j)<j?x:n(j)<j?s(j)<j?b:y:r(j)<j?w:S)(j)}return d.invert=function(j){return new Date(f(j))},d.domain=function(j){return arguments.length?h(Array.from(j,OX)):h().map(AX)},d.ticks=function(j){var A=h();return e(A[0],A[A.length-1],j??10)},d.tickFormat=function(j,A){return A==null?N:u(A)},d.nice=function(j){var A=h();return(!j||typeof j.range!="function")&&(j=t(A[0],A[A.length-1],j??10)),j?h(w_(A,j)):d},d.copy=function(){return Al(d,Mv(e,t,r,n,s,i,o,c,l,u))},d}function _X(){return cn.apply(Mv(wZ,NZ,xa,Dv,Ff,Ol,Ev,Tv,gs,I_).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function PX(){return cn.apply(Mv(bZ,jZ,ya,Iv,Bf,Lf,$v,Cv,gs,M_).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Vf(){var e=0,t=1,r,n,s,i,o=br,c=!1,l;function u(f){return f==null||isNaN(f=+f)?l:o(s===0?.5:(f=(i(f)-r)*s,c?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),s=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(c=!!f,u):c},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var p,g;return arguments.length?([p,g]=h,o=f(p,g),u):[o(0),o(1)]}}return u.range=d(Oo),u.rangeRound=d(jv),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return i=f,r=f(e),n=f(t),s=r===n?0:1/(n-r),u}}function es(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function R_(){var e=Qa(Vf()(br));return e.copy=function(){return es(e,R_())},Na.apply(e,arguments)}function L_(){var e=Av(Vf()).domain([1,10]);return e.copy=function(){return es(e,L_()).base(e.base())},Na.apply(e,arguments)}function F_(){var e=Ov(Vf());return e.copy=function(){return es(e,F_()).constant(e.constant())},Na.apply(e,arguments)}function Rv(){var e=_v(Vf());return e.copy=function(){return es(e,Rv()).exponent(e.exponent())},Na.apply(e,arguments)}function kX(){return Rv.apply(null,arguments).exponent(.5)}function B_(){var e=[],t=br;function r(n){if(n!=null&&!isNaN(n=+n))return t((Nl(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Fa),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,i)=>pG(e,i/n))},r.copy=function(){return B_(t).domain(e)},Na.apply(r,arguments)}function zf(){var e=0,t=.5,r=1,n=1,s,i,o,c,l,u=br,d,f=!1,h;function p(m){return isNaN(m=+m)?h:(m=.5+((m=+d(m))-i)*(n*m<n*i?c:l),u(f?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([e,t,r]=m,s=d(e=+e),i=d(t=+t),o=d(r=+r),c=s===i?0:.5/(i-s),l=i===o?0:.5/(o-i),n=i<s?-1:1,p):[e,t,r]},p.clamp=function(m){return arguments.length?(f=!!m,p):f},p.interpolator=function(m){return arguments.length?(u=m,p):u};function g(m){return function(x){var b,y,w;return arguments.length?([b,y,w]=x,u=VG(m,[b,y,w]),p):[u(0),u(.5),u(1)]}}return p.range=g(Oo),p.rangeRound=g(jv),p.unknown=function(m){return arguments.length?(h=m,p):h},function(m){return d=m,s=m(e),i=m(t),o=m(r),c=s===i?0:.5/(i-s),l=i===o?0:.5/(o-i),n=i<s?-1:1,p}}function V_(){var e=Qa(zf()(br));return e.copy=function(){return es(e,V_())},Na.apply(e,arguments)}function z_(){var e=Av(zf()).domain([.1,1,10]);return e.copy=function(){return es(e,z_()).base(e.base())},Na.apply(e,arguments)}function U_(){var e=Ov(zf());return e.copy=function(){return es(e,U_()).constant(e.constant())},Na.apply(e,arguments)}function Lv(){var e=_v(zf());return e.copy=function(){return es(e,Lv()).exponent(e.exponent())},Na.apply(e,arguments)}function TX(){return Lv.apply(null,arguments).exponent(.5)}const W0=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Fc,scaleDiverging:V_,scaleDivergingLog:z_,scaleDivergingPow:Lv,scaleDivergingSqrt:TX,scaleDivergingSymlog:U_,scaleIdentity:j_,scaleImplicit:dp,scaleLinear:id,scaleLog:N_,scaleOrdinal:xv,scalePoint:ic,scalePow:Pv,scaleQuantile:O_,scaleQuantize:__,scaleRadial:A_,scaleSequential:R_,scaleSequentialLog:L_,scaleSequentialPow:Rv,scaleSequentialQuantile:B_,scaleSequentialSqrt:kX,scaleSequentialSymlog:F_,scaleSqrt:uZ,scaleSymlog:S_,scaleThreshold:P_,scaleTime:_X,scaleUtc:PX,tickFormat:b_},Symbol.toStringTag,{value:"Module"}));var CX=vo;function EX(e,t,r){for(var n=-1,s=e.length;++n<s;){var i=e[n],o=t(i);if(o!=null&&(c===void 0?o===o&&!CX(o):r(o,c)))var c=o,l=i}return l}var Uf=EX;function $X(e,t){return e>t}var W_=$X,DX=Uf,IX=W_,MX=Ao;function RX(e){return e&&e.length?DX(e,MX,IX):void 0}var LX=RX;const Da=xt(LX);function FX(e,t){return e<t}var H_=FX,BX=Uf,VX=H_,zX=Ao;function UX(e){return e&&e.length?BX(e,zX,VX):void 0}var WX=UX;const Wf=xt(WX);var HX=Jg,qX=Gn,KX=QO,GX=kr;function ZX(e,t){var r=GX(e)?HX:KX;return r(e,qX(t))}var XX=ZX,YX=YO,JX=XX;function QX(e,t){return YX(JX(e,t),1)}var eY=QX;const tY=xt(eY);var rY=hv;function nY(e,t){return rY(e,t)}var aY=nY;const Bs=xt(aY);var _o=1e9,sY={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Bv,Tt=!0,sn="[DecimalError] ",Ss=sn+"Invalid argument: ",Fv=sn+"Exponent out of range: ",Po=Math.floor,cs=Math.pow,iY=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ir,Qt=1e7,_t=7,q_=9007199254740991,ud=Po(q_/_t),De={};De.absoluteValue=De.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};De.comparedTo=De.cmp=function(e){var t,r,n,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,s=e.d.length,t=0,r=n<s?n:s;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===s?0:n>s^i.s<0?1:-1};De.decimalPlaces=De.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*_t;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};De.dividedBy=De.div=function(e){return fa(this,new this.constructor(e))};De.dividedToIntegerBy=De.idiv=function(e){var t=this,r=t.constructor;return bt(fa(t,new r(e),0,1),r.precision)};De.equals=De.eq=function(e){return!this.cmp(e)};De.exponent=function(){return Ht(this)};De.greaterThan=De.gt=function(e){return this.cmp(e)>0};De.greaterThanOrEqualTo=De.gte=function(e){return this.cmp(e)>=0};De.isInteger=De.isint=function(){return this.e>this.d.length-2};De.isNegative=De.isneg=function(){return this.s<0};De.isPositive=De.ispos=function(){return this.s>0};De.isZero=function(){return this.s===0};De.lessThan=De.lt=function(e){return this.cmp(e)<0};De.lessThanOrEqualTo=De.lte=function(e){return this.cmp(e)<1};De.logarithm=De.log=function(e){var t,r=this,n=r.constructor,s=n.precision,i=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Ir))throw Error(sn+"NaN");if(r.s<1)throw Error(sn+(r.s?"NaN":"-Infinity"));return r.eq(Ir)?new n(0):(Tt=!1,t=fa(Wc(r,i),Wc(e,i),i),Tt=!0,bt(t,s))};De.minus=De.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Z_(t,e):K_(t,(e.s=-e.s,e))};De.modulo=De.mod=function(e){var t,r=this,n=r.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(sn+"NaN");return r.s?(Tt=!1,t=fa(r,e,0,1).times(e),Tt=!0,r.minus(t)):bt(new n(r),s)};De.naturalExponential=De.exp=function(){return G_(this)};De.naturalLogarithm=De.ln=function(){return Wc(this)};De.negated=De.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};De.plus=De.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?K_(t,e):Z_(t,(e.s=-e.s,e))};De.precision=De.sd=function(e){var t,r,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ss+e);if(t=Ht(s)+1,n=s.d.length-1,r=n*_t+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};De.squareRoot=De.sqrt=function(){var e,t,r,n,s,i,o,c=this,l=c.constructor;if(c.s<1){if(!c.s)return new l(0);throw Error(sn+"NaN")}for(e=Ht(c),Tt=!1,s=Math.sqrt(+c),s==0||s==1/0?(t=En(c.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=Po((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(s.toString()),r=l.precision,s=o=r+3;;)if(i=n,n=i.plus(fa(c,i,o+2)).times(.5),En(i.d).slice(0,o)===(t=En(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),s==o&&t=="4999"){if(bt(i,r+1,0),i.times(i).eq(c)){n=i;break}}else if(t!="9999")break;o+=4}return Tt=!0,bt(n,r)};De.times=De.mul=function(e){var t,r,n,s,i,o,c,l,u,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,l=h.length,u=p.length,l<u&&(i=h,h=p,p=i,o=l,l=u,u=o),i=[],o=l+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,s=l+n;s>n;)c=i[s]+p[n]*h[s-n-1]+t,i[s--]=c%Qt|0,t=c/Qt|0;i[s]=(i[s]+t)%Qt|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Tt?bt(e,f.precision):e};De.toDecimalPlaces=De.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Un(e,0,_o),t===void 0?t=n.rounding:Un(t,0,8),bt(r,e+Ht(r)+1,t))};De.toExponential=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=Vs(n,!0):(Un(e,0,_o),t===void 0?t=s.rounding:Un(t,0,8),n=bt(new s(n),e+1,t),r=Vs(n,!0,e+1)),r};De.toFixed=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?Vs(s):(Un(e,0,_o),t===void 0?t=i.rounding:Un(t,0,8),n=bt(new i(s),e+Ht(s)+1,t),r=Vs(n.abs(),!1,e+Ht(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};De.toInteger=De.toint=function(){var e=this,t=e.constructor;return bt(new t(e),Ht(e)+1,t.rounding)};De.toNumber=function(){return+this};De.toPower=De.pow=function(e){var t,r,n,s,i,o,c=this,l=c.constructor,u=12,d=+(e=new l(e));if(!e.s)return new l(Ir);if(c=new l(c),!c.s){if(e.s<1)throw Error(sn+"Infinity");return c}if(c.eq(Ir))return c;if(n=l.precision,e.eq(Ir))return bt(c,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=c.s,o){if((r=d<0?-d:d)<=q_){for(s=new l(Ir),t=Math.ceil(n/_t+4),Tt=!1;r%2&&(s=s.times(c),q0(s.d,t)),r=Po(r/2),r!==0;)c=c.times(c),q0(c.d,t);return Tt=!0,e.s<0?new l(Ir).div(s):bt(s,n)}}else if(i<0)throw Error(sn+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,c.s=1,Tt=!1,s=e.times(Wc(c,n+u)),Tt=!0,s=G_(s),s.s=i,s};De.toPrecision=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?(r=Ht(s),n=Vs(s,r<=i.toExpNeg||r>=i.toExpPos)):(Un(e,1,_o),t===void 0?t=i.rounding:Un(t,0,8),s=bt(new i(s),e,t),r=Ht(s),n=Vs(s,e<=r||r<=i.toExpNeg,e)),n};De.toSignificantDigits=De.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Un(e,1,_o),t===void 0?t=n.rounding:Un(t,0,8)),bt(new n(r),e,t)};De.toString=De.valueOf=De.val=De.toJSON=De[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ht(e),r=e.constructor;return Vs(e,t<=r.toExpNeg||t>=r.toExpPos)};function K_(e,t){var r,n,s,i,o,c,l,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Tt?bt(t,f):t;if(l=e.d,u=t.d,o=e.e,s=t.e,l=l.slice(),i=o-s,i){for(i<0?(n=l,i=-i,c=u.length):(n=u,s=o,c=l.length),o=Math.ceil(f/_t),c=o>c?o+1:c+1,i>c&&(i=c,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(c=l.length,i=u.length,c-i<0&&(i=c,n=u,u=l,l=n),r=0;i;)r=(l[--i]=l[i]+u[i]+r)/Qt|0,l[i]%=Qt;for(r&&(l.unshift(r),++s),c=l.length;l[--c]==0;)l.pop();return t.d=l,t.e=s,Tt?bt(t,f):t}function Un(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Ss+e)}function En(e){var t,r,n,s=e.length-1,i="",o=e[0];if(s>0){for(i+=o,t=1;t<s;t++)n=e[t]+"",r=_t-n.length,r&&(i+=ka(r)),i+=n;o=e[t],n=o+"",r=_t-n.length,r&&(i+=ka(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var fa=function(){function e(n,s){var i,o=0,c=n.length;for(n=n.slice();c--;)i=n[c]*s+o,n[c]=i%Qt|0,o=i/Qt|0;return o&&n.unshift(o),n}function t(n,s,i,o){var c,l;if(i!=o)l=i>o?1:-1;else for(c=l=0;c<i;c++)if(n[c]!=s[c]){l=n[c]>s[c]?1:-1;break}return l}function r(n,s,i){for(var o=0;i--;)n[i]-=o,o=n[i]<s[i]?1:0,n[i]=o*Qt+n[i]-s[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,i,o){var c,l,u,d,f,h,p,g,m,x,b,y,w,S,N,j,A,O,P=n.constructor,T=n.s==s.s?1:-1,_=n.d,k=s.d;if(!n.s)return new P(n);if(!s.s)throw Error(sn+"Division by zero");for(l=n.e-s.e,A=k.length,N=_.length,p=new P(T),g=p.d=[],u=0;k[u]==(_[u]||0);)++u;if(k[u]>(_[u]||0)&&--l,i==null?y=i=P.precision:o?y=i+(Ht(n)-Ht(s))+1:y=i,y<0)return new P(0);if(y=y/_t+2|0,u=0,A==1)for(d=0,k=k[0],y++;(u<N||d)&&y--;u++)w=d*Qt+(_[u]||0),g[u]=w/k|0,d=w%k|0;else{for(d=Qt/(k[0]+1)|0,d>1&&(k=e(k,d),_=e(_,d),A=k.length,N=_.length),S=A,m=_.slice(0,A),x=m.length;x<A;)m[x++]=0;O=k.slice(),O.unshift(0),j=k[0],k[1]>=Qt/2&&++j;do d=0,c=t(k,m,A,x),c<0?(b=m[0],A!=x&&(b=b*Qt+(m[1]||0)),d=b/j|0,d>1?(d>=Qt&&(d=Qt-1),f=e(k,d),h=f.length,x=m.length,c=t(f,m,h,x),c==1&&(d--,r(f,A<h?O:k,h))):(d==0&&(c=d=1),f=k.slice()),h=f.length,h<x&&f.unshift(0),r(m,f,x),c==-1&&(x=m.length,c=t(k,m,A,x),c<1&&(d++,r(m,A<x?O:k,x))),x=m.length):c===0&&(d++,m=[0]),g[u++]=d,c&&m[0]?m[x++]=_[S]||0:(m=[_[S]],x=1);while((S++<N||m[0]!==void 0)&&y--)}return g[0]||g.shift(),p.e=l,bt(p,o?i+Ht(p)+1:i)}}();function G_(e,t){var r,n,s,i,o,c,l=0,u=0,d=e.constructor,f=d.precision;if(Ht(e)>16)throw Error(Fv+Ht(e));if(!e.s)return new d(Ir);for(Tt=!1,c=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(cs(2,u))/Math.LN10*2+5|0,c+=n,r=s=i=new d(Ir),d.precision=c;;){if(s=bt(s.times(e),c),r=r.times(++l),o=i.plus(fa(s,r,c)),En(o.d).slice(0,c)===En(i.d).slice(0,c)){for(;u--;)i=bt(i.times(i),c);return d.precision=f,t==null?(Tt=!0,bt(i,f)):i}i=o}}function Ht(e){for(var t=e.e*_t,r=e.d[0];r>=10;r/=10)t++;return t}function Zh(e,t,r){if(t>e.LN10.sd())throw Tt=!0,r&&(e.precision=r),Error(sn+"LN10 precision limit exceeded");return bt(new e(e.LN10),t)}function ka(e){for(var t="";e--;)t+="0";return t}function Wc(e,t){var r,n,s,i,o,c,l,u,d,f=1,h=10,p=e,g=p.d,m=p.constructor,x=m.precision;if(p.s<1)throw Error(sn+(p.s?"NaN":"-Infinity"));if(p.eq(Ir))return new m(0);if(t==null?(Tt=!1,u=x):u=t,p.eq(10))return t==null&&(Tt=!0),Zh(m,u);if(u+=h,m.precision=u,r=En(g),n=r.charAt(0),i=Ht(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=En(p.d),n=r.charAt(0),f++;i=Ht(p),n>1?(p=new m("0."+r),i++):p=new m(n+"."+r.slice(1))}else return l=Zh(m,u+2,x).times(i+""),p=Wc(new m(n+"."+r.slice(1)),u-h).plus(l),m.precision=x,t==null?(Tt=!0,bt(p,x)):p;for(c=o=p=fa(p.minus(Ir),p.plus(Ir),u),d=bt(p.times(p),u),s=3;;){if(o=bt(o.times(d),u),l=c.plus(fa(o,new m(s),u)),En(l.d).slice(0,u)===En(c.d).slice(0,u))return c=c.times(2),i!==0&&(c=c.plus(Zh(m,u+2,x).times(i+""))),c=fa(c,new m(f),u),m.precision=x,t==null?(Tt=!0,bt(c,x)):c;c=l,s+=2}}function H0(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,r=r-n-1,e.e=Po(r/_t),e.d=[],n=(r+1)%_t,r<0&&(n+=_t),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=_t;n<s;)e.d.push(+t.slice(n,n+=_t));t=t.slice(n),n=_t-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),Tt&&(e.e>ud||e.e<-ud))throw Error(Fv+r)}else e.s=0,e.e=0,e.d=[0];return e}function bt(e,t,r){var n,s,i,o,c,l,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=_t,s=t,u=f[d=0];else{if(d=Math.ceil((n+1)/_t),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=_t,s=n-_t+o}if(r!==void 0&&(i=cs(10,o-s-1),c=u/i%10|0,l=t<0||f[d+1]!==void 0||u%i,l=r<4?(c||l)&&(r==0||r==(e.s<0?3:2)):c>5||c==5&&(r==4||l||r==6&&(n>0?s>0?u/cs(10,o-s):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return l?(i=Ht(e),f.length=1,t=t-i-1,f[0]=cs(10,(_t-t%_t)%_t),e.e=Po(-t/_t)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=cs(10,_t-n),f[d]=s>0?(u/cs(10,o-s)%cs(10,s)|0)*i:0),l)for(;;)if(d==0){(f[0]+=i)==Qt&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=Qt)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(Tt&&(e.e>ud||e.e<-ud))throw Error(Fv+Ht(e));return e}function Z_(e,t){var r,n,s,i,o,c,l,u,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Tt?bt(t,p):t;if(l=e.d,f=t.d,n=t.e,u=e.e,l=l.slice(),o=u-n,o){for(d=o<0,d?(r=l,o=-o,c=f.length):(r=f,n=u,c=l.length),s=Math.max(Math.ceil(p/_t),c)+2,o>s&&(o=s,r.length=1),r.reverse(),s=o;s--;)r.push(0);r.reverse()}else{for(s=l.length,c=f.length,d=s<c,d&&(c=s),s=0;s<c;s++)if(l[s]!=f[s]){d=l[s]<f[s];break}o=0}for(d&&(r=l,l=f,f=r,t.s=-t.s),c=l.length,s=f.length-c;s>0;--s)l[c++]=0;for(s=f.length;s>o;){if(l[--s]<f[s]){for(i=s;i&&l[--i]===0;)l[i]=Qt-1;--l[i],l[s]+=Qt}l[s]-=f[s]}for(;l[--c]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,Tt?bt(t,p):t):new h(0)}function Vs(e,t,r){var n,s=Ht(e),i=En(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+ka(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+ka(-s-1)+i,r&&(n=r-o)>0&&(i+=ka(n))):s>=o?(i+=ka(s+1-o),r&&(n=r-s-1)>0&&(i=i+"."+ka(n))):((n=s+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(s+1===o&&(i+="."),i+=ka(n))),e.s<0?"-"+i:i}function q0(e,t){if(e.length>t)return e.length=t,!0}function X_(e){var t,r,n;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Ss+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return H0(o,i.toString())}else if(typeof i!="string")throw Error(Ss+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,iY.test(i))H0(o,i);else throw Error(Ss+i)}if(s.prototype=De,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=X_,s.config=s.set=oY,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return s.config(e),s}function oY(e){if(!e||typeof e!="object")throw Error(sn+"Object expected");var t,r,n,s=["precision",1,_o,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[r=s[t]])!==void 0)if(Po(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(Ss+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ss+r+": "+n);return this}var Bv=X_(sY);Ir=new Bv(1);const vt=Bv;function cY(e){return fY(e)||dY(e)||uY(e)||lY()}function lY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uY(e,t){if(e){if(typeof e=="string")return pp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pp(e,t)}}function dY(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function fY(e){if(Array.isArray(e))return pp(e)}function pp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var hY=function(t){return t},Y_={},J_=function(t){return t===Y_},K0=function(t){return function r(){return arguments.length===0||arguments.length===1&&J_(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},mY=function e(t,r){return t===1?r:K0(function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];var o=s.filter(function(c){return c!==Y_}).length;return o>=t?r.apply(void 0,s):e(t-o,K0(function(){for(var c=arguments.length,l=new Array(c),u=0;u<c;u++)l[u]=arguments[u];var d=s.map(function(f){return J_(f)?l.shift():f});return r.apply(void 0,cY(d).concat(l))}))})},Hf=function(t){return mY(t.length,t)},gp=function(t,r){for(var n=[],s=t;s<r;++s)n[s-t]=s;return n},pY=Hf(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),gY=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return hY;var s=r.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce(function(c,l){return l(c)},i.apply(void 0,arguments))}},vp=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},Q_=function(t){var r=null,n=null;return function(){for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r&&i.every(function(c,l){return c===r[l]})||(r=i,n=t.apply(void 0,i)),n}};function vY(e){var t;return e===0?t=1:t=Math.floor(new vt(e).abs().log(10).toNumber())+1,t}function xY(e,t,r){for(var n=new vt(e),s=0,i=[];n.lt(t)&&s<1e5;)i.push(n.toNumber()),n=n.add(r),s++;return i}var yY=Hf(function(e,t,r){var n=+e,s=+t;return n+r*(s-n)}),bY=Hf(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),jY=Hf(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const qf={rangeStep:xY,getDigitCount:vY,interpolateNumber:yY,uninterpolateNumber:bY,uninterpolateTruncation:jY};function xp(e){return SY(e)||NY(e)||eP(e)||wY()}function wY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NY(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function SY(e){if(Array.isArray(e))return yp(e)}function Hc(e,t){return _Y(e)||OY(e,t)||eP(e,t)||AY()}function AY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eP(e,t){if(e){if(typeof e=="string")return yp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yp(e,t)}}function yp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function OY(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,s=!1,i=void 0;try{for(var o=e[Symbol.iterator](),c;!(n=(c=o.next()).done)&&(r.push(c.value),!(t&&r.length===t));n=!0);}catch(l){s=!0,i=l}finally{try{!n&&o.return!=null&&o.return()}finally{if(s)throw i}}return r}}function _Y(e){if(Array.isArray(e))return e}function tP(e){var t=Hc(e,2),r=t[0],n=t[1],s=r,i=n;return r>n&&(s=n,i=r),[s,i]}function rP(e,t,r){if(e.lte(0))return new vt(0);var n=qf.getDigitCount(e.toNumber()),s=new vt(10).pow(n),i=e.div(s),o=n!==1?.05:.1,c=new vt(Math.ceil(i.div(o).toNumber())).add(r).mul(o),l=c.mul(s);return t?l:new vt(Math.ceil(l))}function PY(e,t,r){var n=1,s=new vt(e);if(!s.isint()&&r){var i=Math.abs(e);i<1?(n=new vt(10).pow(qf.getDigitCount(e)-1),s=new vt(Math.floor(s.div(n).toNumber())).mul(n)):i>1&&(s=new vt(Math.floor(e)))}else e===0?s=new vt(Math.floor((t-1)/2)):r||(s=new vt(Math.floor(e)));var o=Math.floor((t-1)/2),c=gY(pY(function(l){return s.add(new vt(l-o).mul(n)).toNumber()}),gp);return c(0,t)}function nP(e,t,r,n){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new vt(0),tickMin:new vt(0),tickMax:new vt(0)};var i=rP(new vt(t).sub(e).div(r-1),n,s),o;e<=0&&t>=0?o=new vt(0):(o=new vt(e).add(t).div(2),o=o.sub(new vt(o).mod(i)));var c=Math.ceil(o.sub(e).div(i).toNumber()),l=Math.ceil(new vt(t).sub(o).div(i).toNumber()),u=c+l+1;return u>r?nP(e,t,r,n,s+1):(u<r&&(l=t>0?l+(r-u):l,c=t>0?c:c+(r-u)),{step:i,tickMin:o.sub(new vt(c).mul(i)),tickMax:o.add(new vt(l).mul(i))})}function kY(e){var t=Hc(e,2),r=t[0],n=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),c=tP([r,n]),l=Hc(c,2),u=l[0],d=l[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(xp(gp(0,s-1).map(function(){return 1/0}))):[].concat(xp(gp(0,s-1).map(function(){return-1/0})),[d]);return r>n?vp(f):f}if(u===d)return PY(u,s,i);var h=nP(u,d,o,i),p=h.step,g=h.tickMin,m=h.tickMax,x=qf.rangeStep(g,m.add(new vt(.1).mul(p)),p);return r>n?vp(x):x}function TY(e,t){var r=Hc(e,2),n=r[0],s=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=tP([n,s]),c=Hc(o,2),l=c[0],u=c[1];if(l===-1/0||u===1/0)return[n,s];if(l===u)return[l];var d=Math.max(t,2),f=rP(new vt(u).sub(l).div(d-1),i,0),h=[].concat(xp(qf.rangeStep(new vt(l),new vt(u).sub(new vt(.99).mul(f)),f)),[u]);return n>s?vp(h):h}var CY=Q_(kY),EY=Q_(TY),$Y="Invariant failed";function zs(e,t){throw new Error($Y)}var DY=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function zi(e){"@babel/helpers - typeof";return zi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zi(e)}function dd(){return dd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dd.apply(this,arguments)}function IY(e,t){return FY(e)||LY(e,t)||RY(e,t)||MY()}function MY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RY(e,t){if(e){if(typeof e=="string")return G0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return G0(e,t)}}function G0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function LY(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(d){u=!0,s=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return c}}function FY(e){if(Array.isArray(e))return e}function BY(e,t){if(e==null)return{};var r=VY(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function VY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function zY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iP(n.key),n)}}function WY(e,t,r){return t&&UY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function HY(e,t,r){return t=fd(t),qY(e,aP()?Reflect.construct(t,r||[],fd(e).constructor):t.apply(e,r))}function qY(e,t){if(t&&(zi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KY(e)}function KY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aP=function(){return!!e})()}function fd(e){return fd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fd(e)}function GY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bp(e,t)}function bp(e,t){return bp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},bp(e,t)}function sP(e,t,r){return t=iP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iP(e){var t=ZY(e,"string");return zi(t)=="symbol"?t:t+""}function ZY(e,t){if(zi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var _l=function(e){function t(){return zY(this,t),HY(this,t,arguments)}return GY(t,e),WY(t,[{key:"render",value:function(){var n=this.props,s=n.offset,i=n.layout,o=n.width,c=n.dataKey,l=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=BY(n,DY),p=Fe(h,!1);this.props.direction==="x"&&d.type!=="number"&&zs();var g=l.map(function(m){var x=u(m,c),b=x.x,y=x.y,w=x.value,S=x.errorVal;if(!S)return null;var N=[],j,A;if(Array.isArray(S)){var O=IY(S,2);j=O[0],A=O[1]}else j=A=S;if(i==="vertical"){var P=d.scale,T=y+s,_=T+o,k=T-o,E=P(w-j),C=P(w+A);N.push({x1:C,y1:_,x2:C,y2:k}),N.push({x1:E,y1:T,x2:C,y2:T}),N.push({x1:E,y1:_,x2:E,y2:k})}else if(i==="horizontal"){var I=f.scale,F=b+s,$=F-o,q=F+o,M=I(w-j),J=I(w+A);N.push({x1:$,y1:J,x2:q,y2:J}),N.push({x1:F,y1:M,x2:F,y2:J}),N.push({x1:$,y1:M,x2:q,y2:M})}return D.createElement(st,dd({className:"recharts-errorBar",key:"bar-".concat(N.map(function(V){return"".concat(V.x1,"-").concat(V.x2,"-").concat(V.y1,"-").concat(V.y2)}))},p),N.map(function(V){return D.createElement("line",dd({},V,{key:"line-".concat(V.x1,"-").concat(V.x2,"-").concat(V.y1,"-").concat(V.y2)}))}))});return D.createElement(st,{className:"recharts-errorBars"},g)}}])}(D.Component);sP(_l,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});sP(_l,"displayName","ErrorBar");function qc(e){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qc(e)}function Z0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ns(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z0(Object(r),!0).forEach(function(n){XY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XY(e,t,r){return t=YY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YY(e){var t=JY(e,"string");return qc(t)=="symbol"?t:t+""}function JY(e,t){if(qc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oP=function(t){var r=t.children,n=t.formattedGraphicalItems,s=t.legendWidth,i=t.legendContent,o=$r(r,ws);if(!o)return null;var c=ws.defaultProps,l=c!==void 0?ns(ns({},c),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,p=f.props,g=p.sectors||p.data||[];return d.concat(g.map(function(m){return{type:o.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?ns(ns({},h),f.props):{},g=p.dataKey,m=p.name,x=p.legendType,b=p.hide;return{inactive:b,dataKey:g,type:l.iconType||x||"square",color:Vv(f),value:m||g,payload:p}}),ns(ns(ns({},l),ws.getWithHeight(o,s)),{},{payload:u,item:o})};function Kc(e){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kc(e)}function X0(e){return rJ(e)||tJ(e)||eJ(e)||QY()}function QY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eJ(e,t){if(e){if(typeof e=="string")return jp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jp(e,t)}}function tJ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rJ(e){if(Array.isArray(e))return jp(e)}function jp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Y0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Dt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Y0(Object(r),!0).forEach(function(n){ki(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ki(e,t,r){return t=nJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nJ(e){var t=aJ(e,"string");return Kc(t)=="symbol"?t:t+""}function aJ(e,t){if(Kc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rt(e,t,r){return Ke(e)||Ke(t)?r:Xt(t)?Br(e,t,r):We(t)?t(e):r}function oc(e,t,r,n){var s=tY(e,function(c){return Rt(c,t)});if(r==="number"){var i=s.filter(function(c){return ve(c)||parseFloat(c)});return i.length?[Wf(i),Da(i)]:[1/0,-1/0]}var o=n?s.filter(function(c){return!Ke(c)}):s;return o.map(function(c){return Xt(c)||c instanceof Date?c:""})}var sJ=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,c=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(c<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var l=i.range,u=0;u<c;u++){var d=u>0?s[u-1].coordinate:s[c-1].coordinate,f=s[u].coordinate,h=u>=c-1?s[0].coordinate:s[u+1].coordinate,p=void 0;if(xr(f-d)!==xr(h-f)){var g=[];if(xr(h-f)===xr(l[1]-l[0])){p=h;var m=f+l[1]-l[0];g[0]=Math.min(m,(m+d)/2),g[1]=Math.max(m,(m+d)/2)}else{p=d;var x=h+l[1]-l[0];g[0]=Math.min(f,(x+f)/2),g[1]=Math.max(f,(x+f)/2)}var b=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>b[0]&&t<=b[1]||t>=g[0]&&t<=g[1]){o=s[u].index;break}}else{var y=Math.min(d,h),w=Math.max(d,h);if(t>(y+f)/2&&t<=(w+f)/2){o=s[u].index;break}}}else for(var S=0;S<c;S++)if(S===0&&t<=(n[S].coordinate+n[S+1].coordinate)/2||S>0&&S<c-1&&t>(n[S].coordinate+n[S-1].coordinate)/2&&t<=(n[S].coordinate+n[S+1].coordinate)/2||S===c-1&&t>(n[S].coordinate+n[S-1].coordinate)/2){o=n[S].index;break}return o},Vv=function(t){var r,n=t,s=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Dt(Dt({},t.type.defaultProps),t.props):t.props,o=i.stroke,c=i.fill,l;switch(s){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:c;break;default:l=c;break}return l},iJ=function(t){var r=t.barSize,n=t.totalSize,s=t.stackGroups,i=s===void 0?{}:s;if(!i)return{};for(var o={},c=Object.keys(i),l=0,u=c.length;l<u;l++)for(var d=i[c[l]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var g=d[f[h]],m=g.items,x=g.cateAxisId,b=m.filter(function(A){return da(A.type).indexOf("Bar")>=0});if(b&&b.length){var y=b[0].type.defaultProps,w=y!==void 0?Dt(Dt({},y),b[0].props):b[0].props,S=w.barSize,N=w[x];o[N]||(o[N]=[]);var j=Ke(S)?r:S;o[N].push({item:b[0],stackList:b.slice(1),barSize:Ke(j)?void 0:yr(j,n,0)})}}return o},oJ=function(t){var r=t.barGap,n=t.barCategoryGap,s=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,c=t.maxBarSize,l=o.length;if(l<1)return null;var u=yr(r,s,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=s/l,g=o.reduce(function(S,N){return S+N.barSize||0},0);g+=(l-1)*u,g>=s&&(g-=(l-1)*u,u=0),g>=s&&p>0&&(h=!0,p*=.9,g=l*p);var m=(s-g)/2>>0,x={offset:m-u,size:0};d=o.reduce(function(S,N){var j={item:N.item,position:{offset:x.offset+x.size+u,size:h?p:N.barSize}},A=[].concat(X0(S),[j]);return x=A[A.length-1].position,N.stackList&&N.stackList.length&&N.stackList.forEach(function(O){A.push({item:O,position:x})}),A},f)}else{var b=yr(n,s,0,!0);s-2*b-(l-1)*u<=0&&(u=0);var y=(s-2*b-(l-1)*u)/l;y>1&&(y>>=0);var w=c===+c?Math.min(y,c):y;d=o.reduce(function(S,N,j){var A=[].concat(X0(S),[{item:N.item,position:{offset:b+(y+u)*j+(y-w)/2,size:w}}]);return N.stackList&&N.stackList.length&&N.stackList.forEach(function(O){A.push({item:O,position:A[A.length-1].position})}),A},f)}return d},cJ=function(t,r,n,s){var i=n.children,o=n.width,c=n.margin,l=o-(c.left||0)-(c.right||0),u=oP({children:i,legendWidth:l});if(u){var d=s||{},f=d.width,h=d.height,p=u.align,g=u.verticalAlign,m=u.layout;if((m==="vertical"||m==="horizontal"&&g==="middle")&&p!=="center"&&ve(t[p]))return Dt(Dt({},t),{},ki({},p,t[p]+(f||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&g!=="middle"&&ve(t[g]))return Dt(Dt({},t),{},ki({},g,t[g]+(h||0)))}return t},lJ=function(t,r,n){return Ke(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},cP=function(t,r,n,s,i){var o=r.props.children,c=Vr(o,_l).filter(function(u){return lJ(s,i,u.props.direction)});if(c&&c.length){var l=c.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=Rt(d,n);if(Ke(f))return u;var h=Array.isArray(f)?[Wf(f),Da(f)]:[f,f],p=l.reduce(function(g,m){var x=Rt(d,m,0),b=h[0]-Math.abs(Array.isArray(x)?x[0]:x),y=h[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(b,g[0]),Math.max(y,g[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},uJ=function(t,r,n,s,i){var o=r.map(function(c){return cP(t,c,n,i,s)}).filter(function(c){return!Ke(c)});return o&&o.length?o.reduce(function(c,l){return[Math.min(c[0],l[0]),Math.max(c[1],l[1])]},[1/0,-1/0]):null},lP=function(t,r,n,s,i){var o=r.map(function(l){var u=l.props.dataKey;return n==="number"&&u&&cP(t,l,u,s)||oc(t,u,n,i)});if(n==="number")return o.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var c={};return o.reduce(function(l,u){for(var d=0,f=u.length;d<f;d++)c[u[d]]||(c[u[d]]=!0,l.push(u[d]));return l},[])},uP=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},dP=function(t,r,n,s){if(s)return t.map(function(l){return l.coordinate});var i,o,c=t.map(function(l){return l.coordinate===r&&(i=!0),l.coordinate===n&&(o=!0),l.coordinate});return i||c.push(r),o||c.push(n),c},oa=function(t,r,n){if(!t)return null;var s=t.scale,i=t.duplicateDomain,o=t.type,c=t.range,l=t.realScaleType==="scaleBand"?s.bandwidth()/2:2,u=(r||n)&&o==="category"&&s.bandwidth?s.bandwidth()/l:0;if(u=t.axisType==="angleAxis"&&(c==null?void 0:c.length)>=2?xr(c[0]-c[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:s(h)+u,value:f,offset:u}});return d.filter(function(f){return!wo(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:s(f)+u,value:f,index:h,offset:u}}):s.ticks&&!n?s.ticks(t.tickCount).map(function(f){return{coordinate:s(f)+u,value:f,offset:u}}):s.domain().map(function(f,h){return{coordinate:s(f)+u,value:i?i[f]:f,index:h,offset:u}})},Xh=new WeakMap,Kl=function(t,r){if(typeof r!="function")return t;Xh.has(t)||Xh.set(t,new WeakMap);var n=Xh.get(t);if(n.has(r))return n.get(r);var s=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,s),s},fP=function(t,r,n){var s=t.scale,i=t.type,o=t.layout,c=t.axisType;if(s==="auto")return o==="radial"&&c==="radiusAxis"?{scale:Fc(),realScaleType:"band"}:o==="radial"&&c==="angleAxis"?{scale:id(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:ic(),realScaleType:"point"}:i==="category"?{scale:Fc(),realScaleType:"band"}:{scale:id(),realScaleType:"linear"};if(Rs(s)){var l="scale".concat(Tf(s));return{scale:(W0[l]||ic)(),realScaleType:W0[l]?l:"point"}}return We(s)?{scale:s}:{scale:ic(),realScaleType:"point"}},J0=1e-4,hP=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,s=t.range(),i=Math.min(s[0],s[1])-J0,o=Math.max(s[0],s[1])+J0,c=t(r[0]),l=t(r[n-1]);(c<i||c>o||l<i||l>o)&&t.domain([r[0],r[n-1]])}},dJ=function(t,r){if(!t)return null;for(var n=0,s=t.length;n<s;n++)if(t[n].item===r)return t[n].position;return null},fJ=function(t,r){if(!r||r.length!==2||!ve(r[0])||!ve(r[1]))return t;var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!ve(t[0])||t[0]<n)&&(i[0]=n),(!ve(t[1])||t[1]>s)&&(i[1]=s),i[0]>s&&(i[0]=s),i[1]<n&&(i[1]=n),i},hJ=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var i=0,o=0,c=0;c<r;++c){var l=wo(t[c][n][1])?t[c][n][0]:t[c][n][1];l>=0?(t[c][n][0]=i,t[c][n][1]=i+l,i=t[c][n][1]):(t[c][n][0]=o,t[c][n][1]=o+l,o=t[c][n][1])}},mJ=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var i=0,o=0;o<r;++o){var c=wo(t[o][n][1])?t[o][n][0]:t[o][n][1];c>=0?(t[o][n][0]=i,t[o][n][1]=i+c,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},pJ={sign:hJ,expand:D8,none:Di,silhouette:I8,wiggle:M8,positive:mJ},gJ=function(t,r,n){var s=r.map(function(c){return c.props.dataKey}),i=pJ[n],o=$8().keys(s).value(function(c,l){return+Rt(c,l,0)}).order(qm).offset(i);return o(t)},vJ=function(t,r,n,s,i,o){if(!t)return null;var c=o?r.reverse():r,l={},u=c.reduce(function(f,h){var p,g=(p=h.type)!==null&&p!==void 0&&p.defaultProps?Dt(Dt({},h.type.defaultProps),h.props):h.props,m=g.stackId,x=g.hide;if(x)return f;var b=g[n],y=f[b]||{hasStack:!1,stackGroups:{}};if(Xt(m)){var w=y.stackGroups[m]||{numericAxisId:n,cateAxisId:s,items:[]};w.items.push(h),y.hasStack=!0,y.stackGroups[m]=w}else y.stackGroups[Xs("_stackId_")]={numericAxisId:n,cateAxisId:s,items:[h]};return Dt(Dt({},f),{},ki({},b,y))},l),d={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var g={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,x){var b=p.stackGroups[x];return Dt(Dt({},m),{},ki({},x,{numericAxisId:n,cateAxisId:s,items:b.items,stackedData:gJ(t,b.items,i)}))},g)}return Dt(Dt({},f),{},ki({},h,p))},d)},mP=function(t,r){var n=r.realScaleType,s=r.type,i=r.tickCount,o=r.originalDomain,c=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(i&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=CY(u,i,c);return t.domain([Wf(d),Da(d)]),{niceTicks:d}}if(i&&s==="number"){var f=t.domain(),h=EY(f,i,c);return{niceTicks:h}}return null};function hd(e){var t=e.axis,r=e.ticks,n=e.bandSize,s=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Ke(s[t.dataKey])){var c=Fu(r,"value",s[t.dataKey]);if(c)return c.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var l=Rt(s,Ke(o)?t.dataKey:o);return Ke(l)?null:t.scale(l)}var Q0=function(t){var r=t.axis,n=t.ticks,s=t.offset,i=t.bandSize,o=t.entry,c=t.index;if(r.type==="category")return n[c]?n[c].coordinate+s:null;var l=Rt(o,r.dataKey,r.domain[c]);return Ke(l)?null:r.scale(l)-i/2+s},xJ=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var s=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return s<=0&&i>=0?0:i<0?i:s}return n[0]},yJ=function(t,r){var n,s=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Dt(Dt({},t.type.defaultProps),t.props):t.props,i=s.stackId;if(Xt(i)){var o=r[i];if(o){var c=o.items.indexOf(t);return c>=0?o.stackedData[c]:null}}return null},bJ=function(t){return t.reduce(function(r,n){return[Wf(n.concat([r[0]]).filter(ve)),Da(n.concat([r[1]]).filter(ve))]},[1/0,-1/0])},pP=function(t,r,n){return Object.keys(t).reduce(function(s,i){var o=t[i],c=o.stackedData,l=c.reduce(function(u,d){var f=bJ(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],s[0]),Math.max(l[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},ej=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,tj=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,wp=function(t,r,n){if(We(t))return t(r,n);if(!Array.isArray(t))return r;var s=[];if(ve(t[0]))s[0]=n?t[0]:Math.min(t[0],r[0]);else if(ej.test(t[0])){var i=+ej.exec(t[0])[1];s[0]=r[0]-i}else We(t[0])?s[0]=t[0](r[0]):s[0]=r[0];if(ve(t[1]))s[1]=n?t[1]:Math.max(t[1],r[1]);else if(tj.test(t[1])){var o=+tj.exec(t[1])[1];s[1]=r[1]+o}else We(t[1])?s[1]=t[1](r[1]):s[1]=r[1];return s},md=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!n||s>0)return s}if(t&&r&&r.length>=2){for(var i=pv(r,function(f){return f.coordinate}),o=1/0,c=1,l=i.length;c<l;c++){var u=i[c],d=i[c-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},rj=function(t,r,n){return!t||!t.length||Bs(t,Br(n,"type.defaultProps.domain"))?r:t},gP=function(t,r){var n=t.type.defaultProps?Dt(Dt({},t.type.defaultProps),t.props):t.props,s=n.dataKey,i=n.name,o=n.unit,c=n.formatter,l=n.tooltipType,u=n.chartType,d=n.hide;return Dt(Dt({},Fe(t,!1)),{},{dataKey:s,unit:o,formatter:c,name:i||s,color:Vv(t),value:Rt(r,s),type:l,payload:r,chartType:u,hide:d})};function Gc(e){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gc(e)}function nj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ta(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nj(Object(r),!0).forEach(function(n){vP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vP(e,t,r){return t=jJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jJ(e){var t=wJ(e,"string");return Gc(t)=="symbol"?t:t+""}function wJ(e,t){if(Gc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NJ(e,t){return _J(e)||OJ(e,t)||AJ(e,t)||SJ()}function SJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AJ(e,t){if(e){if(typeof e=="string")return aj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aj(e,t)}}function aj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function OJ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(d){u=!0,s=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return c}}function _J(e){if(Array.isArray(e))return e}var pd=Math.PI/180,PJ=function(t){return t*180/Math.PI},St=function(t,r,n,s){return{x:t+Math.cos(-pd*s)*n,y:r+Math.sin(-pd*s)*n}},xP=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},kJ=function(t,r,n,s,i){var o=t.width,c=t.height,l=t.startAngle,u=t.endAngle,d=yr(t.cx,o,o/2),f=yr(t.cy,c,c/2),h=xP(o,c,n),p=yr(t.innerRadius,h,0),g=yr(t.outerRadius,h,h*.8),m=Object.keys(r);return m.reduce(function(x,b){var y=r[b],w=y.domain,S=y.reversed,N;if(Ke(y.range))s==="angleAxis"?N=[l,u]:s==="radiusAxis"&&(N=[p,g]),S&&(N=[N[1],N[0]]);else{N=y.range;var j=N,A=NJ(j,2);l=A[0],u=A[1]}var O=fP(y,i),P=O.realScaleType,T=O.scale;T.domain(w).range(N),hP(T);var _=mP(T,ta(ta({},y),{},{realScaleType:P})),k=ta(ta(ta({},y),_),{},{range:N,radius:g,realScaleType:P,scale:T,cx:d,cy:f,innerRadius:p,outerRadius:g,startAngle:l,endAngle:u});return ta(ta({},x),{},vP({},b,k))},{})},TJ=function(t,r){var n=t.x,s=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(s-o,2))},CJ=function(t,r){var n=t.x,s=t.y,i=r.cx,o=r.cy,c=TJ({x:n,y:s},{x:i,y:o});if(c<=0)return{radius:c};var l=(n-i)/c,u=Math.acos(l);return s>o&&(u=2*Math.PI-u),{radius:c,angle:PJ(u),angleInRadian:u}},EJ=function(t){var r=t.startAngle,n=t.endAngle,s=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(s,i);return{startAngle:r-o*360,endAngle:n-o*360}},$J=function(t,r){var n=r.startAngle,s=r.endAngle,i=Math.floor(n/360),o=Math.floor(s/360),c=Math.min(i,o);return t+c*360},sj=function(t,r){var n=t.x,s=t.y,i=CJ({x:n,y:s},r),o=i.radius,c=i.angle,l=r.innerRadius,u=r.outerRadius;if(o<l||o>u)return!1;if(o===0)return!0;var d=EJ(r),f=d.startAngle,h=d.endAngle,p=c,g;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=f}return g?ta(ta({},r),{},{radius:o,angle:$J(p,r)}):null},yP=function(t){return!v.isValidElement(t)&&!We(t)&&typeof t!="boolean"?t.className:""};function Zc(e){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zc(e)}var DJ=["offset"];function IJ(e){return FJ(e)||LJ(e)||RJ(e)||MJ()}function MJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RJ(e,t){if(e){if(typeof e=="string")return Np(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Np(e,t)}}function LJ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function FJ(e){if(Array.isArray(e))return Np(e)}function Np(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function BJ(e,t){if(e==null)return{};var r=VJ(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function VJ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ij(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Kt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ij(Object(r),!0).forEach(function(n){zJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ij(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zJ(e,t,r){return t=UJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UJ(e){var t=WJ(e,"string");return Zc(t)=="symbol"?t:t+""}function WJ(e,t){if(Zc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xc(){return Xc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xc.apply(this,arguments)}var HJ=function(t){var r=t.value,n=t.formatter,s=Ke(t.children)?r:t.children;return We(n)?n(s):s},qJ=function(t,r){var n=xr(r-t),s=Math.min(Math.abs(r-t),360);return n*s},KJ=function(t,r,n){var s=t.position,i=t.viewBox,o=t.offset,c=t.className,l=i,u=l.cx,d=l.cy,f=l.innerRadius,h=l.outerRadius,p=l.startAngle,g=l.endAngle,m=l.clockWise,x=(f+h)/2,b=qJ(p,g),y=b>=0?1:-1,w,S;s==="insideStart"?(w=p+y*o,S=m):s==="insideEnd"?(w=g-y*o,S=!m):s==="end"&&(w=g+y*o,S=m),S=b<=0?S:!S;var N=St(u,d,x,w),j=St(u,d,x,w+(S?1:-1)*359),A="M".concat(N.x,",").concat(N.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(S?0:1,`,
    `).concat(j.x,",").concat(j.y),O=Ke(t.id)?Xs("recharts-radial-line-"):t.id;return D.createElement("text",Xc({},n,{dominantBaseline:"central",className:Ge("recharts-radial-bar-label",c)}),D.createElement("defs",null,D.createElement("path",{id:O,d:A})),D.createElement("textPath",{xlinkHref:"#".concat(O)},r))},GJ=function(t){var r=t.viewBox,n=t.offset,s=t.position,i=r,o=i.cx,c=i.cy,l=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,h=(d+f)/2;if(s==="outside"){var p=St(o,c,u+n,h),g=p.x,m=p.y;return{x:g,y:m,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:c,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:c,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:c,textAnchor:"middle",verticalAnchor:"end"};var x=(l+u)/2,b=St(o,c,x,h),y=b.x,w=b.y;return{x:y,y:w,textAnchor:"middle",verticalAnchor:"middle"}},ZJ=function(t){var r=t.viewBox,n=t.parentViewBox,s=t.offset,i=t.position,o=r,c=o.x,l=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*s,p=f>0?"end":"start",g=f>0?"start":"end",m=u>=0?1:-1,x=m*s,b=m>0?"end":"start",y=m>0?"start":"end";if(i==="top"){var w={x:c+u/2,y:l-f*s,textAnchor:"middle",verticalAnchor:p};return Kt(Kt({},w),n?{height:Math.max(l-n.y,0),width:u}:{})}if(i==="bottom"){var S={x:c+u/2,y:l+d+h,textAnchor:"middle",verticalAnchor:g};return Kt(Kt({},S),n?{height:Math.max(n.y+n.height-(l+d),0),width:u}:{})}if(i==="left"){var N={x:c-x,y:l+d/2,textAnchor:b,verticalAnchor:"middle"};return Kt(Kt({},N),n?{width:Math.max(N.x-n.x,0),height:d}:{})}if(i==="right"){var j={x:c+u+x,y:l+d/2,textAnchor:y,verticalAnchor:"middle"};return Kt(Kt({},j),n?{width:Math.max(n.x+n.width-j.x,0),height:d}:{})}var A=n?{width:u,height:d}:{};return i==="insideLeft"?Kt({x:c+x,y:l+d/2,textAnchor:y,verticalAnchor:"middle"},A):i==="insideRight"?Kt({x:c+u-x,y:l+d/2,textAnchor:b,verticalAnchor:"middle"},A):i==="insideTop"?Kt({x:c+u/2,y:l+h,textAnchor:"middle",verticalAnchor:g},A):i==="insideBottom"?Kt({x:c+u/2,y:l+d-h,textAnchor:"middle",verticalAnchor:p},A):i==="insideTopLeft"?Kt({x:c+x,y:l+h,textAnchor:y,verticalAnchor:g},A):i==="insideTopRight"?Kt({x:c+u-x,y:l+h,textAnchor:b,verticalAnchor:g},A):i==="insideBottomLeft"?Kt({x:c+x,y:l+d-h,textAnchor:y,verticalAnchor:p},A):i==="insideBottomRight"?Kt({x:c+u-x,y:l+d-h,textAnchor:b,verticalAnchor:p},A):xo(i)&&(ve(i.x)||ms(i.x))&&(ve(i.y)||ms(i.y))?Kt({x:c+yr(i.x,u),y:l+yr(i.y,d),textAnchor:"end",verticalAnchor:"end"},A):Kt({x:c+u/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},A)},XJ=function(t){return"cx"in t&&ve(t.cx)};function tr(e){var t=e.offset,r=t===void 0?5:t,n=BJ(e,DJ),s=Kt({offset:r},n),i=s.viewBox,o=s.position,c=s.value,l=s.children,u=s.content,d=s.className,f=d===void 0?"":d,h=s.textBreakAll;if(!i||Ke(c)&&Ke(l)&&!v.isValidElement(u)&&!We(u))return null;if(v.isValidElement(u))return v.cloneElement(u,s);var p;if(We(u)){if(p=v.createElement(u,s),v.isValidElement(p))return p}else p=HJ(s);var g=XJ(i),m=Fe(s,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return KJ(s,p,m);var x=g?GJ(s):ZJ(s);return D.createElement(Fs,Xc({className:Ge("recharts-label",f)},m,x,{breakAll:h}),p)}tr.displayName="Label";var bP=function(t){var r=t.cx,n=t.cy,s=t.angle,i=t.startAngle,o=t.endAngle,c=t.r,l=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,p=t.top,g=t.left,m=t.width,x=t.height,b=t.clockWise,y=t.labelViewBox;if(y)return y;if(ve(m)&&ve(x)){if(ve(f)&&ve(h))return{x:f,y:h,width:m,height:x};if(ve(p)&&ve(g))return{x:p,y:g,width:m,height:x}}return ve(f)&&ve(h)?{x:f,y:h,width:0,height:0}:ve(r)&&ve(n)?{cx:r,cy:n,startAngle:i||s||0,endAngle:o||s||0,innerRadius:u||0,outerRadius:d||l||c||0,clockWise:b}:t.viewBox?t.viewBox:{}},YJ=function(t,r){return t?t===!0?D.createElement(tr,{key:"label-implicit",viewBox:r}):Xt(t)?D.createElement(tr,{key:"label-implicit",viewBox:r,value:t}):v.isValidElement(t)?t.type===tr?v.cloneElement(t,{key:"label-implicit",viewBox:r}):D.createElement(tr,{key:"label-implicit",content:t,viewBox:r}):We(t)?D.createElement(tr,{key:"label-implicit",content:t,viewBox:r}):xo(t)?D.createElement(tr,Xc({viewBox:r},t,{key:"label-implicit"})):null:null},JJ=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var s=t.children,i=bP(t),o=Vr(s,tr).map(function(l,u){return v.cloneElement(l,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var c=YJ(t.label,r||i);return[c].concat(IJ(o))};tr.parseViewBox=bP;tr.renderCallByParent=JJ;function QJ(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var eQ=QJ;const tQ=xt(eQ);function Yc(e){"@babel/helpers - typeof";return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yc(e)}var rQ=["valueAccessor"],nQ=["data","dataKey","clockWise","id","textBreakAll"];function aQ(e){return cQ(e)||oQ(e)||iQ(e)||sQ()}function sQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iQ(e,t){if(e){if(typeof e=="string")return Sp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Sp(e,t)}}function oQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function cQ(e){if(Array.isArray(e))return Sp(e)}function Sp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gd(){return gd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gd.apply(this,arguments)}function oj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function cj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oj(Object(r),!0).forEach(function(n){lQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lQ(e,t,r){return t=uQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uQ(e){var t=dQ(e,"string");return Yc(t)=="symbol"?t:t+""}function dQ(e,t){if(Yc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lj(e,t){if(e==null)return{};var r=fQ(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fQ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var hQ=function(t){return Array.isArray(t.value)?tQ(t.value):t.value};function Rn(e){var t=e.valueAccessor,r=t===void 0?hQ:t,n=lj(e,rQ),s=n.data,i=n.dataKey,o=n.clockWise,c=n.id,l=n.textBreakAll,u=lj(n,nQ);return!s||!s.length?null:D.createElement(st,{className:"recharts-label-list"},s.map(function(d,f){var h=Ke(i)?r(d,f):Rt(d&&d.payload,i),p=Ke(c)?{}:{id:"".concat(c,"-").concat(f)};return D.createElement(tr,gd({},Fe(d,!0),u,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:l,viewBox:tr.parseViewBox(Ke(o)?d:cj(cj({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Rn.displayName="LabelList";function mQ(e,t){return e?e===!0?D.createElement(Rn,{key:"labelList-implicit",data:t}):D.isValidElement(e)||We(e)?D.createElement(Rn,{key:"labelList-implicit",data:t,content:e}):xo(e)?D.createElement(Rn,gd({data:t},e,{key:"labelList-implicit"})):null:null}function pQ(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,s=Vr(n,Rn).map(function(o,c){return v.cloneElement(o,{data:t,key:"labelList-".concat(c)})});if(!r)return s;var i=mQ(e.label,t);return[i].concat(aQ(s))}Rn.renderCallByParent=pQ;function Jc(e){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jc(e)}function Ap(){return Ap=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ap.apply(this,arguments)}function uj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function dj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uj(Object(r),!0).forEach(function(n){gQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gQ(e,t,r){return t=vQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vQ(e){var t=xQ(e,"string");return Jc(t)=="symbol"?t:t+""}function xQ(e,t){if(Jc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yQ=function(t,r){var n=xr(r-t),s=Math.min(Math.abs(r-t),359.999);return n*s},Gl=function(t){var r=t.cx,n=t.cy,s=t.radius,i=t.angle,o=t.sign,c=t.isExternal,l=t.cornerRadius,u=t.cornerIsExternal,d=l*(c?1:-1)+s,f=Math.asin(l/d)/pd,h=u?i:i+o*f,p=St(r,n,d,h),g=St(r,n,s,h),m=u?i-o*f:i,x=St(r,n,d*Math.cos(f*pd),m);return{center:p,circleTangency:g,lineTangency:x,theta:f}},jP=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.startAngle,c=t.endAngle,l=yQ(o,c),u=o+l,d=St(r,n,i,o),f=St(r,n,i,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(s>0){var p=St(r,n,s,o),g=St(r,n,s,u);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},bQ=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,c=t.forceCornerRadius,l=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=xr(d-u),h=Gl({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:l}),p=h.circleTangency,g=h.lineTangency,m=h.theta,x=Gl({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:l}),b=x.circleTangency,y=x.lineTangency,w=x.theta,S=l?Math.abs(u-d):Math.abs(u-d)-m-w;if(S<0)return c?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):jP({cx:r,cy:n,innerRadius:s,outerRadius:i,startAngle:u,endAngle:d});var N="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(S>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
  `);if(s>0){var j=Gl({cx:r,cy:n,radius:s,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),A=j.circleTangency,O=j.lineTangency,P=j.theta,T=Gl({cx:r,cy:n,radius:s,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),_=T.circleTangency,k=T.lineTangency,E=T.theta,C=l?Math.abs(u-d):Math.abs(u-d)-P-E;if(C<0&&o===0)return"".concat(N,"L").concat(r,",").concat(n,"Z");N+="L".concat(k.x,",").concat(k.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(_.x,",").concat(_.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(C>180),",").concat(+(f>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,"Z")}else N+="L".concat(r,",").concat(n,"Z");return N},jQ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},wP=function(t){var r=dj(dj({},jQ),t),n=r.cx,s=r.cy,i=r.innerRadius,o=r.outerRadius,c=r.cornerRadius,l=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<i||d===f)return null;var p=Ge("recharts-sector",h),g=o-i,m=yr(c,g,0,!0),x;return m>0&&Math.abs(d-f)<360?x=bQ({cx:n,cy:s,innerRadius:i,outerRadius:o,cornerRadius:Math.min(m,g/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f}):x=jP({cx:n,cy:s,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),D.createElement("path",Ap({},Fe(r,!0),{className:p,d:x,role:"img"}))};function Qc(e){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qc(e)}function Op(){return Op=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Op.apply(this,arguments)}function fj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function hj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fj(Object(r),!0).forEach(function(n){wQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wQ(e,t,r){return t=NQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NQ(e){var t=SQ(e,"string");return Qc(t)=="symbol"?t:t+""}function SQ(e,t){if(Qc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mj={curveBasisClosed:w8,curveBasisOpen:N8,curveBasis:j8,curveBumpX:o8,curveBumpY:c8,curveLinearClosed:S8,curveLinear:Ef,curveMonotoneX:A8,curveMonotoneY:O8,curveNatural:_8,curveStep:P8,curveStepAfter:T8,curveStepBefore:k8},Zl=function(t){return t.x===+t.x&&t.y===+t.y},Ho=function(t){return t.x},qo=function(t){return t.y},AQ=function(t,r){if(We(t))return t;var n="curve".concat(Tf(t));return(n==="curveMonotone"||n==="curveBump")&&r?mj["".concat(n).concat(r==="vertical"?"Y":"X")]:mj[n]||Ef},OQ=function(t){var r=t.type,n=r===void 0?"linear":r,s=t.points,i=s===void 0?[]:s,o=t.baseLine,c=t.layout,l=t.connectNulls,u=l===void 0?!1:l,d=AQ(n,c),f=u?i.filter(function(m){return Zl(m)}):i,h;if(Array.isArray(o)){var p=u?o.filter(function(m){return Zl(m)}):o,g=f.map(function(m,x){return hj(hj({},m),{},{base:p[x]})});return c==="vertical"?h=Fl().y(qo).x1(Ho).x0(function(m){return m.base.x}):h=Fl().x(Ho).y1(qo).y0(function(m){return m.base.y}),h.defined(Zl).curve(d),h(g)}return c==="vertical"&&ve(o)?h=Fl().y(qo).x1(Ho).x0(o):ve(o)?h=Fl().x(Ho).y1(qo).y0(o):h=gO().x(Ho).y(qo),h.defined(Zl).curve(d),h(f)},As=function(t){var r=t.className,n=t.points,s=t.path,i=t.pathRef;if((!n||!n.length)&&!s)return null;var o=n&&n.length?OQ(t):s;return v.createElement("path",Op({},Fe(t,!1),Bu(t),{className:Ge("recharts-curve",r),d:o,ref:i}))},NP={exports:{}},_Q="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",PQ=_Q,kQ=PQ;function SP(){}function AP(){}AP.resetWarningCache=SP;var TQ=function(){function e(n,s,i,o,c,l){if(l!==kQ){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:AP,resetWarningCache:SP};return r.PropTypes=r,r};NP.exports=TQ();var CQ=NP.exports;const mt=xt(CQ);var EQ=Object.getOwnPropertyNames,$Q=Object.getOwnPropertySymbols,DQ=Object.prototype.hasOwnProperty;function pj(e,t){return function(n,s,i){return e(n,s,i)&&t(n,s,i)}}function Xl(e){return function(r,n,s){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,s);var i=s.cache,o=i.get(r),c=i.get(n);if(o&&c)return o===n&&c===r;i.set(r,n),i.set(n,r);var l=e(r,n,s);return i.delete(r),i.delete(n),l}}function gj(e){return EQ(e).concat($Q(e))}var IQ=Object.hasOwn||function(e,t){return DQ.call(e,t)};function Qs(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var MQ="__v",RQ="__o",LQ="_owner",vj=Object.getOwnPropertyDescriptor,xj=Object.keys;function FQ(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function BQ(e,t){return Qs(e.getTime(),t.getTime())}function VQ(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function zQ(e,t){return e===t}function yj(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var s=new Array(n),i=e.entries(),o,c,l=0;(o=i.next())&&!o.done;){for(var u=t.entries(),d=!1,f=0;(c=u.next())&&!c.done;){if(s[f]){f++;continue}var h=o.value,p=c.value;if(r.equals(h[0],p[0],l,f,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){d=s[f]=!0;break}f++}if(!d)return!1;l++}return!0}var UQ=Qs;function WQ(e,t,r){var n=xj(e),s=n.length;if(xj(t).length!==s)return!1;for(;s-- >0;)if(!OP(e,t,r,n[s]))return!1;return!0}function Ko(e,t,r){var n=gj(e),s=n.length;if(gj(t).length!==s)return!1;for(var i,o,c;s-- >0;)if(i=n[s],!OP(e,t,r,i)||(o=vj(e,i),c=vj(t,i),(o||c)&&(!o||!c||o.configurable!==c.configurable||o.enumerable!==c.enumerable||o.writable!==c.writable)))return!1;return!0}function HQ(e,t){return Qs(e.valueOf(),t.valueOf())}function qQ(e,t){return e.source===t.source&&e.flags===t.flags}function bj(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var s=new Array(n),i=e.values(),o,c;(o=i.next())&&!o.done;){for(var l=t.values(),u=!1,d=0;(c=l.next())&&!c.done;){if(!s[d]&&r.equals(o.value,c.value,o.value,c.value,e,t,r)){u=s[d]=!0;break}d++}if(!u)return!1}return!0}function KQ(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function GQ(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function OP(e,t,r,n){return(n===LQ||n===RQ||n===MQ)&&(e.$$typeof||t.$$typeof)?!0:IQ(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var ZQ="[object Arguments]",XQ="[object Boolean]",YQ="[object Date]",JQ="[object Error]",QQ="[object Map]",eee="[object Number]",tee="[object Object]",ree="[object RegExp]",nee="[object Set]",aee="[object String]",see="[object URL]",iee=Array.isArray,jj=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,wj=Object.assign,oee=Object.prototype.toString.call.bind(Object.prototype.toString);function cee(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,s=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,c=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(g,m,x){if(g===m)return!0;if(g==null||m==null)return!1;var b=typeof g;if(b!==typeof m)return!1;if(b!=="object")return b==="number"?o(g,m,x):b==="function"?s(g,m,x):!1;var y=g.constructor;if(y!==m.constructor)return!1;if(y===Object)return c(g,m,x);if(iee(g))return t(g,m,x);if(jj!=null&&jj(g))return f(g,m,x);if(y===Date)return r(g,m,x);if(y===RegExp)return u(g,m,x);if(y===Map)return i(g,m,x);if(y===Set)return d(g,m,x);var w=oee(g);return w===YQ?r(g,m,x):w===ree?u(g,m,x):w===QQ?i(g,m,x):w===nee?d(g,m,x):w===tee?typeof g.then!="function"&&typeof m.then!="function"&&c(g,m,x):w===see?h(g,m,x):w===JQ?n(g,m,x):w===ZQ?c(g,m,x):w===XQ||w===eee||w===aee?l(g,m,x):!1}}function lee(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,s={areArraysEqual:n?Ko:FQ,areDatesEqual:BQ,areErrorsEqual:VQ,areFunctionsEqual:zQ,areMapsEqual:n?pj(yj,Ko):yj,areNumbersEqual:UQ,areObjectsEqual:n?Ko:WQ,arePrimitiveWrappersEqual:HQ,areRegExpsEqual:qQ,areSetsEqual:n?pj(bj,Ko):bj,areTypedArraysEqual:n?Ko:KQ,areUrlsEqual:GQ};if(r&&(s=wj({},s,r(s))),t){var i=Xl(s.areArraysEqual),o=Xl(s.areMapsEqual),c=Xl(s.areObjectsEqual),l=Xl(s.areSetsEqual);s=wj({},s,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:c,areSetsEqual:l})}return s}function uee(e){return function(t,r,n,s,i,o,c){return e(t,r,c)}}function dee(e){var t=e.circular,r=e.comparator,n=e.createState,s=e.equals,i=e.strict;if(n)return function(l,u){var d=n(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,p=d.meta;return r(l,u,{cache:h,equals:s,meta:p,strict:i})};if(t)return function(l,u){return r(l,u,{cache:new WeakMap,equals:s,meta:void 0,strict:i})};var o={cache:void 0,equals:s,meta:void 0,strict:i};return function(l,u){return r(l,u,o)}}var fee=ts();ts({strict:!0});ts({circular:!0});ts({circular:!0,strict:!0});ts({createInternalComparator:function(){return Qs}});ts({strict:!0,createInternalComparator:function(){return Qs}});ts({circular:!0,createInternalComparator:function(){return Qs}});ts({circular:!0,createInternalComparator:function(){return Qs},strict:!0});function ts(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,s=e.createState,i=e.strict,o=i===void 0?!1:i,c=lee(e),l=cee(c),u=n?n(l):uee(l);return dee({circular:r,comparator:l,createState:s,equals:u,strict:o})}function hee(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function Nj(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function s(i){r<0&&(r=i),i-r>t?(e(i),r=-1):hee(s)};requestAnimationFrame(n)}function _p(e){"@babel/helpers - typeof";return _p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_p(e)}function mee(e){return xee(e)||vee(e)||gee(e)||pee()}function pee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gee(e,t){if(e){if(typeof e=="string")return Sj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Sj(e,t)}}function Sj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vee(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xee(e){if(Array.isArray(e))return e}function yee(){var e={},t=function(){return null},r=!1,n=function s(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,c=mee(o),l=c[0],u=c.slice(1);if(typeof l=="number"){Nj(s.bind(null,u),l);return}s(l),Nj(s.bind(null,u));return}_p(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function el(e){"@babel/helpers - typeof";return el=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},el(e)}function Aj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Oj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Aj(Object(r),!0).forEach(function(n){_P(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Aj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _P(e,t,r){return t=bee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bee(e){var t=jee(e,"string");return el(t)==="symbol"?t:String(t)}function jee(e,t){if(el(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(el(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wee=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,s){return n.filter(function(i){return s.includes(i)})})},Nee=function(t){return t},See=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},cc=function(t,r){return Object.keys(r).reduce(function(n,s){return Oj(Oj({},n),{},_P({},s,t(s,r[s])))},{})},_j=function(t,r,n){return t.map(function(s){return"".concat(See(s)," ").concat(r,"ms ").concat(n)}).join(",")};function Aee(e,t){return Pee(e)||_ee(e,t)||PP(e,t)||Oee()}function Oee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _ee(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(d){u=!0,s=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return c}}function Pee(e){if(Array.isArray(e))return e}function kee(e){return Eee(e)||Cee(e)||PP(e)||Tee()}function Tee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PP(e,t){if(e){if(typeof e=="string")return Pp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pp(e,t)}}function Cee(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Eee(e){if(Array.isArray(e))return Pp(e)}function Pp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var vd=1e-4,kP=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},TP=function(t,r){return t.map(function(n,s){return n*Math.pow(r,s)}).reduce(function(n,s){return n+s})},Pj=function(t,r){return function(n){var s=kP(t,r);return TP(s,n)}},$ee=function(t,r){return function(n){var s=kP(t,r),i=[].concat(kee(s.map(function(o,c){return o*c}).slice(1)),[0]);return TP(i,n)}},kj=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0],i=r[1],o=r[2],c=r[3];if(r.length===1)switch(r[0]){case"linear":s=0,i=0,o=1,c=1;break;case"ease":s=.25,i=.1,o=.25,c=1;break;case"ease-in":s=.42,i=0,o=1,c=1;break;case"ease-out":s=.42,i=0,o=.58,c=1;break;case"ease-in-out":s=0,i=0,o=.58,c=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),d=Aee(u,4);s=d[0],i=d[1],o=d[2],c=d[3]}}}var f=Pj(s,o),h=Pj(i,c),p=$ee(s,o),g=function(b){return b>1?1:b<0?0:b},m=function(b){for(var y=b>1?1:b,w=y,S=0;S<8;++S){var N=f(w)-y,j=p(w);if(Math.abs(N-y)<vd||j<vd)return h(w);w=g(w-N/j)}return h(w)};return m.isStepper=!1,m},Dee=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,s=t.damping,i=s===void 0?8:s,o=t.dt,c=o===void 0?17:o,l=function(d,f,h){var p=-(d-f)*n,g=h*i,m=h+(p-g)*c/1e3,x=h*c/1e3+d;return Math.abs(x-f)<vd&&Math.abs(m)<vd?[f,0]:[x,m]};return l.isStepper=!0,l.dt=c,l},Iee=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return kj(s);case"spring":return Dee();default:if(s.split("(")[0]==="cubic-bezier")return kj(s)}return typeof s=="function"?s:null};function tl(e){"@babel/helpers - typeof";return tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tl(e)}function Tj(e){return Lee(e)||Ree(e)||CP(e)||Mee()}function Mee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ree(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Lee(e){if(Array.isArray(e))return Tp(e)}function Cj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function sr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cj(Object(r),!0).forEach(function(n){kp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kp(e,t,r){return t=Fee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fee(e){var t=Bee(e,"string");return tl(t)==="symbol"?t:String(t)}function Bee(e,t){if(tl(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tl(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vee(e,t){return Wee(e)||Uee(e,t)||CP(e,t)||zee()}function zee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CP(e,t){if(e){if(typeof e=="string")return Tp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Tp(e,t)}}function Tp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Uee(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(d){u=!0,s=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return c}}function Wee(e){if(Array.isArray(e))return e}var xd=function(t,r,n){return t+(r-t)*n},Cp=function(t){var r=t.from,n=t.to;return r!==n},Hee=function e(t,r,n){var s=cc(function(i,o){if(Cp(o)){var c=t(o.from,o.to,o.velocity),l=Vee(c,2),u=l[0],d=l[1];return sr(sr({},o),{},{from:u,velocity:d})}return o},r);return n<1?cc(function(i,o){return Cp(o)?sr(sr({},o),{},{velocity:xd(o.velocity,s[i].velocity,n),from:xd(o.from,s[i].from,n)}):o},r):e(t,s,n-1)};const qee=function(e,t,r,n,s){var i=wee(e,t),o=i.reduce(function(x,b){return sr(sr({},x),{},kp({},b,[e[b],t[b]]))},{}),c=i.reduce(function(x,b){return sr(sr({},x),{},kp({},b,{from:e[b],velocity:0,to:t[b]}))},{}),l=-1,u,d,f=function(){return null},h=function(){return cc(function(b,y){return y.from},c)},p=function(){return!Object.values(c).filter(Cp).length},g=function(b){u||(u=b);var y=b-u,w=y/r.dt;c=Hee(r,c,w),s(sr(sr(sr({},e),t),h())),u=b,p()||(l=requestAnimationFrame(f))},m=function(b){d||(d=b);var y=(b-d)/n,w=cc(function(N,j){return xd.apply(void 0,Tj(j).concat([r(y)]))},o);if(s(sr(sr(sr({},e),t),w)),y<1)l=requestAnimationFrame(f);else{var S=cc(function(N,j){return xd.apply(void 0,Tj(j).concat([r(1)]))},o);s(sr(sr(sr({},e),t),S))}};return f=r.isStepper?g:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Ui(e){"@babel/helpers - typeof";return Ui=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ui(e)}var Kee=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Gee(e,t){if(e==null)return{};var r=Zee(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Zee(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function Yh(e){return Qee(e)||Jee(e)||Yee(e)||Xee()}function Xee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yee(e,t){if(e){if(typeof e=="string")return Ep(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ep(e,t)}}function Jee(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Qee(e){if(Array.isArray(e))return Ep(e)}function Ep(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ej(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ln(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ej(Object(r),!0).forEach(function(n){ec(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ej(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ec(e,t,r){return t=EP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ete(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tte(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,EP(n.key),n)}}function rte(e,t,r){return t&&tte(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function EP(e){var t=nte(e,"string");return Ui(t)==="symbol"?t:String(t)}function nte(e,t){if(Ui(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ui(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ate(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$p(e,t)}function $p(e,t){return $p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},$p(e,t)}function ste(e){var t=ite();return function(){var n=yd(e),s;if(t){var i=yd(this).constructor;s=Reflect.construct(n,arguments,i)}else s=n.apply(this,arguments);return Dp(this,s)}}function Dp(e,t){if(t&&(Ui(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ip(e)}function Ip(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ite(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function yd(e){return yd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yd(e)}var jn=function(e){ate(r,e);var t=ste(r);function r(n,s){var i;ete(this,r),i=t.call(this,n,s);var o=i.props,c=o.isActive,l=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,p=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(Ip(i)),i.changeStyle=i.changeStyle.bind(Ip(i)),!c||p<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:d}),Dp(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof h=="function")return i.state={style:u},Dp(i);i.state={style:l?ec({},l,u):u}}else i.state={style:{}};return i}return rte(r,[{key:"componentDidMount",value:function(){var s=this.props,i=s.isActive,o=s.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var i=this.props,o=i.isActive,c=i.canBegin,l=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,h=this.state.style;if(c){if(!o){var p={style:l?ec({},l,d):d};this.state&&h&&(l&&h[l]!==d||!l&&h!==d)&&this.setState(p);return}if(!(fee(s.to,d)&&s.canBegin&&s.isActive)){var g=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=g||u?f:s.to;if(this.state&&h){var x={style:l?ec({},l,m):m};(l&&h[l]!==m||!l&&h!==m)&&this.setState(x)}this.runAnimation(ln(ln({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var i=this,o=s.from,c=s.to,l=s.duration,u=s.easing,d=s.begin,f=s.onAnimationEnd,h=s.onAnimationStart,p=qee(o,c,Iee(u),l,this.changeStyle),g=function(){i.stopJSAnimation=p()};this.manager.start([h,d,g,l,f])}},{key:"runStepAnimation",value:function(s){var i=this,o=s.steps,c=s.begin,l=s.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,p=function(m,x,b){if(b===0)return m;var y=x.duration,w=x.easing,S=w===void 0?"ease":w,N=x.style,j=x.properties,A=x.onAnimationEnd,O=b>0?o[b-1]:x,P=j||Object.keys(N);if(typeof S=="function"||S==="spring")return[].concat(Yh(m),[i.runJSAnimation.bind(i,{from:O.style,to:N,duration:y,easing:S}),y]);var T=_j(P,y,S),_=ln(ln(ln({},O.style),N),{},{transition:T});return[].concat(Yh(m),[_,y,A]).filter(Nee)};return this.manager.start([l].concat(Yh(o.reduce(p,[d,Math.max(h,c)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=yee());var i=s.begin,o=s.duration,c=s.attributeName,l=s.to,u=s.easing,d=s.onAnimationStart,f=s.onAnimationEnd,h=s.steps,p=s.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(s);return}if(h.length>1){this.runStepAnimation(s);return}var m=c?ec({},c,l):l,x=_j(Object.keys(m),o,u);g.start([d,i,ln(ln({},m),{},{transition:x}),o,f])}},{key:"render",value:function(){var s=this.props,i=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var c=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var l=Gee(s,Kee),u=v.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!c||u===0||o<=0)return i;var f=function(p){var g=p.props,m=g.style,x=m===void 0?{}:m,b=g.className,y=v.cloneElement(p,ln(ln({},l),{},{style:ln(ln({},x),d),className:b}));return y};return u===1?f(v.Children.only(i)):D.createElement("div",null,v.Children.map(i,function(h){return f(h)}))}}]),r}(v.PureComponent);jn.displayName="Animate";jn.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};jn.propTypes={from:mt.oneOfType([mt.object,mt.string]),to:mt.oneOfType([mt.object,mt.string]),attributeName:mt.string,duration:mt.number,begin:mt.number,easing:mt.oneOfType([mt.string,mt.func]),steps:mt.arrayOf(mt.shape({duration:mt.number.isRequired,style:mt.object.isRequired,easing:mt.oneOfType([mt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),mt.func]),properties:mt.arrayOf("string"),onAnimationEnd:mt.func})),children:mt.oneOfType([mt.node,mt.func]),isActive:mt.bool,canBegin:mt.bool,onAnimationEnd:mt.func,shouldReAnimate:mt.bool,onAnimationStart:mt.func,onAnimationReStart:mt.func};function rl(e){"@babel/helpers - typeof";return rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rl(e)}function bd(){return bd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bd.apply(this,arguments)}function ote(e,t){return dte(e)||ute(e,t)||lte(e,t)||cte()}function cte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lte(e,t){if(e){if(typeof e=="string")return $j(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $j(e,t)}}function $j(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ute(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(d){u=!0,s=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return c}}function dte(e){if(Array.isArray(e))return e}function Dj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ij(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dj(Object(r),!0).forEach(function(n){fte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fte(e,t,r){return t=hte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hte(e){var t=mte(e,"string");return rl(t)=="symbol"?t:t+""}function mte(e,t){if(rl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mj=function(t,r,n,s,i){var o=Math.min(Math.abs(n)/2,Math.abs(s)/2),c=s>=0?1:-1,l=n>=0?1:-1,u=s>=0&&n>=0||s<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=i[h]>o?o:i[h];d="M".concat(t,",").concat(r+c*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+l*f[0],",").concat(r)),d+="L ".concat(t+n-l*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+c*f[1])),d+="L ".concat(t+n,",").concat(r+s-c*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-l*f[2],",").concat(r+s)),d+="L ".concat(t+l*f[3],",").concat(r+s),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+s-c*f[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var g=Math.min(o,i);d="M ".concat(t,",").concat(r+c*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+l*g,",").concat(r,`
            L `).concat(t+n-l*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n,",").concat(r+c*g,`
            L `).concat(t+n,",").concat(r+s-c*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n-l*g,",").concat(r+s,`
            L `).concat(t+l*g,",").concat(r+s,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t,",").concat(r+s-c*g," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(s," h ").concat(-n," Z");return d},pte=function(t,r){if(!t||!r)return!1;var n=t.x,s=t.y,i=r.x,o=r.y,c=r.width,l=r.height;if(Math.abs(c)>0&&Math.abs(l)>0){var u=Math.min(i,i+c),d=Math.max(i,i+c),f=Math.min(o,o+l),h=Math.max(o,o+l);return n>=u&&n<=d&&s>=f&&s<=h}return!1},gte={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},zv=function(t){var r=Ij(Ij({},gte),t),n=v.useRef(),s=v.useState(-1),i=ote(s,2),o=i[0],c=i[1];v.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&c(S)}catch{}},[]);var l=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,p=r.className,g=r.animationEasing,m=r.animationDuration,x=r.animationBegin,b=r.isAnimationActive,y=r.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var w=Ge("recharts-rectangle",p);return y?D.createElement(jn,{canBegin:o>0,from:{width:d,height:f,x:l,y:u},to:{width:d,height:f,x:l,y:u},duration:m,animationEasing:g,isActive:y},function(S){var N=S.width,j=S.height,A=S.x,O=S.y;return D.createElement(jn,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:m,isActive:b,easing:g},D.createElement("path",bd({},Fe(r,!0),{className:w,d:Mj(A,O,N,j,h),ref:n})))}):D.createElement("path",bd({},Fe(r,!0),{className:w,d:Mj(l,u,d,f,h)}))},vte=["points","className","baseLinePoints","connectNulls"];function mi(){return mi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mi.apply(this,arguments)}function xte(e,t){if(e==null)return{};var r=yte(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yte(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Rj(e){return Nte(e)||wte(e)||jte(e)||bte()}function bte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jte(e,t){if(e){if(typeof e=="string")return Mp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mp(e,t)}}function wte(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Nte(e){if(Array.isArray(e))return Mp(e)}function Mp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Lj=function(t){return t&&t.x===+t.x&&t.y===+t.y},Ste=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){Lj(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),Lj(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},lc=function(t,r){var n=Ste(t);r&&(n=[n.reduce(function(i,o){return[].concat(Rj(i),Rj(o))},[])]);var s=n.map(function(i){return i.reduce(function(o,c,l){return"".concat(o).concat(l===0?"M":"L").concat(c.x,",").concat(c.y)},"")}).join("");return n.length===1?"".concat(s,"Z"):s},Ate=function(t,r,n){var s=lc(t,n);return"".concat(s.slice(-1)==="Z"?s.slice(0,-1):s,"L").concat(lc(r.reverse(),n).slice(1))},Ote=function(t){var r=t.points,n=t.className,s=t.baseLinePoints,i=t.connectNulls,o=xte(t,vte);if(!r||!r.length)return null;var c=Ge("recharts-polygon",n);if(s&&s.length){var l=o.stroke&&o.stroke!=="none",u=Ate(r,s,i);return D.createElement("g",{className:c},D.createElement("path",mi({},Fe(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),l?D.createElement("path",mi({},Fe(o,!0),{fill:"none",d:lc(r,i)})):null,l?D.createElement("path",mi({},Fe(o,!0),{fill:"none",d:lc(s,i)})):null)}var d=lc(r,i);return D.createElement("path",mi({},Fe(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:c,d}))};function Rp(){return Rp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rp.apply(this,arguments)}var Pl=function(t){var r=t.cx,n=t.cy,s=t.r,i=t.className,o=Ge("recharts-dot",i);return r===+r&&n===+n&&s===+s?v.createElement("circle",Rp({},Fe(t,!1),Bu(t),{className:o,cx:r,cy:n,r:s})):null};function nl(e){"@babel/helpers - typeof";return nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nl(e)}var _te=["x","y","top","left","width","height","className"];function Lp(){return Lp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lp.apply(this,arguments)}function Fj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Pte(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fj(Object(r),!0).forEach(function(n){kte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kte(e,t,r){return t=Tte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tte(e){var t=Cte(e,"string");return nl(t)=="symbol"?t:t+""}function Cte(e,t){if(nl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ete(e,t){if(e==null)return{};var r=$te(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $te(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Dte=function(t,r,n,s,i,o){return"M".concat(t,",").concat(i,"v").concat(s,"M").concat(o,",").concat(r,"h").concat(n)},Ite=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,i=s===void 0?0:s,o=t.top,c=o===void 0?0:o,l=t.left,u=l===void 0?0:l,d=t.width,f=d===void 0?0:d,h=t.height,p=h===void 0?0:h,g=t.className,m=Ete(t,_te),x=Pte({x:n,y:i,top:c,left:u,width:f,height:p},m);return!ve(n)||!ve(i)||!ve(f)||!ve(p)||!ve(c)||!ve(u)?null:D.createElement("path",Lp({},Fe(x,!0),{className:Ge("recharts-cross",g),d:Dte(n,i,f,p,c,u)}))},Mte=Uf,Rte=W_,Lte=Gn;function Fte(e,t){return e&&e.length?Mte(e,Lte(t),Rte):void 0}var Bte=Fte;const Vte=xt(Bte);var zte=Uf,Ute=Gn,Wte=H_;function Hte(e,t){return e&&e.length?zte(e,Ute(t),Wte):void 0}var qte=Hte;const Kte=xt(qte);var Gte=["cx","cy","angle","ticks","axisLine"],Zte=["ticks","tick","angle","tickFormatter","stroke"];function Wi(e){"@babel/helpers - typeof";return Wi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wi(e)}function uc(){return uc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uc.apply(this,arguments)}function Bj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function as(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bj(Object(r),!0).forEach(function(n){Kf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vj(e,t){if(e==null)return{};var r=Xte(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Xte(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Yte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,DP(n.key),n)}}function Jte(e,t,r){return t&&zj(e.prototype,t),r&&zj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qte(e,t,r){return t=jd(t),ere(e,$P()?Reflect.construct(t,r||[],jd(e).constructor):t.apply(e,r))}function ere(e,t){if(t&&(Wi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tre(e)}function tre(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $P(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($P=function(){return!!e})()}function jd(e){return jd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jd(e)}function rre(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fp(e,t)}function Fp(e,t){return Fp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Fp(e,t)}function Kf(e,t,r){return t=DP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DP(e){var t=nre(e,"string");return Wi(t)=="symbol"?t:t+""}function nre(e,t){if(Wi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Gf=function(e){function t(){return Yte(this,t),Qte(this,t,arguments)}return rre(t,e),Jte(t,[{key:"getTickValueCoord",value:function(n){var s=n.coordinate,i=this.props,o=i.angle,c=i.cx,l=i.cy;return St(c,l,s,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,s;switch(n){case"left":s="end";break;case"right":s="start";break;default:s="middle";break}return s}},{key:"getViewBox",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.angle,c=n.ticks,l=Vte(c,function(d){return d.coordinate||0}),u=Kte(c,function(d){return d.coordinate||0});return{cx:s,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.angle,c=n.ticks,l=n.axisLine,u=Vj(n,Gte),d=c.reduce(function(g,m){return[Math.min(g[0],m.coordinate),Math.max(g[1],m.coordinate)]},[1/0,-1/0]),f=St(s,i,d[0],o),h=St(s,i,d[1],o),p=as(as(as({},Fe(u,!1)),{},{fill:"none"},Fe(l,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return D.createElement("line",uc({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,s=this.props,i=s.ticks,o=s.tick,c=s.angle,l=s.tickFormatter,u=s.stroke,d=Vj(s,Zte),f=this.getTickTextAnchor(),h=Fe(d,!1),p=Fe(o,!1),g=i.map(function(m,x){var b=n.getTickValueCoord(m),y=as(as(as(as({textAnchor:f,transform:"rotate(".concat(90-c,", ").concat(b.x,", ").concat(b.y,")")},h),{},{stroke:"none",fill:u},p),{},{index:x},b),{},{payload:m});return D.createElement(st,uc({className:Ge("recharts-polar-radius-axis-tick",yP(o)),key:"tick-".concat(m.coordinate)},Ls(n.props,m,x)),t.renderTickItem(o,y,l?l(m.value,x):m.value))});return D.createElement(st,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,s=n.ticks,i=n.axisLine,o=n.tick;return!s||!s.length?null:D.createElement(st,{className:Ge("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),tr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,s,i){var o;return D.isValidElement(n)?o=D.cloneElement(n,s):We(n)?o=n(s):o=D.createElement(Fs,uc({},s,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(v.PureComponent);Kf(Gf,"displayName","PolarRadiusAxis");Kf(Gf,"axisType","radiusAxis");Kf(Gf,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Hi(e){"@babel/helpers - typeof";return Hi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hi(e)}function ls(){return ls=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ls.apply(this,arguments)}function Uj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ss(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Uj(Object(r),!0).forEach(function(n){Zf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function are(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,MP(n.key),n)}}function sre(e,t,r){return t&&Wj(e.prototype,t),r&&Wj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ire(e,t,r){return t=wd(t),ore(e,IP()?Reflect.construct(t,r||[],wd(e).constructor):t.apply(e,r))}function ore(e,t){if(t&&(Hi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cre(e)}function cre(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IP=function(){return!!e})()}function wd(e){return wd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wd(e)}function lre(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bp(e,t)}function Bp(e,t){return Bp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Bp(e,t)}function Zf(e,t,r){return t=MP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MP(e){var t=ure(e,"string");return Hi(t)=="symbol"?t:t+""}function ure(e,t){if(Hi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var dre=Math.PI/180,Hj=1e-5,Xf=function(e){function t(){return are(this,t),ire(this,t,arguments)}return lre(t,e),sre(t,[{key:"getTickLineCoord",value:function(n){var s=this.props,i=s.cx,o=s.cy,c=s.radius,l=s.orientation,u=s.tickSize,d=u||8,f=St(i,o,c,n.coordinate),h=St(i,o,c+(l==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var s=this.props.orientation,i=Math.cos(-n.coordinate*dre),o;return i>Hj?o=s==="outer"?"start":"end":i<-Hj?o=s==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.radius,c=n.axisLine,l=n.axisLineType,u=ss(ss({},Fe(this.props,!1)),{},{fill:"none"},Fe(c,!1));if(l==="circle")return D.createElement(Pl,ls({className:"recharts-polar-angle-axis-line"},u,{cx:s,cy:i,r:o}));var d=this.props.ticks,f=d.map(function(h){return St(s,i,o,h.coordinate)});return D.createElement(Ote,ls({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,s=this.props,i=s.ticks,o=s.tick,c=s.tickLine,l=s.tickFormatter,u=s.stroke,d=Fe(this.props,!1),f=Fe(o,!1),h=ss(ss({},d),{},{fill:"none"},Fe(c,!1)),p=i.map(function(g,m){var x=n.getTickLineCoord(g),b=n.getTickTextAnchor(g),y=ss(ss(ss({textAnchor:b},d),{},{stroke:"none",fill:u},f),{},{index:m,payload:g,x:x.x2,y:x.y2});return D.createElement(st,ls({className:Ge("recharts-polar-angle-axis-tick",yP(o)),key:"tick-".concat(g.coordinate)},Ls(n.props,g,m)),c&&D.createElement("line",ls({className:"recharts-polar-angle-axis-tick-line"},h,x)),o&&t.renderTickItem(o,y,l?l(g.value,m):g.value))});return D.createElement(st,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,s=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!s||!s.length?null:D.createElement(st,{className:Ge("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,s,i){var o;return D.isValidElement(n)?o=D.cloneElement(n,s):We(n)?o=n(s):o=D.createElement(Fs,ls({},s,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(v.PureComponent);Zf(Xf,"displayName","PolarAngleAxis");Zf(Xf,"axisType","angleAxis");Zf(Xf,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var fre=BO,hre=fre(Object.getPrototypeOf,Object),mre=hre,pre=ja,gre=mre,vre=wa,xre="[object Object]",yre=Function.prototype,bre=Object.prototype,RP=yre.toString,jre=bre.hasOwnProperty,wre=RP.call(Object);function Nre(e){if(!vre(e)||pre(e)!=xre)return!1;var t=gre(e);if(t===null)return!0;var r=jre.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&RP.call(r)==wre}var Sre=Nre;const Are=xt(Sre);var Ore=ja,_re=wa,Pre="[object Boolean]";function kre(e){return e===!0||e===!1||_re(e)&&Ore(e)==Pre}var Tre=kre;const Cre=xt(Tre);function al(e){"@babel/helpers - typeof";return al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},al(e)}function Nd(){return Nd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nd.apply(this,arguments)}function Ere(e,t){return Mre(e)||Ire(e,t)||Dre(e,t)||$re()}function $re(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dre(e,t){if(e){if(typeof e=="string")return qj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qj(e,t)}}function qj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ire(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(d){u=!0,s=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return c}}function Mre(e){if(Array.isArray(e))return e}function Kj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Gj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kj(Object(r),!0).forEach(function(n){Rre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rre(e,t,r){return t=Lre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lre(e){var t=Fre(e,"string");return al(t)=="symbol"?t:t+""}function Fre(e,t){if(al(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(al(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zj=function(t,r,n,s,i){var o=n-s,c;return c="M ".concat(t,",").concat(r),c+="L ".concat(t+n,",").concat(r),c+="L ".concat(t+n-o/2,",").concat(r+i),c+="L ".concat(t+n-o/2-s,",").concat(r+i),c+="L ".concat(t,",").concat(r," Z"),c},Bre={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Vre=function(t){var r=Gj(Gj({},Bre),t),n=v.useRef(),s=v.useState(-1),i=Ere(s,2),o=i[0],c=i[1];v.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&c(w)}catch{}},[]);var l=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,g=r.animationEasing,m=r.animationDuration,x=r.animationBegin,b=r.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var y=Ge("recharts-trapezoid",p);return b?D.createElement(jn,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:l,y:u},duration:m,animationEasing:g,isActive:b},function(w){var S=w.upperWidth,N=w.lowerWidth,j=w.height,A=w.x,O=w.y;return D.createElement(jn,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:m,easing:g},D.createElement("path",Nd({},Fe(r,!0),{className:y,d:Zj(A,O,S,N,j),ref:n})))}):D.createElement("g",null,D.createElement("path",Nd({},Fe(r,!0),{className:y,d:Zj(l,u,d,f,h)})))},zre=["option","shapeType","propTransformer","activeClassName","isActive"];function sl(e){"@babel/helpers - typeof";return sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sl(e)}function Ure(e,t){if(e==null)return{};var r=Wre(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Wre(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Xj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Sd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xj(Object(r),!0).forEach(function(n){Hre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hre(e,t,r){return t=qre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qre(e){var t=Kre(e,"string");return sl(t)=="symbol"?t:t+""}function Kre(e,t){if(sl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gre(e,t){return Sd(Sd({},t),e)}function Zre(e,t){return e==="symbols"}function Yj(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return D.createElement(zv,r);case"trapezoid":return D.createElement(Vre,r);case"sector":return D.createElement(wP,r);case"symbols":if(Zre(t))return D.createElement(ov,r);break;default:return null}}function Xre(e){return v.isValidElement(e)?e.props:e}function LP(e){var t=e.option,r=e.shapeType,n=e.propTransformer,s=n===void 0?Gre:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,c=e.isActive,l=Ure(e,zre),u;if(v.isValidElement(t))u=v.cloneElement(t,Sd(Sd({},l),Xre(t)));else if(We(t))u=t(l);else if(Are(t)&&!Cre(t)){var d=s(t,l);u=D.createElement(Yj,{shapeType:r,elementProps:d})}else{var f=l;u=D.createElement(Yj,{shapeType:r,elementProps:f})}return c?D.createElement(st,{className:o},u):u}function Yf(e,t){return t!=null&&"trapezoids"in e.props}function Jf(e,t){return t!=null&&"sectors"in e.props}function il(e,t){return t!=null&&"points"in e.props}function Yre(e,t){var r,n,s=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return s&&i}function Jre(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function Qre(e,t){var r=e.x===t.x,n=e.y===t.y,s=e.z===t.z;return r&&n&&s}function ene(e,t){var r;return Yf(e,t)?r=Yre:Jf(e,t)?r=Jre:il(e,t)&&(r=Qre),r}function tne(e,t){var r;return Yf(e,t)?r="trapezoids":Jf(e,t)?r="sectors":il(e,t)&&(r="points"),r}function rne(e,t){if(Yf(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Jf(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return il(e,t)?t.payload:{}}function nne(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,s=tne(r,t),i=rne(r,t),o=n.filter(function(l,u){var d=Bs(i,l),f=r.props[s].filter(function(g){var m=ene(r,t);return m(g,t)}),h=r.props[s].indexOf(f[f.length-1]),p=u===h;return d&&p}),c=n.indexOf(o[o.length-1]);return c}var du;function qi(e){"@babel/helpers - typeof";return qi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qi(e)}function pi(){return pi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pi.apply(this,arguments)}function Jj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function jt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jj(Object(r),!0).forEach(function(n){Qr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ane(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,BP(n.key),n)}}function sne(e,t,r){return t&&Qj(e.prototype,t),r&&Qj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ine(e,t,r){return t=Ad(t),one(e,FP()?Reflect.construct(t,r||[],Ad(e).constructor):t.apply(e,r))}function one(e,t){if(t&&(qi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cne(e)}function cne(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FP=function(){return!!e})()}function Ad(e){return Ad=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ad(e)}function lne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vp(e,t)}function Vp(e,t){return Vp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Vp(e,t)}function Qr(e,t,r){return t=BP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BP(e){var t=une(e,"string");return qi(t)=="symbol"?t:t+""}function une(e,t){if(qi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Wn=function(e){function t(r){var n;return ane(this,t),n=ine(this,t,[r]),Qr(n,"pieRef",null),Qr(n,"sectorRefs",[]),Qr(n,"id",Xs("recharts-pie-")),Qr(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),We(s)&&s()}),Qr(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),We(s)&&s()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return lne(t,e),sne(t,[{key:"isActiveIndex",value:function(n){var s=this.props.activeIndex;return Array.isArray(s)?s.indexOf(n)!==-1:n===s}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,c=i.labelLine,l=i.dataKey,u=i.valueKey,d=Fe(this.props,!1),f=Fe(o,!1),h=Fe(c,!1),p=o&&o.offsetRadius||20,g=n.map(function(m,x){var b=(m.startAngle+m.endAngle)/2,y=St(m.cx,m.cy,m.outerRadius+p,b),w=jt(jt(jt(jt({},d),m),{},{stroke:"none"},f),{},{index:x,textAnchor:t.getTextAnchor(y.x,m.cx)},y),S=jt(jt(jt(jt({},d),m),{},{fill:"none",stroke:m.fill},h),{},{index:x,points:[St(m.cx,m.cy,m.outerRadius,b),y]}),N=l;return Ke(l)&&Ke(u)?N="value":Ke(l)&&(N=u),D.createElement(st,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(x)},c&&t.renderLabelLineItem(c,S,"line"),t.renderLabelItem(o,w,Rt(m,N)))});return D.createElement(st,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(n){var s=this,i=this.props,o=i.activeShape,c=i.blendStroke,l=i.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=s.isActiveIndex(d),h=l&&s.hasActiveIndex()?l:null,p=f?o:h,g=jt(jt({},u),{},{stroke:c?u.fill:u.stroke,tabIndex:-1});return D.createElement(st,pi({ref:function(x){x&&!s.sectorRefs.includes(x)&&s.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},Ls(s.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),D.createElement(LP,pi({option:p,isActive:f,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,s=this.props,i=s.sectors,o=s.isAnimationActive,c=s.animationBegin,l=s.animationDuration,u=s.animationEasing,d=s.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return D.createElement(jn,{begin:c,duration:l,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var m=g.t,x=[],b=i&&i[0],y=b.startAngle;return i.forEach(function(w,S){var N=h&&h[S],j=S>0?Br(w,"paddingAngle",0):0;if(N){var A=Zt(N.endAngle-N.startAngle,w.endAngle-w.startAngle),O=jt(jt({},w),{},{startAngle:y+j,endAngle:y+A(m)+j});x.push(O),y=O.endAngle}else{var P=w.endAngle,T=w.startAngle,_=Zt(0,P-T),k=_(m),E=jt(jt({},w),{},{startAngle:y+j,endAngle:y+k+j});x.push(E),y=E.endAngle}}),D.createElement(st,null,n.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(n){var s=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[o].focus(),s.setState({sectorToFocus:o});break}case"ArrowRight":{var c=--s.state.sectorToFocus<0?s.sectorRefs.length-1:s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[c].focus(),s.setState({sectorToFocus:c});break}case"Escape":{s.sectorRefs[s.state.sectorToFocus].blur(),s.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,s=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&s&&s.length&&(!o||!Bs(o,s))?this.renderSectorsWithAnimation():this.renderSectorsStatically(s)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,s=this.props,i=s.hide,o=s.sectors,c=s.className,l=s.label,u=s.cx,d=s.cy,f=s.innerRadius,h=s.outerRadius,p=s.isAnimationActive,g=this.state.isAnimationFinished;if(i||!o||!o.length||!ve(u)||!ve(d)||!ve(f)||!ve(h))return null;var m=Ge("recharts-pie",c);return D.createElement(st,{tabIndex:this.props.rootTabIndex,className:m,ref:function(b){n.pieRef=b}},this.renderSectors(),l&&this.renderLabels(o),tr.renderCallByParent(this.props,null,!1),(!p||g)&&Rn.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return s.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:s.curSectors,isAnimationFinished:!0}:n.sectors!==s.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,s){return n>s?"start":n<s?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,s,i){if(D.isValidElement(n))return D.cloneElement(n,s);if(We(n))return n(s);var o=Ge("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return D.createElement(As,pi({},s,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,s,i){if(D.isValidElement(n))return D.cloneElement(n,s);var o=i;if(We(n)&&(o=n(s),D.isValidElement(o)))return o;var c=Ge("recharts-pie-label-text",typeof n!="boolean"&&!We(n)?n.className:"");return D.createElement(Fs,pi({},s,{alignmentBaseline:"middle",className:c}),o)}}])}(v.PureComponent);du=Wn;Qr(Wn,"displayName","Pie");Qr(Wn,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Ja.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Qr(Wn,"parseDeltaAngle",function(e,t){var r=xr(t-e),n=Math.min(Math.abs(t-e),360);return r*n});Qr(Wn,"getRealPieData",function(e){var t=e.data,r=e.children,n=Fe(e,!1),s=Vr(r,Mc);return t&&t.length?t.map(function(i,o){return jt(jt(jt({payload:i},n),i),s&&s[o]&&s[o].props)}):s&&s.length?s.map(function(i){return jt(jt({},n),i.props)}):[]});Qr(Wn,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,s=t.width,i=t.height,o=xP(s,i),c=n+yr(e.cx,s,s/2),l=r+yr(e.cy,i,i/2),u=yr(e.innerRadius,o,0),d=yr(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(s*s+i*i)/2;return{cx:c,cy:l,innerRadius:u,outerRadius:d,maxRadius:f}});Qr(Wn,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?jt(jt({},t.type.defaultProps),t.props):t.props,s=du.getRealPieData(n);if(!s||!s.length)return null;var i=n.cornerRadius,o=n.startAngle,c=n.endAngle,l=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,p=Math.abs(n.minAngle),g=du.parseCoordinateOfPie(n,r),m=du.parseDeltaAngle(o,c),x=Math.abs(m),b=u;Ke(u)&&Ke(f)?(vn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):Ke(u)&&(vn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=f);var y=s.filter(function(O){return Rt(O,b,0)!==0}).length,w=(x>=360?y:y-1)*l,S=x-y*p-w,N=s.reduce(function(O,P){var T=Rt(P,b,0);return O+(ve(T)?T:0)},0),j;if(N>0){var A;j=s.map(function(O,P){var T=Rt(O,b,0),_=Rt(O,d,P),k=(ve(T)?T:0)/N,E;P?E=A.endAngle+xr(m)*l*(T!==0?1:0):E=o;var C=E+xr(m)*((T!==0?p:0)+k*S),I=(E+C)/2,F=(g.innerRadius+g.outerRadius)/2,$=[{name:_,value:T,payload:O,dataKey:b,type:h}],q=St(g.cx,g.cy,F,I);return A=jt(jt(jt({percent:k,cornerRadius:i,name:_,tooltipPayload:$,midAngle:I,middleRadius:F,tooltipPosition:q},O),g),{},{value:Rt(O,b),startAngle:E,endAngle:C,payload:O,paddingAngle:xr(m)*l}),A})}return jt(jt({},g),{},{sectors:j,data:s})});var dne=Math.ceil,fne=Math.max;function hne(e,t,r,n){for(var s=-1,i=fne(dne((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++s]=e,e+=r;return o}var mne=hne,pne=s_,ew=1/0,gne=17976931348623157e292;function vne(e){if(!e)return e===0?e:0;if(e=pne(e),e===ew||e===-ew){var t=e<0?-1:1;return t*gne}return e===e?e:0}var VP=vne,xne=mne,yne=Mf,Jh=VP;function bne(e){return function(t,r,n){return n&&typeof n!="number"&&yne(t,r,n)&&(r=n=void 0),t=Jh(t),r===void 0?(r=t,t=0):r=Jh(r),n=n===void 0?t<r?1:-1:Jh(n),xne(t,r,n,e)}}var jne=bne,wne=jne,Nne=wne(),Sne=Nne;const Od=xt(Sne);function ol(e){"@babel/helpers - typeof";return ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ol(e)}function tw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function rw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tw(Object(r),!0).forEach(function(n){zP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zP(e,t,r){return t=Ane(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ane(e){var t=One(e,"string");return ol(t)=="symbol"?t:t+""}function One(e,t){if(ol(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ol(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _ne=["Webkit","Moz","O","ms"],Pne=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),s=_ne.reduce(function(i,o){return rw(rw({},i),{},zP({},o+n,r))},{});return s[t]=r,s};function Ki(e){"@babel/helpers - typeof";return Ki=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ki(e)}function _d(){return _d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_d.apply(this,arguments)}function nw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Qh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nw(Object(r),!0).forEach(function(n){Cr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,WP(n.key),n)}}function Tne(e,t,r){return t&&aw(e.prototype,t),r&&aw(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cne(e,t,r){return t=Pd(t),Ene(e,UP()?Reflect.construct(t,r||[],Pd(e).constructor):t.apply(e,r))}function Ene(e,t){if(t&&(Ki(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $ne(e)}function $ne(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UP=function(){return!!e})()}function Pd(e){return Pd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pd(e)}function Dne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zp(e,t)}function zp(e,t){return zp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},zp(e,t)}function Cr(e,t,r){return t=WP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WP(e){var t=Ine(e,"string");return Ki(t)=="symbol"?t:t+""}function Ine(e,t){if(Ki(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ki(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Mne=function(t){var r=t.data,n=t.startIndex,s=t.endIndex,i=t.x,o=t.width,c=t.travellerWidth;if(!r||!r.length)return{};var l=r.length,u=ic().domain(Od(0,l)).range([i,i+o-c]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(s),scale:u,scaleValues:d}},sw=function(t){return t.changedTouches&&!!t.changedTouches.length},Gi=function(e){function t(r){var n;return kne(this,t),n=Cne(this,t,[r]),Cr(n,"handleDrag",function(s){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(s):n.state.isSlideMoving&&n.handleSlideDrag(s)}),Cr(n,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&n.handleDrag(s.changedTouches[0])}),Cr(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=n.props,i=s.endIndex,o=s.onDragEnd,c=s.startIndex;o==null||o({endIndex:i,startIndex:c})}),n.detachDragEndListener()}),Cr(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Cr(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Cr(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Cr(n,"handleSlideDragStart",function(s){var i=sw(s)?s.changedTouches[0]:s;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Dne(t,e),Tne(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var s=n.startX,i=n.endX,o=this.state.scaleValues,c=this.props,l=c.gap,u=c.data,d=u.length-1,f=Math.min(s,i),h=Math.max(s,i),p=t.getIndexInRange(o,f),g=t.getIndexInRange(o,h);return{startIndex:p-p%l,endIndex:g===d?d:g-g%l}}},{key:"getTextOfTick",value:function(n){var s=this.props,i=s.data,o=s.tickFormatter,c=s.dataKey,l=Rt(i[n],c,n);return We(o)?o(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var s=this.state,i=s.slideMoveStartX,o=s.startX,c=s.endX,l=this.props,u=l.x,d=l.width,f=l.travellerWidth,h=l.startIndex,p=l.endIndex,g=l.onChange,m=n.pageX-i;m>0?m=Math.min(m,u+d-f-c,u+d-f-o):m<0&&(m=Math.max(m,u-o,u-c));var x=this.getIndex({startX:o+m,endX:c+m});(x.startIndex!==h||x.endIndex!==p)&&g&&g(x),this.setState({startX:o+m,endX:c+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,s){var i=sw(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var s=this.state,i=s.brushMoveStartX,o=s.movingTravellerId,c=s.endX,l=s.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,g=d.onChange,m=d.gap,x=d.data,b={startX:this.state.startX,endX:this.state.endX},y=n.pageX-i;y>0?y=Math.min(y,f+h-p-u):y<0&&(y=Math.max(y,f-u)),b[o]=u+y;var w=this.getIndex(b),S=w.startIndex,N=w.endIndex,j=function(){var O=x.length-1;return o==="startX"&&(c>l?S%m===0:N%m===0)||c<l&&N===O||o==="endX"&&(c>l?N%m===0:S%m===0)||c>l&&N===O};this.setState(Cr(Cr({},o,u+y),"brushMoveStartX",n.pageX),function(){g&&j()&&g(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,s){var i=this,o=this.state,c=o.scaleValues,l=o.startX,u=o.endX,d=this.state[s],f=c.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=c.length)){var p=c[h];s==="startX"&&p>=u||s==="endX"&&p<=l||this.setState(Cr({},s,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,c=n.height,l=n.fill,u=n.stroke;return D.createElement("rect",{stroke:u,fill:l,x:s,y:i,width:o,height:c})}},{key:"renderPanorama",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,c=n.height,l=n.data,u=n.children,d=n.padding,f=v.Children.only(u);return f?D.cloneElement(f,{x:s,y:i,width:o,height:c,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,s){var i,o,c=this,l=this.props,u=l.y,d=l.travellerWidth,f=l.height,h=l.traveller,p=l.ariaLabel,g=l.data,m=l.startIndex,x=l.endIndex,b=Math.max(n,this.props.x),y=Qh(Qh({},Fe(this.props,!1)),{},{x:b,y:u,width:d,height:f}),w=p||"Min value: ".concat((i=g[m])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=g[x])===null||o===void 0?void 0:o.name);return D.createElement(st,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(N){["ArrowLeft","ArrowRight"].includes(N.key)&&(N.preventDefault(),N.stopPropagation(),c.handleTravellerMoveKeyboard(N.key==="ArrowRight"?1:-1,s))},onFocus:function(){c.setState({isTravellerFocused:!0})},onBlur:function(){c.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,y))}},{key:"renderSlide",value:function(n,s){var i=this.props,o=i.y,c=i.height,l=i.stroke,u=i.travellerWidth,d=Math.min(n,s)+u,f=Math.max(Math.abs(s-n)-u,0);return D.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:o,width:f,height:c})}},{key:"renderText",value:function(){var n=this.props,s=n.startIndex,i=n.endIndex,o=n.y,c=n.height,l=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,p=5,g={pointerEvents:"none",fill:u};return D.createElement(st,{className:"recharts-brush-texts"},D.createElement(Fs,_d({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:o+c/2},g),this.getTextOfTick(s)),D.createElement(Fs,_d({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+p,y:o+c/2},g),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,s=n.data,i=n.className,o=n.children,c=n.x,l=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,g=h.endX,m=h.isTextActive,x=h.isSlideMoving,b=h.isTravellerMoving,y=h.isTravellerFocused;if(!s||!s.length||!ve(c)||!ve(l)||!ve(u)||!ve(d)||u<=0||d<=0)return null;var w=Ge("recharts-brush",i),S=D.Children.count(o)===1,N=Pne("userSelect","none");return D.createElement(st,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(p,g),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(g,"endX"),(m||x||b||y||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var s=n.x,i=n.y,o=n.width,c=n.height,l=n.stroke,u=Math.floor(i+c/2)-1;return D.createElement(D.Fragment,null,D.createElement("rect",{x:s,y:i,width:o,height:c,fill:l,stroke:"none"}),D.createElement("line",{x1:s+1,y1:u,x2:s+o-1,y2:u,fill:"none",stroke:"#fff"}),D.createElement("line",{x1:s+1,y1:u+2,x2:s+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,s){var i;return D.isValidElement(n)?i=D.cloneElement(n,s):We(n)?i=n(s):i=t.renderDefaultTraveller(s),i}},{key:"getDerivedStateFromProps",value:function(n,s){var i=n.data,o=n.width,c=n.x,l=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==s.prevData||u!==s.prevUpdateId)return Qh({prevData:i,prevTravellerWidth:l,prevUpdateId:u,prevX:c,prevWidth:o},i&&i.length?Mne({data:i,width:o,x:c,travellerWidth:l,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(s.scale&&(o!==s.prevWidth||c!==s.prevX||l!==s.prevTravellerWidth)){s.scale.range([c,c+o-l]);var h=s.scale.domain().map(function(p){return s.scale(p)});return{prevData:i,prevTravellerWidth:l,prevUpdateId:u,prevX:c,prevWidth:o,startX:s.scale(n.startIndex),endX:s.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,s){for(var i=n.length,o=0,c=i-1;c-o>1;){var l=Math.floor((o+c)/2);n[l]>s?c=l:o=l}return s>=n[c]?c:o}}])}(v.PureComponent);Cr(Gi,"displayName","Brush");Cr(Gi,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Rne=mv;function Lne(e,t){var r;return Rne(e,function(n,s,i){return r=t(n,s,i),!r}),!!r}var Fne=Lne,Bne=EO,Vne=Gn,zne=Fne,Une=kr,Wne=Mf;function Hne(e,t,r){var n=Une(e)?Bne:zne;return r&&Wne(e,t,r)&&(t=void 0),n(e,Vne(t))}var qne=Hne;const Kne=xt(qne);var Ln=function(t,r){var n=t.alwaysShow,s=t.ifOverflow;return n&&(s="extendDomain"),s===r},iw=e_;function Gne(e,t,r){t=="__proto__"&&iw?iw(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var Zne=Gne,Xne=Zne,Yne=JO,Jne=Gn;function Qne(e,t){var r={};return t=Jne(t),Yne(e,function(n,s,i){Xne(r,s,t(n,s,i))}),r}var eae=Qne;const tae=xt(eae);function rae(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var nae=rae,aae=mv;function sae(e,t){var r=!0;return aae(e,function(n,s,i){return r=!!t(n,s,i),r}),r}var iae=sae,oae=nae,cae=iae,lae=Gn,uae=kr,dae=Mf;function fae(e,t,r){var n=uae(e)?oae:cae;return r&&dae(e,t,r)&&(t=void 0),n(e,lae(t))}var hae=fae;const HP=xt(hae);var mae=["x","y"];function cl(e){"@babel/helpers - typeof";return cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cl(e)}function Up(){return Up=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Up.apply(this,arguments)}function ow(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Go(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ow(Object(r),!0).forEach(function(n){pae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ow(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pae(e,t,r){return t=gae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gae(e){var t=vae(e,"string");return cl(t)=="symbol"?t:t+""}function vae(e,t){if(cl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xae(e,t){if(e==null)return{};var r=yae(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yae(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function bae(e,t){var r=e.x,n=e.y,s=xae(e,mae),i="".concat(r),o=parseInt(i,10),c="".concat(n),l=parseInt(c,10),u="".concat(t.height||s.height),d=parseInt(u,10),f="".concat(t.width||s.width),h=parseInt(f,10);return Go(Go(Go(Go(Go({},t),s),o?{x:o}:{}),l?{y:l}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function cw(e){return D.createElement(LP,Up({shapeType:"rectangle",propTransformer:bae,activeClassName:"recharts-active-bar"},e))}var jae=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,s){if(typeof t=="number")return t;var i=ve(n)||K6(n);return i?t(n,s):(i||zs(),r)}},wae=["value","background"],qP;function Zi(e){"@babel/helpers - typeof";return Zi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zi(e)}function Nae(e,t){if(e==null)return{};var r=Sae(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Sae(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function kd(){return kd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kd.apply(this,arguments)}function lw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function zt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lw(Object(r),!0).forEach(function(n){Ia(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Aae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,GP(n.key),n)}}function Oae(e,t,r){return t&&uw(e.prototype,t),r&&uw(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _ae(e,t,r){return t=Td(t),Pae(e,KP()?Reflect.construct(t,r||[],Td(e).constructor):t.apply(e,r))}function Pae(e,t){if(t&&(Zi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kae(e)}function kae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KP=function(){return!!e})()}function Td(e){return Td=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Td(e)}function Tae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wp(e,t)}function Wp(e,t){return Wp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Wp(e,t)}function Ia(e,t,r){return t=GP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GP(e){var t=Cae(e,"string");return Zi(t)=="symbol"?t:t+""}function Cae(e,t){if(Zi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ka=function(e){function t(){var r;Aae(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=_ae(this,t,[].concat(s)),Ia(r,"state",{isAnimationFinished:!1}),Ia(r,"id",Xs("recharts-bar-")),Ia(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Ia(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return Tae(t,e),Oae(t,[{key:"renderRectanglesStatically",value:function(n){var s=this,i=this.props,o=i.shape,c=i.dataKey,l=i.activeIndex,u=i.activeBar,d=Fe(this.props,!1);return n&&n.map(function(f,h){var p=h===l,g=p?u:o,m=zt(zt(zt({},d),f),{},{isActive:p,option:g,index:h,dataKey:c,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return D.createElement(st,kd({className:"recharts-bar-rectangle"},Ls(s.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),D.createElement(cw,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,s=this.props,i=s.data,o=s.layout,c=s.isAnimationActive,l=s.animationBegin,u=s.animationDuration,d=s.animationEasing,f=s.animationId,h=this.state.prevData;return D.createElement(jn,{begin:l,duration:u,isActive:c,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var g=p.t,m=i.map(function(x,b){var y=h&&h[b];if(y){var w=Zt(y.x,x.x),S=Zt(y.y,x.y),N=Zt(y.width,x.width),j=Zt(y.height,x.height);return zt(zt({},x),{},{x:w(g),y:S(g),width:N(g),height:j(g)})}if(o==="horizontal"){var A=Zt(0,x.height),O=A(g);return zt(zt({},x),{},{y:x.y+x.height-O,height:O})}var P=Zt(0,x.width),T=P(g);return zt(zt({},x),{},{width:T})});return D.createElement(st,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,s=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&s&&s.length&&(!o||!Bs(o,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var n=this,s=this.props,i=s.data,o=s.dataKey,c=s.activeIndex,l=Fe(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,h=Nae(u,wae);if(!f)return null;var p=zt(zt(zt(zt(zt({},h),{},{fill:"#eee"},f),l),Ls(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return D.createElement(cw,kd({key:"background-bar-".concat(d),option:n.props.background,isActive:d===c},p))})}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,c=i.xAxis,l=i.yAxis,u=i.layout,d=i.children,f=Vr(d,_l);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,p=function(x,b){var y=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:y,errorVal:Rt(x,b)}},g={clipPath:n?"url(#clipPath-".concat(s,")"):null};return D.createElement(st,g,f.map(function(m){return D.cloneElement(m,{key:"error-bar-".concat(s,"-").concat(m.props.dataKey),data:o,xAxis:c,yAxis:l,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,s=n.hide,i=n.data,o=n.className,c=n.xAxis,l=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,p=n.isAnimationActive,g=n.background,m=n.id;if(s||!i||!i.length)return null;var x=this.state.isAnimationFinished,b=Ge("recharts-bar",o),y=c&&c.allowDataOverflow,w=l&&l.allowDataOverflow,S=y||w,N=Ke(m)?this.id:m;return D.createElement(st,{className:b},y||w?D.createElement("defs",null,D.createElement("clipPath",{id:"clipPath-".concat(N)},D.createElement("rect",{x:y?u:u-f/2,y:w?d:d-h/2,width:y?f:f*2,height:w?h:h*2}))):null,D.createElement(st,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(N,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,N),(!p||x)&&Rn.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:s.curData}:n.data!==s.curData?{curData:n.data}:null}}])}(v.PureComponent);qP=Ka;Ia(Ka,"displayName","Bar");Ia(Ka,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ja.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ia(Ka,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,s=e.bandSize,i=e.xAxis,o=e.yAxis,c=e.xAxisTicks,l=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=dJ(n,r);if(!p)return null;var g=t.layout,m=r.type.defaultProps,x=m!==void 0?zt(zt({},m),r.props):r.props,b=x.dataKey,y=x.children,w=x.minPointSize,S=g==="horizontal"?o:i,N=u?S.scale.domain():null,j=xJ({numericAxis:S}),A=Vr(y,Mc),O=f.map(function(P,T){var _,k,E,C,I,F;u?_=fJ(u[d+T],N):(_=Rt(P,b),Array.isArray(_)||(_=[j,_]));var $=jae(w,qP.defaultProps.minPointSize)(_[1],T);if(g==="horizontal"){var q,M=[o.scale(_[0]),o.scale(_[1])],J=M[0],V=M[1];k=Q0({axis:i,ticks:c,bandSize:s,offset:p.offset,entry:P,index:T}),E=(q=V??J)!==null&&q!==void 0?q:void 0,C=p.size;var z=J-V;if(I=Number.isNaN(z)?0:z,F={x:k,y:o.y,width:C,height:o.height},Math.abs($)>0&&Math.abs(I)<Math.abs($)){var B=xr(I||$)*(Math.abs($)-Math.abs(I));E-=B,I+=B}}else{var G=[i.scale(_[0]),i.scale(_[1])],ce=G[0],we=G[1];if(k=ce,E=Q0({axis:o,ticks:l,bandSize:s,offset:p.offset,entry:P,index:T}),C=we-ce,I=p.size,F={x:i.x,y:E,width:i.width,height:I},Math.abs($)>0&&Math.abs(C)<Math.abs($)){var pe=xr(C||$)*(Math.abs($)-Math.abs(C));C+=pe}}return zt(zt(zt({},P),{},{x:k,y:E,width:C,height:I,value:u?_:_[1],payload:P,background:F},A&&A[T]&&A[T].props),{},{tooltipPayload:[gP(r,P)],tooltipPosition:{x:k+C/2,y:E+I/2}})});return zt({data:O,layout:g},h)});function ll(e){"@babel/helpers - typeof";return ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ll(e)}function Eae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ZP(n.key),n)}}function $ae(e,t,r){return t&&dw(e.prototype,t),r&&dw(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function fw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function dn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fw(Object(r),!0).forEach(function(n){Qf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qf(e,t,r){return t=ZP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZP(e){var t=Dae(e,"string");return ll(t)=="symbol"?t:t+""}function Dae(e,t){if(ll(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ll(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Uv=function(t,r,n,s,i){var o=t.width,c=t.height,l=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:c-n.bottom,bottomMirror:c-n.bottom},h=!!$r(u,Ka);return d.reduce(function(p,g){var m=r[g],x=m.orientation,b=m.domain,y=m.padding,w=y===void 0?{}:y,S=m.mirror,N=m.reversed,j="".concat(x).concat(S?"Mirror":""),A,O,P,T,_;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var k=b[1]-b[0],E=1/0,C=m.categoricalDomain.sort(X6);if(C.forEach(function(G,ce){ce>0&&(E=Math.min((G||0)-(C[ce-1]||0),E))}),Number.isFinite(E)){var I=E/k,F=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(A=I*F/2),m.padding==="no-gap"){var $=yr(t.barCategoryGap,I*F),q=I*F/2;A=q-$-(q-$)/F*$}}}s==="xAxis"?O=[n.left+(w.left||0)+(A||0),n.left+n.width-(w.right||0)-(A||0)]:s==="yAxis"?O=l==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(A||0),n.top+n.height-(w.bottom||0)-(A||0)]:O=m.range,N&&(O=[O[1],O[0]]);var M=fP(m,i,h),J=M.scale,V=M.realScaleType;J.domain(b).range(O),hP(J);var z=mP(J,dn(dn({},m),{},{realScaleType:V}));s==="xAxis"?(_=x==="top"&&!S||x==="bottom"&&S,P=n.left,T=f[j]-_*m.height):s==="yAxis"&&(_=x==="left"&&!S||x==="right"&&S,P=f[j]-_*m.width,T=n.top);var B=dn(dn(dn({},m),z),{},{realScaleType:V,x:P,y:T,scale:J,width:s==="xAxis"?n.width:m.width,height:s==="yAxis"?n.height:m.height});return B.bandSize=md(B,z),!m.hide&&s==="xAxis"?f[j]+=(_?-1:1)*B.height:m.hide||(f[j]+=(_?-1:1)*B.width),dn(dn({},p),{},Qf({},g,B))},{})},XP=function(t,r){var n=t.x,s=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(s,o),width:Math.abs(i-n),height:Math.abs(o-s)}},Iae=function(t){var r=t.x1,n=t.y1,s=t.x2,i=t.y2;return XP({x:r,y:n},{x:s,y:i})},YP=function(){function e(t){Eae(this,e),this.scale=t}return $ae(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var c=this.bandwidth?this.bandwidth():0;return this.scale(r)+c}default:return this.scale(r)}if(s){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),s=n[0],i=n[n.length-1];return s<=i?r>=s&&r<=i:r>=i&&r<=s}}],[{key:"create",value:function(r){return new e(r)}}])}();Qf(YP,"EPS",1e-4);var Wv=function(t){var r=Object.keys(t).reduce(function(n,s){return dn(dn({},n),{},Qf({},s,YP.create(t[s])))},{});return dn(dn({},r),{},{apply:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,c=i.position;return tae(s,function(l,u){return r[u].apply(l,{bandAware:o,position:c})})},isInRange:function(s){return HP(s,function(i,o){return r[o].isInRange(i)})}})};function Mae(e){return(e%180+180)%180}var Rae=function(t){var r=t.width,n=t.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Mae(s),o=i*Math.PI/180,c=Math.atan(n/r),l=o>c&&o<Math.PI-c?n/Math.sin(o):r/Math.cos(o);return Math.abs(l)},Lae=Gn,Fae=wl,Bae=Df;function Vae(e){return function(t,r,n){var s=Object(t);if(!Fae(t)){var i=Lae(r);t=Bae(t),r=function(c){return i(s[c],c,s)}}var o=e(t,r,n);return o>-1?s[i?t[o]:o]:void 0}}var zae=Vae,Uae=VP;function Wae(e){var t=Uae(e),r=t%1;return t===t?r?t-r:t:0}var Hae=Wae,qae=qO,Kae=Gn,Gae=Hae,Zae=Math.max;function Xae(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var s=r==null?0:Gae(r);return s<0&&(s=Zae(n+s,0)),qae(e,Kae(t),s)}var Yae=Xae,Jae=zae,Qae=Yae,ese=Jae(Qae),tse=ese;const rse=xt(tse);var nse=Q5(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),Hv=v.createContext(void 0),qv=v.createContext(void 0),JP=v.createContext(void 0),QP=v.createContext({}),e2=v.createContext(void 0),t2=v.createContext(0),r2=v.createContext(0),hw=function(t){var r=t.state,n=r.xAxisMap,s=r.yAxisMap,i=r.offset,o=t.clipPathId,c=t.children,l=t.width,u=t.height,d=nse(i);return D.createElement(Hv.Provider,{value:n},D.createElement(qv.Provider,{value:s},D.createElement(QP.Provider,{value:i},D.createElement(JP.Provider,{value:d},D.createElement(e2.Provider,{value:o},D.createElement(t2.Provider,{value:u},D.createElement(r2.Provider,{value:l},c)))))))},ase=function(){return v.useContext(e2)},n2=function(t){var r=v.useContext(Hv);r==null&&zs();var n=r[t];return n==null&&zs(),n},sse=function(){var t=v.useContext(Hv);return Ea(t)},ise=function(){var t=v.useContext(qv),r=rse(t,function(n){return HP(n.domain,Number.isFinite)});return r||Ea(t)},a2=function(t){var r=v.useContext(qv);r==null&&zs();var n=r[t];return n==null&&zs(),n},ose=function(){var t=v.useContext(JP);return t},cse=function(){return v.useContext(QP)},Kv=function(){return v.useContext(r2)},Gv=function(){return v.useContext(t2)};function Xi(e){"@babel/helpers - typeof";return Xi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xi(e)}function lse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function use(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i2(n.key),n)}}function dse(e,t,r){return t&&use(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function fse(e,t,r){return t=Cd(t),hse(e,s2()?Reflect.construct(t,r||[],Cd(e).constructor):t.apply(e,r))}function hse(e,t){if(t&&(Xi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mse(e)}function mse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s2=function(){return!!e})()}function Cd(e){return Cd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cd(e)}function pse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hp(e,t)}function Hp(e,t){return Hp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Hp(e,t)}function mw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function pw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mw(Object(r),!0).forEach(function(n){Zv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zv(e,t,r){return t=i2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i2(e){var t=gse(e,"string");return Xi(t)=="symbol"?t:t+""}function gse(e,t){if(Xi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function vse(e,t){return jse(e)||bse(e,t)||yse(e,t)||xse()}function xse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yse(e,t){if(e){if(typeof e=="string")return gw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gw(e,t)}}function gw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bse(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(d){u=!0,s=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return c}}function jse(e){if(Array.isArray(e))return e}function qp(){return qp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qp.apply(this,arguments)}var wse=function(t,r){var n;return D.isValidElement(t)?n=D.cloneElement(t,r):We(t)?n=t(r):n=D.createElement("line",qp({},r,{className:"recharts-reference-line-line"})),n},Nse=function(t,r,n,s,i,o,c,l,u){var d=i.x,f=i.y,h=i.width,p=i.height;if(n){var g=u.y,m=t.y.apply(g,{position:o});if(Ln(u,"discard")&&!t.y.isInRange(m))return null;var x=[{x:d+h,y:m},{x:d,y:m}];return l==="left"?x.reverse():x}if(r){var b=u.x,y=t.x.apply(b,{position:o});if(Ln(u,"discard")&&!t.x.isInRange(y))return null;var w=[{x:y,y:f+p},{x:y,y:f}];return c==="top"?w.reverse():w}if(s){var S=u.segment,N=S.map(function(j){return t.apply(j,{position:o})});return Ln(u,"discard")&&Kne(N,function(j){return!t.isInRange(j)})?null:N}return null};function Sse(e){var t=e.x,r=e.y,n=e.segment,s=e.xAxisId,i=e.yAxisId,o=e.shape,c=e.className,l=e.alwaysShow,u=ase(),d=n2(s),f=a2(i),h=ose();if(!u||!h)return null;vn(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=Wv({x:d.scale,y:f.scale}),g=Xt(t),m=Xt(r),x=n&&n.length===2,b=Nse(p,g,m,x,h,e.position,d.orientation,f.orientation,e);if(!b)return null;var y=vse(b,2),w=y[0],S=w.x,N=w.y,j=y[1],A=j.x,O=j.y,P=Ln(e,"hidden")?"url(#".concat(u,")"):void 0,T=pw(pw({clipPath:P},Fe(e,!0)),{},{x1:S,y1:N,x2:A,y2:O});return D.createElement(st,{className:Ge("recharts-reference-line",c)},wse(o,T),tr.renderCallByParent(e,Iae({x1:S,y1:N,x2:A,y2:O})))}var Xv=function(e){function t(){return lse(this,t),fse(this,t,arguments)}return pse(t,e),dse(t,[{key:"render",value:function(){return D.createElement(Sse,this.props)}}])}(D.Component);Zv(Xv,"displayName","ReferenceLine");Zv(Xv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Kp(){return Kp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kp.apply(this,arguments)}function Yi(e){"@babel/helpers - typeof";return Yi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yi(e)}function vw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function xw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vw(Object(r),!0).forEach(function(n){eh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ase(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ose(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c2(n.key),n)}}function _se(e,t,r){return t&&Ose(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Pse(e,t,r){return t=Ed(t),kse(e,o2()?Reflect.construct(t,r||[],Ed(e).constructor):t.apply(e,r))}function kse(e,t){if(t&&(Yi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tse(e)}function Tse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(o2=function(){return!!e})()}function Ed(e){return Ed=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ed(e)}function Cse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gp(e,t)}function Gp(e,t){return Gp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Gp(e,t)}function eh(e,t,r){return t=c2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c2(e){var t=Ese(e,"string");return Yi(t)=="symbol"?t:t+""}function Ese(e,t){if(Yi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var $se=function(t){var r=t.x,n=t.y,s=t.xAxis,i=t.yAxis,o=Wv({x:s.scale,y:i.scale}),c=o.apply({x:r,y:n},{bandAware:!0});return Ln(t,"discard")&&!o.isInRange(c)?null:c},th=function(e){function t(){return Ase(this,t),Pse(this,t,arguments)}return Cse(t,e),_se(t,[{key:"render",value:function(){var n=this.props,s=n.x,i=n.y,o=n.r,c=n.alwaysShow,l=n.clipPathId,u=Xt(s),d=Xt(i);if(vn(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=$se(this.props);if(!f)return null;var h=f.x,p=f.y,g=this.props,m=g.shape,x=g.className,b=Ln(this.props,"hidden")?"url(#".concat(l,")"):void 0,y=xw(xw({clipPath:b},Fe(this.props,!0)),{},{cx:h,cy:p});return D.createElement(st,{className:Ge("recharts-reference-dot",x)},t.renderDot(m,y),tr.renderCallByParent(this.props,{x:h-o,y:p-o,width:2*o,height:2*o}))}}])}(D.Component);eh(th,"displayName","ReferenceDot");eh(th,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});eh(th,"renderDot",function(e,t){var r;return D.isValidElement(e)?r=D.cloneElement(e,t):We(e)?r=e(t):r=D.createElement(Pl,Kp({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function Zp(){return Zp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zp.apply(this,arguments)}function Ji(e){"@babel/helpers - typeof";return Ji=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ji(e)}function yw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function bw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yw(Object(r),!0).forEach(function(n){rh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ise(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u2(n.key),n)}}function Mse(e,t,r){return t&&Ise(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Rse(e,t,r){return t=$d(t),Lse(e,l2()?Reflect.construct(t,r||[],$d(e).constructor):t.apply(e,r))}function Lse(e,t){if(t&&(Ji(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fse(e)}function Fse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l2=function(){return!!e})()}function $d(e){return $d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$d(e)}function Bse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xp(e,t)}function Xp(e,t){return Xp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Xp(e,t)}function rh(e,t,r){return t=u2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u2(e){var t=Vse(e,"string");return Ji(t)=="symbol"?t:t+""}function Vse(e,t){if(Ji(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ji(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var zse=function(t,r,n,s,i){var o=i.x1,c=i.x2,l=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var h=Wv({x:d.scale,y:f.scale}),p={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(c,{position:"end"}):h.x.rangeMax,y:s?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Ln(i,"discard")&&(!h.isInRange(p)||!h.isInRange(g))?null:XP(p,g)},nh=function(e){function t(){return Dse(this,t),Rse(this,t,arguments)}return Bse(t,e),Mse(t,[{key:"render",value:function(){var n=this.props,s=n.x1,i=n.x2,o=n.y1,c=n.y2,l=n.className,u=n.alwaysShow,d=n.clipPathId;vn(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Xt(s),h=Xt(i),p=Xt(o),g=Xt(c),m=this.props.shape;if(!f&&!h&&!p&&!g&&!m)return null;var x=zse(f,h,p,g,this.props);if(!x&&!m)return null;var b=Ln(this.props,"hidden")?"url(#".concat(d,")"):void 0;return D.createElement(st,{className:Ge("recharts-reference-area",l)},t.renderRect(m,bw(bw({clipPath:b},Fe(this.props,!0)),x)),tr.renderCallByParent(this.props,x))}}])}(D.Component);rh(nh,"displayName","ReferenceArea");rh(nh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});rh(nh,"renderRect",function(e,t){var r;return D.isValidElement(e)?r=D.cloneElement(e,t):We(e)?r=e(t):r=D.createElement(zv,Zp({},t,{className:"recharts-reference-area-rect"})),r});function d2(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],s=0;s<e.length;s+=t)n.push(e[s]);return n}function Use(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Rae(n,r)}function Wse(e,t,r){var n=r==="width",s=e.x,i=e.y,o=e.width,c=e.height;return t===1?{start:n?s:i,end:n?s+o:i+c}:{start:n?s+o:i+c,end:n?s:i}}function Dd(e,t,r,n,s){if(e*t<e*n||e*t>e*s)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-s)<=0}function Hse(e,t){return d2(e,t+1)}function qse(e,t,r,n,s){for(var i=(n||[]).slice(),o=t.start,c=t.end,l=0,u=1,d=o,f=function(){var g=n==null?void 0:n[l];if(g===void 0)return{v:d2(n,u)};var m=l,x,b=function(){return x===void 0&&(x=r(g,m)),x},y=g.coordinate,w=l===0||Dd(e,y,b,d,c);w||(l=0,d=o,u+=1),w&&(d=y+e*(b()/2+s),l+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function ul(e){"@babel/helpers - typeof";return ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ul(e)}function jw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ur(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jw(Object(r),!0).forEach(function(n){Kse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kse(e,t,r){return t=Gse(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gse(e){var t=Zse(e,"string");return ul(t)=="symbol"?t:t+""}function Zse(e,t){if(ul(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ul(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xse(e,t,r,n,s){for(var i=(n||[]).slice(),o=i.length,c=t.start,l=t.end,u=function(h){var p=i[h],g,m=function(){return g===void 0&&(g=r(p,h)),g};if(h===o-1){var x=e*(p.coordinate+e*m()/2-l);i[h]=p=ur(ur({},p),{},{tickCoord:x>0?p.coordinate-x*e:p.coordinate})}else i[h]=p=ur(ur({},p),{},{tickCoord:p.coordinate});var b=Dd(e,p.tickCoord,m,c,l);b&&(l=p.tickCoord-e*(m()/2+s),i[h]=ur(ur({},p),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function Yse(e,t,r,n,s,i){var o=(n||[]).slice(),c=o.length,l=t.start,u=t.end;if(i){var d=n[c-1],f=r(d,c-1),h=e*(d.coordinate+e*f/2-u);o[c-1]=d=ur(ur({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var p=Dd(e,d.tickCoord,function(){return f},l,u);p&&(u=d.tickCoord-e*(f/2+s),o[c-1]=ur(ur({},d),{},{isShow:!0}))}for(var g=i?c-1:c,m=function(y){var w=o[y],S,N=function(){return S===void 0&&(S=r(w,y)),S};if(y===0){var j=e*(w.coordinate-e*N()/2-l);o[y]=w=ur(ur({},w),{},{tickCoord:j<0?w.coordinate-j*e:w.coordinate})}else o[y]=w=ur(ur({},w),{},{tickCoord:w.coordinate});var A=Dd(e,w.tickCoord,N,l,u);A&&(l=w.tickCoord+e*(N()/2+s),o[y]=ur(ur({},w),{},{isShow:!0}))},x=0;x<g;x++)m(x);return o}function Yv(e,t,r){var n=e.tick,s=e.ticks,i=e.viewBox,o=e.minTickGap,c=e.orientation,l=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!s||!s.length||!n)return[];if(ve(l)||Ja.isSsr)return Hse(s,typeof l=="number"&&ve(l)?l:0);var h=[],p=c==="top"||c==="bottom"?"width":"height",g=d&&p==="width"?sc(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(w,S){var N=We(u)?u(w.value,S):w.value;return p==="width"?Use(sc(N,{fontSize:t,letterSpacing:r}),g,f):sc(N,{fontSize:t,letterSpacing:r})[p]},x=s.length>=2?xr(s[1].coordinate-s[0].coordinate):1,b=Wse(i,x,p);return l==="equidistantPreserveStart"?qse(x,b,m,s,o):(l==="preserveStart"||l==="preserveStartEnd"?h=Yse(x,b,m,s,o,l==="preserveStartEnd"):h=Xse(x,b,m,s,o),h.filter(function(y){return y.isShow}))}var Jse=["viewBox"],Qse=["viewBox"],eie=["ticks"];function Qi(e){"@babel/helpers - typeof";return Qi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qi(e)}function gi(){return gi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gi.apply(this,arguments)}function ww(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function qt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ww(Object(r),!0).forEach(function(n){Jv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ww(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function em(e,t){if(e==null)return{};var r=tie(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function tie(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function rie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,h2(n.key),n)}}function nie(e,t,r){return t&&Nw(e.prototype,t),r&&Nw(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function aie(e,t,r){return t=Id(t),sie(e,f2()?Reflect.construct(t,r||[],Id(e).constructor):t.apply(e,r))}function sie(e,t){if(t&&(Qi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iie(e)}function iie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f2=function(){return!!e})()}function Id(e){return Id=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Id(e)}function oie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yp(e,t)}function Yp(e,t){return Yp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Yp(e,t)}function Jv(e,t,r){return t=h2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h2(e){var t=cie(e,"string");return Qi(t)=="symbol"?t:t+""}function cie(e,t){if(Qi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ko=function(e){function t(r){var n;return rie(this,t),n=aie(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return oie(t,e),nie(t,[{key:"shouldComponentUpdate",value:function(n,s){var i=n.viewBox,o=em(n,Jse),c=this.props,l=c.viewBox,u=em(c,Qse);return!_i(i,l)||!_i(o,u)||!_i(s,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var s=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var s=this.props,i=s.x,o=s.y,c=s.width,l=s.height,u=s.orientation,d=s.tickSize,f=s.mirror,h=s.tickMargin,p,g,m,x,b,y,w=f?-1:1,S=n.tickSize||d,N=ve(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=g=n.coordinate,x=o+ +!f*l,m=x-w*S,y=m-w*h,b=N;break;case"left":m=x=n.coordinate,g=i+ +!f*c,p=g-w*S,b=p-w*h,y=N;break;case"right":m=x=n.coordinate,g=i+ +f*c,p=g+w*S,b=p+w*h,y=N;break;default:p=g=n.coordinate,x=o+ +f*l,m=x+w*S,y=m+w*h,b=N;break}return{line:{x1:p,y1:m,x2:g,y2:x},tick:{x:b,y}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o;switch(s){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o="end";switch(s){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,c=n.height,l=n.orientation,u=n.mirror,d=n.axisLine,f=qt(qt(qt({},Fe(this.props,!1)),Fe(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);f=qt(qt({},f),{},{x1:s,y1:i+h*c,x2:s+o,y2:i+h*c})}else{var p=+(l==="left"&&!u||l==="right"&&u);f=qt(qt({},f),{},{x1:s+p*o,y1:i,x2:s+p*o,y2:i+c})}return D.createElement("line",gi({},f,{className:Ge("recharts-cartesian-axis-line",Br(d,"className"))}))}},{key:"renderTicks",value:function(n,s,i){var o=this,c=this.props,l=c.tickLine,u=c.stroke,d=c.tick,f=c.tickFormatter,h=c.unit,p=Yv(qt(qt({},this.props),{},{ticks:n}),s,i),g=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),x=Fe(this.props,!1),b=Fe(d,!1),y=qt(qt({},x),{},{fill:"none"},Fe(l,!1)),w=p.map(function(S,N){var j=o.getTickLineCoord(S),A=j.line,O=j.tick,P=qt(qt(qt(qt({textAnchor:g,verticalAnchor:m},x),{},{stroke:"none",fill:u},b),O),{},{index:N,payload:S,visibleTicksCount:p.length,tickFormatter:f});return D.createElement(st,gi({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},Ls(o.props,S,N)),l&&D.createElement("line",gi({},y,A,{className:Ge("recharts-cartesian-axis-tick-line",Br(l,"className"))})),d&&t.renderTickItem(d,P,"".concat(We(f)?f(S.value,N):S.value).concat(h||"")))});return D.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,s=this.props,i=s.axisLine,o=s.width,c=s.height,l=s.ticksGenerator,u=s.className,d=s.hide;if(d)return null;var f=this.props,h=f.ticks,p=em(f,eie),g=h;return We(l)&&(g=h&&h.length>0?l(this.props):l(p)),o<=0||c<=0||!g||!g.length?null:D.createElement(st,{className:Ge("recharts-cartesian-axis",u),ref:function(x){n.layerReference=x}},i&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),tr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,s,i){var o,c=Ge(s.className,"recharts-cartesian-axis-tick-value");return D.isValidElement(n)?o=D.cloneElement(n,qt(qt({},s),{},{className:c})):We(n)?o=n(qt(qt({},s),{},{className:c})):o=D.createElement(Fs,gi({},s,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(v.Component);Jv(ko,"displayName","CartesianAxis");Jv(ko,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var lie=["x1","y1","x2","y2","key"],uie=["offset"];function Us(e){"@babel/helpers - typeof";return Us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Us(e)}function Sw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function fr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sw(Object(r),!0).forEach(function(n){die(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function die(e,t,r){return t=fie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fie(e){var t=hie(e,"string");return Us(t)=="symbol"?t:t+""}function hie(e,t){if(Us(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Us(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vs(){return vs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vs.apply(this,arguments)}function Aw(e,t){if(e==null)return{};var r=mie(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mie(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var pie=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,s=t.x,i=t.y,o=t.width,c=t.height,l=t.ry;return D.createElement("rect",{x:s,y:i,ry:l,width:o,height:c,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function m2(e,t){var r;if(D.isValidElement(e))r=D.cloneElement(e,t);else if(We(e))r=e(t);else{var n=t.x1,s=t.y1,i=t.x2,o=t.y2,c=t.key,l=Aw(t,lie),u=Fe(l,!1);u.offset;var d=Aw(u,uie);r=D.createElement("line",vs({},d,{x1:n,y1:s,x2:i,y2:o,fill:"none",key:c}))}return r}function gie(e){var t=e.x,r=e.width,n=e.horizontal,s=n===void 0?!0:n,i=e.horizontalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(c,l){var u=fr(fr({},e),{},{x1:t,y1:c,x2:t+r,y2:c,key:"line-".concat(l),index:l});return m2(s,u)});return D.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function vie(e){var t=e.y,r=e.height,n=e.vertical,s=n===void 0?!0:n,i=e.verticalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(c,l){var u=fr(fr({},e),{},{x1:c,y1:t,x2:c,y2:t+r,key:"line-".concat(l),index:l});return m2(s,u)});return D.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function xie(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,s=e.y,i=e.width,o=e.height,c=e.horizontalPoints,l=e.horizontal,u=l===void 0?!0:l;if(!u||!t||!t.length)return null;var d=c.map(function(h){return Math.round(h+s-s)}).sort(function(h,p){return h-p});s!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var g=!d[p+1],m=g?s+o-h:d[p+1]-h;if(m<=0)return null;var x=p%t.length;return D.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:m,width:i,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return D.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function yie(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,s=e.fillOpacity,i=e.x,o=e.y,c=e.width,l=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var g=!d[p+1],m=g?i+c-h:d[p+1]-h;if(m<=0)return null;var x=p%n.length;return D.createElement("rect",{key:"react-".concat(p),x:h,y:o,width:m,height:l,stroke:"none",fill:n[x],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return D.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var bie=function(t,r){var n=t.xAxis,s=t.width,i=t.height,o=t.offset;return dP(Yv(fr(fr(fr({},ko.defaultProps),n),{},{ticks:oa(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.left,o.left+o.width,r)},jie=function(t,r){var n=t.yAxis,s=t.width,i=t.height,o=t.offset;return dP(Yv(fr(fr(fr({},ko.defaultProps),n),{},{ticks:oa(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.top,o.top+o.height,r)},ii={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function li(e){var t,r,n,s,i,o,c=Kv(),l=Gv(),u=cse(),d=fr(fr({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:ii.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:ii.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:ii.horizontal,horizontalFill:(s=e.horizontalFill)!==null&&s!==void 0?s:ii.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:ii.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:ii.verticalFill,x:ve(e.x)?e.x:u.left,y:ve(e.y)?e.y:u.top,width:ve(e.width)?e.width:u.width,height:ve(e.height)?e.height:u.height}),f=d.x,h=d.y,p=d.width,g=d.height,m=d.syncWithTicks,x=d.horizontalValues,b=d.verticalValues,y=sse(),w=ise();if(!ve(p)||p<=0||!ve(g)||g<=0||!ve(f)||f!==+f||!ve(h)||h!==+h)return null;var S=d.verticalCoordinatesGenerator||bie,N=d.horizontalCoordinatesGenerator||jie,j=d.horizontalPoints,A=d.verticalPoints;if((!j||!j.length)&&We(N)){var O=x&&x.length,P=N({yAxis:w?fr(fr({},w),{},{ticks:O?x:w.ticks}):void 0,width:c,height:l,offset:u},O?!0:m);vn(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Us(P),"]")),Array.isArray(P)&&(j=P)}if((!A||!A.length)&&We(S)){var T=b&&b.length,_=S({xAxis:y?fr(fr({},y),{},{ticks:T?b:y.ticks}):void 0,width:c,height:l,offset:u},T?!0:m);vn(Array.isArray(_),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Us(_),"]")),Array.isArray(_)&&(A=_)}return D.createElement("g",{className:"recharts-cartesian-grid"},D.createElement(pie,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),D.createElement(gie,vs({},d,{offset:u,horizontalPoints:j,xAxis:y,yAxis:w})),D.createElement(vie,vs({},d,{offset:u,verticalPoints:A,xAxis:y,yAxis:w})),D.createElement(xie,vs({},d,{horizontalPoints:j})),D.createElement(yie,vs({},d,{verticalPoints:A})))}li.displayName="CartesianGrid";var wie=["type","layout","connectNulls","ref"],Nie=["key"];function eo(e){"@babel/helpers - typeof";return eo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eo(e)}function Ow(e,t){if(e==null)return{};var r=Sie(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Sie(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function dc(){return dc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dc.apply(this,arguments)}function _w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Tr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_w(Object(r),!0).forEach(function(n){fn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_w(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oi(e){return Pie(e)||_ie(e)||Oie(e)||Aie()}function Aie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oie(e,t){if(e){if(typeof e=="string")return Jp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jp(e,t)}}function _ie(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Pie(e){if(Array.isArray(e))return Jp(e)}function Jp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g2(n.key),n)}}function Tie(e,t,r){return t&&Pw(e.prototype,t),r&&Pw(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cie(e,t,r){return t=Md(t),Eie(e,p2()?Reflect.construct(t,r||[],Md(e).constructor):t.apply(e,r))}function Eie(e,t){if(t&&(eo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $ie(e)}function $ie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p2=function(){return!!e})()}function Md(e){return Md=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Md(e)}function Die(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qp(e,t)}function Qp(e,t){return Qp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Qp(e,t)}function fn(e,t,r){return t=g2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g2(e){var t=Iie(e,"string");return eo(t)=="symbol"?t:t+""}function Iie(e,t){if(eo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(eo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Os=function(e){function t(){var r;kie(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=Cie(this,t,[].concat(s)),fn(r,"state",{isAnimationFinished:!0,totalLength:0}),fn(r,"generateSimpleStrokeDasharray",function(o,c){return"".concat(c,"px ").concat(o-c,"px")}),fn(r,"getStrokeDasharray",function(o,c,l){var u=l.reduce(function(b,y){return b+y});if(!u)return r.generateSimpleStrokeDasharray(c,o);for(var d=Math.floor(o/u),f=o%u,h=c-o,p=[],g=0,m=0;g<l.length;m+=l[g],++g)if(m+l[g]>f){p=[].concat(oi(l.slice(0,g)),[f-m]);break}var x=p.length%2===0?[0,h]:[h];return[].concat(oi(t.repeat(l,d)),oi(p),x).map(function(b){return"".concat(b,"px")}).join(", ")}),fn(r,"id",Xs("recharts-line-")),fn(r,"pathRef",function(o){r.mainCurve=o}),fn(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),fn(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return Die(t,e),Tie(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,c=i.xAxis,l=i.yAxis,u=i.layout,d=i.children,f=Vr(d,_l);if(!f)return null;var h=function(m,x){return{x:m.x,y:m.y,value:m.value,errorVal:Rt(m.payload,x)}},p={clipPath:n?"url(#clipPath-".concat(s,")"):null};return D.createElement(st,p,f.map(function(g){return D.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:o,xAxis:c,yAxis:l,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,s,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var c=this.props,l=c.dot,u=c.points,d=c.dataKey,f=Fe(this.props,!1),h=Fe(l,!0),p=u.map(function(m,x){var b=Tr(Tr(Tr({key:"dot-".concat(x),r:3},f),h),{},{index:x,cx:m.x,cy:m.y,value:m.value,dataKey:d,payload:m.payload,points:u});return t.renderDotItem(l,b)}),g={clipPath:n?"url(#clipPath-".concat(s?"":"dots-").concat(i,")"):null};return D.createElement(st,dc({className:"recharts-line-dots",key:"dots"},g),p)}},{key:"renderCurveStatically",value:function(n,s,i,o){var c=this.props,l=c.type,u=c.layout,d=c.connectNulls;c.ref;var f=Ow(c,wie),h=Tr(Tr(Tr({},Fe(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:s?"url(#clipPath-".concat(i,")"):null,points:n},o),{},{type:l,layout:u,connectNulls:d});return D.createElement(As,dc({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,s){var i=this,o=this.props,c=o.points,l=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,p=o.animationId,g=o.animateNewValues,m=o.width,x=o.height,b=this.state,y=b.prevPoints,w=b.totalLength;return D.createElement(jn,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var N=S.t;if(y){var j=y.length/c.length,A=c.map(function(k,E){var C=Math.floor(E*j);if(y[C]){var I=y[C],F=Zt(I.x,k.x),$=Zt(I.y,k.y);return Tr(Tr({},k),{},{x:F(N),y:$(N)})}if(g){var q=Zt(m*2,k.x),M=Zt(x/2,k.y);return Tr(Tr({},k),{},{x:q(N),y:M(N)})}return Tr(Tr({},k),{},{x:k.x,y:k.y})});return i.renderCurveStatically(A,n,s)}var O=Zt(0,w),P=O(N),T;if(l){var _="".concat(l).split(/[,\s]+/gim).map(function(k){return parseFloat(k)});T=i.getStrokeDasharray(P,w,_)}else T=i.generateSimpleStrokeDasharray(w,P);return i.renderCurveStatically(c,n,s,{strokeDasharray:T})})}},{key:"renderCurve",value:function(n,s){var i=this.props,o=i.points,c=i.isAnimationActive,l=this.state,u=l.prevPoints,d=l.totalLength;return c&&o&&o.length&&(!u&&d>0||!Bs(u,o))?this.renderCurveWithAnimation(n,s):this.renderCurveStatically(o,n,s)}},{key:"render",value:function(){var n,s=this.props,i=s.hide,o=s.dot,c=s.points,l=s.className,u=s.xAxis,d=s.yAxis,f=s.top,h=s.left,p=s.width,g=s.height,m=s.isAnimationActive,x=s.id;if(i||!c||!c.length)return null;var b=this.state.isAnimationFinished,y=c.length===1,w=Ge("recharts-line",l),S=u&&u.allowDataOverflow,N=d&&d.allowDataOverflow,j=S||N,A=Ke(x)?this.id:x,O=(n=Fe(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},P=O.r,T=P===void 0?3:P,_=O.strokeWidth,k=_===void 0?2:_,E=nO(o)?o:{},C=E.clipDot,I=C===void 0?!0:C,F=T*2+k;return D.createElement(st,{className:w},S||N?D.createElement("defs",null,D.createElement("clipPath",{id:"clipPath-".concat(A)},D.createElement("rect",{x:S?h:h-p/2,y:N?f:f-g/2,width:S?p:p*2,height:N?g:g*2})),!I&&D.createElement("clipPath",{id:"clipPath-dots-".concat(A)},D.createElement("rect",{x:h-F/2,y:f-F/2,width:p+F,height:g+F}))):null,!y&&this.renderCurve(j,A),this.renderErrorBar(j,A),(y||o)&&this.renderDots(j,I,A),(!m||b)&&Rn.renderCallByParent(this.props,c))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:s.curPoints}:n.points!==s.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,s){for(var i=n.length%2!==0?[].concat(oi(n),[0]):n,o=[],c=0;c<s;++c)o=[].concat(oi(o),oi(i));return o}},{key:"renderDotItem",value:function(n,s){var i;if(D.isValidElement(n))i=D.cloneElement(n,s);else if(We(n))i=n(s);else{var o=s.key,c=Ow(s,Nie),l=Ge("recharts-line-dot",typeof n!="boolean"?n.className:"");i=D.createElement(Pl,dc({key:o},c,{className:l}))}return i}}])}(v.PureComponent);fn(Os,"displayName","Line");fn(Os,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Ja.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});fn(Os,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,s=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,c=e.bandSize,l=e.displayedData,u=e.offset,d=t.layout,f=l.map(function(h,p){var g=Rt(h,o);return d==="horizontal"?{x:hd({axis:r,ticks:s,bandSize:c,entry:h,index:p}),y:Ke(g)?null:n.scale(g),value:g,payload:h}:{x:Ke(g)?null:r.scale(g),y:hd({axis:n,ticks:i,bandSize:c,entry:h,index:p}),value:g,payload:h}});return Tr({points:f,layout:d},u)});var Mie=["layout","type","stroke","connectNulls","isRange","ref"],Rie=["key"],v2;function to(e){"@babel/helpers - typeof";return to=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},to(e)}function x2(e,t){if(e==null)return{};var r=Lie(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Lie(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function xs(){return xs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xs.apply(this,arguments)}function kw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Pa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kw(Object(r),!0).forEach(function(n){$n(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b2(n.key),n)}}function Bie(e,t,r){return t&&Tw(e.prototype,t),r&&Tw(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vie(e,t,r){return t=Rd(t),zie(e,y2()?Reflect.construct(t,r||[],Rd(e).constructor):t.apply(e,r))}function zie(e,t){if(t&&(to(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uie(e)}function Uie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y2=function(){return!!e})()}function Rd(e){return Rd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rd(e)}function Wie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eg(e,t)}function eg(e,t){return eg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},eg(e,t)}function $n(e,t,r){return t=b2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b2(e){var t=Hie(e,"string");return to(t)=="symbol"?t:t+""}function Hie(e,t){if(to(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(to(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Fn=function(e){function t(){var r;Fie(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=Vie(this,t,[].concat(s)),$n(r,"state",{isAnimationFinished:!0}),$n(r,"id",Xs("recharts-area-")),$n(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),We(o)&&o()}),$n(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),We(o)&&o()}),r}return Wie(t,e),Bie(t,[{key:"renderDots",value:function(n,s,i){var o=this.props.isAnimationActive,c=this.state.isAnimationFinished;if(o&&!c)return null;var l=this.props,u=l.dot,d=l.points,f=l.dataKey,h=Fe(this.props,!1),p=Fe(u,!0),g=d.map(function(x,b){var y=Pa(Pa(Pa({key:"dot-".concat(b),r:3},h),p),{},{index:b,cx:x.x,cy:x.y,dataKey:f,value:x.value,payload:x.payload,points:d});return t.renderDotItem(u,y)}),m={clipPath:n?"url(#clipPath-".concat(s?"":"dots-").concat(i,")"):null};return D.createElement(st,xs({className:"recharts-area-dots"},m),g)}},{key:"renderHorizontalRect",value:function(n){var s=this.props,i=s.baseLine,o=s.points,c=s.strokeWidth,l=o[0].x,u=o[o.length-1].x,d=n*Math.abs(l-u),f=Da(o.map(function(h){return h.y||0}));return ve(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(Da(i.map(function(h){return h.y||0})),f)),ve(f)?D.createElement("rect",{x:l<u?l:l-d,y:0,width:d,height:Math.floor(f+(c?parseInt("".concat(c),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var s=this.props,i=s.baseLine,o=s.points,c=s.strokeWidth,l=o[0].y,u=o[o.length-1].y,d=n*Math.abs(l-u),f=Da(o.map(function(h){return h.x||0}));return ve(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(Da(i.map(function(h){return h.x||0})),f)),ve(f)?D.createElement("rect",{x:0,y:l<u?l:l-d,width:f+(c?parseInt("".concat(c),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var s=this.props.layout;return s==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,s,i,o){var c=this.props,l=c.layout,u=c.type,d=c.stroke,f=c.connectNulls,h=c.isRange;c.ref;var p=x2(c,Mie);return D.createElement(st,{clipPath:i?"url(#clipPath-".concat(o,")"):null},D.createElement(As,xs({},Fe(p,!0),{points:n,connectNulls:f,type:u,baseLine:s,layout:l,stroke:"none",className:"recharts-area-area"})),d!=="none"&&D.createElement(As,xs({},Fe(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:n})),d!=="none"&&h&&D.createElement(As,xs({},Fe(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:s})))}},{key:"renderAreaWithAnimation",value:function(n,s){var i=this,o=this.props,c=o.points,l=o.baseLine,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,p=o.animationId,g=this.state,m=g.prevPoints,x=g.prevBaseLine;return D.createElement(jn,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var y=b.t;if(m){var w=m.length/c.length,S=c.map(function(O,P){var T=Math.floor(P*w);if(m[T]){var _=m[T],k=Zt(_.x,O.x),E=Zt(_.y,O.y);return Pa(Pa({},O),{},{x:k(y),y:E(y)})}return O}),N;if(ve(l)&&typeof l=="number"){var j=Zt(x,l);N=j(y)}else if(Ke(l)||wo(l)){var A=Zt(x,0);N=A(y)}else N=l.map(function(O,P){var T=Math.floor(P*w);if(x[T]){var _=x[T],k=Zt(_.x,O.x),E=Zt(_.y,O.y);return Pa(Pa({},O),{},{x:k(y),y:E(y)})}return O});return i.renderAreaStatically(S,N,n,s)}return D.createElement(st,null,D.createElement("defs",null,D.createElement("clipPath",{id:"animationClipPath-".concat(s)},i.renderClipRect(y))),D.createElement(st,{clipPath:"url(#animationClipPath-".concat(s,")")},i.renderAreaStatically(c,l,n,s)))})}},{key:"renderArea",value:function(n,s){var i=this.props,o=i.points,c=i.baseLine,l=i.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return l&&o&&o.length&&(!d&&h>0||!Bs(d,o)||!Bs(f,c))?this.renderAreaWithAnimation(n,s):this.renderAreaStatically(o,c,n,s)}},{key:"render",value:function(){var n,s=this.props,i=s.hide,o=s.dot,c=s.points,l=s.className,u=s.top,d=s.left,f=s.xAxis,h=s.yAxis,p=s.width,g=s.height,m=s.isAnimationActive,x=s.id;if(i||!c||!c.length)return null;var b=this.state.isAnimationFinished,y=c.length===1,w=Ge("recharts-area",l),S=f&&f.allowDataOverflow,N=h&&h.allowDataOverflow,j=S||N,A=Ke(x)?this.id:x,O=(n=Fe(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},P=O.r,T=P===void 0?3:P,_=O.strokeWidth,k=_===void 0?2:_,E=nO(o)?o:{},C=E.clipDot,I=C===void 0?!0:C,F=T*2+k;return D.createElement(st,{className:w},S||N?D.createElement("defs",null,D.createElement("clipPath",{id:"clipPath-".concat(A)},D.createElement("rect",{x:S?d:d-p/2,y:N?u:u-g/2,width:S?p:p*2,height:N?g:g*2})),!I&&D.createElement("clipPath",{id:"clipPath-dots-".concat(A)},D.createElement("rect",{x:d-F/2,y:u-F/2,width:p+F,height:g+F}))):null,y?null:this.renderArea(j,A),(o||y)&&this.renderDots(j,I,A),(!m||b)&&Rn.renderCallByParent(this.props,c))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:s.curPoints,prevBaseLine:s.curBaseLine}:n.points!==s.curPoints||n.baseLine!==s.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(v.PureComponent);v2=Fn;$n(Fn,"displayName","Area");$n(Fn,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Ja.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});$n(Fn,"getBaseValue",function(e,t,r,n){var s=e.layout,i=e.baseValue,o=t.props.baseValue,c=o??i;if(ve(c)&&typeof c=="number")return c;var l=s==="horizontal"?n:r,u=l.scale.domain();if(l.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return c==="dataMin"?f:c==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return c==="dataMin"?u[0]:c==="dataMax"?u[1]:u[0]});$n(Fn,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,s=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,c=e.bandSize,l=e.dataKey,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=t.layout,g=u&&u.length,m=v2.getBaseValue(t,r,n,s),x=p==="horizontal",b=!1,y=f.map(function(S,N){var j;g?j=u[d+N]:(j=Rt(S,l),Array.isArray(j)?b=!0:j=[m,j]);var A=j[1]==null||g&&Rt(S,l)==null;return x?{x:hd({axis:n,ticks:i,bandSize:c,entry:S,index:N}),y:A?null:s.scale(j[1]),value:j,payload:S}:{x:A?null:n.scale(j[1]),y:hd({axis:s,ticks:o,bandSize:c,entry:S,index:N}),value:j,payload:S}}),w;return g||b?w=y.map(function(S){var N=Array.isArray(S.value)?S.value[0]:null;return x?{x:S.x,y:N!=null&&S.y!=null?s.scale(N):null}:{x:N!=null?n.scale(N):null,y:S.y}}):w=x?s.scale(m):n.scale(m),Pa({points:y,baseLine:w,layout:p,isRange:b},h)});$n(Fn,"renderDotItem",function(e,t){var r;if(D.isValidElement(e))r=D.cloneElement(e,t);else if(We(e))r=e(t);else{var n=Ge("recharts-area-dot",typeof e!="boolean"?e.className:""),s=t.key,i=x2(t,Rie);r=D.createElement(Pl,xs({},i,{key:s,className:n}))}return r});function ro(e){"@babel/helpers - typeof";return ro=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ro(e)}function qie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kie(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,N2(n.key),n)}}function Gie(e,t,r){return t&&Kie(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Zie(e,t,r){return t=Ld(t),Xie(e,j2()?Reflect.construct(t,r||[],Ld(e).constructor):t.apply(e,r))}function Xie(e,t){if(t&&(ro(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yie(e)}function Yie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j2=function(){return!!e})()}function Ld(e){return Ld=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ld(e)}function Jie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tg(e,t)}function tg(e,t){return tg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},tg(e,t)}function w2(e,t,r){return t=N2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N2(e){var t=Qie(e,"string");return ro(t)=="symbol"?t:t+""}function Qie(e,t){if(ro(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ro(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function rg(){return rg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rg.apply(this,arguments)}function eoe(e){var t=e.xAxisId,r=Kv(),n=Gv(),s=n2(t);return s==null?null:v.createElement(ko,rg({},s,{className:Ge("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return oa(o,!0)}}))}var kn=function(e){function t(){return qie(this,t),Zie(this,t,arguments)}return Jie(t,e),Gie(t,[{key:"render",value:function(){return v.createElement(eoe,this.props)}}])}(v.Component);w2(kn,"displayName","XAxis");w2(kn,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function no(e){"@babel/helpers - typeof";return no=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},no(e)}function toe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function roe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,O2(n.key),n)}}function noe(e,t,r){return t&&roe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function aoe(e,t,r){return t=Fd(t),soe(e,S2()?Reflect.construct(t,r||[],Fd(e).constructor):t.apply(e,r))}function soe(e,t){if(t&&(no(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ioe(e)}function ioe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S2=function(){return!!e})()}function Fd(e){return Fd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fd(e)}function ooe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ng(e,t)}function ng(e,t){return ng=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},ng(e,t)}function A2(e,t,r){return t=O2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O2(e){var t=coe(e,"string");return no(t)=="symbol"?t:t+""}function coe(e,t){if(no(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(no(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function ag(){return ag=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ag.apply(this,arguments)}var loe=function(t){var r=t.yAxisId,n=Kv(),s=Gv(),i=a2(r);return i==null?null:v.createElement(ko,ag({},i,{className:Ge("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(c){return oa(c,!0)}}))},Tn=function(e){function t(){return toe(this,t),aoe(this,t,arguments)}return ooe(t,e),noe(t,[{key:"render",value:function(){return v.createElement(loe,this.props)}}])}(v.Component);A2(Tn,"displayName","YAxis");A2(Tn,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function Cw(e){return hoe(e)||foe(e)||doe(e)||uoe()}function uoe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function doe(e,t){if(e){if(typeof e=="string")return sg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sg(e,t)}}function foe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function hoe(e){if(Array.isArray(e))return sg(e)}function sg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ig=function(t,r,n,s,i){var o=Vr(t,Xv),c=Vr(t,th),l=[].concat(Cw(o),Cw(c)),u=Vr(t,nh),d="".concat(s,"Id"),f=s[0],h=r;if(l.length&&(h=l.reduce(function(m,x){if(x.props[d]===n&&Ln(x.props,"extendDomain")&&ve(x.props[f])){var b=x.props[f];return[Math.min(m[0],b),Math.max(m[1],b)]}return m},h)),u.length){var p="".concat(f,"1"),g="".concat(f,"2");h=u.reduce(function(m,x){if(x.props[d]===n&&Ln(x.props,"extendDomain")&&ve(x.props[p])&&ve(x.props[g])){var b=x.props[p],y=x.props[g];return[Math.min(m[0],b,y),Math.max(m[1],b,y)]}return m},h)}return i&&i.length&&(h=i.reduce(function(m,x){return ve(x)?[Math.min(m[0],x),Math.max(m[1],x)]:m},h)),h},_2={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function i(l,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new s(d,f||l,h),g=r?r+u:u;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],p]:l._events[g].push(p):(l._events[g]=p,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function c(){this._events=new n,this._eventsCount=0}c.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},c.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,g=new Array(p);h<p;h++)g[h]=f[h].fn;return g},c.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},c.prototype.emit=function(u,d,f,h,p,g){var m=r?r+u:u;if(!this._events[m])return!1;var x=this._events[m],b=arguments.length,y,w;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),b){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,f),!0;case 4:return x.fn.call(x.context,d,f,h),!0;case 5:return x.fn.call(x.context,d,f,h,p),!0;case 6:return x.fn.call(x.context,d,f,h,p,g),!0}for(w=1,y=new Array(b-1);w<b;w++)y[w-1]=arguments[w];x.fn.apply(x.context,y)}else{var S=x.length,N;for(w=0;w<S;w++)switch(x[w].once&&this.removeListener(u,x[w].fn,void 0,!0),b){case 1:x[w].fn.call(x[w].context);break;case 2:x[w].fn.call(x[w].context,d);break;case 3:x[w].fn.call(x[w].context,d,f);break;case 4:x[w].fn.call(x[w].context,d,f,h);break;default:if(!y)for(N=1,y=new Array(b-1);N<b;N++)y[N-1]=arguments[N];x[w].fn.apply(x[w].context,y)}}return!0},c.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},c.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},c.prototype.removeListener=function(u,d,f,h){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return o(this,p),this;var g=this._events[p];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&o(this,p);else{for(var m=0,x=[],b=g.length;m<b;m++)(g[m].fn!==d||h&&!g[m].once||f&&g[m].context!==f)&&x.push(g[m]);x.length?this._events[p]=x.length===1?x[0]:x:o(this,p)}return this},c.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=r,c.EventEmitter=c,e.exports=c})(_2);var moe=_2.exports;const poe=xt(moe);var tm=new poe,rm="recharts.syncMouseEvents";function dl(e){"@babel/helpers - typeof";return dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dl(e)}function goe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function voe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,P2(n.key),n)}}function xoe(e,t,r){return t&&voe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function nm(e,t,r){return t=P2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P2(e){var t=yoe(e,"string");return dl(t)=="symbol"?t:t+""}function yoe(e,t){if(dl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var boe=function(){function e(){goe(this,e),nm(this,"activeIndex",0),nm(this,"coordinateList",[]),nm(this,"layout","horizontal")}return xoe(e,[{key:"setDetails",value:function(r){var n,s=r.coordinateList,i=s===void 0?null:s,o=r.container,c=o===void 0?null:o,l=r.layout,u=l===void 0?null:l,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=c??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),i=s.x,o=s.y,c=s.height,l=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+l+u,h=o+this.offset.top+c/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function joe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],s=e==null?void 0:e[1];if(n&&s&&ve(n)&&ve(s))return!0}return!1}function woe(e,t,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function k2(e){var t=e.cx,r=e.cy,n=e.radius,s=e.startAngle,i=e.endAngle,o=St(t,r,n,s),c=St(t,r,n,i);return{points:[o,c],cx:t,cy:r,radius:n,startAngle:s,endAngle:i}}function Noe(e,t,r){var n,s,i,o;if(e==="horizontal")n=t.x,i=n,s=r.top,o=r.top+r.height;else if(e==="vertical")s=t.y,o=s,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var c=t.cx,l=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=St(c,l,u,f),p=St(c,l,d,f);n=h.x,s=h.y,i=p.x,o=p.y}else return k2(t);return[{x:n,y:s},{x:i,y:o}]}function fl(e){"@babel/helpers - typeof";return fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fl(e)}function Ew(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Yl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ew(Object(r),!0).forEach(function(n){Soe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ew(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Soe(e,t,r){return t=Aoe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Aoe(e){var t=Ooe(e,"string");return fl(t)=="symbol"?t:t+""}function Ooe(e,t){if(fl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _oe(e){var t,r,n=e.element,s=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,c=e.activePayload,l=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!i||!o||h!=="ScatterChart"&&s!=="axis")return null;var g,m=As;if(h==="ScatterChart")g=o,m=Ite;else if(h==="BarChart")g=woe(f,o,l,d),m=zv;else if(f==="radial"){var x=k2(o),b=x.cx,y=x.cy,w=x.radius,S=x.startAngle,N=x.endAngle;g={cx:b,cy:y,startAngle:S,endAngle:N,innerRadius:w,outerRadius:w},m=wP}else g={points:Noe(f,o,l)},m=As;var j=Yl(Yl(Yl(Yl({stroke:"#ccc",pointerEvents:"none"},l),g),Fe(p,!1)),{},{payload:c,payloadIndex:u,className:Ge("recharts-tooltip-cursor",p.className)});return v.isValidElement(p)?v.cloneElement(p,j):v.createElement(m,j)}var Poe=["item"],koe=["children","className","width","height","style","compact","title","desc"];function ao(e){"@babel/helpers - typeof";return ao=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ao(e)}function vi(){return vi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vi.apply(this,arguments)}function $w(e,t){return Eoe(e)||Coe(e,t)||C2(e,t)||Toe()}function Toe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Coe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(d){u=!0,s=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return c}}function Eoe(e){if(Array.isArray(e))return e}function Dw(e,t){if(e==null)return{};var r=$oe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $oe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Doe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ioe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,E2(n.key),n)}}function Moe(e,t,r){return t&&Ioe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Roe(e,t,r){return t=Bd(t),Loe(e,T2()?Reflect.construct(t,r||[],Bd(e).constructor):t.apply(e,r))}function Loe(e,t){if(t&&(ao(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Foe(e)}function Foe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T2=function(){return!!e})()}function Bd(e){return Bd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bd(e)}function Boe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&og(e,t)}function og(e,t){return og=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},og(e,t)}function so(e){return Uoe(e)||zoe(e)||C2(e)||Voe()}function Voe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C2(e,t){if(e){if(typeof e=="string")return cg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cg(e,t)}}function zoe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Uoe(e){if(Array.isArray(e))return cg(e)}function cg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Iw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function se(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Iw(Object(r),!0).forEach(function(n){Ue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Iw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ue(e,t,r){return t=E2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E2(e){var t=Woe(e,"string");return ao(t)=="symbol"?t:t+""}function Woe(e,t){if(ao(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ao(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hoe={xAxis:["bottom","top"],yAxis:["left","right"]},qoe={width:"100%",height:"100%"},$2={x:0,y:0};function Jl(e){return e}var Koe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},Goe=function(t,r,n,s){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,c=s.radius;return se(se(se({},s),St(s.cx,s.cy,c,o)),{},{angle:o,radius:c})}var l=i.coordinate,u=s.angle;return se(se(se({},s),St(s.cx,s.cy,l,u)),{},{angle:u,radius:l})}return $2},ah=function(t,r){var n=r.graphicalItems,s=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(c,l){var u=l.props.data;return u&&u.length?[].concat(so(c),so(u)):c},[]);return o.length>0?o:t&&t.length&&ve(s)&&ve(i)?t.slice(s,i+1):[]};function D2(e){return e==="number"?[0,"auto"]:void 0}var lg=function(t,r,n,s){var i=t.graphicalItems,o=t.tooltipAxis,c=ah(r,t);return n<0||!i||!i.length||n>=c.length?null:i.reduce(function(l,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=f===void 0?c:f;h=Fu(p,o.dataKey,s)}else h=f&&f[n]||c[n];return h?[].concat(so(l),[gP(u,h)]):l},[])},Mw=function(t,r,n,s){var i=s||{x:t.chartX,y:t.chartY},o=Koe(i,n),c=t.orderedTooltipTicks,l=t.tooltipAxis,u=t.tooltipTicks,d=sJ(o,c,u,l);if(d>=0&&u){var f=u[d]&&u[d].value,h=lg(t,r,d,f),p=Goe(n,c,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},Zoe=function(t,r){var n=r.axes,s=r.graphicalItems,i=r.axisType,o=r.axisIdKey,c=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,p=uP(d,i);return n.reduce(function(g,m){var x,b=m.type.defaultProps!==void 0?se(se({},m.type.defaultProps),m.props):m.props,y=b.type,w=b.dataKey,S=b.allowDataOverflow,N=b.allowDuplicatedCategory,j=b.scale,A=b.ticks,O=b.includeHidden,P=b[o];if(g[P])return g;var T=ah(t.data,{graphicalItems:s.filter(function(z){var B,G=o in z.props?z.props[o]:(B=z.type.defaultProps)===null||B===void 0?void 0:B[o];return G===P}),dataStartIndex:l,dataEndIndex:u}),_=T.length,k,E,C;joe(b.domain,S,y)&&(k=wp(b.domain,null,S),p&&(y==="number"||j!=="auto")&&(C=oc(T,w,"category")));var I=D2(y);if(!k||k.length===0){var F,$=(F=b.domain)!==null&&F!==void 0?F:I;if(w){if(k=oc(T,w,y),y==="category"&&p){var q=Z6(k);N&&q?(E=k,k=Od(0,_)):N||(k=rj($,k,m).reduce(function(z,B){return z.indexOf(B)>=0?z:[].concat(so(z),[B])},[]))}else if(y==="category")N?k=k.filter(function(z){return z!==""&&!Ke(z)}):k=rj($,k,m).reduce(function(z,B){return z.indexOf(B)>=0||B===""||Ke(B)?z:[].concat(so(z),[B])},[]);else if(y==="number"){var M=uJ(T,s.filter(function(z){var B,G,ce=o in z.props?z.props[o]:(B=z.type.defaultProps)===null||B===void 0?void 0:B[o],we="hide"in z.props?z.props.hide:(G=z.type.defaultProps)===null||G===void 0?void 0:G.hide;return ce===P&&(O||!we)}),w,i,d);M&&(k=M)}p&&(y==="number"||j!=="auto")&&(C=oc(T,w,"category"))}else p?k=Od(0,_):c&&c[P]&&c[P].hasStack&&y==="number"?k=h==="expand"?[0,1]:pP(c[P].stackGroups,l,u):k=lP(T,s.filter(function(z){var B=o in z.props?z.props[o]:z.type.defaultProps[o],G="hide"in z.props?z.props.hide:z.type.defaultProps.hide;return B===P&&(O||!G)}),y,d,!0);if(y==="number")k=ig(f,k,P,i,A),$&&(k=wp($,k,S));else if(y==="category"&&$){var J=$,V=k.every(function(z){return J.indexOf(z)>=0});V&&(k=J)}}return se(se({},g),{},Ue({},P,se(se({},b),{},{axisType:i,domain:k,categoricalDomain:C,duplicateDomain:E,originalDomain:(x=b.domain)!==null&&x!==void 0?x:I,isCategorical:p,layout:d})))},{})},Xoe=function(t,r){var n=r.graphicalItems,s=r.Axis,i=r.axisType,o=r.axisIdKey,c=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=ah(t.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:u}),p=h.length,g=uP(d,i),m=-1;return n.reduce(function(x,b){var y=b.type.defaultProps!==void 0?se(se({},b.type.defaultProps),b.props):b.props,w=y[o],S=D2("number");if(!x[w]){m++;var N;return g?N=Od(0,p):c&&c[w]&&c[w].hasStack?(N=pP(c[w].stackGroups,l,u),N=ig(f,N,w,i)):(N=wp(S,lP(h,n.filter(function(j){var A,O,P=o in j.props?j.props[o]:(A=j.type.defaultProps)===null||A===void 0?void 0:A[o],T="hide"in j.props?j.props.hide:(O=j.type.defaultProps)===null||O===void 0?void 0:O.hide;return P===w&&!T}),"number",d),s.defaultProps.allowDataOverflow),N=ig(f,N,w,i)),se(se({},x),{},Ue({},w,se(se({axisType:i},s.defaultProps),{},{hide:!0,orientation:Br(Hoe,"".concat(i,".").concat(m%2),null),domain:N,originalDomain:S,isCategorical:g,layout:d})))}return x},{})},Yoe=function(t,r){var n=r.axisType,s=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,c=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(s,"Id"),h=Vr(d,i),p={};return h&&h.length?p=Zoe(t,{axes:h,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:c,dataStartIndex:l,dataEndIndex:u}):o&&o.length&&(p=Xoe(t,{Axis:i,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:c,dataStartIndex:l,dataEndIndex:u})),p},Joe=function(t){var r=Ea(t),n=oa(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:pv(n,function(s){return s.coordinate}),tooltipAxis:r,tooltipAxisBandSize:md(r,n)}},Rw=function(t){var r=t.children,n=t.defaultShowTooltip,s=$r(r,Gi),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(i=s.props.startIndex),s.props.endIndex>=0&&(o=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},Qoe=function(t){return!t||!t.length?!1:t.some(function(r){var n=da(r&&r.type);return n&&n.indexOf("Bar")>=0})},Lw=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},ece=function(t,r){var n=t.props,s=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,c=t.yAxisMap,l=c===void 0?{}:c,u=n.width,d=n.height,f=n.children,h=n.margin||{},p=$r(f,Gi),g=$r(f,ws),m=Object.keys(l).reduce(function(N,j){var A=l[j],O=A.orientation;return!A.mirror&&!A.hide?se(se({},N),{},Ue({},O,N[O]+A.width)):N},{left:h.left||0,right:h.right||0}),x=Object.keys(o).reduce(function(N,j){var A=o[j],O=A.orientation;return!A.mirror&&!A.hide?se(se({},N),{},Ue({},O,Br(N,"".concat(O))+A.height)):N},{top:h.top||0,bottom:h.bottom||0}),b=se(se({},x),m),y=b.bottom;p&&(b.bottom+=p.props.height||Gi.defaultProps.height),g&&r&&(b=cJ(b,s,n,r));var w=u-b.left-b.right,S=d-b.top-b.bottom;return se(se({brushBottom:y},b),{},{width:Math.max(w,0),height:Math.max(S,0)})},tce=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},sh=function(t){var r=t.chartName,n=t.GraphicalChild,s=t.defaultTooltipEventType,i=s===void 0?"axis":s,o=t.validateTooltipEventTypes,c=o===void 0?["axis"]:o,l=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(b,y){var w=y.graphicalItems,S=y.stackGroups,N=y.offset,j=y.updateId,A=y.dataStartIndex,O=y.dataEndIndex,P=b.barSize,T=b.layout,_=b.barGap,k=b.barCategoryGap,E=b.maxBarSize,C=Lw(T),I=C.numericAxisName,F=C.cateAxisName,$=Qoe(w),q=[];return w.forEach(function(M,J){var V=ah(b.data,{graphicalItems:[M],dataStartIndex:A,dataEndIndex:O}),z=M.type.defaultProps!==void 0?se(se({},M.type.defaultProps),M.props):M.props,B=z.dataKey,G=z.maxBarSize,ce=z["".concat(I,"Id")],we=z["".concat(F,"Id")],pe={},Oe=l.reduce(function(K,ae){var oe=y["".concat(ae.axisType,"Map")],ke=z["".concat(ae.axisType,"Id")];oe&&oe[ke]||ae.axisType==="zAxis"||zs();var re=oe[ke];return se(se({},K),{},Ue(Ue({},ae.axisType,re),"".concat(ae.axisType,"Ticks"),oa(re)))},pe),R=Oe[F],de=Oe["".concat(F,"Ticks")],fe=S&&S[ce]&&S[ce].hasStack&&yJ(M,S[ce].stackGroups),ee=da(M.type).indexOf("Bar")>=0,Me=md(R,de),Se=[],tt=$&&iJ({barSize:P,stackGroups:S,totalSize:tce(Oe,F)});if(ee){var nt,ze,L=Ke(G)?E:G,X=(nt=(ze=md(R,de,!0))!==null&&ze!==void 0?ze:L)!==null&&nt!==void 0?nt:0;Se=oJ({barGap:_,barCategoryGap:k,bandSize:X!==Me?X:Me,sizeList:tt[we],maxBarSize:L}),X!==Me&&(Se=Se.map(function(K){return se(se({},K),{},{position:se(se({},K.position),{},{offset:K.position.offset-X/2})})}))}var Q=M&&M.type&&M.type.getComposedData;Q&&q.push({props:se(se({},Q(se(se({},Oe),{},{displayedData:V,props:b,dataKey:B,item:M,bandSize:Me,barPosition:Se,offset:N,stackedData:fe,layout:T,dataStartIndex:A,dataEndIndex:O}))),{},Ue(Ue(Ue({key:M.key||"item-".concat(J)},I,Oe[I]),F,Oe[F]),"animationId",j)),childIndex:oB(M,b.children),item:M})}),q},p=function(b,y){var w=b.props,S=b.dataStartIndex,N=b.dataEndIndex,j=b.updateId;if(!Xy({props:w}))return null;var A=w.children,O=w.layout,P=w.stackOffset,T=w.data,_=w.reverseStackOrder,k=Lw(O),E=k.numericAxisName,C=k.cateAxisName,I=Vr(A,n),F=vJ(T,I,"".concat(E,"Id"),"".concat(C,"Id"),P,_),$=l.reduce(function(z,B){var G="".concat(B.axisType,"Map");return se(se({},z),{},Ue({},G,Yoe(w,se(se({},B),{},{graphicalItems:I,stackGroups:B.axisType===E&&F,dataStartIndex:S,dataEndIndex:N}))))},{}),q=ece(se(se({},$),{},{props:w,graphicalItems:I}),y==null?void 0:y.legendBBox);Object.keys($).forEach(function(z){$[z]=d(w,$[z],q,z.replace("Map",""),r)});var M=$["".concat(C,"Map")],J=Joe(M),V=h(w,se(se({},$),{},{dataStartIndex:S,dataEndIndex:N,updateId:j,graphicalItems:I,stackGroups:F,offset:q}));return se(se({formattedGraphicalItems:V,graphicalItems:I,offset:q,stackGroups:F},J),$)},g=function(x){function b(y){var w,S,N;return Doe(this,b),N=Roe(this,b,[y]),Ue(N,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ue(N,"accessibilityManager",new boe),Ue(N,"handleLegendBBoxUpdate",function(j){if(j){var A=N.state,O=A.dataStartIndex,P=A.dataEndIndex,T=A.updateId;N.setState(se({legendBBox:j},p({props:N.props,dataStartIndex:O,dataEndIndex:P,updateId:T},se(se({},N.state),{},{legendBBox:j}))))}}),Ue(N,"handleReceiveSyncEvent",function(j,A,O){if(N.props.syncId===j){if(O===N.eventEmitterSymbol&&typeof N.props.syncMethod!="function")return;N.applySyncEvent(A)}}),Ue(N,"handleBrushChange",function(j){var A=j.startIndex,O=j.endIndex;if(A!==N.state.dataStartIndex||O!==N.state.dataEndIndex){var P=N.state.updateId;N.setState(function(){return se({dataStartIndex:A,dataEndIndex:O},p({props:N.props,dataStartIndex:A,dataEndIndex:O,updateId:P},N.state))}),N.triggerSyncEvent({dataStartIndex:A,dataEndIndex:O})}}),Ue(N,"handleMouseEnter",function(j){var A=N.getMouseInfo(j);if(A){var O=se(se({},A),{},{isTooltipActive:!0});N.setState(O),N.triggerSyncEvent(O);var P=N.props.onMouseEnter;We(P)&&P(O,j)}}),Ue(N,"triggeredAfterMouseMove",function(j){var A=N.getMouseInfo(j),O=A?se(se({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};N.setState(O),N.triggerSyncEvent(O);var P=N.props.onMouseMove;We(P)&&P(O,j)}),Ue(N,"handleItemMouseEnter",function(j){N.setState(function(){return{isTooltipActive:!0,activeItem:j,activePayload:j.tooltipPayload,activeCoordinate:j.tooltipPosition||{x:j.cx,y:j.cy}}})}),Ue(N,"handleItemMouseLeave",function(){N.setState(function(){return{isTooltipActive:!1}})}),Ue(N,"handleMouseMove",function(j){j.persist(),N.throttleTriggeredAfterMouseMove(j)}),Ue(N,"handleMouseLeave",function(j){N.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};N.setState(A),N.triggerSyncEvent(A);var O=N.props.onMouseLeave;We(O)&&O(A,j)}),Ue(N,"handleOuterEvent",function(j){var A=iB(j),O=Br(N.props,"".concat(A));if(A&&We(O)){var P,T;/.*touch.*/i.test(A)?T=N.getMouseInfo(j.changedTouches[0]):T=N.getMouseInfo(j),O((P=T)!==null&&P!==void 0?P:{},j)}}),Ue(N,"handleClick",function(j){var A=N.getMouseInfo(j);if(A){var O=se(se({},A),{},{isTooltipActive:!0});N.setState(O),N.triggerSyncEvent(O);var P=N.props.onClick;We(P)&&P(O,j)}}),Ue(N,"handleMouseDown",function(j){var A=N.props.onMouseDown;if(We(A)){var O=N.getMouseInfo(j);A(O,j)}}),Ue(N,"handleMouseUp",function(j){var A=N.props.onMouseUp;if(We(A)){var O=N.getMouseInfo(j);A(O,j)}}),Ue(N,"handleTouchMove",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&N.throttleTriggeredAfterMouseMove(j.changedTouches[0])}),Ue(N,"handleTouchStart",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&N.handleMouseDown(j.changedTouches[0])}),Ue(N,"handleTouchEnd",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&N.handleMouseUp(j.changedTouches[0])}),Ue(N,"handleDoubleClick",function(j){var A=N.props.onDoubleClick;if(We(A)){var O=N.getMouseInfo(j);A(O,j)}}),Ue(N,"handleContextMenu",function(j){var A=N.props.onContextMenu;if(We(A)){var O=N.getMouseInfo(j);A(O,j)}}),Ue(N,"triggerSyncEvent",function(j){N.props.syncId!==void 0&&tm.emit(rm,N.props.syncId,j,N.eventEmitterSymbol)}),Ue(N,"applySyncEvent",function(j){var A=N.props,O=A.layout,P=A.syncMethod,T=N.state.updateId,_=j.dataStartIndex,k=j.dataEndIndex;if(j.dataStartIndex!==void 0||j.dataEndIndex!==void 0)N.setState(se({dataStartIndex:_,dataEndIndex:k},p({props:N.props,dataStartIndex:_,dataEndIndex:k,updateId:T},N.state)));else if(j.activeTooltipIndex!==void 0){var E=j.chartX,C=j.chartY,I=j.activeTooltipIndex,F=N.state,$=F.offset,q=F.tooltipTicks;if(!$)return;if(typeof P=="function")I=P(q,j);else if(P==="value"){I=-1;for(var M=0;M<q.length;M++)if(q[M].value===j.activeLabel){I=M;break}}var J=se(se({},$),{},{x:$.left,y:$.top}),V=Math.min(E,J.x+J.width),z=Math.min(C,J.y+J.height),B=q[I]&&q[I].value,G=lg(N.state,N.props.data,I),ce=q[I]?{x:O==="horizontal"?q[I].coordinate:V,y:O==="horizontal"?z:q[I].coordinate}:$2;N.setState(se(se({},j),{},{activeLabel:B,activeCoordinate:ce,activePayload:G,activeTooltipIndex:I}))}else N.setState(j)}),Ue(N,"renderCursor",function(j){var A,O=N.state,P=O.isTooltipActive,T=O.activeCoordinate,_=O.activePayload,k=O.offset,E=O.activeTooltipIndex,C=O.tooltipAxisBandSize,I=N.getTooltipEventType(),F=(A=j.props.active)!==null&&A!==void 0?A:P,$=N.props.layout,q=j.key||"_recharts-cursor";return D.createElement(_oe,{key:q,activeCoordinate:T,activePayload:_,activeTooltipIndex:E,chartName:r,element:j,isActive:F,layout:$,offset:k,tooltipAxisBandSize:C,tooltipEventType:I})}),Ue(N,"renderPolarAxis",function(j,A,O){var P=Br(j,"type.axisType"),T=Br(N.state,"".concat(P,"Map")),_=j.type.defaultProps,k=_!==void 0?se(se({},_),j.props):j.props,E=T&&T[k["".concat(P,"Id")]];return v.cloneElement(j,se(se({},E),{},{className:Ge(P,E.className),key:j.key||"".concat(A,"-").concat(O),ticks:oa(E,!0)}))}),Ue(N,"renderPolarGrid",function(j){var A=j.props,O=A.radialLines,P=A.polarAngles,T=A.polarRadius,_=N.state,k=_.radiusAxisMap,E=_.angleAxisMap,C=Ea(k),I=Ea(E),F=I.cx,$=I.cy,q=I.innerRadius,M=I.outerRadius;return v.cloneElement(j,{polarAngles:Array.isArray(P)?P:oa(I,!0).map(function(J){return J.coordinate}),polarRadius:Array.isArray(T)?T:oa(C,!0).map(function(J){return J.coordinate}),cx:F,cy:$,innerRadius:q,outerRadius:M,key:j.key||"polar-grid",radialLines:O})}),Ue(N,"renderLegend",function(){var j=N.state.formattedGraphicalItems,A=N.props,O=A.children,P=A.width,T=A.height,_=N.props.margin||{},k=P-(_.left||0)-(_.right||0),E=oP({children:O,formattedGraphicalItems:j,legendWidth:k,legendContent:u});if(!E)return null;var C=E.item,I=Dw(E,Poe);return v.cloneElement(C,se(se({},I),{},{chartWidth:P,chartHeight:T,margin:_,onBBoxUpdate:N.handleLegendBBoxUpdate}))}),Ue(N,"renderTooltip",function(){var j,A=N.props,O=A.children,P=A.accessibilityLayer,T=$r(O,dr);if(!T)return null;var _=N.state,k=_.isTooltipActive,E=_.activeCoordinate,C=_.activePayload,I=_.activeLabel,F=_.offset,$=(j=T.props.active)!==null&&j!==void 0?j:k;return v.cloneElement(T,{viewBox:se(se({},F),{},{x:F.left,y:F.top}),active:$,label:I,payload:$?C:[],coordinate:E,accessibilityLayer:P})}),Ue(N,"renderBrush",function(j){var A=N.props,O=A.margin,P=A.data,T=N.state,_=T.offset,k=T.dataStartIndex,E=T.dataEndIndex,C=T.updateId;return v.cloneElement(j,{key:j.key||"_recharts-brush",onChange:Kl(N.handleBrushChange,j.props.onChange),data:P,x:ve(j.props.x)?j.props.x:_.left,y:ve(j.props.y)?j.props.y:_.top+_.height+_.brushBottom-(O.bottom||0),width:ve(j.props.width)?j.props.width:_.width,startIndex:k,endIndex:E,updateId:"brush-".concat(C)})}),Ue(N,"renderReferenceElement",function(j,A,O){if(!j)return null;var P=N,T=P.clipPathId,_=N.state,k=_.xAxisMap,E=_.yAxisMap,C=_.offset,I=j.type.defaultProps||{},F=j.props,$=F.xAxisId,q=$===void 0?I.xAxisId:$,M=F.yAxisId,J=M===void 0?I.yAxisId:M;return v.cloneElement(j,{key:j.key||"".concat(A,"-").concat(O),xAxis:k[q],yAxis:E[J],viewBox:{x:C.left,y:C.top,width:C.width,height:C.height},clipPathId:T})}),Ue(N,"renderActivePoints",function(j){var A=j.item,O=j.activePoint,P=j.basePoint,T=j.childIndex,_=j.isRange,k=[],E=A.props.key,C=A.item.type.defaultProps!==void 0?se(se({},A.item.type.defaultProps),A.item.props):A.item.props,I=C.activeDot,F=C.dataKey,$=se(se({index:T,dataKey:F,cx:O.x,cy:O.y,r:4,fill:Vv(A.item),strokeWidth:2,stroke:"#fff",payload:O.payload,value:O.value},Fe(I,!1)),Bu(I));return k.push(b.renderActiveDot(I,$,"".concat(E,"-activePoint-").concat(T))),P?k.push(b.renderActiveDot(I,se(se({},$),{},{cx:P.x,cy:P.y}),"".concat(E,"-basePoint-").concat(T))):_&&k.push(null),k}),Ue(N,"renderGraphicChild",function(j,A,O){var P=N.filterFormatItem(j,A,O);if(!P)return null;var T=N.getTooltipEventType(),_=N.state,k=_.isTooltipActive,E=_.tooltipAxis,C=_.activeTooltipIndex,I=_.activeLabel,F=N.props.children,$=$r(F,dr),q=P.props,M=q.points,J=q.isRange,V=q.baseLine,z=P.item.type.defaultProps!==void 0?se(se({},P.item.type.defaultProps),P.item.props):P.item.props,B=z.activeDot,G=z.hide,ce=z.activeBar,we=z.activeShape,pe=!!(!G&&k&&$&&(B||ce||we)),Oe={};T!=="axis"&&$&&$.props.trigger==="click"?Oe={onClick:Kl(N.handleItemMouseEnter,j.props.onClick)}:T!=="axis"&&(Oe={onMouseLeave:Kl(N.handleItemMouseLeave,j.props.onMouseLeave),onMouseEnter:Kl(N.handleItemMouseEnter,j.props.onMouseEnter)});var R=v.cloneElement(j,se(se({},P.props),Oe));function de(ae){return typeof E.dataKey=="function"?E.dataKey(ae.payload):null}if(pe)if(C>=0){var fe,ee;if(E.dataKey&&!E.allowDuplicatedCategory){var Me=typeof E.dataKey=="function"?de:"payload.".concat(E.dataKey.toString());fe=Fu(M,Me,I),ee=J&&V&&Fu(V,Me,I)}else fe=M==null?void 0:M[C],ee=J&&V&&V[C];if(we||ce){var Se=j.props.activeIndex!==void 0?j.props.activeIndex:C;return[v.cloneElement(j,se(se(se({},P.props),Oe),{},{activeIndex:Se})),null,null]}if(!Ke(fe))return[R].concat(so(N.renderActivePoints({item:P,activePoint:fe,basePoint:ee,childIndex:C,isRange:J})))}else{var tt,nt=(tt=N.getItemByXY(N.state.activeCoordinate))!==null&&tt!==void 0?tt:{graphicalItem:R},ze=nt.graphicalItem,L=ze.item,X=L===void 0?j:L,Q=ze.childIndex,K=se(se(se({},P.props),Oe),{},{activeIndex:Q});return[v.cloneElement(X,K),null,null]}return J?[R,null,null]:[R,null]}),Ue(N,"renderCustomized",function(j,A,O){return v.cloneElement(j,se(se({key:"recharts-customized-".concat(O)},N.props),N.state))}),Ue(N,"renderMap",{CartesianGrid:{handler:Jl,once:!0},ReferenceArea:{handler:N.renderReferenceElement},ReferenceLine:{handler:Jl},ReferenceDot:{handler:N.renderReferenceElement},XAxis:{handler:Jl},YAxis:{handler:Jl},Brush:{handler:N.renderBrush,once:!0},Bar:{handler:N.renderGraphicChild},Line:{handler:N.renderGraphicChild},Area:{handler:N.renderGraphicChild},Radar:{handler:N.renderGraphicChild},RadialBar:{handler:N.renderGraphicChild},Scatter:{handler:N.renderGraphicChild},Pie:{handler:N.renderGraphicChild},Funnel:{handler:N.renderGraphicChild},Tooltip:{handler:N.renderCursor,once:!0},PolarGrid:{handler:N.renderPolarGrid,once:!0},PolarAngleAxis:{handler:N.renderPolarAxis},PolarRadiusAxis:{handler:N.renderPolarAxis},Customized:{handler:N.renderCustomized}}),N.clipPathId="".concat((w=y.id)!==null&&w!==void 0?w:Xs("recharts"),"-clip"),N.throttleTriggeredAfterMouseMove=i_(N.triggeredAfterMouseMove,(S=y.throttleDelay)!==null&&S!==void 0?S:1e3/60),N.state={},N}return Boe(b,x),Moe(b,[{key:"componentDidMount",value:function(){var w,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,S=w.children,N=w.data,j=w.height,A=w.layout,O=$r(S,dr);if(O){var P=O.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var T=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,_=lg(this.state,N,P,T),k=this.state.tooltipTicks[P].coordinate,E=(this.state.offset.top+j)/2,C=A==="horizontal",I=C?{x:k,y:E}:{y:k,x:E},F=this.state.formattedGraphicalItems.find(function(q){var M=q.item;return M.type.name==="Scatter"});F&&(I=se(se({},I),F.props.points[P].tooltipPosition),_=F.props.points[P].tooltipPayload);var $={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:T,activePayload:_,activeCoordinate:I};this.setState($),this.renderCursor(O),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var N,j;this.accessibilityManager.setDetails({offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0}})}return null}},{key:"componentDidUpdate",value:function(w){Rm([$r(w.children,dr)],[$r(this.props.children,dr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=$r(this.props.children,dr);if(w&&typeof w.props.shared=="boolean"){var S=w.props.shared?"axis":"item";return c.indexOf(S)>=0?S:i}return i}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var S=this.container,N=S.getBoundingClientRect(),j=$K(N),A={chartX:Math.round(w.pageX-j.left),chartY:Math.round(w.pageY-j.top)},O=N.width/S.offsetWidth||1,P=this.inRange(A.chartX,A.chartY,O);if(!P)return null;var T=this.state,_=T.xAxisMap,k=T.yAxisMap,E=this.getTooltipEventType(),C=Mw(this.state,this.props.data,this.props.layout,P);if(E!=="axis"&&_&&k){var I=Ea(_).scale,F=Ea(k).scale,$=I&&I.invert?I.invert(A.chartX):null,q=F&&F.invert?F.invert(A.chartY):null;return se(se({},A),{},{xValue:$,yValue:q},C)}return C?se(se({},A),C):null}},{key:"inRange",value:function(w,S){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,j=this.props.layout,A=w/N,O=S/N;if(j==="horizontal"||j==="vertical"){var P=this.state.offset,T=A>=P.left&&A<=P.left+P.width&&O>=P.top&&O<=P.top+P.height;return T?{x:A,y:O}:null}var _=this.state,k=_.angleAxisMap,E=_.radiusAxisMap;if(k&&E){var C=Ea(k);return sj({x:A,y:O},C)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,S=this.getTooltipEventType(),N=$r(w,dr),j={};N&&S==="axis"&&(N.props.trigger==="click"?j={onClick:this.handleClick}:j={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var A=Bu(this.props,this.handleOuterEvent);return se(se({},A),j)}},{key:"addListener",value:function(){tm.on(rm,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){tm.removeListener(rm,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,S,N){for(var j=this.state.formattedGraphicalItems,A=0,O=j.length;A<O;A++){var P=j[A];if(P.item===w||P.props.key===w.key||S===da(P.item.type)&&N===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,S=this.state.offset,N=S.left,j=S.top,A=S.height,O=S.width;return D.createElement("defs",null,D.createElement("clipPath",{id:w},D.createElement("rect",{x:N,y:j,height:A,width:O})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(S,N){var j=$w(N,2),A=j[0],O=j[1];return se(se({},S),{},Ue({},A,O.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(S,N){var j=$w(N,2),A=j[0],O=j[1];return se(se({},S),{},Ue({},A,O.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[w])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(w){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[w])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(w){var S=this.state,N=S.formattedGraphicalItems,j=S.activeItem;if(N&&N.length)for(var A=0,O=N.length;A<O;A++){var P=N[A],T=P.props,_=P.item,k=_.type.defaultProps!==void 0?se(se({},_.type.defaultProps),_.props):_.props,E=da(_.type);if(E==="Bar"){var C=(T.data||[]).find(function(q){return pte(w,q)});if(C)return{graphicalItem:P,payload:C}}else if(E==="RadialBar"){var I=(T.data||[]).find(function(q){return sj(w,q)});if(I)return{graphicalItem:P,payload:I}}else if(Yf(P,j)||Jf(P,j)||il(P,j)){var F=nne({graphicalItem:P,activeTooltipItem:j,itemData:k.data}),$=k.activeIndex===void 0?F:k.activeIndex;return{graphicalItem:se(se({},P),{},{childIndex:$}),payload:il(P,j)?k.data[F]:P.props.data[F]}}}return null}},{key:"render",value:function(){var w=this;if(!Xy(this))return null;var S=this.props,N=S.children,j=S.className,A=S.width,O=S.height,P=S.style,T=S.compact,_=S.title,k=S.desc,E=Dw(S,koe),C=Fe(E,!1);if(T)return D.createElement(hw,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},D.createElement(Fm,vi({},C,{width:A,height:O,title:_,desc:k}),this.renderClipPath(),Jy(N,this.renderMap)));if(this.props.accessibilityLayer){var I,F;C.tabIndex=(I=this.props.tabIndex)!==null&&I!==void 0?I:0,C.role=(F=this.props.role)!==null&&F!==void 0?F:"application",C.onKeyDown=function(q){w.accessibilityManager.keyboardEvent(q)},C.onFocus=function(){w.accessibilityManager.focus()}}var $=this.parseEventsOfWrapper();return D.createElement(hw,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},D.createElement("div",vi({className:Ge("recharts-wrapper",j),style:se({position:"relative",cursor:"default",width:A,height:O},P)},$,{ref:function(M){w.container=M}}),D.createElement(Fm,vi({},C,{width:A,height:O,title:_,desc:k,style:qoe}),this.renderClipPath(),Jy(N,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(v.Component);Ue(g,"displayName",r),Ue(g,"defaultProps",se({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Ue(g,"getDerivedStateFromProps",function(x,b){var y=x.dataKey,w=x.data,S=x.children,N=x.width,j=x.height,A=x.layout,O=x.stackOffset,P=x.margin,T=b.dataStartIndex,_=b.dataEndIndex;if(b.updateId===void 0){var k=Rw(x);return se(se(se({},k),{},{updateId:0},p(se(se({props:x},k),{},{updateId:0}),b)),{},{prevDataKey:y,prevData:w,prevWidth:N,prevHeight:j,prevLayout:A,prevStackOffset:O,prevMargin:P,prevChildren:S})}if(y!==b.prevDataKey||w!==b.prevData||N!==b.prevWidth||j!==b.prevHeight||A!==b.prevLayout||O!==b.prevStackOffset||!_i(P,b.prevMargin)){var E=Rw(x),C={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},I=se(se({},Mw(b,w,A)),{},{updateId:b.updateId+1}),F=se(se(se({},E),C),I);return se(se(se({},F),p(se({props:x},F),b)),{},{prevDataKey:y,prevData:w,prevWidth:N,prevHeight:j,prevLayout:A,prevStackOffset:O,prevMargin:P,prevChildren:S})}if(!Rm(S,b.prevChildren)){var $,q,M,J,V=$r(S,Gi),z=V&&($=(q=V.props)===null||q===void 0?void 0:q.startIndex)!==null&&$!==void 0?$:T,B=V&&(M=(J=V.props)===null||J===void 0?void 0:J.endIndex)!==null&&M!==void 0?M:_,G=z!==T||B!==_,ce=!Ke(w),we=ce&&!G?b.updateId:b.updateId+1;return se(se({updateId:we},p(se(se({props:x},b),{},{updateId:we,dataStartIndex:z,dataEndIndex:B}),b)),{},{prevChildren:S,dataStartIndex:z,dataEndIndex:B})}return null}),Ue(g,"renderActiveDot",function(x,b,y){var w;return v.isValidElement(x)?w=v.cloneElement(x,b):We(x)?w=x(b):w=D.createElement(Pl,b),D.createElement(st,{className:"recharts-active-dot",key:y},w)});var m=v.forwardRef(function(b,y){return D.createElement(g,vi({},b,{ref:y}))});return m.displayName=g.displayName,m},rce=sh({chartName:"LineChart",GraphicalChild:Os,axisComponents:[{axisType:"xAxis",AxisComp:kn},{axisType:"yAxis",AxisComp:Tn}],formatAxisMap:Uv}),Fw=sh({chartName:"BarChart",GraphicalChild:Ka,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:kn},{axisType:"yAxis",AxisComp:Tn}],formatAxisMap:Uv}),Bw=sh({chartName:"PieChart",GraphicalChild:Wn,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Xf},{axisType:"radiusAxis",AxisComp:Gf}],formatAxisMap:kJ,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),Vw=sh({chartName:"AreaChart",GraphicalChild:Fn,axisComponents:[{axisType:"xAxis",AxisComp:kn},{axisType:"yAxis",AxisComp:Tn}],formatAxisMap:Uv});const zw=["#8884d8","#82ca9d","#ffc658","#ff8042","#0088FE","#00C49F"],am=[{name:"T1",revenue:4e3,bookings:240},{name:"T2",revenue:3e3,bookings:139},{name:"T3",revenue:2e3,bookings:980},{name:"T4",revenue:2780,bookings:390},{name:"T5",revenue:1890,bookings:480},{name:"T6",revenue:2390,bookings:380},{name:"T7",revenue:3490,bookings:430}],nce=[{name:"T1",confirmed:240,cancelled:24,pending:12},{name:"T2",confirmed:139,cancelled:13,pending:8},{name:"T3",confirmed:980,cancelled:98,pending:45},{name:"T4",confirmed:390,cancelled:39,pending:18},{name:"T5",confirmed:480,cancelled:48,pending:22},{name:"T6",confirmed:380,cancelled:38,pending:15},{name:"T7",confirmed:430,cancelled:43,pending:20}],Uw=[{name:"室內",value:400,color:"#3B82F6"},{name:"戶外",value:300,color:"#10B981"},{name:"無障礙",value:100,color:"#F59E0B"}],ace=[{name:"王小明",bookings:45,totalSpent:125e4,lastBooking:"2024-01-15"},{name:"李小華",bookings:38,totalSpent:98e4,lastBooking:"2024-01-14"},{name:"張大偉",bookings:32,totalSpent:85e4,lastBooking:"2024-01-13"},{name:"陳美玲",bookings:28,totalSpent:72e4,lastBooking:"2024-01-12"},{name:"劉志強",bookings:25,totalSpent:65e4,lastBooking:"2024-01-11"}],sce=[{hour:"6:00",bookings:12},{hour:"7:00",bookings:25},{hour:"8:00",bookings:45},{hour:"9:00",bookings:38},{hour:"10:00",bookings:32},{hour:"11:00",bookings:28},{hour:"12:00",bookings:55},{hour:"13:00",bookings:42},{hour:"14:00",bookings:35},{hour:"15:00",bookings:48},{hour:"16:00",bookings:62},{hour:"17:00",bookings:58},{hour:"18:00",bookings:45},{hour:"19:00",bookings:38},{hour:"20:00",bookings:25},{hour:"21:00",bookings:18},{hour:"22:00",bookings:12},{hour:"23:00",bookings:8}],Ww=()=>{var S,N,j,A,O,P,T;const[e,t]=v.useState(!0),[r,n]=v.useState(null),[s,i]=v.useState(null);console.log(s);const[o,c]=v.useState([]),[l,u]=v.useState(null),[d,f]=v.useState("overview"),[h,p]=v.useState("7d");v.useEffect(()=>{g()},[]);const g=async()=>{try{t(!0);const[_,k,E,C]=await Promise.all([_$(),P$("today"),k$(),T$()]);n(_),i(k),c(E),u(C)}catch{Y.error("無法載入儀表板資料")}finally{t(!1)}},m=()=>{Y.success("報告匯出成功")},x=_=>_.toLocaleString("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0,maximumFractionDigits:0}),b=_=>{const k={pending:{label:"等待確認",variant:"secondary",color:"bg-yellow-100 text-yellow-800"},confirmed:{label:"預約成功",variant:"default",color:"bg-blue-100 text-blue-800"},"checked-in":{label:"已進入停車場",variant:"default",color:"bg-green-100 text-green-800"},"checked-out":{label:"已離開停車場",variant:"secondary",color:"bg-gray-100 text-gray-800"},cancelled:{label:"已取消",variant:"destructive",color:"bg-red-100 text-red-800"}},E=k[_]||k.pending;return a.jsx(Le,{variant:E.variant,className:E.color,children:E.label})},y=_=>_>=0?a.jsx(la,{className:"h-4 w-4 text-green-500"}):a.jsx(yu,{className:"h-4 w-4 text-red-500"}),w=o.map(_=>({name:_.name,value:_.occupancyRate}));return e?a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}):a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"儀表板"}),a.jsx("p",{className:"text-gray-600",children:"停車場系統概覽"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(en,{value:h,onValueChange:p,children:[a.jsx(Mr,{className:"w-32",children:a.jsx(tn,{})}),a.jsxs(Rr,{children:[a.jsx(at,{value:"7d",children:"7天"}),a.jsx(at,{value:"30d",children:"30天"}),a.jsx(at,{value:"90d",children:"90天"}),a.jsx(at,{value:"1y",children:"1年"})]})]}),a.jsxs(W,{variant:"outline",onClick:g,children:[a.jsx(Hn,{className:"h-4 w-4 mr-2"}),"重新整理"]}),a.jsxs(W,{onClick:m,children:[a.jsx(F1,{className:"h-4 w-4 mr-2"}),"匯出報告"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[a.jsxs(ue,{children:[a.jsxs(xe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ye,{className:"text-sm font-medium",children:"今日預約"}),a.jsx(Et,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(he,{children:[a.jsx("div",{className:"text-2xl font-bold",children:(r==null?void 0:r.todayBookings)||0}),a.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[y(8.2),a.jsx("span",{className:"ml-1",children:"比昨天增加8.2%"})]})]})]}),a.jsxs(ue,{children:[a.jsxs(xe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ye,{className:"text-sm font-medium",children:"今日營收"}),a.jsx(ui,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(he,{children:[a.jsx("div",{className:"text-2xl font-bold",children:x((r==null?void 0:r.todayRevenue)||0)}),a.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[y(12.5),a.jsx("span",{className:"ml-1",children:"比昨天增加12.5%"})]})]})]}),a.jsxs(ue,{children:[a.jsxs(xe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ye,{className:"text-sm font-medium",children:"剩餘空位"}),a.jsx(ir,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(he,{children:[a.jsx("div",{className:"text-2xl font-bold",children:(r==null?void 0:r.availableSpaces)||0}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["總共 ",(r==null?void 0:r.totalSpaces)||0," 個停車位"]})]})]}),a.jsxs(ue,{children:[a.jsxs(xe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ye,{className:"text-sm font-medium",children:"正在停車"}),a.jsx(aa,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(he,{children:[a.jsx("div",{className:"text-2xl font-bold",children:(r==null?void 0:r.parkedVehicles)||0}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[(r==null?void 0:r.leavingToday)||0," 輛車今天即將離開"]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[a.jsxs(ue,{children:[a.jsxs(xe,{children:[a.jsxs(ye,{className:"flex items-center space-x-2",children:[a.jsx(la,{className:"h-5 w-5"}),a.jsx("span",{children:"營收趨勢"})]}),a.jsx(rt,{children:"按時間的營收"})]}),a.jsx(he,{style:{height:300},children:a.jsx(rs,{width:"100%",height:"100%",children:a.jsxs(Vw,{data:am,children:[a.jsx(li,{strokeDasharray:"3 3"}),a.jsx(kn,{dataKey:"name"}),a.jsx(Tn,{}),a.jsx(dr,{}),a.jsx(Fn,{type:"monotone",dataKey:"revenue",stroke:"#3B82F6",fill:"#3B82F6",fillOpacity:.3})]})})})]}),a.jsxs(ue,{children:[a.jsxs(xe,{children:[a.jsxs(ye,{className:"flex items-center space-x-2",children:[a.jsx(Ps,{className:"h-5 w-5"}),a.jsx("span",{children:"停車場使用率"})]}),a.jsx(rt,{children:"各類型停車場的使用分布"})]}),a.jsx(he,{style:{height:300},children:a.jsx(rs,{width:"100%",height:"100%",children:a.jsxs(Bw,{children:[a.jsx(Wn,{data:w,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:100,label:!0,children:w.map((_,k)=>a.jsx(Mc,{fill:zw[k%zw.length]},`cell-${k}`))}),a.jsx(dr,{}),a.jsx(ws,{})]})})})]})]}),a.jsxs(ue,{className:"mb-8",children:[a.jsxs(xe,{children:[a.jsxs(ye,{className:"flex items-center space-x-2",children:[a.jsx(Hr,{className:"h-5 w-5"}),a.jsx("span",{children:"高峰時段"})]}),a.jsx(rt,{children:"每日各時段的預約數量"})]}),a.jsx(he,{style:{height:300},children:a.jsx(rs,{width:"100%",height:"100%",children:a.jsxs(Fw,{data:sce,children:[a.jsx(li,{strokeDasharray:"3 3"}),a.jsx(kn,{dataKey:"hour"}),a.jsx(Tn,{}),a.jsx(dr,{}),a.jsx(Ka,{dataKey:"bookings",fill:"#10B981"})]})})})]}),a.jsxs(ho,{value:d,onValueChange:f,className:"space-y-6",children:[a.jsxs(Gs,{className:"grid w-full grid-cols-5",children:[a.jsx(Mt,{value:"overview",children:"概覽"}),a.jsx(Mt,{value:"revenue",children:"營收"}),a.jsx(Mt,{value:"bookings",children:"預約"}),a.jsx(Mt,{value:"customers",children:"客戶"}),a.jsx(Mt,{value:"parking",children:"停車場"})]}),a.jsx(er,{value:"overview",className:"space-y-6",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(ue,{children:[a.jsxs(xe,{children:[a.jsxs(ye,{className:"flex items-center space-x-2",children:[a.jsx(yE,{className:"h-5 w-5"}),a.jsx("span",{children:"最近預約"})]}),a.jsx(rt,{children:"最新預約清單"})]}),a.jsx(he,{children:a.jsx("div",{className:"space-y-4",children:(S=r==null?void 0:r.recentBookings)==null?void 0:S.slice(0,5).map(_=>a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx(Nr,{className:"h-5 w-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:_.driverName}),a.jsx("p",{className:"text-sm text-gray-600",children:_.licensePlate})]})]}),a.jsxs("div",{className:"text-right",children:[b(_.status),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:$t(_.checkInTime)})]})]},_._id))})})]}),a.jsxs(ue,{children:[a.jsxs(xe,{children:[a.jsxs(ye,{className:"flex items-center space-x-2",children:[a.jsx(hc,{className:"h-5 w-5"}),a.jsx("span",{children:"快速操作"})]}),a.jsx(rt,{children:"常用操作"})]}),a.jsx(he,{children:a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs(W,{className:"h-20 flex flex-col space-y-2",children:[a.jsx(qr,{className:"h-6 w-6"}),a.jsx("span",{children:"創建預約"})]}),a.jsxs(W,{variant:"outline",className:"h-20 flex flex-col space-y-2",children:[a.jsx(I1,{className:"h-6 w-6"}),a.jsx("span",{children:"報告"})]}),a.jsxs(W,{variant:"outline",className:"h-20 flex flex-col space-y-2",children:[a.jsx(aa,{className:"h-6 w-6"}),a.jsx("span",{children:"管理客戶"})]}),a.jsxs(W,{variant:"outline",className:"h-20 flex flex-col space-y-2",children:[a.jsx(hc,{className:"h-6 w-6"}),a.jsx("span",{children:"設定"})]})]})})]})]})}),a.jsxs(er,{value:"revenue",className:"space-y-6",children:[a.jsxs(ue,{children:[a.jsxs(xe,{children:[a.jsx(ye,{children:"營收分析"}),a.jsx(rt,{children:"按時間的詳細營收"})]}),a.jsx(he,{children:a.jsx(rs,{width:"100%",height:400,children:a.jsxs(Vw,{data:am,children:[a.jsx(li,{strokeDasharray:"3 3"}),a.jsx(kn,{dataKey:"name"}),a.jsx(Tn,{}),a.jsx(dr,{}),a.jsx(Fn,{type:"monotone",dataKey:"revenue",stroke:"#3B82F6",fill:"#3B82F6",fillOpacity:.3}),a.jsx(Fn,{type:"monotone",dataKey:"bookings",stroke:"#10B981",fill:"#10B981",fillOpacity:.3})]})})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs(ue,{children:[a.jsx(xe,{children:a.jsx(ye,{className:"text-lg",children:"平均每日營收"})}),a.jsxs(he,{children:[a.jsx("div",{className:"text-3xl font-bold text-green-600",children:x(516e3)}),a.jsx("p",{className:"text-sm text-gray-500",children:"比上個月增長12.5%"})]})]}),a.jsxs(ue,{children:[a.jsx(xe,{children:a.jsx(ye,{className:"text-lg",children:"最高營收"})}),a.jsxs(he,{children:[a.jsx("div",{className:"text-3xl font-bold text-blue-600",children:x(349e4)}),a.jsx("p",{className:"text-sm text-gray-500",children:"2024年7月"})]})]}),a.jsxs(ue,{children:[a.jsx(xe,{children:a.jsx(ye,{className:"text-lg",children:"增長率"})}),a.jsxs(he,{children:[a.jsx("div",{className:"text-3xl font-bold text-purple-600",children:"+15.2%"}),a.jsx("p",{className:"text-sm text-gray-500",children:"與去年同期相比"})]})]})]})]}),a.jsxs(er,{value:"bookings",className:"space-y-6",children:[a.jsxs(ue,{children:[a.jsxs(xe,{children:[a.jsx(ye,{children:"預約趨勢"}),a.jsx(rt,{children:"按狀態的預約統計"})]}),a.jsx(he,{children:a.jsx(rs,{width:"100%",height:400,children:a.jsxs(rce,{data:nce,children:[a.jsx(li,{strokeDasharray:"3 3"}),a.jsx(kn,{dataKey:"name"}),a.jsx(Tn,{}),a.jsx(dr,{}),a.jsx(Os,{type:"monotone",dataKey:"confirmed",stroke:"#10B981",strokeWidth:2}),a.jsx(Os,{type:"monotone",dataKey:"cancelled",stroke:"#EF4444",strokeWidth:2}),a.jsx(Os,{type:"monotone",dataKey:"pending",stroke:"#F59E0B",strokeWidth:2})]})})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs(ue,{children:[a.jsx(xe,{children:a.jsx(ye,{className:"text-lg",children:"成功預約"})}),a.jsxs(he,{children:[a.jsx("div",{className:"text-3xl font-bold text-green-600",children:"2,679"}),a.jsx("p",{className:"text-sm text-gray-500",children:"94.2% 總預約數"})]})]}),a.jsxs(ue,{children:[a.jsx(xe,{children:a.jsx(ye,{className:"text-lg",children:"已取消預約"})}),a.jsxs(he,{children:[a.jsx("div",{className:"text-3xl font-bold text-red-600",children:"168"}),a.jsx("p",{className:"text-sm text-gray-500",children:"5.8% 總預約數"})]})]}),a.jsxs(ue,{children:[a.jsx(xe,{children:a.jsx(ye,{className:"text-lg",children:"等待確認"})}),a.jsxs(he,{children:[a.jsx("div",{className:"text-3xl font-bold text-yellow-600",children:"45"}),a.jsx("p",{className:"text-sm text-gray-500",children:"1.6% 總預約數"})]})]})]})]}),a.jsxs(er,{value:"customers",className:"space-y-6",children:[a.jsxs(ue,{children:[a.jsxs(xe,{children:[a.jsx(ye,{children:"頂級客戶"}),a.jsx(rt,{children:"預約數量最高的前5名客戶"})]}),a.jsx(he,{children:a.jsx("div",{className:"space-y-4",children:ace.map((_,k)=>a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-sm font-semibold text-blue-600",children:k+1})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold",children:_.name}),a.jsxs("p",{className:"text-sm text-gray-500",children:[_.bookings," 預約 • ",x(_.totalSpent)]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm text-gray-500",children:"最後預約"}),a.jsx("p",{className:"text-sm font-medium",children:or(_.lastBooking)})]})]},k))})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs(ue,{children:[a.jsxs(xe,{children:[a.jsx(ye,{children:"新客戶"}),a.jsx(rt,{children:"按月份的新客戶統計"})]}),a.jsx(he,{children:a.jsx(rs,{width:"100%",height:300,children:a.jsxs(Fw,{data:am,children:[a.jsx(li,{strokeDasharray:"3 3"}),a.jsx(kn,{dataKey:"name"}),a.jsx(Tn,{}),a.jsx(dr,{}),a.jsx(Ka,{dataKey:"bookings",fill:"#3B82F6"})]})})})]}),a.jsxs(ue,{children:[a.jsxs(xe,{children:[a.jsx(ye,{children:"客戶統計"}),a.jsx(rt,{children:"客戶概覽"})]}),a.jsxs(he,{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{children:"總客戶數"}),a.jsx("span",{className:"font-semibold",children:"1,247"})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{children:"本月新客戶"}),a.jsx("span",{className:"font-semibold text-green-600",children:"156"})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{children:"VIP客戶"}),a.jsx("span",{className:"font-semibold text-purple-600",children:"89"})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{children:"回訪率"}),a.jsx("span",{className:"font-semibold text-blue-600",children:"78.5%"})]})]})]})]})]}),a.jsxs(er,{value:"parking",className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(ue,{children:[a.jsxs(xe,{children:[a.jsxs(ye,{className:"flex items-center space-x-2",children:[a.jsx(Ps,{className:"h-5 w-5"}),a.jsx("span",{children:"停車場狀態"})]}),a.jsx(rt,{children:"各停車場狀況概覽"})]}),a.jsx(he,{children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.map(_=>a.jsx(ue,{className:"hover:shadow-md transition-shadow",children:a.jsxs(he,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h3",{className:"font-semibold",children:_.name}),a.jsx(Le,{variant:(_.type||"indoor")==="indoor"?"default":"secondary",children:(_.type||"indoor")==="indoor"?"🏢 Trong nhà":(_.type||"indoor")==="outdoor"?"🌤 Ngoài trời":"♿️ Khuyết tật"})]}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"空位:"}),a.jsxs("span",{className:"font-medium",children:[_.availableSpaces,"/",_.totalSpaces]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"使用率:"}),a.jsxs("span",{className:"font-medium",children:[_.occupancyRate,"%"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"基本價格:"}),a.jsxs("span",{className:"font-medium",children:[x(_.pricePerDay),"/天"]})]})]}),a.jsx("div",{className:"mt-3",children:a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-[#39653f] h-2 rounded-full",style:{width:`${100-_.occupancyRate}%`}})})})]})},_._id))})})]}),a.jsxs(ue,{children:[a.jsxs(xe,{children:[a.jsx(ye,{children:"停車場效能"}),a.jsx(rt,{children:"各類型停車場的使用率"})]}),a.jsx(he,{children:a.jsx(rs,{width:"100%",height:300,children:a.jsxs(Bw,{children:[a.jsx(Wn,{data:Uw,cx:"50%",cy:"50%",labelLine:!1,label:({name:_,percent:k})=>`${_} ${(k*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:Uw.map((_,k)=>a.jsx(Mc,{fill:_.color},`cell-${k}`))}),a.jsx(dr,{})]})})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs(ue,{children:[a.jsxs(xe,{children:[a.jsxs(ye,{className:"flex items-center space-x-2",children:[a.jsx(ir,{className:"h-5 w-5"}),a.jsxs("span",{children:["正在停車 (",((N=l==null?void 0:l.parkedVehicles)==null?void 0:N.length)||0,")"]})]}),a.jsx(rt,{children:"停車場內的車輛清單"})]}),a.jsx(he,{children:a.jsx("div",{className:"space-y-3",children:(j=l==null?void 0:l.parkedVehicles)==null?void 0:j.slice(0,5).map(_=>a.jsxs("div",{className:"p-3 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"font-medium",children:_.driverName}),a.jsx(pr,{className:"h-4 w-4 text-green-600"})]}),a.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[a.jsx("div",{children:_.licensePlate}),a.jsxs("div",{children:["進入: ",$t(_.actualCheckInTime||_.checkInTime)]}),a.jsxs("div",{children:["預計離開: ",$t(_.checkOutTime)]})]})]},_._id))})})]}),a.jsxs(ue,{children:[a.jsxs(xe,{children:[a.jsxs(ye,{className:"flex items-center space-x-2",children:[a.jsx(Hr,{className:"h-5 w-5"}),a.jsxs("span",{children:["即將到達 (",((A=l==null?void 0:l.arrivingToday)==null?void 0:A.length)||0,")"]})]}),a.jsx(rt,{children:"今天預計到達的車輛"})]}),a.jsx(he,{children:a.jsx("div",{className:"space-y-3",children:(O=l==null?void 0:l.arrivingToday)==null?void 0:O.slice(0,5).map(_=>a.jsxs("div",{className:"p-3 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"font-medium",children:_.driverName}),a.jsx(yi,{className:"h-4 w-4 text-yellow-600"})]}),a.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[a.jsx("div",{children:_.licensePlate}),a.jsxs("div",{children:["預計: ",$t(_.estimatedArrivalTime||_.checkInTime)]}),a.jsxs("div",{children:["航班: ",_.flightNumber||"N/A"]})]})]},_._id))})})]}),a.jsxs(ue,{children:[a.jsxs(xe,{children:[a.jsxs(ye,{className:"flex items-center space-x-2",children:[a.jsx(Gr,{className:"h-5 w-5"}),a.jsxs("span",{children:["即將離開 (",((P=l==null?void 0:l.leavingToday)==null?void 0:P.length)||0,")"]})]}),a.jsx(rt,{children:"今天預計離開的車輛"})]}),a.jsx(he,{children:a.jsx("div",{className:"space-y-3",children:(T=l==null?void 0:l.leavingToday)==null?void 0:T.slice(0,5).map(_=>a.jsxs("div",{className:"p-3 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"font-medium",children:_.driverName}),a.jsx(Gr,{className:"h-4 w-4 text-red-600"})]}),a.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[a.jsx("div",{children:_.licensePlate}),a.jsxs("div",{children:["預計離開: ",$t(_.checkOutTime)]}),a.jsxs("div",{children:["已停車: ",$t(_.actualCheckInTime||_.checkInTime)]})]})]},_._id))})})]})]})]})]})]})},zr=v.forwardRef(({className:e,...t},r)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:r,className:Ye("w-full caption-bottom text-sm",e),...t})}));zr.displayName="Table";const Ur=v.forwardRef(({className:e,...t},r)=>a.jsx("thead",{ref:r,className:Ye("[&_tr]:border-b",e),...t}));Ur.displayName="TableHeader";const Wr=v.forwardRef(({className:e,...t},r)=>a.jsx("tbody",{ref:r,className:Ye("[&_tr:last-child]:border-0",e),...t}));Wr.displayName="TableBody";const ice=v.forwardRef(({className:e,...t},r)=>a.jsx("tfoot",{ref:r,className:Ye("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));ice.displayName="TableFooter";const Pt=v.forwardRef(({className:e,...t},r)=>a.jsx("tr",{ref:r,className:Ye("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Pt.displayName="TableRow";const _e=v.forwardRef(({className:e,...t},r)=>a.jsx("th",{ref:r,className:Ye("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));_e.displayName="TableHead";const Pe=v.forwardRef(({className:e,...t},r)=>a.jsx("td",{ref:r,className:Ye("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Pe.displayName="TableCell";const oce=v.forwardRef(({className:e,...t},r)=>a.jsx("caption",{ref:r,className:Ye("mt-4 text-sm text-muted-foreground",e),...t}));oce.displayName="TableCaption";const cce=()=>{const[e,t]=v.useState([]),[r,n]=v.useState(!0),[s,i]=v.useState(0),[o,c]=v.useState(1),[l,u]=v.useState(1),[d,f]=v.useState({status:"all",dateFrom:"",dateTo:"",search:""}),[h,p]=v.useState(null),[g,m]=v.useState(!1),[x,b]=v.useState("table"),[y,w]=v.useState([]),[S,N]=v.useState(""),[j,A]=v.useState(""),[O,P]=v.useState(!1),[T,_]=v.useState([]),[k,E]=v.useState(new Date().getMonth()),[C,I]=v.useState(new Date().getFullYear());v.useEffect(()=>{F()},[o,d]),v.useEffect(()=>{x==="calendar"&&$()},[x,j,k,C]);const F=async()=>{try{n(!0);const R={...d,status:d.status==="all"?"":d.status,page:o,limit:10},de=await Lx(R);t(de.bookings),i(de.total),u(de.totalPages)}catch{Y.error("無法載入預約清單")}finally{n(!1)}},$=async()=>{try{n(!0);const de=(await Lx({...d,status:d.status==="all"?"":d.status,page:1,limit:1e3})).bookings.reduce((fe,ee)=>{const Me=new Date(ee.checkInTime).toISOString().split("T")[0],Se=ee.parkingType._id;return fe[Me]||(fe[Me]={}),fe[Me][Se]||(fe[Me][Se]={parkingType:ee.parkingType,bookings:[],totalBookings:0}),fe[Me][Se].bookings.push(ee),fe[Me][Se].totalBookings++,fe},{});w(de)}catch{Y.error("無法載入日曆數據")}finally{n(!1)}},q=async(R,de)=>{var fe,ee;try{await C$(R,de),Y.success("狀態更新成功"),F()}catch(Me){console.error("Status update error:",Me);const Se=((ee=(fe=Me.response)==null?void 0:fe.data)==null?void 0:ee.message)||Me.message||"狀態更新失敗";Y.error(Se)}},M=(R,de)=>()=>q(R,de),J=(R,de)=>{const fe=y[R];fe&&fe[de]&&(_(fe[de].bookings),N(R),A(de),P(!0))},V=R=>{R==="prev"?k===0?(E(11),I(C-1)):E(k-1):k===11?(E(0),I(C+1)):E(k+1)},z=()=>{const R=new Date;E(R.getMonth()),I(R.getFullYear())},B=R=>{const de=window.open("","_blank");if(!de)return;const fe=`
      <!DOCTYPE html>
      <html>
      <head>
        <title>預約詳情 - ${R.driverName}</title>
        <style>
          body { font-family: Arial, sans-serif; margin: 20px; }
          .header { text-align: center; border-bottom: 2px solid #333; padding-bottom: 10px; margin-bottom: 20px; }
          .section { margin-bottom: 20px; }
          .section h3 { color: #333; border-bottom: 1px solid #ccc; padding-bottom: 5px; }
          .info-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
          .info-item { margin-bottom: 8px; }
          .label { font-weight: bold; }
          .status { padding: 4px 8px; border-radius: 4px; font-size: 12px; }
          .status-pending { background-color: #fef3c7; color: #92400e; }
          .status-confirmed { background-color: #fef3c7; color: #92400e; }
          .status-checked-in { background-color: #d1fae5; color: #065f46; }
          .status-checked-out { background-color: #f3f4f6; color: #374151; }
          .status-cancelled { background-color: #fee2e2; color: #991b1b; }
          .services { display: flex; flex-wrap: wrap; gap: 5px; }
          .service-badge { background-color: #f3f4f6; padding: 2px 6px; border-radius: 4px; font-size: 12px; }
          .total { font-size: 18px; font-weight: bold; color: #333; }
          @media print {
            body { margin: 0; }
            .no-print { display: none; }
          }
        </style>
      </head>
      <body>
        <div class="header">
          <h1>預約詳細資訊</h1>
          <p>預約編號: ${R.bookingNumber||R._id}</p>
        </div>

        <div class="section">
          <h3>客戶資訊</h3>
          <div class="info-grid">
            <div class="info-item">
              <span class="label">姓名:</span> ${R.driverName}
            </div>
            <div class="info-item">
              <span class="label">電話:</span> ${R.phone}
            </div>
            <div class="info-item">
              <span class="label">電子郵件:</span> ${R.email||"無"}
            </div>
            <div class="info-item">
              <span class="label">車牌號碼:</span> ${R.licensePlate}
            </div>
            <div class="info-item">
              <span class="label">乘客:</span> ${R.passengerCount} 人
            </div>
            <div class="info-item">
              <span class="label">行李:</span> ${R.luggageCount} 件
            </div>
          </div>
        </div>

        ${R.passengerCount>0?`
        <div class="section">
          <h3>接駁服務信息</h3>
          <div class="info-grid">
            <div class="info-item">
              <span class="label">出發航廈:</span> ${R.departureTerminal==="terminal1"?"第一航廈":R.departureTerminal==="terminal2"?"第二航廈":"未選擇"}
            </div>
            <div class="info-item">
              <span class="label">回程航廈:</span> ${R.returnTerminal==="terminal1"?"第一航廈":R.returnTerminal==="terminal2"?"第二航廈":"未選擇"}
            </div>
          </div>
        </div>
        `:""}

        <div class="section">
          <h3>預約資訊</h3>
          <div class="info-grid">
            <div class="info-item">
              <span class="label">停車場:</span> ${R.parkingType.name}
            </div>
            <div class="info-item">
              <span class="label">類型:</span> ${(R.parkingType.type||"indoor")==="indoor"?"室內":(R.parkingType.type||"indoor")==="outdoor"?"戶外":"無障礙"}
            </div>
            <div class="info-item">
              <span class="label">進入時間:</span> ${$t(R.checkInTime)}
            </div>
            <div class="info-item">
              <span class="label">回國時間:</span> ${$t(R.checkOutTime)}
            </div>
            <div class="info-item">
              <span class="label">狀態:</span> 
              <span class="status status-${R.status}">
                ${R.status==="pending"?"等待進入停車場":R.status==="confirmed"?"等待進入停車場 (舊)":R.status==="checked-in"?"已進入停車場":R.status==="checked-out"?"已離開停車場":"已取消"}
              </span>
            </div>
            <div class="info-item">
              <span class="label">VIP:</span> ${R.isVIP?"是":"否"}
            </div>
          </div>
        </div>

        ${R.addonServices.length>0?`
        <div class="section">
          <h3>附加服務</h3>
          <div class="services">
            ${R.addonServices.map(ee=>`<span class="service-badge">${ee.service.icon} ${ee.service.name} - ${ee.price.toLocaleString("zh-TW")} TWD</span>`).join("")}
          </div>
        </div>
        `:""}

        <div class="section">
          <h3>每日價格明細</h3>
          <div class="info-grid">
            ${R.dailyPrices&&R.dailyPrices.length>0?R.dailyPrices.map(ee=>`
                <div class="info-item">
                  <span class="label">${new Date(ee.date).toLocaleDateString("zh-TW")}:</span> 
                  ${ee.price.toLocaleString("zh-TW")} TWD
                  ${ee.isSpecialPrice?` (特殊價格: ${ee.specialPriceReason||"特殊定價"})`:""}
                  ${ee.isMaintenanceDay?" 🔧 保養日":""}
                </div>
              `).join(""):`
              <div class="info-item">
                <span class="label">總金額:</span> 
                ${R.totalAmount.toLocaleString("zh-TW")} TWD
              </div>
              <div class="info-item">
                <span class="label">天數:</span> 
                ${R.durationDays||"未知"} 天
              </div>
              <div class="info-item">
                <span class="label">每日平均:</span> 
                ${R.durationDays?Math.round(R.totalAmount/R.durationDays).toLocaleString("zh-TW"):"未知"} TWD
              </div>
              `}
          </div>
        </div>

        <div class="section">
          <h3>付款資訊</h3>
          <div class="info-grid">
            <div class="info-item">
              <span class="label">總金額:</span> ${R.totalAmount.toLocaleString("zh-TW")} TWD
            </div>
            ${R.discountAmount>0?`
            <div class="info-item">
              <span class="label">折扣:</span> -${R.discountAmount.toLocaleString("zh-TW")} TWD
            </div>
            `:""}
            <div class="info-item total">
              <span class="label">應付金額:</span> ${R.finalAmount.toLocaleString("zh-TW")} TWD
            </div>
            <div class="info-item">
              <span class="label">付款方式:</span> ${R.paymentMethod}
            </div>
            <div class="info-item">
              <span class="label">付款狀態:</span> ${R.paymentStatus}
            </div>
          </div>
        </div>

        ${R.notes?`
        <div class="section">
          <h3>備註</h3>
          <p>${R.notes}</p>
        </div>
        `:""}

        <div class="no-print" style="margin-top: 30px; text-align: center;">
          <button onclick="window.print()">列印</button>
          <button onclick="window.close()">關閉</button>
        </div>
      </body>
      </html>
    `;de.document.write(fe),de.document.close()},G=R=>{const de={pending:{label:"等待進入停車場",variant:"secondary",color:"bg-yellow-100 text-yellow-800"},confirmed:{label:"等待進入停車場",variant:"secondary",color:"bg-yellow-100 text-yellow-800"},"checked-in":{label:"已進入停車場",variant:"default",color:"bg-green-100 text-green-800"},"checked-out":{label:"已離開停車場",variant:"secondary",color:"bg-gray-100 text-gray-800"},cancelled:{label:"已取消",variant:"destructive",color:"bg-red-100 text-red-800"}},fe=de[R]||de.pending;return a.jsx(Le,{variant:fe.variant,className:fe.color,children:fe.label})},ce=R=>R.toLocaleString("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0,maximumFractionDigits:0}),we=(R,de)=>{f(fe=>({...fe,[R]:de})),c(1)},pe=()=>{const R=new Date,de=new Date(C,k,1),ee=new Date(C,k+1,0).getDate(),Me=de.getDay(),Se=new Set;Object.values(y).forEach(ze=>{Object.keys(ze).forEach(L=>{Se.add(L)})});const tt=[];for(let ze=0;ze<Me;ze++)tt.push(null);for(let ze=1;ze<=ee;ze++){const L=`${C}-${String(k+1).padStart(2,"0")}-${String(ze).padStart(2,"0")}`,X=y[L]||{};tt.push({day:ze,date:L,data:X})}const nt=["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"];return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between bg-white p-4 rounded-lg border",children:[a.jsxs(W,{variant:"outline",size:"sm",onClick:()=>V("prev"),className:"flex items-center space-x-1",children:[a.jsx("span",{children:"‹"}),a.jsx("span",{children:"上月"})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs(en,{value:k.toString(),onValueChange:ze=>E(parseInt(ze)),children:[a.jsx(Mr,{className:"w-24",children:a.jsx(tn,{})}),a.jsx(Rr,{children:nt.map((ze,L)=>a.jsx(at,{value:L.toString(),children:ze},L))})]}),a.jsxs(en,{value:C.toString(),onValueChange:ze=>I(parseInt(ze)),children:[a.jsx(Mr,{className:"w-20",children:a.jsx(tn,{})}),a.jsx(Rr,{children:Array.from({length:10},(ze,L)=>{const X=new Date().getFullYear()-5+L;return a.jsx(at,{value:X.toString(),children:X},X)})})]})]}),a.jsx(W,{variant:"outline",size:"sm",onClick:z,className:"text-blue-600 hover:text-blue-700",children:"今天"})]}),a.jsxs(W,{variant:"outline",size:"sm",onClick:()=>V("next"),className:"flex items-center space-x-1",children:[a.jsx("span",{children:"下月"}),a.jsx("span",{children:"›"})]})]}),a.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[["日","一","二","三","四","五","六"].map(ze=>a.jsx("div",{className:"p-2 text-center font-semibold bg-gray-100",children:ze},ze)),tt.map((ze,L)=>{if(!ze)return a.jsx("div",{className:"p-2 min-h-[100px]"},L);const{day:X,date:Q,data:K}=ze,ae=Q===R.toISOString().split("T")[0],oe=new Date(Q).getMonth()===k;return a.jsxs("div",{className:`p-2 min-h-[100px] border border-gray-200 ${ae?"bg-blue-50 border-blue-300":oe?"bg-white":"bg-gray-50 text-gray-400"}`,children:[a.jsx("div",{className:`text-sm font-medium mb-1 ${ae?"bg-blue-600 text-white rounded-full w-6 h-6 flex items-center justify-center":""}`,children:X}),Object.keys(K).map(ke=>{const re=K[ke],Ce=re.parkingType,te=re.totalBookings,Be=50-te;return a.jsxs("div",{className:"mb-1 p-1 rounded text-xs cursor-pointer hover:bg-gray-100",onClick:()=>J(Q,ke),children:[a.jsx("div",{className:"font-medium text-blue-600",children:Ce.name}),a.jsxs("div",{className:"text-green-600",children:["空位: ",Be]}),a.jsxs("div",{className:"text-red-600",children:["已訂: ",te]})]},ke)})]},X)})]})]})},Oe=d.status||"all";return r&&e.length===0?a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})})}):a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold",children:"預約管理"}),a.jsx("p",{className:"text-gray-600",children:"管理系統中的所有預約"})]}),a.jsxs(ue,{className:"mb-6",children:[a.jsx(xe,{children:a.jsxs(ye,{className:"flex items-center space-x-2",children:[a.jsx(mr,{className:"h-5 w-5"}),a.jsx("span",{children:"篩選"})]})}),a.jsx(he,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"search",children:"搜尋"}),a.jsxs("div",{className:"relative",children:[a.jsx(Kr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),a.jsx(le,{id:"search",placeholder:"姓名、電話、車牌號碼...",value:d.search,onChange:R=>we("search",R.target.value),className:"pl-10"})]})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"status",children:"狀態"}),a.jsxs(en,{value:Oe,onValueChange:R=>we("status",R),defaultValue:"all",children:[a.jsx(Mr,{children:a.jsx(tn,{placeholder:"所有狀態"})}),a.jsxs(Rr,{children:[a.jsx(at,{value:"all",children:"所有狀態"}),a.jsx(at,{value:"pending",children:"等待進入停車場"}),a.jsx(at,{value:"confirmed",children:"等待進入停車場 (舊)"}),a.jsx(at,{value:"checked-in",children:"已進入停車場"}),a.jsx(at,{value:"checked-out",children:"已離開停車場"}),a.jsx(at,{value:"cancelled",children:"已取消"})]})]})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"dateFrom",children:"開始日期"}),a.jsx(le,{id:"dateFrom",type:"date",value:d.dateFrom,onChange:R=>we("dateFrom",R.target.value)})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"dateTo",children:"結束日期"}),a.jsx(le,{id:"dateTo",type:"date",value:d.dateTo,onChange:R=>we("dateTo",R.target.value)})]}),a.jsx("div",{className:"flex items-end",children:a.jsx(W,{onClick:F,className:"w-full",children:"篩選"})})]})})]}),a.jsx(ue,{className:"mb-6",children:a.jsx(he,{className:"pt-6",children:a.jsx(ho,{value:x,onValueChange:R=>b(R),children:a.jsxs(Gs,{className:"grid w-full grid-cols-2",children:[a.jsxs(Mt,{value:"table",className:"flex items-center space-x-2",children:[a.jsx($E,{className:"h-4 w-4"}),a.jsx("span",{children:"列表視圖"})]}),a.jsxs(Mt,{value:"calendar",className:"flex items-center space-x-2",children:[a.jsx(AE,{className:"h-4 w-4"}),a.jsx("span",{children:"日曆視圖"})]})]})})})}),a.jsxs(ue,{children:[a.jsxs(xe,{children:[a.jsx(ye,{children:"預約清單"}),a.jsx(rt,{children:x==="table"?`共 ${s} 筆預約 • 第 ${o} 頁，共 ${l} 頁`:"日曆視圖 - 點擊數字查看詳細預約"})]}),a.jsx(he,{children:r?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):x==="table"?a.jsxs(a.Fragment,{children:[a.jsxs(zr,{children:[a.jsx(Ur,{children:a.jsxs(Pt,{children:[a.jsx(_e,{children:"客戶"}),a.jsx(_e,{children:"停車場"}),a.jsx(_e,{children:"時間"}),a.jsx(_e,{children:"狀態"}),a.jsx(_e,{children:"金額"}),a.jsx(_e,{children:"操作"})]})}),a.jsx(Wr,{children:e.map(R=>a.jsxs(Pt,{children:[a.jsx(Pe,{children:a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"font-medium",children:R.driverName}),a.jsxs("div",{className:"text-sm text-gray-600 flex items-center space-x-2",children:[a.jsx(ca,{className:"h-3 w-3"}),a.jsx("span",{children:R.phone})]}),a.jsxs("div",{className:"text-sm text-gray-600 flex items-center space-x-2",children:[a.jsx(ir,{className:"h-3 w-3"}),a.jsx("span",{children:R.licensePlate})]})]})}),a.jsx(Pe,{children:a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"font-medium",children:R.parkingType.name}),a.jsxs("div",{className:"text-sm text-gray-600",children:[R.parkingType.icon||"🏢"," ",(R.parkingType.type||"indoor")==="indoor"?"室內":(R.parkingType.type||"indoor")==="outdoor"?"戶外":"無障礙"]})]})}),a.jsx(Pe,{children:a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"text-sm",children:[a.jsx(Et,{className:"h-3 w-3 inline mr-1"}),$t(R.checkInTime)]}),a.jsxs("div",{className:"text-sm",children:[a.jsx(Hr,{className:"h-3 w-3 inline mr-1"}),$t(R.checkOutTime)]})]})}),a.jsx(Pe,{children:G(R.status)}),a.jsx(Pe,{children:a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"font-medium",children:ce(R.finalAmount)}),R.discountAmount>0&&a.jsxs("div",{className:"text-sm text-green-600",children:["-",ce(R.discountAmount)]})]})}),a.jsx(Pe,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(W,{size:"sm",variant:"outline",onClick:()=>{p(R),m(!0)},children:a.jsx(Ma,{className:"h-4 w-4"})}),(R.status==="pending"||R.status==="confirmed")&&a.jsxs(a.Fragment,{children:[a.jsx(W,{size:"sm",variant:"default",className:"bg-[#39653f] hover:bg-[#2d4f33] text-white",onClick:M(R._id,"checked-in"),children:"已進入停車場"}),a.jsx(W,{size:"sm",variant:"destructive",onClick:M(R._id,"cancelled"),children:"取消"})]}),R.status==="checked-in"&&a.jsx(W,{size:"sm",variant:"default",className:"bg-[#39653f] hover:bg-[#2d4f33] text-white",onClick:M(R._id,"checked-out"),children:"已離開停車場"}),a.jsx(W,{size:"sm",variant:"outline",onClick:()=>B(R),children:a.jsx(pm,{className:"h-4 w-4"})})]})})]},R._id))})]}),l>1&&a.jsxs("div",{className:"flex items-center justify-between mt-6",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:["顯示第 ",(o-1)*10+1," - ",Math.min(o*10,s)," 筆，共 ",s," 筆結果"]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(W,{variant:"outline",size:"sm",onClick:()=>c(o-1),disabled:o===1,children:"上一頁"}),a.jsxs("span",{className:"text-sm",children:["第 ",o," 頁，共 ",l," 頁"]}),a.jsx(W,{variant:"outline",size:"sm",onClick:()=>c(o+1),disabled:o===l,children:"下一頁"})]})]})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"停車場使用情況日曆"}),a.jsx("p",{className:"text-gray-600",children:"點擊數字查看該日期的詳細預約"})]}),pe()]})})]}),a.jsx(ft,{open:O,onOpenChange:P,children:a.jsxs(it,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[a.jsxs(ot,{children:[a.jsx(lt,{children:"預約詳細列表"}),a.jsxs(ut,{children:[S," - ",T.length>0?T[0].parkingType.name:"停車場"," 的預約"]})]}),a.jsxs("div",{className:"space-y-4",children:[T.map(R=>a.jsxs(ue,{className:"p-4",children:[a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-sm text-gray-600",children:"客戶信息"}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"姓名:"})," ",R.driverName]}),a.jsxs("div",{children:[a.jsx("strong",{children:"電話:"})," ",R.phone]}),a.jsxs("div",{children:[a.jsx("strong",{children:"車牌:"})," ",R.licensePlate]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-sm text-gray-600",children:"時間信息"}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"進入:"})," ",$t(R.checkInTime)]}),a.jsxs("div",{children:[a.jsx("strong",{children:"離開:"})," ",$t(R.checkOutTime)]}),a.jsxs("div",{children:[a.jsx("strong",{children:"狀態:"})," ",G(R.status)]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-sm text-gray-600",children:"服務信息"}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"乘客:"})," ",R.passengerCount," 人"]}),a.jsxs("div",{children:[a.jsx("strong",{children:"行李:"})," ",R.luggageCount," 件"]}),R.passengerCount>0&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("strong",{children:"出發航廈:"})," ",R.departureTerminal==="terminal1"?"第一航廈":R.departureTerminal==="terminal2"?"第二航廈":"未選擇"]}),a.jsxs("div",{children:[a.jsx("strong",{children:"回程航廈:"})," ",R.returnTerminal==="terminal1"?"第一航廈":R.returnTerminal==="terminal2"?"第二航廈":"未選擇"]})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-sm text-gray-600",children:"金額信息"}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"總金額:"})," ",ce(R.totalAmount)]}),R.discountAmount>0&&a.jsxs("div",{children:[a.jsx("strong",{children:"折扣:"})," -",ce(R.discountAmount)]}),a.jsxs("div",{children:[a.jsx("strong",{children:"應付:"})," ",ce(R.finalAmount)]})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-2 mt-4",children:[a.jsxs(W,{size:"sm",variant:"outline",onClick:()=>{p(R),P(!1),m(!0)},children:[a.jsx(Ma,{className:"h-4 w-4 mr-1"}),"查看詳情"]}),a.jsxs(W,{size:"sm",variant:"outline",onClick:()=>B(R),children:[a.jsx(pm,{className:"h-4 w-4 mr-1"}),"列印"]})]})]},R._id)),T.length===0&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Et,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"沒有預約"}),a.jsx("p",{className:"text-gray-500",children:"該日期沒有預約記錄"})]})]}),a.jsx(ct,{children:a.jsx(W,{variant:"outline",onClick:()=>P(!1),children:"關閉"})})]})}),a.jsx(ft,{open:g,onOpenChange:m,children:a.jsxs(it,{className:"max-w-2xl",children:[a.jsxs(ot,{children:[a.jsx(lt,{children:"預約詳細資訊"}),a.jsx(ut,{children:"預約的詳細資訊"})]}),h&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-2",children:"客戶資訊"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"姓名:"})," ",h.driverName]}),a.jsxs("div",{children:[a.jsx("strong",{children:"電話:"})," ",h.phone]}),a.jsxs("div",{children:[a.jsx("strong",{children:"電子郵件:"})," ",h.email]}),a.jsxs("div",{children:[a.jsx("strong",{children:"車牌號碼:"})," ",h.licensePlate]}),a.jsxs("div",{children:[a.jsx("strong",{children:"乘客:"})," ",h.passengerCount," 人"]}),a.jsxs("div",{children:[a.jsx("strong",{children:"行李:"})," ",h.luggageCount," 件"]}),h.passengerCount>0&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("strong",{children:"出發航廈:"})," ",h.departureTerminal==="terminal1"?"第一航廈":h.departureTerminal==="terminal2"?"第二航廈":"未選擇"]}),a.jsxs("div",{children:[a.jsx("strong",{children:"回程航廈:"})," ",h.returnTerminal==="terminal1"?"第一航廈":h.returnTerminal==="terminal2"?"第二航廈":"未選擇"]})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-2",children:"預約資訊"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"停車場:"})," ",h.parkingType.name]}),a.jsxs("div",{children:[a.jsx("strong",{children:"類型:"})," ",h.parkingType.type||"indoor"]}),a.jsxs("div",{children:[a.jsx("strong",{children:"進入:"})," ",$t(h.checkInTime)]}),a.jsxs("div",{children:[a.jsx("strong",{children:"離開:"})," ",$t(h.checkOutTime)]}),a.jsxs("div",{children:[a.jsx("strong",{children:"狀態:"})," ",G(h.status)]}),a.jsxs("div",{children:[a.jsx("strong",{children:"VIP:"})," ",h.isVIP?"是":"否"]})]})]})]}),h.addonServices.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-2",children:"附加服務"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:h.addonServices.map((R,de)=>a.jsxs(Le,{variant:"outline",children:[R.service.icon," ",R.service.name," - ",ce(R.price)]},de))})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-2",children:"付款資訊"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"總金額:"})," ",ce(h.totalAmount)]}),h.discountAmount>0&&a.jsxs("div",{children:[a.jsx("strong",{children:"折扣:"})," -",ce(h.discountAmount)]}),a.jsxs("div",{children:[a.jsx("strong",{children:"應付金額:"})," ",ce(h.finalAmount)]}),a.jsxs("div",{children:[a.jsx("strong",{children:"付款方式:"})," ",h.paymentMethod]}),a.jsxs("div",{children:[a.jsx("strong",{children:"付款狀態:"})," ",h.paymentStatus]})]})]}),h.notes&&a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-2",children:"備註"}),a.jsx("p",{className:"text-sm bg-gray-50 p-3 rounded",children:h.notes})]})]}),a.jsx(ct,{children:a.jsx(W,{variant:"outline",onClick:()=>m(!1),children:"關閉"})})]})})]})};function lce(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function I2(e,t=[]){let r=[];function n(i,o){const c=v.createContext(o),l=r.length;r=[...r,o];const u=f=>{var b;const{scope:h,children:p,...g}=f,m=((b=h==null?void 0:h[e])==null?void 0:b[l])||c,x=v.useMemo(()=>g,Object.values(g));return a.jsx(m.Provider,{value:x,children:p})};u.displayName=i+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[l])||c,g=v.useContext(p);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(o=>v.createContext(o));return function(c){const l=(c==null?void 0:c[e])||i;return v.useMemo(()=>({[`__scope${e}`]:{...c,[e]:l}}),[c,l])}};return s.scopeName=e,[n,uce(s,...t)]}function uce(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((c,{useScope:l,scopeName:u})=>{const f=l(i)[`__scope${u}`];return{...c,...f}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function M2(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function dce({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,s]=fce({defaultProp:t,onChange:r}),i=e!==void 0,o=i?e:n,c=M2(r),l=v.useCallback(u=>{if(i){const f=typeof u=="function"?u(e):u;f!==e&&c(f)}else s(u)},[i,e,s,c]);return[o,l]}function fce({defaultProp:e,onChange:t}){const r=v.useState(e),[n]=r,s=v.useRef(n),i=M2(t);return v.useEffect(()=>{s.current!==n&&(i(n),s.current=n)},[n,s,i]),r}function hce(e){const t=v.useRef({value:e,previous:e});return v.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var mce=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{};function pce(e){const[t,r]=v.useState(void 0);return mce(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,c;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,c=u.blockSize}else o=e.offsetWidth,c=e.offsetHeight;r({width:o,height:c})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Qv="Switch",[gce,mle]=I2(Qv),[vce,xce]=gce(Qv),R2=v.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:i,required:o,disabled:c,value:l="on",onCheckedChange:u,form:d,...f}=e,[h,p]=v.useState(null),g=WE(t,w=>p(w)),m=v.useRef(!1),x=h?d||!!h.closest("form"):!0,[b=!1,y]=dce({prop:s,defaultProp:i,onChange:u});return a.jsxs(vce,{scope:r,checked:b,disabled:c,children:[a.jsx(gl.button,{type:"button",role:"switch","aria-checked":b,"aria-required":o,"data-state":B2(b),"data-disabled":c?"":void 0,disabled:c,value:l,...f,ref:g,onClick:lce(e.onClick,w=>{y(S=>!S),x&&(m.current=w.isPropagationStopped(),m.current||w.stopPropagation())})}),x&&a.jsx(yce,{control:h,bubbles:!m.current,name:n,value:l,checked:b,required:o,disabled:c,form:d,style:{transform:"translateX(-100%)"}})]})});R2.displayName=Qv;var L2="SwitchThumb",F2=v.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=xce(L2,r);return a.jsx(gl.span,{"data-state":B2(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});F2.displayName=L2;var yce=e=>{const{control:t,checked:r,bubbles:n=!0,...s}=e,i=v.useRef(null),o=hce(r),c=pce(t);return v.useEffect(()=>{const l=i.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==r&&f){const h=new Event("click",{bubbles:n});f.call(l,r),l.dispatchEvent(h)}},[o,r,n]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:i,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function B2(e){return e?"checked":"unchecked"}var V2=R2,bce=F2;const Nt=v.forwardRef(({className:e,...t},r)=>a.jsx(V2,{className:Ye("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:a.jsx(bce,{className:Ye("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Nt.displayName=V2.displayName;const jce=()=>{var Jt,ar,Vt,Zn,rx,nx,ax,sx,ix,ox,cx;const[e,t]=v.useState([]),[r,n]=v.useState(!0),[s,i]=v.useState(!1),[o,c]=v.useState(!1);console.log(o,"isTyping");const l=v.useRef(null),[u,d]=v.useState(""),[f,h]=v.useState({search:"",role:"all",vipStatus:"all",isActive:"all"}),[p,g]=v.useState(null),[m,x]=v.useState(!1),[b,y]=v.useState(!1),[w,S]=v.useState(!1),[N,j]=v.useState(!1),[A,O]=v.useState(!1),[P,T]=v.useState(!1),[_,k]=v.useState(!1),[E,C]=v.useState(1),[I,F]=v.useState(1),[$,q]=v.useState(0),[M,J]=v.useState([]),[V,z]=v.useState("all");console.log(V,"activeTab");const[B,G]=v.useState({totalUsers:0,vipUsers:0,activeUsers:0,newUsersThisMonth:0}),[ce,we]=v.useState({name:"",email:"",phone:"",password:"",role:"user",licensePlate:"",address:"",isVIP:!1,vipDiscount:10,notes:""}),[pe,Oe]=v.useState({isVIP:!1,vipDiscount:10}),[R,de]=v.useState({newPassword:"",confirmPassword:""});v.useEffect(()=>{fe()},[f.search,f.role,f.vipStatus,f.isActive]),v.useEffect(()=>()=>{l.current&&clearTimeout(l.current)},[]);const fe=async()=>{try{n(!0);const H={page:1,limit:1e3};f.search&&(H.search=f.search),f.role!=="all"&&(H.role=f.role),f.vipStatus!=="all"&&(H.isVIP=f.vipStatus==="vip"),f.isActive!=="all"&&(H.isActive=f.isActive==="active");const be=await E$(H),Ie=await Promise.all(be.users.map(async It=>{try{const lr=await $$(It._id);return{...It,stats:lr.stats}}catch(lr){return console.error(`Error loading stats for user ${It._id}:`,lr),{...It,stats:{totalBookings:0,totalSpent:0,averageSpent:0,bookingTrend:"stable",recentBookings:[],completedBookings:0,cancelledBookings:0,pendingBookings:0,confirmedBookings:0,averageDuration:0,totalVipSavings:0,vipBookingsCount:0}}}}));J(Ie),t(Ie),q(be.total||0),F(Math.ceil((be.total||0)/10)),G({totalUsers:be.total||0,vipUsers:Ie.filter(It=>It.isVIP).length,activeUsers:Ie.filter(It=>It.isActive).length,newUsersThisMonth:Math.floor(Math.random()*20)})}catch(H){Y.error("無法載入用戶列表"),console.error("Error loading users:",H)}finally{n(!1)}},ee=async()=>{var H,be;try{if(!ce.name||!ce.email||!ce.phone){Y.error("請填寫所有必填信息");return}await D$(ce),Y.success("創建用戶成功"),S(!1),L(),fe()}catch(Ie){Y.error(((be=(H=Ie.response)==null?void 0:H.data)==null?void 0:be.message)||"無法創建用戶"),console.error("Error creating user:",Ie)}},Me=async()=>{var H,be;if(p)try{const Ie={...ce};if(Ie.password)await dh(p._id,Ie);else{const{password:It,...lr}=Ie;await dh(p._id,lr)}Y.success("更新用戶信息成功"),y(!1),L(),fe()}catch(Ie){Y.error(((be=(H=Ie.response)==null?void 0:H.data)==null?void 0:be.message)||"無法更新用戶信息"),console.error("Error updating user:",Ie)}},Se=async()=>{var H,be;if(p)try{await I$(p._id),Y.success("刪除用戶成功"),j(!1),g(null),fe()}catch(Ie){Y.error(((be=(H=Ie.response)==null?void 0:H.data)==null?void 0:be.message)||"無法刪除用戶"),console.error("Error deleting user:",Ie)}},tt=async()=>{if(p)try{if(pe.isVIP&&(pe.vipDiscount<0||pe.vipDiscount>100)){Y.error("VIP折扣必須在0%到100%之間");return}const H=pe.isVIP?pe.vipDiscount:void 0;await Fx(p._id,pe.isVIP,H),Y.success("更新VIP信息成功"),O(!1),fe()}catch(H){Y.error("無法更新VIP信息"),console.error("Error updating VIP:",H)}},nt=async H=>{try{const be=e.find(Ie=>Ie._id===H);if(!be)return;await Fx(H,!0,be.vipDiscount),Y.success("創建VIP碼成功"),fe()}catch(be){Y.error("無法創建VIP碼"),console.error("Error generating VIP code:",be)}},ze=async()=>{var H,be;if(p)try{if(!R.newPassword||!R.confirmPassword){Y.error("請填寫所有密碼欄位");return}if(R.newPassword!==R.confirmPassword){Y.error("新密碼和確認密碼不匹配");return}if(R.newPassword.length<6){Y.error("密碼至少需要6個字符");return}await dh(p._id,{password:R.newPassword}),Y.success("密碼更新成功"),T(!1),de({newPassword:"",confirmPassword:""})}catch(Ie){Y.error(((be=(H=Ie.response)==null?void 0:H.data)==null?void 0:be.message)||"無法更新密碼"),console.error("Error changing password:",Ie)}},L=()=>{we({name:"",email:"",phone:"",password:"",role:"user",licensePlate:"",address:"",isVIP:!1,vipDiscount:10,notes:""}),k(!1),g(null)},X=()=>{L(),S(!0)},Q=H=>{g(H),we({name:H.name,email:H.email,phone:H.phone,password:"",role:H.role,licensePlate:H.licensePlate||"",address:H.address||"",isVIP:H.isVIP,vipDiscount:H.vipDiscount,notes:H.notes||""}),k(!0),y(!0)},K=H=>{g(H),Oe({isVIP:H.isVIP,vipDiscount:H.vipDiscount}),O(!0)},ae=H=>{g(H),j(!0)},oe=H=>{g(H),x(!0)},ke=H=>{g(H),de({newPassword:"",confirmPassword:""}),T(!0)},re=H=>{const be={admin:{label:"管理員",variant:"destructive",color:"bg-red-100 text-red-800"},staff:{label:"員工",variant:"default",color:"bg-blue-100 text-blue-800"},user:{label:"客戶",variant:"secondary",color:"bg-gray-100 text-gray-800"}},Ie=be[H]||be.user;return a.jsx(Le,{variant:Ie.variant,className:Ie.color,children:Ie.label})},Ce=H=>H?a.jsxs(Le,{variant:"default",className:"bg-green-100 text-green-800",children:[a.jsx(pr,{className:"h-3 w-3 mr-1"}),"活動"]}):a.jsxs(Le,{variant:"secondary",className:"bg-red-100 text-red-800",children:[a.jsx(Gr,{className:"h-3 w-3 mr-1"}),"暫時鎖定"]}),te=H=>{switch(H){case"up":return a.jsx(la,{className:"h-4 w-4 text-green-600"});case"down":return a.jsx(yu,{className:"h-4 w-4 text-red-600"});default:return a.jsx("div",{className:"h-4 w-4"})}},me=H=>H.toLocaleString("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0,maximumFractionDigits:0}),Be=H=>H<1?`${Math.round(H*24)} 小時`:`${Math.round(H)} 天`,U=H=>{const be={pending:{label:"等待確認",color:"bg-yellow-100 text-yellow-800"},confirmed:{label:"預約成功",color:"bg-blue-100 text-blue-800"},"checked-in":{label:"已進入停車場",color:"bg-green-100 text-green-800"},"checked-out":{label:"已離開停車場",color:"bg-gray-100 text-gray-800"},cancelled:{label:"已取消",color:"bg-red-100 text-red-800"}},Ie=be[H]||be.pending;return a.jsx(Le,{className:Ie.color,children:Ie.label})},ie=(H,be)=>{h(Ie=>({...Ie,[H]:be})),H!=="search"&&C(1)},Ve=v.useCallback(H=>{d(H),c(!0),i(!0),l.current&&clearTimeout(l.current),l.current=setTimeout(()=>{h(be=>({...be,search:H})),C(1),i(!1),c(!1)},500)},[]),Ee=(H,be,Ie=10)=>{const It=(be-1)*Ie,lr=It+Ie;return H.slice(It,lr)},Je=(H,be)=>{switch(be){case"vip":return H.filter(Ie=>Ie.isVIP);case"non-vip":return H.filter(Ie=>!Ie.isVIP);default:return H}},kt=()=>{Y.success("導出數據成功")};return r?a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}):a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"用戶管理"}),a.jsx("p",{className:"text-gray-600",children:"查看和管理系統中的所有用戶"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(W,{variant:"outline",onClick:kt,children:[a.jsx(F1,{className:"h-4 w-4 mr-2"}),"導出數據"]}),a.jsxs(W,{variant:"outline",onClick:fe,children:[a.jsx(Hn,{className:"h-4 w-4 mr-2"}),"刷新"]}),a.jsxs(W,{onClick:X,children:[a.jsx(qr,{className:"h-4 w-4 mr-2"}),"添加用戶"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[a.jsx(ue,{children:a.jsx(he,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"總用戶"}),a.jsx("p",{className:"text-2xl font-bold",children:B.totalUsers})]}),a.jsx(aa,{className:"h-8 w-8 text-blue-600"})]})})}),a.jsx(ue,{children:a.jsx(he,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"VIP用戶"}),a.jsx("p",{className:"text-2xl font-bold",children:B.vipUsers})]}),a.jsx(Do,{className:"h-8 w-8 text-yellow-600"})]})})}),a.jsx(ue,{children:a.jsx(he,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"非VIP用戶"}),a.jsx("p",{className:"text-2xl font-bold",children:B.totalUsers-B.vipUsers})]}),a.jsx(Nr,{className:"h-8 w-8 text-gray-600"})]})})}),a.jsx(ue,{children:a.jsx(he,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"活動用戶"}),a.jsx("p",{className:"text-2xl font-bold",children:B.activeUsers})]}),a.jsx(pr,{className:"h-8 w-8 text-green-600"})]})})})]}),a.jsxs(ue,{className:"mb-6",children:[a.jsx(xe,{children:a.jsxs(ye,{className:"flex items-center",children:[a.jsx(mr,{className:"h-5 w-5 mr-2"}),"過濾器"]})}),a.jsx(he,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"search",children:"搜索"}),a.jsxs("div",{className:"relative",children:[s?a.jsx("div",{className:"absolute left-3 top-3 h-4 w-4 animate-spin rounded-full border-2 border-blue-600 border-t-transparent"}):a.jsx(Kr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),a.jsx(le,{id:"search",placeholder:"姓名, 電子郵件, 電話號碼...",value:u,onChange:H=>Ve(H.target.value),onCompositionEnd:H=>Ve(H.currentTarget.value),className:"pl-10"})]})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"roleFilter",children:"角色"}),a.jsxs(en,{value:f.role,onValueChange:H=>ie("role",H),children:[a.jsx(Mr,{children:a.jsx(tn,{})}),a.jsxs(Rr,{children:[a.jsx(at,{value:"all",children:"所有角色"}),a.jsx(at,{value:"admin",children:"管理員"}),a.jsx(at,{value:"staff",children:"員工"}),a.jsx(at,{value:"user",children:"客戶"})]})]})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"vipFilter",children:"VIP"}),a.jsxs(en,{value:f.vipStatus,onValueChange:H=>ie("vipStatus",H),children:[a.jsx(Mr,{children:a.jsx(tn,{})}),a.jsxs(Rr,{children:[a.jsx(at,{value:"all",children:"所有"}),a.jsx(at,{value:"vip",children:"VIP"}),a.jsx(at,{value:"non-vip",children:"非VIP"})]})]})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"statusFilter",children:"狀態"}),a.jsxs(en,{value:f.isActive,onValueChange:H=>ie("isActive",H),children:[a.jsx(Mr,{children:a.jsx(tn,{})}),a.jsxs(Rr,{children:[a.jsx(at,{value:"all",children:"所有"}),a.jsx(at,{value:"active",children:"活動"}),a.jsx(at,{value:"inactive",children:"暫時鎖定"})]})]})]}),a.jsx("div",{className:"flex items-end",children:a.jsxs(W,{variant:"outline",className:"w-full",onClick:()=>{d(""),i(!1),c(!1),l.current&&clearTimeout(l.current),h({search:"",role:"all",vipStatus:"all",isActive:"all"}),C(1)},children:[a.jsx(mr,{className:"h-4 w-4 mr-2"}),"清除過濾器"]})})]})})]}),a.jsxs(ue,{children:[a.jsxs(xe,{children:[a.jsx(ye,{children:"用戶列表"}),a.jsxs(rt,{children:["總共 ",$," 用戶 • VIP: ",B.vipUsers," • 非VIP: ",B.totalUsers-B.vipUsers," • 第 ",E," 頁 / ",I," 頁"]})]}),a.jsx(he,{children:a.jsxs(ho,{defaultValue:"all",className:"w-full",onValueChange:H=>{z(H),C(1)},children:[a.jsxs(Gs,{className:"grid w-full grid-cols-3",children:[a.jsx(Mt,{value:"all",children:"所有用戶"}),a.jsx(Mt,{value:"vip",children:"VIP用戶"}),a.jsx(Mt,{value:"non-vip",children:"非VIP用戶"})]}),a.jsxs(er,{value:"all",children:[a.jsxs(zr,{children:[a.jsx(Ur,{children:a.jsxs(Pt,{children:[a.jsx(_e,{children:"信息"}),a.jsx(_e,{children:"角色 & VIP"}),a.jsx(_e,{children:"統計"}),a.jsx(_e,{children:"狀態"}),a.jsx(_e,{children:"操作"})]})}),a.jsx(Wr,{children:Ee(Je(M,"all"),E).map(H=>{var be,Ie,It,lr;return a.jsxs(Pt,{children:[a.jsx(Pe,{children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx(Nr,{className:"h-5 w-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:H.name}),a.jsxs("div",{className:"text-sm text-gray-600 flex items-center",children:[a.jsx(ji,{className:"h-3 w-3 mr-1"}),H.email]}),a.jsxs("div",{className:"text-sm text-gray-600 flex items-center",children:[a.jsx(ca,{className:"h-3 w-3 mr-1"}),H.phone]}),H.licensePlate&&a.jsxs("div",{className:"text-sm text-gray-600 flex items-center",children:[a.jsx(ir,{className:"h-3 w-3 mr-1"}),H.licensePlate]})]})]})}),a.jsx(Pe,{children:a.jsxs("div",{className:"space-y-2",children:[re(H.role),H.isVIP&&a.jsxs("div",{className:"space-y-1",children:[a.jsxs(Le,{variant:"default",className:"bg-yellow-100 text-yellow-800",children:[a.jsx(Io,{className:"h-3 w-3 mr-1"}),"VIP ",H.vipDiscount,"%"]}),H.vipCode?a.jsx("div",{className:"text-xs",children:a.jsx("code",{className:"bg-yellow-50 px-1 py-0.5 rounded text-yellow-700 font-mono",children:H.vipCode})}):a.jsx("div",{className:"text-xs text-red-600",children:"⚠️ 尚未有VIP碼"})]})]})}),a.jsx(Pe,{children:a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"預約:"}),a.jsx("span",{className:"font-medium",children:((be=H.stats)==null?void 0:be.totalBookings)||0})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"總支出:"}),a.jsx("span",{className:"font-medium",children:me(((Ie=H.stats)==null?void 0:Ie.totalSpent)||0)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"平均:"}),a.jsx("span",{className:"font-medium",children:me(((It=H.stats)==null?void 0:It.averageSpent)||0)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"趨勢:"}),te(((lr=H.stats)==null?void 0:lr.bookingTrend)||"stable")]})]})}),a.jsx(Pe,{children:Ce(H.isActive)}),a.jsx(Pe,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(W,{size:"sm",variant:"outline",onClick:()=>oe(H),title:"查看詳細信息",children:a.jsx(Ma,{className:"h-4 w-4"})}),a.jsx(W,{size:"sm",variant:"outline",onClick:()=>Q(H),title:"編輯",children:a.jsx(nn,{className:"h-4 w-4"})}),a.jsx(W,{size:"sm",variant:"outline",onClick:()=>K(H),title:"管理VIP",children:a.jsx(Do,{className:"h-4 w-4"})}),a.jsx(W,{size:"sm",variant:"outline",onClick:()=>ke(H),title:"更改密碼",className:"bg-blue-50 border-blue-200 text-blue-700 hover:bg-blue-100",children:a.jsx(uh,{className:"h-4 w-4"})}),H.isVIP&&!H.vipCode&&a.jsx(W,{size:"sm",variant:"outline",onClick:()=>nt(H._id),title:"創建VIP碼",className:"bg-yellow-50 border-yellow-200 text-yellow-700 hover:bg-yellow-100",children:a.jsx(Io,{className:"h-4 w-4"})}),H.role!=="admin"&&a.jsx(W,{size:"sm",variant:"destructive",onClick:()=>ae(H),title:"刪除用戶",children:a.jsx(_r,{className:"h-4 w-4"})})]})})]},H._id)})})]}),Je(M,"all").length===0&&a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(aa,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"找不到用戶"}),a.jsx("p",{className:"text-gray-500",children:"找不到任何用戶符合當前過濾器。"})]}),Math.ceil(Je(M,"non-vip").length/10)>1&&a.jsxs("div",{className:"flex items-center justify-between mt-6",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:["顯示 ",(E-1)*10+1," - ",Math.min(E*10,Je(M,"non-vip").length)," 的 ",Je(M,"non-vip").length," 用戶"]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs(W,{variant:"outline",size:"sm",onClick:()=>C(H=>Math.max(1,H-1)),disabled:E===1,children:[a.jsx(rc,{className:"h-4 w-4"}),"上一頁"]}),a.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,Math.ceil(Je(M,"non-vip").length/10))},(H,be)=>{const Ie=be+1;return a.jsx(W,{variant:E===Ie?"default":"outline",size:"sm",onClick:()=>C(Ie),children:Ie},Ie)})}),a.jsxs(W,{variant:"outline",size:"sm",onClick:()=>C(H=>Math.min(Math.ceil(Je(M,"non-vip").length/10),H+1)),disabled:E===Math.ceil(Je(M,"non-vip").length/10),children:["下一頁",a.jsx(nc,{className:"h-4 w-4"})]})]})]})]}),a.jsxs(er,{value:"vip",children:[a.jsxs(zr,{children:[a.jsx(Ur,{children:a.jsxs(Pt,{children:[a.jsx(_e,{children:"信息"}),a.jsx(_e,{children:"角色 & VIP"}),a.jsx(_e,{children:"統計"}),a.jsx(_e,{children:"狀態"}),a.jsx(_e,{children:"操作"})]})}),a.jsx(Wr,{children:Ee(Je(M,"vip"),E).map(H=>{var be,Ie,It,lr;return a.jsxs(Pt,{children:[a.jsx(Pe,{children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx(Nr,{className:"h-5 w-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:H.name}),a.jsxs("div",{className:"text-sm text-gray-600 flex items-center",children:[a.jsx(ji,{className:"h-3 w-3 mr-1"}),H.email]}),a.jsxs("div",{className:"text-sm text-gray-600 flex items-center",children:[a.jsx(ca,{className:"h-3 w-3 mr-1"}),H.phone]}),H.licensePlate&&a.jsxs("div",{className:"text-sm text-gray-600 flex items-center",children:[a.jsx(ir,{className:"h-3 w-3 mr-1"}),H.licensePlate]})]})]})}),a.jsx(Pe,{children:a.jsxs("div",{className:"space-y-2",children:[re(H.role),H.isVIP&&a.jsxs("div",{className:"space-y-1",children:[a.jsxs(Le,{variant:"default",className:"bg-yellow-100 text-yellow-800",children:[a.jsx(Io,{className:"h-3 w-3 mr-1"}),"VIP ",H.vipDiscount,"%"]}),H.vipCode?a.jsx("div",{className:"text-xs",children:a.jsx("code",{className:"bg-yellow-50 px-1 py-0.5 rounded text-yellow-700 font-mono",children:H.vipCode})}):a.jsx("div",{className:"text-xs text-red-600",children:"⚠️ 尚未有VIP碼"})]})]})}),a.jsx(Pe,{children:a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"預約:"}),a.jsx("span",{className:"font-medium",children:((be=H.stats)==null?void 0:be.totalBookings)||0})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"總支出:"}),a.jsx("span",{className:"font-medium",children:me(((Ie=H.stats)==null?void 0:Ie.totalSpent)||0)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"平均:"}),a.jsx("span",{className:"font-medium",children:me(((It=H.stats)==null?void 0:It.averageSpent)||0)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"趨勢:"}),te(((lr=H.stats)==null?void 0:lr.bookingTrend)||"stable")]})]})}),a.jsx(Pe,{children:Ce(H.isActive)}),a.jsx(Pe,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(W,{size:"sm",variant:"outline",onClick:()=>oe(H),title:"查看詳細信息",children:a.jsx(Ma,{className:"h-4 w-4"})}),a.jsx(W,{size:"sm",variant:"outline",onClick:()=>Q(H),title:"編輯",children:a.jsx(nn,{className:"h-4 w-4"})}),a.jsx(W,{size:"sm",variant:"outline",onClick:()=>K(H),title:"管理VIP",children:a.jsx(Do,{className:"h-4 w-4"})}),a.jsx(W,{size:"sm",variant:"outline",onClick:()=>ke(H),title:"更改密碼",className:"bg-blue-50 border-blue-200 text-blue-700 hover:bg-blue-100",children:a.jsx(uh,{className:"h-4 w-4"})}),H.isVIP&&!H.vipCode&&a.jsx(W,{size:"sm",variant:"outline",onClick:()=>nt(H._id),title:"創建VIP碼",className:"bg-yellow-50 border-yellow-200 text-yellow-700 hover:bg-yellow-100",children:a.jsx(Io,{className:"h-4 w-4"})}),H.role!=="admin"&&a.jsx(W,{size:"sm",variant:"destructive",onClick:()=>ae(H),title:"刪除用戶",children:a.jsx(_r,{className:"h-4 w-4"})})]})})]},H._id)})})]}),Je(M,"vip").length===0&&a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(aa,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"找不到VIP用戶"}),a.jsx("p",{className:"text-gray-500",children:"找不到任何VIP用戶符合當前過濾器。"})]}),Math.ceil(Je(M,"vip").length/10)>1&&a.jsxs("div",{className:"flex items-center justify-between mt-6",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:["顯示 ",(E-1)*10+1," - ",Math.min(E*10,Je(M,"vip").length)," 的 ",Je(M,"vip").length," 用戶"]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs(W,{variant:"outline",size:"sm",onClick:()=>C(H=>Math.max(1,H-1)),disabled:E===1,children:[a.jsx(rc,{className:"h-4 w-4"}),"上一頁"]}),a.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,Math.ceil(Je(M,"vip").length/10))},(H,be)=>{const Ie=be+1;return a.jsx(W,{variant:E===Ie?"default":"outline",size:"sm",onClick:()=>C(Ie),children:Ie},Ie)})}),a.jsxs(W,{variant:"outline",size:"sm",onClick:()=>C(H=>Math.min(Math.ceil(Je(M,"vip").length/10),H+1)),disabled:E===Math.ceil(Je(M,"vip").length/10),children:["下一頁",a.jsx(nc,{className:"h-4 w-4"})]})]})]})]}),a.jsxs(er,{value:"non-vip",children:[a.jsxs(zr,{children:[a.jsx(Ur,{children:a.jsxs(Pt,{children:[a.jsx(_e,{children:"信息"}),a.jsx(_e,{children:"角色 & VIP"}),a.jsx(_e,{children:"統計"}),a.jsx(_e,{children:"狀態"}),a.jsx(_e,{children:"操作"})]})}),a.jsx(Wr,{children:Ee(Je(M,"non-vip"),E).map(H=>{var be,Ie,It,lr;return a.jsxs(Pt,{children:[a.jsx(Pe,{children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx(Nr,{className:"h-5 w-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:H.name}),a.jsxs("div",{className:"text-sm text-gray-600 flex items-center",children:[a.jsx(ji,{className:"h-3 w-3 mr-1"}),H.email]}),a.jsxs("div",{className:"text-sm text-gray-600 flex items-center",children:[a.jsx(ca,{className:"h-3 w-3 mr-1"}),H.phone]}),H.licensePlate&&a.jsxs("div",{className:"text-sm text-gray-600 flex items-center",children:[a.jsx(ir,{className:"h-3 w-3 mr-1"}),H.licensePlate]})]})]})}),a.jsx(Pe,{children:a.jsxs("div",{className:"space-y-2",children:[re(H.role),a.jsx("div",{className:"text-xs text-gray-500",children:"非VIP用戶"})]})}),a.jsx(Pe,{children:a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"預約:"}),a.jsx("span",{className:"font-medium",children:((be=H.stats)==null?void 0:be.totalBookings)||0})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"總支出:"}),a.jsx("span",{className:"font-medium",children:me(((Ie=H.stats)==null?void 0:Ie.totalSpent)||0)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"平均:"}),a.jsx("span",{className:"font-medium",children:me(((It=H.stats)==null?void 0:It.averageSpent)||0)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"趨勢:"}),te(((lr=H.stats)==null?void 0:lr.bookingTrend)||"stable")]})]})}),a.jsx(Pe,{children:Ce(H.isActive)}),a.jsx(Pe,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(W,{size:"sm",variant:"outline",onClick:()=>oe(H),title:"查看詳細信息",children:a.jsx(Ma,{className:"h-4 w-4"})}),a.jsx(W,{size:"sm",variant:"outline",onClick:()=>Q(H),title:"編輯",children:a.jsx(nn,{className:"h-4 w-4"})}),a.jsx(W,{size:"sm",variant:"outline",onClick:()=>K(H),title:"管理VIP",children:a.jsx(Do,{className:"h-4 w-4"})}),H.role!=="admin"&&a.jsx(W,{size:"sm",variant:"destructive",onClick:()=>ae(H),title:"刪除用戶",children:a.jsx(_r,{className:"h-4 w-4"})})]})})]},H._id)})})]}),Je(M,"non-vip").length===0&&a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(aa,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"找不到非VIP用戶"}),a.jsx("p",{className:"text-gray-500",children:"找不到任何非VIP用戶符合當前過濾器。"})]}),Math.ceil(Je(M,"all").length/10)>1&&a.jsxs("div",{className:"flex items-center justify-between mt-6",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:["顯示 ",(E-1)*10+1," - ",Math.min(E*10,Je(M,"all").length)," 的 ",Je(M,"all").length," 用戶"]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs(W,{variant:"outline",size:"sm",onClick:()=>C(H=>Math.max(1,H-1)),disabled:E===1,children:[a.jsx(rc,{className:"h-4 w-4"}),"上一頁"]}),a.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,Math.ceil(Je(M,"all").length/10))},(H,be)=>{const Ie=be+1;return a.jsx(W,{variant:E===Ie?"default":"outline",size:"sm",onClick:()=>C(Ie),children:Ie},Ie)})}),a.jsxs(W,{variant:"outline",size:"sm",onClick:()=>C(H=>Math.min(Math.ceil(Je(M,"all").length/10),H+1)),disabled:E===Math.ceil(Je(M,"all").length/10),children:["下一頁",a.jsx(nc,{className:"h-4 w-4"})]})]})]})]})]})})]}),a.jsx(ft,{open:m,onOpenChange:x,children:a.jsxs(it,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[a.jsxs(ot,{children:[a.jsx(lt,{children:"用戶詳細信息"}),a.jsx(ut,{children:"用戶詳細信息"})]}),p&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsxs("h4",{className:"font-semibold mb-3 flex items-center",children:[a.jsx(Nr,{className:"h-4 w-4 mr-2"}),"基本信息"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"姓名:"})," ",p.name]}),a.jsxs("div",{children:[a.jsx("strong",{children:"電子郵件:"})," ",p.email]}),a.jsxs("div",{children:[a.jsx("strong",{children:"電話號碼:"})," ",p.phone]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"角色:"})," ",re(p.role)]}),a.jsxs("div",{children:[a.jsx("strong",{children:"狀態:"})," ",Ce(p.isActive)]}),a.jsxs("div",{children:[a.jsx("strong",{children:"加入:"})," ",or(p.createdAt)]})]})]})]}),p.licensePlate&&a.jsxs("div",{children:[a.jsxs("h4",{className:"font-semibold mb-3 flex items-center",children:[a.jsx(ir,{className:"h-4 w-4 mr-2"}),"車輛信息"]}),a.jsxs("div",{className:"text-sm",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"車牌號碼:"})," ",p.licensePlate]}),p.address&&a.jsxs("div",{children:[a.jsx("strong",{children:"地址:"})," ",p.address]})]})]}),p.isVIP&&a.jsxs("div",{children:[a.jsxs("h4",{className:"font-semibold mb-3 flex items-center",children:[a.jsx(Do,{className:"h-4 w-4 mr-2"}),"VIP信息"]}),a.jsxs("div",{className:"text-sm",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"VIP折扣:"})," ",p.vipDiscount,"%"]}),a.jsxs("div",{children:[a.jsx("strong",{children:"VIP碼:"})," ",a.jsx("code",{className:"bg-yellow-100 px-2 py-1 rounded text-yellow-800 font-mono",children:p.vipCode||"N/A"})]}),a.jsxs("div",{children:[a.jsx("strong",{children:"VIP創建日期:"})," ",p.vipCreatedAt?or(p.vipCreatedAt):"N/A"]})]})]}),a.jsxs("div",{children:[a.jsxs("h4",{className:"font-semibold mb-3 flex items-center",children:[a.jsx(Io,{className:"h-4 w-4 mr-2"}),"統計"]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:((Jt=p.stats)==null?void 0:Jt.totalBookings)||0}),a.jsx("div",{className:"text-gray-500",children:"總預約"})]}),a.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded",children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:me(((ar=p.stats)==null?void 0:ar.totalSpent)||0)}),a.jsx("div",{className:"text-gray-500",children:"總支出"})]}),a.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded",children:[a.jsx("div",{className:"text-2xl font-bold text-purple-600",children:me(((Vt=p.stats)==null?void 0:Vt.averageSpent)||0)}),a.jsx("div",{className:"text-gray-500",children:"平均/預約"})]}),a.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded",children:[a.jsx("div",{className:"text-2xl font-bold text-orange-600",children:te(((Zn=p.stats)==null?void 0:Zn.bookingTrend)||"stable")}),a.jsx("div",{className:"text-gray-500",children:"趨勢"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4 text-sm",children:[a.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded",children:[a.jsx("div",{className:"text-xl font-bold text-blue-600",children:((rx=p.stats)==null?void 0:rx.completedBookings)||0}),a.jsx("div",{className:"text-gray-500",children:"完成"})]}),a.jsxs("div",{className:"text-center p-3 bg-yellow-50 rounded",children:[a.jsx("div",{className:"text-xl font-bold text-yellow-600",children:((nx=p.stats)==null?void 0:nx.pendingBookings)||0}),a.jsx("div",{className:"text-gray-500",children:"等待確認"})]}),a.jsxs("div",{className:"text-center p-3 bg-red-50 rounded",children:[a.jsx("div",{className:"text-xl font-bold text-red-600",children:((ax=p.stats)==null?void 0:ax.cancelledBookings)||0}),a.jsx("div",{className:"text-gray-500",children:"已取消"})]}),a.jsxs("div",{className:"text-center p-3 bg-green-50 rounded",children:[a.jsx("div",{className:"text-xl font-bold text-green-600",children:Be(((sx=p.stats)==null?void 0:sx.averageDuration)||0)}),a.jsx("div",{className:"text-gray-500",children:"平均時間"})]})]}),((ix=p.stats)==null?void 0:ix.totalVipSavings)&&p.stats.totalVipSavings>0&&a.jsxs("div",{className:"mt-4 p-3 bg-yellow-50 rounded",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(kE,{className:"h-4 w-4 text-yellow-600 mr-2"}),a.jsx("span",{className:"font-medium",children:"VIP節省"})]}),a.jsx("div",{className:"text-xl font-bold text-yellow-600",children:me(p.stats.totalVipSavings)})]}),a.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:["從 ",((ox=p.stats)==null?void 0:ox.vipBookingsCount)||0," 預約VIP"]})]})]}),((cx=p.stats)==null?void 0:cx.recentBookings)&&p.stats.recentBookings.length>0&&a.jsxs("div",{children:[a.jsxs("h4",{className:"font-semibold mb-3 flex items-center",children:[a.jsx(Et,{className:"h-4 w-4 mr-2"}),"最近預約"]}),a.jsx("div",{className:"space-y-2",children:p.stats.recentBookings.map(H=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded",children:[a.jsx("div",{className:"flex items-center space-x-3",children:a.jsxs("div",{className:"text-sm",children:[a.jsx("div",{className:"font-medium",children:H.driverName}),a.jsx("div",{className:"text-gray-600",children:H.licensePlate})]})}),a.jsxs("div",{className:"flex items-center space-x-2",children:[U(H.status),a.jsx("div",{className:"text-sm font-medium",children:me(H.finalAmount)})]})]},H._id))})]}),p.notes&&a.jsxs("div",{children:[a.jsxs("h4",{className:"font-semibold mb-3 flex items-center",children:[a.jsx(bi,{className:"h-4 w-4 mr-2"}),"備註"]}),a.jsx("div",{className:"text-sm p-3 bg-yellow-50 rounded",children:p.notes})]})]}),a.jsxs(ct,{children:[a.jsx(W,{variant:"outline",onClick:()=>x(!1),children:"關閉"}),a.jsx(W,{onClick:()=>{x(!1),p&&Q(p)},children:"編輯"})]})]})}),a.jsx(ft,{open:w||b,onOpenChange:H=>{H||(S(!1),y(!1),L())},children:a.jsxs(it,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[a.jsxs(ot,{children:[a.jsx(lt,{children:_?"編輯用戶":"添加新用戶"}),a.jsx(ut,{children:_?"更新用戶信息":"在系統中創建新用戶"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"name",children:"姓名 *"}),a.jsx(le,{id:"name",value:ce.name,onChange:H=>we(be=>({...be,name:H.target.value}))})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"email",children:"Email *"}),a.jsx(le,{id:"email",type:"email",value:ce.email,onChange:H=>we(be=>({...be,email:H.target.value}))})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"phone",children:"電話號碼 *"}),a.jsx(le,{id:"phone",value:ce.phone,onChange:H=>we(be=>({...be,phone:H.target.value}))})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"role",children:"角色 *"}),a.jsxs(en,{value:ce.role,onValueChange:H=>we(be=>({...be,role:H})),children:[a.jsx(Mr,{children:a.jsx(tn,{})}),a.jsxs(Rr,{children:[a.jsx(at,{value:"user",children:"客戶"}),a.jsx(at,{value:"staff",children:"員工"}),a.jsx(at,{value:"admin",children:"管理員"})]})]})]})]}),!_&&a.jsxs("div",{children:[a.jsxs(Z,{htmlFor:"password",children:["密碼 ",!_&&"*"]}),a.jsx(le,{id:"password",type:"password",value:ce.password,onChange:H=>we(be=>({...be,password:H.target.value})),placeholder:_?"留空如果不想更改":"輸入密碼"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"licensePlate",children:"車牌號碼"}),a.jsx(le,{id:"licensePlate",value:ce.licensePlate,onChange:H=>we(be=>({...be,licensePlate:H.target.value}))})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"address",children:"地址"}),a.jsx(le,{id:"address",value:ce.address,onChange:H=>we(be=>({...be,address:H.target.value}))})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Nt,{id:"isVIP",checked:ce.isVIP,onCheckedChange:H=>we(be=>({...be,isVIP:H}))}),a.jsx(Z,{htmlFor:"isVIP",children:"VIP用戶"})]}),ce.isVIP&&a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"vipDiscount",children:"VIP折扣 (%)"}),a.jsx(le,{id:"vipDiscount",type:"number",min:"0",max:"100",value:ce.vipDiscount,onChange:H=>we(be=>({...be,vipDiscount:parseInt(H.target.value)}))})]})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"notes",children:"備註"}),a.jsx(rr,{id:"notes",value:ce.notes,onChange:H=>we(be=>({...be,notes:H.target.value})),rows:3,placeholder:"關於用戶的備註..."})]})]}),a.jsxs(ct,{children:[a.jsx(W,{variant:"outline",onClick:()=>{S(!1),y(!1),L()},children:"取消"}),a.jsx(W,{onClick:_?Me:ee,children:_?"更新":"創建用戶"})]})]})}),a.jsx(ft,{open:A,onOpenChange:O,children:a.jsxs(it,{children:[a.jsxs(ot,{children:[a.jsx(lt,{children:"管理VIP"}),a.jsx(ut,{children:"更新用戶的VIP信息"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Nt,{id:"vipStatus",checked:pe.isVIP,onCheckedChange:H=>Oe(be=>({...be,isVIP:H,vipDiscount:H?be.vipDiscount:0}))}),a.jsx(Z,{htmlFor:"vipStatus",children:"VIP用戶"})]}),pe.isVIP&&a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"vipDiscountAmount",children:"VIP折扣 (%)"}),a.jsx(le,{id:"vipDiscountAmount",type:"number",min:"0",max:"100",value:pe.vipDiscount,onChange:H=>{const be=parseInt(H.target.value);Oe(Ie=>({...Ie,vipDiscount:isNaN(be)?0:Math.max(0,Math.min(100,be))}))}})]})]}),a.jsxs(ct,{children:[a.jsx(W,{variant:"outline",onClick:()=>O(!1),children:"取消"}),a.jsx(W,{onClick:tt,children:"更新VIP"})]})]})}),a.jsx(ft,{open:N,onOpenChange:j,children:a.jsxs(it,{children:[a.jsxs(ot,{children:[a.jsx(lt,{children:"確認刪除"}),a.jsxs(ut,{children:['您確定要刪除用戶 "',p==null?void 0:p.name,'"? 此操作無法撤銷。']})]}),a.jsxs(ct,{children:[a.jsx(W,{variant:"outline",onClick:()=>j(!1),children:"取消"}),a.jsx(W,{variant:"destructive",onClick:Se,children:"刪除"})]})]})}),a.jsx(ft,{open:P,onOpenChange:T,children:a.jsxs(it,{children:[a.jsxs(ot,{children:[a.jsxs(lt,{className:"flex items-center",children:[a.jsx(uh,{className:"h-5 w-5 mr-2"}),"更改密碼"]}),a.jsxs(ut,{children:['為用戶 "',p==null?void 0:p.name,'" 更改密碼']})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"newPassword",children:"新密碼 *"}),a.jsx(le,{id:"newPassword",type:"password",value:R.newPassword,onChange:H=>de(be=>({...be,newPassword:H.target.value})),placeholder:"輸入新密碼",minLength:6}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"密碼至少需要6個字符"})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"confirmPassword",children:"確認新密碼 *"}),a.jsx(le,{id:"confirmPassword",type:"password",value:R.confirmPassword,onChange:H=>de(be=>({...be,confirmPassword:H.target.value})),placeholder:"再次輸入新密碼",minLength:6})]}),R.newPassword&&R.confirmPassword&&R.newPassword!==R.confirmPassword&&a.jsx("div",{className:"text-sm text-red-600 bg-red-50 p-2 rounded",children:"⚠️ 密碼不匹配"}),R.newPassword&&R.newPassword.length<6&&a.jsx("div",{className:"text-sm text-red-600 bg-red-50 p-2 rounded",children:"⚠️ 密碼至少需要6個字符"})]}),a.jsxs(ct,{children:[a.jsx(W,{variant:"outline",onClick:()=>{T(!1),de({newPassword:"",confirmPassword:""})},children:"取消"}),a.jsx(W,{onClick:ze,disabled:!R.newPassword||!R.confirmPassword||R.newPassword!==R.confirmPassword||R.newPassword.length<6,className:"bg-blue-600 hover:bg-blue-700",children:"更改密碼"})]})]})})]})},Ql={bookingTerms:{content:`1. Điều khoản đặt chỗ bãi đậu xe

• Khách hàng phải đặt chỗ trước ít nhất 1 giờ
• Thời gian đặt chỗ tối đa là 30 ngày
• Mỗi lần đặt chỗ tối thiểu 1 giờ
• Hủy đặt chỗ trước 2 giờ để được hoàn tiền

2. Thông tin cần thiết khi đặt chỗ

• Họ tên khách hàng
• Số điện thoại liên hệ
• Biển số xe
• Thời gian đặt chỗ (giờ đến và giờ đi)
• Loại bãi đậu xe mong muốn

3. Xác nhận đặt chỗ

• Hệ thống sẽ gửi SMS/Email xác nhận
• Khách hàng cần xác nhận trong vòng 15 phút
• Nếu không xác nhận, đặt chỗ sẽ tự động hủy`,isActive:!0},bookingRules:{content:`1. Quy định sử dụng bãi đậu xe

• Tuân thủ hướng dẫn của nhân viên
• Đậu xe đúng vị trí được chỉ định
• Không để xe quá thời gian đã đặt
• Giữ gìn vệ sinh chung

2. Quy định về an toàn

• Tắt động cơ khi đậu xe
• Khóa xe cẩn thận
• Không để vật có giá trị trong xe
• Báo cáo ngay khi có sự cố

3. Quy định về thanh toán

• Thanh toán đầy đủ trước khi sử dụng
• Chấp nhận tiền mặt và thẻ tín dụng
• Hóa đơn sẽ được cung cấp sau khi thanh toán`,isActive:!0},privacyPolicy:{content:`1. Thu thập thông tin

• Thông tin cá nhân: tên, số điện thoại, email
• Thông tin xe: biển số, loại xe
• Thông tin đặt chỗ: thời gian, vị trí

2. Sử dụng thông tin

• Để xử lý đặt chỗ và thanh toán
• Để liên lạc với khách hàng
• Để cải thiện dịch vụ

3. Bảo mật thông tin

• Mã hóa dữ liệu nhạy cảm
• Không chia sẻ thông tin với bên thứ ba
• Tuân thủ quy định bảo mật dữ liệu`,isActive:!0},contactInfo:{content:`Thông tin liên hệ:

Điện thoại: +886 2 1234 5678
Email: info@parkingzone.com
Địa chỉ: 123 Parking Street, Taipei, Taiwan
Website: https://parkingzone.com

Giờ làm việc:
Thứ 2 - Thứ 6: 06:00 - 22:00
Thứ 7 - Chủ nhật: 07:00 - 21:00

Hỗ trợ khách hàng 24/7 qua hotline`,isActive:!0},timeSlotInterval:{content:`Cài đặt khoảng thời gian đặt chỗ:

• Khoảng thời gian mặc định: 15 phút
• Tùy chọn: 15, 30, 45, 60 phút
• Khách hàng có thể chọn thời gian phù hợp
• Hệ thống sẽ hiển thị các slot có sẵn`,isActive:!0},cancellationPolicy:{content:`Chính sách hủy đặt chỗ:

1. Hủy miễn phí
• Hủy trước 2 giờ: hoàn tiền 100%
• Hủy trước 1 giờ: hoàn tiền 50%

2. Hủy có phí
• Hủy trong vòng 1 giờ: không hoàn tiền
• Không đến đúng giờ: tính phí 1 giờ

3. Hoàn tiền
• Xử lý trong vòng 3-5 ngày làm việc
• Hoàn tiền qua phương thức thanh toán ban đầu`,isActive:!0},refundPolicy:{content:`Chính sách hoàn tiền:

1. Điều kiện hoàn tiền
• Hủy đặt chỗ đúng quy định
• Dịch vụ không đạt chất lượng
• Lỗi hệ thống kỹ thuật

2. Thời gian xử lý
• Hoàn tiền trong vòng 3-5 ngày làm việc
• Thông báo qua email/SMS

3. Phương thức hoàn tiền
• Hoàn tiền qua phương thức thanh toán ban đầu
• Chuyển khoản ngân hàng (nếu cần)`,isActive:!0}},wce=()=>{const[e,t]=v.useState(!0),[r,n]=v.useState(!1),[s,i]=v.useState({contactInfo:{phone:"",email:"",address:"",website:""},businessHours:{open:"06:00",close:"22:00",is24Hours:!1},bookingTerms:"",bookingRules:"",defaultVIPDiscount:10,bookingAdvanceHours:24,maxBookingDays:30,minBookingDays:3,timeSlotInterval:15,autoCancelMinutes:15,notificationSettings:{emailNotifications:!0,smsNotifications:!1,reminderHours:1,confirmationEmail:!0,reminderEmail:!0},paymentSettings:{acceptCash:!0,acceptCreditCard:!0,acceptOnlinePayment:!1,currency:"TWD",taxRate:0},luggageSettings:{freeLuggageCount:1,luggagePricePerItem:100},maintenanceMode:{enabled:!1,message:""}}),[o,c]=v.useState(Ql),[l,u]=v.useState(null),[d,f]=v.useState("");v.useEffect(()=>{h(),p()},[]);const h=async()=>{var j,A,O;try{t(!0);const P=await wg();console.log("🔍 Loaded settings:",P),i(T=>({...T,...P,contactInfo:{...T.contactInfo,...P.contactInfo},businessHours:{...T.businessHours,...P.businessHours},notificationSettings:{...T.notificationSettings,...P.notificationSettings},paymentSettings:{...T.paymentSettings,...P.paymentSettings},luggageSettings:{...T.luggageSettings,...P.luggageSettings},maintenanceMode:{...T.maintenanceMode,...P.maintenanceMode}}))}catch(P){console.error("Error loading settings:",P);const T=((A=(j=P.response)==null?void 0:j.data)==null?void 0:A.message)||P.message||"無法載入系統設定";if(Y.error(T),((O=P.response)==null?void 0:O.status)===401)return}finally{t(!1)}},p=async()=>{try{const j=await K$();console.log("🔍 Loaded terms:",j),j.success?c(j.terms||Ql):c(Ql)}catch(j){console.error("Error loading terms:",j),c(Ql)}},g=async()=>{var j,A;try{n(!0),console.log("🔍 Saving settings:",s),await sD(s),Y.success("設定儲存成功！")}catch(O){console.error("Error saving settings:",O);const P=((A=(j=O.response)==null?void 0:j.data)==null?void 0:A.message)||O.message||"無法儲存設定";Y.error(P)}finally{n(!1)}},m=async()=>{var j,A;try{n(!0),console.log("🔍 Saving booking terms:",{bookingTerms:s.bookingTerms,bookingRules:s.bookingRules}),await iD({bookingTerms:s.bookingTerms,bookingRules:s.bookingRules}),Y.success("預約條款儲存成功！")}catch(O){console.error("Error saving booking terms:",O);const P=((A=(j=O.response)==null?void 0:j.data)==null?void 0:A.message)||O.message||"無法儲存預約條款";Y.error(P)}finally{n(!1)}},x=async()=>{var j,A;try{n(!0),console.log("🔍 Saving all terms:",o),await G$(o),Y.success("儲存所有條款成功！")}catch(O){console.error("Error saving terms:",O);const P=((A=(j=O.response)==null?void 0:j.data)==null?void 0:A.message)||O.message||"無法儲存條款";Y.error(P)}finally{n(!1)}},b=j=>{u(j),f(o[j].content)},y=async()=>{var j,A;if(l)try{n(!0),console.log("🔍 Updating section:",l,{content:d,isActive:o[l].isActive}),await Bx(l,{content:d,isActive:o[l].isActive});const O={...o,[l]:{...o[l],content:d}};c(O),u(null),f(""),Y.success("更新條款成功！")}catch(O){console.error("Error updating section:",O);const P=((A=(j=O.response)==null?void 0:j.data)==null?void 0:A.message)||O.message||"無法更新條款";Y.error(P)}finally{n(!1)}},w=async j=>{var A,O;try{console.log("🔍 Toggling section:",j,{content:o[j].content,isActive:!o[j].isActive}),await Bx(j,{content:o[j].content,isActive:!o[j].isActive});const P={...o,[j]:{...o[j],isActive:!o[j].isActive}};c(P),Y.success(`${o[j].isActive?"停用":"啟用"}條款成功！`)}catch(P){console.error("Error toggling section:",P);const T=((O=(A=P.response)==null?void 0:A.data)==null?void 0:O.message)||P.message||"無法變更條款狀態";Y.error(T)}},S=j=>({bookingTerms:"預約條款",bookingRules:"預約規定",privacyPolicy:"隱私政策",contactInfo:"聯絡資訊",timeSlotInterval:"時段間隔",cancellationPolicy:"取消政策",refundPolicy:"退款政策"})[j],N=j=>({bookingTerms:a.jsx(bs,{className:"h-4 w-4"}),bookingRules:a.jsx(vu,{className:"h-4 w-4"}),privacyPolicy:a.jsx(gu,{className:"h-4 w-4"}),contactInfo:a.jsx(ca,{className:"h-4 w-4"}),timeSlotInterval:a.jsx(Hr,{className:"h-4 w-4"}),cancellationPolicy:a.jsx(Gr,{className:"h-4 w-4"}),refundPolicy:a.jsx(pr,{className:"h-4 w-4"})})[j];return e?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"系統設定"}),a.jsx("p",{className:"text-gray-600",children:"系統配置和一般資訊"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(W,{variant:"outline",onClick:h,children:[a.jsx(Hn,{className:"h-4 w-4 mr-2"}),"重新整理"]}),a.jsxs(W,{onClick:g,disabled:r,children:[a.jsx(Zo,{className:"h-4 w-4 mr-2"}),r?"儲存中...":"儲存全部"]})]})]}),a.jsxs(ho,{defaultValue:"general",className:"space-y-6",children:[a.jsxs(Gs,{children:[a.jsx(Mt,{value:"general",children:"一般"}),a.jsx(Mt,{value:"booking",children:"預約"}),a.jsx(Mt,{value:"notifications",children:"通知"}),a.jsx(Mt,{value:"payment",children:"付款"}),a.jsx(Mt,{value:"luggage",children:"行李"})]}),a.jsx(er,{value:"general",className:"space-y-6",children:a.jsxs(ue,{children:[a.jsx(xe,{children:a.jsxs(ye,{className:"flex items-center space-x-2",children:[a.jsx(hc,{className:"h-5 w-5 text-blue-600"}),a.jsx("span",{children:"一般設定"})]})}),a.jsxs(he,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"website",children:"Website"}),a.jsx(le,{id:"website",value:s.contactInfo.website,onChange:j=>i(A=>({...A,contactInfo:{...A.contactInfo,website:j.target.value}})),placeholder:"https://example.com"})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"contactEmail",children:"聯絡電子郵件"}),a.jsx(le,{id:"contactEmail",type:"email",value:s.contactInfo.email,onChange:j=>i(A=>({...A,contactInfo:{...A.contactInfo,email:j.target.value}})),placeholder:"info@example.com"})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"contactPhone",children:"電話號碼"}),a.jsx(le,{id:"contactPhone",value:s.contactInfo.phone,onChange:j=>i(A=>({...A,contactInfo:{...A.contactInfo,phone:j.target.value}})),placeholder:"+886 2 1234 5678"})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"address",children:"地址"}),a.jsx(le,{id:"address",value:s.contactInfo.address,onChange:j=>i(A=>({...A,contactInfo:{...A.contactInfo,address:j.target.value}})),placeholder:"123 Parking Street, Taipei, Taiwan"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Z,{children:"營業時間"}),a.jsx(le,{type:"time",value:s.businessHours.open,onChange:j=>i(A=>({...A,businessHours:{...A.businessHours,open:j.target.value}})),disabled:s.businessHours.is24Hours})]}),a.jsxs("div",{children:[a.jsx(Z,{children:"關門時間"}),a.jsx(le,{type:"time",value:s.businessHours.close,onChange:j=>i(A=>({...A,businessHours:{...A.businessHours,close:j.target.value}})),disabled:s.businessHours.is24Hours})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Nt,{id:"maintenanceMode",checked:s.maintenanceMode.enabled,onCheckedChange:j=>i(A=>({...A,maintenanceMode:{...A.maintenanceMode,enabled:j}}))}),a.jsx(Z,{htmlFor:"maintenanceMode",children:"維護模式"})]}),s.maintenanceMode.enabled&&a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"maintenanceMessage",children:"維護通知"}),a.jsx(rr,{id:"maintenanceMessage",value:s.maintenanceMode.message,onChange:j=>i(A=>({...A,maintenanceMode:{...A.maintenanceMode,message:j.target.value}})),placeholder:"系統正在維護中，請稍後再試。",rows:3})]}),a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"💡 注意事項"}),a.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[a.jsx("li",{children:"• 聯絡資訊將顯示在首頁"}),a.jsx("li",{children:"• 營業時間會影響預約功能"}),a.jsx("li",{children:"• 維護模式將暫停整個系統"})]})]})]})]})}),a.jsxs(er,{value:"booking",className:"space-y-6",children:[a.jsxs(ue,{children:[a.jsx(xe,{children:a.jsxs(ye,{className:"flex items-center space-x-2",children:[a.jsx(Hr,{className:"h-5 w-5 text-blue-600"}),a.jsx("span",{children:"Cài đặt đặt chỗ"})]})}),a.jsxs(he,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"defaultVIPDiscount",children:"預設VIP折扣 (%)"}),a.jsx(le,{id:"defaultVIPDiscount",type:"number",min:"0",max:"100",value:s.defaultVIPDiscount,onChange:j=>i(A=>({...A,defaultVIPDiscount:parseInt(j.target.value)}))})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"bookingAdvanceHours",children:"提前預約 (小時)"}),a.jsx(le,{id:"bookingAdvanceHours",type:"number",min:"0",value:s.bookingAdvanceHours,onChange:j=>i(A=>({...A,bookingAdvanceHours:parseInt(j.target.value)}))})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"maxBookingDays",children:"最大 (天)"}),a.jsx(le,{id:"maxBookingDays",type:"number",min:"1",value:s.maxBookingDays,onChange:j=>i(A=>({...A,maxBookingDays:parseInt(j.target.value)}))})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"minBookingDays",children:"最少 (天)"}),a.jsx(le,{id:"minBookingDays",type:"number",min:"1",value:s.minBookingDays,onChange:j=>i(A=>({...A,minBookingDays:parseInt(j.target.value)}))})]})]}),a.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-semibold text-yellow-800 mb-2",children:"⚙️ 預約設定"}),a.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[a.jsx("li",{children:"• VIP折扣：適用於VIP客戶"}),a.jsx("li",{children:"• 提前預約：預約的最短時間"}),a.jsx("li",{children:"• 最少：客戶必須預約的最少天數"}),a.jsx("li",{children:"• 最大：可提前預約的最大天數"}),a.jsx("li",{children:"• 時段間隔：預約時段的精確度"}),a.jsx("li",{children:"• 自動取消：等待確認的時間"})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Nt,{id:"is24Hours",checked:s.businessHours.is24Hours,onCheckedChange:j=>i(A=>({...A,businessHours:{...A.businessHours,is24Hours:j}}))}),a.jsx(Z,{htmlFor:"is24Hours",children:"24/7營業"})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"timeSlotInterval",children:"預約時段間隔 (分鐘)"}),a.jsxs("select",{id:"timeSlotInterval",value:s.timeSlotInterval,onChange:j=>i(A=>({...A,timeSlotInterval:parseInt(j.target.value)})),className:"w-full p-2 border border-gray-300 rounded-md",children:[a.jsx("option",{value:15,children:"15 分鐘"}),a.jsx("option",{value:30,children:"30 分鐘"}),a.jsx("option",{value:45,children:"45 分鐘"}),a.jsx("option",{value:60,children:"60 分鐘"})]})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"autoCancelMinutes",children:"自動取消時間 (分鐘)"}),a.jsx(le,{id:"autoCancelMinutes",type:"number",min:"0",max:"120",value:s.autoCancelMinutes,onChange:j=>i(A=>({...A,autoCancelMinutes:parseInt(j.target.value)}))})]})]})]}),a.jsxs(ue,{children:[a.jsx(xe,{children:a.jsxs(ye,{className:"flex items-center space-x-2",children:[a.jsx(bs,{className:"h-5 w-5 text-blue-600"}),a.jsx("span",{children:"Điều khoản đặt chỗ"})]})}),a.jsxs(he,{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"請在預約停車位前仔細閱讀相關規定和條款。"}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"bookingTerms",children:"預約條款"}),a.jsx(rr,{id:"bookingTerms",value:s.bookingTerms,onChange:j=>i(A=>({...A,bookingTerms:j.target.value})),rows:10,placeholder:"輸入預約條款..."})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"bookingRules",children:"預約規定"}),a.jsx(rr,{id:"bookingRules",value:s.bookingRules,onChange:j=>i(A=>({...A,bookingRules:j.target.value})),rows:10,placeholder:"輸入預約規定..."})]}),a.jsxs(W,{onClick:m,disabled:r,children:[a.jsx(Zo,{className:"h-4 w-4 mr-2"}),"儲存條款"]})]})]})]}),a.jsx(er,{value:"notifications",className:"space-y-6",children:a.jsxs(ue,{children:[a.jsx(xe,{children:a.jsxs(ye,{className:"flex items-center space-x-2",children:[a.jsx(au,{className:"h-5 w-5 text-blue-600"}),a.jsx("span",{children:"Cài đặt thông báo"})]})}),a.jsxs(he,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Nt,{id:"emailNotifications",checked:s.notificationSettings.emailNotifications,onCheckedChange:j=>i(A=>({...A,notificationSettings:{...A.notificationSettings,emailNotifications:j}}))}),a.jsx(Z,{htmlFor:"emailNotifications",children:"電子郵件通知"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Nt,{id:"smsNotifications",checked:s.notificationSettings.smsNotifications,onCheckedChange:j=>i(A=>({...A,notificationSettings:{...A.notificationSettings,smsNotifications:j}}))}),a.jsx(Z,{htmlFor:"smsNotifications",children:"簡訊通知"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Nt,{id:"confirmationEmail",checked:s.notificationSettings.confirmationEmail,onCheckedChange:j=>i(A=>({...A,notificationSettings:{...A.notificationSettings,confirmationEmail:j}}))}),a.jsx(Z,{htmlFor:"confirmationEmail",children:"預約確認電子郵件"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Nt,{id:"reminderEmail",checked:s.notificationSettings.reminderEmail,onCheckedChange:j=>i(A=>({...A,notificationSettings:{...A.notificationSettings,reminderEmail:j}}))}),a.jsx(Z,{htmlFor:"reminderEmail",children:"提醒電子郵件"})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"reminderHours",children:"提前提醒時間 (小時)"}),a.jsx(le,{id:"reminderHours",type:"number",min:"0",max:"24",value:s.notificationSettings.reminderHours,onChange:j=>i(A=>({...A,notificationSettings:{...A.notificationSettings,reminderHours:parseInt(j.target.value)}}))})]})]})]})}),a.jsx(er,{value:"payment",className:"space-y-6",children:a.jsxs(ue,{children:[a.jsx(xe,{children:a.jsxs(ye,{className:"flex items-center space-x-2",children:[a.jsx(L1,{className:"h-5 w-5 text-blue-600"}),a.jsx("span",{children:"Cài đặt thanh toán"})]})}),a.jsxs(he,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"currency",children:"貨幣單位"}),a.jsx(le,{id:"currency",value:s.paymentSettings.currency,onChange:j=>i(A=>({...A,paymentSettings:{...A.paymentSettings,currency:j.target.value}}))})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"taxRate",children:"稅率 (%)"}),a.jsx(le,{id:"taxRate",type:"number",min:"0",max:"100",value:s.paymentSettings.taxRate,onChange:j=>i(A=>({...A,paymentSettings:{...A.paymentSettings,taxRate:parseFloat(j.target.value)}}))})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Nt,{id:"acceptCash",checked:s.paymentSettings.acceptCash,onCheckedChange:j=>i(A=>({...A,paymentSettings:{...A.paymentSettings,acceptCash:j}}))}),a.jsx(Z,{htmlFor:"acceptCash",children:"接受現金"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Nt,{id:"acceptCreditCard",checked:s.paymentSettings.acceptCreditCard,onCheckedChange:j=>i(A=>({...A,paymentSettings:{...A.paymentSettings,acceptCreditCard:j}}))}),a.jsx(Z,{htmlFor:"acceptCreditCard",children:"接受信用卡"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Nt,{id:"acceptOnlinePayment",checked:s.paymentSettings.acceptOnlinePayment,onCheckedChange:j=>i(A=>({...A,paymentSettings:{...A.paymentSettings,acceptOnlinePayment:j}}))}),a.jsx(Z,{htmlFor:"acceptOnlinePayment",children:"接受線上付款"})]})]})]})]})}),a.jsx(er,{value:"luggage",className:"space-y-6",children:a.jsxs(ue,{children:[a.jsxs(xe,{children:[a.jsxs(ye,{className:"flex items-center space-x-2",children:[a.jsx(gm,{className:"h-5 w-5 text-blue-600"}),a.jsx("span",{children:"Cài đặt hành lý"})]}),a.jsx(rt,{children:"配置行李費用和免費行李數量"})]}),a.jsxs(he,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"freeLuggageCount",children:"免費行李數量"}),a.jsx(le,{id:"freeLuggageCount",type:"number",min:"0",value:s.luggageSettings.freeLuggageCount,onChange:j=>i(A=>({...A,luggageSettings:{...A.luggageSettings,freeLuggageCount:parseInt(j.target.value)||0}})),placeholder:"1"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"每個預約的免費行李數量"})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"luggagePricePerItem",children:"每件額外行李價格 (NT$)"}),a.jsx(le,{id:"luggagePricePerItem",type:"number",min:"0",value:s.luggageSettings.luggagePricePerItem,onChange:j=>i(A=>({...A,luggageSettings:{...A.luggageSettings,luggagePricePerItem:parseInt(j.target.value)||0}})),placeholder:"100"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"超過免費數量後每件行李的費用"})]})]}),a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"費用計算範例："}),a.jsxs("div",{className:"text-sm text-blue-800 space-y-1",children:[a.jsxs("p",{children:["• 如果客戶選擇1件行李：免費 (≤ ",s.luggageSettings.freeLuggageCount,")"]}),a.jsxs("p",{children:["• 如果客戶選擇2件行李：額外費用 ",s.luggageSettings.luggagePricePerItem," NT$"]}),a.jsxs("p",{children:["• 如果客戶選擇3件行李：額外費用 ",s.luggageSettings.luggagePricePerItem*2," NT$"]})]})]})]})]})}),a.jsx(er,{value:"terms",className:"space-y-6",children:a.jsxs(ue,{children:[a.jsxs(xe,{children:[a.jsxs(ye,{className:"flex items-center space-x-2",children:[a.jsx(bs,{className:"h-5 w-5 text-blue-600"}),a.jsx("span",{children:"條款管理"})]}),a.jsx(rt,{children:"管理系統的所有條款和規定"})]}),a.jsxs(he,{className:"space-y-4",children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.keys(o).map(j=>a.jsxs(ue,{className:"relative",children:[a.jsx(xe,{className:"pb-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[N(j),a.jsx(ye,{className:"text-sm",children:S(j)})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Le,{variant:o[j].isActive?"default":"secondary",children:o[j].isActive?"啟用":"停用"}),a.jsx(W,{variant:"outline",size:"sm",onClick:()=>b(j),children:a.jsx(nn,{className:"h-3 w-3"})})]})]})}),a.jsxs(he,{children:[a.jsxs("div",{className:"text-sm text-gray-600 line-clamp-3",children:[o[j].content.substring(0,100),"..."]}),a.jsx("div",{className:"mt-2",children:a.jsx(W,{variant:"outline",size:"sm",onClick:()=>w(j),children:o[j].isActive?"停用":"啟用"})})]})]},j))}),a.jsxs(W,{onClick:x,disabled:r,className:"w-full",children:[a.jsx(Zo,{className:"h-4 w-4 mr-2"}),"儲存所有條款"]})]})]})})]}),a.jsx(ft,{open:!!l,onOpenChange:()=>u(null),children:a.jsxs(it,{className:"max-w-4xl",children:[a.jsxs(ot,{children:[a.jsxs(lt,{children:["編輯 ",l?S(l):""]}),a.jsx(ut,{children:"更新此條款內容"})]}),a.jsx("div",{className:"space-y-4",children:a.jsx(rr,{value:d,onChange:j=>f(j.target.value),rows:15,placeholder:"輸入條款內容..."})}),a.jsxs(ct,{children:[a.jsx(W,{variant:"outline",onClick:()=>u(null),children:"取消"}),a.jsxs(W,{onClick:y,disabled:r,children:[a.jsx(Zo,{className:"h-4 w-4 mr-2"}),"儲存變更"]})]})]})})]})};var ex="Progress",tx=100,[Nce,ple]=I2(ex),[Sce,Ace]=Nce(ex),z2=v.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:i=Oce,...o}=e;(s||s===0)&&!Hw(s)&&console.error(_ce(`${s}`,"Progress"));const c=Hw(s)?s:tx;n!==null&&!qw(n,c)&&console.error(Pce(`${n}`,"Progress"));const l=qw(n,c)?n:null,u=Vd(l)?i(l,c):void 0;return a.jsx(Sce,{scope:r,value:l,max:c,children:a.jsx(gl.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":Vd(l)?l:void 0,"aria-valuetext":u,role:"progressbar","data-state":H2(l,c),"data-value":l??void 0,"data-max":c,...o,ref:t})})});z2.displayName=ex;var U2="ProgressIndicator",W2=v.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,s=Ace(U2,r);return a.jsx(gl.div,{"data-state":H2(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:t})});W2.displayName=U2;function Oce(e,t){return`${Math.round(e/t*100)}%`}function H2(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Vd(e){return typeof e=="number"}function Hw(e){return Vd(e)&&!isNaN(e)&&e>0}function qw(e,t){return Vd(e)&&!isNaN(e)&&e<=t&&e>=0}function _ce(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${tx}\`.`}function Pce(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${tx} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var q2=z2,kce=W2;const K2=v.forwardRef(({className:e,value:t,...r},n)=>a.jsx(q2,{ref:n,className:Ye("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:a.jsx(kce,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));K2.displayName=q2.displayName;const Tce=({parkingTypeId:e,onUploadSuccess:t,onDeleteSuccess:r,existingImages:n=[],maxFiles:s=10,maxFileSize:i=10})=>{const[o,c]=v.useState([]),[l,u]=v.useState(!1),[d,f]=v.useState(0),[h,p]=v.useState(null),g=v.useRef(null),m=S=>{const j=Array.from(S.target.files||[]).filter(A=>A.type.startsWith("image/")?A.size>i*1024*1024?(Y.error(`${A.name} 文件大小超過 ${i}MB`),!1):!0:(Y.error(`${A.name} 不是有效的圖片文件`),!1));if(n.length+o.length+j.length>s){Y.error(`最多只能上傳 ${s} 張圖片`);return}c(A=>[...A,...j]),S.target&&(S.target.value="")},x=S=>{c(N=>N.filter((A,O)=>O!==S))};D.useEffect(()=>()=>{o.forEach(S=>{})},[o]);const b=async()=>{if(o.length===0){Y.error("請選擇要上傳的圖片");return}u(!0),f(0);try{const S=new FormData;o.forEach(A=>{S.append("images",A)});const N=await fetch(`http://localhost:5002/api/parking/${e}/images`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:S});if(!N.ok){const A=await N.json();throw new Error(A.message||"上傳失敗")}const j=await N.json();f(100),Y.success(`成功上傳 ${j.images.length} 張圖片`),c([]),g.current&&(g.current.value=""),t&&t(j.images)}catch(S){console.error("Upload error:",S),Y.error(S instanceof Error?S.message:"上傳失敗")}finally{u(!1),f(0)}},y=async S=>{if(confirm("確定要刪除這張圖片嗎？")){p(S);try{const N=await fetch(`http://localhost:5002/api/parking/${e}/images/${S}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!N.ok){const j=await N.json();throw new Error(j.message||"刪除失敗")}Y.success("圖片刪除成功"),r&&r()}catch(N){console.error("Delete error:",N),Y.error(N instanceof Error?N.message:"刪除失敗")}finally{p(null)}}},w=S=>{if(S===0)return"0 Bytes";const N=1024,j=["Bytes","KB","MB","GB"],A=Math.floor(Math.log(S)/Math.log(N));return parseFloat((S/Math.pow(N,A)).toFixed(2))+" "+j[A]};return a.jsxs("div",{className:"space-y-6",children:[a.jsx(ue,{children:a.jsx(he,{className:"p-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"上傳圖片"}),a.jsxs("span",{className:"text-sm text-gray-500",children:[n.length+o.length," / ",s," 張"]})]}),a.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-gray-400 transition-colors",children:[a.jsx("input",{ref:g,type:"file",multiple:!0,accept:"image/*",onChange:m,className:"hidden",disabled:l}),a.jsxs(W,{variant:"outline",onClick:()=>{var S;return(S=g.current)==null?void 0:S.click()},disabled:l||n.length+o.length>=s,className:"w-full",children:[a.jsx(IE,{className:"h-4 w-4 mr-2"}),"選擇圖片"]}),a.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["支持 JPG, PNG, GIF 格式，單個文件最大 ",i,"MB"]})]}),o.length>0&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"font-medium",children:"待上傳的圖片:"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:o.map((S,N)=>a.jsxs("div",{className:"relative group",children:[a.jsx("div",{className:"aspect-square rounded-lg overflow-hidden bg-gray-100",children:a.jsx("img",{src:URL.createObjectURL(S),alt:S.name,className:"w-full h-full object-cover"})}),a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center",children:a.jsx(W,{variant:"destructive",size:"sm",onClick:()=>x(N),disabled:l,className:"opacity-0 group-hover:opacity-100 transition-all duration-200",children:a.jsx(qs,{className:"h-4 w-4"})})}),a.jsx("div",{className:"mt-1 text-xs text-gray-500 truncate",children:S.name}),a.jsx("div",{className:"text-xs text-gray-400",children:w(S.size)})]},N))})]}),l&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"上傳中..."}),a.jsxs("span",{children:[d,"%"]})]}),a.jsx(K2,{value:d,className:"w-full"})]}),o.length>0&&a.jsx(W,{onClick:b,disabled:l,className:"w-full",children:l?"上傳中...":`上傳 ${o.length} 張圖片`})]})})}),n.length>0&&a.jsx(ue,{children:a.jsxs(he,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"已上傳的圖片"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:n.map(S=>a.jsxs("div",{className:"relative group",children:[a.jsx("div",{className:"aspect-square rounded-lg overflow-hidden bg-gray-100",children:a.jsx("img",{src:S.thumbnailUrl||S.url,alt:S.originalName,className:"w-full h-full object-cover",onError:N=>{const j=N.target;j.src="/logo.png"}})}),a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center",children:a.jsx(W,{variant:"destructive",size:"sm",onClick:()=>y(S._id),disabled:h===S._id,className:"opacity-0 group-hover:opacity-100 transition-all duration-200",children:h===S._id?a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):a.jsx(_r,{className:"h-4 w-4"})})}),a.jsx("div",{className:"mt-1 text-xs text-gray-500 truncate",children:S.originalName})]},S._id))})]})})]})},Cce=()=>{var V;const[e,t]=v.useState([]),[r,n]=v.useState(!0),[s,i]=v.useState(""),[o,c]=v.useState(!1),[l,u]=v.useState(!1),[d,f]=v.useState(!1),[h,p]=v.useState(!1),[g,m]=v.useState(null),[x,b]=v.useState(!1),[y,w]=v.useState({code:"",name:"",type:"indoor",description:"",icon:"🏢",color:"#3B82F6",pricePerDay:100,totalSpaces:50,features:[""],isActive:!0});v.useEffect(()=>{S()},[]);const S=async()=>{try{n(!0);const z=await tf();console.log("🔍 Parking types data:",z),t(z.parkingTypes)}catch(z){console.error("Error loading parking types:",z),Y.error("無法載入停車場清單")}finally{n(!1)}},N=async()=>{try{const{type:z,...B}=y;console.log("🔍 Creating parking type:",B),await M$(B),Y.success("創建停車場成功"),c(!1),k(),S()}catch(z){console.error("Error creating parking type:",z),Y.error("無法創建停車場")}},j=async()=>{if(g)try{const{type:z,...B}=y;if((g.code||y.code)&&(B.code=g.code||y.code),console.log("🔍 Updating parking type:",{selectedType:g,_id:g._id,selectedTypeCode:g.code,formDataCode:y.code,finalCode:B.code,updateData:B}),!g._id){Y.error("Không tìm thấy ID bãi đậu xe");return}await R$(g._id,B),Y.success("Cập nhật bãi đậu xe thành công"),u(!1),k(),S()}catch(z){console.error("Error updating parking type:",z),Y.error("Không thể cập nhật bãi đậu xe")}},A=async()=>{if(g)try{await L$(g.code),Y.success("Xóa bãi đậu xe thành công"),f(!1),m(null),S()}catch{Y.error("Không thể xóa bãi đậu xe")}},O=()=>{if(S(),g){const z=e.find(B=>B._id===g._id);z&&m(z)}},P=()=>{if(S(),g){const z=e.find(B=>B._id===g._id);z&&m(z)}},T=z=>{m(z),p(!0)},_=z=>{switch(z){case"indoor":return"🏢";case"outdoor":return"🌤️";case"disabled":return"♿️";default:return"🏢"}},k=()=>{w({code:"",name:"",type:"indoor",description:"",icon:"🏢",color:"#3B82F6",pricePerDay:100,totalSpaces:50,features:[""],isActive:!0}),b(!1),m(null)},E=()=>{w({code:"",name:"",type:"indoor",description:"",icon:"🏢",color:"#3B82F6",pricePerDay:100,totalSpaces:50,features:[""],isActive:!0}),c(!0)},C=z=>{console.log("🔍 Opening edit dialog for parking type:",z),m(z),w({code:z.code,name:z.name,type:z.type||"indoor",description:z.description,icon:z.icon,color:z.color||"#3B82F6",pricePerDay:z.pricePerDay||100,totalSpaces:z.totalSpaces||50,features:z.features||[""],isActive:z.isActive}),b(!0),u(!0)},I=z=>{m(z),f(!0)},F=()=>{w({...y,features:[...y.features,""]})},$=z=>{w({...y,features:y.features.filter((B,G)=>G!==z)})},q=(z,B)=>{const G=[...y.features];G[z]=B,w({...y,features:G})},M=z=>z==null?"0 TWD":z.toLocaleString("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0,maximumFractionDigits:0}),J=e.filter(z=>z.name.toLowerCase().includes(s.toLowerCase())||z.description.toLowerCase().includes(s.toLowerCase()));return r?a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}):a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"停車場"}),a.jsx("p",{className:"text-gray-600",children:"管理系統中的停車場"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(W,{variant:"outline",onClick:S,children:[a.jsx(Hn,{className:"h-4 w-4 mr-2"}),"重新整理"]}),a.jsxs(W,{onClick:E,children:[a.jsx(qr,{className:"h-4 w-4 mr-2"}),"新增停車場"]})]})]}),a.jsxs(ue,{className:"mb-6",children:[a.jsx(xe,{children:a.jsxs(ye,{className:"flex items-center",children:[a.jsx(mr,{className:"h-5 w-5 mr-2"}),"篩選"]})}),a.jsx(he,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"search",children:"搜尋"}),a.jsxs("div",{className:"relative",children:[a.jsx(Kr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),a.jsx(le,{id:"search",placeholder:"名稱、描述...",value:s,onChange:z=>i(z.target.value),className:"pl-10"})]})]}),a.jsx("div",{className:"flex items-end",children:a.jsxs(W,{variant:"outline",className:"w-full",children:[a.jsx(mr,{className:"h-4 w-4 mr-2"}),"篩選"]})})]})})]}),a.jsxs(ue,{children:[a.jsxs(xe,{children:[a.jsx(ye,{children:"停車場清單"}),a.jsxs(rt,{children:["總共 ",J.length," 個停車場"]})]}),a.jsxs(he,{children:[a.jsxs(zr,{children:[a.jsx(Ur,{children:a.jsxs(Pt,{children:[a.jsx(_e,{children:"資訊"}),a.jsx(_e,{children:"價格"}),a.jsx(_e,{children:"容量"}),a.jsx(_e,{children:"功能"}),a.jsx(_e,{children:"圖片"}),a.jsx(_e,{children:"狀態"}),a.jsx(_e,{children:"操作"})]})}),a.jsx(Wr,{children:J.map(z=>{var B;return console.log("🔍 Rendering parking type:",z),a.jsxs(Pt,{children:[a.jsx(Pe,{children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-2xl",style:{backgroundColor:(z.color||"#3B82F6")+"20"},children:z.icon}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:z.name}),a.jsx("div",{className:"text-sm text-gray-600",children:z.description}),a.jsxs("div",{className:"text-sm text-gray-500",children:["代碼: ",z.code]})]})]})}),a.jsx(Pe,{children:a.jsx("div",{className:"space-y-1 text-sm",children:a.jsxs("div",{children:["基本: ",M(z.pricePerDay),"/天"]})})}),a.jsx(Pe,{children:a.jsx("div",{className:"text-sm",children:a.jsxs("div",{children:["最大: ",z.totalSpaces||0," 位"]})})}),a.jsx(Pe,{children:a.jsxs("div",{className:"flex flex-wrap gap-1",children:[(z.features||[]).slice(0,2).map((G,ce)=>a.jsx(Le,{variant:"outline",className:"text-xs",children:G},ce)),(z.features||[]).length>2&&a.jsxs(Le,{variant:"outline",className:"text-xs",children:["+",(z.features||[]).length-2," 更多"]})]})}),a.jsx(Pe,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("span",{className:"text-sm text-gray-600",children:[((B=z.images)==null?void 0:B.length)||0," 張"]}),z.images&&z.images.length>0&&a.jsxs("div",{className:"flex -space-x-1",children:[z.images.slice(0,3).map((G,ce)=>(console.log("🔍 Image:",ce),a.jsx("div",{className:"w-6 h-6 rounded-full border-2 border-white overflow-hidden bg-gray-100",children:a.jsx("img",{src:G.thumbnailUrl||G.url,alt:G.originalName,className:"w-full h-full object-cover",onError:we=>{const pe=we.target;pe.src="/logo.png"}})},G._id))),z.images.length>3&&a.jsxs("div",{className:"w-6 h-6 rounded-full border-2 border-white bg-gray-100 flex items-center justify-center text-xs text-gray-500",children:["+",z.images.length-3]})]})]})}),a.jsx(Pe,{children:a.jsx(Le,{variant:z.isActive?"default":"secondary",children:z.isActive?a.jsxs(a.Fragment,{children:[a.jsx(pr,{className:"h-3 w-3 mr-1"}),"啟用"]}):a.jsxs(a.Fragment,{children:[a.jsx(Gr,{className:"h-3 w-3 mr-1"}),"暫停"]})})}),a.jsx(Pe,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(W,{size:"sm",variant:"outline",onClick:()=>C(z),children:a.jsx(nn,{className:"h-4 w-4"})}),a.jsx(W,{size:"sm",variant:"outline",onClick:()=>T(z),className:"text-blue-600 hover:text-blue-700",children:a.jsx(_E,{className:"h-4 w-4"})}),a.jsx(W,{size:"sm",variant:"destructive",onClick:()=>I(z),children:a.jsx(_r,{className:"h-4 w-4"})})]})})]},z._id||z.code)})})]}),J.length===0&&a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(ir,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"找不到停車場"}),a.jsx("p",{className:"text-gray-500",children:"沒有符合當前篩選條件的停車場。"})]})]})]}),a.jsx(ft,{open:o||l,onOpenChange:z=>{z||(c(!1),u(!1),k())},children:a.jsxs(it,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[a.jsxs(ot,{children:[a.jsx(lt,{children:x?"編輯停車場":"新增停車場"}),a.jsx(ut,{children:x?"更新停車場資訊":"創建新的停車場並提供必要資訊"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"name",children:"停車場名稱 *"}),a.jsx(le,{id:"name",value:y.name,onChange:z=>w(B=>({...B,name:z.target.value})),placeholder:"例如: 停車場A、停車場B、VIP區域..."})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"code",children:"停車場代碼 *"}),a.jsx(le,{id:"code",value:y.code,onChange:z=>w(B=>({...B,code:z.target.value})),placeholder:"例如: A001、B002、VIP001"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"icon",children:"圖示"}),a.jsx(le,{id:"icon",value:y.icon,onChange:z=>w(B=>({...B,icon:z.target.value})),placeholder:"🏢 🌤 ♿️"})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"color",children:"顏色"}),a.jsx(le,{id:"color",type:"color",value:y.color,onChange:z=>w(B=>({...B,color:z.target.value}))})]})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"description",children:"描述"}),a.jsx(rr,{id:"description",value:y.description,onChange:z=>w(B=>({...B,description:z.target.value})),placeholder:"停車場的詳細描述...",rows:3})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"pricePerDay",children:"基本價格 (TWD/天) *"}),a.jsx(le,{id:"pricePerDay",type:"number",value:y.pricePerDay,onChange:z=>w(B=>({...B,pricePerDay:parseInt(z.target.value)}))})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"totalSpaces",children:"最大車位數 *"}),a.jsx(le,{id:"totalSpaces",type:"number",value:y.totalSpaces,onChange:z=>w(B=>({...B,totalSpaces:parseInt(z.target.value)}))})]})]}),a.jsxs("div",{children:[a.jsx(Z,{children:"功能"}),a.jsxs("div",{className:"space-y-2",children:[y.features.map((z,B)=>a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(le,{value:z,onChange:G=>q(B,G.target.value),placeholder:"輸入功能..."}),a.jsx(W,{variant:"outline",size:"sm",onClick:()=>$(B),children:a.jsx(_r,{className:"h-4 w-4"})})]},B)),a.jsxs(W,{variant:"outline",size:"sm",onClick:F,children:[a.jsx(qr,{className:"h-4 w-4 mr-2"}),"新增功能"]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Nt,{id:"isActive",checked:y.isActive,onCheckedChange:z=>w(B=>({...B,isActive:z}))}),a.jsx(Z,{htmlFor:"isActive",children:"啟用此停車場"})]})]}),a.jsxs(ct,{children:[a.jsx(W,{variant:"outline",onClick:()=>{c(!1),u(!1),k()},children:"取消"}),a.jsx(W,{onClick:x?j:N,children:x?"更新":"創建停車場"})]})]})}),a.jsx(ft,{open:h,onOpenChange:p,children:a.jsxs(it,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[a.jsxs(ot,{children:[a.jsxs(lt,{children:["管理停車場圖片 - ",g==null?void 0:g.name]}),a.jsx(ut,{children:"上傳和管理停車場的展示圖片"})]}),g&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("span",{className:"text-2xl",children:_(g.type||"indoor")}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold",children:g.name}),a.jsx("p",{className:"text-sm text-gray-600",children:g.description}),a.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-xs text-gray-500",children:[a.jsxs("span",{children:["容量: ",g.totalSpaces," 位"]}),a.jsxs("span",{children:["價格: $",g.pricePerDay,"/天"]}),a.jsxs("span",{children:["圖片: ",((V=g.images)==null?void 0:V.length)||0," 張"]})]})]})]})}),a.jsxs("div",{className:"border-t pt-6",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"上傳圖片"}),a.jsx("p",{className:"text-sm text-gray-600",children:"支援 JPG, PNG, GIF 格式，單個文件最大 10MB"})]}),a.jsx(Tce,{parkingTypeId:g._id,onUploadSuccess:O,onDeleteSuccess:P,existingImages:g.images||[],maxFiles:10,maxFileSize:10})]}),a.jsx("div",{className:"border-t pt-6",children:g.images&&g.images.length>0?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"圖片預覽"}),a.jsxs("span",{className:"text-sm text-gray-500",children:[g.images.length," 張圖片"]})]}),a.jsx(oN,{images:g.images,showFullscreen:!0})]}):a.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[a.jsx("div",{className:"text-4xl mb-2",children:"📷"}),a.jsx("p",{className:"text-gray-500",children:"暫無圖片"}),a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"上傳圖片後將在此顯示"})]})})]}),a.jsx(ct,{children:a.jsx(W,{variant:"outline",onClick:()=>p(!1),children:"關閉"})})]})}),a.jsx(ft,{open:d,onOpenChange:f,children:a.jsxs(it,{children:[a.jsxs(ot,{children:[a.jsx(lt,{children:"確認刪除"}),a.jsxs(ut,{children:['您確定要刪除停車場 "',g==null?void 0:g.name,'"? 此操作無法撤銷。']})]}),a.jsxs(ct,{children:[a.jsx(W,{variant:"outline",onClick:()=>f(!1),children:"取消"}),a.jsx(W,{variant:"destructive",onClick:A,children:"刪除"})]})]})})]})},Ece=()=>{const[e,t]=v.useState([]),[r,n]=v.useState(!0),[s,i]=v.useState(""),[o,c]=v.useState("all"),[l,u]=v.useState(!1),[d,f]=v.useState(!1),[h,p]=v.useState(!1),[g,m]=v.useState(null),[x,b]=v.useState(!1),[y,w]=v.useState({code:"",name:"",description:"",discountType:"percentage",discountValue:10,minOrderAmount:0,maxDiscount:0,maxUsage:100,isActive:!0,validFrom:"",validTo:""});v.useEffect(()=>{S()},[]);const S=async()=>{try{n(!0);const $=await z$();t($.discountCodes)}catch{Y.error("無法載入折扣碼清單")}finally{n(!1)}},N=async()=>{try{await U$(y),Y.success("創建折扣碼成功"),u(!1),O(),S()}catch{Y.error("無法創建折扣碼")}},j=async()=>{if(g)try{await W$(g._id,y),Y.success("更新折扣碼成功"),f(!1),O(),S()}catch{Y.error("無法更新折扣碼")}},A=async()=>{if(g)try{await H$(g._id),Y.success("刪除折扣碼成功"),p(!1),m(null),S()}catch{Y.error("無法刪除折扣碼")}},O=()=>{w({code:"",name:"",description:"",discountType:"percentage",discountValue:10,minOrderAmount:0,maxDiscount:0,maxUsage:100,isActive:!0,validFrom:"",validTo:""}),b(!1),m(null)},P=()=>{O(),u(!0)},T=$=>{m($),w({code:$.code,name:$.name,description:$.description,discountType:$.discountType,discountValue:$.discountValue,minOrderAmount:$.minOrderAmount||0,maxDiscount:$.maxDiscount||0,maxUsage:$.maxUsage,isActive:$.isActive,validFrom:$.validFrom,validTo:$.validTo}),b(!0),f(!0)},_=$=>{m($),p(!0)},k=$=>{navigator.clipboard.writeText($),Y.success("Đã sao chép mã giảm giá")},E=$=>new Date($).toLocaleDateString("zh-TW"),C=($,q)=>Math.round($/q*100),I=$=>{const q=new Date,M=new Date($.validFrom),J=new Date($.validTo);return $.isActive?q<M?a.jsx(Le,{variant:"outline",className:"bg-yellow-100 text-yellow-800",children:"未開始"}):q>J?a.jsx(Le,{variant:"secondary",className:"bg-gray-100 text-gray-800",children:"過期"}):$.currentUsage>=$.maxUsage?a.jsx(Le,{variant:"secondary",className:"bg-orange-100 text-orange-800",children:"已用完"}):a.jsx(Le,{className:"bg-green-100 text-green-800",children:"啟用"}):a.jsx(Le,{variant:"secondary",className:"bg-red-100 text-red-800",children:"暫停"})},F=e.filter($=>{const q=$.name.toLowerCase().includes(s.toLowerCase())||$.code.toLowerCase().includes(s.toLowerCase())||$.description.toLowerCase().includes(s.toLowerCase()),M=o==="all"||$.discountType===o;return q&&M});return r?a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}):a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"折扣碼"}),a.jsx("p",{className:"text-gray-600",children:"管理折扣碼和優惠"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(W,{variant:"outline",onClick:S,children:[a.jsx(Hn,{className:"h-4 w-4 mr-2"}),"重新整理"]}),a.jsxs(W,{onClick:P,children:[a.jsx(qr,{className:"h-4 w-4 mr-2"}),"新增折扣碼"]})]})]}),a.jsxs(ue,{className:"mb-6",children:[a.jsx(xe,{children:a.jsxs(ye,{className:"flex items-center",children:[a.jsx(mr,{className:"h-5 w-5 mr-2"}),"篩選"]})}),a.jsx(he,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"search",children:"搜尋"}),a.jsxs("div",{className:"relative",children:[a.jsx(Kr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),a.jsx(le,{id:"search",placeholder:"名稱, 代碼, 描述...",value:s,onChange:$=>i($.target.value),className:"pl-10"})]})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"type",children:"折扣類型"}),a.jsxs("select",{id:"type",value:o,onChange:$=>c($.target.value),className:"w-full p-2 border border-gray-300 rounded-md",children:[a.jsx("option",{value:"all",children:"所有類型"}),a.jsx("option",{value:"percentage",children:"百分比 (%)"}),a.jsx("option",{value:"fixed",children:"固定金額"})]})]}),a.jsx("div",{className:"flex items-end",children:a.jsxs(W,{variant:"outline",className:"w-full",children:[a.jsx(mr,{className:"h-4 w-4 mr-2"}),"篩選"]})})]})})]}),a.jsxs(ue,{children:[a.jsxs(xe,{children:[a.jsx(ye,{children:"折扣碼清單"}),a.jsxs(rt,{children:["總共 ",F.length," 個折扣碼"]})]}),a.jsxs(he,{children:[a.jsxs(zr,{children:[a.jsx(Ur,{children:a.jsxs(Pt,{children:[a.jsx(_e,{children:"資訊"}),a.jsx(_e,{children:"價值"}),a.jsx(_e,{children:"使用"}),a.jsx(_e,{children:"期限"}),a.jsx(_e,{children:"狀態"}),a.jsx(_e,{children:"操作"})]})}),a.jsx(Wr,{children:F.map($=>a.jsxs(Pt,{children:[a.jsx(Pe,{children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx(xu,{className:"h-5 w-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:$.name}),a.jsx("div",{className:"text-sm text-gray-600 font-mono",children:$.code}),a.jsx("div",{className:"text-sm text-gray-500",children:$.description})]})]})}),a.jsx(Pe,{children:a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsx("div",{className:"font-medium",children:$.discountType==="percentage"?`${$.discountValue}%`:`${$.discountValue} TWD`}),$.minOrderAmount&&$.minOrderAmount>0&&a.jsxs("div",{className:"text-gray-500",children:["最低: ",$.minOrderAmount," TWD"]}),$.maxDiscount&&$.maxDiscount>0&&a.jsxs("div",{className:"text-gray-500",children:["最高: ",$.maxDiscount," TWD"]})]})}),a.jsx(Pe,{children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"text-sm",children:[a.jsxs("div",{children:[$.currentUsage,"/",$.maxUsage]}),a.jsx("div",{className:"text-gray-500",children:"已使用"})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-[#39653f] h-2 rounded-full transition-all",style:{width:`${C($.currentUsage,$.maxUsage)}%`}})})]})}),a.jsx(Pe,{children:a.jsxs("div",{className:"text-sm text-gray-600",children:[a.jsxs("div",{children:["從: ",E($.validFrom)]}),a.jsxs("div",{children:["到: ",E($.validTo)]})]})}),a.jsx(Pe,{children:I($)}),a.jsx(Pe,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(W,{size:"sm",variant:"outline",onClick:()=>T($),children:a.jsx(nn,{className:"h-4 w-4"})}),a.jsx(W,{size:"sm",variant:"outline",onClick:()=>k($.code),children:a.jsx(su,{className:"h-4 w-4"})}),a.jsx(W,{size:"sm",variant:"destructive",onClick:()=>_($),children:a.jsx(_r,{className:"h-4 w-4"})})]})})]},$._id))})]}),F.length===0&&a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(xu,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"找不到折扣碼"}),a.jsx("p",{className:"text-gray-500",children:"沒有找到符合目前篩選條件的折扣碼。"})]})]})]}),a.jsx(ft,{open:l||d,onOpenChange:$=>{$||(u(!1),f(!1),O())},children:a.jsxs(it,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[a.jsxs(ot,{children:[a.jsx(lt,{children:x?"編輯折扣碼":"新增折扣碼"}),a.jsx(ut,{children:x?"更新折扣碼資訊":"創建新的折扣碼並提供必要資訊"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"code",children:"折扣碼 *"}),a.jsx(le,{id:"code",value:y.code,onChange:$=>w(q=>({...q,code:$.target.value.toUpperCase()})),placeholder:"Ví dụ: WELCOME10"})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"name",children:"折扣碼名稱 *"}),a.jsx(le,{id:"name",value:y.name,onChange:$=>w(q=>({...q,name:$.target.value})),placeholder:"例如: 歡迎折扣"})]})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"description",children:"描述"}),a.jsx(rr,{id:"description",value:y.description,onChange:$=>w(q=>({...q,description:$.target.value})),placeholder:"輸入折扣碼詳細描述...",rows:3})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"discountType",children:"折扣類型"}),a.jsxs("select",{id:"discountType",value:y.discountType,onChange:$=>w(q=>({...q,discountType:$.target.value})),className:"w-full p-2 border border-gray-300 rounded-md",children:[a.jsx("option",{value:"percentage",children:"百分比 (%)"}),a.jsx("option",{value:"fixed",children:"固定金額 (TWD)"})]})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"discountValue",children:"折扣價值 *"}),a.jsx(le,{id:"discountValue",type:"number",value:y.discountValue,onChange:$=>w(q=>({...q,discountValue:parseInt($.target.value)})),placeholder:y.discountType==="percentage"?"10":"50"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"minOrderAmount",children:"最低訂單金額 (TWD)"}),a.jsx(le,{id:"minOrderAmount",type:"number",value:y.minOrderAmount,onChange:$=>w(q=>({...q,minOrderAmount:parseInt($.target.value)})),placeholder:"0"})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"maxDiscount",children:"最高折扣金額 (TWD)"}),a.jsx(le,{id:"maxDiscount",type:"number",value:y.maxDiscount,onChange:$=>w(q=>({...q,maxDiscount:parseInt($.target.value)})),placeholder:"0 (不限制)"})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"maxUsage",children:"使用限制"}),a.jsx(le,{id:"maxUsage",type:"number",value:y.maxUsage,onChange:$=>w(q=>({...q,maxUsage:parseInt($.target.value)})),placeholder:"100"})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"validFrom",children:"開始日期"}),a.jsx(le,{id:"validFrom",type:"date",value:y.validFrom,onChange:$=>w(q=>({...q,validFrom:$.target.value}))})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"validTo",children:"結束日期"}),a.jsx(le,{id:"validTo",type:"date",value:y.validTo,onChange:$=>w(q=>({...q,validTo:$.target.value}))})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Nt,{id:"isActive",checked:y.isActive,onCheckedChange:$=>w(q=>({...q,isActive:$}))}),a.jsx(Z,{htmlFor:"isActive",children:"啟用此折扣碼"})]})]}),a.jsxs(ct,{children:[a.jsx(W,{variant:"outline",onClick:()=>{u(!1),f(!1),O()},children:"取消"}),a.jsx(W,{onClick:x?j:N,children:x?"更新":"創建"})]})]})}),a.jsx(ft,{open:h,onOpenChange:p,children:a.jsxs(it,{children:[a.jsxs(ot,{children:[a.jsx(lt,{children:"確認刪除"}),a.jsxs(ut,{children:['您確定要刪除折扣碼 "',g==null?void 0:g.name,'" (',g==null?void 0:g.code,")? 此操作無法撤銷。"]})]}),a.jsxs(ct,{children:[a.jsx(W,{variant:"outline",onClick:()=>p(!1),children:"取消"}),a.jsx(W,{variant:"destructive",onClick:A,children:"刪除"})]})]})})]})},$ce=()=>{const[e,t]=v.useState([]),[r,n]=v.useState(!0),[s,i]=v.useState(""),[o,c]=v.useState("all"),[l,u]=v.useState(!1),[d,f]=v.useState(!1),[h,p]=v.useState(!1),[g,m]=v.useState(null),[x,b]=v.useState(!1),[y,w]=v.useState({name:"",description:"",icon:"🚐",price:0,category:"other",duration:30,features:[""],isActive:!0});v.useEffect(()=>{S()},[]);const S=async()=>{try{n(!0);const M=await sN();t(M.services)}catch{Y.error("無法載入服務清單")}finally{n(!1)}},N=async()=>{try{await F$(y),Y.success("創建服務成功"),u(!1),O(),S()}catch{Y.error("無法創建服務")}},j=async()=>{if(g)try{await B$(g._id,y),Y.success("更新服務成功"),f(!1),O(),S()}catch{Y.error("無法更新服務")}},A=async()=>{if(g)try{await V$(g._id),Y.success("刪除服務成功"),p(!1),m(null),S()}catch{Y.error("無法刪除服務")}},O=()=>{w({name:"",description:"",icon:"🚐",price:0,category:"other",duration:30,features:[""],isActive:!0}),b(!1),m(null)},P=()=>{O(),u(!0)},T=M=>{m(M),w({name:M.name,description:M.description,icon:M.icon,price:M.price,category:M.category,duration:M.duration||30,features:M.features||[""],isActive:M.isActive}),b(!0),f(!0)},_=M=>{m(M),p(!0)},k=()=>{w({...y,features:[...y.features,""]})},E=M=>{w({...y,features:y.features.filter((J,V)=>V!==M)})},C=(M,J)=>{const V=[...y.features];V[M]=J,w({...y,features:V})},I=M=>({transport:ir,cleaning:SE,security:vu,convenience:di,other:di})[M]||di,F=M=>({transport:"bg-blue-100 text-blue-800",cleaning:"bg-purple-100 text-purple-800",security:"bg-red-100 text-red-800",convenience:"bg-green-100 text-green-800",other:"bg-gray-100 text-gray-800"})[M]||"bg-gray-100 text-gray-800",$=M=>M===0?"免費":M.toLocaleString("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0,maximumFractionDigits:0}),q=e.filter(M=>{const J=M.name.toLowerCase().includes(s.toLowerCase())||M.description.toLowerCase().includes(s.toLowerCase()),V=o==="all"||M.category===o;return J&&V});return r?a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}):a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"附加服務"}),a.jsx("p",{className:"text-gray-600",children:"管理客戶的附加服務"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(W,{variant:"outline",onClick:S,children:[a.jsx(Hn,{className:"h-4 w-4 mr-2"}),"重新整理"]}),a.jsxs(W,{onClick:P,children:[a.jsx(qr,{className:"h-4 w-4 mr-2"}),"新增服務"]})]})]}),a.jsxs(ue,{className:"mb-6",children:[a.jsx(xe,{children:a.jsxs(ye,{className:"flex items-center",children:[a.jsx(mr,{className:"h-5 w-5 mr-2"}),"篩選"]})}),a.jsx(he,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"search",children:"搜尋"}),a.jsxs("div",{className:"relative",children:[a.jsx(Kr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),a.jsx(le,{id:"search",placeholder:"名稱、描述...",value:s,onChange:M=>i(M.target.value),className:"pl-10"})]})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"category",children:"類別"}),a.jsxs("select",{id:"category",value:o,onChange:M=>c(M.target.value),className:"w-full p-2 border border-gray-300 rounded-md",children:[a.jsx("option",{value:"all",children:"所有類別"}),a.jsx("option",{value:"transport",children:"運輸"}),a.jsx("option",{value:"cleaning",children:"清潔"}),a.jsx("option",{value:"security",children:"安全"}),a.jsx("option",{value:"convenience",children:"便利"}),a.jsx("option",{value:"other",children:"其他"})]})]}),a.jsx("div",{className:"flex items-end",children:a.jsxs(W,{variant:"outline",className:"w-full",children:[a.jsx(mr,{className:"h-4 w-4 mr-2"}),"篩選"]})})]})})]}),a.jsxs(ue,{children:[a.jsxs(xe,{children:[a.jsx(ye,{children:"服務清單"}),a.jsxs(rt,{children:["共 ",q.length," 項服務"]})]}),a.jsxs(he,{children:[a.jsxs(zr,{children:[a.jsx(Ur,{children:a.jsxs(Pt,{children:[a.jsx(_e,{children:"資訊"}),a.jsx(_e,{children:"類別"}),a.jsx(_e,{children:"價格"}),a.jsx(_e,{children:"時間"}),a.jsx(_e,{children:"功能"}),a.jsx(_e,{children:"狀態"}),a.jsx(_e,{children:"操作"})]})}),a.jsx(Wr,{children:q.map(M=>{const J=I(M.category);return a.jsxs(Pt,{children:[a.jsx(Pe,{children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-2xl",children:M.icon}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:M.name}),a.jsx("div",{className:"text-sm text-gray-600",children:M.description})]})]})}),a.jsx(Pe,{children:a.jsxs(Le,{className:F(M.category),children:[a.jsx(J,{className:"h-3 w-3 mr-1"}),M.category==="transport"&&"運輸",M.category==="cleaning"&&"清潔",M.category==="security"&&"安全",M.category==="convenience"&&"便利",M.category==="other"&&"其他",!["transport","cleaning","security","convenience","other"].includes(M.category)&&M.category]})}),a.jsx(Pe,{children:a.jsx("div",{className:"text-sm font-medium",children:$(M.price)})}),a.jsx(Pe,{children:a.jsx("div",{className:"text-sm",children:M.duration?`${M.duration} 分鐘`:"N/A"})}),a.jsx(Pe,{children:a.jsxs("div",{className:"flex flex-wrap gap-1",children:[(M.features||[]).slice(0,2).map((V,z)=>a.jsx(Le,{variant:"outline",className:"text-xs",children:V},z)),(M.features||[]).length>2&&a.jsxs(Le,{variant:"outline",className:"text-xs",children:["+",(M.features||[]).length-2," 更多"]})]})}),a.jsx(Pe,{children:a.jsx(Le,{variant:M.isActive?"default":"secondary",children:M.isActive?a.jsxs(a.Fragment,{children:[a.jsx(pr,{className:"h-3 w-3 mr-1"}),"啟用"]}):a.jsxs(a.Fragment,{children:[a.jsx(Gr,{className:"h-3 w-3 mr-1"}),"暫停"]})})}),a.jsx(Pe,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(W,{size:"sm",variant:"outline",onClick:()=>T(M),children:a.jsx(nn,{className:"h-4 w-4"})}),a.jsx(W,{size:"sm",variant:"destructive",onClick:()=>_(M),children:a.jsx(_r,{className:"h-4 w-4"})})]})})]},M._id)})})]}),q.length===0&&a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(di,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"找不到服務"}),a.jsx("p",{className:"text-gray-500",children:"沒有符合當前篩選條件的服務。"})]})]})]}),a.jsx(ft,{open:l||d,onOpenChange:M=>{M||(u(!1),f(!1),O())},children:a.jsxs(it,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[a.jsxs(ot,{children:[a.jsx(lt,{children:x?"編輯服務":"新增服務"}),a.jsx(ut,{children:x?"更新服務資訊":"創建新的附加服務，包含必要資訊"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"name",children:"服務名稱 *"}),a.jsx(le,{id:"name",value:y.name,onChange:M=>w(J=>({...J,name:M.target.value})),placeholder:"例如：洗車、機場接送..."})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"icon",children:"圖示"}),a.jsx(le,{id:"icon",value:y.icon,onChange:M=>w(J=>({...J,icon:M.target.value})),placeholder:"🚐 🚗 ✨ 🧴"})]})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"description",children:"描述"}),a.jsx(rr,{id:"description",value:y.description,onChange:M=>w(J=>({...J,description:M.target.value})),placeholder:"詳細描述服務...",rows:3})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"price",children:"價格 (TWD)"}),a.jsx(le,{id:"price",type:"number",value:y.price,onChange:M=>w(J=>({...J,price:parseInt(M.target.value)})),placeholder:"0"})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"duration",children:"時間 (分鐘)"}),a.jsx(le,{id:"duration",type:"number",value:y.duration,onChange:M=>w(J=>({...J,duration:parseInt(M.target.value)})),placeholder:"30"})]})]}),a.jsxs("div",{children:[a.jsx(Z,{children:"功能"}),a.jsxs("div",{className:"space-y-2",children:[y.features.map((M,J)=>a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(le,{value:M,onChange:V=>C(J,V.target.value),placeholder:"輸入功能..."}),a.jsx(W,{variant:"outline",size:"sm",onClick:()=>E(J),children:a.jsx(_r,{className:"h-4 w-4"})})]},J)),a.jsxs(W,{variant:"outline",size:"sm",onClick:k,children:[a.jsx(qr,{className:"h-4 w-4 mr-2"}),"新增功能"]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Nt,{id:"isActive",checked:y.isActive,onCheckedChange:M=>w(J=>({...J,isActive:M}))}),a.jsx(Z,{htmlFor:"isActive",children:"啟用此服務"})]})]}),a.jsxs(ct,{children:[a.jsx(W,{variant:"outline",onClick:()=>{u(!1),f(!1),O()},children:"取消"}),a.jsx(W,{onClick:x?j:N,children:x?"更新":"創建服務"})]})]})}),a.jsx(ft,{open:h,onOpenChange:p,children:a.jsxs(it,{children:[a.jsxs(ot,{children:[a.jsx(lt,{children:"確認刪除"}),a.jsxs(ut,{children:['您確定要刪除服務 "',g==null?void 0:g.name,'" 嗎？ 此操作無法撤銷。']})]}),a.jsxs(ct,{children:[a.jsx(W,{variant:"outline",onClick:()=>p(!1),children:"取消"}),a.jsx(W,{variant:"destructive",onClick:A,children:"刪除"})]})]})})]})},Dce=()=>{const[e,t]=v.useState([]),[r,n]=v.useState(!0),[s,i]=v.useState("email"),[o,c]=v.useState(""),[l,u]=v.useState(!1),[d,f]=v.useState(!1),[h,p]=v.useState(!1),[g,m]=v.useState(!1),[x,b]=v.useState(!1),[y,w]=v.useState(!1),[S,N]=v.useState(null),[j,A]=v.useState(""),[O,P]=v.useState(!1),[T,_]=v.useState(null),[k,E]=v.useState(!1),[C,I]=v.useState(!1),[F,$]=v.useState({name:"",type:"email",subject:"",content:"",description:"",variables:[],isActive:!0}),[q,M]=v.useState({templateName:"",type:"email",recipient:"",variables:{}}),[J,V]=v.useState({templateName:"",type:"email",recipients:"",variables:{}});v.useEffect(()=>{z(),B()},[]);const z=async()=>{try{n(!0);const K=await Z$({type:s,search:o});t(K.templates)}catch(K){Y.error("無法載入通知模板清單"),console.error("Load templates error:",K)}finally{n(!1)}},B=async()=>{try{const K=await tD();_(K)}catch(K){console.error("Load stats error:",K)}},G=async()=>{try{await X$(F),Y.success("創建通知模板成功"),u(!1),R(),z(),B()}catch(K){Y.error("無法創建通知模板"),console.error("Create template error:",K)}},ce=async()=>{if(S)try{await Y$(S._id,F),Y.success("更新通知模板成功"),f(!1),R(),z(),B()}catch(K){Y.error("無法更新通知模板"),console.error("Update template error:",K)}},we=async()=>{if(S)try{await J$(S._id),Y.success("刪除通知模板成功"),p(!1),N(null),z(),B()}catch(K){Y.error("無法刪除通知模板"),console.error("Delete template error:",K)}},pe=async()=>{try{E(!0);const K=await Q$(q);console.log("Test notification result:",K),Y.success("發送測試通知成功"),b(!1),de()}catch(K){Y.error("無法發送測試通知"),console.error("Test notification error:",K)}finally{E(!1)}},Oe=async()=>{try{I(!0);const K=J.recipients.split(",").map(oe=>oe.trim()).filter(oe=>oe),ae=await eD({...J,recipients:K});Y.success(`發送批量通知成功: ${ae.message}`),w(!1),fe()}catch(K){Y.error("無法發送批量通知"),console.error("Bulk notification error:",K)}finally{I(!1)}},R=()=>{$({name:"",type:"email",subject:"",content:"",description:"",variables:[],isActive:!0}),P(!1),N(null)},de=()=>{M({templateName:"",type:"email",recipient:"",variables:{}})},fe=()=>{V({templateName:"",type:"email",recipients:"",variables:{}})},ee=()=>{R(),$(K=>({...K,type:s})),u(!0)},Me=K=>{N(K),$({name:K.name,type:K.type,subject:K.subject||"",content:K.content,description:K.description,variables:K.variables||[],isActive:K.isActive}),P(!0),f(!0)},Se=K=>{N(K),p(!0)},tt=K=>{N(K),M({templateName:K.name,type:K.type,recipient:"",variables:{}}),b(!0)},nt=K=>{N(K),V({templateName:K.name,type:K.type,recipients:"",variables:{}}),w(!0)},ze=K=>{let ae=K.content;K.variables.forEach(oe=>{const ke={customerName:"Nguyễn Văn A",bookingId:"BK2024001",bookingDate:"15/01/2024",startTime:"08:00",endTime:"12:00",parkingType:"Trong nhà",totalAmount:"400",location:"Tầng 1, Khu A",reminderTime:"30 phút",amount:"400",paymentMethod:"Thẻ tín dụng",paymentTime:"15/01/2024 07:30",refundAmount:"400",refundTime:"15/01/2024 10:00",discountPercent:"20",promoCode:"SAVE20",expiryDate:"31/01/2024"};ae=ae.replace(new RegExp(`{{${oe}}}`,"g"),ke[oe]||`[${oe}]`)}),A(ae),N(K),m(!0)},L=K=>({email:ji,sms:z1,push:CE})[K]||au,X=K=>({email:"bg-blue-100 text-blue-800",sms:"bg-green-100 text-green-800",push:"bg-purple-100 text-purple-800"})[K]||"bg-gray-100 text-gray-800",Q=e.filter(K=>{const ae=K.type===s,oe=K.name.toLowerCase().includes(o.toLowerCase())||K.description.toLowerCase().includes(o.toLowerCase());return ae&&oe});return v.useEffect(()=>{z()},[s,o]),r?a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}):a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"通知模板"}),a.jsx("p",{className:"text-gray-600",children:"管理系統通知模板"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(W,{variant:"outline",onClick:z,children:[a.jsx(Hn,{className:"h-4 w-4 mr-2"}),"重新整理"]}),a.jsxs(W,{onClick:ee,children:[a.jsx(qr,{className:"h-4 w-4 mr-2"}),"新增模板"]})]})]}),T&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[a.jsx(ue,{children:a.jsx(he,{className:"p-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(I1,{className:"h-5 w-5 text-blue-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"總共模板"}),a.jsx("p",{className:"text-2xl font-bold",children:T.total})]})]})})}),a.jsx(ue,{children:a.jsx(he,{className:"p-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(pr,{className:"h-5 w-5 text-green-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"啟用"}),a.jsx("p",{className:"text-2xl font-bold",children:T.active})]})]})})}),a.jsx(ue,{children:a.jsx(he,{className:"p-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Gr,{className:"h-5 w-5 text-red-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"暫停"}),a.jsx("p",{className:"text-2xl font-bold",children:T.inactive})]})]})})}),a.jsx(ue,{children:a.jsx(he,{className:"p-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(au,{className:"h-5 w-5 text-purple-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"類型"}),a.jsx("p",{className:"text-2xl font-bold",children:T.stats.length})]})]})})})]}),a.jsxs(ue,{className:"mb-6",children:[a.jsx(xe,{children:a.jsxs(ye,{className:"flex items-center",children:[a.jsx(Kr,{className:"h-5 w-5 mr-2"}),"搜尋"]})}),a.jsx(he,{children:a.jsxs("div",{className:"relative",children:[a.jsx(Kr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),a.jsx(le,{placeholder:"名稱、描述...",value:o,onChange:K=>c(K.target.value),className:"pl-10"})]})})]}),a.jsxs(ho,{value:s,onValueChange:i,className:"space-y-4",children:[a.jsxs(Gs,{className:"grid w-full grid-cols-3",children:[a.jsx(Mt,{value:"email",children:"Email"}),a.jsx(Mt,{value:"sms",children:"SMS"}),a.jsx(Mt,{value:"push",children:"推送通知"})]}),a.jsx(er,{value:s,className:"space-y-4",children:a.jsxs(ue,{children:[a.jsxs(xe,{children:[a.jsx(ye,{children:"通知模板清單"}),a.jsxs(rt,{children:["總共 ",Q.length," 個通知模板 ",s.toUpperCase()]})]}),a.jsxs(he,{children:[a.jsxs(zr,{children:[a.jsx(Ur,{children:a.jsxs(Pt,{children:[a.jsx(_e,{children:"資訊"}),a.jsx(_e,{children:"類型"}),a.jsx(_e,{children:"標題"}),a.jsx(_e,{children:"變數"}),a.jsx(_e,{children:"狀態"}),a.jsx(_e,{children:"操作"})]})}),a.jsx(Wr,{children:Q.map(K=>{const ae=L(K.type);return a.jsxs(Pt,{children:[a.jsx(Pe,{children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx(ae,{className:"h-5 w-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:K.name}),a.jsx("div",{className:"text-sm text-gray-600",children:K.description})]})]})}),a.jsx(Pe,{children:a.jsx(Le,{className:X(K.type),children:K.type.toUpperCase()})}),a.jsx(Pe,{children:a.jsx("div",{className:"text-sm text-gray-600 max-w-xs truncate",children:K.subject||"Không có tiêu đề"})}),a.jsx(Pe,{children:a.jsxs("div",{className:"flex flex-wrap gap-1",children:[(K.variables||[]).slice(0,3).map(oe=>a.jsx(Le,{variant:"outline",className:"text-xs",children:`{{${oe}}}`},oe)),(K.variables||[]).length>3&&a.jsxs(Le,{variant:"outline",className:"text-xs",children:["+",(K.variables||[]).length-3," nữa"]})]})}),a.jsx(Pe,{children:a.jsx(Le,{variant:K.isActive?"default":"secondary",children:K.isActive?a.jsxs(a.Fragment,{children:[a.jsx(pr,{className:"h-3 w-3 mr-1"}),"啟用"]}):a.jsxs(a.Fragment,{children:[a.jsx(Gr,{className:"h-3 w-3 mr-1"}),"暫停"]})})}),a.jsx(Pe,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(W,{size:"sm",variant:"outline",onClick:()=>ze(K),children:a.jsx(Ma,{className:"h-4 w-4"})}),a.jsx(W,{size:"sm",variant:"outline",onClick:()=>tt(K),children:a.jsx(DE,{className:"h-4 w-4"})}),a.jsx(W,{size:"sm",variant:"outline",onClick:()=>nt(K),children:a.jsx(aa,{className:"h-4 w-4"})}),a.jsx(W,{size:"sm",variant:"outline",onClick:()=>Me(K),children:a.jsx(nn,{className:"h-4 w-4"})}),a.jsx(W,{size:"sm",variant:"destructive",onClick:()=>Se(K),children:a.jsx(_r,{className:"h-4 w-4"})})]})})]},K._id)})})]}),Q.length===0&&a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(au,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"沒有通知模板"}),a.jsxs("p",{className:"text-gray-500",children:["沒有通知模板 ",s.toUpperCase(),"."]})]})]})]})})]}),a.jsx(ft,{open:l||d,onOpenChange:K=>{K||(u(!1),f(!1),R())},children:a.jsxs(it,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[a.jsxs(ot,{children:[a.jsx(lt,{children:O?"編輯通知模板":"新增通知模板"}),a.jsx(ut,{children:O?"更新通知模板內容":"創建新的通知模板並提供必要資訊"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"name",children:"通知模板名稱 *"}),a.jsx(le,{id:"name",value:F.name,onChange:K=>$(ae=>({...ae,name:K.target.value})),placeholder:"例如: 確認預約"})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"type",children:"通知類型"}),a.jsxs("select",{id:"type",value:F.type,onChange:K=>$(ae=>({...ae,type:K.target.value})),className:"w-full p-2 border border-gray-300 rounded-md",children:[a.jsx("option",{value:"email",children:"Email"}),a.jsx("option",{value:"sms",children:"SMS"}),a.jsx("option",{value:"push",children:"推送通知"})]})]})]}),F.type==="email"&&a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"subject",children:"電郵標題"}),a.jsx(le,{id:"subject",value:F.subject,onChange:K=>$(ae=>({...ae,subject:K.target.value})),placeholder:"輸入電郵標題..."})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"description",children:"描述"}),a.jsx(le,{id:"description",value:F.description,onChange:K=>$(ae=>({...ae,description:K.target.value})),placeholder:"輸入通知模板描述..."})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"content",children:"內容 *"}),a.jsx(rr,{id:"content",value:F.content,onChange:K=>$(ae=>({...ae,content:K.target.value})),rows:15,className:"font-mono text-sm",placeholder:"輸入通知模板內容... 使用 {{variable}} 插入變數."})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Nt,{id:"isActive",checked:F.isActive,onCheckedChange:K=>$(ae=>({...ae,isActive:K}))}),a.jsx(Z,{htmlFor:"isActive",children:"啟用此通知模板"})]})]}),a.jsxs(ct,{children:[a.jsx(W,{variant:"outline",onClick:()=>{u(!1),f(!1),R()},children:"Hủy"}),a.jsxs(W,{onClick:O?ce:G,children:[a.jsx(Zo,{className:"h-4 w-4 mr-2"}),O?"更新":"創建"]})]})]})}),a.jsx(ft,{open:x,onOpenChange:b,children:a.jsxs(it,{className:"max-w-2xl",children:[a.jsxs(ot,{children:[a.jsx(lt,{children:"測試發送通知"}),a.jsxs(ut,{children:['發送測試通知以測試模板 "',S==null?void 0:S.name,'"']})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"testRecipient",children:"接收者 *"}),a.jsx(le,{id:"testRecipient",value:q.recipient,onChange:K=>M(ae=>({...ae,recipient:K.target.value})),placeholder:q.type==="email"?"email@example.com":q.type==="sms"?"+84901234567":"device_token"})]}),a.jsxs("div",{children:[a.jsx(Z,{children:"變數 (可選)"}),a.jsx("div",{className:"space-y-2",children:((S==null?void 0:S.variables)||[]).map(K=>a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(Z,{className:"w-24 text-sm",children:[K,":"]}),a.jsx(le,{value:q.variables[K]||"",onChange:ae=>M(oe=>({...oe,variables:{...oe.variables,[K]:ae.target.value}})),placeholder:`輸入 ${K} 的值`})]},K))})]})]}),a.jsxs(ct,{children:[a.jsx(W,{variant:"outline",onClick:()=>b(!1),children:"取消"}),a.jsxs(W,{onClick:pe,disabled:k,children:[a.jsx(TE,{className:"h-4 w-4 mr-2"}),k?"正在發送...":"發送測試"]})]})]})}),a.jsx(ft,{open:y,onOpenChange:w,children:a.jsxs(it,{className:"max-w-2xl",children:[a.jsxs(ot,{children:[a.jsx(lt,{children:"發送批量通知"}),a.jsxs(ut,{children:['發送通知 "',S==null?void 0:S.name,'" 給多個接收者']})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"bulkRecipients",children:"接收者列表 *"}),a.jsx(rr,{id:"bulkRecipients",value:J.recipients,onChange:K=>V(ae=>({...ae,recipients:K.target.value})),placeholder:J.type==="email"?"email1@example.com, email2@example.com":J.type==="sms"?"+84901234567, +84987654321":"token1, token2",rows:4}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"每個接收者一行或用逗號分隔"})]}),a.jsxs("div",{children:[a.jsx(Z,{children:"變數 (可選)"}),a.jsx("div",{className:"space-y-2",children:((S==null?void 0:S.variables)||[]).map(K=>a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(Z,{className:"w-24 text-sm",children:[K,":"]}),a.jsx(le,{value:J.variables[K]||"",onChange:ae=>V(oe=>({...oe,variables:{...oe.variables,[K]:ae.target.value}})),placeholder:`輸入 ${K} 的值`})]},K))})]})]}),a.jsxs(ct,{children:[a.jsx(W,{variant:"outline",onClick:()=>w(!1),children:"取消"}),a.jsxs(W,{onClick:Oe,disabled:C,children:[a.jsx(aa,{className:"h-4 w-4 mr-2"}),C?"正在發送...":"發送批量"]})]})]})}),a.jsx(ft,{open:g,onOpenChange:m,children:a.jsxs(it,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[a.jsxs(ot,{children:[a.jsx(lt,{children:"預覽通知模板"}),a.jsxs(ut,{children:[S==null?void 0:S.name," - ",S==null?void 0:S.type.toUpperCase()]})]}),a.jsxs("div",{className:"space-y-4",children:[(S==null?void 0:S.subject)&&a.jsxs("div",{children:[a.jsx(Z,{className:"text-sm font-medium",children:"標題:"}),a.jsx("div",{className:"mt-1 p-3 bg-gray-50 rounded-lg",children:a.jsx("p",{className:"text-sm",children:S.subject})})]}),a.jsxs("div",{children:[a.jsx(Z,{className:"text-sm font-medium",children:"內容:"}),a.jsx("div",{className:"mt-1 p-4 bg-gray-50 rounded-lg",children:a.jsx("pre",{className:"text-sm text-gray-700 whitespace-pre-wrap max-h-96 overflow-y-auto",children:j})})]}),a.jsxs("div",{children:[a.jsx(Z,{className:"text-sm font-medium",children:"已替換的變數:"}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:((S==null?void 0:S.variables)||[]).map(K=>a.jsx(Le,{variant:"outline",className:"text-xs",children:`{{${K}}}`},K))})]})]}),a.jsx(ct,{children:a.jsx(W,{variant:"outline",onClick:()=>m(!1),children:"關閉"})})]})}),a.jsx(ft,{open:h,onOpenChange:p,children:a.jsxs(it,{children:[a.jsxs(ot,{children:[a.jsx(lt,{children:"確認刪除"}),a.jsxs(ut,{children:['您確定要刪除通知模板 "',S==null?void 0:S.name,'"? 此操作無法撤銷。']})]}),a.jsxs(ct,{children:[a.jsx(W,{variant:"outline",onClick:()=>p(!1),children:"取消"}),a.jsx(W,{variant:"destructive",onClick:we,children:"刪除"})]})]})})]})},Ice=()=>{const[e,t]=v.useState([]),[r,n]=v.useState([]),[s,i]=v.useState(!0),[o,c]=v.useState(""),[l,u]=v.useState(!1),[d,f]=v.useState(!1),[h,p]=v.useState(!1),[g,m]=v.useState(null),[x,b]=v.useState(!1),[y,w]=v.useState({date:"",reason:"",description:"",affectedParkingTypes:[],isActive:!0});v.useEffect(()=>{S()},[]);const S=async()=>{try{i(!0);const[C,I]=await Promise.all([oD(),tf()]);t(C.maintenanceDays),n(I.parkingTypes)}catch(C){console.error("Error loading data:",C),Y.error("無法載入資料")}finally{i(!1)}},N=async()=>{try{await cD(y),Y.success("創建維護日期成功"),u(!1),O(),S()}catch(C){console.error("Error creating maintenance day:",C),Y.error("無法創建維護日期")}},j=async()=>{if(g)try{await lD(g._id,y),Y.success("更新維護日期成功"),f(!1),O(),S()}catch(C){console.error("Error updating maintenance day:",C),Y.error("無法更新維護日期")}},A=async()=>{if(g)try{await uD(g._id),Y.success("刪除維護日期成功"),p(!1),m(null),S()}catch{Y.error("Không thể xóa ngày bảo trì")}},O=()=>{w({date:"",reason:"",description:"",affectedParkingTypes:[],isActive:!0}),b(!1),m(null)},P=()=>{w({date:"",reason:"",description:"",affectedParkingTypes:[],isActive:!0}),u(!0)},T=C=>{m(C),w({date:new Date(C.date).toISOString().split("T")[0],reason:C.reason,description:C.description||"",affectedParkingTypes:C.affectedParkingTypes.map(I=>I._id),isActive:C.isActive}),b(!0),f(!0)},_=C=>{m(C),p(!0)},k=C=>new Date(C).toLocaleDateString("zh-TW",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),E=e.filter(C=>C.reason.toLowerCase().includes(o.toLowerCase())||C.description&&C.description.toLowerCase().includes(o.toLowerCase()));return s?a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}):a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"維護日期"}),a.jsx("p",{className:"text-gray-600",children:"管理不接收車輛的維護日期"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(W,{variant:"outline",onClick:S,children:[a.jsx(Hn,{className:"h-4 w-4 mr-2"}),"重新整理"]}),a.jsxs(W,{onClick:P,children:[a.jsx(qr,{className:"h-4 w-4 mr-2"}),"新增維護日期"]})]})]}),a.jsxs(ue,{className:"mb-6",children:[a.jsx(xe,{children:a.jsxs(ye,{className:"flex items-center",children:[a.jsx(mr,{className:"h-5 w-5 mr-2"}),"篩選"]})}),a.jsx(he,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"search",children:"搜尋"}),a.jsxs("div",{className:"relative",children:[a.jsx(Kr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),a.jsx(le,{id:"search",placeholder:"原因、描述...",value:o,onChange:C=>c(C.target.value),className:"pl-10"})]})]}),a.jsx("div",{className:"flex items-end",children:a.jsxs(W,{variant:"outline",className:"w-full",children:[a.jsx(mr,{className:"h-4 w-4 mr-2"}),"篩選"]})})]})})]}),a.jsxs(ue,{children:[a.jsxs(xe,{children:[a.jsx(ye,{children:"維護日期清單"}),a.jsxs(rt,{children:["總共 ",E.length," 個維護日期"]})]}),a.jsxs(he,{children:[a.jsxs(zr,{children:[a.jsx(Ur,{children:a.jsxs(Pt,{children:[a.jsx(_e,{children:"日期"}),a.jsx(_e,{children:"原因"}),a.jsx(_e,{children:"受影響的停車場"}),a.jsx(_e,{children:"狀態"}),a.jsx(_e,{children:"操作"})]})}),a.jsx(Wr,{children:E.map(C=>a.jsxs(Pt,{children:[a.jsx(Pe,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Et,{className:"h-4 w-4 text-gray-500"}),a.jsx("span",{className:"font-medium",children:k(C.date)})]})}),a.jsx(Pe,{children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:C.reason}),C.description&&a.jsx("div",{className:"text-sm text-gray-600",children:C.description})]})}),a.jsx(Pe,{children:a.jsx("div",{className:"flex flex-wrap gap-1",children:C.affectedParkingTypes.map((I,F)=>a.jsx(Le,{variant:"outline",className:"text-xs",children:I.name},F))})}),a.jsx(Pe,{children:a.jsx(Le,{variant:C.isActive?"default":"secondary",children:C.isActive?a.jsxs(a.Fragment,{children:[a.jsx(pr,{className:"h-3 w-3 mr-1"}),"啟用"]}):a.jsxs(a.Fragment,{children:[a.jsx(Gr,{className:"h-3 w-3 mr-1"}),"暫停"]})})}),a.jsx(Pe,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(W,{size:"sm",variant:"outline",onClick:()=>T(C),children:a.jsx(nn,{className:"h-4 w-4"})}),a.jsx(W,{size:"sm",variant:"destructive",onClick:()=>_(C),children:a.jsx(_r,{className:"h-4 w-4"})})]})})]},C._id))})]}),E.length===0&&a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(bi,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"沒有維護日期"}),a.jsx("p",{className:"text-gray-500",children:"沒有維護日期。"})]})]})]}),a.jsx(ft,{open:l||d,onOpenChange:C=>{C||(u(!1),f(!1),O())},children:a.jsxs(it,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[a.jsxs(ot,{children:[a.jsx(lt,{children:x?"編輯維護日期":"新增維護日期"}),a.jsx(ut,{children:x?"更新維護日期資訊":"創建新的維護日期"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"date",children:"維護日期 *"}),a.jsx(le,{id:"date",type:"date",value:y.date,onChange:C=>w(I=>({...I,date:C.target.value}))})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"reason",children:"維護原因 *"}),a.jsx(le,{id:"reason",value:y.reason,onChange:C=>w(I=>({...I,reason:C.target.value})),placeholder:"例如: 系統維護, 修理..."})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"description",children:"詳細描述"}),a.jsx(rr,{id:"description",value:y.description,onChange:C=>w(I=>({...I,description:C.target.value})),placeholder:"輸入維護詳細描述...",rows:3})]}),a.jsxs("div",{children:[a.jsx(Z,{children:"受影響的停車場"}),a.jsx("div",{className:"space-y-2 mt-2",children:r.map(C=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",id:`parking-${C._id}`,checked:y.affectedParkingTypes.includes(C._id),onChange:I=>{I.target.checked?w(F=>({...F,affectedParkingTypes:[...F.affectedParkingTypes,C._id]})):w(F=>({...F,affectedParkingTypes:F.affectedParkingTypes.filter($=>$!==C._id)}))}}),a.jsxs(Z,{htmlFor:`parking-${C._id}`,className:"text-sm",children:[C.name," (",C.code,")"]})]},C._id))})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Nt,{id:"isActive",checked:y.isActive,onCheckedChange:C=>w(I=>({...I,isActive:C}))}),a.jsx(Z,{htmlFor:"isActive",children:"啟用此維護日期"})]})]}),a.jsxs(ct,{children:[a.jsx(W,{variant:"outline",onClick:()=>{u(!1),f(!1),O()},children:"Hủy"}),a.jsx(W,{onClick:x?j:N,children:x?"更新":"創建"})]})]})}),a.jsx(ft,{open:h,onOpenChange:p,children:a.jsxs(it,{children:[a.jsxs(ot,{children:[a.jsx(lt,{children:"確認刪除"}),a.jsxs(ut,{children:['您確定要刪除維護日期 "',g==null?void 0:g.reason,'"? 此操作無法撤銷。']})]}),a.jsxs(ct,{children:[a.jsx(W,{variant:"outline",onClick:()=>p(!1),children:"取消"}),a.jsx(W,{variant:"destructive",onClick:A,children:"刪除"})]})]})})]})},fu=({id:e,value:t,onChange:r,min:n,max:s,className:i="",placeholder:o,type:c="datetime-local"})=>{const l=h=>{const p=h.target.value;if(c==="datetime-local"){const g=U1(p);r(g)}else{const g=W1(p);r(g)}},u=()=>t?c==="datetime-local"?wi(t):Ni(t):"",d=()=>{if(n)return c==="datetime-local"?wi(n):Ni(n)},f=()=>{if(s)return c==="datetime-local"?wi(s):Ni(s)};return a.jsx(le,{id:e,type:c,value:u(),onChange:l,min:d(),max:f(),placeholder:o||(c==="datetime-local"?"年/月/日 00:00":"年/月/日"),className:i,style:{fontFamily:"monospace"}})},Mce=()=>{const[e,t]=v.useState([]),[r,n]=v.useState(null),[s,i]=v.useState([]),[o,c]=v.useState(!0),[l,u]=v.useState(""),[d,f]=v.useState(!1),[h,p]=v.useState(!1),[g,m]=v.useState(!1),[x,b]=v.useState(!1),[y,w]=v.useState(null),[S,N]=v.useState(!1),[j,A]=v.useState("single"),[O,P]=v.useState([]),[T,_]=v.useState([]),[k,E]=v.useState(!1),[C,I]=v.useState(!1),[F,$]=v.useState(!1),[q,M]=v.useState(""),[J,V]=v.useState(!1),[z,B]=v.useState(!1),[G,ce]=v.useState({startDate:"",endDate:"",price:0,reason:"",isActive:!0}),[we,pe]=v.useState(!1);v.useEffect(()=>{Oe()},[]);const Oe=async()=>{try{c(!0);const U=await tf(),ie=await Promise.all(U.parkingTypes.map(async Ve=>{try{const Ee=await nD(Ve._id);return{...Ve,specialPrices:Ee.specialPrices||[]}}catch{return{...Ve,specialPrices:[]}}}));t(ie),ie.length>0&&(n(ie[0]),i(ie[0].specialPrices))}catch(U){console.error("Error loading parking types:",U),Y.error("Không thể tải danh sách bãi đậu xe")}finally{c(!1)}},R=async U=>{const ie=e.find(Ve=>Ve._id===U);n(ie||null),ie&&i(ie.specialPrices)},de=async()=>{var ie,Ve;if(!r)return;if(!G.startDate||!G.price||!G.reason.trim()){Y.error("Vui lòng điền đầy đủ thông tin bao gồm lý do");return}if(!we&&!G.endDate){Y.error("Vui lòng chọn ngày kết thúc");return}const U={...G,endDate:we?G.startDate:G.endDate,forceOverride:z};try{const Ee=await rD(r._id,U);Y.success(Ee.message||"新增特殊價格成功"),f(!1),Se(),await Oe()}catch(Ee){console.error("Error creating special price:",Ee);const Je=((Ve=(ie=Ee.response)==null?void 0:ie.data)==null?void 0:Ve.message)||"無法新增特殊價格";Y.error(Je)}},fe=async()=>{var ie,Ve,Ee,Je;if(O.length===0){Y.error("Vui lòng chọn ít nhất một bãi đậu xe");return}if(!G.startDate||!G.price||!G.reason.trim()){Y.error("Vui lòng điền đầy đủ thông tin bao gồm lý do");return}const U={...G,endDate:we?G.startDate:G.endDate};try{const kt=[];for(const Vt of O)try{const Zn=await Vx(Vt,[U],J);kt.push({parkingTypeId:Vt,success:!0,result:Zn})}catch(Zn){kt.push({parkingTypeId:Vt,success:!1,error:((Ve=(ie=Zn.response)==null?void 0:ie.data)==null?void 0:Ve.message)||"Lỗi không xác định"})}const Jt=kt.filter(Vt=>Vt.success).length,ar=kt.filter(Vt=>!Vt.success).length;Jt>0&&Y.success(`成功創建 ${Jt} 個特殊價格`),ar>0&&Y.error(`${ar} 個特殊價格創建失敗`),p(!1),Se(),P([]),await Oe()}catch(kt){console.error("Error creating bulk special prices:",kt),Y.error(((Je=(Ee=kt.response)==null?void 0:Ee.data)==null?void 0:Je.message)||"批量創建特殊價格時發生錯誤")}},ee=async()=>{if(!y||!r)return;if(!G.startDate||!G.price||!G.reason.trim()){Y.error("Vui lòng điền đầy đủ thông tin bao gồm lý do");return}const U={...G,endDate:we?G.startDate:G.endDate};try{await zx(r._id,y._id,U),Y.success("更新特殊價格成功"),m(!1),Se(),await Oe()}catch(ie){console.error("Error updating special price:",ie),Y.error("無法更新特殊價格")}},Me=async()=>{if(!(!y||!r))try{await Ux(r._id,y._id),Y.success("刪除特殊價格成功"),b(!1),w(null),await Oe()}catch{Y.error("無法刪除特殊價格")}},Se=()=>{ce({startDate:"",endDate:"",price:0,reason:"",isActive:!0}),N(!1),w(null),M(""),pe(!1),B(!1)},tt=()=>{ce({startDate:"",endDate:"",price:0,reason:"",isActive:!0}),pe(!1),B(!1),f(!0)},nt=()=>{ce({startDate:"",endDate:"",price:0,reason:"",isActive:!0}),pe(!1),p(!0)},ze=U=>{w(U);const ie=new Date(U.startDate).toISOString().split("T")[0],Ve=new Date(U.endDate).toISOString().split("T")[0];ce({startDate:ie,endDate:Ve,price:U.price,reason:U.reason,isActive:U.isActive}),pe(ie===Ve),N(!0),m(!0)},L=U=>{w(U),b(!0)},X=U=>U.toLocaleString("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0,maximumFractionDigits:0}),Q=(U,ie,Ve)=>{const Ee=new Date;switch(U){case"weekend":const Je=[];if(!ie||!Ve)return[];const kt=new Date(ie),Jt=new Date(Ve);let ar=new Date(kt);for(;ar.getDay()!==6;)ar.setDate(ar.getDate()+1);let Vt=new Date(ar);for(;Vt<=Jt;){const Zn=new Date(Vt);Zn.setDate(Vt.getDate()+1),Je.push({startDate:Vt.toISOString().split("T")[0],endDate:Zn.toISOString().split("T")[0],price:r?Math.round(r.pricePerDay*1.2):0,reason:"週末",isActive:!0}),Vt.setDate(Vt.getDate()+7)}return Je;case"holiday":return[{startDate:Ee.toISOString().split("T")[0],endDate:new Date(Ee.getTime()+7*24*60*60*1e3).toISOString().split("T")[0],price:r?Math.round(r.pricePerDay*1.5):0,reason:"節日",isActive:!0}];case"peak":return[{startDate:Ee.toISOString().split("T")[0],endDate:new Date(Ee.getTime()+30*24*60*60*1e3).toISOString().split("T")[0],price:r?Math.round(r.pricePerDay*1.3):0,reason:"旺季",isActive:!0}];default:return[G]}},K=U=>{if(M(U),U==="weekend"&&(!G.startDate||!G.endDate)){Y.error("Vui lòng chọn khoảng ngày trước khi sử dụng template cuối tuần");return}const ie=Q(U,G.startDate,G.endDate);ie.length===1?ce(ie[0]):ie.length>1?(_(ie),E(!0)):U==="weekend"&&Y.error("Không tìm thấy cuối tuần nào trong khoảng ngày đã chọn")},ae=()=>{if(O.length===0){Y.error("Vui lòng chọn ít nhất một bãi đậu xe");return}if(T.length===0){Y.error("Không có dữ liệu template");return}(async()=>{var ie,Ve;try{const Ee=[];for(const Jt of O)try{const ar=await Vx(Jt,T,J);Ee.push({parkingTypeId:Jt,success:!0,result:ar})}catch(ar){Ee.push({parkingTypeId:Jt,success:!1,error:((Ve=(ie=ar.response)==null?void 0:ie.data)==null?void 0:Ve.message)||"Lỗi không xác định"})}const Je=Ee.filter(Jt=>Jt.success).length,kt=Ee.filter(Jt=>!Jt.success).length;Je>0&&Y.success(`Áp dụng thành công ${T.length} template cho ${Je} bãi đậu xe`),kt>0&&Y.error(`${kt} bãi đậu xe áp dụng thất bại`),E(!1),_([]),P([]),await Oe()}catch(Ee){console.error("Error applying bulk templates:",Ee),Y.error("Không thể áp dụng template hàng loạt")}})()},oe=async()=>{if(O.length===0){Y.error("Vui lòng chọn ít nhất một bãi đậu xe");return}try{const U=e.filter(Ve=>O.includes(Ve._id)).flatMap(Ve=>Ve.specialPrices);if(U.length===0){Y.error("Không có giá đặc biệt nào để xóa");return}const ie=[];for(const Ve of e)if(O.includes(Ve._id))for(const Ee of Ve.specialPrices)ie.push(Ux(Ve._id,Ee._id));await Promise.all(ie),Y.success(`Đã xóa ${U.length} giá đặc biệt từ ${O.length} bãi đậu xe`),I(!1),P([]),await Oe()}catch(U){console.error("Error bulk deleting special prices:",U),Y.error("Không thể xóa giá đặc biệt hàng loạt")}},ke=async()=>{if(O.length===0){Y.error("Vui lòng chọn ít nhất một bãi đậu xe");return}if(!G.startDate||!G.price||!G.reason.trim()){Y.error("Vui lòng điền đầy đủ thông tin bao gồm lý do");return}try{const U=e.filter(Ve=>O.includes(Ve._id)).flatMap(Ve=>Ve.specialPrices);if(U.length===0){Y.error("Không có giá đặc biệt nào để sửa");return}const ie=[];for(const Ve of e)if(O.includes(Ve._id))for(const Ee of Ve.specialPrices)ie.push(zx(Ve._id,Ee._id,G));await Promise.all(ie),Y.success(`Đã cập nhật ${U.length} giá đặc biệt từ ${O.length} bãi đậu xe`),$(!1),P([]),Se(),await Oe()}catch(U){console.error("Error bulk updating special prices:",U),Y.error("Không thể cập nhật giá đặc biệt hàng loạt")}},re=()=>{O.length===e.length?P([]):P(e.map(U=>U._id))},Ce=U=>{P(ie=>ie.includes(U)?ie.filter(Ve=>Ve!==U):[...ie,U])},te=s.filter(U=>U.reason.toLowerCase().includes(l.toLowerCase())),Be=e.flatMap(U=>U.specialPrices.map(ie=>({...ie,parkingTypeName:U.name,parkingTypeCode:U.code}))).filter(U=>U.reason.toLowerCase().includes(l.toLowerCase())||U.parkingTypeName.toLowerCase().includes(l.toLowerCase()));return o?a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}):a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"特殊價格"}),a.jsx("p",{className:"text-gray-600",children:"管理特定日期的特殊價格"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(W,{variant:"outline",onClick:Oe,children:[a.jsx(Hn,{className:"h-4 w-4 mr-2"}),"重新整理"]}),a.jsxs(W,{variant:"outline",onClick:nt,children:[a.jsx(Ex,{className:"h-4 w-4 mr-2"}),"批量配置"]}),a.jsxs(W,{onClick:tt,disabled:!r,children:[a.jsx(qr,{className:"h-4 w-4 mr-2"}),"新增特殊價格"]})]})]}),a.jsxs(ho,{value:j,onValueChange:U=>A(U),className:"space-y-6",children:[a.jsxs(Gs,{className:"grid w-full grid-cols-2",children:[a.jsxs(Mt,{value:"single",className:"flex items-center space-x-2",children:[a.jsx(hc,{className:"h-4 w-4"}),a.jsx("span",{children:"個別停車場配置"})]}),a.jsxs(Mt,{value:"overview",className:"flex items-center space-x-2",children:[a.jsx(Cx,{className:"h-4 w-4"}),a.jsx("span",{children:"全部概覽"})]})]}),a.jsxs(er,{value:"single",className:"space-y-6",children:[a.jsxs(ue,{children:[a.jsx(xe,{children:a.jsxs(ye,{className:"flex items-center",children:[a.jsx(la,{className:"h-5 w-5 mr-2"}),"選擇停車場"]})}),a.jsx(he,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"parkingType",children:"停車場"}),a.jsx("select",{id:"parkingType",value:(r==null?void 0:r._id)||"",onChange:U=>R(U.target.value),className:"w-full p-2 border border-gray-300 rounded-md",children:e.map(U=>a.jsxs("option",{value:U._id,children:[U.name," (",U.code,") - ",X(U.pricePerDay),"/天"]},U._id))})]}),a.jsx("div",{className:"flex items-end",children:a.jsxs("div",{className:"text-sm text-gray-600",children:["基本價格: ",r?X(r.pricePerDay):"N/A"]})})]})})]}),a.jsxs(ue,{children:[a.jsx(xe,{children:a.jsxs(ye,{className:"flex items-center",children:[a.jsx(mr,{className:"h-5 w-5 mr-2"}),"篩選"]})}),a.jsx(he,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"search",children:"搜尋"}),a.jsxs("div",{className:"relative",children:[a.jsx(Kr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),a.jsx(le,{id:"search",placeholder:"原因...",value:l,onChange:U=>u(U.target.value),className:"pl-10"})]})]}),a.jsx("div",{className:"flex items-end",children:a.jsxs(W,{variant:"outline",className:"w-full",children:[a.jsx(mr,{className:"h-4 w-4 mr-2"}),"篩選"]})})]})})]}),a.jsxs(ue,{children:[a.jsxs(xe,{children:[a.jsx(ye,{children:"特殊價格清單"}),a.jsxs(rt,{children:[r&&`停車場: ${r.name}`," - 共 ",te.length," 個特殊價格"]})]}),a.jsxs(he,{children:[a.jsxs(zr,{children:[a.jsx(Ur,{children:a.jsxs(Pt,{children:[a.jsx(_e,{children:"日期"}),a.jsx(_e,{children:"價格"}),a.jsx(_e,{children:"原因"}),a.jsx(_e,{children:"狀態"}),a.jsx(_e,{children:"操作"})]})}),a.jsx(Wr,{children:te.map(U=>a.jsxs(Pt,{children:[a.jsx(Pe,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Et,{className:"h-4 w-4 text-gray-500"}),a.jsx("span",{className:"font-medium",children:Mo(U.startDate,U.endDate)})]})}),a.jsx(Pe,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ui,{className:"h-4 w-4 text-green-500"}),a.jsx("span",{className:"font-bold text-green-600",children:X(U.price)})]})}),a.jsx(Pe,{children:a.jsx("div",{className:"font-medium",children:U.reason})}),a.jsx(Pe,{children:a.jsx(Le,{variant:U.isActive?"default":"secondary",children:U.isActive?a.jsxs(a.Fragment,{children:[a.jsx(pr,{className:"h-3 w-3 mr-1"}),"Hoạt động"]}):a.jsxs(a.Fragment,{children:[a.jsx(Gr,{className:"h-3 w-3 mr-1"}),"Tạm khóa"]})})}),a.jsx(Pe,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(W,{size:"sm",variant:"outline",onClick:()=>ze(U),children:a.jsx(nn,{className:"h-4 w-4"})}),a.jsx(W,{size:"sm",variant:"destructive",onClick:()=>L(U),children:a.jsx(_r,{className:"h-4 w-4"})})]})})]},U._id))})]}),te.length===0&&a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(la,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"沒有特殊價格"}),a.jsx("p",{className:"text-gray-500",children:"此停車場尚未設置任何特殊價格。"})]})]})]})]}),a.jsxs(er,{value:"overview",className:"space-y-6",children:[a.jsxs(ue,{children:[a.jsx(xe,{children:a.jsxs(ye,{className:"flex items-center",children:[a.jsx(Ex,{className:"h-5 w-5 mr-2"}),"選擇停車場進行批量操作"]})}),a.jsx(he,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx($a,{id:"selectAllOverview",checked:O.length===e.length,onCheckedChange:re}),a.jsx(Z,{htmlFor:"selectAllOverview",className:"font-medium",children:"選擇所有停車場"})]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 max-h-40 overflow-y-auto border rounded-md p-3",children:e.map(U=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx($a,{id:`overview-${U._id}`,checked:O.includes(U._id),onCheckedChange:()=>Ce(U._id)}),a.jsxs(Z,{htmlFor:`overview-${U._id}`,className:"text-sm",children:[U.name," (",U.code,")"]})]},U._id))}),a.jsxs("div",{className:"text-sm text-gray-600",children:["已選擇: ",O.length,"/",e.length," 個停車場"]})]})})]}),a.jsxs(ue,{children:[a.jsx(xe,{children:a.jsxs(ye,{className:"flex items-center",children:[a.jsx(mr,{className:"h-5 w-5 mr-2"}),"概覽篩選"]})}),a.jsx(he,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"overviewSearch",children:"搜尋"}),a.jsxs("div",{className:"relative",children:[a.jsx(Kr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),a.jsx(le,{id:"overviewSearch",placeholder:"原因或停車場名稱...",value:l,onChange:U=>u(U.target.value),className:"pl-10"})]})]}),a.jsx("div",{className:"flex items-end",children:a.jsxs("div",{className:"text-sm text-gray-600",children:["總計: ",Be.length," 個特殊價格"]})})]})})]}),a.jsxs(ue,{children:[a.jsxs(xe,{children:[a.jsx(ye,{children:"所有特殊價格概覽"}),a.jsx(rt,{children:"查看所有停車場的特殊價格"})]}),a.jsxs(he,{children:[a.jsxs(zr,{children:[a.jsx(Ur,{children:a.jsxs(Pt,{children:[a.jsx(_e,{children:"停車場"}),a.jsx(_e,{children:"日期"}),a.jsx(_e,{children:"價格"}),a.jsx(_e,{children:"原因"}),a.jsx(_e,{children:"狀態"})]})}),a.jsx(Wr,{children:Be.map(U=>a.jsxs(Pt,{children:[a.jsx(Pe,{children:a.jsxs("div",{className:"font-medium",children:[U.parkingTypeName,a.jsx(Le,{variant:"outline",className:"ml-2",children:U.parkingTypeCode})]})}),a.jsx(Pe,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Et,{className:"h-4 w-4 text-gray-500"}),a.jsx("span",{className:"font-medium",children:Mo(U.startDate,U.endDate)})]})}),a.jsx(Pe,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ui,{className:"h-4 w-4 text-green-500"}),a.jsx("span",{className:"font-bold text-green-600",children:X(U.price)})]})}),a.jsx(Pe,{children:a.jsx("div",{className:"font-medium",children:U.reason})}),a.jsx(Pe,{children:a.jsx(Le,{variant:U.isActive?"default":"secondary",children:U.isActive?a.jsxs(a.Fragment,{children:[a.jsx(pr,{className:"h-3 w-3 mr-1"}),"Hoạt động"]}):a.jsxs(a.Fragment,{children:[a.jsx(Gr,{className:"h-3 w-3 mr-1"}),"Tạm khóa"]})})})]},`${U.parkingTypeCode}-${U._id}`))})]}),Be.length===0&&a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(Cx,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"沒有特殊價格"}),a.jsx("p",{className:"text-gray-500",children:"尚未為任何停車場設置特殊價格。"})]})]})]})]})]}),a.jsx(ft,{open:d||g,onOpenChange:U=>{U||(f(!1),m(!1),Se())},children:a.jsxs(it,{className:"max-w-md",children:[a.jsxs(ot,{children:[a.jsx(lt,{children:S?"編輯特殊價格":"新增特殊價格"}),a.jsx(ut,{children:S?"更新特殊價格資訊":"為特定日期創建新的特殊價格"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[a.jsx(Nt,{id:"singleDayMode",checked:we,onCheckedChange:pe}),a.jsx(Z,{htmlFor:"singleDayMode",className:"font-medium",children:we?"單日模式":"日期範圍模式"})]}),we?a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"singleDate",children:"選擇日期 *"}),a.jsx(fu,{id:"singleDate",type:"date",value:G.startDate,onChange:U=>ce(ie=>({...ie,startDate:U,endDate:U})),placeholder:"yyyy/mm/dd"})]}):a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"startDate",children:"開始日期 *"}),a.jsx(le,{id:"startDate",type:"date",value:G.startDate,onChange:U=>ce(ie=>({...ie,startDate:U.target.value}))})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"endDate",children:"結束日期 *"}),a.jsx(le,{id:"endDate",type:"date",value:G.endDate,onChange:U=>ce(ie=>({...ie,endDate:U.target.value}))})]})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"price",children:"價格 (TWD) *"}),a.jsx(le,{id:"price",type:"number",value:G.price,onChange:U=>ce(ie=>({...ie,price:parseFloat(U.target.value)})),placeholder:"Nhập giá..."})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"reason",children:"原因 *"}),a.jsx(rr,{id:"reason",value:G.reason,onChange:U=>ce(ie=>({...ie,reason:U.target.value})),placeholder:"Ví dụ: Cuối tuần, Ngày lễ Tết, Sự kiện đặc biệt, Mùa cao điểm, Lễ hội, Ngày nghỉ lễ...",rows:3}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"💡 Nhập lý do cụ thể để khách hàng hiểu rõ tại sao giá thay đổi"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Nt,{id:"isActive",checked:G.isActive,onCheckedChange:U=>ce(ie=>({...ie,isActive:U}))}),a.jsx(Z,{htmlFor:"isActive",children:"啟用此特殊價格"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Nt,{id:"singleForceOverride",checked:z,onCheckedChange:B}),a.jsx(Z,{htmlFor:"singleForceOverride",className:"text-orange-600",children:"覆蓋已存在的特殊價格"})]})]}),a.jsxs(ct,{children:[a.jsx(W,{variant:"outline",onClick:()=>{f(!1),m(!1),Se()},children:"取消"}),a.jsx(W,{onClick:S?ee:de,children:S?"更新":"創建特殊價格"})]})]})}),a.jsx(ft,{open:k,onOpenChange:E,children:a.jsxs(it,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(ot,{children:[a.jsx(lt,{children:"選擇要應用的模板"}),a.jsx(ut,{children:"選擇一個模板應用到已選擇的停車場。"})]}),a.jsx("div",{className:"space-y-4",children:T.map((U,ie)=>a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-md",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Et,{className:"h-4 w-4 text-gray-500"}),a.jsx("span",{children:Mo(U.startDate,U.endDate)})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ui,{className:"h-4 w-4 text-green-500"}),a.jsx("span",{children:X(U.price)})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx(Le,{variant:U.isActive?"default":"secondary",children:U.isActive?"啟用":"暫停"})}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(W,{size:"sm",variant:"outline",onClick:()=>{ce(U),E(!1),_([])},children:a.jsx(nn,{className:"h-4 w-4"})}),a.jsx(W,{size:"sm",variant:"destructive",onClick:()=>{_(T.filter((Ve,Ee)=>Ee!==ie))},children:a.jsx(_r,{className:"h-4 w-4"})})]})]},ie))}),a.jsxs(ct,{children:[a.jsx(W,{variant:"outline",onClick:()=>{E(!1),_([])},children:"Hủy"}),a.jsxs(W,{onClick:ae,disabled:T.length===0,children:[a.jsx(su,{className:"h-4 w-4 mr-2"}),"應用到 ",O.length," 個停車場"]})]})]})}),a.jsx(ft,{open:h,onOpenChange:p,children:a.jsxs(it,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(ot,{children:[a.jsx(lt,{children:"批量特殊價格配置"}),a.jsx(ut,{children:"同時為多個停車場應用特殊價格"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx(Z,{className:"text-sm font-medium",children:"快速模板"}),q==="weekend"&&G.startDate&&G.endDate&&a.jsxs("div",{className:"text-xs text-blue-600 bg-blue-50 p-2 rounded-md mt-1",children:['💡 "週末"模板將為 ',G.startDate," 到 ",G.endDate," 期間的所有週末創建特殊價格"]}),a.jsxs("div",{className:"grid grid-cols-3 gap-2 mt-2",children:[a.jsxs(W,{variant:q==="weekend"?"default":"outline",size:"sm",onClick:()=>K("weekend"),className:"flex items-center space-x-2",children:[a.jsx(RE,{className:"h-3 w-3"}),a.jsx("span",{children:"週末"})]}),a.jsxs(W,{variant:q==="holiday"?"default":"outline",size:"sm",onClick:()=>K("holiday"),className:"flex items-center space-x-2",children:[a.jsx(Et,{className:"h-3 w-3"}),a.jsx("span",{children:"節日"})]}),a.jsxs(W,{variant:q==="peak"?"default":"outline",size:"sm",onClick:()=>K("peak"),className:"flex items-center space-x-2",children:[a.jsx(la,{className:"h-3 w-3"}),a.jsx("span",{children:"旺季"})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Nt,{id:"bulkSingleDayMode",checked:we,onCheckedChange:pe}),a.jsx(Z,{htmlFor:"bulkSingleDayMode",className:"font-medium",children:we?"單日模式":"日期範圍模式"})]}),a.jsxs("div",{className:"space-y-4",children:[we?a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"bulkSingleDate",children:"選擇日期 *"}),a.jsx(le,{id:"bulkSingleDate",type:"date",value:G.startDate,onChange:U=>ce(ie=>({...ie,startDate:U.target.value,endDate:U.target.value}))})]}):a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"bulkStartDate",children:"開始日期 *"}),a.jsx(le,{id:"bulkStartDate",type:"date",value:G.startDate,onChange:U=>{if(ce(ie=>({...ie,startDate:U.target.value})),q==="weekend"&&G.endDate){const ie=Q("weekend",U.target.value,G.endDate);_(ie)}}})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"bulkEndDate",children:"結束日期 *"}),a.jsx(le,{id:"bulkEndDate",type:"date",value:G.endDate,onChange:U=>{if(ce(ie=>({...ie,endDate:U.target.value})),q==="weekend"&&G.startDate){const ie=Q("weekend",G.startDate,U.target.value);_(ie)}}})]})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"bulkPrice",children:"價格 (TWD) *"}),a.jsx(le,{id:"bulkPrice",type:"number",value:G.price,onChange:U=>ce(ie=>({...ie,price:parseFloat(U.target.value)})),placeholder:"輸入價格..."})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"bulkReason",children:"原因 *"}),a.jsx(rr,{id:"bulkReason",value:G.reason,onChange:U=>ce(ie=>({...ie,reason:U.target.value})),placeholder:"Ví dụ: Cuối tuần, Ngày lễ Tết, Sự kiện đặc biệt, Mùa cao điểm, Lễ hội, Ngày nghỉ lễ...",rows:3}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"💡 Nhập lý do cụ thể để khách hàng hiểu rõ tại sao giá thay đổi"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Nt,{id:"bulkIsActive",checked:G.isActive,onCheckedChange:U=>ce(ie=>({...ie,isActive:U}))}),a.jsx(Z,{htmlFor:"bulkIsActive",children:"啟用此特殊價格"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Nt,{id:"forceOverride",checked:J,onCheckedChange:V}),a.jsx(Z,{htmlFor:"forceOverride",className:"text-orange-600",children:"覆蓋已存在的特殊價格"})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[a.jsx($a,{id:"selectAll",checked:O.length===e.length,onCheckedChange:re}),a.jsx(Z,{htmlFor:"selectAll",className:"font-medium",children:"選擇所有停車場"})]}),a.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-40 overflow-y-auto border rounded-md p-3",children:e.map(U=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx($a,{id:U._id,checked:O.includes(U._id),onCheckedChange:()=>Ce(U._id)}),a.jsxs(Z,{htmlFor:U._id,className:"text-sm",children:[U.name," (",U.code,")"]})]},U._id))}),a.jsxs("div",{className:"text-sm text-gray-600 mt-2",children:["已選擇: ",O.length,"/",e.length," 個停車場"]})]})]}),a.jsxs(ct,{children:[a.jsx(W,{variant:"outline",onClick:()=>{p(!1),Se(),P([])},children:"Hủy"}),a.jsxs(W,{onClick:fe,disabled:O.length===0,children:[a.jsx(su,{className:"h-4 w-4 mr-2"}),"應用到 ",O.length," 個停車場"]})]})]})}),a.jsx(ft,{open:k,onOpenChange:E,children:a.jsxs(it,{className:"max-w-2xl",children:[a.jsxs(ot,{children:[a.jsx(lt,{children:"Chọn template để áp dụng"}),a.jsx(ut,{children:"Chọn một template để áp dụng cho các bãi đậu xe đã chọn."})]}),a.jsx("div",{className:"space-y-4",children:T.map((U,ie)=>a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-md",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Et,{className:"h-4 w-4 text-gray-500"}),a.jsx("span",{children:Mo(U.startDate,U.endDate)})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ui,{className:"h-4 w-4 text-green-500"}),a.jsx("span",{children:X(U.price)})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx(Le,{variant:U.isActive?"default":"secondary",children:U.isActive?"Hoạt động":"Tạm khóa"})}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(W,{size:"sm",variant:"outline",onClick:()=>{ce(U),E(!1),_([])},children:a.jsx(nn,{className:"h-4 w-4"})}),a.jsx(W,{size:"sm",variant:"destructive",onClick:()=>{_(T.filter((Ve,Ee)=>Ee!==ie))},children:a.jsx(_r,{className:"h-4 w-4"})})]})]},ie))}),a.jsxs(ct,{children:[a.jsx(W,{variant:"outline",onClick:()=>{E(!1),_([])},children:"Hủy"}),a.jsxs(W,{onClick:ae,disabled:T.length===0,children:[a.jsx(su,{className:"h-4 w-4 mr-2"}),"Áp dụng cho ",O.length," bãi đậu xe"]})]})]})}),a.jsx(ft,{open:C,onOpenChange:I,children:a.jsxs(it,{children:[a.jsxs(ot,{children:[a.jsx(lt,{children:"確認刪除"}),a.jsx(ut,{children:"您確定要刪除所選停車場的所有特殊價格嗎？ 此操作無法撤銷。"})]}),a.jsxs(ct,{children:[a.jsx(W,{variant:"outline",onClick:()=>I(!1),children:"Hủy"}),a.jsx(W,{variant:"destructive",onClick:oe,children:"刪除"})]})]})}),a.jsx(ft,{open:F,onOpenChange:$,children:a.jsxs(it,{className:"max-w-2xl",children:[a.jsxs(ot,{children:[a.jsx(lt,{children:"批量更新特殊價格"}),a.jsx(ut,{children:"更新所選停車場所有特殊價格的資訊。"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[a.jsx(Nt,{id:"bulkEditSingleDayMode",checked:we,onCheckedChange:pe}),a.jsx(Z,{htmlFor:"bulkEditSingleDayMode",className:"font-medium",children:we?"單日模式":"日期範圍模式"})]}),we?a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"bulkEditSingleDate",children:"選擇日期 *"}),a.jsx(le,{id:"bulkEditSingleDate",type:"date",value:G.startDate,onChange:U=>ce(ie=>({...ie,startDate:U.target.value,endDate:U.target.value}))})]}):a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"bulkStartDateEdit",children:"開始日期 *"}),a.jsx(le,{id:"bulkStartDateEdit",type:"date",value:G.startDate,onChange:U=>ce(ie=>({...ie,startDate:U.target.value}))})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"bulkEndDateEdit",children:"結束日期 *"}),a.jsx(le,{id:"bulkEndDateEdit",type:"date",value:G.endDate,onChange:U=>ce(ie=>({...ie,endDate:U.target.value}))})]})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"bulkPriceEdit",children:"價格 (TWD) *"}),a.jsx(le,{id:"bulkPriceEdit",type:"number",value:G.price,onChange:U=>ce(ie=>({...ie,price:parseFloat(U.target.value)})),placeholder:"Nhập giá..."})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"bulkReasonEdit",children:"原因 *"}),a.jsx(rr,{id:"bulkReasonEdit",value:G.reason,onChange:U=>ce(ie=>({...ie,reason:U.target.value})),placeholder:"Ví dụ: Cuối tuần, Ngày lễ Tết, Sự kiện đặc biệt, Mùa cao điểm, Lễ hội, Ngày nghỉ lễ...",rows:3}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"💡 Nhập lý do cụ thể để khách hàng hiểu rõ tại sao giá thay đổi"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Nt,{id:"bulkIsActiveEdit",checked:G.isActive,onCheckedChange:U=>ce(ie=>({...ie,isActive:U}))}),a.jsx(Z,{htmlFor:"bulkIsActiveEdit",children:"啟用此特殊價格"})]})]}),a.jsxs(ct,{children:[a.jsx(W,{variant:"outline",onClick:()=>{$(!1),Se()},children:"Hủy"}),a.jsx(W,{onClick:ke,children:"Cập nhật"})]})]})}),a.jsx(ft,{open:C,onOpenChange:I,children:a.jsxs(it,{children:[a.jsxs(ot,{children:[a.jsx(lt,{children:"確認批量刪除"}),a.jsx(ut,{children:"Bạn có chắc chắn muốn xóa tất cả giá đặc biệt cho các bãi đậu xe đã chọn? Hành động này không thể hoàn tác."})]}),a.jsxs(ct,{children:[a.jsx(W,{variant:"outline",onClick:()=>I(!1),children:"Hủy"}),a.jsx(W,{variant:"destructive",onClick:oe,children:"Xóa"})]})]})}),a.jsx(ft,{open:F,onOpenChange:$,children:a.jsxs(it,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(ot,{children:[a.jsx(lt,{children:"Cập nhật giá đặc biệt hàng loạt"}),a.jsx(ut,{children:"Cập nhật thông tin giá đặc biệt cho tất cả các giá đặc biệt của các bãi đậu xe đã chọn."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"bulkStartDateEdit",children:"Từ ngày *"}),a.jsx(le,{id:"bulkStartDateEdit",type:"date",value:G.startDate,onChange:U=>ce(ie=>({...ie,startDate:U.target.value}))})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"bulkEndDateEdit",children:"Đến ngày *"}),a.jsx(le,{id:"bulkEndDateEdit",type:"date",value:G.endDate,onChange:U=>ce(ie=>({...ie,endDate:U.target.value}))})]})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"bulkPriceEdit",children:"Giá (TWD) *"}),a.jsx(le,{id:"bulkPriceEdit",type:"number",value:G.price,onChange:U=>ce(ie=>({...ie,price:parseFloat(U.target.value)})),placeholder:"Nhập giá..."})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"bulkReasonEdit",children:"Lý do *"}),a.jsx(rr,{id:"bulkReasonEdit",value:G.reason,onChange:U=>ce(ie=>({...ie,reason:U.target.value})),placeholder:"Ví dụ: Cuối tuần, Ngày lễ Tết, Sự kiện đặc biệt, Mùa cao điểm, Lễ hội, Ngày nghỉ lễ...",rows:3}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"💡 Nhập lý do cụ thể để khách hàng hiểu rõ tại sao giá thay đổi"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Nt,{id:"bulkIsActiveEdit",checked:G.isActive,onCheckedChange:U=>ce(ie=>({...ie,isActive:U}))}),a.jsx(Z,{htmlFor:"bulkIsActiveEdit",children:"啟用此特殊價格"})]})]}),a.jsxs(ct,{children:[a.jsx(W,{variant:"outline",onClick:()=>{$(!1),Se()},children:"Hủy"}),a.jsx(W,{onClick:ke,children:"更新"})]})]})}),a.jsx(ft,{open:x,onOpenChange:b,children:a.jsxs(it,{children:[a.jsxs(ot,{children:[a.jsx(lt,{children:"確認刪除"}),a.jsxs(ut,{children:['您確定要刪除時間範圍 "',y?Mo(y.startDate,y.endDate):"",'" 的特殊價格嗎？ 此操作無法撤銷。']})]}),a.jsxs(ct,{children:[a.jsx(W,{variant:"outline",onClick:()=>b(!1),children:"取消"}),a.jsx(W,{variant:"destructive",onClick:Me,children:"刪除"})]})]})})]})},Rce=({parkingTypeId:e,checkInTime:t,checkOutTime:r,onDateSelect:n,onDateRangeSelect:s})=>{const[i,o]=v.useState([]),[c,l]=v.useState(!1),[u,d]=v.useState(new Date),[f,h]=v.useState(null),[p,g]=v.useState(null),[m,x]=v.useState(null);v.useEffect(()=>{e&&b()},[e]),v.useEffect(()=>{e&&m&&y()},[e,u,m]);const b=async()=>{try{const E=await Ae.get("/parking");if(E.data.parkingTypes){const C=E.data.parkingTypes.find(I=>I._id===e);C&&x(C)}}catch(E){console.error("Error loading parking type info:",E)}},y=async()=>{l(!0);try{const E=new Date(u.getFullYear(),u.getMonth(),1),C=new Date(u.getFullYear(),u.getMonth()+1,0),I=[],F=new Date(E);for(;F<=C;){const $=F.toISOString().split("T")[0],q=t&&r&&F>=new Date(t)&&F<=new Date(r),M=(m==null?void 0:m.totalSpaces)||10,J=(m==null?void 0:m.pricePerDay)||1200;I.push({date:$,isAvailable:!0,isSelected:!!q,isInRange:!!q,conflictingBookings:0,availableSlots:M,price:J}),F.setDate(F.getDate()+1)}o(I),await w(I)}catch(E){console.error("Error loading availability data:",E)}finally{l(!1)}},w=async E=>{try{if(!m){console.log("Parking type info not loaded yet");return}const C=u.getFullYear(),I=u.getMonth()+1,F=await Ae.get(`/parking/${e}/month-availability`,{params:{year:C,month:I}});if(F.data.availabilityData){const $=F.data.availabilityData,q=E.map(M=>{const J=$.find(V=>V.date===M.date);if(J)return{...M,isAvailable:J.isAvailable,availableSlots:J.availableSpaces,price:J.price,isSpecialPrice:!1,specialPriceReason:""};{const z=new Date(M.date)<new Date;return{...M,isAvailable:!z,availableSlots:z?0:(m==null?void 0:m.totalSpaces)||0,price:(m==null?void 0:m.pricePerDay)||0,isSpecialPrice:!1,specialPriceReason:""}}});o(q)}}catch(C){console.error("Error checking daily availability:",C);const I=new Date,F=E.map($=>{const M=new Date($.date)<I,J=M?0:Math.max(1,Math.floor(Math.random()*((m==null?void 0:m.totalSpaces)||10)));return{...$,isAvailable:!M,availableSlots:J,price:(m==null?void 0:m.pricePerDay)||1200,isSpecialPrice:!1,specialPriceReason:""}});o(F)}},S=E=>{if(!E.isAvailable||E.availableSlots===0)return"unavailable";if(t&&r){const C=new Date(E.date),I=new Date(t),F=new Date(r);if(C>=I&&C<=F)return"in-booking-range"}if(f&&p){const C=new Date(E.date),I=new Date(f),F=new Date(p);if(C>=I&&C<=F)return"in-range"}return f&&E.date===f?"selected":"available"},N=E=>{const C="w-full h-20 rounded-lg flex flex-col items-center justify-center text-sm font-medium cursor-pointer transition-all duration-200 border-2";switch(S(E)){case"selected":return`${C} bg-[#39653f] text-white border-[#39653f] shadow-lg hover:bg-[#2d4f33] hover:shadow-xl`;case"in-range":return`${C} bg-blue-200 text-blue-800 border-blue-300 hover:bg-blue-300 hover:shadow-md`;case"in-booking-range":return`${C} bg-green-100 text-green-800 border-green-300 hover:bg-green-200 hover:shadow-md`;case"unavailable":return`${C} bg-red-50 text-red-600 border-red-200 cursor-not-allowed opacity-60`;default:return`${C} bg-white text-gray-700 border-gray-200 hover:bg-gray-50 hover:border-blue-300 hover:shadow-md`}},j=E=>E.toLocaleString("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0,maximumFractionDigits:0}),A=E=>{const C=E.getFullYear(),I=String(E.getMonth()+1).padStart(2,"0");return`${C}/${I}`},O=()=>{d(E=>new Date(E.getFullYear(),E.getMonth()-1,1))},P=()=>{d(E=>new Date(E.getFullYear(),E.getMonth()+1,1))},T=()=>["日","一","二","三","四","五","六"],_=()=>{const E=u.getFullYear(),C=u.getMonth(),I=new Date(E,C,1),F=new Date(E,C+1,0),$=new Date(I),q=new Date(F),M=[],J=new Date($),V=I.getDay();for(let z=0;z<V;z++)M.push(null);for(;J<=q;){const z=J.toISOString().split("T")[0],B=i.find(G=>G.date===z);M.push({date:z,day:J.getDate(),...B}),J.setDate(J.getDate()+1)}return M},k=E=>{if(!E)return;const C=i.find(I=>I.date===E);!C||!C.isAvailable||C.availableSlots===0||(n==null||n(E),!f||f&&p?(h(E),g(null)):E>=f?(g(E),s==null||s(f,E)):(h(E),g(f),s==null||s(E,f)))};return c?a.jsxs(ue,{className:"border-0 shadow-lg",children:[a.jsx(xe,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-b",children:a.jsxs(ye,{className:"flex items-center space-x-3 text-blue-900",children:[a.jsx(Et,{className:"h-6 w-6 text-blue-600"}),a.jsx("span",{children:"可用性日曆"})]})}),a.jsx(he,{className:"p-6",children:a.jsx("div",{className:"flex items-center justify-center h-32",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})})]}):a.jsxs(ue,{className:"border-0 shadow-lg",children:[a.jsx(xe,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-b",children:a.jsxs(ye,{className:"flex items-center space-x-3 text-blue-900",children:[a.jsx(Et,{className:"h-6 w-6 text-blue-600"}),a.jsx("span",{children:"Lịch khả dụng"})]})}),a.jsxs(he,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs(W,{variant:"outline",size:"sm",onClick:O,className:"flex items-center space-x-2 hover:bg-blue-50 hover:border-blue-300",children:[a.jsx("span",{className:"text-blue-600",children:"←"}),a.jsx("span",{className:"text-blue-600",children:"上個月"})]}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 bg-blue-50 px-4 py-2 rounded-lg",children:A(u)}),a.jsxs(W,{variant:"outline",size:"sm",onClick:P,className:"flex items-center space-x-2 hover:bg-blue-50 hover:border-blue-300",children:[a.jsx("span",{className:"text-blue-600",children:"下個月"}),a.jsx("span",{className:"text-blue-600",children:"→"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"grid grid-cols-7 gap-2",children:T().map((E,C)=>a.jsx("div",{className:"text-center text-sm font-medium text-gray-600 py-2 bg-gray-50 rounded-lg",children:E},C))}),a.jsx("div",{className:"grid grid-cols-7 gap-2",children:_().map((E,C)=>{if(!E)return a.jsx("div",{className:"w-full h-20"},C);const I=i.find(q=>q.date===E.date),F=S(I||{...E,isAvailable:!0}),$=N(I||{...E,isAvailable:!0});return a.jsxs("div",{className:`${$} cursor-pointer transition-all duration-200 hover:scale-105 hover:shadow-md ${I!=null&&I.isAvailable&&((I==null?void 0:I.availableSlots)||0)>0?"hover:bg-blue-50 hover:border-blue-300":"cursor-not-allowed opacity-60"}`,onClick:()=>k(E.date),title:`${E.date} - ${F}`,children:[a.jsx("div",{className:"text-lg font-bold mb-1 text-gray-900",children:E.day}),a.jsx("div",{className:"text-center",children:I!=null&&I.isAvailable&&((I==null?void 0:I.availableSlots)||0)>0?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-center space-x-1 mb-1",children:[a.jsx(ir,{className:"h-3 w-3 text-green-600"}),a.jsxs("span",{className:"text-xs font-medium text-green-700",children:[I.availableSlots," 位"]})]}),a.jsx("div",{className:`text-xs font-bold ${I.isSpecialPrice?"text-orange-600":"text-green-600"}`,children:j(I.price||0)}),I.isSpecialPrice&&a.jsx("div",{className:"text-xs text-orange-500 font-medium truncate",children:I.specialPriceReason})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex items-center justify-center mb-1",children:a.jsx(Gr,{className:"h-4 w-4 text-red-500"})}),a.jsx("div",{className:"text-xs font-medium text-red-600",children:"已滿"})]})})]},C)})})]}),a.jsxs("div",{className:"mt-6 pt-4 border-t",children:[a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 bg-white border-2 border-gray-200 rounded"}),a.jsx("span",{className:"text-gray-600",children:"可用"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 bg-green-100 border-2 border-green-300 rounded"}),a.jsx("span",{className:"text-gray-600",children:"已預約"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 bg-red-50 border-2 border-red-200 rounded opacity-60"}),a.jsx("span",{className:"text-gray-600",children:"已滿"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 bg-[#39653f] border-2 border-blue-600 rounded"}),a.jsx("span",{className:"text-gray-600",children:"已選擇"})]})]}),a.jsxs("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx("span",{className:"text-blue-600",children:"💡"}),a.jsx("span",{className:"text-sm font-medium text-blue-800",children:"使用說明"})]}),a.jsxs("div",{className:"text-xs text-blue-700 space-y-1",children:[a.jsx("p",{children:"• 點擊日期可選擇進入時間"}),a.jsx("p",{children:"• 再次點擊其他日期可選擇回國時間"}),a.jsx("p",{children:"• 綠色數字表示可用車位數量"}),a.jsx("p",{children:"• 橙色價格表示特殊價格"})]})]})]})]})]})},Lce=({checkInTime:e,checkOutTime:t,conflictingDays:r,totalDays:n,availableDays:s})=>{if(r.length===0)return null;const o=r.length===n?"full":r.length>n/2?"major":"minor",c=()=>{switch(o){case"full":return"所選時間範圍內的所有日期都已被預約。請選擇其他時間範圍。";case"major":return"所選時間範圍內的大部分日期已被預約。只剩下少數空閒日期。";case"minor":return"所選時間範圍內的部分日期已被預約。";default:return"預約時間有衝突。"}},l=()=>{switch(o){case"full":return"border-red-200 bg-red-50 text-red-800";case"major":return"border-orange-200 bg-orange-50 text-orange-800";case"minor":return"border-yellow-200 bg-yellow-50 text-yellow-800";default:return"border-gray-200 bg-gray-50 text-gray-800"}};return a.jsxs(ue,{className:`border-2 ${l()}`,children:[a.jsx(xe,{className:"pb-3",children:a.jsxs(ye,{className:"flex items-center space-x-2 text-lg",children:[a.jsx(bi,{className:"h-5 w-5"}),a.jsx("span",{children:"時間衝突通知"})]})}),a.jsxs(he,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Et,{className:"h-4 w-4"}),a.jsx("span",{className:"font-medium",children:"摘要:"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs(Le,{variant:"outline",className:"bg-green-100 text-green-800",children:[s," 天空閒"]}),a.jsxs(Le,{variant:"outline",className:"bg-red-100 text-red-800",children:[r.length," 天已預約"]})]})]}),a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx(gu,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),a.jsx("p",{className:"text-sm",children:c()})]}),a.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[a.jsx(Hr,{className:"h-4 w-4"}),a.jsxs("span",{children:["時間範圍: ",or(e)," - ",or(t)]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-2",children:"已被預約的日期:"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:r.map((u,d)=>a.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[a.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),a.jsx("span",{children:or(u)})]},d))})]}),a.jsxs("div",{className:"bg-white/50 p-3 rounded-lg",children:[a.jsx("h4",{className:"font-medium mb-2",children:"建議:"}),a.jsxs("ul",{className:"text-sm space-y-1",children:[o==="full"&&a.jsx("li",{children:"• 選擇完全不同的時間範圍"}),o==="major"&&a.jsxs(a.Fragment,{children:[a.jsx("li",{children:"• 選擇較短的時間範圍"}),a.jsx("li",{children:"• 選擇其他時間範圍"})]}),o==="minor"&&a.jsxs(a.Fragment,{children:[a.jsx("li",{children:"• 可以預約剩餘的空閒日期"}),a.jsx("li",{children:"• 或選擇其他時間範圍"})]}),a.jsx("li",{children:"• 聯繫我們以獲得支援"})]})]})]})]})},Fce=()=>{const[e,t]=v.useState([]),[r,n]=v.useState([]),[s,i]=v.useState(!0),[o,c]=v.useState(!1),[l,u]=v.useState(null),[d,f]=v.useState([]);console.log(d);const[h,p]=v.useState(null),[g,m]=v.useState(null),[x,b]=v.useState([]),[y,w]=v.useState([]),[S,N]=v.useState(!1),[j,A]=v.useState(null),[O,P]=v.useState({parkingTypeId:"",checkInTime:"",checkOutTime:"",driverName:"",phone:"",email:"",licensePlate:"",passengerCount:1,luggageCount:0,selectedAddonServices:[],discountCode:"",estimatedArrivalTime:"",flightNumber:"",notes:"",paymentStatus:"pending",paymentMethod:"cash",status:"confirmed",departureTerminal:"",returnTerminal:""});v.useEffect(()=>{T()},[]),v.useEffect(()=>{O.parkingTypeId&&O.checkInTime&&O.checkOutTime?(_(),E()):(f([]),p(null),b([]),w([]))},[O.parkingTypeId,O.checkInTime,O.checkOutTime]),v.useEffect(()=>{const B=setTimeout(()=>{O.email&&I(O.email)},1e3);return()=>clearTimeout(B)},[O.email]),v.useEffect(()=>{O.parkingTypeId&&O.checkInTime&&O.checkOutTime&&k()},[O.selectedAddonServices,O.discountCode,S]);const T=async()=>{try{i(!0);const[B,G]=await Promise.all([tf(),sN()]);t(B.parkingTypes),n(G.services)}catch(B){console.error("Error loading data:",B),Y.error("無法載入資料")}finally{i(!1)}},_=async()=>{try{const G=(await Ae.post("/bookings/check-availability",{parkingTypeId:O.parkingTypeId,checkInTime:O.checkInTime,checkOutTime:O.checkOutTime})).data;if(G.success)f(G.availableSlots),p(G.pricing),b([]),await k();else{f([]),p(null);const ce=await C();b(ce),Y.error(G.message||"停車場在此時段已無空位")}}catch(B){console.error("Error checking availability:",B),Y.error("檢查可用性時發生錯誤")}},k=async()=>{if(!(!O.parkingTypeId||!O.checkInTime||!O.checkOutTime))try{const B=await j$({parkingTypeId:O.parkingTypeId,checkInTime:O.checkInTime,checkOutTime:O.checkOutTime,addonServices:O.selectedAddonServices,discountCode:O.discountCode,isVIP:S,userEmail:O.email});p(B.pricing)}catch(B){console.error("Error calculating pricing:",B)}},E=async()=>{if(!(!O.parkingTypeId||!O.checkInTime||!O.checkOutTime))try{const B=await iN(O.parkingTypeId,O.checkInTime,O.checkOutTime);w(B.maintenanceDays),B.hasMaintenance&&Y.error("此停車場在選擇的時間內正在維護")}catch(B){console.error("Error checking maintenance:",B)}},C=async()=>{if(!O.checkInTime||!O.checkOutTime)return[];const B=[],G=new Date(O.checkInTime),ce=new Date(O.checkOutTime),we=new Date(G);for(;we<=ce;){const pe=we.toISOString().split("T")[0];try{(await Ae.post("/bookings/check-availability",{parkingTypeId:O.parkingTypeId,checkInTime:`${pe}T00:00:00.000Z`,checkOutTime:`${pe}T23:59:59.999Z`})).data.success||B.push(pe)}catch(Oe){console.error("Error checking day availability:",Oe),B.push(pe)}we.setDate(we.getDate()+1)}return B},I=async B=>{if(!(!B||!B.includes("@")))try{const G=JSON.parse(localStorage.getItem("user")||"{}");if(G.email===B&&G.isVIP){A(G),N(!0),Y.success(`🎉 歡迎VIP會員！您享有 ${G.vipDiscount||0}% 折扣！`);return}const ce=await N1(B);ce.success&&ce.user&&ce.user.isVIP?(A(ce.user),N(!0),Y.success(`🎉 歡迎VIP會員！您享有 ${ce.user.vipDiscount||0}% 折扣！`)):(A(null),N(!1))}catch(G){console.error("Error checking VIP status:",G),A(null),N(!1)}},F=async()=>{var B,G,ce,we;if(!((B=O.discountCode)!=null&&B.trim())){Y.error("請輸入折扣碼");return}if(!O.parkingTypeId||!O.checkInTime||!O.checkOutTime){Y.error("請先選擇停車場和時間再應用折扣碼");return}try{const pe=JSON.parse(localStorage.getItem("user")||"{}"),R=(await Ae.post("/bookings/apply-discount",{discountCode:O.discountCode,parkingTypeId:O.parkingTypeId,checkInTime:O.checkInTime,checkOutTime:O.checkOutTime,addonServices:O.selectedAddonServices,isVIP:S,email:O.email||pe.email})).data;R.success?(m(R.discountInfo),Y.success("折扣碼應用成功！")):(Y.error(R.message||"折扣碼無效"),m(null))}catch(pe){if(console.error("Error applying discount:",pe),((G=pe.response)==null?void 0:G.status)===401)Y.error("請登入以使用折扣碼");else{const Oe=((we=(ce=pe.response)==null?void 0:ce.data)==null?void 0:we.message)||pe.message||"無法應用折扣碼";Y.error(Oe)}m(null)}},$=async()=>{try{const B={...O,addonServices:O.selectedAddonServices},G=await q$(B);u(G.booking),c(!0),q(),Y.success("手動預約創建成功")}catch(B){console.error("Error creating manual booking:",B),Y.error("無法創建手動預約")}},q=()=>{P({parkingTypeId:"",checkInTime:"",checkOutTime:"",driverName:"",phone:"",email:"",licensePlate:"",passengerCount:1,luggageCount:0,selectedAddonServices:[],discountCode:"",estimatedArrivalTime:"",flightNumber:"",notes:"",paymentStatus:"pending",paymentMethod:"cash",status:"confirmed",departureTerminal:"",returnTerminal:""}),p(null),m(null),f([]),b([]),w([])},M=B=>{P(G=>({...G,selectedAddonServices:G.selectedAddonServices.includes(B)?G.selectedAddonServices.filter(ce=>ce!==B):[...G.selectedAddonServices,B]}))},J=B=>B==null?"0 TWD":B.toLocaleString("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0,maximumFractionDigits:0}),V=e.find(B=>B._id===O.parkingTypeId),z=r.filter(B=>O.selectedAddonServices.includes(B._id));return s?a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}):a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsx("div",{className:"flex justify-between items-center mb-8",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"手動預約"}),a.jsx("p",{className:"text-gray-600",children:"為客戶創建預約"})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs(ue,{children:[a.jsxs(xe,{children:[a.jsxs(ye,{className:"flex items-center",children:[a.jsx(qr,{className:"h-5 w-5 mr-2"}),"預約資訊"]}),a.jsx(rt,{children:"輸入新預約的詳細資訊"})]}),a.jsxs(he,{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"parkingType",children:"停車場 *"}),a.jsxs(en,{value:O.parkingTypeId,onValueChange:B=>P(G=>({...G,parkingTypeId:B})),children:[a.jsx(Mr,{children:a.jsx(tn,{placeholder:"選擇停車場"})}),a.jsx(Rr,{children:e.map(B=>a.jsxs(at,{value:B._id,children:[B.name," (",B.code,") - ",J(B.pricePerDay||0),"/天"]},B._id))})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"checkInTime",children:"進入時間 *"}),a.jsx(fu,{id:"checkInTime",type:"datetime-local",value:O.checkInTime,onChange:B=>P(G=>({...G,checkInTime:B})),placeholder:"yyyy/mm/dd hh:mm"})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"checkOutTime",children:"回國時間 *"}),a.jsx(fu,{id:"checkOutTime",type:"datetime-local",value:O.checkOutTime,onChange:B=>P(G=>({...G,checkOutTime:B})),placeholder:"yyyy/mm/dd hh:mm"})]})]}),O.parkingTypeId&&O.checkInTime&&O.checkOutTime&&a.jsx(Rce,{parkingTypeId:O.parkingTypeId,checkInTime:O.checkInTime,checkOutTime:O.checkOutTime}),x.length>0&&a.jsx(Lce,{checkInTime:O.checkInTime,checkOutTime:O.checkOutTime,conflictingDays:x,totalDays:Math.ceil((new Date(O.checkOutTime).getTime()-new Date(O.checkInTime).getTime())/(1e3*60*60*24)),availableDays:Math.ceil((new Date(O.checkOutTime).getTime()-new Date(O.checkInTime).getTime())/(1e3*60*60*24))-x.length}),y.length>0&&a.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx(yi,{className:"h-5 w-5 text-red-600"}),a.jsx("span",{className:"font-medium text-red-800",children:"⚠️ 停車場正在維護"})]}),a.jsxs("div",{className:"text-sm text-red-700",children:[a.jsx("p",{children:"所選停車場在此時段正在維護："}),a.jsx("ul",{className:"mt-2 space-y-1",children:y.map((B,G)=>a.jsxs("li",{className:"flex items-center space-x-2",children:[a.jsx("span",{children:"•"}),a.jsxs("span",{children:[or(B.date),": ",B.reason]})]},G))}),a.jsx("p",{className:"mt-2 font-medium",children:"請選擇其他時間或停車場。"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[a.jsx(Nr,{className:"h-4 w-4 mr-2"}),"客戶資訊"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"driverName",children:"您的姓名 *"}),a.jsx(le,{id:"driverName",value:O.driverName,onChange:B=>P(G=>({...G,driverName:B.target.value})),placeholder:"輸入您的姓名"})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"phone",children:"電話號碼 *"}),a.jsx(le,{id:"phone",value:O.phone,onChange:B=>P(G=>({...G,phone:B.target.value})),placeholder:"輸入電話號碼"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"email",children:"Email *"}),a.jsxs("div",{className:"relative",children:[a.jsx(le,{id:"email",type:"email",value:O.email,onChange:B=>P(G=>({...G,email:B.target.value})),placeholder:"輸入電子郵件",className:S?"border-yellow-400 bg-yellow-50":""}),S&&j&&a.jsx("div",{className:"absolute -top-2 -right-2",children:a.jsxs(Le,{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white border-0 text-xs",children:["👑 VIP ",j.vipDiscount,"%"]})})]}),S&&j&&a.jsxs("div",{className:"text-xs text-yellow-600 bg-yellow-50 p-2 rounded",children:["✨ 歡迎VIP會員！您享有 ",j.vipDiscount,"% 自動折扣。"]})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"licensePlate",children:"車牌號碼 *"}),a.jsx(le,{id:"licensePlate",value:O.licensePlate,onChange:B=>P(G=>({...G,licensePlate:B.target.value.toUpperCase()})),placeholder:"輸入車牌號碼"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"passengerCount",children:"乘客數量"}),a.jsx(le,{id:"passengerCount",type:"number",min:"1",max:"5",value:O.passengerCount,onChange:B=>P(G=>({...G,passengerCount:parseInt(B.target.value)}))})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"luggageCount",children:"行李數量（免費1個，第2個以上現場收100元/行李））"}),a.jsx(le,{id:"luggageCount",type:"number",min:"0",value:O.luggageCount,onChange:B=>P(G=>({...G,luggageCount:parseInt(B.target.value)}))})]})]}),O.passengerCount>0&&a.jsxs("div",{className:"space-y-4 bg-blue-50 p-4 rounded-lg border border-blue-200",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-blue-800 font-medium",children:"✈️ 航廈選擇"}),a.jsx("span",{className:"text-xs text-blue-600",children:"(接駁服務需要)"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"departureTerminal",className:"text-sm font-medium text-gray-700",children:"出發航廈（前往機場）"}),a.jsxs("select",{id:"departureTerminal",value:O.departureTerminal||"",onChange:B=>P(G=>({...G,departureTerminal:B.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"請選擇出發航廈"}),a.jsx("option",{value:"terminal1",children:"第一航廈"}),a.jsx("option",{value:"terminal2",children:"第二航廈"})]})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"returnTerminal",className:"text-sm font-medium text-gray-700",children:"回程航廈（接回停車場）"}),a.jsxs("select",{id:"returnTerminal",value:O.returnTerminal||"",onChange:B=>P(G=>({...G,returnTerminal:B.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"請選擇回程航廈"}),a.jsx("option",{value:"terminal1",children:"第一航廈"}),a.jsx("option",{value:"terminal2",children:"第二航廈"})]})]})]}),a.jsx("div",{className:"text-xs text-blue-600 bg-blue-100 p-2 rounded",children:"💡 請確認航廈選擇正確，以確保接駁服務順利進行"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[a.jsx(Hr,{className:"h-4 w-4 mr-2"}),"附加資訊"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"estimatedArrivalTime",children:"預計到達時間"}),a.jsx(fu,{id:"estimatedArrivalTime",type:"datetime-local",value:O.estimatedArrivalTime,onChange:B=>P(G=>({...G,estimatedArrivalTime:B})),placeholder:"yyyy/mm/dd hh:mm"})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"flightNumber",children:"航班號碼"}),a.jsx(le,{id:"flightNumber",value:O.flightNumber,onChange:B=>P(G=>({...G,flightNumber:B.target.value})),placeholder:"輸入航班號碼"})]})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"notes",children:"備註"}),a.jsx(rr,{id:"notes",value:O.notes,onChange:B=>P(G=>({...G,notes:B.target.value})),placeholder:"附加備註...",rows:3})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[a.jsx(L1,{className:"h-4 w-4 mr-2"}),"付款資訊"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"paymentStatus",children:"付款狀態"}),a.jsxs(en,{value:O.paymentStatus,onValueChange:B=>P(G=>({...G,paymentStatus:B})),children:[a.jsx(Mr,{children:a.jsx(tn,{})}),a.jsxs(Rr,{children:[a.jsx(at,{value:"pending",children:"等待付款"}),a.jsx(at,{value:"paid",children:"已付款"}),a.jsx(at,{value:"refunded",children:"已退款"})]})]})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"paymentMethod",children:"付款方式"}),a.jsxs(en,{value:O.paymentMethod,onValueChange:B=>P(G=>({...G,paymentMethod:B})),children:[a.jsx(Mr,{children:a.jsx(tn,{})}),a.jsxs(Rr,{children:[a.jsx(at,{value:"cash",children:"現金"}),a.jsx(at,{value:"credit_card",children:"信用卡"}),a.jsx(at,{value:"online",children:"線上付款"})]})]})]})]}),a.jsxs("div",{children:[a.jsx(Z,{htmlFor:"status",children:"預約狀態"}),a.jsxs(en,{value:O.status,onValueChange:B=>P(G=>({...G,status:B})),children:[a.jsx(Mr,{children:a.jsx(tn,{})}),a.jsxs(Rr,{children:[a.jsx(at,{value:"pending",children:"等待確認"}),a.jsx(at,{value:"confirmed",children:"預約成功"}),a.jsx(at,{value:"checked-in",children:"已進入停車場"}),a.jsx(at,{value:"checked-out",children:"已離開停車場"})]})]})]})]}),a.jsx(W,{onClick:$,className:"w-full",children:"創建手動預約"})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs(ue,{children:[a.jsxs(xe,{children:[a.jsxs(ye,{className:"flex items-center",children:[a.jsx(ir,{className:"h-5 w-5 mr-2"}),"附加服務"]}),a.jsx(rt,{children:"為客戶選擇附加服務"})]}),a.jsxs(he,{className:"space-y-4",children:[r.map(B=>a.jsxs("div",{className:"flex items-center space-x-3 p-3 border rounded-lg",children:[a.jsx($a,{id:`service-${B._id}`,checked:O.selectedAddonServices.includes(B._id),onCheckedChange:()=>M(B._id)}),a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-2xl",children:B.icon}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:B.name}),a.jsx("div",{className:"text-sm text-gray-600",children:B.description})]})]})}),a.jsx("div",{className:"text-right",children:a.jsx("div",{className:"font-bold text-green-600",children:J(B.price||0)})})]},B._id)),z.length>0&&a.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[a.jsx("h4",{className:"font-semibold mb-2",children:"已選擇的服務："}),a.jsxs("div",{className:"space-y-2",children:[z.map(B=>a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{children:B.name}),a.jsx("span",{className:"font-medium",children:J(B.price||0)})]},B._id)),a.jsx("div",{className:"border-t pt-2",children:a.jsxs("div",{className:"flex justify-between items-center font-bold",children:[a.jsx("span",{children:"服務總計："}),a.jsx("span",{children:J(z.reduce((B,G)=>B+(G.price||0),0))})]})})]})]})]})]}),a.jsxs(ue,{children:[a.jsxs(xe,{children:[a.jsxs(ye,{className:"flex items-center",children:[a.jsx(xu,{className:"h-5 w-5 mr-2"}),"折扣碼"]}),a.jsx(rt,{children:"如有折扣碼請輸入"})]}),a.jsxs(he,{className:"space-y-4",children:[a.jsxs("div",{className:"flex space-x-3",children:[a.jsx(le,{placeholder:"輸入折扣碼",value:O.discountCode,onChange:B=>P(G=>({...G,discountCode:B.target.value})),className:"flex-1"}),a.jsx(W,{onClick:F,className:"bg-[#39653f] hover:bg-[#2d4f33]",children:"應用"})]}),g&&a.jsxs("div",{className:"p-4 bg-gradient-to-r from-green-50 to-blue-50 border border-green-200 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[a.jsx(pr,{className:"h-5 w-5 text-green-600"}),a.jsx("span",{className:"font-medium text-green-800",children:"優惠已應用！"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"bg-white p-3 rounded-lg border border-green-200",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx("span",{className:"text-lg",children:"🎫"}),a.jsx("span",{className:"font-semibold text-green-700",children:"優惠券折扣"})]}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"優惠券代碼："}),a.jsx("span",{className:"font-semibold text-green-600",children:g.code})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"折扣類型："}),a.jsx("span",{className:"font-semibold",children:g.discountType==="percentage"?`${g.discountValue}%`:"固定金額"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"折扣金額："}),a.jsxs("span",{className:"font-semibold text-green-600",children:["-",J(g.discountAmount)]})]})]})]}),g.vipDiscount>0&&a.jsxs("div",{className:"bg-white p-3 rounded-lg border border-blue-200",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx("span",{className:"text-lg",children:"👑"}),a.jsx("span",{className:"font-semibold text-blue-700",children:"VIP會員折扣"})]}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"狀態："}),a.jsx("span",{className:"font-semibold text-blue-600",children:"VIP會員"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"折扣比例："}),a.jsxs("span",{className:"font-semibold",children:[Math.round(g.vipDiscount/(g.originalAmount-g.discountAmount)*100),"%"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"折扣金額："}),a.jsxs("span",{className:"font-semibold text-blue-600",children:["-",J(g.vipDiscount)]})]})]})]}),a.jsx("div",{className:"bg-gradient-to-r from-green-100 to-blue-100 p-3 rounded-lg border-2 border-green-300",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-semibold",children:"原始總額："}),a.jsx("span",{className:"font-semibold",children:J(g.originalAmount)})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-semibold text-green-700",children:"總折扣："}),a.jsxs("span",{className:"font-bold text-green-700 text-lg",children:["-",J(g.totalDiscount||g.discountAmount)]})]}),a.jsx("div",{className:"border-t pt-2",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-bold text-lg",children:"總付款："}),a.jsx("span",{className:"font-bold text-green-800 text-xl",children:J(g.finalAmount)})]})})]})})]})]})]})]}),h&&a.jsxs(ue,{children:[a.jsx(xe,{children:a.jsxs(ye,{className:"flex items-center",children:[a.jsx(vg,{className:"h-5 w-5 mr-2"}),"價格摘要"]})}),a.jsx(he,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"bg-gray-50 p-3 rounded-lg",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-semibold text-gray-900",children:"基本價格"}),a.jsxs("div",{className:"text-sm text-gray-600",children:[V==null?void 0:V.name," • ",(h==null?void 0:h.durationDays)||0," 天"]})]}),a.jsx("span",{className:"font-semibold text-gray-900",children:J(h==null?void 0:h.basePrice)})]})}),(h==null?void 0:h.dailyPrices)&&h.dailyPrices.length>0&&a.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[a.jsx("div",{className:"text-sm font-semibold text-blue-700 mb-2",children:"📅 每日價格詳情："}),a.jsx("div",{className:"space-y-2",children:h.dailyPrices.map((B,G)=>a.jsxs("div",{className:"flex justify-between items-center text-sm bg-white p-2 rounded",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-gray-600",children:or(B.date)}),B.isSpecialPrice&&a.jsxs(Le,{variant:"outline",className:"text-xs bg-orange-100 text-orange-700 border-orange-200",children:["💰 ",B.specialPriceReason]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[B.isSpecialPrice&&a.jsx("span",{className:"text-xs text-gray-500 line-through",children:J(B.originalPrice)}),a.jsx("span",{className:`font-semibold ${B.isSpecialPrice?"text-orange-600":"text-blue-600"}`,children:J(B.price)})]})]},G))})]}),O.selectedAddonServices.length>0&&a.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[a.jsx("div",{className:"text-sm font-semibold text-blue-700 mb-2",children:"🚀 附加服務："}),a.jsx("div",{className:"space-y-2",children:O.selectedAddonServices.map(B=>{const G=r.find(ce=>ce._id===B);return G?a.jsxs("div",{className:"flex justify-between items-center text-sm bg-white p-2 rounded",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-lg",children:G.icon}),a.jsx("span",{children:G.name})]}),a.jsx("span",{className:"font-semibold text-blue-600",children:J(G.price||0)})]},B):null})})]}),S&&j&&a.jsxs("div",{className:"flex justify-between items-center py-2 bg-blue-50 rounded-lg px-3",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-blue-600",children:"👑 VIP折扣："}),a.jsxs("span",{className:"text-xs text-blue-500 bg-blue-100 px-2 py-1 rounded",children:[j.vipDiscount,"% 折扣"]})]}),g?a.jsxs("span",{className:"font-semibold text-blue-600",children:["-",J(g.vipDiscount||0)]}):a.jsxs("span",{className:"text-sm text-blue-600",children:["~",J(Math.round(((h==null?void 0:h.totalAmount)||0)*(j.vipDiscount/100)))]})]}),g&&g.discountAmount>0&&a.jsxs("div",{className:"flex justify-between items-center py-2 bg-green-50 rounded-lg px-3",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-green-600",children:"🎫 優惠券："}),a.jsxs("span",{className:"text-xs text-green-500 bg-green-100 px-2 py-1 rounded",children:[g.code," (",g.discountType==="percentage"?`${g.discountValue}%`:"固定",")"]})]}),a.jsxs("span",{className:"font-semibold text-green-600",children:["-",J(g.discountAmount)]})]}),a.jsx(fs,{}),a.jsx("div",{className:"bg-gradient-to-r from-emerald-100 to-teal-100 p-4 rounded-lg border-2 border-emerald-300",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-semibold text-gray-700",children:"原始總額："}),a.jsx("span",{className:"font-semibold text-gray-900",children:J((h==null?void 0:h.totalAmount)||0)})]}),g&&(g.discountAmount>0||g.vipDiscount>0)||S&&j?a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-semibold text-green-700",children:"總折扣："}),a.jsxs("span",{className:"font-bold text-green-700 text-lg",children:["-",J(g?g.totalDiscount||g.discountAmount||0:Math.round(((h==null?void 0:h.totalAmount)||0)*((j==null?void 0:j.vipDiscount)/100)))]})]}):null,a.jsx("div",{className:"border-t pt-2",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-bold text-lg text-gray-900",children:"總付款："}),a.jsx("span",{className:"text-2xl font-bold text-emerald-600",children:J(g?g.finalAmount:S&&j?Math.round(((h==null?void 0:h.totalAmount)||0)*(1-j.vipDiscount/100)):(h==null?void 0:h.finalAmount)||(h==null?void 0:h.totalAmount)||0)})]})})]})})]})})]})]})]}),a.jsx(ft,{open:o,onOpenChange:c,children:a.jsxs(it,{children:[a.jsxs(ot,{children:[a.jsxs(lt,{className:"flex items-center",children:[a.jsx(pr,{className:"h-5 w-5 mr-2 text-green-500"}),"預約成功"]}),a.jsx(ut,{children:"手動預約已成功創建"})]}),l&&a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[a.jsxs("div",{className:"font-semibold",children:["預約編號: ",l.bookingNumber]}),a.jsxs("div",{className:"text-sm text-gray-600",children:["客戶: ",l.driverName]}),a.jsxs("div",{className:"text-sm text-gray-600",children:["車牌號碼: ",l.licensePlate]}),a.jsxs("div",{className:"text-sm text-gray-600",children:["總金額: ",J(l.finalAmount)]})]})}),a.jsx(ct,{children:a.jsx(W,{onClick:()=>c(!1),children:"關閉"})})]})})]})},Bce=()=>{const[e,t]=v.useState(null),[r,n]=v.useState(!0),[s,i]=v.useState("checkins");v.useEffect(()=>{o()},[]);const o=async()=>{try{n(!0);const f=await aD();t(f)}catch(f){console.error("Error loading today data:",f),Y.error("無法載入今日資料")}finally{n(!1)}},c=f=>f.toLocaleString("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0,maximumFractionDigits:0}),l=f=>{switch(f){case"confirmed":return a.jsxs(Le,{variant:"default",children:[a.jsx(pr,{className:"h-3 w-3 mr-1"}),"預約成功"]});case"checked-in":return a.jsxs(Le,{variant:"secondary",children:[a.jsx(ir,{className:"h-3 w-3 mr-1"}),"已進入停車場"]});case"checked-out":return a.jsxs(Le,{variant:"outline",children:[a.jsx(Hr,{className:"h-3 w-3 mr-1"}),"已離開停車場"]});case"cancelled":return a.jsxs(Le,{variant:"destructive",children:[a.jsx(Gr,{className:"h-3 w-3 mr-1"}),"已取消"]});default:return a.jsx(Le,{variant:"secondary",children:f})}},u=()=>{window.print()};if(r)return a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})});if(!e)return a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsxs("div",{className:"text-center",children:[a.jsx(bi,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"沒有資料"}),a.jsx("p",{className:"text-gray-500",children:"無法載入今日資料。"})]})});const d=()=>{switch(s){case"checkins":return e.checkInsToday;case"checkouts":return e.checkOutsToday;case"overdue":return e.overdueBookings;default:return e.checkInsToday}};return a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"今日概覽"}),a.jsx("p",{className:"text-gray-600",children:"今日停車場進出車輛統計"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(W,{variant:"outline",onClick:o,children:[a.jsx(Hn,{className:"h-4 w-4 mr-2"}),"重新整理"]}),a.jsxs(W,{variant:"outline",onClick:u,children:[a.jsx(pm,{className:"h-4 w-4 mr-2"}),"列印報告"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[a.jsxs(ue,{children:[a.jsxs(xe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ye,{className:"text-sm font-medium",children:"今日進入車輛"}),a.jsx(la,{className:"h-4 w-4 text-green-600"})]}),a.jsxs(he,{children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.summary.totalCheckIns}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"今天將進入停車場的車輛"})]})]}),a.jsxs(ue,{children:[a.jsxs(xe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ye,{className:"text-sm font-medium",children:"今天離開車輛"}),a.jsx(yu,{className:"h-4 w-4 text-blue-600"})]}),a.jsxs(he,{children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.summary.totalCheckOuts}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"今天將離開停車場的車輛"})]})]}),a.jsxs(ue,{children:[a.jsxs(xe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ye,{className:"text-sm font-medium",children:"逾期車輛"}),a.jsx(bi,{className:"h-4 w-4 text-red-600"})]}),a.jsxs(he,{children:[a.jsx("div",{className:"text-2xl font-bold text-red-600",children:e.summary.totalOverdue}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"已超過預約時間的車輛"})]})]})]}),a.jsxs(ue,{children:[a.jsxs(xe,{children:[a.jsx(ye,{children:"今日詳情"}),a.jsx(rt,{children:"查看進出停車場車輛的詳細資訊"})]}),a.jsxs(he,{children:[a.jsxs("div",{className:"flex space-x-2 mb-6",children:[a.jsxs(W,{variant:s==="checkins"?"default":"outline",onClick:()=>i("checkins"),children:[a.jsx(la,{className:"h-4 w-4 mr-2"}),"進入車輛 (",e.summary.totalCheckIns,")"]}),a.jsxs(W,{variant:s==="checkouts"?"default":"outline",onClick:()=>i("checkouts"),children:[a.jsx(yu,{className:"h-4 w-4 mr-2"}),"離開車輛 (",e.summary.totalCheckOuts,")"]}),a.jsxs(W,{variant:s==="overdue"?"default":"outline",onClick:()=>i("overdue"),children:[a.jsx(bi,{className:"h-4 w-4 mr-2"}),"逾期 (",e.summary.totalOverdue,")"]})]}),a.jsxs(zr,{children:[a.jsx(Ur,{children:a.jsxs(Pt,{children:[a.jsx(_e,{children:"預約編號"}),a.jsx(_e,{children:"客戶"}),a.jsx(_e,{children:"車牌號碼"}),a.jsx(_e,{children:"停車場"}),a.jsx(_e,{children:"時間"}),a.jsx(_e,{children:"狀態"}),a.jsx(_e,{children:"金額"})]})}),a.jsx(Wr,{children:d().map(f=>a.jsxs(Pt,{children:[a.jsx(Pe,{children:a.jsx("div",{className:"font-medium",children:f.bookingNumber})}),a.jsx(Pe,{children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:f.driverName}),a.jsx("div",{className:"text-sm text-gray-600",children:f.phone})]})}),a.jsx(Pe,{children:a.jsx("div",{className:"font-medium",children:f.licensePlate})}),a.jsx(Pe,{children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:f.parkingType.name}),a.jsx("div",{className:"text-sm text-gray-600",children:f.parkingType.code})]})}),a.jsx(Pe,{children:a.jsxs("div",{children:[a.jsxs("div",{className:"text-sm",children:[a.jsx("span",{className:"font-medium",children:"進入:"})," ",$t(f.checkInTime)]}),a.jsxs("div",{className:"text-sm text-gray-600",children:[a.jsx("span",{className:"font-medium",children:"離開:"})," ",$t(f.checkOutTime)]})]})}),a.jsx(Pe,{children:l(f.status)}),a.jsx(Pe,{children:a.jsx("div",{className:"font-bold text-green-600",children:c(f.finalAmount)})})]},f._id))})]}),d().length===0&&a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(Et,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsxs("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:[s==="checkins"&&"今天沒有車輛進入",s==="checkouts"&&"今天沒有車輛離開",s==="overdue"&&"沒有逾期車輛"]}),a.jsxs("p",{className:"text-gray-500",children:[s==="checkins"&&"今天還沒有車輛預約進入。",s==="checkouts"&&"今天還沒有車輛預約離開。",s==="overdue"&&"所有車輛都按時。"]})]})]})]}),a.jsx("style",{children:`
        @media print {
          .no-print {
            display: none !important;
          }
          .print-break {
            page-break-before: always;
          }
        }
      `})]})},Kw=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Dashboard"}),a.jsx("p",{className:"text-muted-foreground",children:"Tổng quan hệ thống bãi đậu xe - Staff Panel"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsxs(ue,{children:[a.jsxs(xe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ye,{className:"text-sm font-medium",children:"Đặt chỗ hôm nay"}),a.jsx(Et,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(he,{children:[a.jsx("div",{className:"text-2xl font-bold",children:"0"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"+0 đặt thành công"})]})]}),a.jsxs(ue,{children:[a.jsxs(xe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ye,{className:"text-sm font-medium",children:"Doanh thu hôm nay"}),a.jsx(ui,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(he,{children:[a.jsx("div",{className:"text-2xl font-bold",children:"0,00 NT$"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Trung bình 0,00 NT$/đặt chỗ"})]})]}),a.jsxs(ue,{children:[a.jsxs(xe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ye,{className:"text-sm font-medium",children:"Chỗ trống còn lại"}),a.jsx(ir,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(he,{children:[a.jsx("div",{className:"text-2xl font-bold",children:"0"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Tổng 0 chỗ đậu xe"})]})]}),a.jsxs(ue,{children:[a.jsxs(xe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ye,{className:"text-sm font-medium",children:"Xe đang đỗ"}),a.jsx(Nr,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(he,{children:[a.jsx("div",{className:"text-2xl font-bold",children:"0"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"0 xe sắp rời bãi hôm nay"})]})]})]}),a.jsx("div",{className:"border-b",children:a.jsxs("nav",{className:"-mb-px flex space-x-8",children:[a.jsx("button",{className:"border-b-2 border-primary text-primary px-1 py-2 text-sm font-medium",children:"Tổng quan"}),a.jsx("button",{className:"border-b-2 border-transparent text-muted-foreground hover:text-foreground px-1 py-2 text-sm font-medium",children:"Bãi đậu xe"}),a.jsx("button",{className:"border-b-2 border-transparent text-muted-foreground hover:text-foreground px-1 py-2 text-sm font-medium",children:"Đặt chỗ"}),a.jsx("button",{className:"border-b-2 border-transparent text-muted-foreground hover:text-foreground px-1 py-2 text-sm font-medium",children:"Trạng thái hiện tại"})]})}),a.jsx("div",{className:"bg-white rounded-lg border p-6",children:a.jsxs("div",{className:"text-center text-muted-foreground",children:[a.jsx("p",{children:"Chào mừng đến với Staff Dashboard"}),a.jsx("p",{className:"text-sm mt-2",children:"Bạn có thể quản lý đặt chỗ và theo dõi trạng thái bãi đậu xe từ đây."})]})})]}),Vce=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Quản lý đặt chỗ"}),a.jsx("p",{className:"text-muted-foreground",children:"Quản lý và theo dõi các đặt chỗ đậu xe"})]}),a.jsxs(W,{children:[a.jsx(qr,{className:"h-4 w-4 mr-2"}),"Tạo đặt chỗ mới"]})]}),a.jsxs(ue,{children:[a.jsx(xe,{children:a.jsx(ye,{className:"text-lg",children:"Bộ lọc"})}),a.jsx(he,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Kr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(le,{placeholder:"Tìm kiếm đặt chỗ...",className:"pl-10"})]}),a.jsx(le,{placeholder:"Từ ngày",type:"date"}),a.jsx(le,{placeholder:"Đến ngày",type:"date"}),a.jsxs(W,{variant:"outline",className:"w-full",children:[a.jsx(mr,{className:"h-4 w-4 mr-2"}),"Lọc"]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs(ue,{children:[a.jsxs(xe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ye,{className:"text-sm font-medium",children:"Tổng đặt chỗ"}),a.jsx(Et,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(he,{children:[a.jsx("div",{className:"text-2xl font-bold",children:"0"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"+0 so với hôm qua"})]})]}),a.jsxs(ue,{children:[a.jsxs(xe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ye,{className:"text-sm font-medium",children:"Đặt thành công"}),a.jsx(Le,{variant:"default",className:"h-4 w-4",children:"✓"})]}),a.jsxs(he,{children:[a.jsx("div",{className:"text-2xl font-bold",children:"0"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"0% tỷ lệ xác nhận"})]})]}),a.jsxs(ue,{children:[a.jsxs(xe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ye,{className:"text-sm font-medium",children:"Chờ xác nhận"}),a.jsx(Le,{variant:"secondary",className:"h-4 w-4",children:"⏳"})]}),a.jsxs(he,{children:[a.jsx("div",{className:"text-2xl font-bold",children:"0"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Cần xử lý"})]})]}),a.jsxs(ue,{children:[a.jsxs(xe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ye,{className:"text-sm font-medium",children:"Đã hủy"}),a.jsx(Le,{variant:"destructive",className:"h-4 w-4",children:"✗"})]}),a.jsxs(he,{children:[a.jsx("div",{className:"text-2xl font-bold",children:"0"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"0% tỷ lệ hủy"})]})]})]}),a.jsxs(ue,{children:[a.jsx(xe,{children:a.jsx(ye,{children:"Danh sách đặt chỗ"})}),a.jsx(he,{children:a.jsx("div",{className:"rounded-md border",children:a.jsxs("div",{className:"p-4 text-center text-muted-foreground",children:[a.jsx(Et,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"Chưa có đặt chỗ nào"}),a.jsx("p",{className:"text-sm",children:"Các đặt chỗ sẽ hiển thị ở đây"})]})})})]})]}),Gw=({requiredRole:e})=>{const{user:t,loading:r}=lo();if(r)return a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"})});if(!t)return a.jsx(lx,{to:"/login",replace:!0});if(e){const n={user:1,staff:2,admin:3},s=n[t.role],i=n[e];if(s<i)return a.jsx(lx,{to:"/",replace:!0})}return a.jsx(Ud,{})};function zce(){return a.jsx(kC,{children:a.jsx(_C,{children:a.jsxs(G2,{children:[a.jsxs(yt,{path:"/",element:a.jsx(BE,{}),children:[a.jsx(yt,{index:!0,element:a.jsx(Wx,{})}),a.jsx(yt,{path:"booking",element:a.jsx(Wx,{})}),a.jsx(yt,{path:"booking-confirmation",element:a.jsx(dD,{})}),a.jsx(yt,{path:"lookup",element:a.jsx(UI,{})}),a.jsx(yt,{path:"login",element:a.jsx(jR,{})}),a.jsx(yt,{path:"register",element:a.jsx(NR,{})})]}),a.jsx(yt,{path:"/admin",element:a.jsx(Gw,{requiredRole:"admin"}),children:a.jsxs(yt,{element:a.jsx(VE,{}),children:[a.jsx(yt,{index:!0,element:a.jsx(Ww,{})}),a.jsx(yt,{path:"dashboard",element:a.jsx(Ww,{})}),a.jsx(yt,{path:"bookings",element:a.jsx(cce,{})}),a.jsx(yt,{path:"users",element:a.jsx(jce,{})}),a.jsx(yt,{path:"parking-types",element:a.jsx(Cce,{})}),a.jsx(yt,{path:"services",element:a.jsx($ce,{})}),a.jsx(yt,{path:"discounts",element:a.jsx(Ece,{})}),a.jsx(yt,{path:"notifications",element:a.jsx(Dce,{})}),a.jsx(yt,{path:"settings",element:a.jsx(wce,{})}),a.jsx(yt,{path:"maintenance",element:a.jsx(Ice,{})}),a.jsx(yt,{path:"special-pricing",element:a.jsx(Mce,{})}),a.jsx(yt,{path:"manual-booking",element:a.jsx(Fce,{})}),a.jsx(yt,{path:"today-overview",element:a.jsx(Bce,{})})]})}),a.jsx(yt,{path:"/staff",element:a.jsx(Gw,{requiredRole:"staff"}),children:a.jsxs(yt,{element:a.jsx(zE,{}),children:[a.jsx(yt,{index:!0,element:a.jsx(Kw,{})}),a.jsx(yt,{path:"dashboard",element:a.jsx(Kw,{})}),a.jsx(yt,{path:"bookings",element:a.jsx(Vce,{})})]})})]})})})}sm.createRoot(document.getElementById("root")).render(a.jsx(D.StrictMode,{children:a.jsxs(Z2,{children:[a.jsx(zce,{}),a.jsx(OC,{position:"top-right"})]})}));
