import{r as x,a as ro,b as I,R as Wi,c as kw,d as wl,g as yt}from"./vendor-BqSMHcVE.js";import{u as $d,L as Er,O as Dd,a as Id,N as qv,R as vP,b as bt,B as xP}from"./router-BXaqELzt.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var Pw={exports:{}},Md={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yP=x,bP=Symbol.for("react.element"),jP=Symbol.for("react.fragment"),wP=Object.prototype.hasOwnProperty,NP=yP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,SP={key:!0,ref:!0,__self:!0,__source:!0};function Tw(e,t,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)wP.call(t,n)&&!SP.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:bP,type:e,key:s,ref:o,props:i,_owner:NP.current}}Md.Fragment=jP;Md.jsx=Tw;Md.jsxs=Tw;Pw.exports=Md;var a=Pw.exports,Xh={},Kv=ro;Xh.createRoot=Kv.createRoot,Xh.hydrateRoot=Kv.hydrateRoot;function Cw(e,t){return function(){return e.apply(t,arguments)}}const{toString:AP}=Object.prototype,{getPrototypeOf:eg}=Object,{iterator:Rd,toStringTag:Ew}=Symbol,Ld=(e=>t=>{const r=AP.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),bn=e=>(e=e.toLowerCase(),t=>Ld(t)===e),Fd=e=>t=>typeof t===e,{isArray:no}=Array,ac=Fd("undefined");function OP(e){return e!==null&&!ac(e)&&e.constructor!==null&&!ac(e.constructor)&&Ar(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const $w=bn("ArrayBuffer");function _P(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&$w(e.buffer),t}const kP=Fd("string"),Ar=Fd("function"),Dw=Fd("number"),Bd=e=>e!==null&&typeof e=="object",PP=e=>e===!0||e===!1,Kl=e=>{if(Ld(e)!=="object")return!1;const t=eg(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Ew in e)&&!(Rd in e)},TP=bn("Date"),CP=bn("File"),EP=bn("Blob"),$P=bn("FileList"),DP=e=>Bd(e)&&Ar(e.pipe),IP=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Ar(e.append)&&((t=Ld(e))==="formdata"||t==="object"&&Ar(e.toString)&&e.toString()==="[object FormData]"))},MP=bn("URLSearchParams"),[RP,LP,FP,BP]=["ReadableStream","Request","Response","Headers"].map(bn),VP=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function il(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,i;if(typeof e!="object"&&(e=[e]),no(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{const s=r?Object.getOwnPropertyNames(e):Object.keys(e),o=s.length;let c;for(n=0;n<o;n++)c=s[n],t.call(null,e[c],c,e)}}function Iw(e,t){t=t.toLowerCase();const r=Object.keys(e);let n=r.length,i;for(;n-- >0;)if(i=r[n],t===i.toLowerCase())return i;return null}const li=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Mw=e=>!ac(e)&&e!==li;function Yh(){const{caseless:e}=Mw(this)&&this||{},t={},r=(n,i)=>{const s=e&&Iw(t,i)||i;Kl(t[s])&&Kl(n)?t[s]=Yh(t[s],n):Kl(n)?t[s]=Yh({},n):no(n)?t[s]=n.slice():t[s]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&il(arguments[n],r);return t}const zP=(e,t,r,{allOwnKeys:n}={})=>(il(t,(i,s)=>{r&&Ar(i)?e[s]=Cw(i,r):e[s]=i},{allOwnKeys:n}),e),UP=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),WP=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},HP=(e,t,r,n)=>{let i,s,o;const c={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)o=i[s],(!n||n(o,e,t))&&!c[o]&&(t[o]=e[o],c[o]=!0);e=r!==!1&&eg(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},qP=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},KP=e=>{if(!e)return null;if(no(e))return e;let t=e.length;if(!Dw(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},GP=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&eg(Uint8Array)),ZP=(e,t)=>{const n=(e&&e[Rd]).call(e);let i;for(;(i=n.next())&&!i.done;){const s=i.value;t.call(e,s[0],s[1])}},XP=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},YP=bn("HTMLFormElement"),JP=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),Gv=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),QP=bn("RegExp"),Rw=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};il(r,(i,s)=>{let o;(o=t(i,s,e))!==!1&&(n[s]=o||i)}),Object.defineProperties(e,n)},eT=e=>{Rw(e,(t,r)=>{if(Ar(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Ar(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},tT=(e,t)=>{const r={},n=i=>{i.forEach(s=>{r[s]=!0})};return no(e)?n(e):n(String(e).split(t)),r},rT=()=>{},nT=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function aT(e){return!!(e&&Ar(e.append)&&e[Ew]==="FormData"&&e[Rd])}const iT=e=>{const t=new Array(10),r=(n,i)=>{if(Bd(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[i]=n;const s=no(n)?[]:{};return il(n,(o,c)=>{const l=r(o,i+1);!ac(l)&&(s[c]=l)}),t[i]=void 0,s}}return n};return r(e,0)},sT=bn("AsyncFunction"),oT=e=>e&&(Bd(e)||Ar(e))&&Ar(e.then)&&Ar(e.catch),Lw=((e,t)=>e?setImmediate:t?((r,n)=>(li.addEventListener("message",({source:i,data:s})=>{i===li&&s===r&&n.length&&n.shift()()},!1),i=>{n.push(i),li.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Ar(li.postMessage)),cT=typeof queueMicrotask<"u"?queueMicrotask.bind(li):typeof process<"u"&&process.nextTick||Lw,lT=e=>e!=null&&Ar(e[Rd]),te={isArray:no,isArrayBuffer:$w,isBuffer:OP,isFormData:IP,isArrayBufferView:_P,isString:kP,isNumber:Dw,isBoolean:PP,isObject:Bd,isPlainObject:Kl,isReadableStream:RP,isRequest:LP,isResponse:FP,isHeaders:BP,isUndefined:ac,isDate:TP,isFile:CP,isBlob:EP,isRegExp:QP,isFunction:Ar,isStream:DP,isURLSearchParams:MP,isTypedArray:GP,isFileList:$P,forEach:il,merge:Yh,extend:zP,trim:VP,stripBOM:UP,inherits:WP,toFlatObject:HP,kindOf:Ld,kindOfTest:bn,endsWith:qP,toArray:KP,forEachEntry:ZP,matchAll:XP,isHTMLForm:YP,hasOwnProperty:Gv,hasOwnProp:Gv,reduceDescriptors:Rw,freezeMethods:eT,toObjectSet:tT,toCamelCase:JP,noop:rT,toFiniteNumber:nT,findKey:Iw,global:li,isContextDefined:Mw,isSpecCompliantForm:aT,toJSONObject:iT,isAsyncFn:sT,isThenable:oT,setImmediate:Lw,asap:cT,isIterable:lT};function Ze(e,t,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}te.inherits(Ze,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:te.toJSONObject(this.config),code:this.code,status:this.status}}});const Fw=Ze.prototype,Bw={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Bw[e]={value:e}});Object.defineProperties(Ze,Bw);Object.defineProperty(Fw,"isAxiosError",{value:!0});Ze.from=(e,t,r,n,i,s)=>{const o=Object.create(Fw);return te.toFlatObject(e,o,function(l){return l!==Error.prototype},c=>c!=="isAxiosError"),Ze.call(o,e.message,t,r,n,i),o.cause=e,o.name=e.name,s&&Object.assign(o,s),o};const uT=null;function Jh(e){return te.isPlainObject(e)||te.isArray(e)}function Vw(e){return te.endsWith(e,"[]")?e.slice(0,-2):e}function Zv(e,t,r){return e?e.concat(t).map(function(i,s){return i=Vw(i),!r&&s?"["+i+"]":i}).join(r?".":""):t}function dT(e){return te.isArray(e)&&!e.some(Jh)}const fT=te.toFlatObject(te,{},null,function(t){return/^is[A-Z]/.test(t)});function Vd(e,t,r){if(!te.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=te.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,v){return!te.isUndefined(v[m])});const n=r.metaTokens,i=r.visitor||d,s=r.dots,o=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&te.isSpecCompliantForm(t);if(!te.isFunction(i))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(te.isDate(g))return g.toISOString();if(te.isBoolean(g))return g.toString();if(!l&&te.isBlob(g))throw new Ze("Blob is not supported. Use a Buffer instead.");return te.isArrayBuffer(g)||te.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function d(g,m,v){let y=g;if(g&&!v&&typeof g=="object"){if(te.endsWith(m,"{}"))m=n?m:m.slice(0,-2),g=JSON.stringify(g);else if(te.isArray(g)&&dT(g)||(te.isFileList(g)||te.endsWith(m,"[]"))&&(y=te.toArray(g)))return m=Vw(m),y.forEach(function(j,S){!(te.isUndefined(j)||j===null)&&t.append(o===!0?Zv([m],S,s):o===null?m:m+"[]",u(j))}),!1}return Jh(g)?!0:(t.append(Zv(v,m,s),u(g)),!1)}const f=[],h=Object.assign(fT,{defaultVisitor:d,convertValue:u,isVisitable:Jh});function p(g,m){if(!te.isUndefined(g)){if(f.indexOf(g)!==-1)throw Error("Circular reference detected in "+m.join("."));f.push(g),te.forEach(g,function(y,b){(!(te.isUndefined(y)||y===null)&&i.call(t,y,te.isString(b)?b.trim():b,m,h))===!0&&p(y,m?m.concat(b):[b])}),f.pop()}}if(!te.isObject(e))throw new TypeError("data must be an object");return p(e),t}function Xv(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function tg(e,t){this._pairs=[],e&&Vd(e,this,t)}const zw=tg.prototype;zw.append=function(t,r){this._pairs.push([t,r])};zw.toString=function(t){const r=t?function(n){return t.call(this,n,Xv)}:Xv;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function hT(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Uw(e,t,r){if(!t)return e;const n=r&&r.encode||hT;te.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let s;if(i?s=i(t,r):s=te.isURLSearchParams(t)?t.toString():new tg(t,r).toString(n),s){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class Yv{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){te.forEach(this.handlers,function(n){n!==null&&t(n)})}}const Ww={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},mT=typeof URLSearchParams<"u"?URLSearchParams:tg,pT=typeof FormData<"u"?FormData:null,gT=typeof Blob<"u"?Blob:null,vT={isBrowser:!0,classes:{URLSearchParams:mT,FormData:pT,Blob:gT},protocols:["http","https","file","blob","url","data"]},rg=typeof window<"u"&&typeof document<"u",Qh=typeof navigator=="object"&&navigator||void 0,xT=rg&&(!Qh||["ReactNative","NativeScript","NS"].indexOf(Qh.product)<0),yT=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",bT=rg&&window.location.href||"http://localhost",jT=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:rg,hasStandardBrowserEnv:xT,hasStandardBrowserWebWorkerEnv:yT,navigator:Qh,origin:bT},Symbol.toStringTag,{value:"Module"})),fr={...jT,...vT};function wT(e,t){return Vd(e,new fr.classes.URLSearchParams,Object.assign({visitor:function(r,n,i,s){return fr.isNode&&te.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},t))}function NT(e){return te.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function ST(e){const t={},r=Object.keys(e);let n;const i=r.length;let s;for(n=0;n<i;n++)s=r[n],t[s]=e[s];return t}function Hw(e){function t(r,n,i,s){let o=r[s++];if(o==="__proto__")return!0;const c=Number.isFinite(+o),l=s>=r.length;return o=!o&&te.isArray(i)?i.length:o,l?(te.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!c):((!i[o]||!te.isObject(i[o]))&&(i[o]=[]),t(r,n,i[o],s)&&te.isArray(i[o])&&(i[o]=ST(i[o])),!c)}if(te.isFormData(e)&&te.isFunction(e.entries)){const r={};return te.forEachEntry(e,(n,i)=>{t(NT(n),i,r,0)}),r}return null}function AT(e,t,r){if(te.isString(e))try{return(t||JSON.parse)(e),te.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const sl={transitional:Ww,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,s=te.isObject(t);if(s&&te.isHTMLForm(t)&&(t=new FormData(t)),te.isFormData(t))return i?JSON.stringify(Hw(t)):t;if(te.isArrayBuffer(t)||te.isBuffer(t)||te.isStream(t)||te.isFile(t)||te.isBlob(t)||te.isReadableStream(t))return t;if(te.isArrayBufferView(t))return t.buffer;if(te.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return wT(t,this.formSerializer).toString();if((c=te.isFileList(t))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Vd(c?{"files[]":t}:t,l&&new l,this.formSerializer)}}return s||i?(r.setContentType("application/json",!1),AT(t)):t}],transformResponse:[function(t){const r=this.transitional||sl.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(te.isResponse(t)||te.isReadableStream(t))return t;if(t&&te.isString(t)&&(n&&!this.responseType||i)){const o=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(c){if(o)throw c.name==="SyntaxError"?Ze.from(c,Ze.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:fr.classes.FormData,Blob:fr.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};te.forEach(["delete","get","head","post","put","patch"],e=>{sl.headers[e]={}});const OT=te.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),_T=e=>{const t={};let r,n,i;return e&&e.split(`
`).forEach(function(o){i=o.indexOf(":"),r=o.substring(0,i).trim().toLowerCase(),n=o.substring(i+1).trim(),!(!r||t[r]&&OT[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},Jv=Symbol("internals");function Oo(e){return e&&String(e).trim().toLowerCase()}function Gl(e){return e===!1||e==null?e:te.isArray(e)?e.map(Gl):String(e)}function kT(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const PT=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Yf(e,t,r,n,i){if(te.isFunction(n))return n.call(this,t,r);if(i&&(t=r),!!te.isString(t)){if(te.isString(n))return t.indexOf(n)!==-1;if(te.isRegExp(n))return n.test(t)}}function TT(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function CT(e,t){const r=te.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(i,s,o){return this[n].call(this,t,i,s,o)},configurable:!0})})}let Or=class{constructor(t){t&&this.set(t)}set(t,r,n){const i=this;function s(c,l,u){const d=Oo(l);if(!d)throw new Error("header name must be a non-empty string");const f=te.findKey(i,d);(!f||i[f]===void 0||u===!0||u===void 0&&i[f]!==!1)&&(i[f||l]=Gl(c))}const o=(c,l)=>te.forEach(c,(u,d)=>s(u,d,l));if(te.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(te.isString(t)&&(t=t.trim())&&!PT(t))o(_T(t),r);else if(te.isObject(t)&&te.isIterable(t)){let c={},l,u;for(const d of t){if(!te.isArray(d))throw TypeError("Object iterator must return a key-value pair");c[u=d[0]]=(l=c[u])?te.isArray(l)?[...l,d[1]]:[l,d[1]]:d[1]}o(c,r)}else t!=null&&s(r,t,n);return this}get(t,r){if(t=Oo(t),t){const n=te.findKey(this,t);if(n){const i=this[n];if(!r)return i;if(r===!0)return kT(i);if(te.isFunction(r))return r.call(this,i,n);if(te.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Oo(t),t){const n=te.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||Yf(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let i=!1;function s(o){if(o=Oo(o),o){const c=te.findKey(n,o);c&&(!r||Yf(n,n[c],c,r))&&(delete n[c],i=!0)}}return te.isArray(t)?t.forEach(s):s(t),i}clear(t){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const s=r[n];(!t||Yf(this,this[s],s,t,!0))&&(delete this[s],i=!0)}return i}normalize(t){const r=this,n={};return te.forEach(this,(i,s)=>{const o=te.findKey(n,s);if(o){r[o]=Gl(i),delete r[s];return}const c=t?TT(s):String(s).trim();c!==s&&delete r[s],r[c]=Gl(i),n[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return te.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=t&&te.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(i=>n.set(i)),n}static accessor(t){const n=(this[Jv]=this[Jv]={accessors:{}}).accessors,i=this.prototype;function s(o){const c=Oo(o);n[c]||(CT(i,o),n[c]=!0)}return te.isArray(t)?t.forEach(s):s(t),this}};Or.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);te.reduceDescriptors(Or.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});te.freezeMethods(Or);function Jf(e,t){const r=this||sl,n=t||r,i=Or.from(n.headers);let s=n.data;return te.forEach(e,function(c){s=c.call(r,s,i.normalize(),t?t.status:void 0)}),i.normalize(),s}function qw(e){return!!(e&&e.__CANCEL__)}function ao(e,t,r){Ze.call(this,e??"canceled",Ze.ERR_CANCELED,t,r),this.name="CanceledError"}te.inherits(ao,Ze,{__CANCEL__:!0});function Kw(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new Ze("Request failed with status code "+r.status,[Ze.ERR_BAD_REQUEST,Ze.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function ET(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function $T(e,t){e=e||10;const r=new Array(e),n=new Array(e);let i=0,s=0,o;return t=t!==void 0?t:1e3,function(l){const u=Date.now(),d=n[s];o||(o=u),r[i]=l,n[i]=u;let f=s,h=0;for(;f!==i;)h+=r[f++],f=f%e;if(i=(i+1)%e,i===s&&(s=(s+1)%e),u-o<t)return;const p=d&&u-d;return p?Math.round(h*1e3/p):void 0}}function DT(e,t){let r=0,n=1e3/t,i,s;const o=(u,d=Date.now())=>{r=d,i=null,s&&(clearTimeout(s),s=null),e.apply(null,u)};return[(...u)=>{const d=Date.now(),f=d-r;f>=n?o(u,d):(i=u,s||(s=setTimeout(()=>{s=null,o(i)},n-f)))},()=>i&&o(i)]}const iu=(e,t,r=3)=>{let n=0;const i=$T(50,250);return DT(s=>{const o=s.loaded,c=s.lengthComputable?s.total:void 0,l=o-n,u=i(l),d=o<=c;n=o;const f={loaded:o,total:c,progress:c?o/c:void 0,bytes:l,rate:u||void 0,estimated:u&&c&&d?(c-o)/u:void 0,event:s,lengthComputable:c!=null,[t?"download":"upload"]:!0};e(f)},r)},Qv=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},ex=e=>(...t)=>te.asap(()=>e(...t)),IT=fr.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,fr.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(fr.origin),fr.navigator&&/(msie|trident)/i.test(fr.navigator.userAgent)):()=>!0,MT=fr.hasStandardBrowserEnv?{write(e,t,r,n,i,s){const o=[e+"="+encodeURIComponent(t)];te.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),te.isString(n)&&o.push("path="+n),te.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function RT(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function LT(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Gw(e,t,r){let n=!RT(t);return e&&(n||r==!1)?LT(e,t):t}const tx=e=>e instanceof Or?{...e}:e;function _i(e,t){t=t||{};const r={};function n(u,d,f,h){return te.isPlainObject(u)&&te.isPlainObject(d)?te.merge.call({caseless:h},u,d):te.isPlainObject(d)?te.merge({},d):te.isArray(d)?d.slice():d}function i(u,d,f,h){if(te.isUndefined(d)){if(!te.isUndefined(u))return n(void 0,u,f,h)}else return n(u,d,f,h)}function s(u,d){if(!te.isUndefined(d))return n(void 0,d)}function o(u,d){if(te.isUndefined(d)){if(!te.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function c(u,d,f){if(f in t)return n(u,d);if(f in e)return n(void 0,u)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:c,headers:(u,d,f)=>i(tx(u),tx(d),f,!0)};return te.forEach(Object.keys(Object.assign({},e,t)),function(d){const f=l[d]||i,h=f(e[d],t[d],d);te.isUndefined(h)&&f!==c||(r[d]=h)}),r}const Zw=e=>{const t=_i({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:c}=t;t.headers=o=Or.from(o),t.url=Uw(Gw(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),c&&o.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let l;if(te.isFormData(r)){if(fr.hasStandardBrowserEnv||fr.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[u,...d]=l?l.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...d].join("; "))}}if(fr.hasStandardBrowserEnv&&(n&&te.isFunction(n)&&(n=n(t)),n||n!==!1&&IT(t.url))){const u=i&&s&&MT.read(s);u&&o.set(i,u)}return t},FT=typeof XMLHttpRequest<"u",BT=FT&&function(e){return new Promise(function(r,n){const i=Zw(e);let s=i.data;const o=Or.from(i.headers).normalize();let{responseType:c,onUploadProgress:l,onDownloadProgress:u}=i,d,f,h,p,g;function m(){p&&p(),g&&g(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let v=new XMLHttpRequest;v.open(i.method.toUpperCase(),i.url,!0),v.timeout=i.timeout;function y(){if(!v)return;const j=Or.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),N={data:!c||c==="text"||c==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:j,config:e,request:v};Kw(function(A){r(A),m()},function(A){n(A),m()},N),v=null}"onloadend"in v?v.onloadend=y:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(y)},v.onabort=function(){v&&(n(new Ze("Request aborted",Ze.ECONNABORTED,e,v)),v=null)},v.onerror=function(){n(new Ze("Network Error",Ze.ERR_NETWORK,e,v)),v=null},v.ontimeout=function(){let S=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const N=i.transitional||Ww;i.timeoutErrorMessage&&(S=i.timeoutErrorMessage),n(new Ze(S,N.clarifyTimeoutError?Ze.ETIMEDOUT:Ze.ECONNABORTED,e,v)),v=null},s===void 0&&o.setContentType(null),"setRequestHeader"in v&&te.forEach(o.toJSON(),function(S,N){v.setRequestHeader(N,S)}),te.isUndefined(i.withCredentials)||(v.withCredentials=!!i.withCredentials),c&&c!=="json"&&(v.responseType=i.responseType),u&&([h,g]=iu(u,!0),v.addEventListener("progress",h)),l&&v.upload&&([f,p]=iu(l),v.upload.addEventListener("progress",f),v.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(d=j=>{v&&(n(!j||j.type?new ao(null,e,v):j),v.abort(),v=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const b=ET(i.url);if(b&&fr.protocols.indexOf(b)===-1){n(new Ze("Unsupported protocol "+b+":",Ze.ERR_BAD_REQUEST,e));return}v.send(s||null)})},VT=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,i;const s=function(u){if(!i){i=!0,c();const d=u instanceof Error?u:this.reason;n.abort(d instanceof Ze?d:new ao(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,s(new Ze(`timeout ${t} of ms exceeded`,Ze.ETIMEDOUT))},t);const c=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),e=null)};e.forEach(u=>u.addEventListener("abort",s));const{signal:l}=n;return l.unsubscribe=()=>te.asap(c),l}},zT=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,i;for(;n<r;)i=n+t,yield e.slice(n,i),n=i},UT=async function*(e,t){for await(const r of WT(e))yield*zT(r,t)},WT=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},rx=(e,t,r,n)=>{const i=UT(e,t);let s=0,o,c=l=>{o||(o=!0,n&&n(l))};return new ReadableStream({async pull(l){try{const{done:u,value:d}=await i.next();if(u){c(),l.close();return}let f=d.byteLength;if(r){let h=s+=f;r(h)}l.enqueue(new Uint8Array(d))}catch(u){throw c(u),u}},cancel(l){return c(l),i.return()}},{highWaterMark:2})},zd=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Xw=zd&&typeof ReadableStream=="function",HT=zd&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Yw=(e,...t)=>{try{return!!e(...t)}catch{return!1}},qT=Xw&&Yw(()=>{let e=!1;const t=new Request(fr.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),nx=64*1024,em=Xw&&Yw(()=>te.isReadableStream(new Response("").body)),su={stream:em&&(e=>e.body)};zd&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!su[t]&&(su[t]=te.isFunction(e[t])?r=>r[t]():(r,n)=>{throw new Ze(`Response type '${t}' is not supported`,Ze.ERR_NOT_SUPPORT,n)})})})(new Response);const KT=async e=>{if(e==null)return 0;if(te.isBlob(e))return e.size;if(te.isSpecCompliantForm(e))return(await new Request(fr.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(te.isArrayBufferView(e)||te.isArrayBuffer(e))return e.byteLength;if(te.isURLSearchParams(e)&&(e=e+""),te.isString(e))return(await HT(e)).byteLength},GT=async(e,t)=>{const r=te.toFiniteNumber(e.getContentLength());return r??KT(t)},ZT=zd&&(async e=>{let{url:t,method:r,data:n,signal:i,cancelToken:s,timeout:o,onDownloadProgress:c,onUploadProgress:l,responseType:u,headers:d,withCredentials:f="same-origin",fetchOptions:h}=Zw(e);u=u?(u+"").toLowerCase():"text";let p=VT([i,s&&s.toAbortSignal()],o),g;const m=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let v;try{if(l&&qT&&r!=="get"&&r!=="head"&&(v=await GT(d,n))!==0){let N=new Request(t,{method:"POST",body:n,duplex:"half"}),w;if(te.isFormData(n)&&(w=N.headers.get("content-type"))&&d.setContentType(w),N.body){const[A,O]=Qv(v,iu(ex(l)));n=rx(N.body,nx,A,O)}}te.isString(f)||(f=f?"include":"omit");const y="credentials"in Request.prototype;g=new Request(t,{...h,signal:p,method:r.toUpperCase(),headers:d.normalize().toJSON(),body:n,duplex:"half",credentials:y?f:void 0});let b=await fetch(g,h);const j=em&&(u==="stream"||u==="response");if(em&&(c||j&&m)){const N={};["status","statusText","headers"].forEach(_=>{N[_]=b[_]});const w=te.toFiniteNumber(b.headers.get("content-length")),[A,O]=c&&Qv(w,iu(ex(c),!0))||[];b=new Response(rx(b.body,nx,A,()=>{O&&O(),m&&m()}),N)}u=u||"text";let S=await su[te.findKey(su,u)||"text"](b,e);return!j&&m&&m(),await new Promise((N,w)=>{Kw(N,w,{data:S,headers:Or.from(b.headers),status:b.status,statusText:b.statusText,config:e,request:g})})}catch(y){throw m&&m(),y&&y.name==="TypeError"&&/Load failed|fetch/i.test(y.message)?Object.assign(new Ze("Network Error",Ze.ERR_NETWORK,e,g),{cause:y.cause||y}):Ze.from(y,y&&y.code,e,g)}}),tm={http:uT,xhr:BT,fetch:ZT};te.forEach(tm,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const ax=e=>`- ${e}`,XT=e=>te.isFunction(e)||e===null||e===!1,Jw={getAdapter:e=>{e=te.isArray(e)?e:[e];const{length:t}=e;let r,n;const i={};for(let s=0;s<t;s++){r=e[s];let o;if(n=r,!XT(r)&&(n=tm[(o=String(r)).toLowerCase()],n===void 0))throw new Ze(`Unknown adapter '${o}'`);if(n)break;i[o||"#"+s]=n}if(!n){const s=Object.entries(i).map(([c,l])=>`adapter ${c} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=t?s.length>1?`since :
`+s.map(ax).join(`
`):" "+ax(s[0]):"as no adapter specified";throw new Ze("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:tm};function Qf(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ao(null,e)}function ix(e){return Qf(e),e.headers=Or.from(e.headers),e.data=Jf.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Jw.getAdapter(e.adapter||sl.adapter)(e).then(function(n){return Qf(e),n.data=Jf.call(e,e.transformResponse,n),n.headers=Or.from(n.headers),n},function(n){return qw(n)||(Qf(e),n&&n.response&&(n.response.data=Jf.call(e,e.transformResponse,n.response),n.response.headers=Or.from(n.response.headers))),Promise.reject(n)})}const Qw="1.10.0",Ud={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Ud[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const sx={};Ud.transitional=function(t,r,n){function i(s,o){return"[Axios v"+Qw+"] Transitional option '"+s+"'"+o+(n?". "+n:"")}return(s,o,c)=>{if(t===!1)throw new Ze(i(o," has been removed"+(r?" in "+r:"")),Ze.ERR_DEPRECATED);return r&&!sx[o]&&(sx[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(s,o,c):!0}};Ud.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function YT(e,t,r){if(typeof e!="object")throw new Ze("options must be an object",Ze.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let i=n.length;for(;i-- >0;){const s=n[i],o=t[s];if(o){const c=e[s],l=c===void 0||o(c,s,e);if(l!==!0)throw new Ze("option "+s+" must be "+l,Ze.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Ze("Unknown option "+s,Ze.ERR_BAD_OPTION)}}const Zl={assertOptions:YT,validators:Ud},Nn=Zl.validators;let xi=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Yv,response:new Yv}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=_i(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:s}=r;n!==void 0&&Zl.assertOptions(n,{silentJSONParsing:Nn.transitional(Nn.boolean),forcedJSONParsing:Nn.transitional(Nn.boolean),clarifyTimeoutError:Nn.transitional(Nn.boolean)},!1),i!=null&&(te.isFunction(i)?r.paramsSerializer={serialize:i}:Zl.assertOptions(i,{encode:Nn.function,serialize:Nn.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Zl.assertOptions(r,{baseUrl:Nn.spelling("baseURL"),withXsrfToken:Nn.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=s&&te.merge(s.common,s[r.method]);s&&te.forEach(["delete","get","head","post","put","patch","common"],g=>{delete s[g]}),r.headers=Or.concat(o,s);const c=[];let l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(r)===!1||(l=l&&m.synchronous,c.unshift(m.fulfilled,m.rejected))});const u=[];this.interceptors.response.forEach(function(m){u.push(m.fulfilled,m.rejected)});let d,f=0,h;if(!l){const g=[ix.bind(this),void 0];for(g.unshift.apply(g,c),g.push.apply(g,u),h=g.length,d=Promise.resolve(r);f<h;)d=d.then(g[f++],g[f++]);return d}h=c.length;let p=r;for(f=0;f<h;){const g=c[f++],m=c[f++];try{p=g(p)}catch(v){m.call(this,v);break}}try{d=ix.call(this,p)}catch(g){return Promise.reject(g)}for(f=0,h=u.length;f<h;)d=d.then(u[f++],u[f++]);return d}getUri(t){t=_i(this.defaults,t);const r=Gw(t.baseURL,t.url,t.allowAbsoluteUrls);return Uw(r,t.params,t.paramsSerializer)}};te.forEach(["delete","get","head","options"],function(t){xi.prototype[t]=function(r,n){return this.request(_i(n||{},{method:t,url:r,data:(n||{}).data}))}});te.forEach(["post","put","patch"],function(t){function r(n){return function(s,o,c){return this.request(_i(c||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}xi.prototype[t]=r(),xi.prototype[t+"Form"]=r(!0)});let JT=class e1{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(i=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](i);n._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(c=>{n.subscribe(c),s=c}).then(i);return o.cancel=function(){n.unsubscribe(s)},o},t(function(s,o,c){n.reason||(n.reason=new ao(s,o,c),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new e1(function(i){t=i}),cancel:t}}};function QT(e){return function(r){return e.apply(null,r)}}function e2(e){return te.isObject(e)&&e.isAxiosError===!0}const rm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(rm).forEach(([e,t])=>{rm[t]=e});function t1(e){const t=new xi(e),r=Cw(xi.prototype.request,t);return te.extend(r,xi.prototype,t,{allOwnKeys:!0}),te.extend(r,t,null,{allOwnKeys:!0}),r.create=function(i){return t1(_i(e,i))},r}const Rt=t1(sl);Rt.Axios=xi;Rt.CanceledError=ao;Rt.CancelToken=JT;Rt.isCancel=qw;Rt.VERSION=Qw;Rt.toFormData=Vd;Rt.AxiosError=Ze;Rt.Cancel=Rt.CanceledError;Rt.all=function(t){return Promise.all(t)};Rt.spread=QT;Rt.isAxiosError=e2;Rt.mergeConfig=_i;Rt.AxiosHeaders=Or;Rt.formToJSON=e=>Hw(te.isHTMLForm(e)?new FormData(e):e);Rt.getAdapter=Jw.getAdapter;Rt.HttpStatusCode=rm;Rt.default=Rt;const{Axios:sce,AxiosError:oce,CanceledError:cce,isCancel:lce,CancelToken:uce,VERSION:dce,all:fce,Cancel:hce,isAxiosError:mce,spread:pce,toFormData:gce,AxiosHeaders:vce,HttpStatusCode:xce,formToJSON:yce,getAdapter:bce,mergeConfig:jce}=Rt,t2="http://localhost:5002/api",Ne=Rt.create({baseURL:t2,headers:{"Content-Type":"application/json"}});Ne.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));Ne.interceptors.response.use(e=>e,e=>{var t,r,n,i,s,o;if(console.error("API Error:",{status:(t=e.response)==null?void 0:t.status,message:(n=(r=e.response)==null?void 0:r.data)==null?void 0:n.message,url:(i=e.config)==null?void 0:i.url,method:(s=e.config)==null?void 0:s.method}),((o=e.response)==null?void 0:o.status)===401){const c=window.location.pathname;["/booking","/lookup","/booking-confirmation"].includes(c)?console.log("Unauthorized on public route - continuing without auth"):(console.log("Unauthorized on protected route - logging out user"),localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login")}return Promise.reject(e)});const r2=async e=>(await Ne.post("/auth/register",e)).data,n2=async e=>(await Ne.post("/auth/login",e)).data,a2=async()=>(await Ne.get("/auth/profile")).data.user,r1=async e=>(await Ne.post("/auth/check-vip",{email:e})).data,i2=async e=>(await Ne.post("/auth/check-vip-code",{vipCode:e})).data;let s2={data:""},o2=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||s2,c2=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,l2=/\/\*[^]*?\*\/|  +/g,ox=/\n+/g,Ta=(e,t)=>{let r="",n="",i="";for(let s in e){let o=e[s];s[0]=="@"?s[1]=="i"?r=s+" "+o+";":n+=s[1]=="f"?Ta(o,s):s+"{"+Ta(o,s[1]=="k"?"":t)+"}":typeof o=="object"?n+=Ta(o,t?t.replace(/([^,])+/g,c=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,c):c?c+" "+l:l)):s):o!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Ta.p?Ta.p(s,o):s+":"+o+";")}return r+(t&&i?t+"{"+i+"}":i)+n},Xn={},n1=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+n1(e[r]);return t}return e},u2=(e,t,r,n,i)=>{let s=n1(e),o=Xn[s]||(Xn[s]=(l=>{let u=0,d=11;for(;u<l.length;)d=101*d+l.charCodeAt(u++)>>>0;return"go"+d})(s));if(!Xn[o]){let l=s!==e?e:(u=>{let d,f,h=[{}];for(;d=c2.exec(u.replace(l2,""));)d[4]?h.shift():d[3]?(f=d[3].replace(ox," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][d[1]]=d[2].replace(ox," ").trim();return h[0]})(e);Xn[o]=Ta(i?{["@keyframes "+o]:l}:l,r?"":"."+o)}let c=r&&Xn.g?Xn.g:null;return r&&(Xn.g=Xn[o]),((l,u,d,f)=>{f?u.data=u.data.replace(f,l):u.data.indexOf(l)===-1&&(u.data=d?l+u.data:u.data+l)})(Xn[o],t,n,c),o},d2=(e,t,r)=>e.reduce((n,i,s)=>{let o=t[s];if(o&&o.call){let c=o(r),l=c&&c.props&&c.props.className||/^go/.test(c)&&c;o=l?"."+l:c&&typeof c=="object"?c.props?"":Ta(c,""):c===!1?"":c}return n+i+(o??"")},"");function Wd(e){let t=this||{},r=e.call?e(t.p):e;return u2(r.unshift?r.raw?d2(r,[].slice.call(arguments,1),t.p):r.reduce((n,i)=>Object.assign(n,i&&i.call?i(t.p):i),{}):r,o2(t.target),t.g,t.o,t.k)}let a1,nm,am;Wd.bind({g:1});let ha=Wd.bind({k:1});function f2(e,t,r,n){Ta.p=t,a1=e,nm=r,am=n}function Ka(e,t){let r=this||{};return function(){let n=arguments;function i(s,o){let c=Object.assign({},s),l=c.className||i.className;r.p=Object.assign({theme:nm&&nm()},c),r.o=/ *go\d+/.test(l),c.className=Wd.apply(r,n)+(l?" "+l:"");let u=e;return e[0]&&(u=c.as||e,delete c.as),am&&u[0]&&am(c),a1(u,c)}return i}}var h2=e=>typeof e=="function",ou=(e,t)=>h2(e)?e(t):e,m2=(()=>{let e=0;return()=>(++e).toString()})(),i1=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),p2=20,s1=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,p2)};case 1:return{...e,toasts:e.toasts.map(s=>s.id===t.toast.id?{...s,...t.toast}:s)};case 2:let{toast:r}=t;return s1(e,{type:e.toasts.find(s=>s.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=t;return{...e,toasts:e.toasts.map(s=>s.id===n||n===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(s=>s.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+i}))}}},Xl=[],ui={toasts:[],pausedAt:void 0},Hi=e=>{ui=s1(ui,e),Xl.forEach(t=>{t(ui)})},g2={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},v2=(e={})=>{let[t,r]=x.useState(ui),n=x.useRef(ui);x.useEffect(()=>(n.current!==ui&&r(ui),Xl.push(r),()=>{let s=Xl.indexOf(r);s>-1&&Xl.splice(s,1)}),[]);let i=t.toasts.map(s=>{var o,c,l;return{...e,...e[s.type],...s,removeDelay:s.removeDelay||((o=e[s.type])==null?void 0:o.removeDelay)||(e==null?void 0:e.removeDelay),duration:s.duration||((c=e[s.type])==null?void 0:c.duration)||(e==null?void 0:e.duration)||g2[s.type],style:{...e.style,...(l=e[s.type])==null?void 0:l.style,...s.style}}});return{...t,toasts:i}},x2=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||m2()}),ol=e=>(t,r)=>{let n=x2(t,e,r);return Hi({type:2,toast:n}),n.id},Z=(e,t)=>ol("blank")(e,t);Z.error=ol("error");Z.success=ol("success");Z.loading=ol("loading");Z.custom=ol("custom");Z.dismiss=e=>{Hi({type:3,toastId:e})};Z.remove=e=>Hi({type:4,toastId:e});Z.promise=(e,t,r)=>{let n=Z.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(i=>{let s=t.success?ou(t.success,i):void 0;return s?Z.success(s,{id:n,...r,...r==null?void 0:r.success}):Z.dismiss(n),i}).catch(i=>{let s=t.error?ou(t.error,i):void 0;s?Z.error(s,{id:n,...r,...r==null?void 0:r.error}):Z.dismiss(n)}),e};var y2=(e,t)=>{Hi({type:1,toast:{id:e,height:t}})},b2=()=>{Hi({type:5,time:Date.now()})},Zo=new Map,j2=1e3,w2=(e,t=j2)=>{if(Zo.has(e))return;let r=setTimeout(()=>{Zo.delete(e),Hi({type:4,toastId:e})},t);Zo.set(e,r)},N2=e=>{let{toasts:t,pausedAt:r}=v2(e);x.useEffect(()=>{if(r)return;let s=Date.now(),o=t.map(c=>{if(c.duration===1/0)return;let l=(c.duration||0)+c.pauseDuration-(s-c.createdAt);if(l<0){c.visible&&Z.dismiss(c.id);return}return setTimeout(()=>Z.dismiss(c.id),l)});return()=>{o.forEach(c=>c&&clearTimeout(c))}},[t,r]);let n=x.useCallback(()=>{r&&Hi({type:6,time:Date.now()})},[r]),i=x.useCallback((s,o)=>{let{reverseOrder:c=!1,gutter:l=8,defaultPosition:u}=o||{},d=t.filter(p=>(p.position||u)===(s.position||u)&&p.height),f=d.findIndex(p=>p.id===s.id),h=d.filter((p,g)=>g<f&&p.visible).length;return d.filter(p=>p.visible).slice(...c?[h+1]:[0,h]).reduce((p,g)=>p+(g.height||0)+l,0)},[t]);return x.useEffect(()=>{t.forEach(s=>{if(s.dismissed)w2(s.id,s.removeDelay);else{let o=Zo.get(s.id);o&&(clearTimeout(o),Zo.delete(s.id))}})},[t]),{toasts:t,handlers:{updateHeight:y2,startPause:b2,endPause:n,calculateOffset:i}}},S2=ha`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,A2=ha`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,O2=ha`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,_2=Ka("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${S2} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${A2} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${O2} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,k2=ha`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,P2=Ka("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${k2} 1s linear infinite;
`,T2=ha`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,C2=ha`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,E2=Ka("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${T2} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${C2} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,$2=Ka("div")`
  position: absolute;
`,D2=Ka("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,I2=ha`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,M2=Ka("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${I2} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,R2=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?x.createElement(M2,null,t):t:r==="blank"?null:x.createElement(D2,null,x.createElement(P2,{...n}),r!=="loading"&&x.createElement($2,null,r==="error"?x.createElement(_2,{...n}):x.createElement(E2,{...n})))},L2=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,F2=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,B2="0%{opacity:0;} 100%{opacity:1;}",V2="0%{opacity:1;} 100%{opacity:0;}",z2=Ka("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,U2=Ka("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,W2=(e,t)=>{let r=e.includes("top")?1:-1,[n,i]=i1()?[B2,V2]:[L2(r),F2(r)];return{animation:t?`${ha(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ha(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},H2=x.memo(({toast:e,position:t,style:r,children:n})=>{let i=e.height?W2(e.position||t||"top-center",e.visible):{opacity:0},s=x.createElement(R2,{toast:e}),o=x.createElement(U2,{...e.ariaProps},ou(e.message,e));return x.createElement(z2,{className:e.className,style:{...i,...r,...e.style}},typeof n=="function"?n({icon:s,message:o}):x.createElement(x.Fragment,null,s,o))});f2(x.createElement);var q2=({id:e,className:t,style:r,onHeightUpdate:n,children:i})=>{let s=x.useCallback(o=>{if(o){let c=()=>{let l=o.getBoundingClientRect().height;n(e,l)};c(),new MutationObserver(c).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return x.createElement("div",{ref:s,className:t,style:r},i)},K2=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:i1()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...i}},G2=Wd`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Nl=16,Z2=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:i,containerStyle:s,containerClassName:o})=>{let{toasts:c,handlers:l}=N2(r);return x.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Nl,left:Nl,right:Nl,bottom:Nl,pointerEvents:"none",...s},className:o,onMouseEnter:l.startPause,onMouseLeave:l.endPause},c.map(u=>{let d=u.position||t,f=l.calculateOffset(u,{reverseOrder:e,gutter:n,defaultPosition:t}),h=K2(d,f);return x.createElement(q2,{id:u.id,key:u.id,onHeightUpdate:l.updateHeight,className:u.visible?G2:"",style:h},u.type==="custom"?ou(u.message,u):i?i(u):x.createElement(H2,{toast:u,position:d}))}))},_o=Z;const o1=x.createContext(void 0),io=()=>{const e=x.useContext(o1);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},X2=({children:e})=>{const[t,r]=x.useState(null),[n,i]=x.useState(null),[s,o]=x.useState(!0);x.useEffect(()=>{(async()=>{const h=localStorage.getItem("token"),p=localStorage.getItem("user");if(h&&p)try{i(h),r(JSON.parse(p)),await a2()}catch{localStorage.removeItem("token"),localStorage.removeItem("user"),i(null),r(null)}o(!1)})()},[]);const d={user:t,token:n,login:async(f,h)=>{var p,g;try{const m=await n2({email:f,password:h}),{token:v,user:y}=m;i(v),r(y),localStorage.setItem("token",v),localStorage.setItem("user",JSON.stringify(y)),_o.success("Đăng nhập thành công!")}catch(m){const v=((g=(p=m.response)==null?void 0:p.data)==null?void 0:g.error)||"Đăng nhập thất bại";throw _o.error(v),m}},register:async f=>{var h,p;try{const g=await r2(f),{token:m,user:v}=g;i(m),r(v),localStorage.setItem("token",m),localStorage.setItem("user",JSON.stringify(v)),_o.success("Đăng ký thành công!")}catch(g){const m=((p=(h=g.response)==null?void 0:h.data)==null?void 0:p.error)||"Đăng ký thất bại";throw _o.error(m),g}},logout:()=>{i(null),r(null),localStorage.removeItem("token"),localStorage.removeItem("user"),_o.success("Đăng xuất thành công!")},loading:s};return a.jsx(o1.Provider,{value:d,children:e})},Y2=x.createContext(void 0),J2=({children:e,defaultTheme:t="system",storageKey:r="vite-ui-theme"})=>{const[n,i]=x.useState(()=>localStorage.getItem(r)||t);x.useEffect(()=>{const o=window.document.documentElement;if(o.classList.remove("light","dark"),n==="system"){const c=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";o.classList.add(c)}else o.classList.add(n);localStorage.setItem(r,n)},[n,r]),x.useEffect(()=>{const o=window.matchMedia("(prefers-color-scheme: dark)"),c=()=>{if(n==="system"){const l=window.document.documentElement;l.classList.remove("light","dark");const u=o.matches?"dark":"light";l.classList.add(u)}};return o.addEventListener("change",c),()=>o.removeEventListener("change",c)},[n]);const s={theme:n,setTheme:o=>{localStorage.setItem(r,o),i(o)}};return a.jsx(Y2.Provider,{value:s,children:e})};function cx(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Q2(...e){return t=>{let r=!1;const n=e.map(i=>{const s=cx(i,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<n.length;i++){const s=n[i];typeof s=="function"?s():cx(e[i],null)}}}}function en(e){const t=tC(e),r=x.forwardRef((n,i)=>{const{children:s,...o}=n,c=x.Children.toArray(s),l=c.find(nC);if(l){const u=l.props.children,d=c.map(f=>f===l?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:i,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:i,children:s})});return r.displayName=`${e}.Slot`,r}var eC=en("Slot");function tC(e){const t=x.forwardRef((r,n)=>{const{children:i,...s}=r;if(x.isValidElement(i)){const o=iC(i),c=aC(s,i.props);return i.type!==x.Fragment&&(c.ref=n?Q2(n,o):o),x.cloneElement(i,c)}return x.Children.count(i)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var rC=Symbol("radix.slottable");function nC(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===rC}function aC(e,t){const r={...t};for(const n in t){const i=e[n],s=t[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...c)=>{const l=s(...c);return i(...c),l}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...e,...r}}function iC(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function c1(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=c1(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ge(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=c1(e))&&(n&&(n+=" "),n+=t);return n}const lx=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,ux=Ge,ng=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return ux(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:s}=t,o=Object.keys(i).map(u=>{const d=r==null?void 0:r[u],f=s==null?void 0:s[u];if(d===null)return null;const h=lx(d)||lx(f);return i[u][h]}),c=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),l=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(g=>{let[m,v]=g;return Array.isArray(v)?v.includes({...s,...c}[m]):{...s,...c}[m]===v})?[...u,f,h]:u},[]);return ux(e,o,l,r==null?void 0:r.class,r==null?void 0:r.className)},ag="-",sC=e=>{const t=cC(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const c=o.split(ag);return c[0]===""&&c.length!==1&&c.shift(),l1(c,t)||oC(o)},getConflictingClassGroupIds:(o,c)=>{const l=r[o]||[];return c&&n[o]?[...l,...n[o]]:l}}},l1=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),i=n?l1(e.slice(1),n):void 0;if(i)return i;if(t.validators.length===0)return;const s=e.join(ag);return(o=t.validators.find(({validator:c})=>c(s)))==null?void 0:o.classGroupId},dx=/^\[(.+)\]$/,oC=e=>{if(dx.test(e)){const t=dx.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},cC=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return uC(Object.entries(e.classGroups),r).forEach(([s,o])=>{im(o,n,s,t)}),n},im=(e,t,r,n)=>{e.forEach(i=>{if(typeof i=="string"){const s=i===""?t:fx(t,i);s.classGroupId=r;return}if(typeof i=="function"){if(lC(i)){im(i(n),t,r,n);return}t.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([s,o])=>{im(o,fx(t,s),r,n)})})},fx=(e,t)=>{let r=e;return t.split(ag).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},lC=e=>e.isThemeGetter,uC=(e,t)=>t?e.map(([r,n])=>{const i=n.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,c])=>[t+o,c])):s);return[r,i]}):e,dC=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const i=(s,o)=>{r.set(s,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(s){let o=r.get(s);if(o!==void 0)return o;if((o=n.get(s))!==void 0)return i(s,o),o},set(s,o){r.has(s)?r.set(s,o):i(s,o)}}},u1="!",fC=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,i=t[0],s=t.length,o=c=>{const l=[];let u=0,d=0,f;for(let v=0;v<c.length;v++){let y=c[v];if(u===0){if(y===i&&(n||c.slice(v,v+s)===t)){l.push(c.slice(d,v)),d=v+s;continue}if(y==="/"){f=v;continue}}y==="["?u++:y==="]"&&u--}const h=l.length===0?c:c.substring(d),p=h.startsWith(u1),g=p?h.substring(1):h,m=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:m}};return r?c=>r({className:c,parseClassName:o}):o},hC=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},mC=e=>({cache:dC(e.cacheSize),parseClassName:fC(e),...sC(e)}),pC=/\s+/,gC=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=t,s=[],o=e.trim().split(pC);let c="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=r(u);let g=!!p,m=n(g?h.substring(0,p):h);if(!m){if(!g){c=u+(c.length>0?" "+c:c);continue}if(m=n(h),!m){c=u+(c.length>0?" "+c:c);continue}g=!1}const v=hC(d).join(":"),y=f?v+u1:v,b=y+m;if(s.includes(b))continue;s.push(b);const j=i(m,g);for(let S=0;S<j.length;++S){const N=j[S];s.push(y+N)}c=u+(c.length>0?" "+c:c)}return c};function vC(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=d1(t))&&(n&&(n+=" "),n+=r);return n}const d1=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=d1(e[n]))&&(r&&(r+=" "),r+=t);return r};function xC(e,...t){let r,n,i,s=o;function o(l){const u=t.reduce((d,f)=>f(d),e());return r=mC(u),n=r.cache.get,i=r.cache.set,s=c,c(l)}function c(l){const u=n(l);if(u)return u;const d=gC(l,r);return i(l,d),d}return function(){return s(vC.apply(null,arguments))}}const Ot=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},f1=/^\[(?:([a-z-]+):)?(.+)\]$/i,yC=/^\d+\/\d+$/,bC=new Set(["px","full","screen"]),jC=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,wC=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,NC=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,SC=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,AC=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Yn=e=>gs(e)||bC.has(e)||yC.test(e),Sa=e=>so(e,"length",$C),gs=e=>!!e&&!Number.isNaN(Number(e)),eh=e=>so(e,"number",gs),ko=e=>!!e&&Number.isInteger(Number(e)),OC=e=>e.endsWith("%")&&gs(e.slice(0,-1)),Je=e=>f1.test(e),Aa=e=>jC.test(e),_C=new Set(["length","size","percentage"]),kC=e=>so(e,_C,h1),PC=e=>so(e,"position",h1),TC=new Set(["image","url"]),CC=e=>so(e,TC,IC),EC=e=>so(e,"",DC),Po=()=>!0,so=(e,t,r)=>{const n=f1.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},$C=e=>wC.test(e)&&!NC.test(e),h1=()=>!1,DC=e=>SC.test(e),IC=e=>AC.test(e),MC=()=>{const e=Ot("colors"),t=Ot("spacing"),r=Ot("blur"),n=Ot("brightness"),i=Ot("borderColor"),s=Ot("borderRadius"),o=Ot("borderSpacing"),c=Ot("borderWidth"),l=Ot("contrast"),u=Ot("grayscale"),d=Ot("hueRotate"),f=Ot("invert"),h=Ot("gap"),p=Ot("gradientColorStops"),g=Ot("gradientColorStopPositions"),m=Ot("inset"),v=Ot("margin"),y=Ot("opacity"),b=Ot("padding"),j=Ot("saturate"),S=Ot("scale"),N=Ot("sepia"),w=Ot("skew"),A=Ot("space"),O=Ot("translate"),_=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],C=()=>["auto",Je,t],E=()=>[Je,t],k=()=>["",Yn,Sa],$=()=>["auto",gs,Je],T=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],M=()=>["solid","dashed","dotted","double","none"],D=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],W=()=>["start","end","center","between","around","evenly","stretch"],R=()=>["","0",Je],Y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],F=()=>[gs,Je];return{cacheSize:500,separator:":",theme:{colors:[Po],spacing:[Yn,Sa],blur:["none","",Aa,Je],brightness:F(),borderColor:[e],borderRadius:["none","","full",Aa,Je],borderSpacing:E(),borderWidth:k(),contrast:F(),grayscale:R(),hueRotate:F(),invert:R(),gap:E(),gradientColorStops:[e],gradientColorStopPositions:[OC,Sa],inset:C(),margin:C(),opacity:F(),padding:E(),saturate:F(),scale:F(),sepia:R(),skew:F(),space:E(),translate:E()},classGroups:{aspect:[{aspect:["auto","square","video",Je]}],container:["container"],columns:[{columns:[Aa]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...T(),Je]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:_()}],"overscroll-x":[{"overscroll-x":_()}],"overscroll-y":[{"overscroll-y":_()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ko,Je]}],basis:[{basis:C()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Je]}],grow:[{grow:R()}],shrink:[{shrink:R()}],order:[{order:["first","last","none",ko,Je]}],"grid-cols":[{"grid-cols":[Po]}],"col-start-end":[{col:["auto",{span:["full",ko,Je]},Je]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[Po]}],"row-start-end":[{row:["auto",{span:[ko,Je]},Je]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Je]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Je]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...W()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...W(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...W(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Je,t]}],"min-w":[{"min-w":[Je,t,"min","max","fit"]}],"max-w":[{"max-w":[Je,t,"none","full","min","max","fit","prose",{screen:[Aa]},Aa]}],h:[{h:[Je,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Je,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Je,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Je,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Aa,Sa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",eh]}],"font-family":[{font:[Po]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Je]}],"line-clamp":[{"line-clamp":["none",gs,eh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Yn,Je]}],"list-image":[{"list-image":["none",Je]}],"list-style-type":[{list:["none","disc","decimal",Je]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...M(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Yn,Sa]}],"underline-offset":[{"underline-offset":["auto",Yn,Je]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Je]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Je]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...T(),PC]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",kC]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},CC]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...M(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:M()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...M()]}],"outline-offset":[{"outline-offset":[Yn,Je]}],"outline-w":[{outline:[Yn,Sa]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:k()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Yn,Sa]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Aa,EC]}],"shadow-color":[{shadow:[Po]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...D(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":D()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Aa,Je]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[j]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[j]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Je]}],duration:[{duration:F()}],ease:[{ease:["linear","in","out","in-out",Je]}],delay:[{delay:F()}],animate:[{animate:["none","spin","ping","pulse","bounce",Je]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[ko,Je]}],"translate-x":[{"translate-x":[O]}],"translate-y":[{"translate-y":[O]}],"skew-x":[{"skew-x":[w]}],"skew-y":[{"skew-y":[w]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Je]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Je]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Je]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Yn,Sa,eh]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},RC=xC(MC);function Qe(...e){return RC(Ge(e))}const LC=ng("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),q=x.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...i},s)=>{const o=n?eC:"button";return a.jsx(o,{className:Qe(LC({variant:t,size:r,className:e})),ref:s,...i})});q.displayName="Button";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var FC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BC=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Pe=(e,t)=>{const r=x.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:c="",children:l,...u},d)=>x.createElement("svg",{ref:d,...FC,width:i,height:i,stroke:n,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${BC(e)}`,c].join(" "),...u},[...t.map(([f,h])=>x.createElement(f,h)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VC=Pe("Accessibility",[["circle",{cx:"16",cy:"4",r:"1",key:"1grugj"}],["path",{d:"m18 19 1-7-6 1",key:"r0i19z"}],["path",{d:"m5 8 3-3 5.5 3-2.36 3.5",key:"9ptxx2"}],["path",{d:"M4.24 14.5a5 5 0 0 0 6.88 6",key:"10kmtu"}],["path",{d:"M13.76 17.5a5 5 0 0 0-6.88-6",key:"2qq6rc"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zC=Pe("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=Pe("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=Pe("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UC=Pe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=Pe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1=Pe("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yl=Pe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HC=Pe("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qC=Pe("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=Pe("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=Pe("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=Pe("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p1=Pe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g1=Pe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const th=Pe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rh=Pe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=Pe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _r=Pe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jl=Pe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=Pe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const To=Pe("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=Pe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1=Pe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=Pe("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1=Pe("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yi=Pe("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bi=Pe("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=Pe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hx=Pe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=Pe("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cu=Pe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mx=Pe("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1=Pe("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sg=Pe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=Pe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ki=Pe("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const og=Pe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b1=Pe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=Pe("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=Pe("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=Pe("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=Pe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=Pe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1=Pe("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cg=Pe("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=Pe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wo=Pe("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hr=Pe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=Pe("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ic=Pe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lu=Pe("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sm=Pe("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=Pe("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Co=Pe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=Pe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uu=Pe("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eE=Pe("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2",key:"187lwq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=Pe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const du=Pe("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=Pe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nr=Pe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=Pe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tE=Pe("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qr=Pe("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cl=Pe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rE=Pe("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),nE=()=>{const{user:e,logout:t}=io(),r=$d(),[n,i]=x.useState(!1),s=o=>r.pathname===o;return a.jsx("header",{className:"border-b bg-[#39653f] text-white",children:a.jsxs("div",{className:"container mx-auto px-4 py-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Er,{to:"/",className:"flex items-center space-x-2",children:a.jsx("img",{src:"/logo.png",alt:"晶順出國停車場",className:"h-8 w-auto"})}),a.jsxs("nav",{className:"hidden md:flex items-center space-x-6",children:[a.jsx(Er,{to:"/",className:`text-sm font-medium transition-colors hover:text-white/80 ${s("/")||s("/booking")?"text-white":"text-white/70"}`,children:"線上預約"}),a.jsx(Er,{to:"/lookup",className:`text-sm font-medium transition-colors hover:text-white/80 ${s("/lookup")?"text-white":"text-white/70"}`,children:"查詢預約"})]}),a.jsx("div",{className:"md:hidden",children:a.jsx(q,{variant:"ghost",size:"sm",className:"text-white hover:bg-white/10",onClick:()=>i(!n),children:n?a.jsx(cl,{className:"h-5 w-5"}):a.jsx(og,{className:"h-5 w-5"})})}),a.jsx("div",{className:"flex items-center space-x-4",children:e?a.jsxs("div",{className:"flex items-center space-x-4",children:[e.role==="admin"&&a.jsx(Er,{to:"/admin/dashboard",children:a.jsx(q,{variant:"outline",size:"sm",className:"text-white bg-[#39653f] border-white hover:bg-white/10",children:"Admin Panel"})}),e.role==="staff"&&a.jsx(Er,{to:"/staff/dashboard",children:a.jsx(q,{variant:"outline",size:"sm",className:"text-white border-white hover:bg-white/10",children:"Staff Panel"})}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Nr,{className:"h-4 w-4 text-white"}),a.jsx("span",{className:"text-sm font-medium text-white",children:e.name}),e.isVIP&&a.jsx("span",{className:"bg-yellow-100 text-yellow-800 text-xs px-2 py-1 rounded-full",children:"VIP"})]}),a.jsx(q,{variant:"ghost",size:"sm",className:"text-white hover:bg-white/10",onClick:t,children:a.jsx(sg,{className:"h-4 w-4"})})]}):a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Er,{to:"/login",children:a.jsx(q,{variant:"ghost",size:"sm",className:"text-white hover:bg-white/10",children:"登入"})}),a.jsx(Er,{to:"/register",children:a.jsx(q,{size:"sm",className:"bg-white text-[#39653f] hover:bg-white/90",children:"註冊"})})]})})]}),n&&a.jsx("div",{className:"md:hidden border-t border-white/20 bg-[#39653f]",children:a.jsxs("div",{className:"px-4 py-2 space-y-1",children:[a.jsx(Er,{to:"/",className:`block px-3 py-2 rounded-md text-sm font-medium transition-colors ${s("/")||s("/booking")?"bg-white/20 text-white":"text-white/70 hover:text-white hover:bg-white/10"}`,onClick:()=>i(!1),children:"線上預約"}),a.jsx(Er,{to:"/lookup",className:`block px-3 py-2 rounded-md text-sm font-medium transition-colors ${s("/lookup")?"bg-white/20 text-white":"text-white/70 hover:text-white hover:bg-white/10"}`,onClick:()=>i(!1),children:"查詢預約"})]})})]})})},aE=()=>a.jsx("footer",{className:"bg-[#39653f] text-white",children:a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsxs("div",{className:"text-center space-y-6",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("img",{src:"/logo.png",alt:"晶順出國停車場",className:"h-12 w-auto"})}),a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx("p",{className:"text-white/90 leading-relaxed text-lg",children:"晶順出國停車場位於大園區，桃園機場外圍。我們提供多元化的停車服務，包括露天停車場與室內停車場，滿足不同出國的顧客需求。此外，我們還提供24小時免費機場接送服務，確保您從停車場到機場航廈的過程快速、安全、無縫銜接，讓您的旅程從一開始就充滿愉快與便利…"}),a.jsx("div",{className:"mt-4",children:a.jsx("a",{href:"https://jingparking.com/about-us/",target:"_blank",rel:"noopener noreferrer",className:"text-white font-semibold hover:text-white/80 transition-colors",children:"繼續了解我們"})})]})]})})}),iE=()=>a.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[a.jsx(nE,{}),a.jsx("main",{className:"flex-1 container mx-auto px-4 py-8",children:a.jsx(Dd,{})}),a.jsx(aE,{})]}),sE=()=>{const{logout:e,user:t}=io(),r=$d(),[n,i]=I.useState(!1),s=()=>{e(),Z.success("登出成功")},c=(()=>{const u=[{path:"/admin",icon:y1,label:"儀表板",exact:!0,roles:["admin","staff"]},{path:"/admin/bookings",icon:Dt,label:"預約",exact:!1,roles:["admin","staff"]}],d=[{path:"/admin/users",icon:aa,label:"用戶",exact:!1,roles:["admin"]},{path:"/admin/parking-types",icon:HC,label:"停車場",exact:!1,roles:["admin"]},{path:"/admin/services",icon:ls,label:"附加服務",exact:!1,roles:["admin"]},{path:"/admin/discounts",icon:uu,label:"折扣碼",exact:!1,roles:["admin"]},{path:"/admin/notifications",icon:b1,label:"通知",exact:!1,roles:["admin"]},{path:"/admin/maintenance",icon:tE,label:"維護日期",exact:!1,roles:["admin"]},{path:"/admin/special-pricing",icon:la,label:"特殊價格",exact:!1,roles:["admin"]},{path:"/admin/manual-booking",icon:Wr,label:"手動預約",exact:!1,roles:["admin","staff"]},{path:"/admin/today-overview",icon:_r,label:"今日概覽",exact:!1,roles:["admin","staff"]},{path:"/admin/settings",icon:ic,label:"系統設定",exact:!1,roles:["admin"]}];return[...u,...d].filter(f=>f.roles.includes((t==null?void 0:t.role)||"user"))})(),l=(u,d=!1)=>d?r.pathname===u:r.pathname.startsWith(u);return a.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[n&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>i(!1)}),a.jsx("aside",{className:`
        fixed inset-y-0 left-0 z-50 w-64 bg-[#39653f] shadow-lg transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0
        ${n?"translate-x-0":"-translate-x-full"}
      `,children:a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/20",children:[a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx("img",{src:"/logo.png",alt:"晶順出國停車場",className:"h-8 w-auto"})}),a.jsx(q,{variant:"ghost",size:"sm",className:"lg:hidden text-white hover:bg-white/10",onClick:()=>i(!1),children:a.jsx(cl,{className:"h-4 w-4"})})]}),a.jsx("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:c.map(u=>{const d=u.icon;return a.jsxs(Er,{to:u.path,className:`
                    flex items-center space-x-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors
                    ${l(u.path,u.exact)?"bg-white/20 text-white border-r-2 border-white":"text-white/70 hover:bg-white/10 hover:text-white"}
                  `,onClick:()=>i(!1),children:[a.jsx(d,{className:"h-5 w-5"}),a.jsx("span",{children:u.label})]},u.path)})}),a.jsx("div",{className:"p-4 border-t border-white/20",children:a.jsxs(q,{variant:"ghost",className:"w-full justify-start text-white/70 hover:text-white hover:bg-white/10",onClick:s,children:[a.jsx(sg,{className:"h-5 w-5 mr-3"}),"登出"]})})]})}),a.jsxs("div",{className:"flex-1 flex flex-col lg:ml-0",children:[a.jsxs("header",{className:"bg-white shadow-sm border-b px-4 py-3 flex items-center justify-between",children:[a.jsx(q,{variant:"ghost",size:"sm",className:"lg:hidden",onClick:()=>i(!0),children:a.jsx(og,{className:"h-5 w-5"})}),a.jsx("div",{className:"flex items-center space-x-4",children:a.jsxs("div",{className:"text-sm text-gray-600",children:["Chào mừng, ",(t==null?void 0:t.role)==="admin"?"Admin":"Staff"]})})]}),a.jsx("main",{className:"flex-1 p-6 overflow-auto",children:a.jsx(Dd,{})})]})]})},oE=()=>{const{logout:e}=io(),t=$d(),[r,n]=I.useState(!1),i=()=>{e(),Z.success("登出成功")},s=[{path:"/staff",icon:y1,label:"儀表板",exact:!0},{path:"/staff/bookings",icon:Dt,label:"預約",exact:!1}],o=(c,l=!1)=>l?t.pathname===c:t.pathname.startsWith(c);return a.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[r&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>n(!1)}),a.jsx("aside",{className:`
        fixed inset-y-0 left-0 z-50 w-64 bg-[#39653f] shadow-lg transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0
        ${r?"translate-x-0":"-translate-x-full"}
      `,children:a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/20",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("img",{src:"/logo.png",alt:"晶順出國停車場",className:"h-8 w-auto"}),a.jsx("span",{className:"text-lg font-semibold text-white",children:"晶順出國停車場"})]}),a.jsx(q,{variant:"ghost",size:"sm",className:"lg:hidden",onClick:()=>n(!1),children:a.jsx(cl,{className:"h-4 w-4"})})]}),a.jsx("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:s.map(c=>{const l=c.icon;return a.jsxs(Er,{to:c.path,className:`
                    flex items-center space-x-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors
                    ${o(c.path,c.exact)?"bg-white/20 text-white border-r-2 border-white":"text-white/70 hover:bg-white/10 hover:text-white"}
                  `,onClick:()=>n(!1),children:[a.jsx(l,{className:"h-5 w-5"}),a.jsx("span",{children:c.label})]},c.path)})}),a.jsx("div",{className:"p-4 border-t",children:a.jsxs(q,{variant:"ghost",className:"w-full justify-start text-white/70 hover:text-white hover:bg-white/10",onClick:i,children:[a.jsx(sg,{className:"h-5 w-5 mr-3"}),"Đăng xuất"]})})]})}),a.jsxs("div",{className:"flex-1 flex flex-col lg:ml-0",children:[a.jsxs("header",{className:"bg-white shadow-sm border-b px-4 py-3 flex items-center justify-between",children:[a.jsx(q,{variant:"ghost",size:"sm",className:"lg:hidden",onClick:()=>n(!0),children:a.jsx(og,{className:"h-5 w-5"})}),a.jsx("div",{className:"flex items-center space-x-4",children:a.jsx("div",{className:"text-sm text-gray-600",children:"Chào mừng, Staff"})})]}),a.jsx("main",{className:"flex-1 p-6 overflow-auto",children:a.jsx(Dd,{})})]})]})},le=x.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:Qe("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));le.displayName="Card";const ge=x.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:Qe("flex flex-col space-y-1.5 p-6",e),...t}));ge.displayName="CardHeader";const ve=x.forwardRef(({className:e,...t},r)=>a.jsx("h3",{ref:r,className:Qe("text-2xl font-semibold leading-none tracking-tight",e),...t}));ve.displayName="CardTitle";const tt=x.forwardRef(({className:e,...t},r)=>a.jsx("p",{ref:r,className:Qe("text-sm text-muted-foreground",e),...t}));tt.displayName="CardDescription";const ue=x.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:Qe("p-6 pt-0",e),...t}));ue.displayName="CardContent";const cE=x.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:Qe("flex items-center p-6 pt-0",e),...t}));cE.displayName="CardFooter";const oe=x.forwardRef(({className:e,type:t,...r},n)=>a.jsx("input",{type:t,className:Qe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));oe.displayName="Input";function px(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function w1(...e){return t=>{let r=!1;const n=e.map(i=>{const s=px(i,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<n.length;i++){const s=n[i];typeof s=="function"?s():px(e[i],null)}}}}function lE(...e){return x.useCallback(w1(...e),e)}var N1=x.forwardRef((e,t)=>{const{children:r,...n}=e,i=x.Children.toArray(r),s=i.find(dE);if(s){const o=s.props.children,c=i.map(l=>l===s?x.Children.count(o)>1?x.Children.only(null):x.isValidElement(o)?o.props.children:null:l);return a.jsx(om,{...n,ref:t,children:x.isValidElement(o)?x.cloneElement(o,void 0,c):null})}return a.jsx(om,{...n,ref:t,children:r})});N1.displayName="Slot";var om=x.forwardRef((e,t)=>{const{children:r,...n}=e;if(x.isValidElement(r)){const i=hE(r),s=fE(n,r.props);return r.type!==x.Fragment&&(s.ref=t?w1(t,i):i),x.cloneElement(r,s)}return x.Children.count(r)>1?x.Children.only(null):null});om.displayName="SlotClone";var uE=({children:e})=>a.jsx(a.Fragment,{children:e});function dE(e){return x.isValidElement(e)&&e.type===uE}function fE(e,t){const r={...t};for(const n in t){const i=e[n],s=t[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...c)=>{s(...c),i(...c)}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...e,...r}}function hE(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var mE=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],lg=mE.reduce((e,t)=>{const r=x.forwardRef((n,i)=>{const{asChild:s,...o}=n,c=s?N1:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...o,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),pE="Label",S1=x.forwardRef((e,t)=>a.jsx(lg.label,{...e,ref:t,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));S1.displayName=pE;var A1=S1;const gE=ng("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),K=x.forwardRef(({className:e,...t},r)=>a.jsx(A1,{ref:r,className:Qe(gE(),e),...t}));K.displayName=A1.displayName;const vE=ng("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Me({className:e,variant:t,...r}){return a.jsx("div",{className:Qe(vE({variant:t}),e),...r})}function gx(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function xE(...e){return t=>{let r=!1;const n=e.map(i=>{const s=gx(i,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<n.length;i++){const s=n[i];typeof s=="function"?s():gx(e[i],null)}}}}function ug(...e){return x.useCallback(xE(...e),e)}function yE(e,t=[]){let r=[];function n(s,o){const c=x.createContext(o),l=r.length;r=[...r,o];const u=f=>{var y;const{scope:h,children:p,...g}=f,m=((y=h==null?void 0:h[e])==null?void 0:y[l])||c,v=x.useMemo(()=>g,Object.values(g));return a.jsx(m.Provider,{value:v,children:p})};u.displayName=s+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[l])||c,g=x.useContext(p);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=r.map(o=>x.createContext(o));return function(c){const l=(c==null?void 0:c[e])||s;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:l}}),[c,l])}};return i.scopeName=e,[n,bE(i,...t)]}function bE(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=n.reduce((c,{useScope:l,scopeName:u})=>{const f=l(s)[`__scope${u}`];return{...c,...f}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function vx(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e==null||e(i),r===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}var fu=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},jE=Wi[" useInsertionEffect ".trim().toString()]||fu;function wE({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[i,s,o]=NE({defaultProp:t,onChange:r}),c=e!==void 0,l=c?e:i;{const d=x.useRef(e!==void 0);x.useEffect(()=>{const f=d.current;f!==c&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=c},[c,n])}const u=x.useCallback(d=>{var f;if(c){const h=SE(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else s(d)},[c,e,s,o]);return[l,u]}function NE({defaultProp:e,onChange:t}){const[r,n]=x.useState(e),i=x.useRef(r),s=x.useRef(t);return jE(()=>{s.current=t},[t]),x.useEffect(()=>{var o;i.current!==r&&((o=s.current)==null||o.call(s,r),i.current=r)},[r,i]),[r,n,s]}function SE(e){return typeof e=="function"}function AE(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function OE(e){const[t,r]=x.useState(void 0);return fu(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,c;if("borderBoxSize"in s){const l=s.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,c=u.blockSize}else o=e.offsetWidth,c=e.offsetHeight;r({width:o,height:c})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}function _E(e,t){return x.useReducer((r,n)=>t[r][n]??r,e)}var O1=e=>{const{present:t,children:r}=e,n=kE(t),i=typeof r=="function"?r({present:n.isPresent}):x.Children.only(r),s=ug(n.ref,PE(i));return typeof r=="function"||n.isPresent?x.cloneElement(i,{ref:s}):null};O1.displayName="Presence";function kE(e){const[t,r]=x.useState(),n=x.useRef(null),i=x.useRef(e),s=x.useRef("none"),o=e?"mounted":"unmounted",[c,l]=_E(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const u=Sl(n.current);s.current=c==="mounted"?u:"none"},[c]),fu(()=>{const u=n.current,d=i.current;if(d!==e){const h=s.current,p=Sl(u);e?l("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,l]),fu(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const m=Sl(n.current).includes(p.animationName);if(p.target===t&&m&&(l("ANIMATION_END"),!i.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},h=p=>{p.target===t&&(s.current=Sl(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:x.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Sl(e){return(e==null?void 0:e.animationName)||"none"}function PE(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var TE=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],dg=TE.reduce((e,t)=>{const r=en(`Primitive.${t}`),n=x.forwardRef((i,s)=>{const{asChild:o,...c}=i,l=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(l,{...c,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),Hd="Checkbox",[CE,wce]=yE(Hd),[EE,fg]=CE(Hd);function $E(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:i,disabled:s,form:o,name:c,onCheckedChange:l,required:u,value:d="on",internal_do_not_use_render:f}=e,[h,p]=wE({prop:r,defaultProp:i??!1,onChange:l,caller:Hd}),[g,m]=x.useState(null),[v,y]=x.useState(null),b=x.useRef(!1),j=g?!!o||!!g.closest("form"):!0,S={checked:h,disabled:s,setChecked:p,control:g,setControl:m,name:c,form:o,value:d,hasConsumerStoppedPropagationRef:b,required:u,defaultChecked:Ma(i)?!1:i,isFormControl:j,bubbleInput:v,setBubbleInput:y};return a.jsx(EE,{scope:t,...S,children:DE(f)?f(S):n})}var _1="CheckboxTrigger",k1=x.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},i)=>{const{control:s,value:o,disabled:c,checked:l,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:p,bubbleInput:g}=fg(_1,e),m=ug(i,d),v=x.useRef(l);return x.useEffect(()=>{const y=s==null?void 0:s.form;if(y){const b=()=>f(v.current);return y.addEventListener("reset",b),()=>y.removeEventListener("reset",b)}},[s,f]),a.jsx(dg.button,{type:"button",role:"checkbox","aria-checked":Ma(l)?"mixed":l,"aria-required":u,"data-state":$1(l),"data-disabled":c?"":void 0,disabled:c,value:o,...n,ref:m,onKeyDown:vx(t,y=>{y.key==="Enter"&&y.preventDefault()}),onClick:vx(r,y=>{f(b=>Ma(b)?!0:!b),g&&p&&(h.current=y.isPropagationStopped(),h.current||y.stopPropagation())})})});k1.displayName=_1;var hg=x.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:i,defaultChecked:s,required:o,disabled:c,value:l,onCheckedChange:u,form:d,...f}=e;return a.jsx($E,{__scopeCheckbox:r,checked:i,defaultChecked:s,disabled:c,required:o,onCheckedChange:u,name:n,form:d,value:l,internal_do_not_use_render:({isFormControl:h})=>a.jsxs(a.Fragment,{children:[a.jsx(k1,{...f,ref:t,__scopeCheckbox:r}),h&&a.jsx(E1,{__scopeCheckbox:r})]})})});hg.displayName=Hd;var P1="CheckboxIndicator",T1=x.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...i}=e,s=fg(P1,r);return a.jsx(O1,{present:n||Ma(s.checked)||s.checked===!0,children:a.jsx(dg.span,{"data-state":$1(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});T1.displayName=P1;var C1="CheckboxBubbleInput",E1=x.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:i,checked:s,defaultChecked:o,required:c,disabled:l,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:p}=fg(C1,e),g=ug(r,p),m=AE(s),v=OE(n);x.useEffect(()=>{const b=h;if(!b)return;const j=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(j,"checked").set,w=!i.current;if(m!==s&&N){const A=new Event("click",{bubbles:w});b.indeterminate=Ma(s),N.call(b,Ma(s)?!1:s),b.dispatchEvent(A)}},[h,m,s,i]);const y=x.useRef(Ma(s)?!1:s);return a.jsx(dg.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??y.current,required:c,disabled:l,name:u,value:d,form:f,...t,tabIndex:-1,ref:g,style:{...t.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});E1.displayName=C1;function DE(e){return typeof e=="function"}function Ma(e){return e==="indeterminate"}function $1(e){return Ma(e)?"indeterminate":e?"checked":"unchecked"}const $a=x.forwardRef(({className:e,...t},r)=>a.jsx(hg,{ref:r,className:Qe("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:a.jsx(T1,{className:Qe("flex items-center justify-center text-current"),children:a.jsx(p1,{className:"h-4 w-4"})})}));$a.displayName=hg.displayName;const tr=x.forwardRef(({className:e,...t},r)=>a.jsx("textarea",{className:Qe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...t}));tr.displayName="Textarea";var IE=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ME=IE.reduce((e,t)=>{const r=en(`Primitive.${t}`),n=x.forwardRef((i,s)=>{const{asChild:o,...c}=i,l=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(l,{...c,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),RE="Separator",xx="horizontal",LE=["horizontal","vertical"],D1=x.forwardRef((e,t)=>{const{decorative:r,orientation:n=xx,...i}=e,s=FE(n)?n:xx,c=r?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return a.jsx(ME.div,{"data-orientation":s,...c,...i,ref:t})});D1.displayName=RE;function FE(e){return LE.includes(e)}var I1=D1;const di=x.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},i)=>a.jsx(I1,{ref:i,decorative:r,orientation:t,className:Qe("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));di.displayName=I1.displayName;const BE=async e=>(await Ne.post("/bookings/calculate-price",e)).data,VE=async e=>(await Ne.post("/bookings",e)).data,zE=async(e,t)=>{const r={};return e&&(r.phone=e),t&&(r.licensePlate=t),(await Ne.get("/bookings/search",{params:r})).data.bookings},UE=async e=>(await Ne.get(`/bookings/${e}`)).data.booking,WE=async()=>(await Ne.get("/parking")).data.parkingTypes,HE=async()=>(await Ne.get("/addon-services")).data.services,qE=async()=>(await Ne.get("/admin/dashboard")).data,KE=async e=>(await Ne.get(`/admin/bookings/stats/${e}`)).data,GE=async()=>(await Ne.get("/admin/parking-types/stats")).data.parkingTypes,ZE=async()=>(await Ne.get("/admin/parking/current-status")).data,XE=async e=>(await Ne.get("/admin/bookings",{params:e})).data,YE=async(e,t)=>(await Ne.patch(`/admin/bookings/${e}/status`,{status:t})).data,JE=async e=>(await Ne.get("/admin/users",{params:e})).data,yx=async(e,t,r)=>{console.log("🔍 Frontend VIP Update Request:",{userId:e,isVIP:t,vipDiscount:r,url:`/admin/users/${e}/vip`,data:{isVIP:t,vipDiscount:r}});const n=await Ne.patch(`/admin/users/${e}/vip`,{isVIP:t,vipDiscount:r});return console.log("🔍 Frontend VIP Update Response:",n.data),n.data},bx=async(e,t)=>(await Ne.put(`/admin/users/${e}`,t)).data,QE=async e=>{try{return(await Ne.get(`/admin/users/${e}/stats`)).data}catch(t){throw console.error("Error getting user stats:",t),t}},e$=async e=>(await Ne.post("/admin/users",e)).data,t$=async e=>(await Ne.delete(`/admin/users/${e}`)).data,qd=async()=>(await Ne.get("/admin/parking-types")).data,r$=async e=>(await Ne.post("/admin/parking-types",e)).data,n$=async(e,t)=>(await Ne.put(`/admin/parking-types/${e}`,t)).data,a$=async e=>(await Ne.delete(`/admin/parking-types/${e}`)).data,M1=async e=>(await Ne.get("/admin/addon-services",{params:e})).data,i$=async e=>(await Ne.post("/admin/addon-services",e)).data,s$=async(e,t)=>(await Ne.put(`/admin/addon-services/${e}`,t)).data,o$=async e=>(await Ne.delete(`/admin/addon-services/${e}`)).data,c$=async e=>(await Ne.get("/admin/discount-codes",{params:e})).data,l$=async e=>(await Ne.post("/admin/discount-codes",e)).data,u$=async(e,t)=>(await Ne.put(`/admin/discount-codes/${e}`,t)).data,d$=async e=>(await Ne.delete(`/admin/discount-codes/${e}`)).data,f$=async e=>(await Ne.post("/admin/bookings/manual",e)).data,h$=async()=>(await Ne.get("/admin/terms")).data,jx=async(e,t)=>(await Ne.put(`/admin/terms/${e}`,t)).data,m$=async e=>(await Ne.post("/admin/terms/save-all",e)).data,p$=async e=>(await Ne.get("/admin/notification-templates",{params:e})).data,g$=async e=>(await Ne.post("/admin/notification-templates",e)).data,v$=async(e,t)=>(await Ne.put(`/admin/notification-templates/${e}`,t)).data,x$=async e=>(await Ne.delete(`/admin/notification-templates/${e}`)).data,y$=async e=>(await Ne.post("/admin/notifications/test",e)).data,b$=async e=>(await Ne.post("/admin/notifications/bulk",e)).data,j$=async()=>(await Ne.get("/admin/notifications/stats")).data,w$=async(e,t)=>(await Ne.post(`/admin/parking-types/${e}/special-prices`,t)).data,wx=async(e,t,r)=>(await Ne.post(`/admin/parking-types/${e}/special-prices/bulk`,{specialPrices:t,forceOverride:r})).data,Nx=async(e,t,r)=>(await Ne.put(`/admin/parking-types/${e}/special-prices/${t}`,r)).data,Sx=async(e,t)=>(await Ne.delete(`/admin/parking-types/${e}/special-prices/${t}`)).data,N$=async e=>(await Ne.get(`/admin/parking-types/${e}/special-prices`)).data,S$=async()=>(await Ne.get("/bookings/today/summary")).data,mg=async()=>(await Ne.get("/system-settings")).data.settings,A$=async e=>(await Ne.put("/admin/settings",e)).data,O$=async e=>(await Ne.put("/admin/settings",e)).data,_$=async e=>(await Ne.get("/maintenance",{params:e})).data,k$=async e=>(await Ne.post("/maintenance",e)).data,P$=async(e,t)=>(await Ne.put(`/maintenance/${e}`,t)).data,T$=async e=>(await Ne.delete(`/maintenance/${e}`)).data,R1=async(e,t,r)=>{try{const s=((await Ne.get(`/maintenance/check/range?startDate=${t}&endDate=${r}`)).data.maintenanceDays||[]).filter(o=>{const c=o.isActive,l=o.affectedParkingTypes.some(d=>d._id===e),u=new Date(o.date)>=new Date(t)&&new Date(o.date)<=new Date(r);return c&&l&&u});return{hasMaintenance:s.length>0,maintenanceDays:s}}catch(n){return console.error("Error checking maintenance:",n),{hasMaintenance:!1,maintenanceDays:[]}}},Ax=()=>{var Ee;const e=Id(),[t,r]=x.useState(1),[n,i]=x.useState(!1),[s,o]=x.useState(null);console.log(s,"systemSettings");const[c,l]=x.useState([]),[u,d]=x.useState([]),[f,h]=x.useState([]);console.log(f,"availableSlots");const[p,g]=x.useState(null),[m,v]=x.useState(null),[y,b]=x.useState(!1),[j,S]=x.useState(null),[N,w]=x.useState(null),[A,O]=x.useState(!1),[_,P]=x.useState(""),[C,E]=x.useState(!1),[k,$]=x.useState([]);console.log(k,"conflictingDays");const[T,M]=x.useState(""),[D,W]=x.useState(""),[R,Y]=x.useState([]),[F,ie]=x.useState({agreedToTerms:!1,parkingTypeId:"",checkInTime:"",checkOutTime:"",selectedAddonServices:[],discountCode:"",driverName:"",phone:"",email:"",licensePlate:"",passengerCount:1,luggageCount:0,termsAccepted:!1}),[z,H]=x.useState(!1),[de,Le]=x.useState(null),[he,Te]=x.useState(3);x.useEffect(()=>{ce()},[]);const ce=async()=>{try{i(!0),w(null);const[J,_e,Q]=await Promise.all([mg(),WE(),HE()]);o(J),console.log(J,"types"),l(Array.isArray(_e)?_e:[]),d(Array.isArray(Q)?Q:[]),M((J==null?void 0:J.bookingTerms)||""),W((J==null?void 0:J.bookingRules)||""),Te((J==null?void 0:J.minBookingDays)||3);const me=JSON.parse(localStorage.getItem("user")||"{}");b(me.isVIP||!1)}catch(J){console.error("Error loading initial data:",J),w("無法載入系統資料"),Z.error("無法載入系統資料"),l([]),d([])}finally{i(!1)}};x.useEffect(()=>{F.parkingTypeId&&F.checkInTime&&F.checkOutTime?(be(),ye(),re()):(h([]),g(null),$([]),Y([]),H(!1),Le(null))},[F.parkingTypeId,F.checkInTime,F.checkOutTime]),x.useEffect(()=>{const J=setTimeout(()=>{F.email&&$e(F.email)},1e3);return()=>clearTimeout(J)},[F.email]);const be=async()=>{try{const _e=(await Ne.post("/bookings/check-availability",{parkingTypeId:F.parkingTypeId,checkInTime:F.checkInTime,checkOutTime:F.checkOutTime})).data;if(_e.success)h(_e.availableSlots),g(_e.pricing),$([]);else{h([]),g(null);const Q=await Ve();$(Q),Z.error(_e.message||"停車場在此時間段已滿")}}catch(J){console.error("Error checking availability:",J),Z.error("檢查可用性時發生錯誤")}},ye=async()=>{if(!(!F.parkingTypeId||!F.checkInTime||!F.checkOutTime))try{const J=await R1(F.parkingTypeId,F.checkInTime,F.checkOutTime);Y(J.maintenanceDays),J.hasMaintenance&&Z.error("此停車場在選定時間內正在維護")}catch(J){console.error("Error checking maintenance:",J)}},re=async()=>{if(!(!F.checkInTime||!F.checkOutTime||!F.parkingTypeId))try{const J=new Date(F.checkInTime),_e=new Date(F.checkOutTime),Q=new Date(J),me=[],xe=[];for(;Q<=_e;){const Fe=Q.toISOString().split("T")[0];try{(await Ne.post("/bookings/check-availability",{parkingTypeId:F.parkingTypeId,checkInTime:`${Fe}T00:00:00.000Z`,checkOutTime:`${Fe}T23:59:59.999Z`})).data.success?xe.push({date:Fe,formattedDate:Q.toLocaleDateString("zh-TW",{year:"numeric",month:"long",day:"numeric",weekday:"long"})}):me.push({date:Fe,formattedDate:Q.toLocaleDateString("zh-TW",{year:"numeric",month:"long",day:"numeric",weekday:"long"})})}catch(Ye){console.error("Error checking day availability:",Ye),me.push({date:Fe,formattedDate:Q.toLocaleDateString("zh-TW",{year:"numeric",month:"long",day:"numeric",weekday:"long"})})}Q.setDate(Q.getDate()+1)}me.length>0?(H(!0),Le({conflictingDates:me,availableDates:xe,totalDays:Math.ceil((_e.getTime()-J.getTime())/(1e3*60*60*24))+1,conflictingDays:me.length,availableDays:xe.length})):(H(!1),Le(null))}catch(J){console.error("Error checking date range availability:",J)}},Ve=async()=>{if(!F.checkInTime||!F.checkOutTime)return[];const J=[],_e=new Date(F.checkInTime),Q=new Date(F.checkOutTime),me=new Date(_e);for(;me<=Q;){const xe=me.toISOString().split("T")[0];try{(await Ne.post("/bookings/check-availability",{parkingTypeId:F.parkingTypeId,checkInTime:`${xe}T00:00:00.000Z`,checkOutTime:`${xe}T23:59:59.999Z`})).data.success||J.push(xe)}catch(Fe){console.error("Error checking day availability:",Fe),J.push(xe)}me.setDate(me.getDate()+1)}return J},$e=async J=>{if(!(!J||!J.includes("@")))try{const _e=JSON.parse(localStorage.getItem("user")||"{}");if(_e.email===J&&_e.isVIP){S(_e),b(!0),Z.success(`🎉 歡迎VIP會員！您享有${_e.vipDiscount||0}%折扣！`);return}const Q=await r1(J);Q.success&&Q.user&&Q.user.isVIP?(S(Q.user),b(!0),Z.success(`🎉 歡迎VIP會員！您享有${Q.user.vipDiscount||0}%折扣！`)):(S(null),b(!1))}catch(_e){console.error("Error checking VIP status:",_e),S(null),b(!1)}},rt=async()=>{if(!_.trim()){Z.error("請輸入VIP碼");return}E(!0);try{const J=await i2(_.trim());J.success&&J.user&&J.user.isVIP?(S(J.user),b(!0),O(!1),P(""),ie(_e=>({..._e,driverName:J.user.name,email:J.user.email,phone:J.user.phone,licensePlate:J.user.licensePlate||""})),Z.success(`🎉 歡迎VIP會員！您享有${J.user.vipDiscount||0}%折扣！`)):(Z.error(J.message||"VIP碼無效"),S(null),b(!1))}catch(J){console.error("Error checking VIP code:",J),Z.error("檢查VIP碼時發生錯誤"),S(null),b(!1)}finally{E(!1)}},at=async()=>{var J,_e,Q,me;if(!((J=F.discountCode)!=null&&J.trim())){Z.error("請輸入折扣碼");return}if(!F.parkingTypeId||!F.checkInTime||!F.checkOutTime){Z.error("請在應用折扣碼之前選擇停車場和時間");return}try{const xe=JSON.parse(localStorage.getItem("user")||"{}"),Ye=(await Ne.post("/bookings/apply-discount",{discountCode:F.discountCode,parkingTypeId:F.parkingTypeId,checkInTime:F.checkInTime,checkOutTime:F.checkOutTime,addonServices:F.selectedAddonServices,isVIP:y,userEmail:F.email||xe.email})).data;Ye.success?(v(Ye.discountInfo),Z.success("折扣碼應用成功！")):(Z.error(Ye.message||"折扣碼無效"),v(null))}catch(xe){if(console.error("Error applying discount:",xe),((_e=xe.response)==null?void 0:_e.status)===401)Z.error("請登入以使用折扣碼");else{const Fe=((me=(Q=xe.response)==null?void 0:Q.data)==null?void 0:me.message)||xe.message||"無法應用折扣碼";Z.error(Fe)}v(null)}},ct=async()=>{var J,_e,Q,me,xe,Fe,Ye;if(!F.termsAccepted){Z.error("您必須同意條款");return}if(!F.parkingTypeId){Z.error("請選擇停車場類型");return}if(!F.checkInTime||!F.checkOutTime){Z.error("請選擇預約時間");return}if(F.checkInTime&&F.checkOutTime){const B=new Date(F.checkInTime),ee=new Date(F.checkOutTime),Be=Math.abs(ee.getTime()-B.getTime()),Ke=Math.ceil(Be/(1e3*60*60*24));if(Ke<he){Z.error(`最少需要預約 ${he} 天，您選擇了 ${Ke} 天`);return}}if(!F.driverName||!F.phone||!F.email||!F.licensePlate){Z.error("請填寫完整的個人資料");return}try{i(!0);const B={parkingTypeId:F.parkingTypeId,checkInTime:F.checkInTime,checkOutTime:F.checkOutTime,driverName:F.driverName,phone:F.phone,email:F.email,licensePlate:F.licensePlate,passengerCount:F.passengerCount,luggageCount:F.luggageCount,addonServices:F.selectedAddonServices,discountCode:F.discountCode,termsAccepted:F.termsAccepted},ee=await VE(B);console.log("Booking result:",ee);const Be={bookingId:ee.booking._id,bookingNumber:ee.booking.bookingNumber||`BK${ee.booking._id.slice(-6).toUpperCase()}`,parkingType:{name:((J=ee.booking.parkingType)==null?void 0:J.name)||"Unknown",type:((_e=ee.booking.parkingType)==null?void 0:_e.type)||"indoor",location:((Q=ee.booking.parkingType)==null?void 0:Q.location)||""},driverName:ee.booking.driverName,phone:ee.booking.phone,email:ee.booking.email,licensePlate:ee.booking.licensePlate,checkInTime:ee.booking.checkInTime,checkOutTime:ee.booking.checkOutTime,durationDays:ee.booking.durationDays||1,totalAmount:ee.booking.totalAmount,isVIP:ee.booking.isVIP,vipDiscount:ee.booking.vipDiscount,finalAmount:ee.booking.finalAmount,addonServices:((me=ee.booking.addonServices)==null?void 0:me.map(Ke=>{var or,Xt,Yt;return{name:((or=Ke.service)==null?void 0:or.name)||"Unknown Service",price:((Xt=Ke.service)==null?void 0:Xt.price)||0,icon:((Yt=Ke.service)==null?void 0:Yt.icon)||"🔧"}}))||[],discountAmount:ee.booking.discountAmount||0,paymentMethod:ee.booking.paymentMethod||"cash",status:ee.booking.status};e("/booking-confirmation",{state:{bookingData:Be,pricing:p,discountInfo:m}})}catch(B){if(console.error("Error creating booking:",B),((xe=B.response)==null?void 0:xe.status)===401)Z.error("請登入以創建預約");else{const ee=((Ye=(Fe=B.response)==null?void 0:Fe.data)==null?void 0:Ye.message)||B.message||"無法創建預約";Z.error(ee)}}finally{i(!1)}},L=J=>J.icon?J.icon:{indoor:"🏢",outdoor:"☀️",disabled:"♿"}[J.type]||"🚗",G=J=>{const _e={indoor:{label:"室內",color:"bg-blue-100 text-blue-800 border-blue-200"},outdoor:{label:"戶外",color:"bg-green-100 text-green-800 border-green-200"},disabled:{label:"無障礙",color:"bg-orange-100 text-orange-800 border-orange-200"}},Q=_e[J]||_e.indoor;return a.jsx(Me,{variant:"outline",className:Q.color,children:Q.label})},X=J=>J==null?"0 TWD":J.toLocaleString("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0,maximumFractionDigits:0}),V=J=>J==null?"":typeof J=="string"?J:typeof J=="number"?J.toString():typeof J=="object"?(console.warn("Attempting to render object as text:",J),"[Object]"):String(J),ne=[{id:1,title:"條款",icon:a.jsx(bi,{className:"h-4 w-4"})},{id:2,title:"選擇停車場",icon:a.jsx(ki,{className:"h-4 w-4"})},{id:3,title:"服務",icon:a.jsx(sm,{className:"h-4 w-4"})},{id:4,title:"個人資料",icon:a.jsx(Nr,{className:"h-4 w-4"})}],se=()=>{var J,_e;switch(t){case 1:return a.jsx("div",{className:"space-y-6",children:a.jsxs(le,{className:"border-0 shadow-lg",children:[a.jsx(ge,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-b",children:a.jsxs(ve,{className:"flex items-center space-x-3 text-blue-900",children:[a.jsx(lu,{className:"h-6 w-6 text-blue-600"}),a.jsx("span",{children:"條款和規定"})]})}),a.jsxs(ue,{className:"p-6 space-y-6",children:[a.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:"請在預約停車位之前仔細閱讀規定和條款。"}),a.jsxs("div",{className:"space-y-6",children:[T&&a.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[a.jsxs("h4",{className:"font-semibold mb-3 text-blue-800 flex items-center",children:[a.jsx(bi,{className:"h-4 w-4 mr-2"}),"預約條款"]}),a.jsx("div",{className:"whitespace-pre-line text-sm leading-relaxed text-gray-700",children:T})]}),D&&a.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[a.jsxs("h4",{className:"font-semibold mb-3 text-green-800 flex items-center",children:[a.jsx(lu,{className:"h-4 w-4 mr-2"}),"預約規定"]}),a.jsx("div",{className:"whitespace-pre-line text-sm leading-relaxed text-gray-700",children:D})]}),!T&&!D&&a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold mb-3 text-blue-800",children:"一般規定"}),a.jsxs("div",{className:"space-y-3 text-sm text-gray-700",children:[a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("span",{className:"font-bold text-blue-600",children:"1."}),a.jsx("span",{children:"客戶必須按預約時間準時到達。"})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("span",{className:"font-bold text-blue-600",children:"2."}),a.jsx("span",{children:"不得超過預約時間停放車輛。"})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("span",{className:"font-bold text-blue-600",children:"3."}),a.jsx("span",{children:"遵守停車場安全規定。"})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("span",{className:"font-bold text-blue-600",children:"4."}),a.jsx("span",{children:"客戶對車內財物負責。"})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("span",{className:"font-bold text-blue-600",children:"5."}),a.jsx("span",{children:"停車場對天災造成的損害不承擔責任。"})]})]})]})})]}),a.jsx("div",{className:"border-t pt-6",children:a.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-gray-50 rounded-lg",children:[a.jsx($a,{id:"agreedToTerms",checked:F.agreedToTerms,onCheckedChange:Q=>ie(me=>({...me,agreedToTerms:!!Q}))}),a.jsx(K,{htmlFor:"agreedToTerms",className:"text-sm font-medium",children:"我已閱讀並同意上述條款"})]})})]})]})});case 2:return a.jsx("div",{className:"space-y-6",children:a.jsxs(le,{className:"border-0 shadow-lg",children:[a.jsx(ge,{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-b",children:a.jsxs(ve,{className:"flex items-center space-x-3 text-green-900",children:[a.jsx(ki,{className:"h-6 w-6 text-green-600"}),a.jsx("span",{children:"選擇停車場類型和時間"})]})}),a.jsxs(ue,{className:"p-6 space-y-8",children:[a.jsxs("div",{children:[a.jsx(K,{className:"text-lg font-semibold text-gray-800 mb-4 block",children:"停車場類型"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:(c||[]).filter(Q=>Q.isActive).map(Q=>{const me=F.parkingTypeId===Q._id,xe=R.some(Fe=>Fe.affectedParkingTypes.some(Ye=>Ye._id===Q._id));return a.jsx(le,{className:`transition-all duration-300 ${xe?"opacity-50 cursor-not-allowed bg-gray-100 border-gray-300":me?"cursor-pointer border-2 border-blue-500 bg-gradient-to-br from-blue-50 to-indigo-50 shadow-lg hover:shadow-xl hover:scale-105":"cursor-pointer border-gray-200 hover:border-blue-300 hover:shadow-xl hover:scale-105"}`,onClick:()=>{xe||(ie(Fe=>({...Fe,parkingTypeId:Q._id})),Z.success(`已選擇停車場: ${Q.name}`))},children:a.jsxs(ue,{className:"p-6",children:[a.jsx("div",{className:"flex items-start justify-between mb-4",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"text-3xl",children:L(Q)}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-lg text-gray-900",children:Q.name}),a.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[G(Q.type||"indoor"),xe&&a.jsx(Me,{variant:"destructive",className:"bg-red-100 text-red-800 border-red-200",children:"🔧 維護中"})]})]})]})}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"容量:"}),a.jsxs("span",{className:"font-medium text-gray-900",children:[Q.totalSpaces," 位"]})]}),Q.description&&a.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:V(Q.description)}),a.jsx("div",{className:"pt-3 border-t",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:X(Q.pricePerDay)}),a.jsx("p",{className:"text-sm text-gray-500",children:"/天"})]})})]})]})},Q._id)})})]}),F.parkingTypeId&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx(K,{className:"text-lg font-semibold text-gray-800 mb-4 block",children:"選擇預約時間"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"checkInTime",className:"text-sm font-medium text-gray-700",children:"進入時間 *"}),a.jsxs("div",{className:"relative",children:[a.jsx(_r,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),a.jsx(oe,{id:"checkInTime",type:"datetime-local",value:F.checkInTime,onChange:Q=>{const me=Q.target.value;if(ie(xe=>({...xe,checkInTime:me})),me&&F.checkOutTime){const xe=new Date(me),Fe=new Date(xe);Fe.setDate(xe.getDate()+he),new Date(F.checkOutTime)<Fe&&ie(B=>({...B,checkOutTime:Fe.toISOString().slice(0,16)}))}},min:new Date().toISOString().slice(0,16),className:"pl-10"})]}),a.jsxs("p",{className:"text-xs text-gray-500",children:["最少預約 ",he," 天"]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"checkOutTime",className:"text-sm font-medium text-gray-700",children:"離開時間 *"}),a.jsxs("div",{className:"relative",children:[a.jsx(_r,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),a.jsx(oe,{id:"checkOutTime",type:"datetime-local",value:F.checkOutTime,onChange:Q=>{const me=Q.target.value;if(F.checkInTime){const xe=new Date(F.checkInTime),Fe=new Date(me),Ye=new Date(xe);if(Ye.setDate(xe.getDate()+he),Fe<Ye){Z.error(`最少需要預約 ${he} 天`);return}}ie(xe=>({...xe,checkOutTime:me}))},min:F.checkInTime?(()=>{const Q=new Date(F.checkInTime),me=new Date(Q);return me.setDate(Q.getDate()+he),me.toISOString().slice(0,16)})():new Date().toISOString().slice(0,16),className:"pl-10"})]}),a.jsxs("p",{className:"text-xs text-gray-500",children:["從進入時間起最少 ",he," 天"]})]})]})]}),z&&de&&a.jsxs("div",{className:"p-6 bg-red-50 border border-red-200 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[a.jsx(vs,{className:"h-5 w-5 text-red-600"}),a.jsx("h3",{className:"text-lg font-semibold text-red-800",children:"您所選的日期，停車位已經被約完，詳細如下："})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-red-700 mb-2",children:"您選的日期："}),a.jsxs("div",{className:"space-y-2",children:[de.conflictingDates.map((Q,me)=>a.jsxs("div",{className:"flex items-center space-x-2 text-red-600",children:[a.jsx("span",{children:"•"}),a.jsx("span",{children:Q.formattedDate}),a.jsx("span",{className:"text-red-500 font-medium",children:"(x 無空位)"})]},me)),de.availableDates.map((Q,me)=>a.jsxs("div",{className:"flex items-center space-x-2 text-green-600",children:[a.jsx("span",{children:"•"}),a.jsx("span",{children:Q.formattedDate})]},me))]})]}),a.jsx("div",{className:"bg-white p-4 rounded-lg border border-red-200",children:a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-red-700",children:"總計："}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsxs("span",{className:"text-sm text-red-600",children:[de.conflictingDays," 天已滿"]}),a.jsxs("span",{className:"text-sm text-green-600",children:[de.availableDays," 天空閒"]})]})]})}),a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[a.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"建議："}),a.jsxs("div",{className:"space-y-1 text-sm text-blue-700",children:[a.jsx("div",{children:"• 選擇其他時間範圍"}),a.jsx("div",{children:"• 選擇較短的時間範圍"}),a.jsx("div",{children:"• 聯繫我們以獲得支援"})]})]})]})]}),R.length>0&&a.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx(vs,{className:"h-5 w-5 text-red-600"}),a.jsx("span",{className:"font-medium text-red-800",children:"⚠️ 停車場正在維護"})]}),a.jsxs("div",{className:"text-sm text-red-700",children:[a.jsx("p",{children:"所選停車場在此時間內正在維護:"}),a.jsx("ul",{className:"mt-2 space-y-1",children:R.map((Q,me)=>a.jsxs("li",{className:"flex items-center space-x-2",children:[a.jsx("span",{children:"•"}),a.jsxs("span",{children:[new Date(Q.date).toLocaleDateString("vi-VN"),": ",Q.reason]})]},me))}),a.jsx("p",{className:"mt-2 font-medium",children:"請選擇其他時間或停車場。"})]})]})]})]})]})});case 3:return a.jsx("div",{className:"space-y-6",children:a.jsxs(le,{className:"border-0 shadow-lg",children:[a.jsxs(ge,{className:"bg-gradient-to-r from-purple-50 to-pink-50 border-b",children:[a.jsxs(ve,{className:"flex items-center space-x-3 text-purple-900",children:[a.jsx(sm,{className:"h-6 w-6 text-purple-600"}),a.jsx("span",{children:"服務"})]}),a.jsx(tt,{className:"text-purple-700",children:"選擇您需要的服務"})]}),a.jsx(ue,{className:"p-6",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:(u||[]).filter(Q=>Q.isActive).map(Q=>{const me=F.selectedAddonServices.includes(Q._id);return a.jsx(le,{className:`cursor-pointer transition-all duration-300 hover:shadow-xl hover:scale-105 ${me?"border-2 border-purple-500 bg-gradient-to-br from-purple-50 to-pink-50 shadow-lg":"border-gray-200 hover:border-purple-300"}`,onClick:()=>{ie(me?xe=>({...xe,selectedAddonServices:(xe.selectedAddonServices||[]).filter(Fe=>Fe!==Q._id)}):xe=>({...xe,selectedAddonServices:[...xe.selectedAddonServices,Q._id]}))},children:a.jsxs(ue,{className:"p-6",children:[a.jsx("div",{className:"flex items-start justify-between mb-4",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"text-3xl",children:Q.icon}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-lg text-gray-900",children:Q.name}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:Q.description})]})]})}),a.jsx("div",{className:"text-center pt-3 border-t",children:a.jsx("p",{className:"text-2xl font-bold text-purple-600",children:X(Q.price)})})]})},Q._id)})})})]})});case 4:return a.jsxs("div",{className:"space-y-6",children:[p&&a.jsxs(le,{className:"border-0 shadow-lg",children:[a.jsx(ge,{className:"bg-gradient-to-r from-emerald-50 to-teal-50 border-b",children:a.jsxs(ve,{className:"flex items-center space-x-3 text-emerald-900",children:[a.jsx(cg,{className:"h-6 w-6 text-emerald-600"}),a.jsx("span",{children:"價格摘要"})]})}),a.jsx(ue,{className:"p-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"bg-gray-50 p-3 rounded-lg",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-semibold text-gray-900",children:"基本價格"}),a.jsxs("div",{className:"text-sm text-gray-600",children:[(J=c.find(Q=>Q._id===F.parkingTypeId))==null?void 0:J.name," • ",p.durationDays," 天"]})]}),a.jsx("span",{className:"font-semibold text-gray-900",children:X(p.totalPrice)})]})}),(p==null?void 0:p.dailyPrices)&&p.dailyPrices.length>0&&a.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[a.jsx("div",{className:"text-sm font-semibold text-blue-700 mb-2",children:"📅 每日價格詳細:"}),a.jsx("div",{className:"space-y-2",children:p.dailyPrices.map((Q,me)=>a.jsxs("div",{className:"flex justify-between items-center text-sm bg-white p-2 rounded",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-gray-600",children:(()=>{const xe=new Date(Q.date),Fe=xe.getFullYear(),Ye=String(xe.getMonth()+1).padStart(2,"0"),B=String(xe.getDate()).padStart(2,"0"),ee=xe.getDay();return`${Fe}/${Ye}/${B} (星期${["天","一","二","三","四","五","六"][ee]})`})()}),Q.isSpecialPrice&&a.jsxs(Me,{variant:"outline",className:"text-xs bg-orange-100 text-orange-700 border-orange-200 max-w-32 truncate",title:Q.specialPriceReason,children:["💰 ",Q.specialPriceReason||"特殊價格"]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[Q.isSpecialPrice&&a.jsx("span",{className:"text-xs text-gray-500 line-through",children:X(Q.originalPrice)}),a.jsx("span",{className:`font-semibold ${Q.isSpecialPrice?"text-orange-600":"text-blue-600"}`,children:X(Q.price)})]})]},me))})]}),F.selectedAddonServices.length>0&&a.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[a.jsx("div",{className:"text-sm font-semibold text-blue-700 mb-2",children:"🚀 附加服務:"}),a.jsx("div",{className:"space-y-2",children:F.selectedAddonServices.map(Q=>{const me=u.find(xe=>xe._id===Q);return me?a.jsxs("div",{className:"flex justify-between items-center text-sm bg-white p-2 rounded",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-lg",children:me.icon}),a.jsx("span",{children:me.name})]}),a.jsx("span",{className:"font-semibold text-blue-600",children:X(me.price)})]},Q):null})})]}),F.luggageCount>0&&a.jsxs("div",{className:"bg-purple-50 p-3 rounded-lg",children:[a.jsx("div",{className:"text-sm font-semibold text-purple-700 mb-2",children:"🧳 行李:"}),a.jsx("div",{className:"space-y-2",children:a.jsxs("div",{className:"flex justify-between items-center text-sm bg-white p-2 rounded",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-lg",children:"🧳"}),a.jsxs("span",{children:[F.luggageCount," 行李"]}),(s==null?void 0:s.luggageSettings)&&a.jsx("span",{className:"text-xs text-purple-600 bg-purple-100 px-2 py-1 rounded",children:F.luggageCount<=s.luggageSettings.freeLuggageCount?"免費":`${s.luggageSettings.freeLuggageCount} 免費 + ${F.luggageCount-s.luggageSettings.freeLuggageCount} 收費`})]}),a.jsx("span",{className:"font-semibold text-purple-600",children:(()=>{if(!(s!=null&&s.luggageSettings))return"0";const{freeLuggageCount:Q,luggagePricePerItem:me}=s.luggageSettings,Fe=Math.max(0,F.luggageCount-Q)*me;return X(Fe)})()})]})})]}),y&&j&&a.jsxs("div",{className:"flex justify-between items-center py-2 bg-blue-50 rounded-lg px-3",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-blue-600",children:"👑 VIP 折扣:"}),a.jsxs("span",{className:"text-xs text-blue-500 bg-blue-100 px-2 py-1 rounded",children:[j.vipDiscount,"% 折扣"]})]}),m?a.jsxs("span",{className:"font-semibold text-blue-600",children:["-",X(m.vipDiscount||0)]}):a.jsxs("span",{className:"text-sm text-blue-600",children:["~",X(Math.round(((p==null?void 0:p.totalPrice)||0)*(j.vipDiscount/100)))]})]}),m&&m.discountAmount>0&&a.jsxs("div",{className:"flex justify-between items-center py-2 bg-green-50 rounded-lg px-3",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-green-600",children:"🎫 優惠券:"}),a.jsxs("span",{className:"text-xs text-green-500 bg-green-100 px-2 py-1 rounded",children:[m.code," (",m.discountType==="percentage"?`${m.discountValue}%`:"固定",")"]})]}),a.jsxs("span",{className:"font-semibold text-green-600",children:["-",X(m.discountAmount)]})]}),a.jsx(di,{}),a.jsx("div",{className:"bg-gradient-to-r from-emerald-100 to-teal-100 p-4 rounded-lg border-2 border-emerald-300",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-semibold text-gray-700",children:"總原價:"}),a.jsx("span",{className:"font-semibold text-gray-900",children:X(p.totalPrice+(u||[]).filter(Q=>F.selectedAddonServices.includes(Q._id)).reduce((Q,me)=>Q+me.price,0))})]}),m&&(m.discountAmount>0||m.vipDiscount>0)||y&&j?a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-semibold text-green-700",children:"總折扣:"}),a.jsxs("span",{className:"font-bold text-green-700 text-lg",children:["-",X(m?m.totalDiscount||m.discountAmount||0:(()=>{const Q=((p==null?void 0:p.totalPrice)||0)+u.filter(Fe=>F.selectedAddonServices.includes(Fe._id)).reduce((Fe,Ye)=>Fe+Ye.price,0),me=(()=>{if(!(s!=null&&s.luggageSettings))return 0;const{freeLuggageCount:Fe,luggagePricePerItem:Ye}=s.luggageSettings;return Math.max(0,F.luggageCount-Fe)*Ye})(),xe=Q+me;return Math.round(xe*((j==null?void 0:j.vipDiscount)/100))})())]})]}):null,a.jsx("div",{className:"border-t pt-2",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-bold text-lg text-gray-900",children:"總付款:"}),a.jsx("span",{className:"text-2xl font-bold text-emerald-600",children:(()=>{const Q=((p==null?void 0:p.totalPrice)||0)+u.filter(Fe=>F.selectedAddonServices.includes(Fe._id)).reduce((Fe,Ye)=>Fe+Ye.price,0),me=(()=>{if(!(s!=null&&s.luggageSettings))return 0;const{freeLuggageCount:Fe,luggagePricePerItem:Ye}=s.luggageSettings;return Math.max(0,F.luggageCount-Fe)*Ye})(),xe=Q+me;if(m)return X(m.finalAmount);if(y&&j){const Fe=xe*(j.vipDiscount/100);return X(Math.round(xe-Fe))}else return X(xe)})()})]})})]})})]})})]}),a.jsxs(le,{className:"border-0 shadow-lg",children:[a.jsxs(ge,{className:"bg-gradient-to-r from-indigo-50 to-blue-50 border-b",children:[a.jsxs(ve,{className:"flex items-center space-x-3 text-indigo-900",children:[a.jsx(Nr,{className:"h-6 w-6 text-indigo-600"}),a.jsx("span",{children:"個人資料"}),y&&a.jsx(Me,{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white border-0",children:"👑 VIP Member"})]}),a.jsx(tt,{className:"text-indigo-700",children:"填寫個人資料以完成預約"})]}),a.jsxs(ue,{className:"p-6 space-y-6",children:[!y&&a.jsxs("div",{className:"bg-gradient-to-r from-yellow-50 to-orange-50 border border-yellow-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx("span",{className:"text-yellow-800 font-medium",children:"👑 您是VIP會員嗎？"})}),a.jsx(q,{type:"button",variant:"outline",size:"sm",onClick:()=>O(!A),className:"border-yellow-300 text-yellow-700 hover:bg-yellow-100",children:A?"隱藏":"輸入VIP碼"})]}),A&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(oe,{placeholder:"輸入您的VIP碼",value:_,onChange:Q=>P(Q.target.value),className:"flex-1"}),a.jsx(q,{type:"button",onClick:rt,disabled:C,className:"bg-[#39653f] hover:bg-[#2d4f33] text-white",children:C?"正在檢查...":"檢查"})]}),a.jsx("p",{className:"text-xs text-yellow-700",children:"💡 VIP碼格式: 年份 + 電話號碼 (例如: 1140908805805)"})]})]}),a.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 border border-green-200 rounded-lg p-4",children:[a.jsx("div",{className:"flex items-center justify-between mb-3",children:a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx("span",{className:"text-green-800 font-medium",children:"🎫 您有折扣碼嗎？"})})}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(oe,{placeholder:"輸入折扣碼",value:F.discountCode,onChange:Q=>ie(me=>({...me,discountCode:Q.target.value})),className:"flex-1"}),a.jsx(q,{type:"button",onClick:at,disabled:!((_e=F.discountCode)!=null&&_e.trim())||!F.parkingTypeId||!F.checkInTime||!F.checkOutTime,className:"bg-[#39653f] hover:bg-[#2d4f33] text-white",children:"應用"})]}),a.jsx("p",{className:"text-xs text-green-700",children:"💡 輸入有效的折扣碼以獲得額外優惠"})]}),m&&a.jsxs("div",{className:"mt-3 p-3 bg-white rounded-lg border border-green-200",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx("span",{className:"text-green-600",children:"✅"}),a.jsx("span",{className:"font-medium text-green-800",children:"折扣已應用！"})]}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"折扣碼:"}),a.jsx("span",{className:"font-semibold text-green-600",children:m.code})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"折扣金額:"}),a.jsxs("span",{className:"font-semibold text-green-600",children:["-",X(m.discountAmount)]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"最終金額:"}),a.jsx("span",{className:"font-semibold text-green-600",children:X(m.finalAmount)})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"driverName",className:"text-sm font-medium text-gray-700",children:"您的姓名 *"}),a.jsx(oe,{id:"driverName",value:F.driverName,onChange:Q=>ie(me=>({...me,driverName:Q.target.value})),placeholder:"輸入您的姓名"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"phone",className:"text-sm font-medium text-gray-700",children:"電話號碼 *"}),a.jsx(oe,{id:"phone",value:F.phone,onChange:Q=>ie(me=>({...me,phone:Q.target.value})),placeholder:"輸入電話號碼"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"email",className:"text-sm font-medium text-gray-700",children:"信箱 *"}),a.jsxs("div",{className:"relative",children:[a.jsx(oe,{id:"email",type:"email",value:F.email,onChange:Q=>ie(me=>({...me,email:Q.target.value})),placeholder:"輸入電子郵件",className:y?"border-yellow-400 bg-yellow-50":""}),y&&j&&a.jsx("div",{className:"absolute -top-2 -right-2",children:a.jsxs(Me,{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white border-0 text-xs",children:["👑 VIP ",j.vipDiscount,"%"]})})]}),y&&j&&a.jsxs("div",{className:"text-xs text-yellow-600 bg-yellow-50 p-2 rounded",children:["✨ 歡迎VIP會員！您自動享有",j.vipDiscount,"%折扣。"]}),!y&&F.email&&!j&&a.jsx("div",{className:"text-xs text-gray-500 bg-gray-50 p-2 rounded",children:"ℹ️ 普通客戶 - 無VIP優惠"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"licensePlate",className:"text-sm font-medium text-gray-700",children:"車牌號碼 *"}),a.jsx(oe,{id:"licensePlate",value:F.licensePlate,onChange:Q=>ie(me=>({...me,licensePlate:Q.target.value.toUpperCase()})),placeholder:"輸入車牌號碼"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"passengerCount",className:"text-sm font-medium text-gray-700",children:"接駁人數"}),a.jsx(oe,{id:"passengerCount",type:"number",min:"1",value:F.passengerCount,onChange:Q=>ie(me=>({...me,passengerCount:parseInt(Q.target.value)}))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"luggageCount",className:"text-sm font-medium text-gray-700",children:"行李數量（免費1個，第2個以上每一個加100元）"}),a.jsx(oe,{id:"luggageCount",type:"number",min:"0",value:F.luggageCount,onChange:Q=>ie(me=>({...me,luggageCount:parseInt(Q.target.value)}))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"notes",className:"text-sm font-medium text-gray-700",children:"備註"}),a.jsx(tr,{id:"notes",placeholder:"輸入備註 (如果有的話)",rows:3})]})]})]}),a.jsx(le,{className:"border-0 shadow-lg",children:a.jsx(ue,{className:"p-6",children:a.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-gray-50 rounded-lg",children:[a.jsx($a,{id:"termsAccepted",checked:F.termsAccepted,onCheckedChange:Q=>ie(me=>({...me,termsAccepted:!!Q}))}),a.jsx(K,{htmlFor:"termsAccepted",className:"text-sm font-medium",children:"我同意所有預約條款和條件"})]})})})]});default:return null}};return n?a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}):N?a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsx(le,{className:"border-0 shadow-lg",children:a.jsxs(ue,{className:"pt-6",children:[a.jsxs("div",{className:"flex items-center space-x-2 text-red-600",children:[a.jsx(vs,{className:"h-5 w-5"}),a.jsx("span",{children:N})]}),a.jsx(q,{onClick:ce,className:"mt-4",children:"重試"})]})})}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50",children:a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsx("div",{className:"mb-8",children:a.jsx("div",{className:"flex items-center justify-between bg-white rounded-lg shadow-lg p-4",children:ne.map((J,_e)=>a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`flex items-center justify-center w-12 h-12 rounded-full border-2 transition-all duration-300 ${t>=J.id?"bg-[#39653f] border-[#39653f] text-white shadow-lg":"bg-white border-gray-300 text-gray-500"}`,children:t>J.id?a.jsx(mr,{className:"h-6 w-6"}):J.icon}),a.jsx("span",{className:`ml-3 text-sm font-medium transition-colors duration-300 ${t>=J.id?"text-blue-600":"text-gray-500"}`,children:J.title}),_e<ne.length-1&&a.jsx("div",{className:`w-20 h-0.5 mx-4 transition-colors duration-300 ${t>J.id?"bg-[#39653f]":"bg-gray-300"}`})]},J.id))})}),t>=2&&F.checkInTime&&F.checkOutTime&&a.jsx("div",{className:"mb-6",children:a.jsx(le,{className:"border-2 border-blue-200 bg-gradient-to-r from-blue-50 to-indigo-50",children:a.jsx(ue,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(_r,{className:"h-5 w-5 text-blue-600"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-blue-900",children:"已選擇時間:"}),a.jsxs("div",{className:"flex items-center space-x-4 text-sm text-blue-800",children:[a.jsxs("span",{children:[a.jsx("strong",{children:"進入:"})," ",(()=>{const J=new Date(F.checkInTime),_e=J.getFullYear(),Q=String(J.getMonth()+1).padStart(2,"0"),me=String(J.getDate()).padStart(2,"0"),xe=J.getDay(),Fe=["天","一","二","三","四","五","六"],Ye=String(J.getHours()).padStart(2,"0"),B=String(J.getMinutes()).padStart(2,"0");return`${_e}/${Q}/${me} (星期${Fe[xe]}) ${Ye}:${B}`})()]}),a.jsx("span",{className:"text-blue-600",children:"→"}),a.jsxs("span",{children:[a.jsx("strong",{children:"離開:"})," ",(()=>{const J=new Date(F.checkOutTime),_e=J.getFullYear(),Q=String(J.getMonth()+1).padStart(2,"0"),me=String(J.getDate()).padStart(2,"0"),xe=J.getDay(),Fe=["天","一","二","三","四","五","六"],Ye=String(J.getHours()).padStart(2,"0"),B=String(J.getMinutes()).padStart(2,"0");return`${_e}/${Q}/${me} (星期${Fe[xe]}) ${Ye}:${B}`})()]})]})]})]}),F.parkingTypeId&&a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-sm text-blue-700",children:[a.jsx("strong",{children:"停車場:"})," ",((Ee=c.find(J=>J._id===F.parkingTypeId))==null?void 0:Ee.name)||"未選擇"]}),a.jsx("div",{className:"text-xs text-blue-600",children:(()=>{const J=new Date(F.checkInTime),_e=new Date(F.checkOutTime),Q=Math.abs(_e.getTime()-J.getTime());return`${Math.ceil(Q/(1e3*60*60*24))} 天`})()})]})]})})})}),se(),a.jsxs("div",{className:"flex justify-between mt-8",children:[a.jsxs(q,{variant:"outline",onClick:()=>r(J=>Math.max(1,J-1)),disabled:t===1,className:"px-6 py-3",children:[a.jsx(UC,{className:"h-4 w-4 mr-2"}),"返回"]}),a.jsx("div",{className:"flex space-x-3",children:t<ne.length?a.jsxs(q,{onClick:()=>r(J=>J+1),disabled:t===1&&!F.agreedToTerms||t===2&&!F.parkingTypeId||t===2&&(!F.checkInTime||!F.checkOutTime)||t===2&&R.length>0,className:"px-8 py-3 bg-[#39653f] hover:bg-[#2d4f33]",children:["下一步",a.jsx(WC,{className:"h-4 w-4 ml-2"})]}):a.jsx(q,{onClick:ct,disabled:n||!F.termsAccepted,className:"px-8 py-3 bg-[#39653f] hover:bg-[#2d4f33]",children:n?"正在處理...":"完成預約"})})]})]})})})},C$=()=>{var g,m,v,y,b;const e=$d(),t=Id(),[r,n]=x.useState(null),[i,s]=x.useState(!0),o=(g=e.state)==null?void 0:g.bookingData;x.useEffect(()=>{c()},[]);const c=async()=>{try{const j=await mg();n(j)}catch(j){console.error("Error loading system settings:",j)}finally{s(!1)}},l=j=>j==null?"0 TWD":j.toLocaleString("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0,maximumFractionDigits:0}),u=j=>new Date(j).toLocaleDateString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit"}),d=j=>{if(j.icon)return a.jsx("span",{className:"text-lg",children:j.icon});switch(j.type||j){case"indoor":return a.jsx(qC,{className:"h-5 w-5 text-blue-600"});case"outdoor":return a.jsx(QC,{className:"h-5 w-5 text-yellow-600"});case"disabled":return a.jsx(VC,{className:"h-5 w-5 text-green-600"});default:return a.jsx(ir,{className:"h-5 w-5 text-gray-600"})}},f=j=>{switch(j){case"indoor":return"室內";case"outdoor":return"戶外";case"disabled":return"殘障人士";default:return j}},h=j=>{const S={pending:{label:"等待確認",variant:"secondary",color:"bg-yellow-100 text-yellow-800"},confirmed:{label:"預約成功",variant:"default",color:"bg-green-100 text-green-800"},"checked-in":{label:"已進入停車場",variant:"default",color:"bg-blue-100 text-blue-800"},"checked-out":{label:"已離開停車場",variant:"outline",color:"bg-gray-100 text-gray-800"},cancelled:{label:"已取消",variant:"destructive",color:"bg-red-100 text-red-800"}},N=S[j]||S.pending;return a.jsx(Me,{variant:N.variant,className:N.color,children:N.label})},p=()=>{t("/")};return i?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"正在加載信息..."})]})}):o?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-8",children:a.jsxs("div",{className:"container mx-auto px-4 max-w-full",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-green-100 rounded-full mb-4",children:a.jsx(mr,{className:"h-10 w-10 text-green-600"})}),a.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"預約成功！"}),a.jsx("p",{className:"text-gray-600",children:"感謝您使用我們的服務"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs(le,{className:"border-2 border-green-200 bg-green-50/50",children:[a.jsx(ge,{className:"pb-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(ve,{className:"text-xl text-gray-800",children:"預約信息"}),a.jsxs(tt,{className:"text-gray-600",children:["預約編號: ",a.jsx("span",{className:"font-mono font-bold text-blue-600",children:o.bookingNumber})]})]}),h(o.status)]})}),a.jsxs(ue,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Dt,{className:"h-5 w-5 text-blue-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"進入停車場日期"}),a.jsx("p",{className:"font-semibold",children:u(o.checkInTime)})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(_r,{className:"h-5 w-5 text-blue-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"離開停車場日期"}),a.jsx("p",{className:"font-semibold",children:u(o.checkOutTime)})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(ki,{className:"h-5 w-5 text-blue-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"停車場類型"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[d(o.parkingType),a.jsx("p",{className:"font-semibold",children:o.parkingType.name}),a.jsx(Me,{variant:"outline",className:"text-xs",children:f(o.parkingType.type||"indoor")})]})]})]})]})]}),a.jsxs(le,{children:[a.jsx(ge,{children:a.jsxs(ve,{className:"flex items-center space-x-2",children:[a.jsx(Nr,{className:"h-5 w-5 text-blue-600"}),a.jsx("span",{children:"客戶信息"}),o.isVIP&&a.jsx(Me,{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white border-0",children:"👑 VIP 會員"})]})}),a.jsx(ue,{className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Nr,{className:"h-5 w-5 text-gray-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"您的姓名"}),a.jsx("p",{className:"font-semibold",children:o.driverName})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(ir,{className:"h-5 w-5 text-gray-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"車牌號碼"}),a.jsx("p",{className:"font-semibold font-mono",children:o.licensePlate})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(ca,{className:"h-5 w-5 text-gray-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"電話號碼"}),a.jsx("p",{className:"font-semibold",children:o.phone})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(ys,{className:"h-5 w-5 text-gray-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"電子郵件"}),a.jsx("p",{className:"font-semibold",children:o.email})]})]})]})})]}),a.jsxs(le,{children:[a.jsx(ge,{children:a.jsxs(ve,{className:"flex items-center space-x-2",children:[a.jsx(cg,{className:"h-5 w-5 text-blue-600"}),a.jsx("span",{children:"付款詳情"})]})}),a.jsx(ue,{children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("span",{className:"text-gray-600",children:["基本費用 (",o.durationDays," 天)"]}),a.jsx("span",{className:"font-semibold",children:l(o.totalAmount)})]}),o.addonServices.length>0&&a.jsxs(a.Fragment,{children:[a.jsx(di,{}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm font-medium text-gray-700",children:"附加服務:"}),o.addonServices.map((j,S)=>a.jsxs("div",{className:"flex justify-between items-center text-sm",children:[a.jsx("span",{className:"text-gray-600",children:j.name}),a.jsx("span",{children:l(j.price)})]},S))]})]}),o.discountAmount>0&&a.jsxs(a.Fragment,{children:[a.jsx(di,{}),a.jsxs("div",{className:"flex justify-between items-center py-2 bg-green-50 rounded-lg px-3",children:[a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx("span",{className:"text-green-600",children:"🎫 折扣:"})}),a.jsxs("span",{className:"font-semibold text-green-600",children:["-",l(o.discountAmount)]})]})]}),o.vipDiscount&&o.vipDiscount>0&&a.jsxs(a.Fragment,{children:[a.jsx(di,{}),a.jsxs("div",{className:"flex justify-between items-center py-2 bg-blue-50 rounded-lg px-3",children:[a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx("span",{className:"text-blue-600",children:"👑 VIP 折扣:"})}),a.jsxs("span",{className:"font-semibold text-blue-600",children:["-",l(o.vipDiscount)]})]})]}),a.jsx(di,{}),a.jsx("div",{className:"bg-gradient-to-r from-emerald-100 to-teal-100 p-3 rounded-lg border-2 border-emerald-300",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-semibold",children:"總費用:"}),a.jsx("span",{className:"font-semibold",children:l(o.totalAmount)})]}),(o.discountAmount>0||o.vipDiscount&&o.vipDiscount>0)&&a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-semibold text-green-700",children:"總折扣:"}),a.jsxs("span",{className:"font-bold text-green-700 text-lg",children:["-",l((o.discountAmount||0)+(o.vipDiscount||0))]})]}),a.jsx("div",{className:"border-t pt-2",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-bold text-lg",children:"總付款:"}),a.jsx("span",{className:"font-bold text-emerald-800 text-xl",children:l(o.finalAmount)})]})})]})}),a.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[a.jsx(ig,{className:"h-4 w-4"}),a.jsxs("span",{children:["付款方式: ",o.paymentMethod]})]})]})})]})]}),a.jsxs("div",{className:"space-y-6",children:[r&&a.jsxs(le,{children:[a.jsx(ge,{children:a.jsxs(ve,{className:"text-lg flex items-center space-x-2",children:[a.jsx(bi,{className:"h-5 w-5 text-blue-600"}),a.jsx("span",{children:"聯繫信息"})]})}),a.jsxs(ue,{className:"space-y-3 text-sm",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ca,{className:"h-4 w-4 text-gray-500"}),a.jsx("span",{children:((m=r.contactInfo)==null?void 0:m.phone)||"N/A"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ys,{className:"h-4 w-4 text-gray-500"}),a.jsx("span",{children:((v=r.contactInfo)==null?void 0:v.email)||"N/A"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ki,{className:"h-4 w-4 text-gray-500"}),a.jsx("span",{children:((y=r.contactInfo)==null?void 0:y.address)||"N/A"})]}),((b=r.contactInfo)==null?void 0:b.website)&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(bi,{className:"h-4 w-4 text-gray-500"}),a.jsx("a",{href:r.contactInfo.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:r.contactInfo.website})]})]})]}),a.jsxs(le,{className:"border-amber-200 bg-amber-50/50",children:[a.jsx(ge,{children:a.jsx(ve,{className:"text-lg text-amber-800",children:"重要提示"})}),a.jsxs(ue,{className:"text-sm text-amber-700 space-y-2",children:[a.jsx("p",{children:"• 請按預約時間到達"}),a.jsx("p",{children:"• 請攜帶車輛證明文件和駕駛執照"}),a.jsx("p",{children:"• 如有變更，請立即聯繫"}),a.jsx("p",{children:"• 保留預約編號以供查詢"})]})]})]})]})]})}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-red-500 text-6xl mb-4",children:"⚠️"}),a.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"找不到預約信息"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"請返回預約頁面"}),a.jsxs(q,{onClick:p,className:"bg-[#39653f] hover:bg-[#2d4f33]",children:[a.jsx(ZC,{className:"h-4 w-4 mr-2"}),"返回主頁"]})]})})};function Ra(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e==null||e(i),r===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function Ox(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function E$(...e){return t=>{let r=!1;const n=e.map(i=>{const s=Ox(i,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<n.length;i++){const s=n[i];typeof s=="function"?s():Ox(e[i],null)}}}}function qi(...e){return x.useCallback(E$(...e),e)}function $$(e,t){const r=x.createContext(t),n=s=>{const{children:o,...c}=s,l=x.useMemo(()=>c,Object.values(c));return a.jsx(r.Provider,{value:l,children:o})};n.displayName=e+"Provider";function i(s){const o=x.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[n,i]}function D$(e,t=[]){let r=[];function n(s,o){const c=x.createContext(o),l=r.length;r=[...r,o];const u=f=>{var y;const{scope:h,children:p,...g}=f,m=((y=h==null?void 0:h[e])==null?void 0:y[l])||c,v=x.useMemo(()=>g,Object.values(g));return a.jsx(m.Provider,{value:v,children:p})};u.displayName=s+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[l])||c,g=x.useContext(p);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=r.map(o=>x.createContext(o));return function(c){const l=(c==null?void 0:c[e])||s;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:l}}),[c,l])}};return i.scopeName=e,[n,I$(i,...t)]}function I$(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=n.reduce((c,{useScope:l,scopeName:u})=>{const f=l(s)[`__scope${u}`];return{...c,...f}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var sc=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},M$=Wi[" useId ".trim().toString()]||(()=>{}),R$=0;function nh(e){const[t,r]=x.useState(M$());return sc(()=>{r(n=>n??String(R$++))},[e]),e||(t?`radix-${t}`:"")}var L$=Wi[" useInsertionEffect ".trim().toString()]||sc;function F$({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[i,s,o]=B$({defaultProp:t,onChange:r}),c=e!==void 0,l=c?e:i;{const d=x.useRef(e!==void 0);x.useEffect(()=>{const f=d.current;f!==c&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=c},[c,n])}const u=x.useCallback(d=>{var f;if(c){const h=V$(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else s(d)},[c,e,s,o]);return[l,u]}function B$({defaultProp:e,onChange:t}){const[r,n]=x.useState(e),i=x.useRef(r),s=x.useRef(t);return L$(()=>{s.current=t},[t]),x.useEffect(()=>{var o;i.current!==r&&((o=s.current)==null||o.call(s,r),i.current=r)},[r,i]),[r,n,s]}function V$(e){return typeof e=="function"}var z$=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ba=z$.reduce((e,t)=>{const r=en(`Primitive.${t}`),n=x.forwardRef((i,s)=>{const{asChild:o,...c}=i,l=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(l,{...c,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function U$(e,t){e&&ro.flushSync(()=>e.dispatchEvent(t))}function oc(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function W$(e,t=globalThis==null?void 0:globalThis.document){const r=oc(e);x.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var H$="DismissableLayer",cm="dismissableLayer.update",q$="dismissableLayer.pointerDownOutside",K$="dismissableLayer.focusOutside",_x,L1=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),F1=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:c,...l}=e,u=x.useContext(L1),[d,f]=x.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=x.useState({}),g=qi(t,A=>f(A)),m=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=m.indexOf(v),b=d?m.indexOf(d):-1,j=u.layersWithOutsidePointerEventsDisabled.size>0,S=b>=y,N=X$(A=>{const O=A.target,_=[...u.branches].some(P=>P.contains(O));!S||_||(i==null||i(A),o==null||o(A),A.defaultPrevented||c==null||c())},h),w=Y$(A=>{const O=A.target;[...u.branches].some(P=>P.contains(O))||(s==null||s(A),o==null||o(A),A.defaultPrevented||c==null||c())},h);return W$(A=>{b===u.layers.size-1&&(n==null||n(A),!A.defaultPrevented&&c&&(A.preventDefault(),c()))},h),x.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(_x=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),kx(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=_x)}},[d,h,r,u]),x.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),kx())},[d,u]),x.useEffect(()=>{const A=()=>p({});return document.addEventListener(cm,A),()=>document.removeEventListener(cm,A)},[]),a.jsx(ba.div,{...l,ref:g,style:{pointerEvents:j?S?"auto":"none":void 0,...e.style},onFocusCapture:Ra(e.onFocusCapture,w.onFocusCapture),onBlurCapture:Ra(e.onBlurCapture,w.onBlurCapture),onPointerDownCapture:Ra(e.onPointerDownCapture,N.onPointerDownCapture)})});F1.displayName=H$;var G$="DismissableLayerBranch",Z$=x.forwardRef((e,t)=>{const r=x.useContext(L1),n=x.useRef(null),i=qi(t,n);return x.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),a.jsx(ba.div,{...e,ref:i})});Z$.displayName=G$;function X$(e,t=globalThis==null?void 0:globalThis.document){const r=oc(e),n=x.useRef(!1),i=x.useRef(()=>{});return x.useEffect(()=>{const s=c=>{if(c.target&&!n.current){let l=function(){B1(q$,r,u,{discrete:!0})};const u={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=l,t.addEventListener("click",i.current,{once:!0})):l()}else t.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",s),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Y$(e,t=globalThis==null?void 0:globalThis.document){const r=oc(e),n=x.useRef(!1);return x.useEffect(()=>{const i=s=>{s.target&&!n.current&&B1(K$,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function kx(){const e=new CustomEvent(cm);document.dispatchEvent(e)}function B1(e,t,r,{discrete:n}){const i=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?U$(i,s):i.dispatchEvent(s)}var ah="focusScope.autoFocusOnMount",ih="focusScope.autoFocusOnUnmount",Px={bubbles:!1,cancelable:!0},J$="FocusScope",V1=x.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=e,[c,l]=x.useState(null),u=oc(i),d=oc(s),f=x.useRef(null),h=qi(t,m=>l(m)),p=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(n){let m=function(j){if(p.paused||!c)return;const S=j.target;c.contains(S)?f.current=S:Oa(f.current,{select:!0})},v=function(j){if(p.paused||!c)return;const S=j.relatedTarget;S!==null&&(c.contains(S)||Oa(f.current,{select:!0}))},y=function(j){if(document.activeElement===document.body)for(const N of j)N.removedNodes.length>0&&Oa(c)};document.addEventListener("focusin",m),document.addEventListener("focusout",v);const b=new MutationObserver(y);return c&&b.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",v),b.disconnect()}}},[n,c,p.paused]),x.useEffect(()=>{if(c){Cx.add(p);const m=document.activeElement;if(!c.contains(m)){const y=new CustomEvent(ah,Px);c.addEventListener(ah,u),c.dispatchEvent(y),y.defaultPrevented||(Q$(aD(z1(c)),{select:!0}),document.activeElement===m&&Oa(c))}return()=>{c.removeEventListener(ah,u),setTimeout(()=>{const y=new CustomEvent(ih,Px);c.addEventListener(ih,d),c.dispatchEvent(y),y.defaultPrevented||Oa(m??document.body,{select:!0}),c.removeEventListener(ih,d),Cx.remove(p)},0)}}},[c,u,d,p]);const g=x.useCallback(m=>{if(!r&&!n||p.paused)return;const v=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,y=document.activeElement;if(v&&y){const b=m.currentTarget,[j,S]=eD(b);j&&S?!m.shiftKey&&y===S?(m.preventDefault(),r&&Oa(j,{select:!0})):m.shiftKey&&y===j&&(m.preventDefault(),r&&Oa(S,{select:!0})):y===b&&m.preventDefault()}},[r,n,p.paused]);return a.jsx(ba.div,{tabIndex:-1,...o,ref:h,onKeyDown:g})});V1.displayName=J$;function Q$(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Oa(n,{select:t}),document.activeElement!==r)return}function eD(e){const t=z1(e),r=Tx(t,e),n=Tx(t.reverse(),e);return[r,n]}function z1(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Tx(e,t){for(const r of e)if(!tD(r,{upTo:t}))return r}function tD(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function rD(e){return e instanceof HTMLInputElement&&"select"in e}function Oa(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&rD(e)&&t&&e.select()}}var Cx=nD();function nD(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Ex(e,t),e.unshift(t)},remove(t){var r;e=Ex(e,t),(r=e[0])==null||r.resume()}}}function Ex(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function aD(e){return e.filter(t=>t.tagName!=="A")}var iD="Portal",U1=x.forwardRef((e,t)=>{var c;const{container:r,...n}=e,[i,s]=x.useState(!1);sc(()=>s(!0),[]);const o=r||i&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return o?kw.createPortal(a.jsx(ba.div,{...n,ref:t}),o):null});U1.displayName=iD;function sD(e,t){return x.useReducer((r,n)=>t[r][n]??r,e)}var Kd=e=>{const{present:t,children:r}=e,n=oD(t),i=typeof r=="function"?r({present:n.isPresent}):x.Children.only(r),s=qi(n.ref,cD(i));return typeof r=="function"||n.isPresent?x.cloneElement(i,{ref:s}):null};Kd.displayName="Presence";function oD(e){const[t,r]=x.useState(),n=x.useRef(null),i=x.useRef(e),s=x.useRef("none"),o=e?"mounted":"unmounted",[c,l]=sD(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const u=Al(n.current);s.current=c==="mounted"?u:"none"},[c]),sc(()=>{const u=n.current,d=i.current;if(d!==e){const h=s.current,p=Al(u);e?l("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,l]),sc(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const m=Al(n.current).includes(p.animationName);if(p.target===t&&m&&(l("ANIMATION_END"),!i.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},h=p=>{p.target===t&&(s.current=Al(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:x.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Al(e){return(e==null?void 0:e.animationName)||"none"}function cD(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var sh=0;function lD(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??$x()),document.body.insertAdjacentElement("beforeend",e[1]??$x()),sh++,()=>{sh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),sh--}},[])}function $x(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var An=function(){return An=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},An.apply(this,arguments)};function W1(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function uD(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,s;n<i;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}var Ql="right-scroll-bar-position",eu="width-before-scroll-bar",dD="with-scroll-bars-hidden",fD="--removed-body-scroll-bar-size";function oh(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function hD(e,t){var r=x.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=t,r.facade}var mD=typeof window<"u"?x.useLayoutEffect:x.useEffect,Dx=new WeakMap;function pD(e,t){var r=hD(null,function(n){return e.forEach(function(i){return oh(i,n)})});return mD(function(){var n=Dx.get(r);if(n){var i=new Set(n),s=new Set(e),o=r.current;i.forEach(function(c){s.has(c)||oh(c,null)}),s.forEach(function(c){i.has(c)||oh(c,o)})}Dx.set(r,e)},[e]),r}function gD(e){return e}function vD(e,t){t===void 0&&(t=gD);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(s){var o=t(s,n);return r.push(o),function(){r=r.filter(function(c){return c!==o})}},assignSyncMedium:function(s){for(n=!0;r.length;){var o=r;r=[],o.forEach(s)}r={push:function(c){return s(c)},filter:function(){return r}}},assignMedium:function(s){n=!0;var o=[];if(r.length){var c=r;r=[],c.forEach(s),o=r}var l=function(){var d=o;o=[],d.forEach(s)},u=function(){return Promise.resolve().then(l)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return i}function xD(e){e===void 0&&(e={});var t=vD(null);return t.options=An({async:!0,ssr:!1},e),t}var H1=function(e){var t=e.sideCar,r=W1(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return x.createElement(n,An({},r))};H1.isSideCarExport=!0;function yD(e,t){return e.useMedium(t),H1}var q1=xD(),ch=function(){},Gd=x.forwardRef(function(e,t){var r=x.useRef(null),n=x.useState({onScrollCapture:ch,onWheelCapture:ch,onTouchMoveCapture:ch}),i=n[0],s=n[1],o=e.forwardProps,c=e.children,l=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,p=e.noIsolation,g=e.inert,m=e.allowPinchZoom,v=e.as,y=v===void 0?"div":v,b=e.gapMode,j=W1(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,N=pD([r,t]),w=An(An({},j),i);return x.createElement(x.Fragment,null,d&&x.createElement(S,{sideCar:q1,removeScrollBar:u,shards:f,noIsolation:p,inert:g,setCallbacks:s,allowPinchZoom:!!m,lockRef:r,gapMode:b}),o?x.cloneElement(x.Children.only(c),An(An({},w),{ref:N})):x.createElement(y,An({},w,{className:l,ref:N}),c))});Gd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Gd.classNames={fullWidth:eu,zeroRight:Ql};var bD=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function jD(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=bD();return t&&e.setAttribute("nonce",t),e}function wD(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function ND(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var SD=function(){var e=0,t=null;return{add:function(r){e==0&&(t=jD())&&(wD(t,r),ND(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},AD=function(){var e=SD();return function(t,r){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},K1=function(){var e=AD(),t=function(r){var n=r.styles,i=r.dynamic;return e(n,i),null};return t},OD={left:0,top:0,right:0,gap:0},lh=function(e){return parseInt(e||"",10)||0},_D=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[lh(r),lh(n),lh(i)]},kD=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return OD;var t=_D(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},PD=K1(),bs="data-scroll-locked",TD=function(e,t,r,n){var i=e.left,s=e.top,o=e.right,c=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(dD,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(c,"px ").concat(n,`;
  }
  body[`).concat(bs,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(c,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ql,` {
    right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(eu,` {
    margin-right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(Ql," .").concat(Ql,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(eu," .").concat(eu,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(bs,`] {
    `).concat(fD,": ").concat(c,`px;
  }
`)},Ix=function(){var e=parseInt(document.body.getAttribute(bs)||"0",10);return isFinite(e)?e:0},CD=function(){x.useEffect(function(){return document.body.setAttribute(bs,(Ix()+1).toString()),function(){var e=Ix()-1;e<=0?document.body.removeAttribute(bs):document.body.setAttribute(bs,e.toString())}},[])},ED=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,i=n===void 0?"margin":n;CD();var s=x.useMemo(function(){return kD(i)},[i]);return x.createElement(PD,{styles:TD(s,!t,i,r?"":"!important")})},lm=!1;if(typeof window<"u")try{var Ol=Object.defineProperty({},"passive",{get:function(){return lm=!0,!0}});window.addEventListener("test",Ol,Ol),window.removeEventListener("test",Ol,Ol)}catch{lm=!1}var Ji=lm?{passive:!1}:!1,$D=function(e){return e.tagName==="TEXTAREA"},G1=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!$D(e)&&r[t]==="visible")},DD=function(e){return G1(e,"overflowY")},ID=function(e){return G1(e,"overflowX")},Mx=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=Z1(e,n);if(i){var s=X1(e,n),o=s[1],c=s[2];if(o>c)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},MD=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},RD=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},Z1=function(e,t){return e==="v"?DD(t):ID(t)},X1=function(e,t){return e==="v"?MD(t):RD(t)},LD=function(e,t){return e==="h"&&t==="rtl"?-1:1},FD=function(e,t,r,n,i){var s=LD(e,window.getComputedStyle(t).direction),o=s*n,c=r.target,l=t.contains(c),u=!1,d=o>0,f=0,h=0;do{var p=X1(e,c),g=p[0],m=p[1],v=p[2],y=m-v-s*g;(g||y)&&Z1(e,c)&&(f+=y,h+=g),c instanceof ShadowRoot?c=c.host:c=c.parentNode}while(!l&&c!==document.body||l&&(t.contains(c)||t===c));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},_l=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Rx=function(e){return[e.deltaX,e.deltaY]},Lx=function(e){return e&&"current"in e?e.current:e},BD=function(e,t){return e[0]===t[0]&&e[1]===t[1]},VD=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},zD=0,Qi=[];function UD(e){var t=x.useRef([]),r=x.useRef([0,0]),n=x.useRef(),i=x.useState(zD++)[0],s=x.useState(K1)[0],o=x.useRef(e);x.useEffect(function(){o.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var m=uD([e.lockRef.current],(e.shards||[]).map(Lx),!0).filter(Boolean);return m.forEach(function(v){return v.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),m.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var c=x.useCallback(function(m,v){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var y=_l(m),b=r.current,j="deltaX"in m?m.deltaX:b[0]-y[0],S="deltaY"in m?m.deltaY:b[1]-y[1],N,w=m.target,A=Math.abs(j)>Math.abs(S)?"h":"v";if("touches"in m&&A==="h"&&w.type==="range")return!1;var O=Mx(A,w);if(!O)return!0;if(O?N=A:(N=A==="v"?"h":"v",O=Mx(A,w)),!O)return!1;if(!n.current&&"changedTouches"in m&&(j||S)&&(n.current=N),!N)return!0;var _=n.current||N;return FD(_,v,m,_==="h"?j:S)},[]),l=x.useCallback(function(m){var v=m;if(!(!Qi.length||Qi[Qi.length-1]!==s)){var y="deltaY"in v?Rx(v):_l(v),b=t.current.filter(function(N){return N.name===v.type&&(N.target===v.target||v.target===N.shadowParent)&&BD(N.delta,y)})[0];if(b&&b.should){v.cancelable&&v.preventDefault();return}if(!b){var j=(o.current.shards||[]).map(Lx).filter(Boolean).filter(function(N){return N.contains(v.target)}),S=j.length>0?c(v,j[0]):!o.current.noIsolation;S&&v.cancelable&&v.preventDefault()}}},[]),u=x.useCallback(function(m,v,y,b){var j={name:m,delta:v,target:y,should:b,shadowParent:WD(y)};t.current.push(j),setTimeout(function(){t.current=t.current.filter(function(S){return S!==j})},1)},[]),d=x.useCallback(function(m){r.current=_l(m),n.current=void 0},[]),f=x.useCallback(function(m){u(m.type,Rx(m),m.target,c(m,e.lockRef.current))},[]),h=x.useCallback(function(m){u(m.type,_l(m),m.target,c(m,e.lockRef.current))},[]);x.useEffect(function(){return Qi.push(s),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Ji),document.addEventListener("touchmove",l,Ji),document.addEventListener("touchstart",d,Ji),function(){Qi=Qi.filter(function(m){return m!==s}),document.removeEventListener("wheel",l,Ji),document.removeEventListener("touchmove",l,Ji),document.removeEventListener("touchstart",d,Ji)}},[]);var p=e.removeScrollBar,g=e.inert;return x.createElement(x.Fragment,null,g?x.createElement(s,{styles:VD(i)}):null,p?x.createElement(ED,{gapMode:e.gapMode}):null)}function WD(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const HD=yD(q1,UD);var pg=x.forwardRef(function(e,t){return x.createElement(Gd,An({},e,{ref:t,sideCar:HD}))});pg.classNames=Gd.classNames;var qD=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},es=new WeakMap,kl=new WeakMap,Pl={},uh=0,Y1=function(e){return e&&(e.host||Y1(e.parentNode))},KD=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=Y1(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},GD=function(e,t,r,n){var i=KD(t,Array.isArray(e)?e:[e]);Pl[r]||(Pl[r]=new WeakMap);var s=Pl[r],o=[],c=new Set,l=new Set(i),u=function(f){!f||c.has(f)||(c.add(f),u(f.parentNode))};i.forEach(u);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(c.has(h))d(h);else try{var p=h.getAttribute(n),g=p!==null&&p!=="false",m=(es.get(h)||0)+1,v=(s.get(h)||0)+1;es.set(h,m),s.set(h,v),o.push(h),m===1&&g&&kl.set(h,!0),v===1&&h.setAttribute(r,"true"),g||h.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return d(t),c.clear(),uh++,function(){o.forEach(function(f){var h=es.get(f)-1,p=s.get(f)-1;es.set(f,h),s.set(f,p),h||(kl.has(f)||f.removeAttribute(n),kl.delete(f)),p||f.removeAttribute(r)}),uh--,uh||(es=new WeakMap,es=new WeakMap,kl=new WeakMap,Pl={})}},J1=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),i=qD(e);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live]"))),GD(n,i,r,"aria-hidden")):function(){return null}},Zd="Dialog",[Q1,Nce]=D$(Zd),[ZD,jn]=Q1(Zd),eN=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:i,onOpenChange:s,modal:o=!0}=e,c=x.useRef(null),l=x.useRef(null),[u,d]=F$({prop:n,defaultProp:i??!1,onChange:s,caller:Zd});return a.jsx(ZD,{scope:t,triggerRef:c,contentRef:l,contentId:nh(),titleId:nh(),descriptionId:nh(),open:u,onOpenChange:d,onOpenToggle:x.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};eN.displayName=Zd;var tN="DialogTrigger",XD=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=jn(tN,r),s=qi(t,i.triggerRef);return a.jsx(ba.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":xg(i.open),...n,ref:s,onClick:Ra(e.onClick,i.onOpenToggle)})});XD.displayName=tN;var gg="DialogPortal",[YD,rN]=Q1(gg,{forceMount:void 0}),nN=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:i}=e,s=jn(gg,t);return a.jsx(YD,{scope:t,forceMount:r,children:x.Children.map(n,o=>a.jsx(Kd,{present:r||s.open,children:a.jsx(U1,{asChild:!0,container:i,children:o})}))})};nN.displayName=gg;var hu="DialogOverlay",aN=x.forwardRef((e,t)=>{const r=rN(hu,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,s=jn(hu,e.__scopeDialog);return s.modal?a.jsx(Kd,{present:n||s.open,children:a.jsx(QD,{...i,ref:t})}):null});aN.displayName=hu;var JD=en("DialogOverlay.RemoveScroll"),QD=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=jn(hu,r);return a.jsx(pg,{as:JD,allowPinchZoom:!0,shards:[i.contentRef],children:a.jsx(ba.div,{"data-state":xg(i.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Pi="DialogContent",iN=x.forwardRef((e,t)=>{const r=rN(Pi,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,s=jn(Pi,e.__scopeDialog);return a.jsx(Kd,{present:n||s.open,children:s.modal?a.jsx(eI,{...i,ref:t}):a.jsx(tI,{...i,ref:t})})});iN.displayName=Pi;var eI=x.forwardRef((e,t)=>{const r=jn(Pi,e.__scopeDialog),n=x.useRef(null),i=qi(t,r.contentRef,n);return x.useEffect(()=>{const s=n.current;if(s)return J1(s)},[]),a.jsx(sN,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ra(e.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ra(e.onPointerDownOutside,s=>{const o=s.detail.originalEvent,c=o.button===0&&o.ctrlKey===!0;(o.button===2||c)&&s.preventDefault()}),onFocusOutside:Ra(e.onFocusOutside,s=>s.preventDefault())})}),tI=x.forwardRef((e,t)=>{const r=jn(Pi,e.__scopeDialog),n=x.useRef(!1),i=x.useRef(!1);return a.jsx(sN,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,c;(o=e.onCloseAutoFocus)==null||o.call(e,s),s.defaultPrevented||(n.current||(c=r.triggerRef.current)==null||c.focus(),s.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:s=>{var l,u;(l=e.onInteractOutside)==null||l.call(e,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),sN=x.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=e,c=jn(Pi,r),l=x.useRef(null),u=qi(t,l);return lD(),a.jsxs(a.Fragment,{children:[a.jsx(V1,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:s,children:a.jsx(F1,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":xg(c.open),...o,ref:u,onDismiss:()=>c.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(rI,{titleId:c.titleId}),a.jsx(aI,{contentRef:l,descriptionId:c.descriptionId})]})]})}),vg="DialogTitle",oN=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=jn(vg,r);return a.jsx(ba.h2,{id:i.titleId,...n,ref:t})});oN.displayName=vg;var cN="DialogDescription",lN=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=jn(cN,r);return a.jsx(ba.p,{id:i.descriptionId,...n,ref:t})});lN.displayName=cN;var uN="DialogClose",dN=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=jn(uN,r);return a.jsx(ba.button,{type:"button",...n,ref:t,onClick:Ra(e.onClick,()=>i.onOpenChange(!1))})});dN.displayName=uN;function xg(e){return e?"open":"closed"}var fN="DialogTitleWarning",[Sce,hN]=$$(fN,{contentName:Pi,titleName:vg,docsSlug:"dialog"}),rI=({titleId:e})=>{const t=hN(fN),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},nI="DialogDescriptionWarning",aI=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${hN(nI).contentName}}.`;return x.useEffect(()=>{var s;const i=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},iI=eN,sI=nN,mN=aN,pN=iN,gN=oN,vN=lN,oI=dN;const pt=iI,cI=sI,xN=x.forwardRef(({className:e,...t},r)=>a.jsx(mN,{ref:r,className:Qe("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));xN.displayName=mN.displayName;const lt=x.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(cI,{children:[a.jsx(xN,{}),a.jsxs(pN,{ref:n,className:Qe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,a.jsxs(oI,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(cl,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));lt.displayName=pN.displayName;const ut=({className:e,...t})=>a.jsx("div",{className:Qe("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});ut.displayName="DialogHeader";const dt=({className:e,...t})=>a.jsx("div",{className:Qe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});dt.displayName="DialogFooter";const ft=x.forwardRef(({className:e,...t},r)=>a.jsx(gN,{ref:r,className:Qe("text-lg font-semibold leading-none tracking-tight",e),...t}));ft.displayName=gN.displayName;const ht=x.forwardRef(({className:e,...t},r)=>a.jsx(vN,{ref:r,className:Qe("text-sm text-muted-foreground",e),...t}));ht.displayName=vN.displayName;const lI=()=>{const[e,t]=x.useState("phone"),[r,n]=x.useState(""),[i,s]=x.useState(!1),[o,c]=x.useState([]),[l,u]=x.useState(null),[d,f]=x.useState(!1),[h,p]=x.useState(!1),[g,m]=x.useState({status:"",dateFrom:"",dateTo:"",minAmount:"",maxAmount:""}),[v,y]=x.useState([]),b=async()=>{var P;if(!r.trim()){Z.error("請輸入搜尋資訊");return}try{s(!0);const C=e==="phone"?r.trim():void 0,E=e==="licensePlate"?r.trim().toUpperCase():void 0,k=await zE(C,E);c(k||[]),y(k||[]),(k==null?void 0:k.length)===0&&Z("找不到任何預約",{icon:"ℹ️"})}catch(C){((P=C.response)==null?void 0:P.status)===401?Z.error("請登入以查詢預約"):Z.error(C.message||"搜尋時發生錯誤")}finally{s(!1)}},j=async P=>{var C;try{const E=await UE(P);u(E),f(!0)}catch(E){((C=E.response)==null?void 0:C.status)===401?Z.error("請登入以查看預約詳情"):Z.error(E.message||"無法載入預約詳情")}},S=P=>{const C={pending:{label:"等待確認",variant:"secondary",color:"bg-yellow-100 text-yellow-800"},confirmed:{label:"預約成功",variant:"default",color:"bg-blue-100 text-blue-800"},"checked-in":{label:"已進入停車場",variant:"default",color:"bg-green-100 text-green-800"},"checked-out":{label:"已離開停車場",variant:"secondary",color:"bg-gray-100 text-gray-800"},cancelled:{label:"已取消",variant:"destructive",color:"bg-red-100 text-red-800"}},E=C[P]||C.pending;return a.jsx(Me,{variant:E.variant,className:E.color,children:E.label})},N=P=>new Date(P).toLocaleString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),w=P=>P.toLocaleString("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0,maximumFractionDigits:0}),A=P=>{if(P.icon)return P.icon;switch(P.type||P){case"indoor":return"🏢";case"outdoor":return"🌤";case"disabled":return"♿️";default:return"🚗"}},O=()=>{let P=[...o];if(g.status&&(P=P.filter(C=>C.status===g.status)),g.dateFrom){const C=new Date(g.dateFrom);P=P.filter(E=>new Date(E.checkInTime)>=C)}if(g.dateTo){const C=new Date(g.dateTo);P=P.filter(E=>new Date(E.checkInTime)<=C)}if(g.minAmount){const C=parseFloat(g.minAmount);P=P.filter(E=>E.finalAmount>=C)}if(g.maxAmount){const C=parseFloat(g.maxAmount);P=P.filter(E=>E.finalAmount<=C)}y(P)},_=()=>{m({status:"",dateFrom:"",dateTo:"",minAmount:"",maxAmount:""}),y(o)};return I.useEffect(()=>{O()},[g,o]),a.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold",children:"查詢預約"}),a.jsx("p",{className:"text-gray-600",children:"請輸入電話號碼或車牌號碼以查詢預約"})]}),a.jsxs(le,{className:"mb-8",children:[a.jsxs(ge,{children:[a.jsxs(ve,{className:"flex items-center space-x-2",children:[a.jsx(Hr,{className:"h-5 w-5"}),a.jsx("span",{children:"查詢預約"})]}),a.jsx(tt,{children:"選擇搜索方法並輸入信息"})]}),a.jsx(ue,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex space-x-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"radio",id:"phone",name:"searchType",value:"phone",checked:e==="phone",onChange:P=>t(P.target.value),className:"w-4 h-4 text-blue-600"}),a.jsxs(K,{htmlFor:"phone",className:"flex items-center space-x-2 cursor-pointer",children:[a.jsx(ca,{className:"h-4 w-4"}),a.jsx("span",{children:"電話號碼"})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"radio",id:"licensePlate",name:"searchType",value:"licensePlate",checked:e==="licensePlate",onChange:P=>t(P.target.value),className:"w-4 h-4 text-blue-600"}),a.jsxs(K,{htmlFor:"licensePlate",className:"flex items-center space-x-2 cursor-pointer",children:[a.jsx(ir,{className:"h-4 w-4"}),a.jsx("span",{children:"車牌號碼"})]})]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx(K,{htmlFor:"searchValue",children:e==="phone"?"電話號碼":"車牌號碼"}),a.jsx(oe,{id:"searchValue",placeholder:e==="phone"?"請輸入電話號碼":"請輸入車牌號碼",value:r,onChange:P=>n(P.target.value),onKeyPress:P=>P.key==="Enter"&&b()})]}),a.jsxs("div",{className:"flex items-end space-x-2",children:[a.jsxs(q,{variant:"outline",onClick:()=>p(!h),className:"px-4",children:[a.jsx(hr,{className:"h-4 w-4 mr-2"}),"過濾器"]}),a.jsx(q,{onClick:b,disabled:i||!r.trim(),className:"px-6",children:i?a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):a.jsxs(a.Fragment,{children:[a.jsx(Hr,{className:"h-4 w-4 mr-2"}),"搜索"]})})]})]}),h&&a.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h4",{className:"font-medium text-gray-700",children:"高級過濾器"}),a.jsxs(q,{variant:"outline",size:"sm",onClick:_,children:[a.jsx(cl,{className:"h-4 w-4 mr-1"}),"清除過濾器"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"status",children:"狀態"}),a.jsxs("select",{id:"status",value:g.status,onChange:P=>m(C=>({...C,status:P.target.value})),className:"w-full p-2 border border-gray-300 rounded-md",children:[a.jsx("option",{value:"",children:"所有狀態"}),a.jsx("option",{value:"pending",children:"等待確認"}),a.jsx("option",{value:"confirmed",children:"預約成功"}),a.jsx("option",{value:"checked-in",children:"已進入停車場"}),a.jsx("option",{value:"checked-out",children:"已離開停車場"}),a.jsx("option",{value:"cancelled",children:"已取消"})]})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"dateFrom",children:"從日期"}),a.jsx(oe,{id:"dateFrom",type:"date",value:g.dateFrom,onChange:P=>m(C=>({...C,dateFrom:P.target.value}))})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"dateTo",children:"到日期"}),a.jsx(oe,{id:"dateTo",type:"date",value:g.dateTo,onChange:P=>m(C=>({...C,dateTo:P.target.value}))})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"minAmount",children:"最小金額"}),a.jsx(oe,{id:"minAmount",type:"number",placeholder:"0",value:g.minAmount,onChange:P=>m(C=>({...C,minAmount:P.target.value}))})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"maxAmount",children:"最大金額"}),a.jsx(oe,{id:"maxAmount",type:"number",placeholder:"1000000",value:g.maxAmount,onChange:P=>m(C=>({...C,maxAmount:P.target.value}))})]})]})]})]})})]}),o.length>0&&a.jsxs(le,{children:[a.jsxs(ge,{children:[a.jsx(ve,{children:"搜索結果"}),a.jsxs(tt,{children:["找到 ",v.length," 預約 ",v.length!==o.length&&`(總共 ${o.length})`]})]}),a.jsx(ue,{children:a.jsx("div",{className:"space-y-4",children:v.map(P=>a.jsx(le,{className:"hover:shadow-md transition-shadow",children:a.jsx(ue,{className:"p-4",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx("h3",{className:"font-semibold",children:P.driverName}),S(P.status)]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ca,{className:"h-4 w-4"}),a.jsx("span",{children:P.phone})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ir,{className:"h-4 w-4"}),a.jsx("span",{children:P.licensePlate})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ki,{className:"h-4 w-4"}),a.jsx("span",{children:P.parkingType.name}),a.jsx("span",{className:"text-lg",children:A(P.parkingType)})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Dt,{className:"h-4 w-4"}),a.jsxs("span",{children:["進入停車場: ",N(P.checkInTime)]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(_r,{className:"h-4 w-4"}),a.jsxs("span",{children:["離開停車場: ",N(P.checkOutTime)]})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsxs("span",{className:"font-medium",children:["總金額: ",w(P.finalAmount)]})}),P.discountAmount>0&&a.jsx("div",{className:"flex items-center space-x-2 text-green-600",children:a.jsxs("span",{className:"text-xs",children:["🎫 折扣: -",w(P.discountAmount)]})}),P.vipDiscount&&P.vipDiscount>0&&a.jsx("div",{className:"flex items-center space-x-2 text-blue-600",children:a.jsxs("span",{className:"text-xs",children:["👑 VIP: -",w(P.vipDiscount)]})})]})]}),P.addonServices&&P.addonServices.length>0&&a.jsxs("div",{className:"mt-3",children:[a.jsx("div",{className:"text-sm font-medium text-gray-700 mb-1",children:"附加服務:"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:P.addonServices.map((C,E)=>{var k,$,T;return a.jsxs(Me,{variant:"outline",className:"text-xs",children:[((k=C.service)==null?void 0:k.icon)||C.icon||"🔧"," ",(($=C.service)==null?void 0:$.name)||C.name||"Unknown Service"," - ",w(((T=C.service)==null?void 0:T.price)||C.price||0)]},E)})})]})]}),a.jsxs(q,{variant:"outline",size:"sm",onClick:()=>j(P._id),children:[a.jsx(cu,{className:"h-4 w-4 mr-1"}),"詳細信息"]})]})})},P._id))})})]}),o.length===0&&!i&&r&&a.jsx(le,{children:a.jsxs(ue,{className:"p-8 text-center",children:[a.jsx(vs,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"找不到預約"}),a.jsxs("p",{className:"text-gray-500",children:["找不到任何預約與 ",e==="phone"?"電話號碼":"車牌號碼"," 相關。"]})]})}),a.jsx(pt,{open:d,onOpenChange:f,children:a.jsxs(lt,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[a.jsxs(ut,{children:[a.jsx(ft,{children:"預約詳細信息"}),a.jsx(ht,{children:"預約詳細信息"})]}),l&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsxs("h4",{className:"font-semibold mb-3 flex items-center",children:[a.jsx(Nr,{className:"h-4 w-4 mr-2"}),"客戶信息"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"姓名:"})," ",l.driverName]}),a.jsxs("div",{children:[a.jsx("strong",{children:"電話號碼:"})," ",l.phone]}),a.jsxs("div",{children:[a.jsx("strong",{children:"電子郵件:"})," ",l.email]}),a.jsxs("div",{children:[a.jsx("strong",{children:"VIP 狀態:"})," ",l.isVIP?"👑 VIP 會員":"普通客戶"]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"車牌號碼:"})," ",l.licensePlate]}),a.jsxs("div",{children:[a.jsx("strong",{children:"乘客:"})," ",l.passengerCount," 人"]}),a.jsxs("div",{children:[a.jsx("strong",{children:"行李:"})," ",l.luggageCount," 件"]})]})]})]}),a.jsxs("div",{children:[a.jsxs("h4",{className:"font-semibold mb-3 flex items-center",children:[a.jsx(Dt,{className:"h-4 w-4 mr-2"}),"預約信息"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"停車場:"})," ",l.parkingType.name]}),a.jsxs("div",{children:[a.jsx("strong",{children:"類型:"})," ",A(l.parkingType)," ",l.parkingType.type||"indoor"]}),a.jsxs("div",{children:[a.jsx("strong",{children:"狀態:"})," ",S(l.status)]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"進入停車場:"})," ",N(l.checkInTime)]}),a.jsxs("div",{children:[a.jsx("strong",{children:"離開停車場:"})," ",N(l.checkOutTime)]}),a.jsxs("div",{children:[a.jsx("strong",{children:"VIP:"})," ",l.isVIP?"是":"否"]})]})]})]}),(l.estimatedArrivalTime||l.flightNumber||l.notes)&&a.jsxs("div",{children:[a.jsxs("h4",{className:"font-semibold mb-3 flex items-center",children:[a.jsx(cu,{className:"h-4 w-4 mr-2"}),"附加信息"]}),a.jsxs("div",{className:"space-y-2 text-sm",children:[l.estimatedArrivalTime&&a.jsxs("div",{children:[a.jsx("strong",{children:"預計到達時間:"})," ",N(l.estimatedArrivalTime)]}),l.flightNumber&&a.jsxs("div",{children:[a.jsx("strong",{children:"航班號:"})," ",l.flightNumber]}),l.notes&&a.jsxs("div",{children:[a.jsx("strong",{children:"備註:"})," ",l.notes]})]})]}),l.addonServices&&l.addonServices.length>0&&a.jsxs("div",{children:[a.jsxs("h4",{className:"font-semibold mb-3 flex items-center",children:[a.jsx(ls,{className:"h-4 w-4 mr-2"}),"附加服務"]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:l.addonServices.map((P,C)=>{var E,k,$;return a.jsxs(Me,{variant:"outline",children:[((E=P.service)==null?void 0:E.icon)||P.icon||"🔧"," ",((k=P.service)==null?void 0:k.name)||P.name||"Unknown Service"," - ",w((($=P.service)==null?void 0:$.price)||P.price||0)]},C)})})]}),a.jsxs("div",{children:[a.jsxs("h4",{className:"font-semibold mb-3 flex items-center",children:[a.jsx("span",{className:"text-lg mr-2",children:"💰"}),"付款信息"]}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"總金額:"})," ",w(l.totalAmount)]}),l.discountAmount>0&&a.jsx("div",{className:"bg-green-50 p-2 rounded",children:a.jsxs("div",{children:[a.jsx("strong",{children:"🎫 折扣:"})," -",w(l.discountAmount)]})}),l.vipDiscount&&l.vipDiscount>0&&a.jsx("div",{className:"bg-blue-50 p-2 rounded",children:a.jsxs("div",{children:[a.jsx("strong",{children:"👑 VIP 折扣:"})," -",w(l.vipDiscount)]})}),a.jsxs("div",{className:"border-t pt-2",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"總折扣:"})," -",w((l.discountAmount||0)+(l.vipDiscount||0))]}),a.jsxs("div",{children:[a.jsx("strong",{children:"付款:"})," ",w(l.finalAmount)]})]}),a.jsxs("div",{children:[a.jsx("strong",{children:"付款方式:"})," ",l.paymentMethod]}),a.jsxs("div",{children:[a.jsx("strong",{children:"付款狀態:"})," ",l.paymentStatus]})]})]})]}),a.jsx(dt,{children:a.jsx(q,{variant:"outline",onClick:()=>f(!1),children:"關閉"})})]})})]})};var ll=e=>e.type==="checkbox",fi=e=>e instanceof Date,gr=e=>e==null;const yN=e=>typeof e=="object";var Mt=e=>!gr(e)&&!Array.isArray(e)&&yN(e)&&!fi(e),uI=e=>Mt(e)&&e.target?ll(e.target)?e.target.checked:e.target.value:e,dI=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,fI=(e,t)=>e.has(dI(t)),hI=e=>{const t=e.constructor&&e.constructor.prototype;return Mt(t)&&t.hasOwnProperty("isPrototypeOf")},yg=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Xr(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(yg&&(e instanceof Blob||n))&&(r||Mt(e)))if(t=r?[]:{},!r&&!hI(e))t=e;else for(const i in e)e.hasOwnProperty(i)&&(t[i]=Xr(e[i]));else return e;return t}var Xd=e=>Array.isArray(e)?e.filter(Boolean):[],Bt=e=>e===void 0,ke=(e,t,r)=>{if(!t||!Mt(e))return r;const n=Xd(t.split(/[,[\].]+?/)).reduce((i,s)=>gr(i)?i:i[s],e);return Bt(n)||n===e?Bt(e[t])?r:e[t]:n},Sn=e=>typeof e=="boolean",bg=e=>/^\w*$/.test(e),bN=e=>Xd(e.replace(/["|']|\]/g,"").split(/\.|\[/)),vt=(e,t,r)=>{let n=-1;const i=bg(t)?[t]:bN(t),s=i.length,o=s-1;for(;++n<s;){const c=i[n];let l=r;if(n!==o){const u=e[c];l=Mt(u)||Array.isArray(u)?u:isNaN(+i[n+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;e[c]=l,e=e[c]}return e};const Fx={BLUR:"blur",FOCUS_OUT:"focusout"},ln={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Jn={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};I.createContext(null);var mI=(e,t,r,n=!0)=>{const i={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(i,s,{get:()=>{const o=s;return t._proxyFormState[o]!==ln.all&&(t._proxyFormState[o]=!n||ln.all),e[o]}});return i},wr=e=>Mt(e)&&!Object.keys(e).length,pI=(e,t,r,n)=>{r(e);const{name:i,...s}=e;return wr(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(o=>t[o]===ln.all)},tu=e=>Array.isArray(e)?e:[e];function gI(e){const t=I.useRef(e);t.current=e,I.useEffect(()=>{const r=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{r&&r.unsubscribe()}},[e.disabled])}var Pn=e=>typeof e=="string",vI=(e,t,r,n,i)=>Pn(e)?(n&&t.watch.add(e),ke(r,e,i)):Array.isArray(e)?e.map(s=>(n&&t.watch.add(s),ke(r,s))):(n&&(t.watchAll=!0),r),jN=(e,t,r,n,i)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:i||!0}}:{},Bx=e=>({isOnSubmit:!e||e===ln.onSubmit,isOnBlur:e===ln.onBlur,isOnChange:e===ln.onChange,isOnAll:e===ln.all,isOnTouch:e===ln.onTouched}),Vx=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Xo=(e,t,r,n)=>{for(const i of r||Object.keys(e)){const s=ke(e,i);if(s){const{_f:o,...c}=s;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],i)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(Xo(c,t))break}else if(Mt(c)&&Xo(c,t))break}}};var xI=(e,t,r)=>{const n=tu(ke(e,r));return vt(n,"root",t[r]),vt(e,r,n),e},jg=e=>e.type==="file",On=e=>typeof e=="function",mu=e=>{if(!yg)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},ru=e=>Pn(e),wg=e=>e.type==="radio",pu=e=>e instanceof RegExp;const zx={value:!1,isValid:!1},Ux={value:!0,isValid:!0};var wN=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Bt(e[0].attributes.value)?Bt(e[0].value)||e[0].value===""?Ux:{value:e[0].value,isValid:!0}:Ux:zx}return zx};const Wx={isValid:!1,value:null};var NN=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,Wx):Wx;function Hx(e,t,r="validate"){if(ru(e)||Array.isArray(e)&&e.every(ru)||Sn(e)&&!e)return{type:r,message:ru(e)?e:"",ref:t}}var ts=e=>Mt(e)&&!pu(e)?e:{value:e,message:""},qx=async(e,t,r,n,i,s)=>{const{ref:o,refs:c,required:l,maxLength:u,minLength:d,min:f,max:h,pattern:p,validate:g,name:m,valueAsNumber:v,mount:y}=e._f,b=ke(r,m);if(!y||t.has(m))return{};const j=c?c[0]:o,S=E=>{i&&j.reportValidity&&(j.setCustomValidity(Sn(E)?"":E||""),j.reportValidity())},N={},w=wg(o),A=ll(o),O=w||A,_=(v||jg(o))&&Bt(o.value)&&Bt(b)||mu(o)&&o.value===""||b===""||Array.isArray(b)&&!b.length,P=jN.bind(null,m,n,N),C=(E,k,$,T=Jn.maxLength,M=Jn.minLength)=>{const D=E?k:$;N[m]={type:E?T:M,message:D,ref:o,...P(E?T:M,D)}};if(s?!Array.isArray(b)||!b.length:l&&(!O&&(_||gr(b))||Sn(b)&&!b||A&&!wN(c).isValid||w&&!NN(c).isValid)){const{value:E,message:k}=ru(l)?{value:!!l,message:l}:ts(l);if(E&&(N[m]={type:Jn.required,message:k,ref:j,...P(Jn.required,k)},!n))return S(k),N}if(!_&&(!gr(f)||!gr(h))){let E,k;const $=ts(h),T=ts(f);if(!gr(b)&&!isNaN(b)){const M=o.valueAsNumber||b&&+b;gr($.value)||(E=M>$.value),gr(T.value)||(k=M<T.value)}else{const M=o.valueAsDate||new Date(b),D=Y=>new Date(new Date().toDateString()+" "+Y),W=o.type=="time",R=o.type=="week";Pn($.value)&&b&&(E=W?D(b)>D($.value):R?b>$.value:M>new Date($.value)),Pn(T.value)&&b&&(k=W?D(b)<D(T.value):R?b<T.value:M<new Date(T.value))}if((E||k)&&(C(!!E,$.message,T.message,Jn.max,Jn.min),!n))return S(N[m].message),N}if((u||d)&&!_&&(Pn(b)||s&&Array.isArray(b))){const E=ts(u),k=ts(d),$=!gr(E.value)&&b.length>+E.value,T=!gr(k.value)&&b.length<+k.value;if(($||T)&&(C($,E.message,k.message),!n))return S(N[m].message),N}if(p&&!_&&Pn(b)){const{value:E,message:k}=ts(p);if(pu(E)&&!b.match(E)&&(N[m]={type:Jn.pattern,message:k,ref:o,...P(Jn.pattern,k)},!n))return S(k),N}if(g){if(On(g)){const E=await g(b,r),k=Hx(E,j);if(k&&(N[m]={...k,...P(Jn.validate,k.message)},!n))return S(k.message),N}else if(Mt(g)){let E={};for(const k in g){if(!wr(E)&&!n)break;const $=Hx(await g[k](b,r),j,k);$&&(E={...$,...P(k,$.message)},S($.message),n&&(N[m]=E))}if(!wr(E)&&(N[m]={ref:j,...E},!n))return N}}return S(!0),N};function yI(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Bt(e)?n++:e[t[n++]];return e}function bI(e){for(const t in e)if(e.hasOwnProperty(t)&&!Bt(e[t]))return!1;return!0}function Ht(e,t){const r=Array.isArray(t)?t:bg(t)?[t]:bN(t),n=r.length===1?e:yI(e,r),i=r.length-1,s=r[i];return n&&delete n[s],i!==0&&(Mt(n)&&wr(n)||Array.isArray(n)&&bI(n))&&Ht(e,r.slice(0,-1)),e}var dh=()=>{let e=[];return{get observers(){return e},next:i=>{for(const s of e)s.next&&s.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(s=>s!==i)}}),unsubscribe:()=>{e=[]}}},um=e=>gr(e)||!yN(e);function Ca(e,t){if(um(e)||um(t))return e===t;if(fi(e)&&fi(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const i of r){const s=e[i];if(!n.includes(i))return!1;if(i!=="ref"){const o=t[i];if(fi(s)&&fi(o)||Mt(s)&&Mt(o)||Array.isArray(s)&&Array.isArray(o)?!Ca(s,o):s!==o)return!1}}return!0}var SN=e=>e.type==="select-multiple",jI=e=>wg(e)||ll(e),fh=e=>mu(e)&&e.isConnected,AN=e=>{for(const t in e)if(On(e[t]))return!0;return!1};function gu(e,t={}){const r=Array.isArray(e);if(Mt(e)||r)for(const n in e)Array.isArray(e[n])||Mt(e[n])&&!AN(e[n])?(t[n]=Array.isArray(e[n])?[]:{},gu(e[n],t[n])):gr(e[n])||(t[n]=!0);return t}function ON(e,t,r){const n=Array.isArray(e);if(Mt(e)||n)for(const i in e)Array.isArray(e[i])||Mt(e[i])&&!AN(e[i])?Bt(t)||um(r[i])?r[i]=Array.isArray(e[i])?gu(e[i],[]):{...gu(e[i])}:ON(e[i],gr(t)?{}:t[i],r[i]):r[i]=!Ca(e[i],t[i]);return r}var Eo=(e,t)=>ON(e,t,gu(t)),_N=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Bt(e)?e:t?e===""?NaN:e&&+e:r&&Pn(e)?new Date(e):n?n(e):e;function hh(e){const t=e.ref;return jg(t)?t.files:wg(t)?NN(e.refs).value:SN(t)?[...t.selectedOptions].map(({value:r})=>r):ll(t)?wN(e.refs).value:_N(Bt(t.value)?e.ref.value:t.value,e)}var wI=(e,t,r,n)=>{const i={};for(const s of e){const o=ke(t,s);o&&vt(i,s,o._f)}return{criteriaMode:r,names:[...e],fields:i,shouldUseNativeValidation:n}},$o=e=>Bt(e)?e:pu(e)?e.source:Mt(e)?pu(e.value)?e.value.source:e.value:e;const Kx="AsyncFunction";var NI=e=>!!e&&!!e.validate&&!!(On(e.validate)&&e.validate.constructor.name===Kx||Mt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===Kx)),SI=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function Gx(e,t,r){const n=ke(e,r);if(n||bg(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const s=i.join("."),o=ke(t,s),c=ke(e,s);if(o&&!Array.isArray(o)&&r!==s)return{name:r};if(c&&c.type)return{name:s,error:c};i.pop()}return{name:r}}var AI=(e,t,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(t||e):(r?n.isOnBlur:i.isOnBlur)?!e:(r?n.isOnChange:i.isOnChange)?e:!0,OI=(e,t)=>!Xd(ke(e,t)).length&&Ht(e,t);const _I={mode:ln.onSubmit,reValidateMode:ln.onChange,shouldFocusError:!0};function kI(e={}){let t={..._I,...e},r={submitCount:0,isDirty:!1,isLoading:On(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},i=Mt(t.defaultValues)||Mt(t.values)?Xr(t.defaultValues||t.values)||{}:{},s=t.shouldUnregister?{}:Xr(i),o={action:!1,mount:!1,watch:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:dh(),array:dh(),state:dh()},h=Bx(t.mode),p=Bx(t.reValidateMode),g=t.criteriaMode===ln.all,m=L=>G=>{clearTimeout(u),u=setTimeout(L,G)},v=async L=>{if(!t.disabled&&(d.isValid||L)){const G=t.resolver?wr((await O()).errors):await P(n,!0);G!==r.isValid&&f.state.next({isValid:G})}},y=(L,G)=>{!t.disabled&&(d.isValidating||d.validatingFields)&&((L||Array.from(c.mount)).forEach(X=>{X&&(G?vt(r.validatingFields,X,G):Ht(r.validatingFields,X))}),f.state.next({validatingFields:r.validatingFields,isValidating:!wr(r.validatingFields)}))},b=(L,G=[],X,V,ne=!0,se=!0)=>{if(V&&X&&!t.disabled){if(o.action=!0,se&&Array.isArray(ke(n,L))){const Ee=X(ke(n,L),V.argA,V.argB);ne&&vt(n,L,Ee)}if(se&&Array.isArray(ke(r.errors,L))){const Ee=X(ke(r.errors,L),V.argA,V.argB);ne&&vt(r.errors,L,Ee),OI(r.errors,L)}if(d.touchedFields&&se&&Array.isArray(ke(r.touchedFields,L))){const Ee=X(ke(r.touchedFields,L),V.argA,V.argB);ne&&vt(r.touchedFields,L,Ee)}d.dirtyFields&&(r.dirtyFields=Eo(i,s)),f.state.next({name:L,isDirty:E(L,G),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else vt(s,L,G)},j=(L,G)=>{vt(r.errors,L,G),f.state.next({errors:r.errors})},S=L=>{r.errors=L,f.state.next({errors:r.errors,isValid:!1})},N=(L,G,X,V)=>{const ne=ke(n,L);if(ne){const se=ke(s,L,Bt(X)?ke(i,L):X);Bt(se)||V&&V.defaultChecked||G?vt(s,L,G?se:hh(ne._f)):T(L,se),o.mount&&v()}},w=(L,G,X,V,ne)=>{let se=!1,Ee=!1;const J={name:L};if(!t.disabled){const _e=!!(ke(n,L)&&ke(n,L)._f&&ke(n,L)._f.disabled);if(!X||V){d.isDirty&&(Ee=r.isDirty,r.isDirty=J.isDirty=E(),se=Ee!==J.isDirty);const Q=_e||Ca(ke(i,L),G);Ee=!!(!_e&&ke(r.dirtyFields,L)),Q||_e?Ht(r.dirtyFields,L):vt(r.dirtyFields,L,!0),J.dirtyFields=r.dirtyFields,se=se||d.dirtyFields&&Ee!==!Q}if(X){const Q=ke(r.touchedFields,L);Q||(vt(r.touchedFields,L,X),J.touchedFields=r.touchedFields,se=se||d.touchedFields&&Q!==X)}se&&ne&&f.state.next(J)}return se?J:{}},A=(L,G,X,V)=>{const ne=ke(r.errors,L),se=d.isValid&&Sn(G)&&r.isValid!==G;if(t.delayError&&X?(l=m(()=>j(L,X)),l(t.delayError)):(clearTimeout(u),l=null,X?vt(r.errors,L,X):Ht(r.errors,L)),(X?!Ca(ne,X):ne)||!wr(V)||se){const Ee={...V,...se&&Sn(G)?{isValid:G}:{},errors:r.errors,name:L};r={...r,...Ee},f.state.next(Ee)}},O=async L=>{y(L,!0);const G=await t.resolver(s,t.context,wI(L||c.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return y(L),G},_=async L=>{const{errors:G}=await O(L);if(L)for(const X of L){const V=ke(G,X);V?vt(r.errors,X,V):Ht(r.errors,X)}else r.errors=G;return G},P=async(L,G,X={valid:!0})=>{for(const V in L){const ne=L[V];if(ne){const{_f:se,...Ee}=ne;if(se){const J=c.array.has(se.name),_e=ne._f&&NI(ne._f);_e&&d.validatingFields&&y([V],!0);const Q=await qx(ne,c.disabled,s,g,t.shouldUseNativeValidation&&!G,J);if(_e&&d.validatingFields&&y([V]),Q[se.name]&&(X.valid=!1,G))break;!G&&(ke(Q,se.name)?J?xI(r.errors,Q,se.name):vt(r.errors,se.name,Q[se.name]):Ht(r.errors,se.name))}!wr(Ee)&&await P(Ee,G,X)}}return X.valid},C=()=>{for(const L of c.unMount){const G=ke(n,L);G&&(G._f.refs?G._f.refs.every(X=>!fh(X)):!fh(G._f.ref))&&Le(L)}c.unMount=new Set},E=(L,G)=>!t.disabled&&(L&&G&&vt(s,L,G),!Ca(F(),i)),k=(L,G,X)=>vI(L,c,{...o.mount?s:Bt(G)?i:Pn(L)?{[L]:G}:G},X,G),$=L=>Xd(ke(o.mount?s:i,L,t.shouldUnregister?ke(i,L,[]):[])),T=(L,G,X={})=>{const V=ke(n,L);let ne=G;if(V){const se=V._f;se&&(!se.disabled&&vt(s,L,_N(G,se)),ne=mu(se.ref)&&gr(G)?"":G,SN(se.ref)?[...se.ref.options].forEach(Ee=>Ee.selected=ne.includes(Ee.value)):se.refs?ll(se.ref)?se.refs.length>1?se.refs.forEach(Ee=>(!Ee.defaultChecked||!Ee.disabled)&&(Ee.checked=Array.isArray(ne)?!!ne.find(J=>J===Ee.value):ne===Ee.value)):se.refs[0]&&(se.refs[0].checked=!!ne):se.refs.forEach(Ee=>Ee.checked=Ee.value===ne):jg(se.ref)?se.ref.value="":(se.ref.value=ne,se.ref.type||f.values.next({name:L,values:{...s}})))}(X.shouldDirty||X.shouldTouch)&&w(L,ne,X.shouldTouch,X.shouldDirty,!0),X.shouldValidate&&Y(L)},M=(L,G,X)=>{for(const V in G){const ne=G[V],se=`${L}.${V}`,Ee=ke(n,se);(c.array.has(L)||Mt(ne)||Ee&&!Ee._f)&&!fi(ne)?M(se,ne,X):T(se,ne,X)}},D=(L,G,X={})=>{const V=ke(n,L),ne=c.array.has(L),se=Xr(G);vt(s,L,se),ne?(f.array.next({name:L,values:{...s}}),(d.isDirty||d.dirtyFields)&&X.shouldDirty&&f.state.next({name:L,dirtyFields:Eo(i,s),isDirty:E(L,se)})):V&&!V._f&&!gr(se)?M(L,se,X):T(L,se,X),Vx(L,c)&&f.state.next({...r}),f.values.next({name:o.mount?L:void 0,values:{...s}})},W=async L=>{o.mount=!0;const G=L.target;let X=G.name,V=!0;const ne=ke(n,X),se=()=>G.type?hh(ne._f):uI(L),Ee=J=>{V=Number.isNaN(J)||fi(J)&&isNaN(J.getTime())||Ca(J,ke(s,X,J))};if(ne){let J,_e;const Q=se(),me=L.type===Fx.BLUR||L.type===Fx.FOCUS_OUT,xe=!SI(ne._f)&&!t.resolver&&!ke(r.errors,X)&&!ne._f.deps||AI(me,ke(r.touchedFields,X),r.isSubmitted,p,h),Fe=Vx(X,c,me);vt(s,X,Q),me?(ne._f.onBlur&&ne._f.onBlur(L),l&&l(0)):ne._f.onChange&&ne._f.onChange(L);const Ye=w(X,Q,me,!1),B=!wr(Ye)||Fe;if(!me&&f.values.next({name:X,type:L.type,values:{...s}}),xe)return d.isValid&&(t.mode==="onBlur"&&me?v():me||v()),B&&f.state.next({name:X,...Fe?{}:Ye});if(!me&&Fe&&f.state.next({...r}),t.resolver){const{errors:ee}=await O([X]);if(Ee(Q),V){const Be=Gx(r.errors,n,X),Ke=Gx(ee,n,Be.name||X);J=Ke.error,X=Ke.name,_e=wr(ee)}}else y([X],!0),J=(await qx(ne,c.disabled,s,g,t.shouldUseNativeValidation))[X],y([X]),Ee(Q),V&&(J?_e=!1:d.isValid&&(_e=await P(n,!0)));V&&(ne._f.deps&&Y(ne._f.deps),A(X,_e,J,Ye))}},R=(L,G)=>{if(ke(r.errors,G)&&L.focus)return L.focus(),1},Y=async(L,G={})=>{let X,V;const ne=tu(L);if(t.resolver){const se=await _(Bt(L)?L:ne);X=wr(se),V=L?!ne.some(Ee=>ke(se,Ee)):X}else L?(V=(await Promise.all(ne.map(async se=>{const Ee=ke(n,se);return await P(Ee&&Ee._f?{[se]:Ee}:Ee)}))).every(Boolean),!(!V&&!r.isValid)&&v()):V=X=await P(n);return f.state.next({...!Pn(L)||d.isValid&&X!==r.isValid?{}:{name:L},...t.resolver||!L?{isValid:X}:{},errors:r.errors}),G.shouldFocus&&!V&&Xo(n,R,L?ne:c.mount),V},F=L=>{const G={...o.mount?s:i};return Bt(L)?G:Pn(L)?ke(G,L):L.map(X=>ke(G,X))},ie=(L,G)=>({invalid:!!ke((G||r).errors,L),isDirty:!!ke((G||r).dirtyFields,L),error:ke((G||r).errors,L),isValidating:!!ke(r.validatingFields,L),isTouched:!!ke((G||r).touchedFields,L)}),z=L=>{L&&tu(L).forEach(G=>Ht(r.errors,G)),f.state.next({errors:L?r.errors:{}})},H=(L,G,X)=>{const V=(ke(n,L,{_f:{}})._f||{}).ref,ne=ke(r.errors,L)||{},{ref:se,message:Ee,type:J,..._e}=ne;vt(r.errors,L,{..._e,...G,ref:V}),f.state.next({name:L,errors:r.errors,isValid:!1}),X&&X.shouldFocus&&V&&V.focus&&V.focus()},de=(L,G)=>On(L)?f.values.subscribe({next:X=>L(k(void 0,G),X)}):k(L,G,!0),Le=(L,G={})=>{for(const X of L?tu(L):c.mount)c.mount.delete(X),c.array.delete(X),G.keepValue||(Ht(n,X),Ht(s,X)),!G.keepError&&Ht(r.errors,X),!G.keepDirty&&Ht(r.dirtyFields,X),!G.keepTouched&&Ht(r.touchedFields,X),!G.keepIsValidating&&Ht(r.validatingFields,X),!t.shouldUnregister&&!G.keepDefaultValue&&Ht(i,X);f.values.next({values:{...s}}),f.state.next({...r,...G.keepDirty?{isDirty:E()}:{}}),!G.keepIsValid&&v()},he=({disabled:L,name:G,field:X,fields:V})=>{(Sn(L)&&o.mount||L||c.disabled.has(G))&&(L?c.disabled.add(G):c.disabled.delete(G),w(G,hh(X?X._f:ke(V,G)._f),!1,!1,!0))},Te=(L,G={})=>{let X=ke(n,L);const V=Sn(G.disabled)||Sn(t.disabled);return vt(n,L,{...X||{},_f:{...X&&X._f?X._f:{ref:{name:L}},name:L,mount:!0,...G}}),c.mount.add(L),X?he({field:X,disabled:Sn(G.disabled)?G.disabled:t.disabled,name:L}):N(L,!0,G.value),{...V?{disabled:G.disabled||t.disabled}:{},...t.progressive?{required:!!G.required,min:$o(G.min),max:$o(G.max),minLength:$o(G.minLength),maxLength:$o(G.maxLength),pattern:$o(G.pattern)}:{},name:L,onChange:W,onBlur:W,ref:ne=>{if(ne){Te(L,G),X=ke(n,L);const se=Bt(ne.value)&&ne.querySelectorAll&&ne.querySelectorAll("input,select,textarea")[0]||ne,Ee=jI(se),J=X._f.refs||[];if(Ee?J.find(_e=>_e===se):se===X._f.ref)return;vt(n,L,{_f:{...X._f,...Ee?{refs:[...J.filter(fh),se,...Array.isArray(ke(i,L))?[{}]:[]],ref:{type:se.type,name:L}}:{ref:se}}}),N(L,!1,void 0,se)}else X=ke(n,L,{}),X._f&&(X._f.mount=!1),(t.shouldUnregister||G.shouldUnregister)&&!(fI(c.array,L)&&o.action)&&c.unMount.add(L)}}},ce=()=>t.shouldFocusError&&Xo(n,R,c.mount),be=L=>{Sn(L)&&(f.state.next({disabled:L}),Xo(n,(G,X)=>{const V=ke(n,X);V&&(G.disabled=V._f.disabled||L,Array.isArray(V._f.refs)&&V._f.refs.forEach(ne=>{ne.disabled=V._f.disabled||L}))},0,!1))},ye=(L,G)=>async X=>{let V;X&&(X.preventDefault&&X.preventDefault(),X.persist&&X.persist());let ne=Xr(s);if(c.disabled.size)for(const se of c.disabled)vt(ne,se,void 0);if(f.state.next({isSubmitting:!0}),t.resolver){const{errors:se,values:Ee}=await O();r.errors=se,ne=Ee}else await P(n);if(Ht(r.errors,"root"),wr(r.errors)){f.state.next({errors:{}});try{await L(ne,X)}catch(se){V=se}}else G&&await G({...r.errors},X),ce(),setTimeout(ce);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:wr(r.errors)&&!V,submitCount:r.submitCount+1,errors:r.errors}),V)throw V},re=(L,G={})=>{ke(n,L)&&(Bt(G.defaultValue)?D(L,Xr(ke(i,L))):(D(L,G.defaultValue),vt(i,L,Xr(G.defaultValue))),G.keepTouched||Ht(r.touchedFields,L),G.keepDirty||(Ht(r.dirtyFields,L),r.isDirty=G.defaultValue?E(L,Xr(ke(i,L))):E()),G.keepError||(Ht(r.errors,L),d.isValid&&v()),f.state.next({...r}))},Ve=(L,G={})=>{const X=L?Xr(L):i,V=Xr(X),ne=wr(L),se=ne?i:V;if(G.keepDefaultValues||(i=X),!G.keepValues){if(G.keepDirtyValues){const Ee=new Set([...c.mount,...Object.keys(Eo(i,s))]);for(const J of Array.from(Ee))ke(r.dirtyFields,J)?vt(se,J,ke(s,J)):D(J,ke(se,J))}else{if(yg&&Bt(L))for(const Ee of c.mount){const J=ke(n,Ee);if(J&&J._f){const _e=Array.isArray(J._f.refs)?J._f.refs[0]:J._f.ref;if(mu(_e)){const Q=_e.closest("form");if(Q){Q.reset();break}}}}n={}}s=t.shouldUnregister?G.keepDefaultValues?Xr(i):{}:Xr(se),f.array.next({values:{...se}}),f.values.next({values:{...se}})}c={mount:G.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!G.keepIsValid||!!G.keepDirtyValues,o.watch=!!t.shouldUnregister,f.state.next({submitCount:G.keepSubmitCount?r.submitCount:0,isDirty:ne?!1:G.keepDirty?r.isDirty:!!(G.keepDefaultValues&&!Ca(L,i)),isSubmitted:G.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ne?{}:G.keepDirtyValues?G.keepDefaultValues&&s?Eo(i,s):r.dirtyFields:G.keepDefaultValues&&L?Eo(i,L):G.keepDirty?r.dirtyFields:{},touchedFields:G.keepTouched?r.touchedFields:{},errors:G.keepErrors?r.errors:{},isSubmitSuccessful:G.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},$e=(L,G)=>Ve(On(L)?L(s):L,G);return{control:{register:Te,unregister:Le,getFieldState:ie,handleSubmit:ye,setError:H,_executeSchema:O,_getWatch:k,_getDirty:E,_updateValid:v,_removeUnmounted:C,_updateFieldArray:b,_updateDisabledField:he,_getFieldArray:$,_reset:Ve,_resetDefaultValues:()=>On(t.defaultValues)&&t.defaultValues().then(L=>{$e(L,t.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:L=>{r={...r,...L}},_disableForm:be,_subjects:f,_proxyFormState:d,_setErrors:S,get _fields(){return n},get _formValues(){return s},get _state(){return o},set _state(L){o=L},get _defaultValues(){return i},get _names(){return c},set _names(L){c=L},get _formState(){return r},set _formState(L){r=L},get _options(){return t},set _options(L){t={...t,...L}}},trigger:Y,register:Te,handleSubmit:ye,watch:de,setValue:D,getValues:F,reset:$e,resetField:re,clearErrors:z,unregister:Le,setError:H,setFocus:(L,G={})=>{const X=ke(n,L),V=X&&X._f;if(V){const ne=V.refs?V.refs[0]:V.ref;ne.focus&&(ne.focus(),G.shouldSelect&&On(ne.select)&&ne.select())}},getFieldState:ie}}function kN(e={}){const t=I.useRef(void 0),r=I.useRef(void 0),[n,i]=I.useState({isDirty:!1,isValidating:!1,isLoading:On(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:On(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...kI(e),formState:n});const s=t.current.control;return s._options=e,gI({subject:s._subjects.state,next:o=>{pI(o,s._proxyFormState,s._updateFormState)&&i({...s._formState})}}),I.useEffect(()=>s._disableForm(e.disabled),[s,e.disabled]),I.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==n.isDirty&&s._subjects.state.next({isDirty:o})}},[s,n.isDirty]),I.useEffect(()=>{e.values&&!Ca(e.values,r.current)?(s._reset(e.values,s._options.resetOptions),r.current=e.values,i(o=>({...o}))):s._resetDefaultValues()},[e.values,s]),I.useEffect(()=>{e.errors&&s._setErrors(e.errors)},[e.errors,s]),I.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),I.useEffect(()=>{e.shouldUnregister&&s._subjects.values.next({values:s._getWatch()})},[e.shouldUnregister,s]),t.current.formState=mI(n,s),t.current}const Zx=(e,t,r)=>{if(e&&"reportValidity"in e){const n=ke(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},PN=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?Zx(n.ref,r,e):n.refs&&n.refs.forEach(i=>Zx(i,r,e))}},PI=(e,t)=>{t.shouldUseNativeValidation&&PN(e,t);const r={};for(const n in e){const i=ke(t.fields,n),s=Object.assign(e[n]||{},{ref:i&&i.ref});if(TI(t.names||Object.keys(e),n)){const o=Object.assign({},ke(r,n));vt(o,"root",s),vt(r,n,o)}else vt(r,n,s)}return r},TI=(e,t)=>e.some(r=>r.startsWith(t+"."));var CI=function(e,t){for(var r={};e.length;){var n=e[0],i=n.code,s=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var c=n.unionErrors[0].errors[0];r[o]={message:c.message,type:c.code}}else r[o]={message:s,type:i};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var l=r[o].types,u=l&&l[n.code];r[o]=jN(o,t,r,i,u?[].concat(u,n.message):n.message)}e.shift()}return r},TN=function(e,t,r){return r===void 0&&(r={}),function(n,i,s){try{return Promise.resolve(function(o,c){try{var l=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return s.shouldUseNativeValidation&&PN({},s),{errors:{},values:r.raw?n:u}})}catch(u){return c(u)}return l&&l.then?l.then(void 0,c):l}(0,function(o){if(function(c){return Array.isArray(c==null?void 0:c.errors)}(o))return{values:{},errors:PI(CI(o.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw o}))}catch(o){return Promise.reject(o)}}},st;(function(e){e.assertEqual=i=>i;function t(i){}e.assertIs=t;function r(i){throw new Error}e.assertNever=r,e.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},e.getValidEnumValues=i=>{const s=e.objectKeys(i).filter(c=>typeof i[i[c]]!="number"),o={};for(const c of s)o[c]=i[c];return e.objectValues(o)},e.objectValues=i=>e.objectKeys(i).map(function(s){return i[s]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},e.find=(i,s)=>{for(const o of i)if(s(o))return o},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function n(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}e.joinValues=n,e.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(st||(st={}));var dm;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(dm||(dm={}));const Se=st.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ra=e=>{switch(typeof e){case"undefined":return Se.undefined;case"string":return Se.string;case"number":return isNaN(e)?Se.nan:Se.number;case"boolean":return Se.boolean;case"function":return Se.function;case"bigint":return Se.bigint;case"symbol":return Se.symbol;case"object":return Array.isArray(e)?Se.array:e===null?Se.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Se.promise:typeof Map<"u"&&e instanceof Map?Se.map:typeof Set<"u"&&e instanceof Set?Se.set:typeof Date<"u"&&e instanceof Date?Se.date:Se.object;default:return Se.unknown}},fe=st.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),EI=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class Rr extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(s){return s.message},n={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let c=n,l=0;for(;l<o.path.length;){const u=o.path[l];l===o.path.length-1?(c[u]=c[u]||{_errors:[]},c[u]._errors.push(r(o))):c[u]=c[u]||{_errors:[]},c=c[u],l++}}};return i(this),n}static assert(t){if(!(t instanceof Rr))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,st.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const i of this.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(t(i))):n.push(t(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Rr.create=e=>new Rr(e);const Os=(e,t)=>{let r;switch(e.code){case fe.invalid_type:e.received===Se.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case fe.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,st.jsonStringifyReplacer)}`;break;case fe.unrecognized_keys:r=`Unrecognized key(s) in object: ${st.joinValues(e.keys,", ")}`;break;case fe.invalid_union:r="Invalid input";break;case fe.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${st.joinValues(e.options)}`;break;case fe.invalid_enum_value:r=`Invalid enum value. Expected ${st.joinValues(e.options)}, received '${e.received}'`;break;case fe.invalid_arguments:r="Invalid function arguments";break;case fe.invalid_return_type:r="Invalid function return type";break;case fe.invalid_date:r="Invalid date";break;case fe.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:st.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case fe.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case fe.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case fe.custom:r="Invalid input";break;case fe.invalid_intersection_types:r="Intersection results could not be merged";break;case fe.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case fe.not_finite:r="Number must be finite";break;default:r=t.defaultError,st.assertNever(e)}return{message:r}};let CN=Os;function $I(e){CN=e}function vu(){return CN}const xu=e=>{const{data:t,path:r,errorMaps:n,issueData:i}=e,s=[...r,...i.path||[]],o={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let c="";const l=n.filter(u=>!!u).slice().reverse();for(const u of l)c=u(o,{data:t,defaultError:c}).message;return{...i,path:s,message:c}},DI=[];function je(e,t){const r=vu(),n=xu({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===Os?void 0:Os].filter(i=>!!i)});e.common.issues.push(n)}class pr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const i of r){if(i.status==="aborted")return He;i.status==="dirty"&&t.dirty(),n.push(i.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const i of r){const s=await i.key,o=await i.value;n.push({key:s,value:o})}return pr.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const i of r){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return He;s.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(n[s.value]=o.value)}return{status:t.value,value:n}}}const He=Object.freeze({status:"aborted"}),us=e=>({status:"dirty",value:e}),br=e=>({status:"valid",value:e}),fm=e=>e.status==="aborted",hm=e=>e.status==="dirty",Ti=e=>e.status==="valid",cc=e=>typeof Promise<"u"&&e instanceof Promise;function yu(e,t,r,n){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function EN(e,t,r,n,i){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}var Ie;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Ie||(Ie={}));var Ho,qo;class Bn{constructor(t,r,n,i){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Xx=(e,t)=>{if(Ti(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Rr(e.common.issues);return this._error=r,this._error}}};function Xe(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:i}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(o,c)=>{var l,u;const{message:d}=e;return o.code==="invalid_enum_value"?{message:d??c.defaultError}:typeof c.data>"u"?{message:(l=d??n)!==null&&l!==void 0?l:c.defaultError}:o.code!=="invalid_type"?{message:c.defaultError}:{message:(u=d??r)!==null&&u!==void 0?u:c.defaultError}},description:i}}class et{get description(){return this._def.description}_getType(t){return ra(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:ra(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new pr,ctx:{common:t.parent.common,data:t.data,parsedType:ra(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(cc(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){var n;const i={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ra(t)},s=this._parseSync({data:t,path:i.path,parent:i});return Xx(i,s)}"~validate"(t){var r,n;const i={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ra(t)};if(!this["~standard"].async)try{const s=this._parseSync({data:t,path:[],parent:i});return Ti(s)?{value:s.value}:{issues:i.common.issues}}catch(s){!((n=(r=s==null?void 0:s.message)===null||r===void 0?void 0:r.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),i.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:i}).then(s=>Ti(s)?{value:s.value}:{issues:i.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ra(t)},i=this._parse({data:t,path:n.path,parent:n}),s=await(cc(i)?i:Promise.resolve(i));return Xx(n,s)}refine(t,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,s)=>{const o=t(i),c=()=>s.addIssue({code:fe.custom,...n(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(c(),!1)):o?!0:(c(),!1)})}refinement(t,r){return this._refinement((n,i)=>t(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(t){return new gn({schema:this,typeName:We.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Dn.create(this,this._def)}nullable(){return za.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return mn.create(this)}promise(){return ks.create(this,this._def)}or(t){return fc.create([this,t],this._def)}and(t){return hc.create(this,t,this._def)}transform(t){return new gn({...Xe(this._def),schema:this,typeName:We.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new xc({...Xe(this._def),innerType:this,defaultValue:r,typeName:We.ZodDefault})}brand(){return new Ng({typeName:We.ZodBranded,type:this,...Xe(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new yc({...Xe(this._def),innerType:this,catchValue:r,typeName:We.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return ul.create(this,t)}readonly(){return bc.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const II=/^c[^\s-]{8,}$/i,MI=/^[0-9a-z]+$/,RI=/^[0-9A-HJKMNP-TV-Z]{26}$/i,LI=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,FI=/^[a-z0-9_-]{21}$/i,BI=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,VI=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,zI=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,UI="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let mh;const WI=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,HI=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,qI=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,KI=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,GI=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,ZI=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,$N="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",XI=new RegExp(`^${$N}$`);function DN(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function YI(e){return new RegExp(`^${DN(e)}$`)}function IN(e){let t=`${$N}T${DN(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function JI(e,t){return!!((t==="v4"||!t)&&WI.test(e)||(t==="v6"||!t)&&qI.test(e))}function QI(e,t){if(!BI.test(e))return!1;try{const[r]=e.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||!i.typ||!i.alg||t&&i.alg!==t)}catch{return!1}}function eM(e,t){return!!((t==="v4"||!t)&&HI.test(e)||(t==="v6"||!t)&&KI.test(e))}class dn extends et{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Se.string){const s=this._getOrReturnCtx(t);return je(s,{code:fe.invalid_type,expected:Se.string,received:s.parsedType}),He}const n=new pr;let i;for(const s of this._def.checks)if(s.kind==="min")t.data.length<s.value&&(i=this._getOrReturnCtx(t,i),je(i,{code:fe.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")t.data.length>s.value&&(i=this._getOrReturnCtx(t,i),je(i,{code:fe.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){const o=t.data.length>s.value,c=t.data.length<s.value;(o||c)&&(i=this._getOrReturnCtx(t,i),o?je(i,{code:fe.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):c&&je(i,{code:fe.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")zI.test(t.data)||(i=this._getOrReturnCtx(t,i),je(i,{validation:"email",code:fe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")mh||(mh=new RegExp(UI,"u")),mh.test(t.data)||(i=this._getOrReturnCtx(t,i),je(i,{validation:"emoji",code:fe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")LI.test(t.data)||(i=this._getOrReturnCtx(t,i),je(i,{validation:"uuid",code:fe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="nanoid")FI.test(t.data)||(i=this._getOrReturnCtx(t,i),je(i,{validation:"nanoid",code:fe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")II.test(t.data)||(i=this._getOrReturnCtx(t,i),je(i,{validation:"cuid",code:fe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")MI.test(t.data)||(i=this._getOrReturnCtx(t,i),je(i,{validation:"cuid2",code:fe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")RI.test(t.data)||(i=this._getOrReturnCtx(t,i),je(i,{validation:"ulid",code:fe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),je(i,{validation:"url",code:fe.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),je(i,{validation:"regex",code:fe.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?t.data=t.data.trim():s.kind==="includes"?t.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(t,i),je(i,{code:fe.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?t.data=t.data.toLowerCase():s.kind==="toUpperCase"?t.data=t.data.toUpperCase():s.kind==="startsWith"?t.data.startsWith(s.value)||(i=this._getOrReturnCtx(t,i),je(i,{code:fe.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?t.data.endsWith(s.value)||(i=this._getOrReturnCtx(t,i),je(i,{code:fe.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?IN(s).test(t.data)||(i=this._getOrReturnCtx(t,i),je(i,{code:fe.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="date"?XI.test(t.data)||(i=this._getOrReturnCtx(t,i),je(i,{code:fe.invalid_string,validation:"date",message:s.message}),n.dirty()):s.kind==="time"?YI(s).test(t.data)||(i=this._getOrReturnCtx(t,i),je(i,{code:fe.invalid_string,validation:"time",message:s.message}),n.dirty()):s.kind==="duration"?VI.test(t.data)||(i=this._getOrReturnCtx(t,i),je(i,{validation:"duration",code:fe.invalid_string,message:s.message}),n.dirty()):s.kind==="ip"?JI(t.data,s.version)||(i=this._getOrReturnCtx(t,i),je(i,{validation:"ip",code:fe.invalid_string,message:s.message}),n.dirty()):s.kind==="jwt"?QI(t.data,s.alg)||(i=this._getOrReturnCtx(t,i),je(i,{validation:"jwt",code:fe.invalid_string,message:s.message}),n.dirty()):s.kind==="cidr"?eM(t.data,s.version)||(i=this._getOrReturnCtx(t,i),je(i,{validation:"cidr",code:fe.invalid_string,message:s.message}),n.dirty()):s.kind==="base64"?GI.test(t.data)||(i=this._getOrReturnCtx(t,i),je(i,{validation:"base64",code:fe.invalid_string,message:s.message}),n.dirty()):s.kind==="base64url"?ZI.test(t.data)||(i=this._getOrReturnCtx(t,i),je(i,{validation:"base64url",code:fe.invalid_string,message:s.message}),n.dirty()):st.assertNever(s);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(i=>t.test(i),{validation:r,code:fe.invalid_string,...Ie.errToObj(n)})}_addCheck(t){return new dn({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Ie.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Ie.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Ie.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Ie.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Ie.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Ie.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Ie.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Ie.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Ie.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Ie.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Ie.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Ie.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Ie.errToObj(t)})}datetime(t){var r,n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1,local:(n=t==null?void 0:t.local)!==null&&n!==void 0?n:!1,...Ie.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Ie.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Ie.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Ie.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...Ie.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Ie.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Ie.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Ie.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Ie.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Ie.errToObj(r)})}nonempty(t){return this.min(1,Ie.errToObj(t))}trim(){return new dn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new dn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new dn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}dn.create=e=>{var t;return new dn({checks:[],typeName:We.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Xe(e)})};function tM(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,i=r>n?r:n,s=parseInt(e.toFixed(i).replace(".","")),o=parseInt(t.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}class Fa extends et{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Se.number){const s=this._getOrReturnCtx(t);return je(s,{code:fe.invalid_type,expected:Se.number,received:s.parsedType}),He}let n;const i=new pr;for(const s of this._def.checks)s.kind==="int"?st.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),je(n,{code:fe.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(n=this._getOrReturnCtx(t,n),je(n,{code:fe.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(n=this._getOrReturnCtx(t,n),je(n,{code:fe.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?tM(t.data,s.value)!==0&&(n=this._getOrReturnCtx(t,n),je(n,{code:fe.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),je(n,{code:fe.not_finite,message:s.message}),i.dirty()):st.assertNever(s);return{status:i.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Ie.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ie.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ie.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ie.toString(r))}setLimit(t,r,n,i){return new Fa({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Ie.toString(i)}]})}_addCheck(t){return new Fa({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Ie.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ie.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ie.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ie.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ie.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ie.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Ie.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ie.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ie.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&st.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Fa.create=e=>new Fa({checks:[],typeName:We.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Xe(e)});class Ba extends et{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Se.bigint)return this._getInvalidInput(t);let n;const i=new pr;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(n=this._getOrReturnCtx(t,n),je(n,{code:fe.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(n=this._getOrReturnCtx(t,n),je(n,{code:fe.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?t.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),je(n,{code:fe.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):st.assertNever(s);return{status:i.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return je(r,{code:fe.invalid_type,expected:Se.bigint,received:r.parsedType}),He}gte(t,r){return this.setLimit("min",t,!0,Ie.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ie.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ie.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ie.toString(r))}setLimit(t,r,n,i){return new Ba({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Ie.toString(i)}]})}_addCheck(t){return new Ba({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ie.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ie.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ie.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ie.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ie.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Ba.create=e=>{var t;return new Ba({checks:[],typeName:We.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Xe(e)})};class lc extends et{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Se.boolean){const n=this._getOrReturnCtx(t);return je(n,{code:fe.invalid_type,expected:Se.boolean,received:n.parsedType}),He}return br(t.data)}}lc.create=e=>new lc({typeName:We.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Xe(e)});class Ci extends et{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Se.date){const s=this._getOrReturnCtx(t);return je(s,{code:fe.invalid_type,expected:Se.date,received:s.parsedType}),He}if(isNaN(t.data.getTime())){const s=this._getOrReturnCtx(t);return je(s,{code:fe.invalid_date}),He}const n=new pr;let i;for(const s of this._def.checks)s.kind==="min"?t.data.getTime()<s.value&&(i=this._getOrReturnCtx(t,i),je(i,{code:fe.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?t.data.getTime()>s.value&&(i=this._getOrReturnCtx(t,i),je(i,{code:fe.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):st.assertNever(s);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Ci({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Ie.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Ie.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Ci.create=e=>new Ci({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:We.ZodDate,...Xe(e)});class bu extends et{_parse(t){if(this._getType(t)!==Se.symbol){const n=this._getOrReturnCtx(t);return je(n,{code:fe.invalid_type,expected:Se.symbol,received:n.parsedType}),He}return br(t.data)}}bu.create=e=>new bu({typeName:We.ZodSymbol,...Xe(e)});class uc extends et{_parse(t){if(this._getType(t)!==Se.undefined){const n=this._getOrReturnCtx(t);return je(n,{code:fe.invalid_type,expected:Se.undefined,received:n.parsedType}),He}return br(t.data)}}uc.create=e=>new uc({typeName:We.ZodUndefined,...Xe(e)});class dc extends et{_parse(t){if(this._getType(t)!==Se.null){const n=this._getOrReturnCtx(t);return je(n,{code:fe.invalid_type,expected:Se.null,received:n.parsedType}),He}return br(t.data)}}dc.create=e=>new dc({typeName:We.ZodNull,...Xe(e)});class _s extends et{constructor(){super(...arguments),this._any=!0}_parse(t){return br(t.data)}}_s.create=e=>new _s({typeName:We.ZodAny,...Xe(e)});class ji extends et{constructor(){super(...arguments),this._unknown=!0}_parse(t){return br(t.data)}}ji.create=e=>new ji({typeName:We.ZodUnknown,...Xe(e)});class ma extends et{_parse(t){const r=this._getOrReturnCtx(t);return je(r,{code:fe.invalid_type,expected:Se.never,received:r.parsedType}),He}}ma.create=e=>new ma({typeName:We.ZodNever,...Xe(e)});class ju extends et{_parse(t){if(this._getType(t)!==Se.undefined){const n=this._getOrReturnCtx(t);return je(n,{code:fe.invalid_type,expected:Se.void,received:n.parsedType}),He}return br(t.data)}}ju.create=e=>new ju({typeName:We.ZodVoid,...Xe(e)});class mn extends et{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),i=this._def;if(r.parsedType!==Se.array)return je(r,{code:fe.invalid_type,expected:Se.array,received:r.parsedType}),He;if(i.exactLength!==null){const o=r.data.length>i.exactLength.value,c=r.data.length<i.exactLength.value;(o||c)&&(je(r,{code:o?fe.too_big:fe.too_small,minimum:c?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(je(r,{code:fe.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(je(r,{code:fe.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,c)=>i.type._parseAsync(new Bn(r,o,r.path,c)))).then(o=>pr.mergeArray(n,o));const s=[...r.data].map((o,c)=>i.type._parseSync(new Bn(r,o,r.path,c)));return pr.mergeArray(n,s)}get element(){return this._def.type}min(t,r){return new mn({...this._def,minLength:{value:t,message:Ie.toString(r)}})}max(t,r){return new mn({...this._def,maxLength:{value:t,message:Ie.toString(r)}})}length(t,r){return new mn({...this._def,exactLength:{value:t,message:Ie.toString(r)}})}nonempty(t){return this.min(1,t)}}mn.create=(e,t)=>new mn({type:e,minLength:null,maxLength:null,exactLength:null,typeName:We.ZodArray,...Xe(t)});function ss(e){if(e instanceof Ct){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=Dn.create(ss(n))}return new Ct({...e._def,shape:()=>t})}else return e instanceof mn?new mn({...e._def,type:ss(e.element)}):e instanceof Dn?Dn.create(ss(e.unwrap())):e instanceof za?za.create(ss(e.unwrap())):e instanceof Vn?Vn.create(e.items.map(t=>ss(t))):e}class Ct extends et{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=st.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==Se.object){const u=this._getOrReturnCtx(t);return je(u,{code:fe.invalid_type,expected:Se.object,received:u.parsedType}),He}const{status:n,ctx:i}=this._processInputParams(t),{shape:s,keys:o}=this._getCached(),c=[];if(!(this._def.catchall instanceof ma&&this._def.unknownKeys==="strip"))for(const u in i.data)o.includes(u)||c.push(u);const l=[];for(const u of o){const d=s[u],f=i.data[u];l.push({key:{status:"valid",value:u},value:d._parse(new Bn(i,f,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof ma){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of c)l.push({key:{status:"valid",value:d},value:{status:"valid",value:i.data[d]}});else if(u==="strict")c.length>0&&(je(i,{code:fe.unrecognized_keys,keys:c}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of c){const f=i.data[d];l.push({key:{status:"valid",value:d},value:u._parse(new Bn(i,f,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of l){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>pr.mergeObjectSync(n,u)):pr.mergeObjectSync(n,l)}get shape(){return this._def.shape()}strict(t){return Ie.errToObj,new Ct({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var i,s,o,c;const l=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(c=Ie.errToObj(t).message)!==null&&c!==void 0?c:l}:{message:l}}}:{}})}strip(){return new Ct({...this._def,unknownKeys:"strip"})}passthrough(){return new Ct({...this._def,unknownKeys:"passthrough"})}extend(t){return new Ct({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Ct({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:We.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Ct({...this._def,catchall:t})}pick(t){const r={};return st.objectKeys(t).forEach(n=>{t[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new Ct({...this._def,shape:()=>r})}omit(t){const r={};return st.objectKeys(this.shape).forEach(n=>{t[n]||(r[n]=this.shape[n])}),new Ct({...this._def,shape:()=>r})}deepPartial(){return ss(this)}partial(t){const r={};return st.objectKeys(this.shape).forEach(n=>{const i=this.shape[n];t&&!t[n]?r[n]=i:r[n]=i.optional()}),new Ct({...this._def,shape:()=>r})}required(t){const r={};return st.objectKeys(this.shape).forEach(n=>{if(t&&!t[n])r[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof Dn;)s=s._def.innerType;r[n]=s}}),new Ct({...this._def,shape:()=>r})}keyof(){return MN(st.objectKeys(this.shape))}}Ct.create=(e,t)=>new Ct({shape:()=>e,unknownKeys:"strip",catchall:ma.create(),typeName:We.ZodObject,...Xe(t)});Ct.strictCreate=(e,t)=>new Ct({shape:()=>e,unknownKeys:"strict",catchall:ma.create(),typeName:We.ZodObject,...Xe(t)});Ct.lazycreate=(e,t)=>new Ct({shape:e,unknownKeys:"strip",catchall:ma.create(),typeName:We.ZodObject,...Xe(t)});class fc extends et{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function i(s){for(const c of s)if(c.result.status==="valid")return c.result;for(const c of s)if(c.result.status==="dirty")return r.common.issues.push(...c.ctx.common.issues),c.result;const o=s.map(c=>new Rr(c.ctx.common.issues));return je(r,{code:fe.invalid_union,unionErrors:o}),He}if(r.common.async)return Promise.all(n.map(async s=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const l of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=l._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!s&&(s={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;const c=o.map(l=>new Rr(l));return je(r,{code:fe.invalid_union,unionErrors:c}),He}}get options(){return this._def.options}}fc.create=(e,t)=>new fc({options:e,typeName:We.ZodUnion,...Xe(t)});const ea=e=>e instanceof pc?ea(e.schema):e instanceof gn?ea(e.innerType()):e instanceof gc?[e.value]:e instanceof Va?e.options:e instanceof vc?st.objectValues(e.enum):e instanceof xc?ea(e._def.innerType):e instanceof uc?[void 0]:e instanceof dc?[null]:e instanceof Dn?[void 0,...ea(e.unwrap())]:e instanceof za?[null,...ea(e.unwrap())]:e instanceof Ng||e instanceof bc?ea(e.unwrap()):e instanceof yc?ea(e._def.innerType):[];class Yd extends et{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Se.object)return je(r,{code:fe.invalid_type,expected:Se.object,received:r.parsedType}),He;const n=this.discriminator,i=r.data[n],s=this.optionsMap.get(i);return s?r.common.async?s._parseAsync({data:r.data,path:r.path,parent:r}):s._parseSync({data:r.data,path:r.path,parent:r}):(je(r,{code:fe.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),He)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){const i=new Map;for(const s of r){const o=ea(s.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const c of o){if(i.has(c))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(c)}`);i.set(c,s)}}return new Yd({typeName:We.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:i,...Xe(n)})}}function mm(e,t){const r=ra(e),n=ra(t);if(e===t)return{valid:!0,data:e};if(r===Se.object&&n===Se.object){const i=st.objectKeys(t),s=st.objectKeys(e).filter(c=>i.indexOf(c)!==-1),o={...e,...t};for(const c of s){const l=mm(e[c],t[c]);if(!l.valid)return{valid:!1};o[c]=l.data}return{valid:!0,data:o}}else if(r===Se.array&&n===Se.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let s=0;s<e.length;s++){const o=e[s],c=t[s],l=mm(o,c);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return r===Se.date&&n===Se.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class hc extends et{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),i=(s,o)=>{if(fm(s)||fm(o))return He;const c=mm(s.value,o.value);return c.valid?((hm(s)||hm(o))&&r.dirty(),{status:r.value,value:c.data}):(je(n,{code:fe.invalid_intersection_types}),He)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}hc.create=(e,t,r)=>new hc({left:e,right:t,typeName:We.ZodIntersection,...Xe(r)});class Vn extends et{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Se.array)return je(n,{code:fe.invalid_type,expected:Se.array,received:n.parsedType}),He;if(n.data.length<this._def.items.length)return je(n,{code:fe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),He;!this._def.rest&&n.data.length>this._def.items.length&&(je(n,{code:fe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const s=[...n.data].map((o,c)=>{const l=this._def.items[c]||this._def.rest;return l?l._parse(new Bn(n,o,n.path,c)):null}).filter(o=>!!o);return n.common.async?Promise.all(s).then(o=>pr.mergeArray(r,o)):pr.mergeArray(r,s)}get items(){return this._def.items}rest(t){return new Vn({...this._def,rest:t})}}Vn.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Vn({items:e,typeName:We.ZodTuple,rest:null,...Xe(t)})};class mc extends et{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Se.object)return je(n,{code:fe.invalid_type,expected:Se.object,received:n.parsedType}),He;const i=[],s=this._def.keyType,o=this._def.valueType;for(const c in n.data)i.push({key:s._parse(new Bn(n,c,n.path,c)),value:o._parse(new Bn(n,n.data[c],n.path,c)),alwaysSet:c in n.data});return n.common.async?pr.mergeObjectAsync(r,i):pr.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof et?new mc({keyType:t,valueType:r,typeName:We.ZodRecord,...Xe(n)}):new mc({keyType:dn.create(),valueType:t,typeName:We.ZodRecord,...Xe(r)})}}class wu extends et{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Se.map)return je(n,{code:fe.invalid_type,expected:Se.map,received:n.parsedType}),He;const i=this._def.keyType,s=this._def.valueType,o=[...n.data.entries()].map(([c,l],u)=>({key:i._parse(new Bn(n,c,n.path,[u,"key"])),value:s._parse(new Bn(n,l,n.path,[u,"value"]))}));if(n.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const l of o){const u=await l.key,d=await l.value;if(u.status==="aborted"||d.status==="aborted")return He;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),c.set(u.value,d.value)}return{status:r.value,value:c}})}else{const c=new Map;for(const l of o){const u=l.key,d=l.value;if(u.status==="aborted"||d.status==="aborted")return He;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),c.set(u.value,d.value)}return{status:r.value,value:c}}}}wu.create=(e,t,r)=>new wu({valueType:t,keyType:e,typeName:We.ZodMap,...Xe(r)});class Ei extends et{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Se.set)return je(n,{code:fe.invalid_type,expected:Se.set,received:n.parsedType}),He;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(je(n,{code:fe.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(je(n,{code:fe.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const s=this._def.valueType;function o(l){const u=new Set;for(const d of l){if(d.status==="aborted")return He;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const c=[...n.data.values()].map((l,u)=>s._parse(new Bn(n,l,n.path,u)));return n.common.async?Promise.all(c).then(l=>o(l)):o(c)}min(t,r){return new Ei({...this._def,minSize:{value:t,message:Ie.toString(r)}})}max(t,r){return new Ei({...this._def,maxSize:{value:t,message:Ie.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Ei.create=(e,t)=>new Ei({valueType:e,minSize:null,maxSize:null,typeName:We.ZodSet,...Xe(t)});class js extends et{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Se.function)return je(r,{code:fe.invalid_type,expected:Se.function,received:r.parsedType}),He;function n(c,l){return xu({data:c,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,vu(),Os].filter(u=>!!u),issueData:{code:fe.invalid_arguments,argumentsError:l}})}function i(c,l){return xu({data:c,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,vu(),Os].filter(u=>!!u),issueData:{code:fe.invalid_return_type,returnTypeError:l}})}const s={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof ks){const c=this;return br(async function(...l){const u=new Rr([]),d=await c._def.args.parseAsync(l,s).catch(p=>{throw u.addIssue(n(l,p)),u}),f=await Reflect.apply(o,this,d);return await c._def.returns._def.type.parseAsync(f,s).catch(p=>{throw u.addIssue(i(f,p)),u})})}else{const c=this;return br(function(...l){const u=c._def.args.safeParse(l,s);if(!u.success)throw new Rr([n(l,u.error)]);const d=Reflect.apply(o,this,u.data),f=c._def.returns.safeParse(d,s);if(!f.success)throw new Rr([i(d,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new js({...this._def,args:Vn.create(t).rest(ji.create())})}returns(t){return new js({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new js({args:t||Vn.create([]).rest(ji.create()),returns:r||ji.create(),typeName:We.ZodFunction,...Xe(n)})}}class pc extends et{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}pc.create=(e,t)=>new pc({getter:e,typeName:We.ZodLazy,...Xe(t)});class gc extends et{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return je(r,{received:r.data,code:fe.invalid_literal,expected:this._def.value}),He}return{status:"valid",value:t.data}}get value(){return this._def.value}}gc.create=(e,t)=>new gc({value:e,typeName:We.ZodLiteral,...Xe(t)});function MN(e,t){return new Va({values:e,typeName:We.ZodEnum,...Xe(t)})}class Va extends et{constructor(){super(...arguments),Ho.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return je(r,{expected:st.joinValues(n),received:r.parsedType,code:fe.invalid_type}),He}if(yu(this,Ho)||EN(this,Ho,new Set(this._def.values)),!yu(this,Ho).has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return je(r,{received:r.data,code:fe.invalid_enum_value,options:n}),He}return br(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Va.create(t,{...this._def,...r})}exclude(t,r=this._def){return Va.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}Ho=new WeakMap;Va.create=MN;class vc extends et{constructor(){super(...arguments),qo.set(this,void 0)}_parse(t){const r=st.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==Se.string&&n.parsedType!==Se.number){const i=st.objectValues(r);return je(n,{expected:st.joinValues(i),received:n.parsedType,code:fe.invalid_type}),He}if(yu(this,qo)||EN(this,qo,new Set(st.getValidEnumValues(this._def.values))),!yu(this,qo).has(t.data)){const i=st.objectValues(r);return je(n,{received:n.data,code:fe.invalid_enum_value,options:i}),He}return br(t.data)}get enum(){return this._def.values}}qo=new WeakMap;vc.create=(e,t)=>new vc({values:e,typeName:We.ZodNativeEnum,...Xe(t)});class ks extends et{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Se.promise&&r.common.async===!1)return je(r,{code:fe.invalid_type,expected:Se.promise,received:r.parsedType}),He;const n=r.parsedType===Se.promise?r.data:Promise.resolve(r.data);return br(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}ks.create=(e,t)=>new ks({type:e,typeName:We.ZodPromise,...Xe(t)});class gn extends et{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===We.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),i=this._def.effect||null,s={addIssue:o=>{je(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(n.data,s);if(n.common.async)return Promise.resolve(o).then(async c=>{if(r.value==="aborted")return He;const l=await this._def.schema._parseAsync({data:c,path:n.path,parent:n});return l.status==="aborted"?He:l.status==="dirty"||r.value==="dirty"?us(l.value):l});{if(r.value==="aborted")return He;const c=this._def.schema._parseSync({data:o,path:n.path,parent:n});return c.status==="aborted"?He:c.status==="dirty"||r.value==="dirty"?us(c.value):c}}if(i.type==="refinement"){const o=c=>{const l=i.refinement(c,s);if(n.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(n.common.async===!1){const c=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return c.status==="aborted"?He:(c.status==="dirty"&&r.dirty(),o(c.value),{status:r.value,value:c.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(c=>c.status==="aborted"?He:(c.status==="dirty"&&r.dirty(),o(c.value).then(()=>({status:r.value,value:c.value}))))}if(i.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Ti(o))return o;const c=i.transform(o.value,s);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:c}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>Ti(o)?Promise.resolve(i.transform(o.value,s)).then(c=>({status:r.value,value:c})):o);st.assertNever(i)}}gn.create=(e,t,r)=>new gn({schema:e,typeName:We.ZodEffects,effect:t,...Xe(r)});gn.createWithPreprocess=(e,t,r)=>new gn({schema:t,effect:{type:"preprocess",transform:e},typeName:We.ZodEffects,...Xe(r)});class Dn extends et{_parse(t){return this._getType(t)===Se.undefined?br(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Dn.create=(e,t)=>new Dn({innerType:e,typeName:We.ZodOptional,...Xe(t)});class za extends et{_parse(t){return this._getType(t)===Se.null?br(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}za.create=(e,t)=>new za({innerType:e,typeName:We.ZodNullable,...Xe(t)});class xc extends et{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===Se.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}xc.create=(e,t)=>new xc({innerType:e,typeName:We.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Xe(t)});class yc extends et{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return cc(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Rr(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Rr(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}yc.create=(e,t)=>new yc({innerType:e,typeName:We.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Xe(t)});class Nu extends et{_parse(t){if(this._getType(t)!==Se.nan){const n=this._getOrReturnCtx(t);return je(n,{code:fe.invalid_type,expected:Se.nan,received:n.parsedType}),He}return{status:"valid",value:t.data}}}Nu.create=e=>new Nu({typeName:We.ZodNaN,...Xe(e)});const rM=Symbol("zod_brand");class Ng extends et{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class ul extends et{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?He:s.status==="dirty"?(r.dirty(),us(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?He:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(t,r){return new ul({in:t,out:r,typeName:We.ZodPipeline})}}class bc extends et{_parse(t){const r=this._def.innerType._parse(t),n=i=>(Ti(i)&&(i.value=Object.freeze(i.value)),i);return cc(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}}bc.create=(e,t)=>new bc({innerType:e,typeName:We.ZodReadonly,...Xe(t)});function Yx(e,t){const r=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof r=="string"?{message:r}:r}function RN(e,t={},r){return e?_s.create().superRefine((n,i)=>{var s,o;const c=e(n);if(c instanceof Promise)return c.then(l=>{var u,d;if(!l){const f=Yx(t,n),h=(d=(u=f.fatal)!==null&&u!==void 0?u:r)!==null&&d!==void 0?d:!0;i.addIssue({code:"custom",...f,fatal:h})}});if(!c){const l=Yx(t,n),u=(o=(s=l.fatal)!==null&&s!==void 0?s:r)!==null&&o!==void 0?o:!0;i.addIssue({code:"custom",...l,fatal:u})}}):_s.create()}const nM={object:Ct.lazycreate};var We;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(We||(We={}));const aM=(e,t={message:`Input not instance of ${e.name}`})=>RN(r=>r instanceof e,t),LN=dn.create,FN=Fa.create,iM=Nu.create,sM=Ba.create,BN=lc.create,oM=Ci.create,cM=bu.create,lM=uc.create,uM=dc.create,dM=_s.create,fM=ji.create,hM=ma.create,mM=ju.create,pM=mn.create,gM=Ct.create,vM=Ct.strictCreate,xM=fc.create,yM=Yd.create,bM=hc.create,jM=Vn.create,wM=mc.create,NM=wu.create,SM=Ei.create,AM=js.create,OM=pc.create,_M=gc.create,kM=Va.create,PM=vc.create,TM=ks.create,Jx=gn.create,CM=Dn.create,EM=za.create,$M=gn.createWithPreprocess,DM=ul.create,IM=()=>LN().optional(),MM=()=>FN().optional(),RM=()=>BN().optional(),LM={string:e=>dn.create({...e,coerce:!0}),number:e=>Fa.create({...e,coerce:!0}),boolean:e=>lc.create({...e,coerce:!0}),bigint:e=>Ba.create({...e,coerce:!0}),date:e=>Ci.create({...e,coerce:!0})},FM=He;var na=Object.freeze({__proto__:null,defaultErrorMap:Os,setErrorMap:$I,getErrorMap:vu,makeIssue:xu,EMPTY_PATH:DI,addIssueToContext:je,ParseStatus:pr,INVALID:He,DIRTY:us,OK:br,isAborted:fm,isDirty:hm,isValid:Ti,isAsync:cc,get util(){return st},get objectUtil(){return dm},ZodParsedType:Se,getParsedType:ra,ZodType:et,datetimeRegex:IN,ZodString:dn,ZodNumber:Fa,ZodBigInt:Ba,ZodBoolean:lc,ZodDate:Ci,ZodSymbol:bu,ZodUndefined:uc,ZodNull:dc,ZodAny:_s,ZodUnknown:ji,ZodNever:ma,ZodVoid:ju,ZodArray:mn,ZodObject:Ct,ZodUnion:fc,ZodDiscriminatedUnion:Yd,ZodIntersection:hc,ZodTuple:Vn,ZodRecord:mc,ZodMap:wu,ZodSet:Ei,ZodFunction:js,ZodLazy:pc,ZodLiteral:gc,ZodEnum:Va,ZodNativeEnum:vc,ZodPromise:ks,ZodEffects:gn,ZodTransformer:gn,ZodOptional:Dn,ZodNullable:za,ZodDefault:xc,ZodCatch:yc,ZodNaN:Nu,BRAND:rM,ZodBranded:Ng,ZodPipeline:ul,ZodReadonly:bc,custom:RN,Schema:et,ZodSchema:et,late:nM,get ZodFirstPartyTypeKind(){return We},coerce:LM,any:dM,array:pM,bigint:sM,boolean:BN,date:oM,discriminatedUnion:yM,effect:Jx,enum:kM,function:AM,instanceof:aM,intersection:bM,lazy:OM,literal:_M,map:NM,nan:iM,nativeEnum:PM,never:hM,null:uM,nullable:EM,number:FN,object:gM,oboolean:RM,onumber:MM,optional:CM,ostring:IM,pipeline:DM,preprocess:$M,promise:TM,record:wM,set:SM,strictObject:vM,string:LN,symbol:cM,transformer:Jx,tuple:jM,undefined:lM,union:xM,unknown:fM,void:mM,NEVER:FM,ZodIssueCode:fe,quotelessJson:EI,ZodError:Rr});const BM=na.object({email:na.string().email("電子郵件格式無效"),password:na.string().min(6,"密碼至少需要6個字符")}),VM=()=>{const[e,t]=x.useState(!1),[r,n]=x.useState(!1),{login:i}=io(),s=Id(),{register:o,handleSubmit:c,formState:{errors:l}}=kN({resolver:TN(BM)}),u=async d=>{n(!0);try{await i(d.email,d.password),s("/")}catch{}finally{n(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted/30 py-12",children:a.jsxs(le,{className:"w-full max-w-md",children:[a.jsxs(ge,{className:"text-center",children:[a.jsx(ve,{className:"text-2xl",children:"登入"}),a.jsx(tt,{children:"登入您的帳戶以繼續"})]}),a.jsxs(ue,{children:[a.jsxs("form",{onSubmit:c(u),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"email",children:"電子郵件"}),a.jsx(oe,{id:"email",type:"email",placeholder:"請輸入您的電子郵件",...o("email"),className:l.email?"border-red-500":""}),l.email&&a.jsx("p",{className:"text-sm text-red-500",children:l.email.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"password",children:"密碼"}),a.jsxs("div",{className:"relative",children:[a.jsx(oe,{id:"password",type:e?"text":"password",placeholder:"請輸入密碼",...o("password"),className:l.password?"border-red-500":""}),a.jsx("button",{type:"button",onClick:()=>t(!e),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground",children:e?a.jsx(x1,{className:"h-4 w-4"}):a.jsx(yi,{className:"h-4 w-4"})})]}),l.password&&a.jsx("p",{className:"text-sm text-red-500",children:l.password.message})]}),a.jsx(q,{type:"submit",className:"w-full",disabled:r,children:r?"登入中...":"登入"})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs("p",{className:"text-sm text-muted-foreground",children:["還沒有帳戶？"," ",a.jsx(Er,{to:"/register",className:"text-primary hover:underline",children:"立即註冊"})]})})]})]})})},zM=na.object({name:na.string().min(2,"姓名至少需要2個字符"),email:na.string().email("電子郵件格式無效"),phone:na.string().min(10,"電話號碼無效"),password:na.string().min(6,"密碼至少需要6個字符"),licensePlate:na.string().optional()}),UM=()=>{const[e,t]=x.useState(!1),[r,n]=x.useState(!1),{register:i}=io(),s=Id(),{register:o,handleSubmit:c,formState:{errors:l}}=kN({resolver:TN(zM)}),u=async d=>{n(!0);try{await i(d),s("/")}catch{}finally{n(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted/30 py-12",children:a.jsxs(le,{className:"w-full max-w-md",children:[a.jsxs(ge,{className:"text-center",children:[a.jsx(ve,{className:"text-2xl",children:"註冊"}),a.jsx(tt,{children:"創建新帳戶以使用服務"})]}),a.jsxs(ue,{children:[a.jsxs("form",{onSubmit:c(u),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"name",children:"姓名"}),a.jsx(oe,{id:"name",type:"text",placeholder:"請輸入您的姓名",...o("name"),className:l.name?"border-red-500":""}),l.name&&a.jsx("p",{className:"text-sm text-red-500",children:l.name.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"email",children:"電子郵件"}),a.jsx(oe,{id:"email",type:"email",placeholder:"請輸入您的電子郵件",...o("email"),className:l.email?"border-red-500":""}),l.email&&a.jsx("p",{className:"text-sm text-red-500",children:l.email.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"phone",children:"電話號碼"}),a.jsx(oe,{id:"phone",type:"tel",placeholder:"請輸入電話號碼",...o("phone"),className:l.phone?"border-red-500":""}),l.phone&&a.jsx("p",{className:"text-sm text-red-500",children:l.phone.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"licensePlate",children:"車牌號碼 (選填)"}),a.jsx(oe,{id:"licensePlate",type:"text",placeholder:"請輸入車牌號碼",...o("licensePlate")})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(K,{htmlFor:"password",children:"密碼"}),a.jsxs("div",{className:"relative",children:[a.jsx(oe,{id:"password",type:e?"text":"password",placeholder:"請輸入密碼",...o("password"),className:l.password?"border-red-500":""}),a.jsx("button",{type:"button",onClick:()=>t(!e),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground",children:e?a.jsx(x1,{className:"h-4 w-4"}):a.jsx(yi,{className:"h-4 w-4"})})]}),l.password&&a.jsx("p",{className:"text-sm text-red-500",children:l.password.message})]}),a.jsx(q,{type:"submit",className:"w-full",disabled:r,children:r?"註冊中...":"註冊"})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs("p",{className:"text-sm text-muted-foreground",children:["已有帳戶？"," ",a.jsx(Er,{to:"/login",className:"text-primary hover:underline",children:"登入"})]})})]})]})})};function ua(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e==null||e(i),r===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function Sg(e,t=[]){let r=[];function n(s,o){const c=x.createContext(o),l=r.length;r=[...r,o];const u=f=>{var y;const{scope:h,children:p,...g}=f,m=((y=h==null?void 0:h[e])==null?void 0:y[l])||c,v=x.useMemo(()=>g,Object.values(g));return a.jsx(m.Provider,{value:v,children:p})};u.displayName=s+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[l])||c,g=x.useContext(p);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=r.map(o=>x.createContext(o));return function(c){const l=(c==null?void 0:c[e])||s;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:l}}),[c,l])}};return i.scopeName=e,[n,WM(i,...t)]}function WM(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=n.reduce((c,{useScope:l,scopeName:u})=>{const f=l(s)[`__scope${u}`];return{...c,...f}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function Qx(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function HM(...e){return t=>{let r=!1;const n=e.map(i=>{const s=Qx(i,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<n.length;i++){const s=n[i];typeof s=="function"?s():Qx(e[i],null)}}}}function Su(...e){return x.useCallback(HM(...e),e)}function qM(e){const t=e+"CollectionProvider",[r,n]=Sg(t),[i,s]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:v,children:y}=m,b=I.useRef(null),j=I.useRef(new Map).current;return a.jsx(i,{scope:v,itemMap:j,collectionRef:b,children:y})};o.displayName=t;const c=e+"CollectionSlot",l=en(c),u=I.forwardRef((m,v)=>{const{scope:y,children:b}=m,j=s(c,y),S=Su(v,j.collectionRef);return a.jsx(l,{ref:S,children:b})});u.displayName=c;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=en(d),p=I.forwardRef((m,v)=>{const{scope:y,children:b,...j}=m,S=I.useRef(null),N=Su(v,S),w=s(d,y);return I.useEffect(()=>(w.itemMap.set(S,{ref:S,...j}),()=>void w.itemMap.delete(S))),a.jsx(h,{[f]:"",ref:N,children:b})});p.displayName=d;function g(m){const v=s(e+"CollectionConsumer",m);return I.useCallback(()=>{const b=v.collectionRef.current;if(!b)return[];const j=Array.from(b.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((w,A)=>j.indexOf(w.ref.current)-j.indexOf(A.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:u,ItemSlot:p},g,n]}var Au=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},KM=Wi[" useId ".trim().toString()]||(()=>{}),GM=0;function VN(e){const[t,r]=x.useState(KM());return Au(()=>{r(n=>n??String(GM++))},[e]),t?`radix-${t}`:""}var ZM=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],oo=ZM.reduce((e,t)=>{const r=en(`Primitive.${t}`),n=x.forwardRef((i,s)=>{const{asChild:o,...c}=i,l=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(l,{...c,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function XM(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}var YM=Wi[" useInsertionEffect ".trim().toString()]||Au;function zN({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[i,s,o]=JM({defaultProp:t,onChange:r}),c=e!==void 0,l=c?e:i;{const d=x.useRef(e!==void 0);x.useEffect(()=>{const f=d.current;f!==c&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=c},[c,n])}const u=x.useCallback(d=>{var f;if(c){const h=QM(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else s(d)},[c,e,s,o]);return[l,u]}function JM({defaultProp:e,onChange:t}){const[r,n]=x.useState(e),i=x.useRef(r),s=x.useRef(t);return YM(()=>{s.current=t},[t]),x.useEffect(()=>{var o;i.current!==r&&((o=s.current)==null||o.call(s,r),i.current=r)},[r,i]),[r,n,s]}function QM(e){return typeof e=="function"}var eR=x.createContext(void 0);function UN(e){const t=x.useContext(eR);return e||t||"ltr"}var ph="rovingFocusGroup.onEntryFocus",tR={bubbles:!1,cancelable:!0},dl="RovingFocusGroup",[pm,WN,rR]=qM(dl),[nR,HN]=Sg(dl,[rR]),[aR,iR]=nR(dl),qN=x.forwardRef((e,t)=>a.jsx(pm.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(pm.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(sR,{...e,ref:t})})}));qN.displayName=dl;var sR=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=x.useRef(null),p=Su(t,h),g=UN(s),[m,v]=zN({prop:o,defaultProp:c??null,onChange:l,caller:dl}),[y,b]=x.useState(!1),j=XM(u),S=WN(r),N=x.useRef(!1),[w,A]=x.useState(0);return x.useEffect(()=>{const O=h.current;if(O)return O.addEventListener(ph,j),()=>O.removeEventListener(ph,j)},[j]),a.jsx(aR,{scope:r,orientation:n,dir:g,loop:i,currentTabStopId:m,onItemFocus:x.useCallback(O=>v(O),[v]),onItemShiftTab:x.useCallback(()=>b(!0),[]),onFocusableItemAdd:x.useCallback(()=>A(O=>O+1),[]),onFocusableItemRemove:x.useCallback(()=>A(O=>O-1),[]),children:a.jsx(oo.div,{tabIndex:y||w===0?-1:0,"data-orientation":n,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:ua(e.onMouseDown,()=>{N.current=!0}),onFocus:ua(e.onFocus,O=>{const _=!N.current;if(O.target===O.currentTarget&&_&&!y){const P=new CustomEvent(ph,tR);if(O.currentTarget.dispatchEvent(P),!P.defaultPrevented){const C=S().filter(M=>M.focusable),E=C.find(M=>M.active),k=C.find(M=>M.id===m),T=[E,k,...C].filter(Boolean).map(M=>M.ref.current);ZN(T,d)}}N.current=!1}),onBlur:ua(e.onBlur,()=>b(!1))})})}),KN="RovingFocusGroupItem",GN=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:s,children:o,...c}=e,l=VN(),u=s||l,d=iR(KN,r),f=d.currentTabStopId===u,h=WN(r),{onFocusableItemAdd:p,onFocusableItemRemove:g,currentTabStopId:m}=d;return x.useEffect(()=>{if(n)return p(),()=>g()},[n,p,g]),a.jsx(pm.ItemSlot,{scope:r,id:u,focusable:n,active:i,children:a.jsx(oo.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...c,ref:t,onMouseDown:ua(e.onMouseDown,v=>{n?d.onItemFocus(u):v.preventDefault()}),onFocus:ua(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:ua(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){d.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const y=lR(v,d.orientation,d.dir);if(y!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let j=h().filter(S=>S.focusable).map(S=>S.ref.current);if(y==="last")j.reverse();else if(y==="prev"||y==="next"){y==="prev"&&j.reverse();const S=j.indexOf(v.currentTarget);j=d.loop?uR(j,S+1):j.slice(S+1)}setTimeout(()=>ZN(j))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:m!=null}):o})})});GN.displayName=KN;var oR={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function cR(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function lR(e,t,r){const n=cR(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return oR[n]}function ZN(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function uR(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var dR=qN,fR=GN;function hR(e,t){return x.useReducer((r,n)=>t[r][n]??r,e)}var XN=e=>{const{present:t,children:r}=e,n=mR(t),i=typeof r=="function"?r({present:n.isPresent}):x.Children.only(r),s=Su(n.ref,pR(i));return typeof r=="function"||n.isPresent?x.cloneElement(i,{ref:s}):null};XN.displayName="Presence";function mR(e){const[t,r]=x.useState(),n=x.useRef(null),i=x.useRef(e),s=x.useRef("none"),o=e?"mounted":"unmounted",[c,l]=hR(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const u=Tl(n.current);s.current=c==="mounted"?u:"none"},[c]),Au(()=>{const u=n.current,d=i.current;if(d!==e){const h=s.current,p=Tl(u);e?l("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,l]),Au(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const m=Tl(n.current).includes(p.animationName);if(p.target===t&&m&&(l("ANIMATION_END"),!i.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},h=p=>{p.target===t&&(s.current=Tl(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:x.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Tl(e){return(e==null?void 0:e.animationName)||"none"}function pR(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Jd="Tabs",[gR,Ace]=Sg(Jd,[HN]),YN=HN(),[vR,Ag]=gR(Jd),JN=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:c,activationMode:l="automatic",...u}=e,d=UN(c),[f,h]=zN({prop:n,onChange:i,defaultProp:s??"",caller:Jd});return a.jsx(vR,{scope:r,baseId:VN(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:l,children:a.jsx(oo.div,{dir:d,"data-orientation":o,...u,ref:t})})});JN.displayName=Jd;var QN="TabsList",eS=x.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...i}=e,s=Ag(QN,r),o=YN(r);return a.jsx(dR,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:n,children:a.jsx(oo.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:t})})});eS.displayName=QN;var tS="TabsTrigger",rS=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...s}=e,o=Ag(tS,r),c=YN(r),l=iS(o.baseId,n),u=sS(o.baseId,n),d=n===o.value;return a.jsx(fR,{asChild:!0,...c,focusable:!i,active:d,children:a.jsx(oo.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...s,ref:t,onMouseDown:ua(e.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:ua(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:ua(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!i&&f&&o.onValueChange(n)})})})});rS.displayName=tS;var nS="TabsContent",aS=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:i,children:s,...o}=e,c=Ag(nS,r),l=iS(c.baseId,n),u=sS(c.baseId,n),d=n===c.value,f=x.useRef(d);return x.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),a.jsx(XN,{present:i||d,children:({present:h})=>a.jsx(oo.div,{"data-state":d?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&s})})});aS.displayName=nS;function iS(e,t){return`${e}-trigger-${t}`}function sS(e,t){return`${e}-content-${t}`}var xR=JN,oS=eS,cS=rS,lS=aS;const fl=xR,co=x.forwardRef(({className:e,...t},r)=>a.jsx(oS,{ref:r,className:Qe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));co.displayName=oS.displayName;const Kt=x.forwardRef(({className:e,...t},r)=>a.jsx(cS,{ref:r,className:Qe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Kt.displayName=cS.displayName;const Qt=x.forwardRef(({className:e,...t},r)=>a.jsx(lS,{ref:r,className:Qe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Qt.displayName=lS.displayName;function ey(e,[t,r]){return Math.min(r,Math.max(t,e))}function Vt(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e==null||e(i),r===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function Og(e,t=[]){let r=[];function n(s,o){const c=x.createContext(o),l=r.length;r=[...r,o];const u=f=>{var y;const{scope:h,children:p,...g}=f,m=((y=h==null?void 0:h[e])==null?void 0:y[l])||c,v=x.useMemo(()=>g,Object.values(g));return a.jsx(m.Provider,{value:v,children:p})};u.displayName=s+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[l])||c,g=x.useContext(p);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=r.map(o=>x.createContext(o));return function(c){const l=(c==null?void 0:c[e])||s;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:l}}),[c,l])}};return i.scopeName=e,[n,yR(i,...t)]}function yR(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=n.reduce((c,{useScope:l,scopeName:u})=>{const f=l(s)[`__scope${u}`];return{...c,...f}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function ty(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function bR(...e){return t=>{let r=!1;const n=e.map(i=>{const s=ty(i,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<n.length;i++){const s=n[i];typeof s=="function"?s():ty(e[i],null)}}}}function sr(...e){return x.useCallback(bR(...e),e)}function jR(e){const t=e+"CollectionProvider",[r,n]=Og(t),[i,s]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:v,children:y}=m,b=I.useRef(null),j=I.useRef(new Map).current;return a.jsx(i,{scope:v,itemMap:j,collectionRef:b,children:y})};o.displayName=t;const c=e+"CollectionSlot",l=en(c),u=I.forwardRef((m,v)=>{const{scope:y,children:b}=m,j=s(c,y),S=sr(v,j.collectionRef);return a.jsx(l,{ref:S,children:b})});u.displayName=c;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=en(d),p=I.forwardRef((m,v)=>{const{scope:y,children:b,...j}=m,S=I.useRef(null),N=sr(v,S),w=s(d,y);return I.useEffect(()=>(w.itemMap.set(S,{ref:S,...j}),()=>void w.itemMap.delete(S))),a.jsx(h,{[f]:"",ref:N,children:b})});p.displayName=d;function g(m){const v=s(e+"CollectionConsumer",m);return I.useCallback(()=>{const b=v.collectionRef.current;if(!b)return[];const j=Array.from(b.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((w,A)=>j.indexOf(w.ref.current)-j.indexOf(A.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:u,ItemSlot:p},g,n]}var wR=x.createContext(void 0);function NR(e){const t=x.useContext(wR);return e||t||"ltr"}var SR=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Lt=SR.reduce((e,t)=>{const r=en(`Primitive.${t}`),n=x.forwardRef((i,s)=>{const{asChild:o,...c}=i,l=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(l,{...c,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function AR(e,t){e&&ro.flushSync(()=>e.dispatchEvent(t))}function $i(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function OR(e,t=globalThis==null?void 0:globalThis.document){const r=$i(e);x.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var _R="DismissableLayer",gm="dismissableLayer.update",kR="dismissableLayer.pointerDownOutside",PR="dismissableLayer.focusOutside",ry,uS=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),dS=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:c,...l}=e,u=x.useContext(uS),[d,f]=x.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=x.useState({}),g=sr(t,A=>f(A)),m=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=m.indexOf(v),b=d?m.indexOf(d):-1,j=u.layersWithOutsidePointerEventsDisabled.size>0,S=b>=y,N=ER(A=>{const O=A.target,_=[...u.branches].some(P=>P.contains(O));!S||_||(i==null||i(A),o==null||o(A),A.defaultPrevented||c==null||c())},h),w=$R(A=>{const O=A.target;[...u.branches].some(P=>P.contains(O))||(s==null||s(A),o==null||o(A),A.defaultPrevented||c==null||c())},h);return OR(A=>{b===u.layers.size-1&&(n==null||n(A),!A.defaultPrevented&&c&&(A.preventDefault(),c()))},h),x.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(ry=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),ny(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=ry)}},[d,h,r,u]),x.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),ny())},[d,u]),x.useEffect(()=>{const A=()=>p({});return document.addEventListener(gm,A),()=>document.removeEventListener(gm,A)},[]),a.jsx(Lt.div,{...l,ref:g,style:{pointerEvents:j?S?"auto":"none":void 0,...e.style},onFocusCapture:Vt(e.onFocusCapture,w.onFocusCapture),onBlurCapture:Vt(e.onBlurCapture,w.onBlurCapture),onPointerDownCapture:Vt(e.onPointerDownCapture,N.onPointerDownCapture)})});dS.displayName=_R;var TR="DismissableLayerBranch",CR=x.forwardRef((e,t)=>{const r=x.useContext(uS),n=x.useRef(null),i=sr(t,n);return x.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),a.jsx(Lt.div,{...e,ref:i})});CR.displayName=TR;function ER(e,t=globalThis==null?void 0:globalThis.document){const r=$i(e),n=x.useRef(!1),i=x.useRef(()=>{});return x.useEffect(()=>{const s=c=>{if(c.target&&!n.current){let l=function(){fS(kR,r,u,{discrete:!0})};const u={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=l,t.addEventListener("click",i.current,{once:!0})):l()}else t.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",s),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function $R(e,t=globalThis==null?void 0:globalThis.document){const r=$i(e),n=x.useRef(!1);return x.useEffect(()=>{const i=s=>{s.target&&!n.current&&fS(PR,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function ny(){const e=new CustomEvent(gm);document.dispatchEvent(e)}function fS(e,t,r,{discrete:n}){const i=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?AR(i,s):i.dispatchEvent(s)}var gh=0;function DR(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??ay()),document.body.insertAdjacentElement("beforeend",e[1]??ay()),gh++,()=>{gh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),gh--}},[])}function ay(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var vh="focusScope.autoFocusOnMount",xh="focusScope.autoFocusOnUnmount",iy={bubbles:!1,cancelable:!0},IR="FocusScope",hS=x.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=e,[c,l]=x.useState(null),u=$i(i),d=$i(s),f=x.useRef(null),h=sr(t,m=>l(m)),p=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(n){let m=function(j){if(p.paused||!c)return;const S=j.target;c.contains(S)?f.current=S:_a(f.current,{select:!0})},v=function(j){if(p.paused||!c)return;const S=j.relatedTarget;S!==null&&(c.contains(S)||_a(f.current,{select:!0}))},y=function(j){if(document.activeElement===document.body)for(const N of j)N.removedNodes.length>0&&_a(c)};document.addEventListener("focusin",m),document.addEventListener("focusout",v);const b=new MutationObserver(y);return c&&b.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",v),b.disconnect()}}},[n,c,p.paused]),x.useEffect(()=>{if(c){oy.add(p);const m=document.activeElement;if(!c.contains(m)){const y=new CustomEvent(vh,iy);c.addEventListener(vh,u),c.dispatchEvent(y),y.defaultPrevented||(MR(VR(mS(c)),{select:!0}),document.activeElement===m&&_a(c))}return()=>{c.removeEventListener(vh,u),setTimeout(()=>{const y=new CustomEvent(xh,iy);c.addEventListener(xh,d),c.dispatchEvent(y),y.defaultPrevented||_a(m??document.body,{select:!0}),c.removeEventListener(xh,d),oy.remove(p)},0)}}},[c,u,d,p]);const g=x.useCallback(m=>{if(!r&&!n||p.paused)return;const v=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,y=document.activeElement;if(v&&y){const b=m.currentTarget,[j,S]=RR(b);j&&S?!m.shiftKey&&y===S?(m.preventDefault(),r&&_a(j,{select:!0})):m.shiftKey&&y===j&&(m.preventDefault(),r&&_a(S,{select:!0})):y===b&&m.preventDefault()}},[r,n,p.paused]);return a.jsx(Lt.div,{tabIndex:-1,...o,ref:h,onKeyDown:g})});hS.displayName=IR;function MR(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(_a(n,{select:t}),document.activeElement!==r)return}function RR(e){const t=mS(e),r=sy(t,e),n=sy(t.reverse(),e);return[r,n]}function mS(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function sy(e,t){for(const r of e)if(!LR(r,{upTo:t}))return r}function LR(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function FR(e){return e instanceof HTMLInputElement&&"select"in e}function _a(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&FR(e)&&t&&e.select()}}var oy=BR();function BR(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=cy(e,t),e.unshift(t)},remove(t){var r;e=cy(e,t),(r=e[0])==null||r.resume()}}}function cy(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function VR(e){return e.filter(t=>t.tagName!=="A")}var kr=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},zR=Wi[" useId ".trim().toString()]||(()=>{}),UR=0;function _g(e){const[t,r]=x.useState(zR());return kr(()=>{r(n=>n??String(UR++))},[e]),t?`radix-${t}`:""}const WR=["top","right","bottom","left"],Ua=Math.min,Dr=Math.max,Ou=Math.round,Cl=Math.floor,In=e=>({x:e,y:e}),HR={left:"right",right:"left",bottom:"top",top:"bottom"},qR={start:"end",end:"start"};function vm(e,t,r){return Dr(e,Ua(t,r))}function pa(e,t){return typeof e=="function"?e(t):e}function ga(e){return e.split("-")[0]}function lo(e){return e.split("-")[1]}function kg(e){return e==="x"?"y":"x"}function Pg(e){return e==="y"?"height":"width"}function Wa(e){return["top","bottom"].includes(ga(e))?"y":"x"}function Tg(e){return kg(Wa(e))}function KR(e,t,r){r===void 0&&(r=!1);const n=lo(e),i=Tg(e),s=Pg(i);let o=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=_u(o)),[o,_u(o)]}function GR(e){const t=_u(e);return[xm(e),t,xm(t)]}function xm(e){return e.replace(/start|end/g,t=>qR[t])}function ZR(e,t,r){const n=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?i:n:t?n:i;case"left":case"right":return t?s:o;default:return[]}}function XR(e,t,r,n){const i=lo(e);let s=ZR(ga(e),r==="start",n);return i&&(s=s.map(o=>o+"-"+i),t&&(s=s.concat(s.map(xm)))),s}function _u(e){return e.replace(/left|right|bottom|top/g,t=>HR[t])}function YR(e){return{top:0,right:0,bottom:0,left:0,...e}}function pS(e){return typeof e!="number"?YR(e):{top:e,right:e,bottom:e,left:e}}function ku(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function ly(e,t,r){let{reference:n,floating:i}=e;const s=Wa(t),o=Tg(t),c=Pg(o),l=ga(t),u=s==="y",d=n.x+n.width/2-i.width/2,f=n.y+n.height/2-i.height/2,h=n[c]/2-i[c]/2;let p;switch(l){case"top":p={x:d,y:n.y-i.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-i.width,y:f};break;default:p={x:n.x,y:n.y}}switch(lo(t)){case"start":p[o]-=h*(r&&u?-1:1);break;case"end":p[o]+=h*(r&&u?-1:1);break}return p}const JR=async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:s=[],platform:o}=r,c=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:f}=ly(u,n,l),h=n,p={},g=0;for(let m=0;m<c.length;m++){const{name:v,fn:y}=c[m],{x:b,y:j,data:S,reset:N}=await y({x:d,y:f,initialPlacement:n,placement:h,strategy:i,middlewareData:p,rects:u,platform:o,elements:{reference:e,floating:t}});d=b??d,f=j??f,p={...p,[v]:{...p[v],...S}},N&&g<=50&&(g++,typeof N=="object"&&(N.placement&&(h=N.placement),N.rects&&(u=N.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):N.rects),{x:d,y:f}=ly(u,h,l)),m=-1)}return{x:d,y:f,placement:h,strategy:i,middlewareData:p}};async function jc(e,t){var r;t===void 0&&(t={});const{x:n,y:i,platform:s,rects:o,elements:c,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=pa(t,e),g=pS(p),v=c[h?f==="floating"?"reference":"floating":f],y=ku(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(v)))==null||r?v:v.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(c.floating)),boundary:u,rootBoundary:d,strategy:l})),b=f==="floating"?{x:n,y:i,width:o.floating.width,height:o.floating.height}:o.reference,j=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c.floating)),S=await(s.isElement==null?void 0:s.isElement(j))?await(s.getScale==null?void 0:s.getScale(j))||{x:1,y:1}:{x:1,y:1},N=ku(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:b,offsetParent:j,strategy:l}):b);return{top:(y.top-N.top+g.top)/S.y,bottom:(N.bottom-y.bottom+g.bottom)/S.y,left:(y.left-N.left+g.left)/S.x,right:(N.right-y.right+g.right)/S.x}}const QR=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:s,platform:o,elements:c,middlewareData:l}=t,{element:u,padding:d=0}=pa(e,t)||{};if(u==null)return{};const f=pS(d),h={x:r,y:n},p=Tg(i),g=Pg(p),m=await o.getDimensions(u),v=p==="y",y=v?"top":"left",b=v?"bottom":"right",j=v?"clientHeight":"clientWidth",S=s.reference[g]+s.reference[p]-h[p]-s.floating[g],N=h[p]-s.reference[p],w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let A=w?w[j]:0;(!A||!await(o.isElement==null?void 0:o.isElement(w)))&&(A=c.floating[j]||s.floating[g]);const O=S/2-N/2,_=A/2-m[g]/2-1,P=Ua(f[y],_),C=Ua(f[b],_),E=P,k=A-m[g]-C,$=A/2-m[g]/2+O,T=vm(E,$,k),M=!l.arrow&&lo(i)!=null&&$!==T&&s.reference[g]/2-($<E?P:C)-m[g]/2<0,D=M?$<E?$-E:$-k:0;return{[p]:h[p]+D,data:{[p]:T,centerOffset:$-T-D,...M&&{alignmentOffset:D}},reset:M}}}),e4=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:s,rects:o,initialPlacement:c,platform:l,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...v}=pa(e,t);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const y=ga(i),b=Wa(c),j=ga(c)===c,S=await(l.isRTL==null?void 0:l.isRTL(u.floating)),N=h||(j||!m?[_u(c)]:GR(c)),w=g!=="none";!h&&w&&N.push(...XR(c,m,g,S));const A=[c,...N],O=await jc(t,v),_=[];let P=((n=s.flip)==null?void 0:n.overflows)||[];if(d&&_.push(O[y]),f){const $=KR(i,o,S);_.push(O[$[0]],O[$[1]])}if(P=[...P,{placement:i,overflows:_}],!_.every($=>$<=0)){var C,E;const $=(((C=s.flip)==null?void 0:C.index)||0)+1,T=A[$];if(T)return{data:{index:$,overflows:P},reset:{placement:T}};let M=(E=P.filter(D=>D.overflows[0]<=0).sort((D,W)=>D.overflows[1]-W.overflows[1])[0])==null?void 0:E.placement;if(!M)switch(p){case"bestFit":{var k;const D=(k=P.filter(W=>{if(w){const R=Wa(W.placement);return R===b||R==="y"}return!0}).map(W=>[W.placement,W.overflows.filter(R=>R>0).reduce((R,Y)=>R+Y,0)]).sort((W,R)=>W[1]-R[1])[0])==null?void 0:k[0];D&&(M=D);break}case"initialPlacement":M=c;break}if(i!==M)return{reset:{placement:M}}}return{}}}};function uy(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function dy(e){return WR.some(t=>e[t]>=0)}const t4=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...i}=pa(e,t);switch(n){case"referenceHidden":{const s=await jc(t,{...i,elementContext:"reference"}),o=uy(s,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:dy(o)}}}case"escaped":{const s=await jc(t,{...i,altBoundary:!0}),o=uy(s,r.floating);return{data:{escapedOffsets:o,escaped:dy(o)}}}default:return{}}}}};async function r4(e,t){const{placement:r,platform:n,elements:i}=e,s=await(n.isRTL==null?void 0:n.isRTL(i.floating)),o=ga(r),c=lo(r),l=Wa(r)==="y",u=["left","top"].includes(o)?-1:1,d=s&&l?-1:1,f=pa(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return c&&typeof g=="number"&&(p=c==="end"?g*-1:g),l?{x:p*d,y:h*u}:{x:h*u,y:p*d}}const n4=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:s,placement:o,middlewareData:c}=t,l=await r4(t,e);return o===((r=c.offset)==null?void 0:r.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},a4=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:i}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:c={fn:v=>{let{x:y,y:b}=v;return{x:y,y:b}}},...l}=pa(e,t),u={x:r,y:n},d=await jc(t,l),f=Wa(ga(i)),h=kg(f);let p=u[h],g=u[f];if(s){const v=h==="y"?"top":"left",y=h==="y"?"bottom":"right",b=p+d[v],j=p-d[y];p=vm(b,p,j)}if(o){const v=f==="y"?"top":"left",y=f==="y"?"bottom":"right",b=g+d[v],j=g-d[y];g=vm(b,g,j)}const m=c.fn({...t,[h]:p,[f]:g});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[h]:s,[f]:o}}}}}},i4=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:i,rects:s,middlewareData:o}=t,{offset:c=0,mainAxis:l=!0,crossAxis:u=!0}=pa(e,t),d={x:r,y:n},f=Wa(i),h=kg(f);let p=d[h],g=d[f];const m=pa(c,t),v=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const j=h==="y"?"height":"width",S=s.reference[h]-s.floating[j]+v.mainAxis,N=s.reference[h]+s.reference[j]-v.mainAxis;p<S?p=S:p>N&&(p=N)}if(u){var y,b;const j=h==="y"?"width":"height",S=["top","left"].includes(ga(i)),N=s.reference[f]-s.floating[j]+(S&&((y=o.offset)==null?void 0:y[f])||0)+(S?0:v.crossAxis),w=s.reference[f]+s.reference[j]+(S?0:((b=o.offset)==null?void 0:b[f])||0)-(S?v.crossAxis:0);g<N?g=N:g>w&&(g=w)}return{[h]:p,[f]:g}}}},s4=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:i,rects:s,platform:o,elements:c}=t,{apply:l=()=>{},...u}=pa(e,t),d=await jc(t,u),f=ga(i),h=lo(i),p=Wa(i)==="y",{width:g,height:m}=s.floating;let v,y;f==="top"||f==="bottom"?(v=f,y=h===(await(o.isRTL==null?void 0:o.isRTL(c.floating))?"start":"end")?"left":"right"):(y=f,v=h==="end"?"top":"bottom");const b=m-d.top-d.bottom,j=g-d.left-d.right,S=Ua(m-d[v],b),N=Ua(g-d[y],j),w=!t.middlewareData.shift;let A=S,O=N;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(O=j),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(A=b),w&&!h){const P=Dr(d.left,0),C=Dr(d.right,0),E=Dr(d.top,0),k=Dr(d.bottom,0);p?O=g-2*(P!==0||C!==0?P+C:Dr(d.left,d.right)):A=m-2*(E!==0||k!==0?E+k:Dr(d.top,d.bottom))}await l({...t,availableWidth:O,availableHeight:A});const _=await o.getDimensions(c.floating);return g!==_.width||m!==_.height?{reset:{rects:!0}}:{}}}};function Qd(){return typeof window<"u"}function uo(e){return gS(e)?(e.nodeName||"").toLowerCase():"#document"}function Lr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function qn(e){var t;return(t=(gS(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function gS(e){return Qd()?e instanceof Node||e instanceof Lr(e).Node:!1}function vn(e){return Qd()?e instanceof Element||e instanceof Lr(e).Element:!1}function zn(e){return Qd()?e instanceof HTMLElement||e instanceof Lr(e).HTMLElement:!1}function fy(e){return!Qd()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Lr(e).ShadowRoot}function hl(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=xn(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(i)}function o4(e){return["table","td","th"].includes(uo(e))}function ef(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Cg(e){const t=Eg(),r=vn(e)?xn(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function c4(e){let t=Ha(e);for(;zn(t)&&!Ps(t);){if(Cg(t))return t;if(ef(t))return null;t=Ha(t)}return null}function Eg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ps(e){return["html","body","#document"].includes(uo(e))}function xn(e){return Lr(e).getComputedStyle(e)}function tf(e){return vn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ha(e){if(uo(e)==="html")return e;const t=e.assignedSlot||e.parentNode||fy(e)&&e.host||qn(e);return fy(t)?t.host:t}function vS(e){const t=Ha(e);return Ps(t)?e.ownerDocument?e.ownerDocument.body:e.body:zn(t)&&hl(t)?t:vS(t)}function wc(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=vS(e),s=i===((n=e.ownerDocument)==null?void 0:n.body),o=Lr(i);if(s){const c=ym(o);return t.concat(o,o.visualViewport||[],hl(i)?i:[],c&&r?wc(c):[])}return t.concat(i,wc(i,[],r))}function ym(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function xS(e){const t=xn(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=zn(e),s=i?e.offsetWidth:r,o=i?e.offsetHeight:n,c=Ou(r)!==s||Ou(n)!==o;return c&&(r=s,n=o),{width:r,height:n,$:c}}function $g(e){return vn(e)?e:e.contextElement}function ws(e){const t=$g(e);if(!zn(t))return In(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:s}=xS(t);let o=(s?Ou(r.width):r.width)/n,c=(s?Ou(r.height):r.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!c||!Number.isFinite(c))&&(c=1),{x:o,y:c}}const l4=In(0);function yS(e){const t=Lr(e);return!Eg()||!t.visualViewport?l4:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function u4(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Lr(e)?!1:t}function Di(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),s=$g(e);let o=In(1);t&&(n?vn(n)&&(o=ws(n)):o=ws(e));const c=u4(s,r,n)?yS(s):In(0);let l=(i.left+c.x)/o.x,u=(i.top+c.y)/o.y,d=i.width/o.x,f=i.height/o.y;if(s){const h=Lr(s),p=n&&vn(n)?Lr(n):n;let g=h,m=ym(g);for(;m&&n&&p!==g;){const v=ws(m),y=m.getBoundingClientRect(),b=xn(m),j=y.left+(m.clientLeft+parseFloat(b.paddingLeft))*v.x,S=y.top+(m.clientTop+parseFloat(b.paddingTop))*v.y;l*=v.x,u*=v.y,d*=v.x,f*=v.y,l+=j,u+=S,g=Lr(m),m=ym(g)}}return ku({width:d,height:f,x:l,y:u})}function Dg(e,t){const r=tf(e).scrollLeft;return t?t.left+r:Di(qn(e)).left+r}function bS(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),i=n.left+t.scrollLeft-(r?0:Dg(e,n)),s=n.top+t.scrollTop;return{x:i,y:s}}function d4(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const s=i==="fixed",o=qn(n),c=t?ef(t.floating):!1;if(n===o||c&&s)return r;let l={scrollLeft:0,scrollTop:0},u=In(1);const d=In(0),f=zn(n);if((f||!f&&!s)&&((uo(n)!=="body"||hl(o))&&(l=tf(n)),zn(n))){const p=Di(n);u=ws(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}const h=o&&!f&&!s?bS(o,l,!0):In(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-l.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-l.scrollTop*u.y+d.y+h.y}}function f4(e){return Array.from(e.getClientRects())}function h4(e){const t=qn(e),r=tf(e),n=e.ownerDocument.body,i=Dr(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),s=Dr(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+Dg(e);const c=-r.scrollTop;return xn(n).direction==="rtl"&&(o+=Dr(t.clientWidth,n.clientWidth)-i),{width:i,height:s,x:o,y:c}}function m4(e,t){const r=Lr(e),n=qn(e),i=r.visualViewport;let s=n.clientWidth,o=n.clientHeight,c=0,l=0;if(i){s=i.width,o=i.height;const u=Eg();(!u||u&&t==="fixed")&&(c=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:c,y:l}}function p4(e,t){const r=Di(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,s=zn(e)?ws(e):In(1),o=e.clientWidth*s.x,c=e.clientHeight*s.y,l=i*s.x,u=n*s.y;return{width:o,height:c,x:l,y:u}}function hy(e,t,r){let n;if(t==="viewport")n=m4(e,r);else if(t==="document")n=h4(qn(e));else if(vn(t))n=p4(t,r);else{const i=yS(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return ku(n)}function jS(e,t){const r=Ha(e);return r===t||!vn(r)||Ps(r)?!1:xn(r).position==="fixed"||jS(r,t)}function g4(e,t){const r=t.get(e);if(r)return r;let n=wc(e,[],!1).filter(c=>vn(c)&&uo(c)!=="body"),i=null;const s=xn(e).position==="fixed";let o=s?Ha(e):e;for(;vn(o)&&!Ps(o);){const c=xn(o),l=Cg(o);!l&&c.position==="fixed"&&(i=null),(s?!l&&!i:!l&&c.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||hl(o)&&!l&&jS(e,o))?n=n.filter(d=>d!==o):i=c,o=Ha(o)}return t.set(e,n),n}function v4(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const o=[...r==="clippingAncestors"?ef(t)?[]:g4(t,this._c):[].concat(r),n],c=o[0],l=o.reduce((u,d)=>{const f=hy(t,d,i);return u.top=Dr(f.top,u.top),u.right=Ua(f.right,u.right),u.bottom=Ua(f.bottom,u.bottom),u.left=Dr(f.left,u.left),u},hy(t,c,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function x4(e){const{width:t,height:r}=xS(e);return{width:t,height:r}}function y4(e,t,r){const n=zn(t),i=qn(t),s=r==="fixed",o=Di(e,!0,s,t);let c={scrollLeft:0,scrollTop:0};const l=In(0);if(n||!n&&!s)if((uo(t)!=="body"||hl(i))&&(c=tf(t)),n){const h=Di(t,!0,s,t);l.x=h.x+t.clientLeft,l.y=h.y+t.clientTop}else i&&(l.x=Dg(i));const u=i&&!n&&!s?bS(i,c):In(0),d=o.left+c.scrollLeft-l.x-u.x,f=o.top+c.scrollTop-l.y-u.y;return{x:d,y:f,width:o.width,height:o.height}}function yh(e){return xn(e).position==="static"}function my(e,t){if(!zn(e)||xn(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return qn(e)===r&&(r=r.ownerDocument.body),r}function wS(e,t){const r=Lr(e);if(ef(e))return r;if(!zn(e)){let i=Ha(e);for(;i&&!Ps(i);){if(vn(i)&&!yh(i))return i;i=Ha(i)}return r}let n=my(e,t);for(;n&&o4(n)&&yh(n);)n=my(n,t);return n&&Ps(n)&&yh(n)&&!Cg(n)?r:n||c4(e)||r}const b4=async function(e){const t=this.getOffsetParent||wS,r=this.getDimensions,n=await r(e.floating);return{reference:y4(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function j4(e){return xn(e).direction==="rtl"}const w4={convertOffsetParentRelativeRectToViewportRelativeRect:d4,getDocumentElement:qn,getClippingRect:v4,getOffsetParent:wS,getElementRects:b4,getClientRects:f4,getDimensions:x4,getScale:ws,isElement:vn,isRTL:j4};function NS(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function N4(e,t){let r=null,n;const i=qn(e);function s(){var c;clearTimeout(n),(c=r)==null||c.disconnect(),r=null}function o(c,l){c===void 0&&(c=!1),l===void 0&&(l=1),s();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:p}=u;if(c||t(),!h||!p)return;const g=Cl(f),m=Cl(i.clientWidth-(d+h)),v=Cl(i.clientHeight-(f+p)),y=Cl(d),j={rootMargin:-g+"px "+-m+"px "+-v+"px "+-y+"px",threshold:Dr(0,Ua(1,l))||1};let S=!0;function N(w){const A=w[0].intersectionRatio;if(A!==l){if(!S)return o();A?o(!1,A):n=setTimeout(()=>{o(!1,1e-7)},1e3)}A===1&&!NS(u,e.getBoundingClientRect())&&o(),S=!1}try{r=new IntersectionObserver(N,{...j,root:i.ownerDocument})}catch{r=new IntersectionObserver(N,j)}r.observe(e)}return o(!0),s}function S4(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,u=$g(e),d=i||s?[...u?wc(u):[],...wc(t)]:[];d.forEach(y=>{i&&y.addEventListener("scroll",r,{passive:!0}),s&&y.addEventListener("resize",r)});const f=u&&c?N4(u,r):null;let h=-1,p=null;o&&(p=new ResizeObserver(y=>{let[b]=y;b&&b.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var j;(j=p)==null||j.observe(t)})),r()}),u&&!l&&p.observe(u),p.observe(t));let g,m=l?Di(e):null;l&&v();function v(){const y=Di(e);m&&!NS(m,y)&&r(),m=y,g=requestAnimationFrame(v)}return r(),()=>{var y;d.forEach(b=>{i&&b.removeEventListener("scroll",r),s&&b.removeEventListener("resize",r)}),f==null||f(),(y=p)==null||y.disconnect(),p=null,l&&cancelAnimationFrame(g)}}const A4=n4,O4=a4,_4=e4,k4=s4,P4=t4,py=QR,T4=i4,C4=(e,t,r)=>{const n=new Map,i={platform:w4,...r},s={...i.platform,_c:n};return JR(e,t,{...i,platform:s})};var nu=typeof document<"u"?x.useLayoutEffect:x.useEffect;function Pu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Pu(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=r;n--!==0;){const s=i[n];if(!(s==="_owner"&&e.$$typeof)&&!Pu(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function SS(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function gy(e,t){const r=SS(e);return Math.round(t*r)/r}function bh(e){const t=x.useRef(e);return nu(()=>{t.current=e}),t}function E4(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:s,floating:o}={},transform:c=!0,whileElementsMounted:l,open:u}=e,[d,f]=x.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=x.useState(n);Pu(h,n)||p(n);const[g,m]=x.useState(null),[v,y]=x.useState(null),b=x.useCallback(W=>{W!==w.current&&(w.current=W,m(W))},[]),j=x.useCallback(W=>{W!==A.current&&(A.current=W,y(W))},[]),S=s||g,N=o||v,w=x.useRef(null),A=x.useRef(null),O=x.useRef(d),_=l!=null,P=bh(l),C=bh(i),E=bh(u),k=x.useCallback(()=>{if(!w.current||!A.current)return;const W={placement:t,strategy:r,middleware:h};C.current&&(W.platform=C.current),C4(w.current,A.current,W).then(R=>{const Y={...R,isPositioned:E.current!==!1};$.current&&!Pu(O.current,Y)&&(O.current=Y,ro.flushSync(()=>{f(Y)}))})},[h,t,r,C,E]);nu(()=>{u===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,f(W=>({...W,isPositioned:!1})))},[u]);const $=x.useRef(!1);nu(()=>($.current=!0,()=>{$.current=!1}),[]),nu(()=>{if(S&&(w.current=S),N&&(A.current=N),S&&N){if(P.current)return P.current(S,N,k);k()}},[S,N,k,P,_]);const T=x.useMemo(()=>({reference:w,floating:A,setReference:b,setFloating:j}),[b,j]),M=x.useMemo(()=>({reference:S,floating:N}),[S,N]),D=x.useMemo(()=>{const W={position:r,left:0,top:0};if(!M.floating)return W;const R=gy(M.floating,d.x),Y=gy(M.floating,d.y);return c?{...W,transform:"translate("+R+"px, "+Y+"px)",...SS(M.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:R,top:Y}},[r,c,M.floating,d.x,d.y]);return x.useMemo(()=>({...d,update:k,refs:T,elements:M,floatingStyles:D}),[d,k,T,M,D])}const $4=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:i}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?py({element:n.current,padding:i}).fn(r):{}:n?py({element:n,padding:i}).fn(r):{}}}},D4=(e,t)=>({...A4(e),options:[e,t]}),I4=(e,t)=>({...O4(e),options:[e,t]}),M4=(e,t)=>({...T4(e),options:[e,t]}),R4=(e,t)=>({..._4(e),options:[e,t]}),L4=(e,t)=>({...k4(e),options:[e,t]}),F4=(e,t)=>({...P4(e),options:[e,t]}),B4=(e,t)=>({...$4(e),options:[e,t]});var V4="Arrow",AS=x.forwardRef((e,t)=>{const{children:r,width:n=10,height:i=5,...s}=e;return a.jsx(Lt.svg,{...s,ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});AS.displayName=V4;var z4=AS;function U4(e){const[t,r]=x.useState(void 0);return kr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,c;if("borderBoxSize"in s){const l=s.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,c=u.blockSize}else o=e.offsetWidth,c=e.offsetHeight;r({width:o,height:c})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Ig="Popper",[OS,_S]=Og(Ig),[W4,kS]=OS(Ig),PS=e=>{const{__scopePopper:t,children:r}=e,[n,i]=x.useState(null);return a.jsx(W4,{scope:t,anchor:n,onAnchorChange:i,children:r})};PS.displayName=Ig;var TS="PopperAnchor",CS=x.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...i}=e,s=kS(TS,r),o=x.useRef(null),c=sr(t,o);return x.useEffect(()=>{s.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:a.jsx(Lt.div,{...i,ref:c})});CS.displayName=TS;var Mg="PopperContent",[H4,q4]=OS(Mg),ES=x.forwardRef((e,t)=>{var he,Te,ce,be,ye,re;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:c=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:g,...m}=e,v=kS(Mg,r),[y,b]=x.useState(null),j=sr(t,Ve=>b(Ve)),[S,N]=x.useState(null),w=U4(S),A=(w==null?void 0:w.width)??0,O=(w==null?void 0:w.height)??0,_=n+(s!=="center"?"-"+s:""),P=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},C=Array.isArray(u)?u:[u],E=C.length>0,k={padding:P,boundary:C.filter(G4),altBoundary:E},{refs:$,floatingStyles:T,placement:M,isPositioned:D,middlewareData:W}=E4({strategy:"fixed",placement:_,whileElementsMounted:(...Ve)=>S4(...Ve,{animationFrame:p==="always"}),elements:{reference:v.anchor},middleware:[D4({mainAxis:i+O,alignmentAxis:o}),l&&I4({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?M4():void 0,...k}),l&&R4({...k}),L4({...k,apply:({elements:Ve,rects:$e,availableWidth:rt,availableHeight:at})=>{const{width:ct,height:L}=$e.reference,G=Ve.floating.style;G.setProperty("--radix-popper-available-width",`${rt}px`),G.setProperty("--radix-popper-available-height",`${at}px`),G.setProperty("--radix-popper-anchor-width",`${ct}px`),G.setProperty("--radix-popper-anchor-height",`${L}px`)}}),S&&B4({element:S,padding:c}),Z4({arrowWidth:A,arrowHeight:O}),h&&F4({strategy:"referenceHidden",...k})]}),[R,Y]=IS(M),F=$i(g);kr(()=>{D&&(F==null||F())},[D,F]);const ie=(he=W.arrow)==null?void 0:he.x,z=(Te=W.arrow)==null?void 0:Te.y,H=((ce=W.arrow)==null?void 0:ce.centerOffset)!==0,[de,Le]=x.useState();return kr(()=>{y&&Le(window.getComputedStyle(y).zIndex)},[y]),a.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...T,transform:D?T.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:de,"--radix-popper-transform-origin":[(be=W.transformOrigin)==null?void 0:be.x,(ye=W.transformOrigin)==null?void 0:ye.y].join(" "),...((re=W.hide)==null?void 0:re.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(H4,{scope:r,placedSide:R,onArrowChange:N,arrowX:ie,arrowY:z,shouldHideArrow:H,children:a.jsx(Lt.div,{"data-side":R,"data-align":Y,...m,ref:j,style:{...m.style,animation:D?void 0:"none"}})})})});ES.displayName=Mg;var $S="PopperArrow",K4={top:"bottom",right:"left",bottom:"top",left:"right"},DS=x.forwardRef(function(t,r){const{__scopePopper:n,...i}=t,s=q4($S,n),o=K4[s.placedSide];return a.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:a.jsx(z4,{...i,ref:r,style:{...i.style,display:"block"}})})});DS.displayName=$S;function G4(e){return e!==null}var Z4=e=>({name:"transformOrigin",options:e,fn(t){var v,y,b;const{placement:r,rects:n,middlewareData:i}=t,o=((v=i.arrow)==null?void 0:v.centerOffset)!==0,c=o?0:e.arrowWidth,l=o?0:e.arrowHeight,[u,d]=IS(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((y=i.arrow)==null?void 0:y.x)??0)+c/2,p=(((b=i.arrow)==null?void 0:b.y)??0)+l/2;let g="",m="";return u==="bottom"?(g=o?f:`${h}px`,m=`${-l}px`):u==="top"?(g=o?f:`${h}px`,m=`${n.floating.height+l}px`):u==="right"?(g=`${-l}px`,m=o?f:`${p}px`):u==="left"&&(g=`${n.floating.width+l}px`,m=o?f:`${p}px`),{data:{x:g,y:m}}}});function IS(e){const[t,r="center"]=e.split("-");return[t,r]}var X4=PS,Y4=CS,J4=ES,Q4=DS,eL="Portal",MS=x.forwardRef((e,t)=>{var c;const{container:r,...n}=e,[i,s]=x.useState(!1);kr(()=>s(!0),[]);const o=r||i&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return o?kw.createPortal(a.jsx(Lt.div,{...n,ref:t}),o):null});MS.displayName=eL;var tL=Wi[" useInsertionEffect ".trim().toString()]||kr;function vy({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[i,s,o]=rL({defaultProp:t,onChange:r}),c=e!==void 0,l=c?e:i;{const d=x.useRef(e!==void 0);x.useEffect(()=>{const f=d.current;f!==c&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=c},[c,n])}const u=x.useCallback(d=>{var f;if(c){const h=nL(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else s(d)},[c,e,s,o]);return[l,u]}function rL({defaultProp:e,onChange:t}){const[r,n]=x.useState(e),i=x.useRef(r),s=x.useRef(t);return tL(()=>{s.current=t},[t]),x.useEffect(()=>{var o;i.current!==r&&((o=s.current)==null||o.call(s,r),i.current=r)},[r,i]),[r,n,s]}function nL(e){return typeof e=="function"}function aL(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var RS=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),iL="VisuallyHidden",sL=x.forwardRef((e,t)=>a.jsx(Lt.span,{...e,ref:t,style:{...RS,...e.style}}));sL.displayName=iL;var oL=[" ","Enter","ArrowUp","ArrowDown"],cL=[" ","Enter"],Ii="Select",[rf,nf,lL]=jR(Ii),[fo,Oce]=Og(Ii,[lL,_S]),af=_S(),[uL,Ga]=fo(Ii),[dL,fL]=fo(Ii),LS=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:i,onOpenChange:s,value:o,defaultValue:c,onValueChange:l,dir:u,name:d,autoComplete:f,disabled:h,required:p,form:g}=e,m=af(t),[v,y]=x.useState(null),[b,j]=x.useState(null),[S,N]=x.useState(!1),w=NR(u),[A,O]=vy({prop:n,defaultProp:i??!1,onChange:s,caller:Ii}),[_,P]=vy({prop:o,defaultProp:c,onChange:l,caller:Ii}),C=x.useRef(null),E=v?g||!!v.closest("form"):!0,[k,$]=x.useState(new Set),T=Array.from(k).map(M=>M.props.value).join(";");return a.jsx(X4,{...m,children:a.jsxs(uL,{required:p,scope:t,trigger:v,onTriggerChange:y,valueNode:b,onValueNodeChange:j,valueNodeHasChildren:S,onValueNodeHasChildrenChange:N,contentId:_g(),value:_,onValueChange:P,open:A,onOpenChange:O,dir:w,triggerPointerDownPosRef:C,disabled:h,children:[a.jsx(rf.Provider,{scope:t,children:a.jsx(dL,{scope:e.__scopeSelect,onNativeOptionAdd:x.useCallback(M=>{$(D=>new Set(D).add(M))},[]),onNativeOptionRemove:x.useCallback(M=>{$(D=>{const W=new Set(D);return W.delete(M),W})},[]),children:r})}),E?a.jsxs(cA,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:_,onChange:M=>P(M.target.value),disabled:h,form:g,children:[_===void 0?a.jsx("option",{value:""}):null,Array.from(k)]},T):null]})})};LS.displayName=Ii;var FS="SelectTrigger",BS=x.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...i}=e,s=af(r),o=Ga(FS,r),c=o.disabled||n,l=sr(t,o.onTriggerChange),u=nf(r),d=x.useRef("touch"),[f,h,p]=uA(m=>{const v=u().filter(j=>!j.disabled),y=v.find(j=>j.value===o.value),b=dA(v,m,y);b!==void 0&&o.onValueChange(b.value)}),g=m=>{c||(o.onOpenChange(!0),p()),m&&(o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return a.jsx(Y4,{asChild:!0,...s,children:a.jsx(Lt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":lA(o.value)?"":void 0,...i,ref:l,onClick:Vt(i.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&g(m)}),onPointerDown:Vt(i.onPointerDown,m=>{d.current=m.pointerType;const v=m.target;v.hasPointerCapture(m.pointerId)&&v.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(g(m),m.preventDefault())}),onKeyDown:Vt(i.onKeyDown,m=>{const v=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&h(m.key),!(v&&m.key===" ")&&oL.includes(m.key)&&(g(),m.preventDefault())})})})});BS.displayName=FS;var VS="SelectValue",zS=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,children:s,placeholder:o="",...c}=e,l=Ga(VS,r),{onValueNodeHasChildrenChange:u}=l,d=s!==void 0,f=sr(t,l.onValueNodeChange);return kr(()=>{u(d)},[u,d]),a.jsx(Lt.span,{...c,ref:f,style:{pointerEvents:"none"},children:lA(l.value)?a.jsx(a.Fragment,{children:o}):s})});zS.displayName=VS;var hL="SelectIcon",US=x.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...i}=e;return a.jsx(Lt.span,{"aria-hidden":!0,...i,ref:t,children:n||"▼"})});US.displayName=hL;var mL="SelectPortal",WS=e=>a.jsx(MS,{asChild:!0,...e});WS.displayName=mL;var Mi="SelectContent",HS=x.forwardRef((e,t)=>{const r=Ga(Mi,e.__scopeSelect),[n,i]=x.useState();if(kr(()=>{i(new DocumentFragment)},[]),!r.open){const s=n;return s?ro.createPortal(a.jsx(qS,{scope:e.__scopeSelect,children:a.jsx(rf.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),s):null}return a.jsx(KS,{...e,ref:t})});HS.displayName=Mi;var sn=10,[qS,Za]=fo(Mi),pL="SelectContentImpl",gL=en("SelectContent.RemoveScroll"),KS=x.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:c,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:g,hideWhenDetached:m,avoidCollisions:v,...y}=e,b=Ga(Mi,r),[j,S]=x.useState(null),[N,w]=x.useState(null),A=sr(t,he=>S(he)),[O,_]=x.useState(null),[P,C]=x.useState(null),E=nf(r),[k,$]=x.useState(!1),T=x.useRef(!1);x.useEffect(()=>{if(j)return J1(j)},[j]),DR();const M=x.useCallback(he=>{const[Te,...ce]=E().map(re=>re.ref.current),[be]=ce.slice(-1),ye=document.activeElement;for(const re of he)if(re===ye||(re==null||re.scrollIntoView({block:"nearest"}),re===Te&&N&&(N.scrollTop=0),re===be&&N&&(N.scrollTop=N.scrollHeight),re==null||re.focus(),document.activeElement!==ye))return},[E,N]),D=x.useCallback(()=>M([O,j]),[M,O,j]);x.useEffect(()=>{k&&D()},[k,D]);const{onOpenChange:W,triggerPointerDownPosRef:R}=b;x.useEffect(()=>{if(j){let he={x:0,y:0};const Te=be=>{var ye,re;he={x:Math.abs(Math.round(be.pageX)-(((ye=R.current)==null?void 0:ye.x)??0)),y:Math.abs(Math.round(be.pageY)-(((re=R.current)==null?void 0:re.y)??0))}},ce=be=>{he.x<=10&&he.y<=10?be.preventDefault():j.contains(be.target)||W(!1),document.removeEventListener("pointermove",Te),R.current=null};return R.current!==null&&(document.addEventListener("pointermove",Te),document.addEventListener("pointerup",ce,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Te),document.removeEventListener("pointerup",ce,{capture:!0})}}},[j,W,R]),x.useEffect(()=>{const he=()=>W(!1);return window.addEventListener("blur",he),window.addEventListener("resize",he),()=>{window.removeEventListener("blur",he),window.removeEventListener("resize",he)}},[W]);const[Y,F]=uA(he=>{const Te=E().filter(ye=>!ye.disabled),ce=Te.find(ye=>ye.ref.current===document.activeElement),be=dA(Te,he,ce);be&&setTimeout(()=>be.ref.current.focus())}),ie=x.useCallback((he,Te,ce)=>{const be=!T.current&&!ce;(b.value!==void 0&&b.value===Te||be)&&(_(he),be&&(T.current=!0))},[b.value]),z=x.useCallback(()=>j==null?void 0:j.focus(),[j]),H=x.useCallback((he,Te,ce)=>{const be=!T.current&&!ce;(b.value!==void 0&&b.value===Te||be)&&C(he)},[b.value]),de=n==="popper"?bm:GS,Le=de===bm?{side:c,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:g,hideWhenDetached:m,avoidCollisions:v}:{};return a.jsx(qS,{scope:r,content:j,viewport:N,onViewportChange:w,itemRefCallback:ie,selectedItem:O,onItemLeave:z,itemTextRefCallback:H,focusSelectedItem:D,selectedItemText:P,position:n,isPositioned:k,searchRef:Y,children:a.jsx(pg,{as:gL,allowPinchZoom:!0,children:a.jsx(hS,{asChild:!0,trapped:b.open,onMountAutoFocus:he=>{he.preventDefault()},onUnmountAutoFocus:Vt(i,he=>{var Te;(Te=b.trigger)==null||Te.focus({preventScroll:!0}),he.preventDefault()}),children:a.jsx(dS,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:he=>he.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:a.jsx(de,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:he=>he.preventDefault(),...y,...Le,onPlaced:()=>$(!0),ref:A,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:Vt(y.onKeyDown,he=>{const Te=he.ctrlKey||he.altKey||he.metaKey;if(he.key==="Tab"&&he.preventDefault(),!Te&&he.key.length===1&&F(he.key),["ArrowUp","ArrowDown","Home","End"].includes(he.key)){let be=E().filter(ye=>!ye.disabled).map(ye=>ye.ref.current);if(["ArrowUp","End"].includes(he.key)&&(be=be.slice().reverse()),["ArrowUp","ArrowDown"].includes(he.key)){const ye=he.target,re=be.indexOf(ye);be=be.slice(re+1)}setTimeout(()=>M(be)),he.preventDefault()}})})})})})})});KS.displayName=pL;var vL="SelectItemAlignedPosition",GS=x.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...i}=e,s=Ga(Mi,r),o=Za(Mi,r),[c,l]=x.useState(null),[u,d]=x.useState(null),f=sr(t,A=>d(A)),h=nf(r),p=x.useRef(!1),g=x.useRef(!0),{viewport:m,selectedItem:v,selectedItemText:y,focusSelectedItem:b}=o,j=x.useCallback(()=>{if(s.trigger&&s.valueNode&&c&&u&&m&&v&&y){const A=s.trigger.getBoundingClientRect(),O=u.getBoundingClientRect(),_=s.valueNode.getBoundingClientRect(),P=y.getBoundingClientRect();if(s.dir!=="rtl"){const ye=P.left-O.left,re=_.left-ye,Ve=A.left-re,$e=A.width+Ve,rt=Math.max($e,O.width),at=window.innerWidth-sn,ct=ey(re,[sn,Math.max(sn,at-rt)]);c.style.minWidth=$e+"px",c.style.left=ct+"px"}else{const ye=O.right-P.right,re=window.innerWidth-_.right-ye,Ve=window.innerWidth-A.right-re,$e=A.width+Ve,rt=Math.max($e,O.width),at=window.innerWidth-sn,ct=ey(re,[sn,Math.max(sn,at-rt)]);c.style.minWidth=$e+"px",c.style.right=ct+"px"}const C=h(),E=window.innerHeight-sn*2,k=m.scrollHeight,$=window.getComputedStyle(u),T=parseInt($.borderTopWidth,10),M=parseInt($.paddingTop,10),D=parseInt($.borderBottomWidth,10),W=parseInt($.paddingBottom,10),R=T+M+k+W+D,Y=Math.min(v.offsetHeight*5,R),F=window.getComputedStyle(m),ie=parseInt(F.paddingTop,10),z=parseInt(F.paddingBottom,10),H=A.top+A.height/2-sn,de=E-H,Le=v.offsetHeight/2,he=v.offsetTop+Le,Te=T+M+he,ce=R-Te;if(Te<=H){const ye=C.length>0&&v===C[C.length-1].ref.current;c.style.bottom="0px";const re=u.clientHeight-m.offsetTop-m.offsetHeight,Ve=Math.max(de,Le+(ye?z:0)+re+D),$e=Te+Ve;c.style.height=$e+"px"}else{const ye=C.length>0&&v===C[0].ref.current;c.style.top="0px";const Ve=Math.max(H,T+m.offsetTop+(ye?ie:0)+Le)+ce;c.style.height=Ve+"px",m.scrollTop=Te-H+m.offsetTop}c.style.margin=`${sn}px 0`,c.style.minHeight=Y+"px",c.style.maxHeight=E+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[h,s.trigger,s.valueNode,c,u,m,v,y,s.dir,n]);kr(()=>j(),[j]);const[S,N]=x.useState();kr(()=>{u&&N(window.getComputedStyle(u).zIndex)},[u]);const w=x.useCallback(A=>{A&&g.current===!0&&(j(),b==null||b(),g.current=!1)},[j,b]);return a.jsx(yL,{scope:r,contentWrapper:c,shouldExpandOnScrollRef:p,onScrollButtonChange:w,children:a.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:a.jsx(Lt.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});GS.displayName=vL;var xL="SelectPopperPosition",bm=x.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=sn,...s}=e,o=af(r);return a.jsx(J4,{...o,...s,ref:t,align:n,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});bm.displayName=xL;var[yL,Rg]=fo(Mi,{}),jm="SelectViewport",ZS=x.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...i}=e,s=Za(jm,r),o=Rg(jm,r),c=sr(t,s.onViewportChange),l=x.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(rf.Slot,{scope:r,children:a.jsx(Lt.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Vt(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const p=Math.abs(l.current-d.scrollTop);if(p>0){const g=window.innerHeight-sn*2,m=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),y=Math.max(m,v);if(y<g){const b=y+p,j=Math.min(g,b),S=b-j;f.style.height=j+"px",f.style.bottom==="0px"&&(d.scrollTop=S>0?S:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});ZS.displayName=jm;var XS="SelectGroup",[bL,jL]=fo(XS),wL=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=_g();return a.jsx(bL,{scope:r,id:i,children:a.jsx(Lt.div,{role:"group","aria-labelledby":i,...n,ref:t})})});wL.displayName=XS;var YS="SelectLabel",JS=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=jL(YS,r);return a.jsx(Lt.div,{id:i.id,...n,ref:t})});JS.displayName=YS;var Tu="SelectItem",[NL,QS]=fo(Tu),eA=x.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:s,...o}=e,c=Ga(Tu,r),l=Za(Tu,r),u=c.value===n,[d,f]=x.useState(s??""),[h,p]=x.useState(!1),g=sr(t,b=>{var j;return(j=l.itemRefCallback)==null?void 0:j.call(l,b,n,i)}),m=_g(),v=x.useRef("touch"),y=()=>{i||(c.onValueChange(n),c.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(NL,{scope:r,value:n,disabled:i,textId:m,isSelected:u,onItemTextChange:x.useCallback(b=>{f(j=>j||((b==null?void 0:b.textContent)??"").trim())},[]),children:a.jsx(rf.ItemSlot,{scope:r,value:n,disabled:i,textValue:d,children:a.jsx(Lt.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:g,onFocus:Vt(o.onFocus,()=>p(!0)),onBlur:Vt(o.onBlur,()=>p(!1)),onClick:Vt(o.onClick,()=>{v.current!=="mouse"&&y()}),onPointerUp:Vt(o.onPointerUp,()=>{v.current==="mouse"&&y()}),onPointerDown:Vt(o.onPointerDown,b=>{v.current=b.pointerType}),onPointerMove:Vt(o.onPointerMove,b=>{var j;v.current=b.pointerType,i?(j=l.onItemLeave)==null||j.call(l):v.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Vt(o.onPointerLeave,b=>{var j;b.currentTarget===document.activeElement&&((j=l.onItemLeave)==null||j.call(l))}),onKeyDown:Vt(o.onKeyDown,b=>{var S;((S=l.searchRef)==null?void 0:S.current)!==""&&b.key===" "||(cL.includes(b.key)&&y(),b.key===" "&&b.preventDefault())})})})})});eA.displayName=Tu;var Ko="SelectItemText",tA=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,...s}=e,o=Ga(Ko,r),c=Za(Ko,r),l=QS(Ko,r),u=fL(Ko,r),[d,f]=x.useState(null),h=sr(t,y=>f(y),l.onItemTextChange,y=>{var b;return(b=c.itemTextRefCallback)==null?void 0:b.call(c,y,l.value,l.disabled)}),p=d==null?void 0:d.textContent,g=x.useMemo(()=>a.jsx("option",{value:l.value,disabled:l.disabled,children:p},l.value),[l.disabled,l.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:v}=u;return kr(()=>(m(g),()=>v(g)),[m,v,g]),a.jsxs(a.Fragment,{children:[a.jsx(Lt.span,{id:l.textId,...s,ref:h}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ro.createPortal(s.children,o.valueNode):null]})});tA.displayName=Ko;var rA="SelectItemIndicator",nA=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return QS(rA,r).isSelected?a.jsx(Lt.span,{"aria-hidden":!0,...n,ref:t}):null});nA.displayName=rA;var wm="SelectScrollUpButton",aA=x.forwardRef((e,t)=>{const r=Za(wm,e.__scopeSelect),n=Rg(wm,e.__scopeSelect),[i,s]=x.useState(!1),o=sr(t,n.onScrollButtonChange);return kr(()=>{if(r.viewport&&r.isPositioned){let c=function(){const u=l.scrollTop>0;s(u)};const l=r.viewport;return c(),l.addEventListener("scroll",c),()=>l.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),i?a.jsx(sA,{...e,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:l}=r;c&&l&&(c.scrollTop=c.scrollTop-l.offsetHeight)}}):null});aA.displayName=wm;var Nm="SelectScrollDownButton",iA=x.forwardRef((e,t)=>{const r=Za(Nm,e.__scopeSelect),n=Rg(Nm,e.__scopeSelect),[i,s]=x.useState(!1),o=sr(t,n.onScrollButtonChange);return kr(()=>{if(r.viewport&&r.isPositioned){let c=function(){const u=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<u;s(d)};const l=r.viewport;return c(),l.addEventListener("scroll",c),()=>l.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),i?a.jsx(sA,{...e,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:l}=r;c&&l&&(c.scrollTop=c.scrollTop+l.offsetHeight)}}):null});iA.displayName=Nm;var sA=x.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=e,s=Za("SelectScrollButton",r),o=x.useRef(null),c=nf(r),l=x.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return x.useEffect(()=>()=>l(),[l]),kr(()=>{var d;const u=c().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[c]),a.jsx(Lt.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:Vt(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Vt(i.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Vt(i.onPointerLeave,()=>{l()})})}),SL="SelectSeparator",oA=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return a.jsx(Lt.div,{"aria-hidden":!0,...n,ref:t})});oA.displayName=SL;var Sm="SelectArrow",AL=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=af(r),s=Ga(Sm,r),o=Za(Sm,r);return s.open&&o.position==="popper"?a.jsx(Q4,{...i,...n,ref:t}):null});AL.displayName=Sm;var OL="SelectBubbleInput",cA=x.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const i=x.useRef(null),s=sr(n,i),o=aL(t);return x.useEffect(()=>{const c=i.current;if(!c)return;const l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(c,t),c.dispatchEvent(f)}},[o,t]),a.jsx(Lt.select,{...r,style:{...RS,...r.style},ref:s,defaultValue:t})});cA.displayName=OL;function lA(e){return e===""||e===void 0}function uA(e){const t=$i(e),r=x.useRef(""),n=x.useRef(0),i=x.useCallback(o=>{const c=r.current+o;t(c),function l(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>l(""),1e3))}(c)},[t]),s=x.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,s]}function dA(e,t,r){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let o=_L(e,Math.max(s,0));i.length===1&&(o=o.filter(u=>u!==r));const l=o.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==r?l:void 0}function _L(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var kL=LS,fA=BS,PL=zS,TL=US,CL=WS,hA=HS,EL=ZS,mA=JS,pA=eA,$L=tA,DL=nA,gA=aA,vA=iA,xA=oA;const Tn=kL,Cn=PL,fn=x.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(fA,{ref:n,className:Qe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,a.jsx(TL,{asChild:!0,children:a.jsx(g1,{className:"h-4 w-4 opacity-50"})})]}));fn.displayName=fA.displayName;const yA=x.forwardRef(({className:e,...t},r)=>a.jsx(gA,{ref:r,className:Qe("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(KC,{className:"h-4 w-4"})}));yA.displayName=gA.displayName;const bA=x.forwardRef(({className:e,...t},r)=>a.jsx(vA,{ref:r,className:Qe("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(g1,{className:"h-4 w-4"})}));bA.displayName=vA.displayName;const hn=x.forwardRef(({className:e,children:t,position:r="popper",...n},i)=>a.jsx(CL,{children:a.jsxs(hA,{ref:i,className:Qe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[a.jsx(yA,{}),a.jsx(EL,{className:Qe("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(bA,{})]})}));hn.displayName=hA.displayName;const IL=x.forwardRef(({className:e,...t},r)=>a.jsx(mA,{ref:r,className:Qe("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));IL.displayName=mA.displayName;const it=x.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(pA,{ref:n,className:Qe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(DL,{children:a.jsx(p1,{className:"h-4 w-4"})})}),a.jsx($L,{children:t})]}));it.displayName=pA.displayName;const ML=x.forwardRef(({className:e,...t},r)=>a.jsx(xA,{ref:r,className:Qe("-mx-1 my-1 h-px bg-muted",e),...t}));ML.displayName=xA.displayName;var RL=Array.isArray,Pr=RL,LL=typeof wl=="object"&&wl&&wl.Object===Object&&wl,jA=LL,FL=jA,BL=typeof self=="object"&&self&&self.Object===Object&&self,VL=FL||BL||Function("return this")(),Kn=VL,zL=Kn,UL=zL.Symbol,ml=UL,xy=ml,wA=Object.prototype,WL=wA.hasOwnProperty,HL=wA.toString,Do=xy?xy.toStringTag:void 0;function qL(e){var t=WL.call(e,Do),r=e[Do];try{e[Do]=void 0;var n=!0}catch{}var i=HL.call(e);return n&&(t?e[Do]=r:delete e[Do]),i}var KL=qL,GL=Object.prototype,ZL=GL.toString;function XL(e){return ZL.call(e)}var YL=XL,yy=ml,JL=KL,QL=YL,e3="[object Null]",t3="[object Undefined]",by=yy?yy.toStringTag:void 0;function r3(e){return e==null?e===void 0?t3:e3:by&&by in Object(e)?JL(e):QL(e)}var ja=r3;function n3(e){return e!=null&&typeof e=="object"}var wa=n3,a3=ja,i3=wa,s3="[object Symbol]";function o3(e){return typeof e=="symbol"||i3(e)&&a3(e)==s3}var ho=o3,c3=Pr,l3=ho,u3=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,d3=/^\w*$/;function f3(e,t){if(c3(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||l3(e)?!0:d3.test(e)||!u3.test(e)||t!=null&&e in Object(t)}var Lg=f3;function h3(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Xa=h3;const mo=yt(Xa);var m3=ja,p3=Xa,g3="[object AsyncFunction]",v3="[object Function]",x3="[object GeneratorFunction]",y3="[object Proxy]";function b3(e){if(!p3(e))return!1;var t=m3(e);return t==v3||t==x3||t==g3||t==y3}var Fg=b3;const Ue=yt(Fg);var j3=Kn,w3=j3["__core-js_shared__"],N3=w3,jh=N3,jy=function(){var e=/[^.]+$/.exec(jh&&jh.keys&&jh.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function S3(e){return!!jy&&jy in e}var A3=S3,O3=Function.prototype,_3=O3.toString;function k3(e){if(e!=null){try{return _3.call(e)}catch{}try{return e+""}catch{}}return""}var NA=k3,P3=Fg,T3=A3,C3=Xa,E3=NA,$3=/[\\^$.*+?()[\]{}|]/g,D3=/^\[object .+?Constructor\]$/,I3=Function.prototype,M3=Object.prototype,R3=I3.toString,L3=M3.hasOwnProperty,F3=RegExp("^"+R3.call(L3).replace($3,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function B3(e){if(!C3(e)||T3(e))return!1;var t=P3(e)?F3:D3;return t.test(E3(e))}var V3=B3;function z3(e,t){return e==null?void 0:e[t]}var U3=z3,W3=V3,H3=U3;function q3(e,t){var r=H3(e,t);return W3(r)?r:void 0}var Ki=q3,K3=Ki,G3=K3(Object,"create"),sf=G3,wy=sf;function Z3(){this.__data__=wy?wy(null):{},this.size=0}var X3=Z3;function Y3(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var J3=Y3,Q3=sf,eF="__lodash_hash_undefined__",tF=Object.prototype,rF=tF.hasOwnProperty;function nF(e){var t=this.__data__;if(Q3){var r=t[e];return r===eF?void 0:r}return rF.call(t,e)?t[e]:void 0}var aF=nF,iF=sf,sF=Object.prototype,oF=sF.hasOwnProperty;function cF(e){var t=this.__data__;return iF?t[e]!==void 0:oF.call(t,e)}var lF=cF,uF=sf,dF="__lodash_hash_undefined__";function fF(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=uF&&t===void 0?dF:t,this}var hF=fF,mF=X3,pF=J3,gF=aF,vF=lF,xF=hF;function po(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}po.prototype.clear=mF;po.prototype.delete=pF;po.prototype.get=gF;po.prototype.has=vF;po.prototype.set=xF;var yF=po;function bF(){this.__data__=[],this.size=0}var jF=bF;function wF(e,t){return e===t||e!==e&&t!==t}var Bg=wF,NF=Bg;function SF(e,t){for(var r=e.length;r--;)if(NF(e[r][0],t))return r;return-1}var of=SF,AF=of,OF=Array.prototype,_F=OF.splice;function kF(e){var t=this.__data__,r=AF(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():_F.call(t,r,1),--this.size,!0}var PF=kF,TF=of;function CF(e){var t=this.__data__,r=TF(t,e);return r<0?void 0:t[r][1]}var EF=CF,$F=of;function DF(e){return $F(this.__data__,e)>-1}var IF=DF,MF=of;function RF(e,t){var r=this.__data__,n=MF(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var LF=RF,FF=jF,BF=PF,VF=EF,zF=IF,UF=LF;function go(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}go.prototype.clear=FF;go.prototype.delete=BF;go.prototype.get=VF;go.prototype.has=zF;go.prototype.set=UF;var cf=go,WF=Ki,HF=Kn,qF=WF(HF,"Map"),Vg=qF,Ny=yF,KF=cf,GF=Vg;function ZF(){this.size=0,this.__data__={hash:new Ny,map:new(GF||KF),string:new Ny}}var XF=ZF;function YF(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var JF=YF,QF=JF;function e5(e,t){var r=e.__data__;return QF(t)?r[typeof t=="string"?"string":"hash"]:r.map}var lf=e5,t5=lf;function r5(e){var t=t5(this,e).delete(e);return this.size-=t?1:0,t}var n5=r5,a5=lf;function i5(e){return a5(this,e).get(e)}var s5=i5,o5=lf;function c5(e){return o5(this,e).has(e)}var l5=c5,u5=lf;function d5(e,t){var r=u5(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var f5=d5,h5=XF,m5=n5,p5=s5,g5=l5,v5=f5;function vo(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}vo.prototype.clear=h5;vo.prototype.delete=m5;vo.prototype.get=p5;vo.prototype.has=g5;vo.prototype.set=v5;var zg=vo,SA=zg,x5="Expected a function";function Ug(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(x5);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],s=r.cache;if(s.has(i))return s.get(i);var o=e.apply(this,n);return r.cache=s.set(i,o)||s,o};return r.cache=new(Ug.Cache||SA),r}Ug.Cache=SA;var AA=Ug;const y5=yt(AA);var b5=AA,j5=500;function w5(e){var t=b5(e,function(n){return r.size===j5&&r.clear(),n}),r=t.cache;return t}var N5=w5,S5=N5,A5=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,O5=/\\(\\)?/g,_5=S5(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(A5,function(r,n,i,s){t.push(i?s.replace(O5,"$1"):n||r)}),t}),k5=_5;function P5(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var Wg=P5,Sy=ml,T5=Wg,C5=Pr,E5=ho,Ay=Sy?Sy.prototype:void 0,Oy=Ay?Ay.toString:void 0;function OA(e){if(typeof e=="string")return e;if(C5(e))return T5(e,OA)+"";if(E5(e))return Oy?Oy.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var $5=OA,D5=$5;function I5(e){return e==null?"":D5(e)}var _A=I5,M5=Pr,R5=Lg,L5=k5,F5=_A;function B5(e,t){return M5(e)?e:R5(e,t)?[e]:L5(F5(e))}var kA=B5,V5=ho;function z5(e){if(typeof e=="string"||V5(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var uf=z5,U5=kA,W5=uf;function H5(e,t){t=U5(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[W5(t[r++])];return r&&r==n?e:void 0}var Hg=H5,q5=Hg;function K5(e,t,r){var n=e==null?void 0:q5(e,t);return n===void 0?r:n}var PA=K5;const Fr=yt(PA);function G5(e){return e==null}var Z5=G5;const qe=yt(Z5);var X5=ja,Y5=Pr,J5=wa,Q5="[object String]";function e6(e){return typeof e=="string"||!Y5(e)&&J5(e)&&X5(e)==Q5}var t6=e6;const Ri=yt(t6);var TA={exports:{}},gt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qg=Symbol.for("react.element"),Kg=Symbol.for("react.portal"),df=Symbol.for("react.fragment"),ff=Symbol.for("react.strict_mode"),hf=Symbol.for("react.profiler"),mf=Symbol.for("react.provider"),pf=Symbol.for("react.context"),r6=Symbol.for("react.server_context"),gf=Symbol.for("react.forward_ref"),vf=Symbol.for("react.suspense"),xf=Symbol.for("react.suspense_list"),yf=Symbol.for("react.memo"),bf=Symbol.for("react.lazy"),n6=Symbol.for("react.offscreen"),CA;CA=Symbol.for("react.module.reference");function rn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case qg:switch(e=e.type,e){case df:case hf:case ff:case vf:case xf:return e;default:switch(e=e&&e.$$typeof,e){case r6:case pf:case gf:case bf:case yf:case mf:return e;default:return t}}case Kg:return t}}}gt.ContextConsumer=pf;gt.ContextProvider=mf;gt.Element=qg;gt.ForwardRef=gf;gt.Fragment=df;gt.Lazy=bf;gt.Memo=yf;gt.Portal=Kg;gt.Profiler=hf;gt.StrictMode=ff;gt.Suspense=vf;gt.SuspenseList=xf;gt.isAsyncMode=function(){return!1};gt.isConcurrentMode=function(){return!1};gt.isContextConsumer=function(e){return rn(e)===pf};gt.isContextProvider=function(e){return rn(e)===mf};gt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===qg};gt.isForwardRef=function(e){return rn(e)===gf};gt.isFragment=function(e){return rn(e)===df};gt.isLazy=function(e){return rn(e)===bf};gt.isMemo=function(e){return rn(e)===yf};gt.isPortal=function(e){return rn(e)===Kg};gt.isProfiler=function(e){return rn(e)===hf};gt.isStrictMode=function(e){return rn(e)===ff};gt.isSuspense=function(e){return rn(e)===vf};gt.isSuspenseList=function(e){return rn(e)===xf};gt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===df||e===hf||e===ff||e===vf||e===xf||e===n6||typeof e=="object"&&e!==null&&(e.$$typeof===bf||e.$$typeof===yf||e.$$typeof===mf||e.$$typeof===pf||e.$$typeof===gf||e.$$typeof===CA||e.getModuleId!==void 0)};gt.typeOf=rn;TA.exports=gt;var a6=TA.exports,i6=ja,s6=wa,o6="[object Number]";function c6(e){return typeof e=="number"||s6(e)&&i6(e)==o6}var EA=c6;const l6=yt(EA);var u6=EA;function d6(e){return u6(e)&&e!=+e}var f6=d6;const xo=yt(f6);var vr=function(t){return t===0?0:t>0?1:-1},hi=function(t){return Ri(t)&&t.indexOf("%")===t.length-1},pe=function(t){return l6(t)&&!xo(t)},h6=function(t){return qe(t)},Gt=function(t){return pe(t)||Ri(t)},m6=0,Gi=function(t){var r=++m6;return"".concat(t||"").concat(r)},xr=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!pe(t)&&!Ri(t))return n;var s;if(hi(t)){var o=t.indexOf("%");s=r*parseFloat(t.slice(0,o))/100}else s=+t;return xo(s)&&(s=n),i&&s>r&&(s=r),s},Ea=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},p6=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},i=0;i<r;i++)if(!n[t[i]])n[t[i]]=!0;else return!0;return!1},qt=function(t,r){return pe(t)&&pe(r)?function(n){return t+n*(r-t)}:function(){return r}};function Cu(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Fr(n,t))===r})}var g6=function(t,r){return pe(t)&&pe(r)?t-r:Ri(t)&&Ri(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Ns(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function Am(e){"@babel/helpers - typeof";return Am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Am(e)}var v6=["viewBox","children"],x6=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],_y=["points","pathLength"],wh={svg:v6,polygon:_y,polyline:_y},Gg=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Eu=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(x.isValidElement(t)&&(n=t.props),!mo(n))return null;var i={};return Object.keys(n).forEach(function(s){Gg.includes(s)&&(i[s]=r||function(o){return n[s](n,o)})}),i},y6=function(t,r,n){return function(i){return t(r,n,i),null}},Li=function(t,r,n){if(!mo(t)||Am(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(s){var o=t[s];Gg.includes(s)&&typeof o=="function"&&(i||(i={}),i[s]=y6(o,r,n))}),i},b6=["children"],j6=["children"];function ky(e,t){if(e==null)return{};var r=w6(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function w6(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Om(e){"@babel/helpers - typeof";return Om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Om(e)}var Py={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},da=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},Ty=null,Nh=null,Zg=function e(t){if(t===Ty&&Array.isArray(Nh))return Nh;var r=[];return x.Children.forEach(t,function(n){qe(n)||(a6.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Nh=r,Ty=t,r};function Br(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(i){return da(i)}):n=[da(t)],Zg(e).forEach(function(i){var s=Fr(i,"type.displayName")||Fr(i,"type.name");n.indexOf(s)!==-1&&r.push(i)}),r}function $r(e,t){var r=Br(e,t);return r&&r[0]}var Cy=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,i=r.height;return!(!pe(n)||n<=0||!pe(i)||i<=0)},N6=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],S6=function(t){return t&&t.type&&Ri(t.type)&&N6.indexOf(t.type)>=0},$A=function(t){return t&&Om(t)==="object"&&"clipDot"in t},A6=function(t,r,n,i){var s,o=(s=wh==null?void 0:wh[i])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!Ue(t)&&(i&&o.includes(r)||x6.includes(r))||n&&Gg.includes(r)},Re=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(x.isValidElement(t)&&(i=t.props),!mo(i))return null;var s={};return Object.keys(i).forEach(function(o){var c;A6((c=i)===null||c===void 0?void 0:c[o],o,r,n)&&(s[o]=i[o])}),s},_m=function e(t,r){if(t===r)return!0;var n=x.Children.count(t);if(n!==x.Children.count(r))return!1;if(n===0)return!0;if(n===1)return Ey(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var s=t[i],o=r[i];if(Array.isArray(s)||Array.isArray(o)){if(!e(s,o))return!1}else if(!Ey(s,o))return!1}return!0},Ey=function(t,r){if(qe(t)&&qe(r))return!0;if(!qe(t)&&!qe(r)){var n=t.props||{},i=n.children,s=ky(n,b6),o=r.props||{},c=o.children,l=ky(o,j6);return i&&c?Ns(s,l)&&_m(i,c):!i&&!c?Ns(s,l):!1}return!1},$y=function(t,r){var n=[],i={};return Zg(t).forEach(function(s,o){if(S6(s))n.push(s);else if(s){var c=da(s.type),l=r[c]||{},u=l.handler,d=l.once;if(u&&(!d||!i[c])){var f=u(s,c,o);n.push(f),i[c]=!0}}}),n},O6=function(t){var r=t&&t.type;return r&&Py[r]?Py[r]:null},_6=function(t,r){return Zg(r).indexOf(t)},k6=["children","width","height","viewBox","className","style","title","desc"];function km(){return km=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},km.apply(this,arguments)}function P6(e,t){if(e==null)return{};var r=T6(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function T6(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Pm(e){var t=e.children,r=e.width,n=e.height,i=e.viewBox,s=e.className,o=e.style,c=e.title,l=e.desc,u=P6(e,k6),d=i||{width:r,height:n,x:0,y:0},f=Ge("recharts-surface",s);return I.createElement("svg",km({},Re(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),I.createElement("title",null,c),I.createElement("desc",null,l),t)}var C6=["children","className"];function Tm(){return Tm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tm.apply(this,arguments)}function E6(e,t){if(e==null)return{};var r=$6(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $6(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var nt=I.forwardRef(function(e,t){var r=e.children,n=e.className,i=E6(e,C6),s=Ge("recharts-layer",n);return I.createElement("g",Tm({className:s},Re(i,!0),{ref:t}),r)}),pn=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s]};function D6(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),r=r>i?i:r,r<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var s=Array(i);++n<i;)s[n]=e[n+t];return s}var I6=D6,M6=I6;function R6(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:M6(e,t,r)}var L6=R6,F6="\\ud800-\\udfff",B6="\\u0300-\\u036f",V6="\\ufe20-\\ufe2f",z6="\\u20d0-\\u20ff",U6=B6+V6+z6,W6="\\ufe0e\\ufe0f",H6="\\u200d",q6=RegExp("["+H6+F6+U6+W6+"]");function K6(e){return q6.test(e)}var DA=K6;function G6(e){return e.split("")}var Z6=G6,IA="\\ud800-\\udfff",X6="\\u0300-\\u036f",Y6="\\ufe20-\\ufe2f",J6="\\u20d0-\\u20ff",Q6=X6+Y6+J6,eB="\\ufe0e\\ufe0f",tB="["+IA+"]",Cm="["+Q6+"]",Em="\\ud83c[\\udffb-\\udfff]",rB="(?:"+Cm+"|"+Em+")",MA="[^"+IA+"]",RA="(?:\\ud83c[\\udde6-\\uddff]){2}",LA="[\\ud800-\\udbff][\\udc00-\\udfff]",nB="\\u200d",FA=rB+"?",BA="["+eB+"]?",aB="(?:"+nB+"(?:"+[MA,RA,LA].join("|")+")"+BA+FA+")*",iB=BA+FA+aB,sB="(?:"+[MA+Cm+"?",Cm,RA,LA,tB].join("|")+")",oB=RegExp(Em+"(?="+Em+")|"+sB+iB,"g");function cB(e){return e.match(oB)||[]}var lB=cB,uB=Z6,dB=DA,fB=lB;function hB(e){return dB(e)?fB(e):uB(e)}var mB=hB,pB=L6,gB=DA,vB=mB,xB=_A;function yB(e){return function(t){t=xB(t);var r=gB(t)?vB(t):void 0,n=r?r[0]:t.charAt(0),i=r?pB(r,1).join(""):t.slice(1);return n[e]()+i}}var bB=yB,jB=bB,wB=jB("toUpperCase"),NB=wB;const jf=yt(NB);function Nt(e){return function(){return e}}const VA=Math.cos,$u=Math.sin,wn=Math.sqrt,Du=Math.PI,wf=2*Du,$m=Math.PI,Dm=2*$m,ii=1e-6,SB=Dm-ii;function zA(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function AB(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return zA;const r=10**t;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class OB{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?zA:AB(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,s,o){this._append`C${+t},${+r},${+n},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(t,r,n,i,s){if(t=+t,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,c=this._y1,l=n-t,u=i-r,d=o-t,f=c-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>ii)if(!(Math.abs(f*l-u*d)>ii)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-o,g=i-c,m=l*l+u*u,v=p*p+g*g,y=Math.sqrt(m),b=Math.sqrt(h),j=s*Math.tan(($m-Math.acos((m+h-v)/(2*y*b)))/2),S=j/b,N=j/y;Math.abs(S-1)>ii&&this._append`L${t+S*d},${r+S*f}`,this._append`A${s},${s},0,0,${+(f*p>d*g)},${this._x1=t+N*l},${this._y1=r+N*u}`}}arc(t,r,n,i,s,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let c=n*Math.cos(i),l=n*Math.sin(i),u=t+c,d=r+l,f=1^o,h=o?i-s:s-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>ii||Math.abs(this._y1-d)>ii)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%Dm+Dm),h>SB?this._append`A${n},${n},0,1,${f},${t-c},${r-l}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>ii&&this._append`A${n},${n},0,${+(h>=$m)},${f},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function Xg(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new OB(t)}function Yg(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function UA(e){this._context=e}UA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Nf(e){return new UA(e)}function WA(e){return e[0]}function HA(e){return e[1]}function qA(e,t){var r=Nt(!0),n=null,i=Nf,s=null,o=Xg(c);e=typeof e=="function"?e:e===void 0?WA:Nt(e),t=typeof t=="function"?t:t===void 0?HA:Nt(t);function c(l){var u,d=(l=Yg(l)).length,f,h=!1,p;for(n==null&&(s=i(p=o())),u=0;u<=d;++u)!(u<d&&r(f=l[u],u,l))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(f,u,l),+t(f,u,l));if(p)return s=null,p+""||null}return c.x=function(l){return arguments.length?(e=typeof l=="function"?l:Nt(+l),c):e},c.y=function(l){return arguments.length?(t=typeof l=="function"?l:Nt(+l),c):t},c.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Nt(!!l),c):r},c.curve=function(l){return arguments.length?(i=l,n!=null&&(s=i(n)),c):i},c.context=function(l){return arguments.length?(l==null?n=s=null:s=i(n=l),c):n},c}function El(e,t,r){var n=null,i=Nt(!0),s=null,o=Nf,c=null,l=Xg(u);e=typeof e=="function"?e:e===void 0?WA:Nt(+e),t=typeof t=="function"?t:Nt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?HA:Nt(+r);function u(f){var h,p,g,m=(f=Yg(f)).length,v,y=!1,b,j=new Array(m),S=new Array(m);for(s==null&&(c=o(b=l())),h=0;h<=m;++h){if(!(h<m&&i(v=f[h],h,f))===y)if(y=!y)p=h,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),g=h-1;g>=p;--g)c.point(j[g],S[g]);c.lineEnd(),c.areaEnd()}y&&(j[h]=+e(v,h,f),S[h]=+t(v,h,f),c.point(n?+n(v,h,f):j[h],r?+r(v,h,f):S[h]))}if(b)return c=null,b+""||null}function d(){return qA().defined(i).curve(o).context(s)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Nt(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Nt(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Nt(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Nt(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Nt(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Nt(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Nt(!!f),u):i},u.curve=function(f){return arguments.length?(o=f,s!=null&&(c=o(s)),u):o},u.context=function(f){return arguments.length?(f==null?s=c=null:c=o(s=f),u):s},u}class KA{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function _B(e){return new KA(e,!0)}function kB(e){return new KA(e,!1)}const Jg={draw(e,t){const r=wn(t/Du);e.moveTo(r,0),e.arc(0,0,r,0,wf)}},PB={draw(e,t){const r=wn(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},GA=wn(1/3),TB=GA*2,CB={draw(e,t){const r=wn(t/TB),n=r*GA;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},EB={draw(e,t){const r=wn(t),n=-r/2;e.rect(n,n,r,r)}},$B=.8908130915292852,ZA=$u(Du/10)/$u(7*Du/10),DB=$u(wf/10)*ZA,IB=-VA(wf/10)*ZA,MB={draw(e,t){const r=wn(t*$B),n=DB*r,i=IB*r;e.moveTo(0,-r),e.lineTo(n,i);for(let s=1;s<5;++s){const o=wf*s/5,c=VA(o),l=$u(o);e.lineTo(l*r,-c*r),e.lineTo(c*n-l*i,l*n+c*i)}e.closePath()}},Sh=wn(3),RB={draw(e,t){const r=-wn(t/(Sh*3));e.moveTo(0,r*2),e.lineTo(-Sh*r,-r),e.lineTo(Sh*r,-r),e.closePath()}},Kr=-.5,Gr=wn(3)/2,Im=1/wn(12),LB=(Im/2+1)*3,FB={draw(e,t){const r=wn(t/LB),n=r/2,i=r*Im,s=n,o=r*Im+r,c=-s,l=o;e.moveTo(n,i),e.lineTo(s,o),e.lineTo(c,l),e.lineTo(Kr*n-Gr*i,Gr*n+Kr*i),e.lineTo(Kr*s-Gr*o,Gr*s+Kr*o),e.lineTo(Kr*c-Gr*l,Gr*c+Kr*l),e.lineTo(Kr*n+Gr*i,Kr*i-Gr*n),e.lineTo(Kr*s+Gr*o,Kr*o-Gr*s),e.lineTo(Kr*c+Gr*l,Kr*l-Gr*c),e.closePath()}};function BB(e,t){let r=null,n=Xg(i);e=typeof e=="function"?e:Nt(e||Jg),t=typeof t=="function"?t:Nt(t===void 0?64:+t);function i(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:Nt(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:Nt(+s),i):t},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function Iu(){}function Mu(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function XA(e){this._context=e}XA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Mu(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Mu(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function VB(e){return new XA(e)}function YA(e){this._context=e}YA.prototype={areaStart:Iu,areaEnd:Iu,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Mu(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function zB(e){return new YA(e)}function JA(e){this._context=e}JA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Mu(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function UB(e){return new JA(e)}function QA(e){this._context=e}QA.prototype={areaStart:Iu,areaEnd:Iu,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function WB(e){return new QA(e)}function Dy(e){return e<0?-1:1}function Iy(e,t,r){var n=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(n||i<0&&-0),o=(r-e._y1)/(i||n<0&&-0),c=(s*i+o*n)/(n+i);return(Dy(s)+Dy(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(c))||0}function My(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Ah(e,t,r){var n=e._x0,i=e._y0,s=e._x1,o=e._y1,c=(s-n)/3;e._context.bezierCurveTo(n+c,i+c*t,s-c,o-c*r,s,o)}function Ru(e){this._context=e}Ru.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ah(this,this._t0,My(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Ah(this,My(this,r=Iy(this,e,t)),r);break;default:Ah(this,this._t0,r=Iy(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function eO(e){this._context=new tO(e)}(eO.prototype=Object.create(Ru.prototype)).point=function(e,t){Ru.prototype.point.call(this,t,e)};function tO(e){this._context=e}tO.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,s){this._context.bezierCurveTo(t,e,n,r,s,i)}};function HB(e){return new Ru(e)}function qB(e){return new eO(e)}function rO(e){this._context=e}rO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Ry(e),i=Ry(t),s=0,o=1;o<r;++s,++o)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Ry(e){var t,r=e.length-1,n,i=new Array(r),s=new Array(r),o=new Array(r);for(i[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,s[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/s[t-1],s[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/s[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/s[t];for(s[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function KB(e){return new rO(e)}function Sf(e,t){this._context=e,this._t=t}Sf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function GB(e){return new Sf(e,.5)}function ZB(e){return new Sf(e,0)}function XB(e){return new Sf(e,1)}function Ts(e,t){if((o=e.length)>1)for(var r=1,n,i,s=e[t[0]],o,c=s.length;r<o;++r)for(i=s,s=e[t[r]],n=0;n<c;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Mm(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function YB(e,t){return e[t]}function JB(e){const t=[];return t.key=e,t}function QB(){var e=Nt([]),t=Mm,r=Ts,n=YB;function i(s){var o=Array.from(e.apply(this,arguments),JB),c,l=o.length,u=-1,d;for(const f of s)for(c=0,++u;c<l;++c)(o[c][u]=[0,+n(f,o[c].key,u,s)]).data=f;for(c=0,d=Yg(t(o));c<l;++c)o[d[c]].index=c;return r(o,d),o}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Nt(Array.from(s)),i):e},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:Nt(+s),i):n},i.order=function(s){return arguments.length?(t=s==null?Mm:typeof s=="function"?s:Nt(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(r=s??Ts,i):r},i}function e8(e,t){if((n=e.length)>0){for(var r,n,i=0,s=e[0].length,o;i<s;++i){for(o=r=0;r<n;++r)o+=e[r][i][1]||0;if(o)for(r=0;r<n;++r)e[r][i][1]/=o}Ts(e,t)}}function t8(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,s=n.length;r<s;++r){for(var o=0,c=0;o<i;++o)c+=e[o][r][1]||0;n[r][1]+=n[r][0]=-c/2}Ts(e,t)}}function r8(e,t){if(!(!((o=e.length)>0)||!((s=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,s,o;n<s;++n){for(var c=0,l=0,u=0;c<o;++c){for(var d=e[t[c]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,g=0;g<c;++g){var m=e[t[g]],v=m[n][1]||0,y=m[n-1][1]||0;p+=v-y}l+=f,u+=p*f}i[n-1][1]+=i[n-1][0]=r,l&&(r-=u/l)}i[n-1][1]+=i[n-1][0]=r,Ts(e,t)}}function Nc(e){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nc(e)}var n8=["type","size","sizeType"];function Rm(){return Rm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rm.apply(this,arguments)}function Ly(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Fy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ly(Object(r),!0).forEach(function(n){a8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ly(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function a8(e,t,r){return t=i8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i8(e){var t=s8(e,"string");return Nc(t)=="symbol"?t:t+""}function s8(e,t){if(Nc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function o8(e,t){if(e==null)return{};var r=c8(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function c8(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var nO={symbolCircle:Jg,symbolCross:PB,symbolDiamond:CB,symbolSquare:EB,symbolStar:MB,symbolTriangle:RB,symbolWye:FB},l8=Math.PI/180,u8=function(t){var r="symbol".concat(jf(t));return nO[r]||Jg},d8=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*l8;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},f8=function(t,r){nO["symbol".concat(jf(t))]=r},Qg=function(t){var r=t.type,n=r===void 0?"circle":r,i=t.size,s=i===void 0?64:i,o=t.sizeType,c=o===void 0?"area":o,l=o8(t,n8),u=Fy(Fy({},l),{},{type:n,size:s,sizeType:c}),d=function(){var v=u8(n),y=BB().type(v).size(d8(s,c,n));return y()},f=u.className,h=u.cx,p=u.cy,g=Re(u,!0);return h===+h&&p===+p&&s===+s?I.createElement("path",Rm({},g,{className:Ge("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};Qg.registerSymbol=f8;function Cs(e){"@babel/helpers - typeof";return Cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cs(e)}function Lm(){return Lm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lm.apply(this,arguments)}function By(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function h8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?By(Object(r),!0).forEach(function(n){Sc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):By(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function m8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p8(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iO(n.key),n)}}function g8(e,t,r){return t&&p8(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function v8(e,t,r){return t=Lu(t),x8(e,aO()?Reflect.construct(t,r||[],Lu(e).constructor):t.apply(e,r))}function x8(e,t){if(t&&(Cs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y8(e)}function y8(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aO=function(){return!!e})()}function Lu(e){return Lu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lu(e)}function b8(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fm(e,t)}function Fm(e,t){return Fm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Fm(e,t)}function Sc(e,t,r){return t=iO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iO(e){var t=j8(e,"string");return Cs(t)=="symbol"?t:t+""}function j8(e,t){if(Cs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Zr=32,ev=function(e){function t(){return m8(this,t),v8(this,t,arguments)}return b8(t,e),g8(t,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,s=Zr/2,o=Zr/6,c=Zr/3,l=n.inactive?i:n.color;if(n.type==="plainline")return I.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:Zr,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return I.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(s,"h").concat(c,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*c,",").concat(s,`
            H`).concat(Zr,"M").concat(2*c,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(c,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return I.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Zr/8,"h").concat(Zr,"v").concat(Zr*3/4,"h").concat(-Zr,"z"),className:"recharts-legend-icon"});if(I.isValidElement(n.legendIcon)){var u=h8({},n);return delete u.legendIcon,I.cloneElement(n.legendIcon,u)}return I.createElement(Qg,{fill:l,cx:s,cy:s,size:Zr,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,s=i.payload,o=i.iconSize,c=i.layout,l=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:Zr,height:Zr},f={display:c==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(p,g){var m=p.formatter||l,v=Ge(Sc(Sc({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",p.inactive));if(p.type==="none")return null;var y=Ue(p.value)?null:p.value;pn(!Ue(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=p.inactive?u:p.color;return I.createElement("li",Lm({className:v,style:f,key:"legend-item-".concat(g)},Li(n.props,p,g)),I.createElement(Pm,{width:o,height:o,viewBox:d,style:h},n.renderIcon(p)),I.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},m?m(y,p,g):y))})}},{key:"render",value:function(){var n=this.props,i=n.payload,s=n.layout,o=n.align;if(!i||!i.length)return null;var c={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return I.createElement("ul",{className:"recharts-default-legend",style:c},this.renderItems())}}])}(x.PureComponent);Sc(ev,"displayName","Legend");Sc(ev,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var w8=cf;function N8(){this.__data__=new w8,this.size=0}var S8=N8;function A8(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var O8=A8;function _8(e){return this.__data__.get(e)}var k8=_8;function P8(e){return this.__data__.has(e)}var T8=P8,C8=cf,E8=Vg,$8=zg,D8=200;function I8(e,t){var r=this.__data__;if(r instanceof C8){var n=r.__data__;if(!E8||n.length<D8-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new $8(n)}return r.set(e,t),this.size=r.size,this}var M8=I8,R8=cf,L8=S8,F8=O8,B8=k8,V8=T8,z8=M8;function yo(e){var t=this.__data__=new R8(e);this.size=t.size}yo.prototype.clear=L8;yo.prototype.delete=F8;yo.prototype.get=B8;yo.prototype.has=V8;yo.prototype.set=z8;var sO=yo,U8="__lodash_hash_undefined__";function W8(e){return this.__data__.set(e,U8),this}var H8=W8;function q8(e){return this.__data__.has(e)}var K8=q8,G8=zg,Z8=H8,X8=K8;function Fu(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new G8;++t<r;)this.add(e[t])}Fu.prototype.add=Fu.prototype.push=Z8;Fu.prototype.has=X8;var oO=Fu;function Y8(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var cO=Y8;function J8(e,t){return e.has(t)}var lO=J8,Q8=oO,eV=cO,tV=lO,rV=1,nV=2;function aV(e,t,r,n,i,s){var o=r&rV,c=e.length,l=t.length;if(c!=l&&!(o&&l>c))return!1;var u=s.get(e),d=s.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,p=r&nV?new Q8:void 0;for(s.set(e,t),s.set(t,e);++f<c;){var g=e[f],m=t[f];if(n)var v=o?n(m,g,f,t,e,s):n(g,m,f,e,t,s);if(v!==void 0){if(v)continue;h=!1;break}if(p){if(!eV(t,function(y,b){if(!tV(p,b)&&(g===y||i(g,y,r,n,s)))return p.push(b)})){h=!1;break}}else if(!(g===m||i(g,m,r,n,s))){h=!1;break}}return s.delete(e),s.delete(t),h}var uO=aV,iV=Kn,sV=iV.Uint8Array,oV=sV;function cV(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}var lV=cV;function uV(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var tv=uV,Vy=ml,zy=oV,dV=Bg,fV=uO,hV=lV,mV=tv,pV=1,gV=2,vV="[object Boolean]",xV="[object Date]",yV="[object Error]",bV="[object Map]",jV="[object Number]",wV="[object RegExp]",NV="[object Set]",SV="[object String]",AV="[object Symbol]",OV="[object ArrayBuffer]",_V="[object DataView]",Uy=Vy?Vy.prototype:void 0,Oh=Uy?Uy.valueOf:void 0;function kV(e,t,r,n,i,s,o){switch(r){case _V:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case OV:return!(e.byteLength!=t.byteLength||!s(new zy(e),new zy(t)));case vV:case xV:case jV:return dV(+e,+t);case yV:return e.name==t.name&&e.message==t.message;case wV:case SV:return e==t+"";case bV:var c=hV;case NV:var l=n&pV;if(c||(c=mV),e.size!=t.size&&!l)return!1;var u=o.get(e);if(u)return u==t;n|=gV,o.set(e,t);var d=fV(c(e),c(t),n,i,s,o);return o.delete(e),d;case AV:if(Oh)return Oh.call(e)==Oh.call(t)}return!1}var PV=kV;function TV(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var dO=TV,CV=dO,EV=Pr;function $V(e,t,r){var n=t(e);return EV(e)?n:CV(n,r(e))}var DV=$V;function IV(e,t){for(var r=-1,n=e==null?0:e.length,i=0,s=[];++r<n;){var o=e[r];t(o,r,e)&&(s[i++]=o)}return s}var MV=IV;function RV(){return[]}var LV=RV,FV=MV,BV=LV,VV=Object.prototype,zV=VV.propertyIsEnumerable,Wy=Object.getOwnPropertySymbols,UV=Wy?function(e){return e==null?[]:(e=Object(e),FV(Wy(e),function(t){return zV.call(e,t)}))}:BV,WV=UV;function HV(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var qV=HV,KV=ja,GV=wa,ZV="[object Arguments]";function XV(e){return GV(e)&&KV(e)==ZV}var YV=XV,Hy=YV,JV=wa,fO=Object.prototype,QV=fO.hasOwnProperty,ez=fO.propertyIsEnumerable,tz=Hy(function(){return arguments}())?Hy:function(e){return JV(e)&&QV.call(e,"callee")&&!ez.call(e,"callee")},rv=tz,Bu={exports:{}};function rz(){return!1}var nz=rz;Bu.exports;(function(e,t){var r=Kn,n=nz,i=t&&!t.nodeType&&t,s=i&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===i,c=o?r.Buffer:void 0,l=c?c.isBuffer:void 0,u=l||n;e.exports=u})(Bu,Bu.exports);var hO=Bu.exports,az=9007199254740991,iz=/^(?:0|[1-9]\d*)$/;function sz(e,t){var r=typeof e;return t=t??az,!!t&&(r=="number"||r!="symbol"&&iz.test(e))&&e>-1&&e%1==0&&e<t}var nv=sz,oz=9007199254740991;function cz(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=oz}var av=cz,lz=ja,uz=av,dz=wa,fz="[object Arguments]",hz="[object Array]",mz="[object Boolean]",pz="[object Date]",gz="[object Error]",vz="[object Function]",xz="[object Map]",yz="[object Number]",bz="[object Object]",jz="[object RegExp]",wz="[object Set]",Nz="[object String]",Sz="[object WeakMap]",Az="[object ArrayBuffer]",Oz="[object DataView]",_z="[object Float32Array]",kz="[object Float64Array]",Pz="[object Int8Array]",Tz="[object Int16Array]",Cz="[object Int32Array]",Ez="[object Uint8Array]",$z="[object Uint8ClampedArray]",Dz="[object Uint16Array]",Iz="[object Uint32Array]",_t={};_t[_z]=_t[kz]=_t[Pz]=_t[Tz]=_t[Cz]=_t[Ez]=_t[$z]=_t[Dz]=_t[Iz]=!0;_t[fz]=_t[hz]=_t[Az]=_t[mz]=_t[Oz]=_t[pz]=_t[gz]=_t[vz]=_t[xz]=_t[yz]=_t[bz]=_t[jz]=_t[wz]=_t[Nz]=_t[Sz]=!1;function Mz(e){return dz(e)&&uz(e.length)&&!!_t[lz(e)]}var Rz=Mz;function Lz(e){return function(t){return e(t)}}var mO=Lz,Vu={exports:{}};Vu.exports;(function(e,t){var r=jA,n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===n,o=s&&r.process,c=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();e.exports=c})(Vu,Vu.exports);var Fz=Vu.exports,Bz=Rz,Vz=mO,qy=Fz,Ky=qy&&qy.isTypedArray,zz=Ky?Vz(Ky):Bz,pO=zz,Uz=qV,Wz=rv,Hz=Pr,qz=hO,Kz=nv,Gz=pO,Zz=Object.prototype,Xz=Zz.hasOwnProperty;function Yz(e,t){var r=Hz(e),n=!r&&Wz(e),i=!r&&!n&&qz(e),s=!r&&!n&&!i&&Gz(e),o=r||n||i||s,c=o?Uz(e.length,String):[],l=c.length;for(var u in e)(t||Xz.call(e,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Kz(u,l)))&&c.push(u);return c}var Jz=Yz,Qz=Object.prototype;function eU(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Qz;return e===r}var tU=eU;function rU(e,t){return function(r){return e(t(r))}}var gO=rU,nU=gO,aU=nU(Object.keys,Object),iU=aU,sU=tU,oU=iU,cU=Object.prototype,lU=cU.hasOwnProperty;function uU(e){if(!sU(e))return oU(e);var t=[];for(var r in Object(e))lU.call(e,r)&&r!="constructor"&&t.push(r);return t}var dU=uU,fU=Fg,hU=av;function mU(e){return e!=null&&hU(e.length)&&!fU(e)}var pl=mU,pU=Jz,gU=dU,vU=pl;function xU(e){return vU(e)?pU(e):gU(e)}var Af=xU,yU=DV,bU=WV,jU=Af;function wU(e){return yU(e,jU,bU)}var NU=wU,Gy=NU,SU=1,AU=Object.prototype,OU=AU.hasOwnProperty;function _U(e,t,r,n,i,s){var o=r&SU,c=Gy(e),l=c.length,u=Gy(t),d=u.length;if(l!=d&&!o)return!1;for(var f=l;f--;){var h=c[f];if(!(o?h in t:OU.call(t,h)))return!1}var p=s.get(e),g=s.get(t);if(p&&g)return p==t&&g==e;var m=!0;s.set(e,t),s.set(t,e);for(var v=o;++f<l;){h=c[f];var y=e[h],b=t[h];if(n)var j=o?n(b,y,h,t,e,s):n(y,b,h,e,t,s);if(!(j===void 0?y===b||i(y,b,r,n,s):j)){m=!1;break}v||(v=h=="constructor")}if(m&&!v){var S=e.constructor,N=t.constructor;S!=N&&"constructor"in e&&"constructor"in t&&!(typeof S=="function"&&S instanceof S&&typeof N=="function"&&N instanceof N)&&(m=!1)}return s.delete(e),s.delete(t),m}var kU=_U,PU=Ki,TU=Kn,CU=PU(TU,"DataView"),EU=CU,$U=Ki,DU=Kn,IU=$U(DU,"Promise"),MU=IU,RU=Ki,LU=Kn,FU=RU(LU,"Set"),vO=FU,BU=Ki,VU=Kn,zU=BU(VU,"WeakMap"),UU=zU,Bm=EU,Vm=Vg,zm=MU,Um=vO,Wm=UU,xO=ja,bo=NA,Zy="[object Map]",WU="[object Object]",Xy="[object Promise]",Yy="[object Set]",Jy="[object WeakMap]",Qy="[object DataView]",HU=bo(Bm),qU=bo(Vm),KU=bo(zm),GU=bo(Um),ZU=bo(Wm),si=xO;(Bm&&si(new Bm(new ArrayBuffer(1)))!=Qy||Vm&&si(new Vm)!=Zy||zm&&si(zm.resolve())!=Xy||Um&&si(new Um)!=Yy||Wm&&si(new Wm)!=Jy)&&(si=function(e){var t=xO(e),r=t==WU?e.constructor:void 0,n=r?bo(r):"";if(n)switch(n){case HU:return Qy;case qU:return Zy;case KU:return Xy;case GU:return Yy;case ZU:return Jy}return t});var XU=si,_h=sO,YU=uO,JU=PV,QU=kU,eb=XU,tb=Pr,rb=hO,eW=pO,tW=1,nb="[object Arguments]",ab="[object Array]",$l="[object Object]",rW=Object.prototype,ib=rW.hasOwnProperty;function nW(e,t,r,n,i,s){var o=tb(e),c=tb(t),l=o?ab:eb(e),u=c?ab:eb(t);l=l==nb?$l:l,u=u==nb?$l:u;var d=l==$l,f=u==$l,h=l==u;if(h&&rb(e)){if(!rb(t))return!1;o=!0,d=!1}if(h&&!d)return s||(s=new _h),o||eW(e)?YU(e,t,r,n,i,s):JU(e,t,l,r,n,i,s);if(!(r&tW)){var p=d&&ib.call(e,"__wrapped__"),g=f&&ib.call(t,"__wrapped__");if(p||g){var m=p?e.value():e,v=g?t.value():t;return s||(s=new _h),i(m,v,r,n,s)}}return h?(s||(s=new _h),QU(e,t,r,n,i,s)):!1}var aW=nW,iW=aW,sb=wa;function yO(e,t,r,n,i){return e===t?!0:e==null||t==null||!sb(e)&&!sb(t)?e!==e&&t!==t:iW(e,t,r,n,yO,i)}var iv=yO,sW=sO,oW=iv,cW=1,lW=2;function uW(e,t,r,n){var i=r.length,s=i,o=!n;if(e==null)return!s;for(e=Object(e);i--;){var c=r[i];if(o&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++i<s;){c=r[i];var l=c[0],u=e[l],d=c[1];if(o&&c[2]){if(u===void 0&&!(l in e))return!1}else{var f=new sW;if(n)var h=n(u,d,l,e,t,f);if(!(h===void 0?oW(d,u,cW|lW,n,f):h))return!1}}return!0}var dW=uW,fW=Xa;function hW(e){return e===e&&!fW(e)}var bO=hW,mW=bO,pW=Af;function gW(e){for(var t=pW(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,mW(i)]}return t}var vW=gW;function xW(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var jO=xW,yW=dW,bW=vW,jW=jO;function wW(e){var t=bW(e);return t.length==1&&t[0][2]?jW(t[0][0],t[0][1]):function(r){return r===e||yW(r,e,t)}}var NW=wW;function SW(e,t){return e!=null&&t in Object(e)}var AW=SW,OW=kA,_W=rv,kW=Pr,PW=nv,TW=av,CW=uf;function EW(e,t,r){t=OW(t,e);for(var n=-1,i=t.length,s=!1;++n<i;){var o=CW(t[n]);if(!(s=e!=null&&r(e,o)))break;e=e[o]}return s||++n!=i?s:(i=e==null?0:e.length,!!i&&TW(i)&&PW(o,i)&&(kW(e)||_W(e)))}var $W=EW,DW=AW,IW=$W;function MW(e,t){return e!=null&&IW(e,t,DW)}var RW=MW,LW=iv,FW=PA,BW=RW,VW=Lg,zW=bO,UW=jO,WW=uf,HW=1,qW=2;function KW(e,t){return VW(e)&&zW(t)?UW(WW(e),t):function(r){var n=FW(r,e);return n===void 0&&n===t?BW(r,e):LW(t,n,HW|qW)}}var GW=KW;function ZW(e){return e}var jo=ZW;function XW(e){return function(t){return t==null?void 0:t[e]}}var YW=XW,JW=Hg;function QW(e){return function(t){return JW(t,e)}}var e9=QW,t9=YW,r9=e9,n9=Lg,a9=uf;function i9(e){return n9(e)?t9(a9(e)):r9(e)}var s9=i9,o9=NW,c9=GW,l9=jo,u9=Pr,d9=s9;function f9(e){return typeof e=="function"?e:e==null?l9:typeof e=="object"?u9(e)?c9(e[0],e[1]):o9(e):d9(e)}var Gn=f9;function h9(e,t,r,n){for(var i=e.length,s=r+(n?1:-1);n?s--:++s<i;)if(t(e[s],s,e))return s;return-1}var wO=h9;function m9(e){return e!==e}var p9=m9;function g9(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}var v9=g9,x9=wO,y9=p9,b9=v9;function j9(e,t,r){return t===t?b9(e,t,r):x9(e,y9,r)}var w9=j9,N9=w9;function S9(e,t){var r=e==null?0:e.length;return!!r&&N9(e,t,0)>-1}var A9=S9;function O9(e,t,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}var _9=O9;function k9(){}var P9=k9,kh=vO,T9=P9,C9=tv,E9=1/0,$9=kh&&1/C9(new kh([,-0]))[1]==E9?function(e){return new kh(e)}:T9,D9=$9,I9=oO,M9=A9,R9=_9,L9=lO,F9=D9,B9=tv,V9=200;function z9(e,t,r){var n=-1,i=M9,s=e.length,o=!0,c=[],l=c;if(r)o=!1,i=R9;else if(s>=V9){var u=t?null:F9(e);if(u)return B9(u);o=!1,i=L9,l=new I9}else l=t?[]:c;e:for(;++n<s;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;t&&l.push(f),c.push(d)}else i(l,f,r)||(l!==c&&l.push(f),c.push(d))}return c}var U9=z9,W9=Gn,H9=U9;function q9(e,t){return e&&e.length?H9(e,W9(t)):[]}var K9=q9;const ob=yt(K9);function NO(e,t,r){return t===!0?ob(e,r):Ue(t)?ob(e,t):e}function Es(e){"@babel/helpers - typeof";return Es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Es(e)}var G9=["ref"];function cb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Qn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cb(Object(r),!0).forEach(function(n){Of(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Z9(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,AO(n.key),n)}}function X9(e,t,r){return t&&lb(e.prototype,t),r&&lb(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Y9(e,t,r){return t=zu(t),J9(e,SO()?Reflect.construct(t,r||[],zu(e).constructor):t.apply(e,r))}function J9(e,t){if(t&&(Es(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Q9(e)}function Q9(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SO=function(){return!!e})()}function zu(e){return zu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zu(e)}function e7(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hm(e,t)}function Hm(e,t){return Hm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Hm(e,t)}function Of(e,t,r){return t=AO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AO(e){var t=t7(e,"string");return Es(t)=="symbol"?t:t+""}function t7(e,t){if(Es(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Es(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function r7(e,t){if(e==null)return{};var r=n7(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function n7(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function a7(e){return e.value}function i7(e,t){if(I.isValidElement(e))return I.cloneElement(e,t);if(typeof e=="function")return I.createElement(e,t);t.ref;var r=r7(t,G9);return I.createElement(ev,r)}var ub=1,wi=function(e){function t(){var r;Z9(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=Y9(this,t,[].concat(i)),Of(r,"lastBoundingBox",{width:-1,height:-1}),r}return e7(t,e),X9(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>ub||Math.abs(i.height-this.lastBoundingBox.height)>ub)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Qn({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,s=i.layout,o=i.align,c=i.verticalAlign,l=i.margin,u=i.chartWidth,d=i.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&s==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(c==="middle"){var g=this.getBBoxSnapshot();h={top:((d||0)-g.height)/2}}else h=c==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Qn(Qn({},f),h)}},{key:"render",value:function(){var n=this,i=this.props,s=i.content,o=i.width,c=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,f=Qn(Qn({position:"absolute",width:o||"auto",height:c||"auto"},this.getDefaultPosition(l)),l);return I.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},i7(s,Qn(Qn({},this.props),{},{payload:NO(d,u,a7)})))}}],[{key:"getWithHeight",value:function(n,i){var s=Qn(Qn({},this.defaultProps),n.props),o=s.layout;return o==="vertical"&&pe(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])}(x.PureComponent);Of(wi,"displayName","Legend");Of(wi,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var db=ml,s7=rv,o7=Pr,fb=db?db.isConcatSpreadable:void 0;function c7(e){return o7(e)||s7(e)||!!(fb&&e&&e[fb])}var l7=c7,u7=dO,d7=l7;function OO(e,t,r,n,i){var s=-1,o=e.length;for(r||(r=d7),i||(i=[]);++s<o;){var c=e[s];t>0&&r(c)?t>1?OO(c,t-1,r,n,i):u7(i,c):n||(i[i.length]=c)}return i}var _O=OO;function f7(e){return function(t,r,n){for(var i=-1,s=Object(t),o=n(t),c=o.length;c--;){var l=o[e?c:++i];if(r(s[l],l,s)===!1)break}return t}}var h7=f7,m7=h7,p7=m7(),g7=p7,v7=g7,x7=Af;function y7(e,t){return e&&v7(e,t,x7)}var kO=y7,b7=pl;function j7(e,t){return function(r,n){if(r==null)return r;if(!b7(r))return e(r,n);for(var i=r.length,s=t?i:-1,o=Object(r);(t?s--:++s<i)&&n(o[s],s,o)!==!1;);return r}}var w7=j7,N7=kO,S7=w7,A7=S7(N7),sv=A7,O7=sv,_7=pl;function k7(e,t){var r=-1,n=_7(e)?Array(e.length):[];return O7(e,function(i,s,o){n[++r]=t(i,s,o)}),n}var PO=k7;function P7(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var T7=P7,hb=ho;function C7(e,t){if(e!==t){var r=e!==void 0,n=e===null,i=e===e,s=hb(e),o=t!==void 0,c=t===null,l=t===t,u=hb(t);if(!c&&!u&&!s&&e>t||s&&o&&l&&!c&&!u||n&&o&&l||!r&&l||!i)return 1;if(!n&&!s&&!u&&e<t||u&&r&&i&&!n&&!s||c&&r&&i||!o&&i||!l)return-1}return 0}var E7=C7,$7=E7;function D7(e,t,r){for(var n=-1,i=e.criteria,s=t.criteria,o=i.length,c=r.length;++n<o;){var l=$7(i[n],s[n]);if(l){if(n>=c)return l;var u=r[n];return l*(u=="desc"?-1:1)}}return e.index-t.index}var I7=D7,Ph=Wg,M7=Hg,R7=Gn,L7=PO,F7=T7,B7=mO,V7=I7,z7=jo,U7=Pr;function W7(e,t,r){t.length?t=Ph(t,function(s){return U7(s)?function(o){return M7(o,s.length===1?s[0]:s)}:s}):t=[z7];var n=-1;t=Ph(t,B7(R7));var i=L7(e,function(s,o,c){var l=Ph(t,function(u){return u(s)});return{criteria:l,index:++n,value:s}});return F7(i,function(s,o){return V7(s,o,r)})}var H7=W7;function q7(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var K7=q7,G7=K7,mb=Math.max;function Z7(e,t,r){return t=mb(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,s=mb(n.length-t,0),o=Array(s);++i<s;)o[i]=n[t+i];i=-1;for(var c=Array(t+1);++i<t;)c[i]=n[i];return c[t]=r(o),G7(e,this,c)}}var X7=Z7;function Y7(e){return function(){return e}}var J7=Y7,Q7=Ki,eH=function(){try{var e=Q7(Object,"defineProperty");return e({},"",{}),e}catch{}}(),TO=eH,tH=J7,pb=TO,rH=jo,nH=pb?function(e,t){return pb(e,"toString",{configurable:!0,enumerable:!1,value:tH(t),writable:!0})}:rH,aH=nH,iH=800,sH=16,oH=Date.now;function cH(e){var t=0,r=0;return function(){var n=oH(),i=sH-(n-r);if(r=n,i>0){if(++t>=iH)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var lH=cH,uH=aH,dH=lH,fH=dH(uH),hH=fH,mH=jo,pH=X7,gH=hH;function vH(e,t){return gH(pH(e,t,mH),e+"")}var xH=vH,yH=Bg,bH=pl,jH=nv,wH=Xa;function NH(e,t,r){if(!wH(r))return!1;var n=typeof t;return(n=="number"?bH(r)&&jH(t,r.length):n=="string"&&t in r)?yH(r[t],e):!1}var _f=NH,SH=_O,AH=H7,OH=xH,gb=_f,_H=OH(function(e,t){if(e==null)return[];var r=t.length;return r>1&&gb(e,t[0],t[1])?t=[]:r>2&&gb(t[0],t[1],t[2])&&(t=[t[0]]),AH(e,SH(t,1),[])}),kH=_H;const ov=yt(kH);function Ac(e){"@babel/helpers - typeof";return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ac(e)}function qm(){return qm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qm.apply(this,arguments)}function PH(e,t){return $H(e)||EH(e,t)||CH(e,t)||TH()}function TH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CH(e,t){if(e){if(typeof e=="string")return vb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vb(e,t)}}function vb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function EH(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,c=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(l=(n=s.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return c}}function $H(e){if(Array.isArray(e))return e}function xb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Th(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xb(Object(r),!0).forEach(function(n){DH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DH(e,t,r){return t=IH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IH(e){var t=MH(e,"string");return Ac(t)=="symbol"?t:t+""}function MH(e,t){if(Ac(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ac(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RH(e){return Array.isArray(e)&&Gt(e[0])&&Gt(e[1])?e.join(" ~ "):e}var LH=function(t){var r=t.separator,n=r===void 0?" : ":r,i=t.contentStyle,s=i===void 0?{}:i,o=t.itemStyle,c=o===void 0?{}:o,l=t.labelStyle,u=l===void 0?{}:l,d=t.payload,f=t.formatter,h=t.itemSorter,p=t.wrapperClassName,g=t.labelClassName,m=t.label,v=t.labelFormatter,y=t.accessibilityLayer,b=y===void 0?!1:y,j=function(){if(d&&d.length){var E={padding:0,margin:0},k=(h?ov(d,h):d).map(function($,T){if($.type==="none")return null;var M=Th({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},c),D=$.formatter||f||RH,W=$.value,R=$.name,Y=W,F=R;if(D&&Y!=null&&F!=null){var ie=D(W,R,$,T,d);if(Array.isArray(ie)){var z=PH(ie,2);Y=z[0],F=z[1]}else Y=ie}return I.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(T),style:M},Gt(F)?I.createElement("span",{className:"recharts-tooltip-item-name"},F):null,Gt(F)?I.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,I.createElement("span",{className:"recharts-tooltip-item-value"},Y),I.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return I.createElement("ul",{className:"recharts-tooltip-item-list",style:E},k)}return null},S=Th({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),N=Th({margin:0},u),w=!qe(m),A=w?m:"",O=Ge("recharts-default-tooltip",p),_=Ge("recharts-tooltip-label",g);w&&v&&d!==void 0&&d!==null&&(A=v(m,d));var P=b?{role:"status","aria-live":"assertive"}:{};return I.createElement("div",qm({className:O,style:S},P),I.createElement("p",{className:_,style:N},I.isValidElement(A)?A:"".concat(A)),j())};function Oc(e){"@babel/helpers - typeof";return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oc(e)}function Dl(e,t,r){return t=FH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FH(e){var t=BH(e,"string");return Oc(t)=="symbol"?t:t+""}function BH(e,t){if(Oc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Oc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Io="recharts-tooltip-wrapper",VH={visibility:"hidden"};function zH(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Ge(Io,Dl(Dl(Dl(Dl({},"".concat(Io,"-right"),pe(r)&&t&&pe(t.x)&&r>=t.x),"".concat(Io,"-left"),pe(r)&&t&&pe(t.x)&&r<t.x),"".concat(Io,"-bottom"),pe(n)&&t&&pe(t.y)&&n>=t.y),"".concat(Io,"-top"),pe(n)&&t&&pe(t.y)&&n<t.y))}function yb(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,i=e.offsetTopLeft,s=e.position,o=e.reverseDirection,c=e.tooltipDimension,l=e.viewBox,u=e.viewBoxDimension;if(s&&pe(s[n]))return s[n];var d=r[n]-c-i,f=r[n]+i;if(t[n])return o[n]?d:f;if(o[n]){var h=d,p=l[n];return h<p?Math.max(f,l[n]):Math.max(d,l[n])}var g=f+c,m=l[n]+u;return g>m?Math.max(d,l[n]):Math.max(f,l[n])}function UH(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function WH(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,i=e.position,s=e.reverseDirection,o=e.tooltipBox,c=e.useTranslate3d,l=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=yb({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),f=yb({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),u=UH({translateX:d,translateY:f,useTranslate3d:c})):u=VH,{cssProperties:u,cssClasses:zH({translateX:d,translateY:f,coordinate:r})}}function $s(e){"@babel/helpers - typeof";return $s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$s(e)}function bb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bb(Object(r),!0).forEach(function(n){Gm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qH(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,EO(n.key),n)}}function KH(e,t,r){return t&&qH(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function GH(e,t,r){return t=Uu(t),ZH(e,CO()?Reflect.construct(t,r||[],Uu(e).constructor):t.apply(e,r))}function ZH(e,t){if(t&&($s(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XH(e)}function XH(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CO=function(){return!!e})()}function Uu(e){return Uu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Uu(e)}function YH(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Km(e,t)}function Km(e,t){return Km=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Km(e,t)}function Gm(e,t,r){return t=EO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EO(e){var t=JH(e,"string");return $s(t)=="symbol"?t:t+""}function JH(e,t){if($s(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($s(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var wb=1,QH=function(e){function t(){var r;HH(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=GH(this,t,[].concat(i)),Gm(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Gm(r,"handleKeyDown",function(o){if(o.key==="Escape"){var c,l,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(c=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&c!==void 0?c:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return YH(t,e),KH(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>wb||Math.abs(n.height-this.state.lastBoundingBox.height)>wb)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,c=i.animationDuration,l=i.animationEasing,u=i.children,d=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,p=i.offset,g=i.position,m=i.reverseDirection,v=i.useTranslate3d,y=i.viewBox,b=i.wrapperStyle,j=WH({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:p,position:g,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:y}),S=j.cssClasses,N=j.cssProperties,w=jb(jb({transition:h&&s?"transform ".concat(c,"ms ").concat(l):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return I.createElement("div",{tabIndex:-1,className:S,style:w,ref:function(O){n.wrapperNode=O}},u)}}])}(x.PureComponent),eq=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ya={isSsr:eq()};function Ds(e){"@babel/helpers - typeof";return Ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ds(e)}function Nb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Sb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nb(Object(r),!0).forEach(function(n){cv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,DO(n.key),n)}}function nq(e,t,r){return t&&rq(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function aq(e,t,r){return t=Wu(t),iq(e,$O()?Reflect.construct(t,r||[],Wu(e).constructor):t.apply(e,r))}function iq(e,t){if(t&&(Ds(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sq(e)}function sq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $O(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($O=function(){return!!e})()}function Wu(e){return Wu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wu(e)}function oq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zm(e,t)}function Zm(e,t){return Zm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Zm(e,t)}function cv(e,t,r){return t=DO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DO(e){var t=cq(e,"string");return Ds(t)=="symbol"?t:t+""}function cq(e,t){if(Ds(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ds(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function lq(e){return e.dataKey}function uq(e,t){return I.isValidElement(e)?I.cloneElement(e,t):typeof e=="function"?I.createElement(e,t):I.createElement(LH,t)}var ur=function(e){function t(){return tq(this,t),aq(this,t,arguments)}return oq(t,e),nq(t,[{key:"render",value:function(){var n=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,c=i.animationDuration,l=i.animationEasing,u=i.content,d=i.coordinate,f=i.filterNull,h=i.isAnimationActive,p=i.offset,g=i.payload,m=i.payloadUniqBy,v=i.position,y=i.reverseDirection,b=i.useTranslate3d,j=i.viewBox,S=i.wrapperStyle,N=g??[];f&&N.length&&(N=NO(g.filter(function(A){return A.value!=null&&(A.hide!==!0||n.props.includeHidden)}),m,lq));var w=N.length>0;return I.createElement(QH,{allowEscapeViewBox:o,animationDuration:c,animationEasing:l,isAnimationActive:h,active:s,coordinate:d,hasPayload:w,offset:p,position:v,reverseDirection:y,useTranslate3d:b,viewBox:j,wrapperStyle:S},uq(u,Sb(Sb({},this.props),{},{payload:N})))}}])}(x.PureComponent);cv(ur,"displayName","Tooltip");cv(ur,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ya.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var dq=Kn,fq=function(){return dq.Date.now()},hq=fq,mq=/\s/;function pq(e){for(var t=e.length;t--&&mq.test(e.charAt(t)););return t}var gq=pq,vq=gq,xq=/^\s+/;function yq(e){return e&&e.slice(0,vq(e)+1).replace(xq,"")}var bq=yq,jq=bq,Ab=Xa,wq=ho,Ob=NaN,Nq=/^[-+]0x[0-9a-f]+$/i,Sq=/^0b[01]+$/i,Aq=/^0o[0-7]+$/i,Oq=parseInt;function _q(e){if(typeof e=="number")return e;if(wq(e))return Ob;if(Ab(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Ab(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=jq(e);var r=Sq.test(e);return r||Aq.test(e)?Oq(e.slice(2),r?2:8):Nq.test(e)?Ob:+e}var IO=_q,kq=Xa,Ch=hq,_b=IO,Pq="Expected a function",Tq=Math.max,Cq=Math.min;function Eq(e,t,r){var n,i,s,o,c,l,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(Pq);t=_b(t)||0,kq(r)&&(d=!!r.leading,f="maxWait"in r,s=f?Tq(_b(r.maxWait)||0,t):s,h="trailing"in r?!!r.trailing:h);function p(w){var A=n,O=i;return n=i=void 0,u=w,o=e.apply(O,A),o}function g(w){return u=w,c=setTimeout(y,t),d?p(w):o}function m(w){var A=w-l,O=w-u,_=t-A;return f?Cq(_,s-O):_}function v(w){var A=w-l,O=w-u;return l===void 0||A>=t||A<0||f&&O>=s}function y(){var w=Ch();if(v(w))return b(w);c=setTimeout(y,m(w))}function b(w){return c=void 0,h&&n?p(w):(n=i=void 0,o)}function j(){c!==void 0&&clearTimeout(c),u=0,n=l=i=c=void 0}function S(){return c===void 0?o:b(Ch())}function N(){var w=Ch(),A=v(w);if(n=arguments,i=this,l=w,A){if(c===void 0)return g(l);if(f)return clearTimeout(c),c=setTimeout(y,t),p(l)}return c===void 0&&(c=setTimeout(y,t)),o}return N.cancel=j,N.flush=S,N}var $q=Eq,Dq=$q,Iq=Xa,Mq="Expected a function";function Rq(e,t,r){var n=!0,i=!0;if(typeof e!="function")throw new TypeError(Mq);return Iq(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),Dq(e,t,{leading:n,maxWait:t,trailing:i})}var Lq=Rq;const MO=yt(Lq);function _c(e){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_c(e)}function kb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Il(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kb(Object(r),!0).forEach(function(n){Fq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fq(e,t,r){return t=Bq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bq(e){var t=Vq(e,"string");return _c(t)=="symbol"?t:t+""}function Vq(e,t){if(_c(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zq(e,t){return qq(e)||Hq(e,t)||Wq(e,t)||Uq()}function Uq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wq(e,t){if(e){if(typeof e=="string")return Pb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pb(e,t)}}function Pb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Hq(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,c=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(l=(n=s.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return c}}function qq(e){if(Array.isArray(e))return e}var ti=x.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,i=n===void 0?{width:-1,height:-1}:n,s=e.width,o=s===void 0?"100%":s,c=e.height,l=c===void 0?"100%":c,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,p=e.children,g=e.debounce,m=g===void 0?0:g,v=e.id,y=e.className,b=e.onResize,j=e.style,S=j===void 0?{}:j,N=x.useRef(null),w=x.useRef();w.current=b,x.useImperativeHandle(t,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var A=x.useState({containerWidth:i.width,containerHeight:i.height}),O=zq(A,2),_=O[0],P=O[1],C=x.useCallback(function(k,$){P(function(T){var M=Math.round(k),D=Math.round($);return T.containerWidth===M&&T.containerHeight===D?T:{containerWidth:M,containerHeight:D}})},[]);x.useEffect(function(){var k=function(R){var Y,F=R[0].contentRect,ie=F.width,z=F.height;C(ie,z),(Y=w.current)===null||Y===void 0||Y.call(w,ie,z)};m>0&&(k=MO(k,m,{trailing:!0,leading:!1}));var $=new ResizeObserver(k),T=N.current.getBoundingClientRect(),M=T.width,D=T.height;return C(M,D),$.observe(N.current),function(){$.disconnect()}},[C,m]);var E=x.useMemo(function(){var k=_.containerWidth,$=_.containerHeight;if(k<0||$<0)return null;pn(hi(o)||hi(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),pn(!r||r>0,"The aspect(%s) must be greater than zero.",r);var T=hi(o)?k:o,M=hi(l)?$:l;r&&r>0&&(T?M=T/r:M&&(T=M*r),h&&M>h&&(M=h)),pn(T>0||M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,T,M,o,l,d,f,r);var D=!Array.isArray(p)&&da(p.type).endsWith("Chart");return I.Children.map(p,function(W){return I.isValidElement(W)?x.cloneElement(W,Il({width:T,height:M},D?{style:Il({height:"100%",width:"100%",maxHeight:M,maxWidth:T},W.props.style)}:{})):W})},[r,p,l,h,f,d,_,o]);return I.createElement("div",{id:v?"".concat(v):void 0,className:Ge("recharts-responsive-container",y),style:Il(Il({},S),{},{width:o,height:l,minWidth:d,minHeight:f,maxHeight:h}),ref:N},E)}),kc=function(t){return null};kc.displayName="Cell";function Pc(e){"@babel/helpers - typeof";return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pc(e)}function Tb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Xm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tb(Object(r),!0).forEach(function(n){Kq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kq(e,t,r){return t=Gq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gq(e){var t=Zq(e,"string");return Pc(t)=="symbol"?t:t+""}function Zq(e,t){if(Pc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rs={widthCache:{},cacheCount:0},Xq=2e3,Yq={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Cb="recharts_measurement_span";function Jq(e){var t=Xm({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Yo=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ya.isSsr)return{width:0,height:0};var n=Jq(r),i=JSON.stringify({text:t,copyStyle:n});if(rs.widthCache[i])return rs.widthCache[i];try{var s=document.getElementById(Cb);s||(s=document.createElement("span"),s.setAttribute("id",Cb),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=Xm(Xm({},Yq),n);Object.assign(s.style,o),s.textContent="".concat(t);var c=s.getBoundingClientRect(),l={width:c.width,height:c.height};return rs.widthCache[i]=l,++rs.cacheCount>Xq&&(rs.cacheCount=0,rs.widthCache={}),l}catch{return{width:0,height:0}}},Qq=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Tc(e){"@babel/helpers - typeof";return Tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tc(e)}function Hu(e,t){return nK(e)||rK(e,t)||tK(e,t)||eK()}function eK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tK(e,t){if(e){if(typeof e=="string")return Eb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Eb(e,t)}}function Eb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rK(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,c=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return c}}function nK(e){if(Array.isArray(e))return e}function aK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sK(n.key),n)}}function iK(e,t,r){return t&&$b(e.prototype,t),r&&$b(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function sK(e){var t=oK(e,"string");return Tc(t)=="symbol"?t:t+""}function oK(e,t){if(Tc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Db=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Ib=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,cK=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,lK=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,RO={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},uK=Object.keys(RO),ds="NaN";function dK(e,t){return e*RO[t]}var Ml=function(){function e(t,r){aK(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!cK.test(r)&&(this.num=NaN,this.unit=""),uK.includes(r)&&(this.num=dK(t,r),this.unit="px")}return iK(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=lK.exec(r))!==null&&n!==void 0?n:[],s=Hu(i,3),o=s[1],c=s[2];return new e(parseFloat(o),c??"")}}])}();function LO(e){if(e.includes(ds))return ds;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=Db.exec(t))!==null&&r!==void 0?r:[],i=Hu(n,4),s=i[1],o=i[2],c=i[3],l=Ml.parse(s??""),u=Ml.parse(c??""),d=o==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return ds;t=t.replace(Db,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=Ib.exec(t))!==null&&f!==void 0?f:[],p=Hu(h,4),g=p[1],m=p[2],v=p[3],y=Ml.parse(g??""),b=Ml.parse(v??""),j=m==="+"?y.add(b):y.subtract(b);if(j.isNaN())return ds;t=t.replace(Ib,j.toString())}return t}var Mb=/\(([^()]*)\)/;function fK(e){for(var t=e;t.includes("(");){var r=Mb.exec(t),n=Hu(r,2),i=n[1];t=t.replace(Mb,LO(i))}return t}function hK(e){var t=e.replace(/\s+/g,"");return t=fK(t),t=LO(t),t}function mK(e){try{return hK(e)}catch{return ds}}function Eh(e){var t=mK(e.slice(5,-1));return t===ds?"":t}var pK=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],gK=["dx","dy","angle","className","breakAll"];function Ym(){return Ym=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ym.apply(this,arguments)}function Rb(e,t){if(e==null)return{};var r=vK(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function vK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Lb(e,t){return jK(e)||bK(e,t)||yK(e,t)||xK()}function xK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yK(e,t){if(e){if(typeof e=="string")return Fb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Fb(e,t)}}function Fb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bK(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,c=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return c}}function jK(e){if(Array.isArray(e))return e}var FO=/[ \f\n\r\t\v\u2028\u2029]+/,BO=function(t){var r=t.children,n=t.breakAll,i=t.style;try{var s=[];qe(r)||(n?s=r.toString().split(""):s=r.toString().split(FO));var o=s.map(function(l){return{word:l,width:Yo(l,i).width}}),c=n?0:Yo(" ",i).width;return{wordsWithComputedWidth:o,spaceWidth:c}}catch{return null}},wK=function(t,r,n,i,s){var o=t.maxLines,c=t.children,l=t.style,u=t.breakAll,d=pe(o),f=c,h=function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return T.reduce(function(M,D){var W=D.word,R=D.width,Y=M[M.length-1];if(Y&&(i==null||s||Y.width+R+n<Number(i)))Y.words.push(W),Y.width+=R+n;else{var F={words:[W],width:R};M.push(F)}return M},[])},p=h(r),g=function(T){return T.reduce(function(M,D){return M.width>D.width?M:D})};if(!d)return p;for(var m="…",v=function(T){var M=f.slice(0,T),D=BO({breakAll:u,style:l,children:M+m}).wordsWithComputedWidth,W=h(D),R=W.length>o||g(W).width>Number(i);return[R,W]},y=0,b=f.length-1,j=0,S;y<=b&&j<=f.length-1;){var N=Math.floor((y+b)/2),w=N-1,A=v(w),O=Lb(A,2),_=O[0],P=O[1],C=v(N),E=Lb(C,1),k=E[0];if(!_&&!k&&(y=N+1),_&&k&&(b=N-1),!_&&k){S=P;break}j++}return S||p},Bb=function(t){var r=qe(t)?[]:t.toString().split(FO);return[{words:r}]},NK=function(t){var r=t.width,n=t.scaleToFit,i=t.children,s=t.style,o=t.breakAll,c=t.maxLines;if((r||n)&&!Ya.isSsr){var l,u,d=BO({breakAll:o,children:i,style:s});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;l=f,u=h}else return Bb(i);return wK({breakAll:o,children:i,maxLines:c,style:s},l,u,r,n)}return Bb(i)},Vb="#808080",Fi=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,s=i===void 0?0:i,o=t.lineHeight,c=o===void 0?"1em":o,l=t.capHeight,u=l===void 0?"0.71em":l,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,p=h===void 0?"start":h,g=t.verticalAnchor,m=g===void 0?"end":g,v=t.fill,y=v===void 0?Vb:v,b=Rb(t,pK),j=x.useMemo(function(){return NK({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),S=b.dx,N=b.dy,w=b.angle,A=b.className,O=b.breakAll,_=Rb(b,gK);if(!Gt(n)||!Gt(s))return null;var P=n+(pe(S)?S:0),C=s+(pe(N)?N:0),E;switch(m){case"start":E=Eh("calc(".concat(u,")"));break;case"middle":E=Eh("calc(".concat((j.length-1)/2," * -").concat(c," + (").concat(u," / 2))"));break;default:E=Eh("calc(".concat(j.length-1," * -").concat(c,")"));break}var k=[];if(f){var $=j[0].width,T=b.width;k.push("scale(".concat((pe(T)?T/$:1)/$,")"))}return w&&k.push("rotate(".concat(w,", ").concat(P,", ").concat(C,")")),k.length&&(_.transform=k.join(" ")),I.createElement("text",Ym({},Re(_,!0),{x:P,y:C,className:Ge("recharts-text",A),textAnchor:p,fill:y.includes("url")?Vb:y}),j.map(function(M,D){var W=M.words.join(O?"":" ");return I.createElement("tspan",{x:P,dy:D===0?E:c,key:"".concat(W,"-").concat(D)},W)}))};function La(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function SK(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function lv(e){let t,r,n;e.length!==2?(t=La,r=(c,l)=>La(e(c),l),n=(c,l)=>e(c)-l):(t=e===La||e===SK?e:AK,r=e,n=e);function i(c,l,u=0,d=c.length){if(u<d){if(t(l,l)!==0)return d;do{const f=u+d>>>1;r(c[f],l)<0?u=f+1:d=f}while(u<d)}return u}function s(c,l,u=0,d=c.length){if(u<d){if(t(l,l)!==0)return d;do{const f=u+d>>>1;r(c[f],l)<=0?u=f+1:d=f}while(u<d)}return u}function o(c,l,u=0,d=c.length){const f=i(c,l,u,d-1);return f>u&&n(c[f-1],l)>-n(c[f],l)?f-1:f}return{left:i,center:o,right:s}}function AK(){return 0}function VO(e){return e===null?NaN:+e}function*OK(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const _K=lv(La),gl=_K.right;lv(VO).center;class zb extends Map{constructor(t,r=TK){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(Ub(this,t))}has(t){return super.has(Ub(this,t))}set(t,r){return super.set(kK(this,t),r)}delete(t){return super.delete(PK(this,t))}}function Ub({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function kK({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function PK({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function TK(e){return e!==null&&typeof e=="object"?e.valueOf():e}function CK(e=La){if(e===La)return zO;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function zO(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const EK=Math.sqrt(50),$K=Math.sqrt(10),DK=Math.sqrt(2);function qu(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),o=s>=EK?10:s>=$K?5:s>=DK?2:1;let c,l,u;return i<0?(u=Math.pow(10,-i)/o,c=Math.round(e*u),l=Math.round(t*u),c/u<e&&++c,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*o,c=Math.round(e/u),l=Math.round(t/u),c*u<e&&++c,l*u>t&&--l),l<c&&.5<=r&&r<2?qu(e,t,r*2):[c,l,u]}function Jm(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,s,o]=n?qu(t,e,r):qu(e,t,r);if(!(s>=i))return[];const c=s-i+1,l=new Array(c);if(n)if(o<0)for(let u=0;u<c;++u)l[u]=(s-u)/-o;else for(let u=0;u<c;++u)l[u]=(s-u)*o;else if(o<0)for(let u=0;u<c;++u)l[u]=(i+u)/-o;else for(let u=0;u<c;++u)l[u]=(i+u)*o;return l}function Qm(e,t,r){return t=+t,e=+e,r=+r,qu(e,t,r)[2]}function ep(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?Qm(t,e,r):Qm(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function Wb(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function Hb(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function UO(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?zO:CK(i);n>r;){if(n-r>600){const l=n-r+1,u=t-r+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(u-l/2<0?-1:1),p=Math.max(r,Math.floor(t-u*f/l+h)),g=Math.min(n,Math.floor(t+(l-u)*f/l+h));UO(e,t,p,g,i)}const s=e[t];let o=r,c=n;for(Mo(e,r,t),i(e[n],s)>0&&Mo(e,r,n);o<c;){for(Mo(e,o,c),++o,--c;i(e[o],s)<0;)++o;for(;i(e[c],s)>0;)--c}i(e[r],s)===0?Mo(e,r,c):(++c,Mo(e,c,n)),c<=t&&(r=c+1),t<=c&&(n=c-1)}return e}function Mo(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function IK(e,t,r){if(e=Float64Array.from(OK(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return Hb(e);if(t>=1)return Wb(e);var n,i=(n-1)*t,s=Math.floor(i),o=Wb(UO(e,s).subarray(0,s+1)),c=Hb(e.subarray(s+1));return o+(c-o)*(i-s)}}function MK(e,t,r=VO){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,s=Math.floor(i),o=+r(e[s],s,e),c=+r(e[s+1],s+1,e);return o+(c-o)*(i-s)}}function RK(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(i);++n<i;)s[n]=e+n*r;return s}function nn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Na(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const tp=Symbol("implicit");function uv(){var e=new zb,t=[],r=[],n=tp;function i(s){let o=e.get(s);if(o===void 0){if(n!==tp)return n;e.set(s,o=t.push(s)-1)}return r[o%r.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new zb;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return uv(t,r).unknown(n)},nn.apply(i,arguments),i}function Cc(){var e=uv().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,s,o,c=!1,l=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,p=i<n,g=p?i:n,m=p?n:i;s=(m-g)/Math.max(1,h-l+u*2),c&&(s=Math.floor(s)),g+=(m-g-s*(h-l))*d,o=s*(1-l),c&&(g=Math.round(g),o=Math.round(o));var v=RK(h).map(function(y){return g+s*y});return r(p?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,f()):[n,i]},e.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,c=!0,f()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(h){return arguments.length?(c=!!h,f()):c},e.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return Cc(t(),[n,i]).round(c).paddingInner(l).paddingOuter(u).align(d)},nn.apply(f(),arguments)}function WO(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return WO(t())},e}function Jo(){return WO(Cc.apply(null,arguments).paddingInner(1))}function dv(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function HO(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function vl(){}var Ec=.7,Ku=1/Ec,Ss="\\s*([+-]?\\d+)\\s*",$c="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Mn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",LK=/^#([0-9a-f]{3,8})$/,FK=new RegExp(`^rgb\\(${Ss},${Ss},${Ss}\\)$`),BK=new RegExp(`^rgb\\(${Mn},${Mn},${Mn}\\)$`),VK=new RegExp(`^rgba\\(${Ss},${Ss},${Ss},${$c}\\)$`),zK=new RegExp(`^rgba\\(${Mn},${Mn},${Mn},${$c}\\)$`),UK=new RegExp(`^hsl\\(${$c},${Mn},${Mn}\\)$`),WK=new RegExp(`^hsla\\(${$c},${Mn},${Mn},${$c}\\)$`),qb={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};dv(vl,Dc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Kb,formatHex:Kb,formatHex8:HK,formatHsl:qK,formatRgb:Gb,toString:Gb});function Kb(){return this.rgb().formatHex()}function HK(){return this.rgb().formatHex8()}function qK(){return qO(this).formatHsl()}function Gb(){return this.rgb().formatRgb()}function Dc(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=LK.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Zb(t):r===3?new Sr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Rl(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Rl(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=FK.exec(e))?new Sr(t[1],t[2],t[3],1):(t=BK.exec(e))?new Sr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=VK.exec(e))?Rl(t[1],t[2],t[3],t[4]):(t=zK.exec(e))?Rl(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=UK.exec(e))?Jb(t[1],t[2]/100,t[3]/100,1):(t=WK.exec(e))?Jb(t[1],t[2]/100,t[3]/100,t[4]):qb.hasOwnProperty(e)?Zb(qb[e]):e==="transparent"?new Sr(NaN,NaN,NaN,0):null}function Zb(e){return new Sr(e>>16&255,e>>8&255,e&255,1)}function Rl(e,t,r,n){return n<=0&&(e=t=r=NaN),new Sr(e,t,r,n)}function KK(e){return e instanceof vl||(e=Dc(e)),e?(e=e.rgb(),new Sr(e.r,e.g,e.b,e.opacity)):new Sr}function rp(e,t,r,n){return arguments.length===1?KK(e):new Sr(e,t,r,n??1)}function Sr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}dv(Sr,rp,HO(vl,{brighter(e){return e=e==null?Ku:Math.pow(Ku,e),new Sr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ec:Math.pow(Ec,e),new Sr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Sr(Ni(this.r),Ni(this.g),Ni(this.b),Gu(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Xb,formatHex:Xb,formatHex8:GK,formatRgb:Yb,toString:Yb}));function Xb(){return`#${mi(this.r)}${mi(this.g)}${mi(this.b)}`}function GK(){return`#${mi(this.r)}${mi(this.g)}${mi(this.b)}${mi((isNaN(this.opacity)?1:this.opacity)*255)}`}function Yb(){const e=Gu(this.opacity);return`${e===1?"rgb(":"rgba("}${Ni(this.r)}, ${Ni(this.g)}, ${Ni(this.b)}${e===1?")":`, ${e})`}`}function Gu(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ni(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function mi(e){return e=Ni(e),(e<16?"0":"")+e.toString(16)}function Jb(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new un(e,t,r,n)}function qO(e){if(e instanceof un)return new un(e.h,e.s,e.l,e.opacity);if(e instanceof vl||(e=Dc(e)),!e)return new un;if(e instanceof un)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),s=Math.max(t,r,n),o=NaN,c=s-i,l=(s+i)/2;return c?(t===s?o=(r-n)/c+(r<n)*6:r===s?o=(n-t)/c+2:o=(t-r)/c+4,c/=l<.5?s+i:2-s-i,o*=60):c=l>0&&l<1?0:o,new un(o,c,l,e.opacity)}function ZK(e,t,r,n){return arguments.length===1?qO(e):new un(e,t,r,n??1)}function un(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}dv(un,ZK,HO(vl,{brighter(e){return e=e==null?Ku:Math.pow(Ku,e),new un(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ec:Math.pow(Ec,e),new un(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Sr($h(e>=240?e-240:e+120,i,n),$h(e,i,n),$h(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new un(Qb(this.h),Ll(this.s),Ll(this.l),Gu(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Gu(this.opacity);return`${e===1?"hsl(":"hsla("}${Qb(this.h)}, ${Ll(this.s)*100}%, ${Ll(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Qb(e){return e=(e||0)%360,e<0?e+360:e}function Ll(e){return Math.max(0,Math.min(1,e||0))}function $h(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const fv=e=>()=>e;function XK(e,t){return function(r){return e+r*t}}function YK(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function JK(e){return(e=+e)==1?KO:function(t,r){return r-t?YK(t,r,e):fv(isNaN(t)?r:t)}}function KO(e,t){var r=t-e;return r?XK(e,r):fv(isNaN(e)?t:e)}const e0=function e(t){var r=JK(t);function n(i,s){var o=r((i=rp(i)).r,(s=rp(s)).r),c=r(i.g,s.g),l=r(i.b,s.b),u=KO(i.opacity,s.opacity);return function(d){return i.r=o(d),i.g=c(d),i.b=l(d),i.opacity=u(d),i+""}}return n.gamma=e,n}(1);function QK(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=e[i]*(1-s)+t[i]*s;return n}}function eG(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function tG(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),s=new Array(r),o;for(o=0;o<n;++o)i[o]=wo(e[o],t[o]);for(;o<r;++o)s[o]=t[o];return function(c){for(o=0;o<n;++o)s[o]=i[o](c);return s}}function rG(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Zu(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function nG(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=wo(e[i],t[i]):n[i]=t[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var np=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Dh=new RegExp(np.source,"g");function aG(e){return function(){return e}}function iG(e){return function(t){return e(t)+""}}function sG(e,t){var r=np.lastIndex=Dh.lastIndex=0,n,i,s,o=-1,c=[],l=[];for(e=e+"",t=t+"";(n=np.exec(e))&&(i=Dh.exec(t));)(s=i.index)>r&&(s=t.slice(r,s),c[o]?c[o]+=s:c[++o]=s),(n=n[0])===(i=i[0])?c[o]?c[o]+=i:c[++o]=i:(c[++o]=null,l.push({i:o,x:Zu(n,i)})),r=Dh.lastIndex;return r<t.length&&(s=t.slice(r),c[o]?c[o]+=s:c[++o]=s),c.length<2?l[0]?iG(l[0].x):aG(t):(t=l.length,function(u){for(var d=0,f;d<t;++d)c[(f=l[d]).i]=f.x(u);return c.join("")})}function wo(e,t){var r=typeof t,n;return t==null||r==="boolean"?fv(t):(r==="number"?Zu:r==="string"?(n=Dc(t))?(t=n,e0):sG:t instanceof Dc?e0:t instanceof Date?rG:eG(t)?QK:Array.isArray(t)?tG:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?nG:Zu)(e,t)}function hv(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function oG(e,t){t===void 0&&(t=e,e=wo);for(var r=0,n=t.length-1,i=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(i,i=t[++r]);return function(o){var c=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return s[c](o-c)}}function cG(e){return function(){return e}}function Xu(e){return+e}var t0=[0,1];function yr(e){return e}function ap(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:cG(isNaN(t)?NaN:.5)}function lG(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function uG(e,t,r){var n=e[0],i=e[1],s=t[0],o=t[1];return i<n?(n=ap(i,n),s=r(o,s)):(n=ap(n,i),s=r(s,o)),function(c){return s(n(c))}}function dG(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),s=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)i[o]=ap(e[o],e[o+1]),s[o]=r(t[o],t[o+1]);return function(c){var l=gl(e,c,1,n)-1;return s[l](i[l](c))}}function xl(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function kf(){var e=t0,t=t0,r=wo,n,i,s,o=yr,c,l,u;function d(){var h=Math.min(e.length,t.length);return o!==yr&&(o=lG(e[0],e[h-1])),c=h>2?dG:uG,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?s:(l||(l=c(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(i((u||(u=c(t,e.map(n),Zu)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Xu),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=hv,d()},f.clamp=function(h){return arguments.length?(o=h?!0:yr,d()):o!==yr},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,p){return n=h,i=p,d()}}function mv(){return kf()(yr,yr)}function fG(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Yu(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Is(e){return e=Yu(Math.abs(e)),e?e[1]:NaN}function hG(e,t){return function(r,n){for(var i=r.length,s=[],o=0,c=e[0],l=0;i>0&&c>0&&(l+c+1>n&&(c=Math.max(1,n-l)),s.push(r.substring(i-=c,i+c)),!((l+=c+1)>n));)c=e[o=(o+1)%e.length];return s.reverse().join(t)}}function mG(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var pG=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ic(e){if(!(t=pG.exec(e)))throw new Error("invalid format: "+e);var t;return new pv({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ic.prototype=pv.prototype;function pv(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}pv.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function gG(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var GO;function vG(e,t){var r=Yu(e,t);if(!r)return e+"";var n=r[0],i=r[1],s=i-(GO=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Yu(e,Math.max(0,t+s-1))[0]}function r0(e,t){var r=Yu(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const n0={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:fG,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>r0(e*100,t),r:r0,s:vG,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function a0(e){return e}var i0=Array.prototype.map,s0=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function xG(e){var t=e.grouping===void 0||e.thousands===void 0?a0:hG(i0.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?a0:mG(i0.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Ic(f);var h=f.fill,p=f.align,g=f.sign,m=f.symbol,v=f.zero,y=f.width,b=f.comma,j=f.precision,S=f.trim,N=f.type;N==="n"?(b=!0,N="g"):n0[N]||(j===void 0&&(j=12),S=!0,N="g"),(v||h==="0"&&p==="=")&&(v=!0,h="0",p="=");var w=m==="$"?r:m==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",A=m==="$"?n:/[%p]/.test(N)?o:"",O=n0[N],_=/[defgprs%]/.test(N);j=j===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function P(C){var E=w,k=A,$,T,M;if(N==="c")k=O(C)+k,C="";else{C=+C;var D=C<0||1/C<0;if(C=isNaN(C)?l:O(Math.abs(C),j),S&&(C=gG(C)),D&&+C==0&&g!=="+"&&(D=!1),E=(D?g==="("?g:c:g==="-"||g==="("?"":g)+E,k=(N==="s"?s0[8+GO/3]:"")+k+(D&&g==="("?")":""),_){for($=-1,T=C.length;++$<T;)if(M=C.charCodeAt($),48>M||M>57){k=(M===46?i+C.slice($+1):C.slice($))+k,C=C.slice(0,$);break}}}b&&!v&&(C=t(C,1/0));var W=E.length+C.length+k.length,R=W<y?new Array(y-W+1).join(h):"";switch(b&&v&&(C=t(R+C,R.length?y-k.length:1/0),R=""),p){case"<":C=E+C+k+R;break;case"=":C=E+R+C+k;break;case"^":C=R.slice(0,W=R.length>>1)+E+C+k+R.slice(W);break;default:C=R+E+C+k;break}return s(C)}return P.toString=function(){return f+""},P}function d(f,h){var p=u((f=Ic(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(Is(h)/3)))*3,m=Math.pow(10,-g),v=s0[8+g/3];return function(y){return p(m*y)+v}}return{format:u,formatPrefix:d}}var Fl,gv,ZO;yG({thousands:",",grouping:[3],currency:["$",""]});function yG(e){return Fl=xG(e),gv=Fl.format,ZO=Fl.formatPrefix,Fl}function bG(e){return Math.max(0,-Is(Math.abs(e)))}function jG(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Is(t)/3)))*3-Is(Math.abs(e)))}function wG(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Is(t)-Is(e))+1}function XO(e,t,r,n){var i=ep(e,t,r),s;switch(n=Ic(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=jG(i,o))&&(n.precision=s),ZO(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=wG(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=bG(i))&&(n.precision=s-(n.type==="%")*2);break}}return gv(n)}function Ja(e){var t=e.domain;return e.ticks=function(r){var n=t();return Jm(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return XO(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,s=n.length-1,o=n[i],c=n[s],l,u,d=10;for(c<o&&(u=o,o=c,c=u,u=i,i=s,s=u);d-- >0;){if(u=Qm(o,c,r),u===l)return n[i]=o,n[s]=c,t(n);if(u>0)o=Math.floor(o/u)*u,c=Math.ceil(c/u)*u;else if(u<0)o=Math.ceil(o*u)/u,c=Math.floor(c*u)/u;else break;l=u}return e},e}function Ju(){var e=mv();return e.copy=function(){return xl(e,Ju())},nn.apply(e,arguments),Ja(e)}function YO(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Xu),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return YO(e).unknown(t)},e=arguments.length?Array.from(e,Xu):[0,1],Ja(r)}function JO(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],s=e[n],o;return s<i&&(o=r,r=n,n=o,o=i,i=s,s=o),e[r]=t.floor(i),e[n]=t.ceil(s),e}function o0(e){return Math.log(e)}function c0(e){return Math.exp(e)}function NG(e){return-Math.log(-e)}function SG(e){return-Math.exp(-e)}function AG(e){return isFinite(e)?+("1e"+e):e<0?0:e}function OG(e){return e===10?AG:e===Math.E?Math.exp:t=>Math.pow(e,t)}function _G(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function l0(e){return(t,r)=>-e(-t,r)}function vv(e){const t=e(o0,c0),r=t.domain;let n=10,i,s;function o(){return i=_G(n),s=OG(n),r()[0]<0?(i=l0(i),s=l0(s),e(NG,SG)):e(o0,c0),t}return t.base=function(c){return arguments.length?(n=+c,o()):n},t.domain=function(c){return arguments.length?(r(c),o()):r()},t.ticks=c=>{const l=r();let u=l[0],d=l[l.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),p=i(d),g,m;const v=c==null?10:+c;let y=[];if(!(n%1)&&p-h<v){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(g=1;g<n;++g)if(m=h<0?g/s(-h):g*s(h),!(m<u)){if(m>d)break;y.push(m)}}else for(;h<=p;++h)for(g=n-1;g>=1;--g)if(m=h>0?g/s(-h):g*s(h),!(m<u)){if(m>d)break;y.push(m)}y.length*2<v&&(y=Jm(u,d,v))}else y=Jm(h,p,Math.min(p-h,v)).map(s);return f?y.reverse():y},t.tickFormat=(c,l)=>{if(c==null&&(c=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Ic(l)).precision==null&&(l.trim=!0),l=gv(l)),c===1/0)return l;const u=Math.max(1,n*c/t.ticks().length);return d=>{let f=d/s(Math.round(i(d)));return f*n<n-.5&&(f*=n),f<=u?l(d):""}},t.nice=()=>r(JO(r(),{floor:c=>s(Math.floor(i(c))),ceil:c=>s(Math.ceil(i(c)))})),t}function QO(){const e=vv(kf()).domain([1,10]);return e.copy=()=>xl(e,QO()).base(e.base()),nn.apply(e,arguments),e}function u0(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function d0(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function xv(e){var t=1,r=e(u0(t),d0(t));return r.constant=function(n){return arguments.length?e(u0(t=+n),d0(t)):t},Ja(r)}function e_(){var e=xv(kf());return e.copy=function(){return xl(e,e_()).constant(e.constant())},nn.apply(e,arguments)}function f0(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function kG(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function PG(e){return e<0?-e*e:e*e}function yv(e){var t=e(yr,yr),r=1;function n(){return r===1?e(yr,yr):r===.5?e(kG,PG):e(f0(r),f0(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Ja(t)}function bv(){var e=yv(kf());return e.copy=function(){return xl(e,bv()).exponent(e.exponent())},nn.apply(e,arguments),e}function TG(){return bv.apply(null,arguments).exponent(.5)}function h0(e){return Math.sign(e)*e*e}function CG(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function t_(){var e=mv(),t=[0,1],r=!1,n;function i(s){var o=CG(e(s));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(s){return e.invert(h0(s))},i.domain=function(s){return arguments.length?(e.domain(s),i):e.domain()},i.range=function(s){return arguments.length?(e.range((t=Array.from(s,Xu)).map(h0)),i):t.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(e.clamp(s),i):e.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return t_(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},nn.apply(i,arguments),Ja(i)}function r_(){var e=[],t=[],r=[],n;function i(){var o=0,c=Math.max(1,t.length);for(r=new Array(c-1);++o<c;)r[o-1]=MK(e,o/c);return s}function s(o){return o==null||isNaN(o=+o)?n:t[gl(r,o)]}return s.invertExtent=function(o){var c=t.indexOf(o);return c<0?[NaN,NaN]:[c>0?r[c-1]:e[0],c<r.length?r[c]:e[e.length-1]]},s.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let c of o)c!=null&&!isNaN(c=+c)&&e.push(c);return e.sort(La),i()},s.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return r_().domain(e).range(t).unknown(n)},nn.apply(s,arguments)}function n_(){var e=0,t=1,r=1,n=[.5],i=[0,1],s;function o(l){return l!=null&&l<=l?i[gl(n,l,0,r)]:s}function c(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return o}return o.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,c()):[e,t]},o.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,c()):i.slice()},o.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(l){return arguments.length&&(s=l),o},o.thresholds=function(){return n.slice()},o.copy=function(){return n_().domain([e,t]).range(i).unknown(s)},nn.apply(Ja(o),arguments)}function a_(){var e=[.5],t=[0,1],r,n=1;function i(s){return s!=null&&s<=s?t[gl(e,s,0,n)]:r}return i.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var o=t.indexOf(s);return[e[o-1],e[o]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return a_().domain(e).range(t).unknown(r)},nn.apply(i,arguments)}const Ih=new Date,Mh=new Date;function Zt(e,t,r,n){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const o=i(s),c=i.ceil(s);return s-o<c-s?o:c},i.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,c)=>{const l=[];if(s=i.ceil(s),c=c==null?1:Math.floor(c),!(s<o)||!(c>0))return l;let u;do l.push(u=new Date(+s)),t(s,c),e(s);while(u<s&&s<o);return l},i.filter=s=>Zt(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,c)=>{if(o>=o)if(c<0)for(;++c<=0;)for(;t(o,-1),!s(o););else for(;--c>=0;)for(;t(o,1),!s(o););}),r&&(i.count=(s,o)=>(Ih.setTime(+s),Mh.setTime(+o),e(Ih),e(Mh),Math.floor(r(Ih,Mh))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?o=>n(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const Qu=Zt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Qu.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Zt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Qu);Qu.range;const ia=1e3,Jr=ia*60,sa=Jr*60,va=sa*24,jv=va*7,m0=va*30,Rh=va*365,pi=Zt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ia)},(e,t)=>(t-e)/ia,e=>e.getUTCSeconds());pi.range;const wv=Zt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ia)},(e,t)=>{e.setTime(+e+t*Jr)},(e,t)=>(t-e)/Jr,e=>e.getMinutes());wv.range;const Nv=Zt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Jr)},(e,t)=>(t-e)/Jr,e=>e.getUTCMinutes());Nv.range;const Sv=Zt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ia-e.getMinutes()*Jr)},(e,t)=>{e.setTime(+e+t*sa)},(e,t)=>(t-e)/sa,e=>e.getHours());Sv.range;const Av=Zt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*sa)},(e,t)=>(t-e)/sa,e=>e.getUTCHours());Av.range;const yl=Zt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Jr)/va,e=>e.getDate()-1);yl.range;const Pf=Zt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/va,e=>e.getUTCDate()-1);Pf.range;const i_=Zt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/va,e=>Math.floor(e/va));i_.range;function Zi(e){return Zt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Jr)/jv)}const Tf=Zi(0),ed=Zi(1),EG=Zi(2),$G=Zi(3),Ms=Zi(4),DG=Zi(5),IG=Zi(6);Tf.range;ed.range;EG.range;$G.range;Ms.range;DG.range;IG.range;function Xi(e){return Zt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/jv)}const Cf=Xi(0),td=Xi(1),MG=Xi(2),RG=Xi(3),Rs=Xi(4),LG=Xi(5),FG=Xi(6);Cf.range;td.range;MG.range;RG.range;Rs.range;LG.range;FG.range;const Ov=Zt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Ov.range;const _v=Zt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());_v.range;const xa=Zt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());xa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Zt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});xa.range;const ya=Zt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ya.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Zt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});ya.range;function s_(e,t,r,n,i,s){const o=[[pi,1,ia],[pi,5,5*ia],[pi,15,15*ia],[pi,30,30*ia],[s,1,Jr],[s,5,5*Jr],[s,15,15*Jr],[s,30,30*Jr],[i,1,sa],[i,3,3*sa],[i,6,6*sa],[i,12,12*sa],[n,1,va],[n,2,2*va],[r,1,jv],[t,1,m0],[t,3,3*m0],[e,1,Rh]];function c(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:l(u,d,f),g=p?p.range(u,+d+1):[];return h?g.reverse():g}function l(u,d,f){const h=Math.abs(d-u)/f,p=lv(([,,v])=>v).right(o,h);if(p===o.length)return e.every(ep(u/Rh,d/Rh,f));if(p===0)return Qu.every(Math.max(ep(u,d,f),1));const[g,m]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return g.every(m)}return[c,l]}const[BG,VG]=s_(ya,_v,Cf,i_,Av,Nv),[zG,UG]=s_(xa,Ov,Tf,yl,Sv,wv);function Lh(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Fh(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ro(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function WG(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,s=e.days,o=e.shortDays,c=e.months,l=e.shortMonths,u=Lo(i),d=Fo(i),f=Lo(s),h=Fo(s),p=Lo(o),g=Fo(o),m=Lo(c),v=Fo(c),y=Lo(l),b=Fo(l),j={a:D,A:W,b:R,B:Y,c:null,d:b0,e:b0,f:hZ,g:NZ,G:AZ,H:uZ,I:dZ,j:fZ,L:o_,m:mZ,M:pZ,p:F,q:ie,Q:N0,s:S0,S:gZ,u:vZ,U:xZ,V:yZ,w:bZ,W:jZ,x:null,X:null,y:wZ,Y:SZ,Z:OZ,"%":w0},S={a:z,A:H,b:de,B:Le,c:null,d:j0,e:j0,f:TZ,g:BZ,G:zZ,H:_Z,I:kZ,j:PZ,L:l_,m:CZ,M:EZ,p:he,q:Te,Q:N0,s:S0,S:$Z,u:DZ,U:IZ,V:MZ,w:RZ,W:LZ,x:null,X:null,y:FZ,Y:VZ,Z:UZ,"%":w0},N={a:P,A:C,b:E,B:k,c:$,d:x0,e:x0,f:sZ,g:v0,G:g0,H:y0,I:y0,j:rZ,L:iZ,m:tZ,M:nZ,p:_,q:eZ,Q:cZ,s:lZ,S:aZ,u:ZG,U:XG,V:YG,w:GG,W:JG,x:T,X:M,y:v0,Y:g0,Z:QG,"%":oZ};j.x=w(r,j),j.X=w(n,j),j.c=w(t,j),S.x=w(r,S),S.X=w(n,S),S.c=w(t,S);function w(ce,be){return function(ye){var re=[],Ve=-1,$e=0,rt=ce.length,at,ct,L;for(ye instanceof Date||(ye=new Date(+ye));++Ve<rt;)ce.charCodeAt(Ve)===37&&(re.push(ce.slice($e,Ve)),(ct=p0[at=ce.charAt(++Ve)])!=null?at=ce.charAt(++Ve):ct=at==="e"?" ":"0",(L=be[at])&&(at=L(ye,ct)),re.push(at),$e=Ve+1);return re.push(ce.slice($e,Ve)),re.join("")}}function A(ce,be){return function(ye){var re=Ro(1900,void 0,1),Ve=O(re,ce,ye+="",0),$e,rt;if(Ve!=ye.length)return null;if("Q"in re)return new Date(re.Q);if("s"in re)return new Date(re.s*1e3+("L"in re?re.L:0));if(be&&!("Z"in re)&&(re.Z=0),"p"in re&&(re.H=re.H%12+re.p*12),re.m===void 0&&(re.m="q"in re?re.q:0),"V"in re){if(re.V<1||re.V>53)return null;"w"in re||(re.w=1),"Z"in re?($e=Fh(Ro(re.y,0,1)),rt=$e.getUTCDay(),$e=rt>4||rt===0?td.ceil($e):td($e),$e=Pf.offset($e,(re.V-1)*7),re.y=$e.getUTCFullYear(),re.m=$e.getUTCMonth(),re.d=$e.getUTCDate()+(re.w+6)%7):($e=Lh(Ro(re.y,0,1)),rt=$e.getDay(),$e=rt>4||rt===0?ed.ceil($e):ed($e),$e=yl.offset($e,(re.V-1)*7),re.y=$e.getFullYear(),re.m=$e.getMonth(),re.d=$e.getDate()+(re.w+6)%7)}else("W"in re||"U"in re)&&("w"in re||(re.w="u"in re?re.u%7:"W"in re?1:0),rt="Z"in re?Fh(Ro(re.y,0,1)).getUTCDay():Lh(Ro(re.y,0,1)).getDay(),re.m=0,re.d="W"in re?(re.w+6)%7+re.W*7-(rt+5)%7:re.w+re.U*7-(rt+6)%7);return"Z"in re?(re.H+=re.Z/100|0,re.M+=re.Z%100,Fh(re)):Lh(re)}}function O(ce,be,ye,re){for(var Ve=0,$e=be.length,rt=ye.length,at,ct;Ve<$e;){if(re>=rt)return-1;if(at=be.charCodeAt(Ve++),at===37){if(at=be.charAt(Ve++),ct=N[at in p0?be.charAt(Ve++):at],!ct||(re=ct(ce,ye,re))<0)return-1}else if(at!=ye.charCodeAt(re++))return-1}return re}function _(ce,be,ye){var re=u.exec(be.slice(ye));return re?(ce.p=d.get(re[0].toLowerCase()),ye+re[0].length):-1}function P(ce,be,ye){var re=p.exec(be.slice(ye));return re?(ce.w=g.get(re[0].toLowerCase()),ye+re[0].length):-1}function C(ce,be,ye){var re=f.exec(be.slice(ye));return re?(ce.w=h.get(re[0].toLowerCase()),ye+re[0].length):-1}function E(ce,be,ye){var re=y.exec(be.slice(ye));return re?(ce.m=b.get(re[0].toLowerCase()),ye+re[0].length):-1}function k(ce,be,ye){var re=m.exec(be.slice(ye));return re?(ce.m=v.get(re[0].toLowerCase()),ye+re[0].length):-1}function $(ce,be,ye){return O(ce,t,be,ye)}function T(ce,be,ye){return O(ce,r,be,ye)}function M(ce,be,ye){return O(ce,n,be,ye)}function D(ce){return o[ce.getDay()]}function W(ce){return s[ce.getDay()]}function R(ce){return l[ce.getMonth()]}function Y(ce){return c[ce.getMonth()]}function F(ce){return i[+(ce.getHours()>=12)]}function ie(ce){return 1+~~(ce.getMonth()/3)}function z(ce){return o[ce.getUTCDay()]}function H(ce){return s[ce.getUTCDay()]}function de(ce){return l[ce.getUTCMonth()]}function Le(ce){return c[ce.getUTCMonth()]}function he(ce){return i[+(ce.getUTCHours()>=12)]}function Te(ce){return 1+~~(ce.getUTCMonth()/3)}return{format:function(ce){var be=w(ce+="",j);return be.toString=function(){return ce},be},parse:function(ce){var be=A(ce+="",!1);return be.toString=function(){return ce},be},utcFormat:function(ce){var be=w(ce+="",S);return be.toString=function(){return ce},be},utcParse:function(ce){var be=A(ce+="",!0);return be.toString=function(){return ce},be}}}var p0={"-":"",_:" ",0:"0"},rr=/^\s*\d+/,HG=/^%/,qG=/[\\^$*+?|[\]().{}]/g;function ot(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(t)+i:i)}function KG(e){return e.replace(qG,"\\$&")}function Lo(e){return new RegExp("^(?:"+e.map(KG).join("|")+")","i")}function Fo(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function GG(e,t,r){var n=rr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function ZG(e,t,r){var n=rr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function XG(e,t,r){var n=rr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function YG(e,t,r){var n=rr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function JG(e,t,r){var n=rr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function g0(e,t,r){var n=rr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function v0(e,t,r){var n=rr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function QG(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function eZ(e,t,r){var n=rr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function tZ(e,t,r){var n=rr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function x0(e,t,r){var n=rr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function rZ(e,t,r){var n=rr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function y0(e,t,r){var n=rr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function nZ(e,t,r){var n=rr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function aZ(e,t,r){var n=rr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function iZ(e,t,r){var n=rr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function sZ(e,t,r){var n=rr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function oZ(e,t,r){var n=HG.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function cZ(e,t,r){var n=rr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function lZ(e,t,r){var n=rr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function b0(e,t){return ot(e.getDate(),t,2)}function uZ(e,t){return ot(e.getHours(),t,2)}function dZ(e,t){return ot(e.getHours()%12||12,t,2)}function fZ(e,t){return ot(1+yl.count(xa(e),e),t,3)}function o_(e,t){return ot(e.getMilliseconds(),t,3)}function hZ(e,t){return o_(e,t)+"000"}function mZ(e,t){return ot(e.getMonth()+1,t,2)}function pZ(e,t){return ot(e.getMinutes(),t,2)}function gZ(e,t){return ot(e.getSeconds(),t,2)}function vZ(e){var t=e.getDay();return t===0?7:t}function xZ(e,t){return ot(Tf.count(xa(e)-1,e),t,2)}function c_(e){var t=e.getDay();return t>=4||t===0?Ms(e):Ms.ceil(e)}function yZ(e,t){return e=c_(e),ot(Ms.count(xa(e),e)+(xa(e).getDay()===4),t,2)}function bZ(e){return e.getDay()}function jZ(e,t){return ot(ed.count(xa(e)-1,e),t,2)}function wZ(e,t){return ot(e.getFullYear()%100,t,2)}function NZ(e,t){return e=c_(e),ot(e.getFullYear()%100,t,2)}function SZ(e,t){return ot(e.getFullYear()%1e4,t,4)}function AZ(e,t){var r=e.getDay();return e=r>=4||r===0?Ms(e):Ms.ceil(e),ot(e.getFullYear()%1e4,t,4)}function OZ(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ot(t/60|0,"0",2)+ot(t%60,"0",2)}function j0(e,t){return ot(e.getUTCDate(),t,2)}function _Z(e,t){return ot(e.getUTCHours(),t,2)}function kZ(e,t){return ot(e.getUTCHours()%12||12,t,2)}function PZ(e,t){return ot(1+Pf.count(ya(e),e),t,3)}function l_(e,t){return ot(e.getUTCMilliseconds(),t,3)}function TZ(e,t){return l_(e,t)+"000"}function CZ(e,t){return ot(e.getUTCMonth()+1,t,2)}function EZ(e,t){return ot(e.getUTCMinutes(),t,2)}function $Z(e,t){return ot(e.getUTCSeconds(),t,2)}function DZ(e){var t=e.getUTCDay();return t===0?7:t}function IZ(e,t){return ot(Cf.count(ya(e)-1,e),t,2)}function u_(e){var t=e.getUTCDay();return t>=4||t===0?Rs(e):Rs.ceil(e)}function MZ(e,t){return e=u_(e),ot(Rs.count(ya(e),e)+(ya(e).getUTCDay()===4),t,2)}function RZ(e){return e.getUTCDay()}function LZ(e,t){return ot(td.count(ya(e)-1,e),t,2)}function FZ(e,t){return ot(e.getUTCFullYear()%100,t,2)}function BZ(e,t){return e=u_(e),ot(e.getUTCFullYear()%100,t,2)}function VZ(e,t){return ot(e.getUTCFullYear()%1e4,t,4)}function zZ(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Rs(e):Rs.ceil(e),ot(e.getUTCFullYear()%1e4,t,4)}function UZ(){return"+0000"}function w0(){return"%"}function N0(e){return+e}function S0(e){return Math.floor(+e/1e3)}var ns,d_,f_;WZ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function WZ(e){return ns=WG(e),d_=ns.format,ns.parse,f_=ns.utcFormat,ns.utcParse,ns}function HZ(e){return new Date(e)}function qZ(e){return e instanceof Date?+e:+new Date(+e)}function kv(e,t,r,n,i,s,o,c,l,u){var d=mv(),f=d.invert,h=d.domain,p=u(".%L"),g=u(":%S"),m=u("%I:%M"),v=u("%I %p"),y=u("%a %d"),b=u("%b %d"),j=u("%B"),S=u("%Y");function N(w){return(l(w)<w?p:c(w)<w?g:o(w)<w?m:s(w)<w?v:n(w)<w?i(w)<w?y:b:r(w)<w?j:S)(w)}return d.invert=function(w){return new Date(f(w))},d.domain=function(w){return arguments.length?h(Array.from(w,qZ)):h().map(HZ)},d.ticks=function(w){var A=h();return e(A[0],A[A.length-1],w??10)},d.tickFormat=function(w,A){return A==null?N:u(A)},d.nice=function(w){var A=h();return(!w||typeof w.range!="function")&&(w=t(A[0],A[A.length-1],w??10)),w?h(JO(A,w)):d},d.copy=function(){return xl(d,kv(e,t,r,n,i,s,o,c,l,u))},d}function KZ(){return nn.apply(kv(zG,UG,xa,Ov,Tf,yl,Sv,wv,pi,d_).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function GZ(){return nn.apply(kv(BG,VG,ya,_v,Cf,Pf,Av,Nv,pi,f_).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ef(){var e=0,t=1,r,n,i,s,o=yr,c=!1,l;function u(f){return f==null||isNaN(f=+f)?l:o(i===0?.5:(f=(s(f)-r)*i,c?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=s(e=+e),n=s(t=+t),i=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(c=!!f,u):c},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var p,g;return arguments.length?([p,g]=h,o=f(p,g),u):[o(0),o(1)]}}return u.range=d(wo),u.rangeRound=d(hv),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return s=f,r=f(e),n=f(t),i=r===n?0:1/(n-r),u}}function Qa(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function h_(){var e=Ja(Ef()(yr));return e.copy=function(){return Qa(e,h_())},Na.apply(e,arguments)}function m_(){var e=vv(Ef()).domain([1,10]);return e.copy=function(){return Qa(e,m_()).base(e.base())},Na.apply(e,arguments)}function p_(){var e=xv(Ef());return e.copy=function(){return Qa(e,p_()).constant(e.constant())},Na.apply(e,arguments)}function Pv(){var e=yv(Ef());return e.copy=function(){return Qa(e,Pv()).exponent(e.exponent())},Na.apply(e,arguments)}function ZZ(){return Pv.apply(null,arguments).exponent(.5)}function g_(){var e=[],t=yr;function r(n){if(n!=null&&!isNaN(n=+n))return t((gl(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(La),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>IK(e,s/n))},r.copy=function(){return g_(t).domain(e)},Na.apply(r,arguments)}function $f(){var e=0,t=.5,r=1,n=1,i,s,o,c,l,u=yr,d,f=!1,h;function p(m){return isNaN(m=+m)?h:(m=.5+((m=+d(m))-s)*(n*m<n*s?c:l),u(f?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([e,t,r]=m,i=d(e=+e),s=d(t=+t),o=d(r=+r),c=i===s?0:.5/(s-i),l=s===o?0:.5/(o-s),n=s<i?-1:1,p):[e,t,r]},p.clamp=function(m){return arguments.length?(f=!!m,p):f},p.interpolator=function(m){return arguments.length?(u=m,p):u};function g(m){return function(v){var y,b,j;return arguments.length?([y,b,j]=v,u=oG(m,[y,b,j]),p):[u(0),u(.5),u(1)]}}return p.range=g(wo),p.rangeRound=g(hv),p.unknown=function(m){return arguments.length?(h=m,p):h},function(m){return d=m,i=m(e),s=m(t),o=m(r),c=i===s?0:.5/(s-i),l=s===o?0:.5/(o-s),n=s<i?-1:1,p}}function v_(){var e=Ja($f()(yr));return e.copy=function(){return Qa(e,v_())},Na.apply(e,arguments)}function x_(){var e=vv($f()).domain([.1,1,10]);return e.copy=function(){return Qa(e,x_()).base(e.base())},Na.apply(e,arguments)}function y_(){var e=xv($f());return e.copy=function(){return Qa(e,y_()).constant(e.constant())},Na.apply(e,arguments)}function Tv(){var e=yv($f());return e.copy=function(){return Qa(e,Tv()).exponent(e.exponent())},Na.apply(e,arguments)}function XZ(){return Tv.apply(null,arguments).exponent(.5)}const A0=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Cc,scaleDiverging:v_,scaleDivergingLog:x_,scaleDivergingPow:Tv,scaleDivergingSqrt:XZ,scaleDivergingSymlog:y_,scaleIdentity:YO,scaleImplicit:tp,scaleLinear:Ju,scaleLog:QO,scaleOrdinal:uv,scalePoint:Jo,scalePow:bv,scaleQuantile:r_,scaleQuantize:n_,scaleRadial:t_,scaleSequential:h_,scaleSequentialLog:m_,scaleSequentialPow:Pv,scaleSequentialQuantile:g_,scaleSequentialSqrt:ZZ,scaleSequentialSymlog:p_,scaleSqrt:TG,scaleSymlog:e_,scaleThreshold:a_,scaleTime:KZ,scaleUtc:GZ,tickFormat:XO},Symbol.toStringTag,{value:"Module"}));var YZ=ho;function JZ(e,t,r){for(var n=-1,i=e.length;++n<i;){var s=e[n],o=t(s);if(o!=null&&(c===void 0?o===o&&!YZ(o):r(o,c)))var c=o,l=s}return l}var Df=JZ;function QZ(e,t){return e>t}var b_=QZ,eX=Df,tX=b_,rX=jo;function nX(e){return e&&e.length?eX(e,rX,tX):void 0}var aX=nX;const Da=yt(aX);function iX(e,t){return e<t}var j_=iX,sX=Df,oX=j_,cX=jo;function lX(e){return e&&e.length?sX(e,cX,oX):void 0}var uX=lX;const If=yt(uX);var dX=Wg,fX=Gn,hX=PO,mX=Pr;function pX(e,t){var r=mX(e)?dX:hX;return r(e,fX(t))}var gX=pX,vX=_O,xX=gX;function yX(e,t){return vX(xX(e,t),1)}var bX=yX;const jX=yt(bX);var wX=iv;function NX(e,t){return wX(e,t)}var SX=NX;const Bi=yt(SX);var No=1e9,AX={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Ev,Tt=!0,tn="[DecimalError] ",Si=tn+"Invalid argument: ",Cv=tn+"Exponent out of range: ",So=Math.floor,oi=Math.pow,OX=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ir,Jt=1e7,kt=7,w_=9007199254740991,rd=So(w_/kt),Ce={};Ce.absoluteValue=Ce.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ce.comparedTo=Ce.cmp=function(e){var t,r,n,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};Ce.decimalPlaces=Ce.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*kt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Ce.dividedBy=Ce.div=function(e){return fa(this,new this.constructor(e))};Ce.dividedToIntegerBy=Ce.idiv=function(e){var t=this,r=t.constructor;return jt(fa(t,new r(e),0,1),r.precision)};Ce.equals=Ce.eq=function(e){return!this.cmp(e)};Ce.exponent=function(){return zt(this)};Ce.greaterThan=Ce.gt=function(e){return this.cmp(e)>0};Ce.greaterThanOrEqualTo=Ce.gte=function(e){return this.cmp(e)>=0};Ce.isInteger=Ce.isint=function(){return this.e>this.d.length-2};Ce.isNegative=Ce.isneg=function(){return this.s<0};Ce.isPositive=Ce.ispos=function(){return this.s>0};Ce.isZero=function(){return this.s===0};Ce.lessThan=Ce.lt=function(e){return this.cmp(e)<0};Ce.lessThanOrEqualTo=Ce.lte=function(e){return this.cmp(e)<1};Ce.logarithm=Ce.log=function(e){var t,r=this,n=r.constructor,i=n.precision,s=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Ir))throw Error(tn+"NaN");if(r.s<1)throw Error(tn+(r.s?"NaN":"-Infinity"));return r.eq(Ir)?new n(0):(Tt=!1,t=fa(Mc(r,s),Mc(e,s),s),Tt=!0,jt(t,i))};Ce.minus=Ce.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?A_(t,e):N_(t,(e.s=-e.s,e))};Ce.modulo=Ce.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(tn+"NaN");return r.s?(Tt=!1,t=fa(r,e,0,1).times(e),Tt=!0,r.minus(t)):jt(new n(r),i)};Ce.naturalExponential=Ce.exp=function(){return S_(this)};Ce.naturalLogarithm=Ce.ln=function(){return Mc(this)};Ce.negated=Ce.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ce.plus=Ce.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?N_(t,e):A_(t,(e.s=-e.s,e))};Ce.precision=Ce.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Si+e);if(t=zt(i)+1,n=i.d.length-1,r=n*kt+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Ce.squareRoot=Ce.sqrt=function(){var e,t,r,n,i,s,o,c=this,l=c.constructor;if(c.s<1){if(!c.s)return new l(0);throw Error(tn+"NaN")}for(e=zt(c),Tt=!1,i=Math.sqrt(+c),i==0||i==1/0?(t=En(c.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=So((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(i.toString()),r=l.precision,i=o=r+3;;)if(s=n,n=s.plus(fa(c,s,o+2)).times(.5),En(s.d).slice(0,o)===(t=En(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(jt(s,r+1,0),s.times(s).eq(c)){n=s;break}}else if(t!="9999")break;o+=4}return Tt=!0,jt(n,r)};Ce.times=Ce.mul=function(e){var t,r,n,i,s,o,c,l,u,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,l=h.length,u=p.length,l<u&&(s=h,h=p,p=s,o=l,l=u,u=o),s=[],o=l+u,n=o;n--;)s.push(0);for(n=u;--n>=0;){for(t=0,i=l+n;i>n;)c=s[i]+p[n]*h[i-n-1]+t,s[i--]=c%Jt|0,t=c/Jt|0;s[i]=(s[i]+t)%Jt|0}for(;!s[--o];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,Tt?jt(e,f.precision):e};Ce.toDecimalPlaces=Ce.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Un(e,0,No),t===void 0?t=n.rounding:Un(t,0,8),jt(r,e+zt(r)+1,t))};Ce.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=Vi(n,!0):(Un(e,0,No),t===void 0?t=i.rounding:Un(t,0,8),n=jt(new i(n),e+1,t),r=Vi(n,!0,e+1)),r};Ce.toFixed=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?Vi(i):(Un(e,0,No),t===void 0?t=s.rounding:Un(t,0,8),n=jt(new s(i),e+zt(i)+1,t),r=Vi(n.abs(),!1,e+zt(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Ce.toInteger=Ce.toint=function(){var e=this,t=e.constructor;return jt(new t(e),zt(e)+1,t.rounding)};Ce.toNumber=function(){return+this};Ce.toPower=Ce.pow=function(e){var t,r,n,i,s,o,c=this,l=c.constructor,u=12,d=+(e=new l(e));if(!e.s)return new l(Ir);if(c=new l(c),!c.s){if(e.s<1)throw Error(tn+"Infinity");return c}if(c.eq(Ir))return c;if(n=l.precision,e.eq(Ir))return jt(c,n);if(t=e.e,r=e.d.length-1,o=t>=r,s=c.s,o){if((r=d<0?-d:d)<=w_){for(i=new l(Ir),t=Math.ceil(n/kt+4),Tt=!1;r%2&&(i=i.times(c),_0(i.d,t)),r=So(r/2),r!==0;)c=c.times(c),_0(c.d,t);return Tt=!0,e.s<0?new l(Ir).div(i):jt(i,n)}}else if(s<0)throw Error(tn+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,c.s=1,Tt=!1,i=e.times(Mc(c,n+u)),Tt=!0,i=S_(i),i.s=s,i};Ce.toPrecision=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?(r=zt(i),n=Vi(i,r<=s.toExpNeg||r>=s.toExpPos)):(Un(e,1,No),t===void 0?t=s.rounding:Un(t,0,8),i=jt(new s(i),e,t),r=zt(i),n=Vi(i,e<=r||r<=s.toExpNeg,e)),n};Ce.toSignificantDigits=Ce.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Un(e,1,No),t===void 0?t=n.rounding:Un(t,0,8)),jt(new n(r),e,t)};Ce.toString=Ce.valueOf=Ce.val=Ce.toJSON=Ce[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=zt(e),r=e.constructor;return Vi(e,t<=r.toExpNeg||t>=r.toExpPos)};function N_(e,t){var r,n,i,s,o,c,l,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Tt?jt(t,f):t;if(l=e.d,u=t.d,o=e.e,i=t.e,l=l.slice(),s=o-i,s){for(s<0?(n=l,s=-s,c=u.length):(n=u,i=o,c=l.length),o=Math.ceil(f/kt),c=o>c?o+1:c+1,s>c&&(s=c,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(c=l.length,s=u.length,c-s<0&&(s=c,n=u,u=l,l=n),r=0;s;)r=(l[--s]=l[s]+u[s]+r)/Jt|0,l[s]%=Jt;for(r&&(l.unshift(r),++i),c=l.length;l[--c]==0;)l.pop();return t.d=l,t.e=i,Tt?jt(t,f):t}function Un(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Si+e)}function En(e){var t,r,n,i=e.length-1,s="",o=e[0];if(i>0){for(s+=o,t=1;t<i;t++)n=e[t]+"",r=kt-n.length,r&&(s+=Pa(r)),s+=n;o=e[t],n=o+"",r=kt-n.length,r&&(s+=Pa(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var fa=function(){function e(n,i){var s,o=0,c=n.length;for(n=n.slice();c--;)s=n[c]*i+o,n[c]=s%Jt|0,o=s/Jt|0;return o&&n.unshift(o),n}function t(n,i,s,o){var c,l;if(s!=o)l=s>o?1:-1;else for(c=l=0;c<s;c++)if(n[c]!=i[c]){l=n[c]>i[c]?1:-1;break}return l}function r(n,i,s){for(var o=0;s--;)n[s]-=o,o=n[s]<i[s]?1:0,n[s]=o*Jt+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,o){var c,l,u,d,f,h,p,g,m,v,y,b,j,S,N,w,A,O,_=n.constructor,P=n.s==i.s?1:-1,C=n.d,E=i.d;if(!n.s)return new _(n);if(!i.s)throw Error(tn+"Division by zero");for(l=n.e-i.e,A=E.length,N=C.length,p=new _(P),g=p.d=[],u=0;E[u]==(C[u]||0);)++u;if(E[u]>(C[u]||0)&&--l,s==null?b=s=_.precision:o?b=s+(zt(n)-zt(i))+1:b=s,b<0)return new _(0);if(b=b/kt+2|0,u=0,A==1)for(d=0,E=E[0],b++;(u<N||d)&&b--;u++)j=d*Jt+(C[u]||0),g[u]=j/E|0,d=j%E|0;else{for(d=Jt/(E[0]+1)|0,d>1&&(E=e(E,d),C=e(C,d),A=E.length,N=C.length),S=A,m=C.slice(0,A),v=m.length;v<A;)m[v++]=0;O=E.slice(),O.unshift(0),w=E[0],E[1]>=Jt/2&&++w;do d=0,c=t(E,m,A,v),c<0?(y=m[0],A!=v&&(y=y*Jt+(m[1]||0)),d=y/w|0,d>1?(d>=Jt&&(d=Jt-1),f=e(E,d),h=f.length,v=m.length,c=t(f,m,h,v),c==1&&(d--,r(f,A<h?O:E,h))):(d==0&&(c=d=1),f=E.slice()),h=f.length,h<v&&f.unshift(0),r(m,f,v),c==-1&&(v=m.length,c=t(E,m,A,v),c<1&&(d++,r(m,A<v?O:E,v))),v=m.length):c===0&&(d++,m=[0]),g[u++]=d,c&&m[0]?m[v++]=C[S]||0:(m=[C[S]],v=1);while((S++<N||m[0]!==void 0)&&b--)}return g[0]||g.shift(),p.e=l,jt(p,o?s+zt(p)+1:s)}}();function S_(e,t){var r,n,i,s,o,c,l=0,u=0,d=e.constructor,f=d.precision;if(zt(e)>16)throw Error(Cv+zt(e));if(!e.s)return new d(Ir);for(Tt=!1,c=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(oi(2,u))/Math.LN10*2+5|0,c+=n,r=i=s=new d(Ir),d.precision=c;;){if(i=jt(i.times(e),c),r=r.times(++l),o=s.plus(fa(i,r,c)),En(o.d).slice(0,c)===En(s.d).slice(0,c)){for(;u--;)s=jt(s.times(s),c);return d.precision=f,t==null?(Tt=!0,jt(s,f)):s}s=o}}function zt(e){for(var t=e.e*kt,r=e.d[0];r>=10;r/=10)t++;return t}function Bh(e,t,r){if(t>e.LN10.sd())throw Tt=!0,r&&(e.precision=r),Error(tn+"LN10 precision limit exceeded");return jt(new e(e.LN10),t)}function Pa(e){for(var t="";e--;)t+="0";return t}function Mc(e,t){var r,n,i,s,o,c,l,u,d,f=1,h=10,p=e,g=p.d,m=p.constructor,v=m.precision;if(p.s<1)throw Error(tn+(p.s?"NaN":"-Infinity"));if(p.eq(Ir))return new m(0);if(t==null?(Tt=!1,u=v):u=t,p.eq(10))return t==null&&(Tt=!0),Bh(m,u);if(u+=h,m.precision=u,r=En(g),n=r.charAt(0),s=zt(p),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=En(p.d),n=r.charAt(0),f++;s=zt(p),n>1?(p=new m("0."+r),s++):p=new m(n+"."+r.slice(1))}else return l=Bh(m,u+2,v).times(s+""),p=Mc(new m(n+"."+r.slice(1)),u-h).plus(l),m.precision=v,t==null?(Tt=!0,jt(p,v)):p;for(c=o=p=fa(p.minus(Ir),p.plus(Ir),u),d=jt(p.times(p),u),i=3;;){if(o=jt(o.times(d),u),l=c.plus(fa(o,new m(i),u)),En(l.d).slice(0,u)===En(c.d).slice(0,u))return c=c.times(2),s!==0&&(c=c.plus(Bh(m,u+2,v).times(s+""))),c=fa(c,new m(f),u),m.precision=v,t==null?(Tt=!0,jt(c,v)):c;c=l,i+=2}}function O0(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=So(r/kt),e.d=[],n=(r+1)%kt,r<0&&(n+=kt),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=kt;n<i;)e.d.push(+t.slice(n,n+=kt));t=t.slice(n),n=kt-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),Tt&&(e.e>rd||e.e<-rd))throw Error(Cv+r)}else e.s=0,e.e=0,e.d=[0];return e}function jt(e,t,r){var n,i,s,o,c,l,u,d,f=e.d;for(o=1,s=f[0];s>=10;s/=10)o++;if(n=t-o,n<0)n+=kt,i=t,u=f[d=0];else{if(d=Math.ceil((n+1)/kt),s=f.length,d>=s)return e;for(u=s=f[d],o=1;s>=10;s/=10)o++;n%=kt,i=n-kt+o}if(r!==void 0&&(s=oi(10,o-i-1),c=u/s%10|0,l=t<0||f[d+1]!==void 0||u%s,l=r<4?(c||l)&&(r==0||r==(e.s<0?3:2)):c>5||c==5&&(r==4||l||r==6&&(n>0?i>0?u/oi(10,o-i):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return l?(s=zt(e),f.length=1,t=t-s-1,f[0]=oi(10,(kt-t%kt)%kt),e.e=So(-t/kt)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,s=1,d--):(f.length=d+1,s=oi(10,kt-n),f[d]=i>0?(u/oi(10,o-i)%oi(10,i)|0)*s:0),l)for(;;)if(d==0){(f[0]+=s)==Jt&&(f[0]=1,++e.e);break}else{if(f[d]+=s,f[d]!=Jt)break;f[d--]=0,s=1}for(n=f.length;f[--n]===0;)f.pop();if(Tt&&(e.e>rd||e.e<-rd))throw Error(Cv+zt(e));return e}function A_(e,t){var r,n,i,s,o,c,l,u,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Tt?jt(t,p):t;if(l=e.d,f=t.d,n=t.e,u=e.e,l=l.slice(),o=u-n,o){for(d=o<0,d?(r=l,o=-o,c=f.length):(r=f,n=u,c=l.length),i=Math.max(Math.ceil(p/kt),c)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=l.length,c=f.length,d=i<c,d&&(c=i),i=0;i<c;i++)if(l[i]!=f[i]){d=l[i]<f[i];break}o=0}for(d&&(r=l,l=f,f=r,t.s=-t.s),c=l.length,i=f.length-c;i>0;--i)l[c++]=0;for(i=f.length;i>o;){if(l[--i]<f[i]){for(s=i;s&&l[--s]===0;)l[s]=Jt-1;--l[s],l[i]+=Jt}l[i]-=f[i]}for(;l[--c]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,Tt?jt(t,p):t):new h(0)}function Vi(e,t,r){var n,i=zt(e),s=En(e.d),o=s.length;return t?(r&&(n=r-o)>0?s=s.charAt(0)+"."+s.slice(1)+Pa(n):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Pa(-i-1)+s,r&&(n=r-o)>0&&(s+=Pa(n))):i>=o?(s+=Pa(i+1-o),r&&(n=r-i-1)>0&&(s=s+"."+Pa(n))):((n=i+1)<o&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(s+="."),s+=Pa(n))),e.s<0?"-"+s:s}function _0(e,t){if(e.length>t)return e.length=t,!0}function O_(e){var t,r,n;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Si+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return O0(o,s.toString())}else if(typeof s!="string")throw Error(Si+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,OX.test(s))O0(o,s);else throw Error(Si+s)}if(i.prototype=Ce,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=O_,i.config=i.set=_X,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function _X(e){if(!e||typeof e!="object")throw Error(tn+"Object expected");var t,r,n,i=["precision",1,No,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(So(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(Si+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Si+r+": "+n);return this}var Ev=O_(AX);Ir=new Ev(1);const xt=Ev;function kX(e){return EX(e)||CX(e)||TX(e)||PX()}function PX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TX(e,t){if(e){if(typeof e=="string")return ip(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ip(e,t)}}function CX(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function EX(e){if(Array.isArray(e))return ip(e)}function ip(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var $X=function(t){return t},__={},k_=function(t){return t===__},k0=function(t){return function r(){return arguments.length===0||arguments.length===1&&k_(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},DX=function e(t,r){return t===1?r:k0(function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];var o=i.filter(function(c){return c!==__}).length;return o>=t?r.apply(void 0,i):e(t-o,k0(function(){for(var c=arguments.length,l=new Array(c),u=0;u<c;u++)l[u]=arguments[u];var d=i.map(function(f){return k_(f)?l.shift():f});return r.apply(void 0,kX(d).concat(l))}))})},Mf=function(t){return DX(t.length,t)},sp=function(t,r){for(var n=[],i=t;i<r;++i)n[i-t]=i;return n},IX=Mf(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),MX=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return $X;var i=r.reverse(),s=i[0],o=i.slice(1);return function(){return o.reduce(function(c,l){return l(c)},s.apply(void 0,arguments))}},op=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},P_=function(t){var r=null,n=null;return function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r&&s.every(function(c,l){return c===r[l]})||(r=s,n=t.apply(void 0,s)),n}};function RX(e){var t;return e===0?t=1:t=Math.floor(new xt(e).abs().log(10).toNumber())+1,t}function LX(e,t,r){for(var n=new xt(e),i=0,s=[];n.lt(t)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}var FX=Mf(function(e,t,r){var n=+e,i=+t;return n+r*(i-n)}),BX=Mf(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),VX=Mf(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Rf={rangeStep:LX,getDigitCount:RX,interpolateNumber:FX,uninterpolateNumber:BX,uninterpolateTruncation:VX};function cp(e){return WX(e)||UX(e)||T_(e)||zX()}function zX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UX(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function WX(e){if(Array.isArray(e))return lp(e)}function Rc(e,t){return KX(e)||qX(e,t)||T_(e,t)||HX()}function HX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T_(e,t){if(e){if(typeof e=="string")return lp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lp(e,t)}}function lp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qX(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,i=!1,s=void 0;try{for(var o=e[Symbol.iterator](),c;!(n=(c=o.next()).done)&&(r.push(c.value),!(t&&r.length===t));n=!0);}catch(l){i=!0,s=l}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw s}}return r}}function KX(e){if(Array.isArray(e))return e}function C_(e){var t=Rc(e,2),r=t[0],n=t[1],i=r,s=n;return r>n&&(i=n,s=r),[i,s]}function E_(e,t,r){if(e.lte(0))return new xt(0);var n=Rf.getDigitCount(e.toNumber()),i=new xt(10).pow(n),s=e.div(i),o=n!==1?.05:.1,c=new xt(Math.ceil(s.div(o).toNumber())).add(r).mul(o),l=c.mul(i);return t?l:new xt(Math.ceil(l))}function GX(e,t,r){var n=1,i=new xt(e);if(!i.isint()&&r){var s=Math.abs(e);s<1?(n=new xt(10).pow(Rf.getDigitCount(e)-1),i=new xt(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new xt(Math.floor(e)))}else e===0?i=new xt(Math.floor((t-1)/2)):r||(i=new xt(Math.floor(e)));var o=Math.floor((t-1)/2),c=MX(IX(function(l){return i.add(new xt(l-o).mul(n)).toNumber()}),sp);return c(0,t)}function $_(e,t,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new xt(0),tickMin:new xt(0),tickMax:new xt(0)};var s=E_(new xt(t).sub(e).div(r-1),n,i),o;e<=0&&t>=0?o=new xt(0):(o=new xt(e).add(t).div(2),o=o.sub(new xt(o).mod(s)));var c=Math.ceil(o.sub(e).div(s).toNumber()),l=Math.ceil(new xt(t).sub(o).div(s).toNumber()),u=c+l+1;return u>r?$_(e,t,r,n,i+1):(u<r&&(l=t>0?l+(r-u):l,c=t>0?c:c+(r-u)),{step:s,tickMin:o.sub(new xt(c).mul(s)),tickMax:o.add(new xt(l).mul(s))})}function ZX(e){var t=Rc(e,2),r=t[0],n=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),c=C_([r,n]),l=Rc(c,2),u=l[0],d=l[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(cp(sp(0,i-1).map(function(){return 1/0}))):[].concat(cp(sp(0,i-1).map(function(){return-1/0})),[d]);return r>n?op(f):f}if(u===d)return GX(u,i,s);var h=$_(u,d,o,s),p=h.step,g=h.tickMin,m=h.tickMax,v=Rf.rangeStep(g,m.add(new xt(.1).mul(p)),p);return r>n?op(v):v}function XX(e,t){var r=Rc(e,2),n=r[0],i=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=C_([n,i]),c=Rc(o,2),l=c[0],u=c[1];if(l===-1/0||u===1/0)return[n,i];if(l===u)return[l];var d=Math.max(t,2),f=E_(new xt(u).sub(l).div(d-1),s,0),h=[].concat(cp(Rf.rangeStep(new xt(l),new xt(u).sub(new xt(.99).mul(f)),f)),[u]);return n>i?op(h):h}var YX=P_(ZX),JX=P_(XX),QX="Invariant failed";function zi(e,t){throw new Error(QX)}var eY=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Ls(e){"@babel/helpers - typeof";return Ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ls(e)}function nd(){return nd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nd.apply(this,arguments)}function tY(e,t){return iY(e)||aY(e,t)||nY(e,t)||rY()}function rY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nY(e,t){if(e){if(typeof e=="string")return P0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P0(e,t)}}function P0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function aY(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,c=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(l=(n=s.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return c}}function iY(e){if(Array.isArray(e))return e}function sY(e,t){if(e==null)return{};var r=oY(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function cY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,M_(n.key),n)}}function uY(e,t,r){return t&&lY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function dY(e,t,r){return t=ad(t),fY(e,D_()?Reflect.construct(t,r||[],ad(e).constructor):t.apply(e,r))}function fY(e,t){if(t&&(Ls(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hY(e)}function hY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(D_=function(){return!!e})()}function ad(e){return ad=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ad(e)}function mY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&up(e,t)}function up(e,t){return up=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},up(e,t)}function I_(e,t,r){return t=M_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M_(e){var t=pY(e,"string");return Ls(t)=="symbol"?t:t+""}function pY(e,t){if(Ls(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ls(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var bl=function(e){function t(){return cY(this,t),dY(this,t,arguments)}return mY(t,e),uY(t,[{key:"render",value:function(){var n=this.props,i=n.offset,s=n.layout,o=n.width,c=n.dataKey,l=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=sY(n,eY),p=Re(h,!1);this.props.direction==="x"&&d.type!=="number"&&zi();var g=l.map(function(m){var v=u(m,c),y=v.x,b=v.y,j=v.value,S=v.errorVal;if(!S)return null;var N=[],w,A;if(Array.isArray(S)){var O=tY(S,2);w=O[0],A=O[1]}else w=A=S;if(s==="vertical"){var _=d.scale,P=b+i,C=P+o,E=P-o,k=_(j-w),$=_(j+A);N.push({x1:$,y1:C,x2:$,y2:E}),N.push({x1:k,y1:P,x2:$,y2:P}),N.push({x1:k,y1:C,x2:k,y2:E})}else if(s==="horizontal"){var T=f.scale,M=y+i,D=M-o,W=M+o,R=T(j-w),Y=T(j+A);N.push({x1:D,y1:Y,x2:W,y2:Y}),N.push({x1:M,y1:R,x2:M,y2:Y}),N.push({x1:D,y1:R,x2:W,y2:R})}return I.createElement(nt,nd({className:"recharts-errorBar",key:"bar-".concat(N.map(function(F){return"".concat(F.x1,"-").concat(F.x2,"-").concat(F.y1,"-").concat(F.y2)}))},p),N.map(function(F){return I.createElement("line",nd({},F,{key:"line-".concat(F.x1,"-").concat(F.x2,"-").concat(F.y1,"-").concat(F.y2)}))}))});return I.createElement(nt,{className:"recharts-errorBars"},g)}}])}(I.Component);I_(bl,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});I_(bl,"displayName","ErrorBar");function Lc(e){"@babel/helpers - typeof";return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lc(e)}function T0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ri(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T0(Object(r),!0).forEach(function(n){gY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gY(e,t,r){return t=vY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vY(e){var t=xY(e,"string");return Lc(t)=="symbol"?t:t+""}function xY(e,t){if(Lc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var R_=function(t){var r=t.children,n=t.formattedGraphicalItems,i=t.legendWidth,s=t.legendContent,o=$r(r,wi);if(!o)return null;var c=wi.defaultProps,l=c!==void 0?ri(ri({},c),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:s==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,p=f.props,g=p.sectors||p.data||[];return d.concat(g.map(function(m){return{type:o.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?ri(ri({},h),f.props):{},g=p.dataKey,m=p.name,v=p.legendType,y=p.hide;return{inactive:y,dataKey:g,type:l.iconType||v||"square",color:$v(f),value:m||g,payload:p}}),ri(ri(ri({},l),wi.getWithHeight(o,i)),{},{payload:u,item:o})};function Fc(e){"@babel/helpers - typeof";return Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fc(e)}function C0(e){return wY(e)||jY(e)||bY(e)||yY()}function yY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bY(e,t){if(e){if(typeof e=="string")return dp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dp(e,t)}}function jY(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wY(e){if(Array.isArray(e))return dp(e)}function dp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function E0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Et(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E0(Object(r),!0).forEach(function(n){As(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function As(e,t,r){return t=NY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NY(e){var t=SY(e,"string");return Fc(t)=="symbol"?t:t+""}function SY(e,t){if(Fc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function It(e,t,r){return qe(e)||qe(t)?r:Gt(t)?Fr(e,t,r):Ue(t)?t(e):r}function Qo(e,t,r,n){var i=jX(e,function(c){return It(c,t)});if(r==="number"){var s=i.filter(function(c){return pe(c)||parseFloat(c)});return s.length?[If(s),Da(s)]:[1/0,-1/0]}var o=n?i.filter(function(c){return!qe(c)}):i;return o.map(function(c){return Gt(c)||c instanceof Date?c:""})}var AY=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,c=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(c<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var l=s.range,u=0;u<c;u++){var d=u>0?i[u-1].coordinate:i[c-1].coordinate,f=i[u].coordinate,h=u>=c-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(vr(f-d)!==vr(h-f)){var g=[];if(vr(h-f)===vr(l[1]-l[0])){p=h;var m=f+l[1]-l[0];g[0]=Math.min(m,(m+d)/2),g[1]=Math.max(m,(m+d)/2)}else{p=d;var v=h+l[1]-l[0];g[0]=Math.min(f,(v+f)/2),g[1]=Math.max(f,(v+f)/2)}var y=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>y[0]&&t<=y[1]||t>=g[0]&&t<=g[1]){o=i[u].index;break}}else{var b=Math.min(d,h),j=Math.max(d,h);if(t>(b+f)/2&&t<=(j+f)/2){o=i[u].index;break}}}else for(var S=0;S<c;S++)if(S===0&&t<=(n[S].coordinate+n[S+1].coordinate)/2||S>0&&S<c-1&&t>(n[S].coordinate+n[S-1].coordinate)/2&&t<=(n[S].coordinate+n[S+1].coordinate)/2||S===c-1&&t>(n[S].coordinate+n[S-1].coordinate)/2){o=n[S].index;break}return o},$v=function(t){var r,n=t,i=n.type.displayName,s=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Et(Et({},t.type.defaultProps),t.props):t.props,o=s.stroke,c=s.fill,l;switch(i){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:c;break;default:l=c;break}return l},OY=function(t){var r=t.barSize,n=t.totalSize,i=t.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var o={},c=Object.keys(s),l=0,u=c.length;l<u;l++)for(var d=s[c[l]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var g=d[f[h]],m=g.items,v=g.cateAxisId,y=m.filter(function(A){return da(A.type).indexOf("Bar")>=0});if(y&&y.length){var b=y[0].type.defaultProps,j=b!==void 0?Et(Et({},b),y[0].props):y[0].props,S=j.barSize,N=j[v];o[N]||(o[N]=[]);var w=qe(S)?r:S;o[N].push({item:y[0],stackList:y.slice(1),barSize:qe(w)?void 0:xr(w,n,0)})}}return o},_Y=function(t){var r=t.barGap,n=t.barCategoryGap,i=t.bandSize,s=t.sizeList,o=s===void 0?[]:s,c=t.maxBarSize,l=o.length;if(l<1)return null;var u=xr(r,i,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=i/l,g=o.reduce(function(S,N){return S+N.barSize||0},0);g+=(l-1)*u,g>=i&&(g-=(l-1)*u,u=0),g>=i&&p>0&&(h=!0,p*=.9,g=l*p);var m=(i-g)/2>>0,v={offset:m-u,size:0};d=o.reduce(function(S,N){var w={item:N.item,position:{offset:v.offset+v.size+u,size:h?p:N.barSize}},A=[].concat(C0(S),[w]);return v=A[A.length-1].position,N.stackList&&N.stackList.length&&N.stackList.forEach(function(O){A.push({item:O,position:v})}),A},f)}else{var y=xr(n,i,0,!0);i-2*y-(l-1)*u<=0&&(u=0);var b=(i-2*y-(l-1)*u)/l;b>1&&(b>>=0);var j=c===+c?Math.min(b,c):b;d=o.reduce(function(S,N,w){var A=[].concat(C0(S),[{item:N.item,position:{offset:y+(b+u)*w+(b-j)/2,size:j}}]);return N.stackList&&N.stackList.length&&N.stackList.forEach(function(O){A.push({item:O,position:A[A.length-1].position})}),A},f)}return d},kY=function(t,r,n,i){var s=n.children,o=n.width,c=n.margin,l=o-(c.left||0)-(c.right||0),u=R_({children:s,legendWidth:l});if(u){var d=i||{},f=d.width,h=d.height,p=u.align,g=u.verticalAlign,m=u.layout;if((m==="vertical"||m==="horizontal"&&g==="middle")&&p!=="center"&&pe(t[p]))return Et(Et({},t),{},As({},p,t[p]+(f||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&g!=="middle"&&pe(t[g]))return Et(Et({},t),{},As({},g,t[g]+(h||0)))}return t},PY=function(t,r,n){return qe(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},L_=function(t,r,n,i,s){var o=r.props.children,c=Br(o,bl).filter(function(u){return PY(i,s,u.props.direction)});if(c&&c.length){var l=c.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=It(d,n);if(qe(f))return u;var h=Array.isArray(f)?[If(f),Da(f)]:[f,f],p=l.reduce(function(g,m){var v=It(d,m,0),y=h[0]-Math.abs(Array.isArray(v)?v[0]:v),b=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(y,g[0]),Math.max(b,g[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},TY=function(t,r,n,i,s){var o=r.map(function(c){return L_(t,c,n,s,i)}).filter(function(c){return!qe(c)});return o&&o.length?o.reduce(function(c,l){return[Math.min(c[0],l[0]),Math.max(c[1],l[1])]},[1/0,-1/0]):null},F_=function(t,r,n,i,s){var o=r.map(function(l){var u=l.props.dataKey;return n==="number"&&u&&L_(t,l,u,i)||Qo(t,u,n,s)});if(n==="number")return o.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var c={};return o.reduce(function(l,u){for(var d=0,f=u.length;d<f;d++)c[u[d]]||(c[u[d]]=!0,l.push(u[d]));return l},[])},B_=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},V_=function(t,r,n,i){if(i)return t.map(function(l){return l.coordinate});var s,o,c=t.map(function(l){return l.coordinate===r&&(s=!0),l.coordinate===n&&(o=!0),l.coordinate});return s||c.push(r),o||c.push(n),c},oa=function(t,r,n){if(!t)return null;var i=t.scale,s=t.duplicateDomain,o=t.type,c=t.range,l=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=t.axisType==="angleAxis"&&(c==null?void 0:c.length)>=2?vr(c[0]-c[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=s?s.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return d.filter(function(f){return!xo(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!n?i.ticks(t.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:s?s[f]:f,index:h,offset:u}})},Vh=new WeakMap,Bl=function(t,r){if(typeof r!="function")return t;Vh.has(t)||Vh.set(t,new WeakMap);var n=Vh.get(t);if(n.has(r))return n.get(r);var i=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},z_=function(t,r,n){var i=t.scale,s=t.type,o=t.layout,c=t.axisType;if(i==="auto")return o==="radial"&&c==="radiusAxis"?{scale:Cc(),realScaleType:"band"}:o==="radial"&&c==="angleAxis"?{scale:Ju(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Jo(),realScaleType:"point"}:s==="category"?{scale:Cc(),realScaleType:"band"}:{scale:Ju(),realScaleType:"linear"};if(Ri(i)){var l="scale".concat(jf(i));return{scale:(A0[l]||Jo)(),realScaleType:A0[l]?l:"point"}}return Ue(i)?{scale:i}:{scale:Jo(),realScaleType:"point"}},$0=1e-4,U_=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,i=t.range(),s=Math.min(i[0],i[1])-$0,o=Math.max(i[0],i[1])+$0,c=t(r[0]),l=t(r[n-1]);(c<s||c>o||l<s||l>o)&&t.domain([r[0],r[n-1]])}},CY=function(t,r){if(!t)return null;for(var n=0,i=t.length;n<i;n++)if(t[n].item===r)return t[n].position;return null},EY=function(t,r){if(!r||r.length!==2||!pe(r[0])||!pe(r[1]))return t;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),s=[t[0],t[1]];return(!pe(t[0])||t[0]<n)&&(s[0]=n),(!pe(t[1])||t[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<n&&(s[1]=n),s},$Y=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var s=0,o=0,c=0;c<r;++c){var l=xo(t[c][n][1])?t[c][n][0]:t[c][n][1];l>=0?(t[c][n][0]=s,t[c][n][1]=s+l,s=t[c][n][1]):(t[c][n][0]=o,t[c][n][1]=o+l,o=t[c][n][1])}},DY=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var s=0,o=0;o<r;++o){var c=xo(t[o][n][1])?t[o][n][0]:t[o][n][1];c>=0?(t[o][n][0]=s,t[o][n][1]=s+c,s=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},IY={sign:$Y,expand:e8,none:Ts,silhouette:t8,wiggle:r8,positive:DY},MY=function(t,r,n){var i=r.map(function(c){return c.props.dataKey}),s=IY[n],o=QB().keys(i).value(function(c,l){return+It(c,l,0)}).order(Mm).offset(s);return o(t)},RY=function(t,r,n,i,s,o){if(!t)return null;var c=o?r.reverse():r,l={},u=c.reduce(function(f,h){var p,g=(p=h.type)!==null&&p!==void 0&&p.defaultProps?Et(Et({},h.type.defaultProps),h.props):h.props,m=g.stackId,v=g.hide;if(v)return f;var y=g[n],b=f[y]||{hasStack:!1,stackGroups:{}};if(Gt(m)){var j=b.stackGroups[m]||{numericAxisId:n,cateAxisId:i,items:[]};j.items.push(h),b.hasStack=!0,b.stackGroups[m]=j}else b.stackGroups[Gi("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[h]};return Et(Et({},f),{},As({},y,b))},l),d={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var g={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,v){var y=p.stackGroups[v];return Et(Et({},m),{},As({},v,{numericAxisId:n,cateAxisId:i,items:y.items,stackedData:MY(t,y.items,s)}))},g)}return Et(Et({},f),{},As({},h,p))},d)},W_=function(t,r){var n=r.realScaleType,i=r.type,s=r.tickCount,o=r.originalDomain,c=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(s&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=YX(u,s,c);return t.domain([If(d),Da(d)]),{niceTicks:d}}if(s&&i==="number"){var f=t.domain(),h=JX(f,s,c);return{niceTicks:h}}return null};function id(e){var t=e.axis,r=e.ticks,n=e.bandSize,i=e.entry,s=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!qe(i[t.dataKey])){var c=Cu(r,"value",i[t.dataKey]);if(c)return c.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var l=It(i,qe(o)?t.dataKey:o);return qe(l)?null:t.scale(l)}var D0=function(t){var r=t.axis,n=t.ticks,i=t.offset,s=t.bandSize,o=t.entry,c=t.index;if(r.type==="category")return n[c]?n[c].coordinate+i:null;var l=It(o,r.dataKey,r.domain[c]);return qe(l)?null:r.scale(l)-s/2+i},LY=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return i<=0&&s>=0?0:s<0?s:i}return n[0]},FY=function(t,r){var n,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Et(Et({},t.type.defaultProps),t.props):t.props,s=i.stackId;if(Gt(s)){var o=r[s];if(o){var c=o.items.indexOf(t);return c>=0?o.stackedData[c]:null}}return null},BY=function(t){return t.reduce(function(r,n){return[If(n.concat([r[0]]).filter(pe)),Da(n.concat([r[1]]).filter(pe))]},[1/0,-1/0])},H_=function(t,r,n){return Object.keys(t).reduce(function(i,s){var o=t[s],c=o.stackedData,l=c.reduce(function(u,d){var f=BY(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},I0=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,M0=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,fp=function(t,r,n){if(Ue(t))return t(r,n);if(!Array.isArray(t))return r;var i=[];if(pe(t[0]))i[0]=n?t[0]:Math.min(t[0],r[0]);else if(I0.test(t[0])){var s=+I0.exec(t[0])[1];i[0]=r[0]-s}else Ue(t[0])?i[0]=t[0](r[0]):i[0]=r[0];if(pe(t[1]))i[1]=n?t[1]:Math.max(t[1],r[1]);else if(M0.test(t[1])){var o=+M0.exec(t[1])[1];i[1]=r[1]+o}else Ue(t[1])?i[1]=t[1](r[1]):i[1]=r[1];return i},sd=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!n||i>0)return i}if(t&&r&&r.length>=2){for(var s=ov(r,function(f){return f.coordinate}),o=1/0,c=1,l=s.length;c<l;c++){var u=s[c],d=s[c-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},R0=function(t,r,n){return!t||!t.length||Bi(t,Fr(n,"type.defaultProps.domain"))?r:t},q_=function(t,r){var n=t.type.defaultProps?Et(Et({},t.type.defaultProps),t.props):t.props,i=n.dataKey,s=n.name,o=n.unit,c=n.formatter,l=n.tooltipType,u=n.chartType,d=n.hide;return Et(Et({},Re(t,!1)),{},{dataKey:i,unit:o,formatter:c,name:s||i,color:$v(t),value:It(r,i),type:l,payload:r,chartType:u,hide:d})};function Bc(e){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bc(e)}function L0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ta(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L0(Object(r),!0).forEach(function(n){K_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function K_(e,t,r){return t=VY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VY(e){var t=zY(e,"string");return Bc(t)=="symbol"?t:t+""}function zY(e,t){if(Bc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UY(e,t){return KY(e)||qY(e,t)||HY(e,t)||WY()}function WY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HY(e,t){if(e){if(typeof e=="string")return F0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F0(e,t)}}function F0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qY(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,c=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(l=(n=s.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return c}}function KY(e){if(Array.isArray(e))return e}var od=Math.PI/180,GY=function(t){return t*180/Math.PI},At=function(t,r,n,i){return{x:t+Math.cos(-od*i)*n,y:r+Math.sin(-od*i)*n}},G_=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},ZY=function(t,r,n,i,s){var o=t.width,c=t.height,l=t.startAngle,u=t.endAngle,d=xr(t.cx,o,o/2),f=xr(t.cy,c,c/2),h=G_(o,c,n),p=xr(t.innerRadius,h,0),g=xr(t.outerRadius,h,h*.8),m=Object.keys(r);return m.reduce(function(v,y){var b=r[y],j=b.domain,S=b.reversed,N;if(qe(b.range))i==="angleAxis"?N=[l,u]:i==="radiusAxis"&&(N=[p,g]),S&&(N=[N[1],N[0]]);else{N=b.range;var w=N,A=UY(w,2);l=A[0],u=A[1]}var O=z_(b,s),_=O.realScaleType,P=O.scale;P.domain(j).range(N),U_(P);var C=W_(P,ta(ta({},b),{},{realScaleType:_})),E=ta(ta(ta({},b),C),{},{range:N,radius:g,realScaleType:_,scale:P,cx:d,cy:f,innerRadius:p,outerRadius:g,startAngle:l,endAngle:u});return ta(ta({},v),{},K_({},y,E))},{})},XY=function(t,r){var n=t.x,i=t.y,s=r.x,o=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(i-o,2))},YY=function(t,r){var n=t.x,i=t.y,s=r.cx,o=r.cy,c=XY({x:n,y:i},{x:s,y:o});if(c<=0)return{radius:c};var l=(n-s)/c,u=Math.acos(l);return i>o&&(u=2*Math.PI-u),{radius:c,angle:GY(u),angleInRadian:u}},JY=function(t){var r=t.startAngle,n=t.endAngle,i=Math.floor(r/360),s=Math.floor(n/360),o=Math.min(i,s);return{startAngle:r-o*360,endAngle:n-o*360}},QY=function(t,r){var n=r.startAngle,i=r.endAngle,s=Math.floor(n/360),o=Math.floor(i/360),c=Math.min(s,o);return t+c*360},B0=function(t,r){var n=t.x,i=t.y,s=YY({x:n,y:i},r),o=s.radius,c=s.angle,l=r.innerRadius,u=r.outerRadius;if(o<l||o>u)return!1;if(o===0)return!0;var d=JY(r),f=d.startAngle,h=d.endAngle,p=c,g;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=f}return g?ta(ta({},r),{},{radius:o,angle:QY(p,r)}):null},Z_=function(t){return!x.isValidElement(t)&&!Ue(t)&&typeof t!="boolean"?t.className:""};function Vc(e){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vc(e)}var eJ=["offset"];function tJ(e){return iJ(e)||aJ(e)||nJ(e)||rJ()}function rJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nJ(e,t){if(e){if(typeof e=="string")return hp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hp(e,t)}}function aJ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function iJ(e){if(Array.isArray(e))return hp(e)}function hp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sJ(e,t){if(e==null)return{};var r=oJ(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oJ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function V0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Wt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V0(Object(r),!0).forEach(function(n){cJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cJ(e,t,r){return t=lJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lJ(e){var t=uJ(e,"string");return Vc(t)=="symbol"?t:t+""}function uJ(e,t){if(Vc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zc(){return zc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zc.apply(this,arguments)}var dJ=function(t){var r=t.value,n=t.formatter,i=qe(t.children)?r:t.children;return Ue(n)?n(i):i},fJ=function(t,r){var n=vr(r-t),i=Math.min(Math.abs(r-t),360);return n*i},hJ=function(t,r,n){var i=t.position,s=t.viewBox,o=t.offset,c=t.className,l=s,u=l.cx,d=l.cy,f=l.innerRadius,h=l.outerRadius,p=l.startAngle,g=l.endAngle,m=l.clockWise,v=(f+h)/2,y=fJ(p,g),b=y>=0?1:-1,j,S;i==="insideStart"?(j=p+b*o,S=m):i==="insideEnd"?(j=g-b*o,S=!m):i==="end"&&(j=g+b*o,S=m),S=y<=0?S:!S;var N=At(u,d,v,j),w=At(u,d,v,j+(S?1:-1)*359),A="M".concat(N.x,",").concat(N.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(S?0:1,`,
    `).concat(w.x,",").concat(w.y),O=qe(t.id)?Gi("recharts-radial-line-"):t.id;return I.createElement("text",zc({},n,{dominantBaseline:"central",className:Ge("recharts-radial-bar-label",c)}),I.createElement("defs",null,I.createElement("path",{id:O,d:A})),I.createElement("textPath",{xlinkHref:"#".concat(O)},r))},mJ=function(t){var r=t.viewBox,n=t.offset,i=t.position,s=r,o=s.cx,c=s.cy,l=s.innerRadius,u=s.outerRadius,d=s.startAngle,f=s.endAngle,h=(d+f)/2;if(i==="outside"){var p=At(o,c,u+n,h),g=p.x,m=p.y;return{x:g,y:m,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:c,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:c,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:c,textAnchor:"middle",verticalAnchor:"end"};var v=(l+u)/2,y=At(o,c,v,h),b=y.x,j=y.y;return{x:b,y:j,textAnchor:"middle",verticalAnchor:"middle"}},pJ=function(t){var r=t.viewBox,n=t.parentViewBox,i=t.offset,s=t.position,o=r,c=o.x,l=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*i,p=f>0?"end":"start",g=f>0?"start":"end",m=u>=0?1:-1,v=m*i,y=m>0?"end":"start",b=m>0?"start":"end";if(s==="top"){var j={x:c+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:p};return Wt(Wt({},j),n?{height:Math.max(l-n.y,0),width:u}:{})}if(s==="bottom"){var S={x:c+u/2,y:l+d+h,textAnchor:"middle",verticalAnchor:g};return Wt(Wt({},S),n?{height:Math.max(n.y+n.height-(l+d),0),width:u}:{})}if(s==="left"){var N={x:c-v,y:l+d/2,textAnchor:y,verticalAnchor:"middle"};return Wt(Wt({},N),n?{width:Math.max(N.x-n.x,0),height:d}:{})}if(s==="right"){var w={x:c+u+v,y:l+d/2,textAnchor:b,verticalAnchor:"middle"};return Wt(Wt({},w),n?{width:Math.max(n.x+n.width-w.x,0),height:d}:{})}var A=n?{width:u,height:d}:{};return s==="insideLeft"?Wt({x:c+v,y:l+d/2,textAnchor:b,verticalAnchor:"middle"},A):s==="insideRight"?Wt({x:c+u-v,y:l+d/2,textAnchor:y,verticalAnchor:"middle"},A):s==="insideTop"?Wt({x:c+u/2,y:l+h,textAnchor:"middle",verticalAnchor:g},A):s==="insideBottom"?Wt({x:c+u/2,y:l+d-h,textAnchor:"middle",verticalAnchor:p},A):s==="insideTopLeft"?Wt({x:c+v,y:l+h,textAnchor:b,verticalAnchor:g},A):s==="insideTopRight"?Wt({x:c+u-v,y:l+h,textAnchor:y,verticalAnchor:g},A):s==="insideBottomLeft"?Wt({x:c+v,y:l+d-h,textAnchor:b,verticalAnchor:p},A):s==="insideBottomRight"?Wt({x:c+u-v,y:l+d-h,textAnchor:y,verticalAnchor:p},A):mo(s)&&(pe(s.x)||hi(s.x))&&(pe(s.y)||hi(s.y))?Wt({x:c+xr(s.x,u),y:l+xr(s.y,d),textAnchor:"end",verticalAnchor:"end"},A):Wt({x:c+u/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},A)},gJ=function(t){return"cx"in t&&pe(t.cx)};function er(e){var t=e.offset,r=t===void 0?5:t,n=sJ(e,eJ),i=Wt({offset:r},n),s=i.viewBox,o=i.position,c=i.value,l=i.children,u=i.content,d=i.className,f=d===void 0?"":d,h=i.textBreakAll;if(!s||qe(c)&&qe(l)&&!x.isValidElement(u)&&!Ue(u))return null;if(x.isValidElement(u))return x.cloneElement(u,i);var p;if(Ue(u)){if(p=x.createElement(u,i),x.isValidElement(p))return p}else p=dJ(i);var g=gJ(s),m=Re(i,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return hJ(i,p,m);var v=g?mJ(i):pJ(i);return I.createElement(Fi,zc({className:Ge("recharts-label",f)},m,v,{breakAll:h}),p)}er.displayName="Label";var X_=function(t){var r=t.cx,n=t.cy,i=t.angle,s=t.startAngle,o=t.endAngle,c=t.r,l=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,p=t.top,g=t.left,m=t.width,v=t.height,y=t.clockWise,b=t.labelViewBox;if(b)return b;if(pe(m)&&pe(v)){if(pe(f)&&pe(h))return{x:f,y:h,width:m,height:v};if(pe(p)&&pe(g))return{x:p,y:g,width:m,height:v}}return pe(f)&&pe(h)?{x:f,y:h,width:0,height:0}:pe(r)&&pe(n)?{cx:r,cy:n,startAngle:s||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:d||l||c||0,clockWise:y}:t.viewBox?t.viewBox:{}},vJ=function(t,r){return t?t===!0?I.createElement(er,{key:"label-implicit",viewBox:r}):Gt(t)?I.createElement(er,{key:"label-implicit",viewBox:r,value:t}):x.isValidElement(t)?t.type===er?x.cloneElement(t,{key:"label-implicit",viewBox:r}):I.createElement(er,{key:"label-implicit",content:t,viewBox:r}):Ue(t)?I.createElement(er,{key:"label-implicit",content:t,viewBox:r}):mo(t)?I.createElement(er,zc({viewBox:r},t,{key:"label-implicit"})):null:null},xJ=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var i=t.children,s=X_(t),o=Br(i,er).map(function(l,u){return x.cloneElement(l,{viewBox:r||s,key:"label-".concat(u)})});if(!n)return o;var c=vJ(t.label,r||s);return[c].concat(tJ(o))};er.parseViewBox=X_;er.renderCallByParent=xJ;function yJ(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var bJ=yJ;const jJ=yt(bJ);function Uc(e){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uc(e)}var wJ=["valueAccessor"],NJ=["data","dataKey","clockWise","id","textBreakAll"];function SJ(e){return kJ(e)||_J(e)||OJ(e)||AJ()}function AJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OJ(e,t){if(e){if(typeof e=="string")return mp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mp(e,t)}}function _J(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function kJ(e){if(Array.isArray(e))return mp(e)}function mp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cd(){return cd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cd.apply(this,arguments)}function z0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function U0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z0(Object(r),!0).forEach(function(n){PJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PJ(e,t,r){return t=TJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TJ(e){var t=CJ(e,"string");return Uc(t)=="symbol"?t:t+""}function CJ(e,t){if(Uc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Uc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function W0(e,t){if(e==null)return{};var r=EJ(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function EJ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var $J=function(t){return Array.isArray(t.value)?jJ(t.value):t.value};function Rn(e){var t=e.valueAccessor,r=t===void 0?$J:t,n=W0(e,wJ),i=n.data,s=n.dataKey,o=n.clockWise,c=n.id,l=n.textBreakAll,u=W0(n,NJ);return!i||!i.length?null:I.createElement(nt,{className:"recharts-label-list"},i.map(function(d,f){var h=qe(s)?r(d,f):It(d&&d.payload,s),p=qe(c)?{}:{id:"".concat(c,"-").concat(f)};return I.createElement(er,cd({},Re(d,!0),u,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:l,viewBox:er.parseViewBox(qe(o)?d:U0(U0({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Rn.displayName="LabelList";function DJ(e,t){return e?e===!0?I.createElement(Rn,{key:"labelList-implicit",data:t}):I.isValidElement(e)||Ue(e)?I.createElement(Rn,{key:"labelList-implicit",data:t,content:e}):mo(e)?I.createElement(Rn,cd({data:t},e,{key:"labelList-implicit"})):null:null}function IJ(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,i=Br(n,Rn).map(function(o,c){return x.cloneElement(o,{data:t,key:"labelList-".concat(c)})});if(!r)return i;var s=DJ(e.label,t);return[s].concat(SJ(i))}Rn.renderCallByParent=IJ;function Wc(e){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wc(e)}function pp(){return pp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pp.apply(this,arguments)}function H0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function q0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H0(Object(r),!0).forEach(function(n){MJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MJ(e,t,r){return t=RJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RJ(e){var t=LJ(e,"string");return Wc(t)=="symbol"?t:t+""}function LJ(e,t){if(Wc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FJ=function(t,r){var n=vr(r-t),i=Math.min(Math.abs(r-t),359.999);return n*i},Vl=function(t){var r=t.cx,n=t.cy,i=t.radius,s=t.angle,o=t.sign,c=t.isExternal,l=t.cornerRadius,u=t.cornerIsExternal,d=l*(c?1:-1)+i,f=Math.asin(l/d)/od,h=u?s:s+o*f,p=At(r,n,d,h),g=At(r,n,i,h),m=u?s-o*f:s,v=At(r,n,d*Math.cos(f*od),m);return{center:p,circleTangency:g,lineTangency:v,theta:f}},Y_=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,s=t.outerRadius,o=t.startAngle,c=t.endAngle,l=FJ(o,c),u=o+l,d=At(r,n,s,o),f=At(r,n,s,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=At(r,n,i,o),g=At(r,n,i,u);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},BJ=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,s=t.outerRadius,o=t.cornerRadius,c=t.forceCornerRadius,l=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=vr(d-u),h=Vl({cx:r,cy:n,radius:s,angle:u,sign:f,cornerRadius:o,cornerIsExternal:l}),p=h.circleTangency,g=h.lineTangency,m=h.theta,v=Vl({cx:r,cy:n,radius:s,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:l}),y=v.circleTangency,b=v.lineTangency,j=v.theta,S=l?Math.abs(u-d):Math.abs(u-d)-m-j;if(S<0)return c?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):Y_({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:u,endAngle:d});var N="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(S>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(i>0){var w=Vl({cx:r,cy:n,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),A=w.circleTangency,O=w.lineTangency,_=w.theta,P=Vl({cx:r,cy:n,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),C=P.circleTangency,E=P.lineTangency,k=P.theta,$=l?Math.abs(u-d):Math.abs(u-d)-_-k;if($<0&&o===0)return"".concat(N,"L").concat(r,",").concat(n,"Z");N+="L".concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(C.x,",").concat(C.y,`
      A`).concat(i,",").concat(i,",0,").concat(+($>180),",").concat(+(f>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,"Z")}else N+="L".concat(r,",").concat(n,"Z");return N},VJ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},J_=function(t){var r=q0(q0({},VJ),t),n=r.cx,i=r.cy,s=r.innerRadius,o=r.outerRadius,c=r.cornerRadius,l=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<s||d===f)return null;var p=Ge("recharts-sector",h),g=o-s,m=xr(c,g,0,!0),v;return m>0&&Math.abs(d-f)<360?v=BJ({cx:n,cy:i,innerRadius:s,outerRadius:o,cornerRadius:Math.min(m,g/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f}):v=Y_({cx:n,cy:i,innerRadius:s,outerRadius:o,startAngle:d,endAngle:f}),I.createElement("path",pp({},Re(r,!0),{className:p,d:v,role:"img"}))};function Hc(e){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hc(e)}function gp(){return gp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gp.apply(this,arguments)}function K0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function G0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K0(Object(r),!0).forEach(function(n){zJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zJ(e,t,r){return t=UJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UJ(e){var t=WJ(e,"string");return Hc(t)=="symbol"?t:t+""}function WJ(e,t){if(Hc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Z0={curveBasisClosed:zB,curveBasisOpen:UB,curveBasis:VB,curveBumpX:_B,curveBumpY:kB,curveLinearClosed:WB,curveLinear:Nf,curveMonotoneX:HB,curveMonotoneY:qB,curveNatural:KB,curveStep:GB,curveStepAfter:XB,curveStepBefore:ZB},zl=function(t){return t.x===+t.x&&t.y===+t.y},Bo=function(t){return t.x},Vo=function(t){return t.y},HJ=function(t,r){if(Ue(t))return t;var n="curve".concat(jf(t));return(n==="curveMonotone"||n==="curveBump")&&r?Z0["".concat(n).concat(r==="vertical"?"Y":"X")]:Z0[n]||Nf},qJ=function(t){var r=t.type,n=r===void 0?"linear":r,i=t.points,s=i===void 0?[]:i,o=t.baseLine,c=t.layout,l=t.connectNulls,u=l===void 0?!1:l,d=HJ(n,c),f=u?s.filter(function(m){return zl(m)}):s,h;if(Array.isArray(o)){var p=u?o.filter(function(m){return zl(m)}):o,g=f.map(function(m,v){return G0(G0({},m),{},{base:p[v]})});return c==="vertical"?h=El().y(Vo).x1(Bo).x0(function(m){return m.base.x}):h=El().x(Bo).y1(Vo).y0(function(m){return m.base.y}),h.defined(zl).curve(d),h(g)}return c==="vertical"&&pe(o)?h=El().y(Vo).x1(Bo).x0(o):pe(o)?h=El().x(Bo).y1(Vo).y0(o):h=qA().x(Bo).y(Vo),h.defined(zl).curve(d),h(f)},Ai=function(t){var r=t.className,n=t.points,i=t.path,s=t.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?qJ(t):i;return x.createElement("path",gp({},Re(t,!1),Eu(t),{className:Ge("recharts-curve",r),d:o,ref:s}))},Q_={exports:{}},KJ="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",GJ=KJ,ZJ=GJ;function ek(){}function tk(){}tk.resetWarningCache=ek;var XJ=function(){function e(n,i,s,o,c,l){if(l!==ZJ){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:tk,resetWarningCache:ek};return r.PropTypes=r,r};Q_.exports=XJ();var YJ=Q_.exports;const mt=yt(YJ);var JJ=Object.getOwnPropertyNames,QJ=Object.getOwnPropertySymbols,eQ=Object.prototype.hasOwnProperty;function X0(e,t){return function(n,i,s){return e(n,i,s)&&t(n,i,s)}}function Ul(e){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,i);var s=i.cache,o=s.get(r),c=s.get(n);if(o&&c)return o===n&&c===r;s.set(r,n),s.set(n,r);var l=e(r,n,i);return s.delete(r),s.delete(n),l}}function Y0(e){return JJ(e).concat(QJ(e))}var tQ=Object.hasOwn||function(e,t){return eQ.call(e,t)};function Yi(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var rQ="__v",nQ="__o",aQ="_owner",J0=Object.getOwnPropertyDescriptor,Q0=Object.keys;function iQ(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function sQ(e,t){return Yi(e.getTime(),t.getTime())}function oQ(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function cQ(e,t){return e===t}function ej(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var i=new Array(n),s=e.entries(),o,c,l=0;(o=s.next())&&!o.done;){for(var u=t.entries(),d=!1,f=0;(c=u.next())&&!c.done;){if(i[f]){f++;continue}var h=o.value,p=c.value;if(r.equals(h[0],p[0],l,f,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){d=i[f]=!0;break}f++}if(!d)return!1;l++}return!0}var lQ=Yi;function uQ(e,t,r){var n=Q0(e),i=n.length;if(Q0(t).length!==i)return!1;for(;i-- >0;)if(!rk(e,t,r,n[i]))return!1;return!0}function zo(e,t,r){var n=Y0(e),i=n.length;if(Y0(t).length!==i)return!1;for(var s,o,c;i-- >0;)if(s=n[i],!rk(e,t,r,s)||(o=J0(e,s),c=J0(t,s),(o||c)&&(!o||!c||o.configurable!==c.configurable||o.enumerable!==c.enumerable||o.writable!==c.writable)))return!1;return!0}function dQ(e,t){return Yi(e.valueOf(),t.valueOf())}function fQ(e,t){return e.source===t.source&&e.flags===t.flags}function tj(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var i=new Array(n),s=e.values(),o,c;(o=s.next())&&!o.done;){for(var l=t.values(),u=!1,d=0;(c=l.next())&&!c.done;){if(!i[d]&&r.equals(o.value,c.value,o.value,c.value,e,t,r)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function hQ(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function mQ(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function rk(e,t,r,n){return(n===aQ||n===nQ||n===rQ)&&(e.$$typeof||t.$$typeof)?!0:tQ(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var pQ="[object Arguments]",gQ="[object Boolean]",vQ="[object Date]",xQ="[object Error]",yQ="[object Map]",bQ="[object Number]",jQ="[object Object]",wQ="[object RegExp]",NQ="[object Set]",SQ="[object String]",AQ="[object URL]",OQ=Array.isArray,rj=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,nj=Object.assign,_Q=Object.prototype.toString.call.bind(Object.prototype.toString);function kQ(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,i=e.areFunctionsEqual,s=e.areMapsEqual,o=e.areNumbersEqual,c=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(g,m,v){if(g===m)return!0;if(g==null||m==null)return!1;var y=typeof g;if(y!==typeof m)return!1;if(y!=="object")return y==="number"?o(g,m,v):y==="function"?i(g,m,v):!1;var b=g.constructor;if(b!==m.constructor)return!1;if(b===Object)return c(g,m,v);if(OQ(g))return t(g,m,v);if(rj!=null&&rj(g))return f(g,m,v);if(b===Date)return r(g,m,v);if(b===RegExp)return u(g,m,v);if(b===Map)return s(g,m,v);if(b===Set)return d(g,m,v);var j=_Q(g);return j===vQ?r(g,m,v):j===wQ?u(g,m,v):j===yQ?s(g,m,v):j===NQ?d(g,m,v):j===jQ?typeof g.then!="function"&&typeof m.then!="function"&&c(g,m,v):j===AQ?h(g,m,v):j===xQ?n(g,m,v):j===pQ?c(g,m,v):j===gQ||j===bQ||j===SQ?l(g,m,v):!1}}function PQ(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,i={areArraysEqual:n?zo:iQ,areDatesEqual:sQ,areErrorsEqual:oQ,areFunctionsEqual:cQ,areMapsEqual:n?X0(ej,zo):ej,areNumbersEqual:lQ,areObjectsEqual:n?zo:uQ,arePrimitiveWrappersEqual:dQ,areRegExpsEqual:fQ,areSetsEqual:n?X0(tj,zo):tj,areTypedArraysEqual:n?zo:hQ,areUrlsEqual:mQ};if(r&&(i=nj({},i,r(i))),t){var s=Ul(i.areArraysEqual),o=Ul(i.areMapsEqual),c=Ul(i.areObjectsEqual),l=Ul(i.areSetsEqual);i=nj({},i,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:c,areSetsEqual:l})}return i}function TQ(e){return function(t,r,n,i,s,o,c){return e(t,r,c)}}function CQ(e){var t=e.circular,r=e.comparator,n=e.createState,i=e.equals,s=e.strict;if(n)return function(l,u){var d=n(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,p=d.meta;return r(l,u,{cache:h,equals:i,meta:p,strict:s})};if(t)return function(l,u){return r(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var o={cache:void 0,equals:i,meta:void 0,strict:s};return function(l,u){return r(l,u,o)}}var EQ=ei();ei({strict:!0});ei({circular:!0});ei({circular:!0,strict:!0});ei({createInternalComparator:function(){return Yi}});ei({strict:!0,createInternalComparator:function(){return Yi}});ei({circular:!0,createInternalComparator:function(){return Yi}});ei({circular:!0,createInternalComparator:function(){return Yi},strict:!0});function ei(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,i=e.createState,s=e.strict,o=s===void 0?!1:s,c=PQ(e),l=kQ(c),u=n?n(l):TQ(l);return CQ({circular:r,comparator:l,createState:i,equals:u,strict:o})}function $Q(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function aj(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(s){r<0&&(r=s),s-r>t?(e(s),r=-1):$Q(i)};requestAnimationFrame(n)}function vp(e){"@babel/helpers - typeof";return vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vp(e)}function DQ(e){return LQ(e)||RQ(e)||MQ(e)||IQ()}function IQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MQ(e,t){if(e){if(typeof e=="string")return ij(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ij(e,t)}}function ij(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function RQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function LQ(e){if(Array.isArray(e))return e}function FQ(){var e={},t=function(){return null},r=!1,n=function i(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,c=DQ(o),l=c[0],u=c.slice(1);if(typeof l=="number"){aj(i.bind(null,u),l);return}i(l),aj(i.bind(null,u));return}vp(s)==="object"&&(e=s,t(e)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return t=s,function(){t=function(){return null}}}}}function qc(e){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qc(e)}function sj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function oj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sj(Object(r),!0).forEach(function(n){nk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nk(e,t,r){return t=BQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BQ(e){var t=VQ(e,"string");return qc(t)==="symbol"?t:String(t)}function VQ(e,t){if(qc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zQ=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,i){return n.filter(function(s){return i.includes(s)})})},UQ=function(t){return t},WQ=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},ec=function(t,r){return Object.keys(r).reduce(function(n,i){return oj(oj({},n),{},nk({},i,t(i,r[i])))},{})},cj=function(t,r,n){return t.map(function(i){return"".concat(WQ(i)," ").concat(r,"ms ").concat(n)}).join(",")};function HQ(e,t){return GQ(e)||KQ(e,t)||ak(e,t)||qQ()}function qQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KQ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,c=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(l=(n=s.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return c}}function GQ(e){if(Array.isArray(e))return e}function ZQ(e){return JQ(e)||YQ(e)||ak(e)||XQ()}function XQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ak(e,t){if(e){if(typeof e=="string")return xp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xp(e,t)}}function YQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function JQ(e){if(Array.isArray(e))return xp(e)}function xp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ld=1e-4,ik=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},sk=function(t,r){return t.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},lj=function(t,r){return function(n){var i=ik(t,r);return sk(i,n)}},QQ=function(t,r){return function(n){var i=ik(t,r),s=[].concat(ZQ(i.map(function(o,c){return o*c}).slice(1)),[0]);return sk(s,n)}},uj=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0],s=r[1],o=r[2],c=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,s=0,o=1,c=1;break;case"ease":i=.25,s=.1,o=.25,c=1;break;case"ease-in":i=.42,s=0,o=1,c=1;break;case"ease-out":i=.42,s=0,o=.58,c=1;break;case"ease-in-out":i=0,s=0,o=.58,c=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=HQ(u,4);i=d[0],s=d[1],o=d[2],c=d[3]}}}var f=lj(i,o),h=lj(s,c),p=QQ(i,o),g=function(y){return y>1?1:y<0?0:y},m=function(y){for(var b=y>1?1:y,j=b,S=0;S<8;++S){var N=f(j)-b,w=p(j);if(Math.abs(N-b)<ld||w<ld)return h(j);j=g(j-N/w)}return h(j)};return m.isStepper=!1,m},eee=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,i=t.damping,s=i===void 0?8:i,o=t.dt,c=o===void 0?17:o,l=function(d,f,h){var p=-(d-f)*n,g=h*s,m=h+(p-g)*c/1e3,v=h*c/1e3+d;return Math.abs(v-f)<ld&&Math.abs(m)<ld?[f,0]:[v,m]};return l.isStepper=!0,l.dt=c,l},tee=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return uj(i);case"spring":return eee();default:if(i.split("(")[0]==="cubic-bezier")return uj(i)}return typeof i=="function"?i:null};function Kc(e){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kc(e)}function dj(e){return aee(e)||nee(e)||ok(e)||ree()}function ree(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nee(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function aee(e){if(Array.isArray(e))return bp(e)}function fj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ar(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fj(Object(r),!0).forEach(function(n){yp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yp(e,t,r){return t=iee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iee(e){var t=see(e,"string");return Kc(t)==="symbol"?t:String(t)}function see(e,t){if(Kc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oee(e,t){return uee(e)||lee(e,t)||ok(e,t)||cee()}function cee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ok(e,t){if(e){if(typeof e=="string")return bp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bp(e,t)}}function bp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lee(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,c=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(l=(n=s.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return c}}function uee(e){if(Array.isArray(e))return e}var ud=function(t,r,n){return t+(r-t)*n},jp=function(t){var r=t.from,n=t.to;return r!==n},dee=function e(t,r,n){var i=ec(function(s,o){if(jp(o)){var c=t(o.from,o.to,o.velocity),l=oee(c,2),u=l[0],d=l[1];return ar(ar({},o),{},{from:u,velocity:d})}return o},r);return n<1?ec(function(s,o){return jp(o)?ar(ar({},o),{},{velocity:ud(o.velocity,i[s].velocity,n),from:ud(o.from,i[s].from,n)}):o},r):e(t,i,n-1)};const fee=function(e,t,r,n,i){var s=zQ(e,t),o=s.reduce(function(v,y){return ar(ar({},v),{},yp({},y,[e[y],t[y]]))},{}),c=s.reduce(function(v,y){return ar(ar({},v),{},yp({},y,{from:e[y],velocity:0,to:t[y]}))},{}),l=-1,u,d,f=function(){return null},h=function(){return ec(function(y,b){return b.from},c)},p=function(){return!Object.values(c).filter(jp).length},g=function(y){u||(u=y);var b=y-u,j=b/r.dt;c=dee(r,c,j),i(ar(ar(ar({},e),t),h())),u=y,p()||(l=requestAnimationFrame(f))},m=function(y){d||(d=y);var b=(y-d)/n,j=ec(function(N,w){return ud.apply(void 0,dj(w).concat([r(b)]))},o);if(i(ar(ar(ar({},e),t),j)),b<1)l=requestAnimationFrame(f);else{var S=ec(function(N,w){return ud.apply(void 0,dj(w).concat([r(1)]))},o);i(ar(ar(ar({},e),t),S))}};return f=r.isStepper?g:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Fs(e){"@babel/helpers - typeof";return Fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fs(e)}var hee=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function mee(e,t){if(e==null)return{};var r=pee(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function pee(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function zh(e){return yee(e)||xee(e)||vee(e)||gee()}function gee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vee(e,t){if(e){if(typeof e=="string")return wp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wp(e,t)}}function xee(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function yee(e){if(Array.isArray(e))return wp(e)}function wp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function hj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function an(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hj(Object(r),!0).forEach(function(n){Go(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Go(e,t,r){return t=ck(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jee(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ck(n.key),n)}}function wee(e,t,r){return t&&jee(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ck(e){var t=Nee(e,"string");return Fs(t)==="symbol"?t:String(t)}function Nee(e,t){if(Fs(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fs(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function See(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Np(e,t)}function Np(e,t){return Np=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Np(e,t)}function Aee(e){var t=Oee();return function(){var n=dd(e),i;if(t){var s=dd(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return Sp(this,i)}}function Sp(e,t){if(t&&(Fs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ap(e)}function Ap(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oee(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function dd(e){return dd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dd(e)}var yn=function(e){See(r,e);var t=Aee(r);function r(n,i){var s;bee(this,r),s=t.call(this,n,i);var o=s.props,c=o.isActive,l=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,p=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(Ap(s)),s.changeStyle=s.changeStyle.bind(Ap(s)),!c||p<=0)return s.state={style:{}},typeof h=="function"&&(s.state={style:d}),Sp(s);if(f&&f.length)s.state={style:f[0].style};else if(u){if(typeof h=="function")return s.state={style:u},Sp(s);s.state={style:l?Go({},l,u):u}}else s.state={style:{}};return s}return wee(r,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,o=i.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isActive,c=s.canBegin,l=s.attributeName,u=s.shouldReAnimate,d=s.to,f=s.from,h=this.state.style;if(c){if(!o){var p={style:l?Go({},l,d):d};this.state&&h&&(l&&h[l]!==d||!l&&h!==d)&&this.setState(p);return}if(!(EQ(i.to,d)&&i.canBegin&&i.isActive)){var g=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=g||u?f:i.to;if(this.state&&h){var v={style:l?Go({},l,m):m};(l&&h[l]!==m||!l&&h!==m)&&this.setState(v)}this.runAnimation(an(an({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,o=i.from,c=i.to,l=i.duration,u=i.easing,d=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,p=fee(o,c,tee(u),l,this.changeStyle),g=function(){s.stopJSAnimation=p()};this.manager.start([h,d,g,l,f])}},{key:"runStepAnimation",value:function(i){var s=this,o=i.steps,c=i.begin,l=i.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,p=function(m,v,y){if(y===0)return m;var b=v.duration,j=v.easing,S=j===void 0?"ease":j,N=v.style,w=v.properties,A=v.onAnimationEnd,O=y>0?o[y-1]:v,_=w||Object.keys(N);if(typeof S=="function"||S==="spring")return[].concat(zh(m),[s.runJSAnimation.bind(s,{from:O.style,to:N,duration:b,easing:S}),b]);var P=cj(_,b,S),C=an(an(an({},O.style),N),{},{transition:P});return[].concat(zh(m),[C,b,A]).filter(UQ)};return this.manager.start([l].concat(zh(o.reduce(p,[d,Math.max(h,c)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=FQ());var s=i.begin,o=i.duration,c=i.attributeName,l=i.to,u=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,p=i.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var m=c?Go({},c,l):l,v=cj(Object.keys(m),o,u);g.start([d,s,an(an({},m),{},{transition:v}),o,f])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var c=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=mee(i,hee),u=x.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!c||u===0||o<=0)return s;var f=function(p){var g=p.props,m=g.style,v=m===void 0?{}:m,y=g.className,b=x.cloneElement(p,an(an({},l),{},{style:an(an({},v),d),className:y}));return b};return u===1?f(x.Children.only(s)):I.createElement("div",null,x.Children.map(s,function(h){return f(h)}))}}]),r}(x.PureComponent);yn.displayName="Animate";yn.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};yn.propTypes={from:mt.oneOfType([mt.object,mt.string]),to:mt.oneOfType([mt.object,mt.string]),attributeName:mt.string,duration:mt.number,begin:mt.number,easing:mt.oneOfType([mt.string,mt.func]),steps:mt.arrayOf(mt.shape({duration:mt.number.isRequired,style:mt.object.isRequired,easing:mt.oneOfType([mt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),mt.func]),properties:mt.arrayOf("string"),onAnimationEnd:mt.func})),children:mt.oneOfType([mt.node,mt.func]),isActive:mt.bool,canBegin:mt.bool,onAnimationEnd:mt.func,shouldReAnimate:mt.bool,onAnimationStart:mt.func,onAnimationReStart:mt.func};function Gc(e){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gc(e)}function fd(){return fd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fd.apply(this,arguments)}function _ee(e,t){return Cee(e)||Tee(e,t)||Pee(e,t)||kee()}function kee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pee(e,t){if(e){if(typeof e=="string")return mj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mj(e,t)}}function mj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Tee(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,c=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(l=(n=s.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return c}}function Cee(e){if(Array.isArray(e))return e}function pj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pj(Object(r),!0).forEach(function(n){Eee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Eee(e,t,r){return t=$ee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $ee(e){var t=Dee(e,"string");return Gc(t)=="symbol"?t:t+""}function Dee(e,t){if(Gc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vj=function(t,r,n,i,s){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),c=i>=0?1:-1,l=n>=0?1:-1,u=i>=0&&n>=0||i<0&&n<0?1:0,d;if(o>0&&s instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=s[h]>o?o:s[h];d="M".concat(t,",").concat(r+c*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+l*f[0],",").concat(r)),d+="L ".concat(t+n-l*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+c*f[1])),d+="L ".concat(t+n,",").concat(r+i-c*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-l*f[2],",").concat(r+i)),d+="L ".concat(t+l*f[3],",").concat(r+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+i-c*f[3])),d+="Z"}else if(o>0&&s===+s&&s>0){var g=Math.min(o,s);d="M ".concat(t,",").concat(r+c*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+l*g,",").concat(r,`
            L `).concat(t+n-l*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n,",").concat(r+c*g,`
            L `).concat(t+n,",").concat(r+i-c*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n-l*g,",").concat(r+i,`
            L `).concat(t+l*g,",").concat(r+i,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t,",").concat(r+i-c*g," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return d},Iee=function(t,r){if(!t||!r)return!1;var n=t.x,i=t.y,s=r.x,o=r.y,c=r.width,l=r.height;if(Math.abs(c)>0&&Math.abs(l)>0){var u=Math.min(s,s+c),d=Math.max(s,s+c),f=Math.min(o,o+l),h=Math.max(o,o+l);return n>=u&&n<=d&&i>=f&&i<=h}return!1},Mee={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Dv=function(t){var r=gj(gj({},Mee),t),n=x.useRef(),i=x.useState(-1),s=_ee(i,2),o=s[0],c=s[1];x.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&c(S)}catch{}},[]);var l=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,p=r.className,g=r.animationEasing,m=r.animationDuration,v=r.animationBegin,y=r.isAnimationActive,b=r.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var j=Ge("recharts-rectangle",p);return b?I.createElement(yn,{canBegin:o>0,from:{width:d,height:f,x:l,y:u},to:{width:d,height:f,x:l,y:u},duration:m,animationEasing:g,isActive:b},function(S){var N=S.width,w=S.height,A=S.x,O=S.y;return I.createElement(yn,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,isActive:y,easing:g},I.createElement("path",fd({},Re(r,!0),{className:j,d:vj(A,O,N,w,h),ref:n})))}):I.createElement("path",fd({},Re(r,!0),{className:j,d:vj(l,u,d,f,h)}))},Ree=["points","className","baseLinePoints","connectNulls"];function fs(){return fs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fs.apply(this,arguments)}function Lee(e,t){if(e==null)return{};var r=Fee(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Fee(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function xj(e){return Uee(e)||zee(e)||Vee(e)||Bee()}function Bee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vee(e,t){if(e){if(typeof e=="string")return Op(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Op(e,t)}}function zee(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Uee(e){if(Array.isArray(e))return Op(e)}function Op(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var yj=function(t){return t&&t.x===+t.x&&t.y===+t.y},Wee=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){yj(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),yj(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},tc=function(t,r){var n=Wee(t);r&&(n=[n.reduce(function(s,o){return[].concat(xj(s),xj(o))},[])]);var i=n.map(function(s){return s.reduce(function(o,c,l){return"".concat(o).concat(l===0?"M":"L").concat(c.x,",").concat(c.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},Hee=function(t,r,n){var i=tc(t,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(tc(r.reverse(),n).slice(1))},qee=function(t){var r=t.points,n=t.className,i=t.baseLinePoints,s=t.connectNulls,o=Lee(t,Ree);if(!r||!r.length)return null;var c=Ge("recharts-polygon",n);if(i&&i.length){var l=o.stroke&&o.stroke!=="none",u=Hee(r,i,s);return I.createElement("g",{className:c},I.createElement("path",fs({},Re(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),l?I.createElement("path",fs({},Re(o,!0),{fill:"none",d:tc(r,s)})):null,l?I.createElement("path",fs({},Re(o,!0),{fill:"none",d:tc(i,s)})):null)}var d=tc(r,s);return I.createElement("path",fs({},Re(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:c,d}))};function _p(){return _p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_p.apply(this,arguments)}var jl=function(t){var r=t.cx,n=t.cy,i=t.r,s=t.className,o=Ge("recharts-dot",s);return r===+r&&n===+n&&i===+i?x.createElement("circle",_p({},Re(t,!1),Eu(t),{className:o,cx:r,cy:n,r:i})):null};function Zc(e){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zc(e)}var Kee=["x","y","top","left","width","height","className"];function kp(){return kp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kp.apply(this,arguments)}function bj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Gee(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bj(Object(r),!0).forEach(function(n){Zee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zee(e,t,r){return t=Xee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xee(e){var t=Yee(e,"string");return Zc(t)=="symbol"?t:t+""}function Yee(e,t){if(Zc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jee(e,t){if(e==null)return{};var r=Qee(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Qee(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var ete=function(t,r,n,i,s,o){return"M".concat(t,",").concat(s,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},tte=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,s=i===void 0?0:i,o=t.top,c=o===void 0?0:o,l=t.left,u=l===void 0?0:l,d=t.width,f=d===void 0?0:d,h=t.height,p=h===void 0?0:h,g=t.className,m=Jee(t,Kee),v=Gee({x:n,y:s,top:c,left:u,width:f,height:p},m);return!pe(n)||!pe(s)||!pe(f)||!pe(p)||!pe(c)||!pe(u)?null:I.createElement("path",kp({},Re(v,!0),{className:Ge("recharts-cross",g),d:ete(n,s,f,p,c,u)}))},rte=Df,nte=b_,ate=Gn;function ite(e,t){return e&&e.length?rte(e,ate(t),nte):void 0}var ste=ite;const ote=yt(ste);var cte=Df,lte=Gn,ute=j_;function dte(e,t){return e&&e.length?cte(e,lte(t),ute):void 0}var fte=dte;const hte=yt(fte);var mte=["cx","cy","angle","ticks","axisLine"],pte=["ticks","tick","angle","tickFormatter","stroke"];function Bs(e){"@babel/helpers - typeof";return Bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bs(e)}function rc(){return rc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rc.apply(this,arguments)}function jj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ni(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jj(Object(r),!0).forEach(function(n){Lf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wj(e,t){if(e==null)return{};var r=gte(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gte(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function vte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uk(n.key),n)}}function xte(e,t,r){return t&&Nj(e.prototype,t),r&&Nj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function yte(e,t,r){return t=hd(t),bte(e,lk()?Reflect.construct(t,r||[],hd(e).constructor):t.apply(e,r))}function bte(e,t){if(t&&(Bs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jte(e)}function jte(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lk=function(){return!!e})()}function hd(e){return hd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hd(e)}function wte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pp(e,t)}function Pp(e,t){return Pp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Pp(e,t)}function Lf(e,t,r){return t=uk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uk(e){var t=Nte(e,"string");return Bs(t)=="symbol"?t:t+""}function Nte(e,t){if(Bs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ff=function(e){function t(){return vte(this,t),yte(this,t,arguments)}return wte(t,e),xte(t,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,s=this.props,o=s.angle,c=s.cx,l=s.cy;return At(c,l,i,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,s=n.cy,o=n.angle,c=n.ticks,l=ote(c,function(d){return d.coordinate||0}),u=hte(c,function(d){return d.coordinate||0});return{cx:i,cy:s,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,s=n.cy,o=n.angle,c=n.ticks,l=n.axisLine,u=wj(n,mte),d=c.reduce(function(g,m){return[Math.min(g[0],m.coordinate),Math.max(g[1],m.coordinate)]},[1/0,-1/0]),f=At(i,s,d[0],o),h=At(i,s,d[1],o),p=ni(ni(ni({},Re(u,!1)),{},{fill:"none"},Re(l,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return I.createElement("line",rc({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,i=this.props,s=i.ticks,o=i.tick,c=i.angle,l=i.tickFormatter,u=i.stroke,d=wj(i,pte),f=this.getTickTextAnchor(),h=Re(d,!1),p=Re(o,!1),g=s.map(function(m,v){var y=n.getTickValueCoord(m),b=ni(ni(ni(ni({textAnchor:f,transform:"rotate(".concat(90-c,", ").concat(y.x,", ").concat(y.y,")")},h),{},{stroke:"none",fill:u},p),{},{index:v},y),{},{payload:m});return I.createElement(nt,rc({className:Ge("recharts-polar-radius-axis-tick",Z_(o)),key:"tick-".concat(m.coordinate)},Li(n.props,m,v)),t.renderTickItem(o,b,l?l(m.value,v):m.value))});return I.createElement(nt,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,i=n.ticks,s=n.axisLine,o=n.tick;return!i||!i.length?null:I.createElement(nt,{className:Ge("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),o&&this.renderTicks(),er.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,s){var o;return I.isValidElement(n)?o=I.cloneElement(n,i):Ue(n)?o=n(i):o=I.createElement(Fi,rc({},i,{className:"recharts-polar-radius-axis-tick-value"}),s),o}}])}(x.PureComponent);Lf(Ff,"displayName","PolarRadiusAxis");Lf(Ff,"axisType","radiusAxis");Lf(Ff,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Vs(e){"@babel/helpers - typeof";return Vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vs(e)}function ci(){return ci=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ci.apply(this,arguments)}function Sj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ai(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sj(Object(r),!0).forEach(function(n){Bf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ste(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Aj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fk(n.key),n)}}function Ate(e,t,r){return t&&Aj(e.prototype,t),r&&Aj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ote(e,t,r){return t=md(t),_te(e,dk()?Reflect.construct(t,r||[],md(e).constructor):t.apply(e,r))}function _te(e,t){if(t&&(Vs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kte(e)}function kte(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dk=function(){return!!e})()}function md(e){return md=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},md(e)}function Pte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tp(e,t)}function Tp(e,t){return Tp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Tp(e,t)}function Bf(e,t,r){return t=fk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fk(e){var t=Tte(e,"string");return Vs(t)=="symbol"?t:t+""}function Tte(e,t){if(Vs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Cte=Math.PI/180,Oj=1e-5,Vf=function(e){function t(){return Ste(this,t),Ote(this,t,arguments)}return Pte(t,e),Ate(t,[{key:"getTickLineCoord",value:function(n){var i=this.props,s=i.cx,o=i.cy,c=i.radius,l=i.orientation,u=i.tickSize,d=u||8,f=At(s,o,c,n.coordinate),h=At(s,o,c+(l==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,s=Math.cos(-n.coordinate*Cte),o;return s>Oj?o=i==="outer"?"start":"end":s<-Oj?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,s=n.cy,o=n.radius,c=n.axisLine,l=n.axisLineType,u=ai(ai({},Re(this.props,!1)),{},{fill:"none"},Re(c,!1));if(l==="circle")return I.createElement(jl,ci({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:s,r:o}));var d=this.props.ticks,f=d.map(function(h){return At(i,s,o,h.coordinate)});return I.createElement(qee,ci({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,s=i.ticks,o=i.tick,c=i.tickLine,l=i.tickFormatter,u=i.stroke,d=Re(this.props,!1),f=Re(o,!1),h=ai(ai({},d),{},{fill:"none"},Re(c,!1)),p=s.map(function(g,m){var v=n.getTickLineCoord(g),y=n.getTickTextAnchor(g),b=ai(ai(ai({textAnchor:y},d),{},{stroke:"none",fill:u},f),{},{index:m,payload:g,x:v.x2,y:v.y2});return I.createElement(nt,ci({className:Ge("recharts-polar-angle-axis-tick",Z_(o)),key:"tick-".concat(g.coordinate)},Li(n.props,g,m)),c&&I.createElement("line",ci({className:"recharts-polar-angle-axis-tick-line"},h,v)),o&&t.renderTickItem(o,b,l?l(g.value,m):g.value))});return I.createElement(nt,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,i=n.ticks,s=n.radius,o=n.axisLine;return s<=0||!i||!i.length?null:I.createElement(nt,{className:Ge("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,s){var o;return I.isValidElement(n)?o=I.cloneElement(n,i):Ue(n)?o=n(i):o=I.createElement(Fi,ci({},i,{className:"recharts-polar-angle-axis-tick-value"}),s),o}}])}(x.PureComponent);Bf(Vf,"displayName","PolarAngleAxis");Bf(Vf,"axisType","angleAxis");Bf(Vf,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Ete=gO,$te=Ete(Object.getPrototypeOf,Object),Dte=$te,Ite=ja,Mte=Dte,Rte=wa,Lte="[object Object]",Fte=Function.prototype,Bte=Object.prototype,hk=Fte.toString,Vte=Bte.hasOwnProperty,zte=hk.call(Object);function Ute(e){if(!Rte(e)||Ite(e)!=Lte)return!1;var t=Mte(e);if(t===null)return!0;var r=Vte.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&hk.call(r)==zte}var Wte=Ute;const Hte=yt(Wte);var qte=ja,Kte=wa,Gte="[object Boolean]";function Zte(e){return e===!0||e===!1||Kte(e)&&qte(e)==Gte}var Xte=Zte;const Yte=yt(Xte);function Xc(e){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xc(e)}function pd(){return pd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pd.apply(this,arguments)}function Jte(e,t){return rre(e)||tre(e,t)||ere(e,t)||Qte()}function Qte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ere(e,t){if(e){if(typeof e=="string")return _j(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _j(e,t)}}function _j(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tre(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,c=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(l=(n=s.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return c}}function rre(e){if(Array.isArray(e))return e}function kj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Pj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kj(Object(r),!0).forEach(function(n){nre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nre(e,t,r){return t=are(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function are(e){var t=ire(e,"string");return Xc(t)=="symbol"?t:t+""}function ire(e,t){if(Xc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tj=function(t,r,n,i,s){var o=n-i,c;return c="M ".concat(t,",").concat(r),c+="L ".concat(t+n,",").concat(r),c+="L ".concat(t+n-o/2,",").concat(r+s),c+="L ".concat(t+n-o/2-i,",").concat(r+s),c+="L ".concat(t,",").concat(r," Z"),c},sre={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ore=function(t){var r=Pj(Pj({},sre),t),n=x.useRef(),i=x.useState(-1),s=Jte(i,2),o=s[0],c=s[1];x.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var j=n.current.getTotalLength();j&&c(j)}catch{}},[]);var l=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,g=r.animationEasing,m=r.animationDuration,v=r.animationBegin,y=r.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var b=Ge("recharts-trapezoid",p);return y?I.createElement(yn,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:l,y:u},duration:m,animationEasing:g,isActive:y},function(j){var S=j.upperWidth,N=j.lowerWidth,w=j.height,A=j.x,O=j.y;return I.createElement(yn,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,easing:g},I.createElement("path",pd({},Re(r,!0),{className:b,d:Tj(A,O,S,N,w),ref:n})))}):I.createElement("g",null,I.createElement("path",pd({},Re(r,!0),{className:b,d:Tj(l,u,d,f,h)})))},cre=["option","shapeType","propTransformer","activeClassName","isActive"];function Yc(e){"@babel/helpers - typeof";return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yc(e)}function lre(e,t){if(e==null)return{};var r=ure(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ure(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Cj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cj(Object(r),!0).forEach(function(n){dre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dre(e,t,r){return t=fre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fre(e){var t=hre(e,"string");return Yc(t)=="symbol"?t:t+""}function hre(e,t){if(Yc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mre(e,t){return gd(gd({},t),e)}function pre(e,t){return e==="symbols"}function Ej(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return I.createElement(Dv,r);case"trapezoid":return I.createElement(ore,r);case"sector":return I.createElement(J_,r);case"symbols":if(pre(t))return I.createElement(Qg,r);break;default:return null}}function gre(e){return x.isValidElement(e)?e.props:e}function mk(e){var t=e.option,r=e.shapeType,n=e.propTransformer,i=n===void 0?mre:n,s=e.activeClassName,o=s===void 0?"recharts-active-shape":s,c=e.isActive,l=lre(e,cre),u;if(x.isValidElement(t))u=x.cloneElement(t,gd(gd({},l),gre(t)));else if(Ue(t))u=t(l);else if(Hte(t)&&!Yte(t)){var d=i(t,l);u=I.createElement(Ej,{shapeType:r,elementProps:d})}else{var f=l;u=I.createElement(Ej,{shapeType:r,elementProps:f})}return c?I.createElement(nt,{className:o},u):u}function zf(e,t){return t!=null&&"trapezoids"in e.props}function Uf(e,t){return t!=null&&"sectors"in e.props}function Jc(e,t){return t!=null&&"points"in e.props}function vre(e,t){var r,n,i=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,s=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return i&&s}function xre(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function yre(e,t){var r=e.x===t.x,n=e.y===t.y,i=e.z===t.z;return r&&n&&i}function bre(e,t){var r;return zf(e,t)?r=vre:Uf(e,t)?r=xre:Jc(e,t)&&(r=yre),r}function jre(e,t){var r;return zf(e,t)?r="trapezoids":Uf(e,t)?r="sectors":Jc(e,t)&&(r="points"),r}function wre(e,t){if(zf(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Uf(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Jc(e,t)?t.payload:{}}function Nre(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,i=jre(r,t),s=wre(r,t),o=n.filter(function(l,u){var d=Bi(s,l),f=r.props[i].filter(function(g){var m=bre(r,t);return m(g,t)}),h=r.props[i].indexOf(f[f.length-1]),p=u===h;return d&&p}),c=n.indexOf(o[o.length-1]);return c}var au;function zs(e){"@babel/helpers - typeof";return zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zs(e)}function hs(){return hs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hs.apply(this,arguments)}function $j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$j(Object(r),!0).forEach(function(n){Yr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$j(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sre(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gk(n.key),n)}}function Are(e,t,r){return t&&Dj(e.prototype,t),r&&Dj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ore(e,t,r){return t=vd(t),_re(e,pk()?Reflect.construct(t,r||[],vd(e).constructor):t.apply(e,r))}function _re(e,t){if(t&&(zs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kre(e)}function kre(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pk=function(){return!!e})()}function vd(e){return vd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vd(e)}function Pre(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cp(e,t)}function Cp(e,t){return Cp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Cp(e,t)}function Yr(e,t,r){return t=gk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gk(e){var t=Tre(e,"string");return zs(t)=="symbol"?t:t+""}function Tre(e,t){if(zs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Wn=function(e){function t(r){var n;return Sre(this,t),n=Ore(this,t,[r]),Yr(n,"pieRef",null),Yr(n,"sectorRefs",[]),Yr(n,"id",Gi("recharts-pie-")),Yr(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ue(i)&&i()}),Yr(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ue(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return Pre(t,e),Are(t,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.label,c=s.labelLine,l=s.dataKey,u=s.valueKey,d=Re(this.props,!1),f=Re(o,!1),h=Re(c,!1),p=o&&o.offsetRadius||20,g=n.map(function(m,v){var y=(m.startAngle+m.endAngle)/2,b=At(m.cx,m.cy,m.outerRadius+p,y),j=wt(wt(wt(wt({},d),m),{},{stroke:"none"},f),{},{index:v,textAnchor:t.getTextAnchor(b.x,m.cx)},b),S=wt(wt(wt(wt({},d),m),{},{fill:"none",stroke:m.fill},h),{},{index:v,points:[At(m.cx,m.cy,m.outerRadius,y),b]}),N=l;return qe(l)&&qe(u)?N="value":qe(l)&&(N=u),I.createElement(nt,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(v)},c&&t.renderLabelLineItem(c,S,"line"),t.renderLabelItem(o,j,It(m,N)))});return I.createElement(nt,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(n){var i=this,s=this.props,o=s.activeShape,c=s.blendStroke,l=s.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=i.isActiveIndex(d),h=l&&i.hasActiveIndex()?l:null,p=f?o:h,g=wt(wt({},u),{},{stroke:c?u.fill:u.stroke,tabIndex:-1});return I.createElement(nt,hs({ref:function(v){v&&!i.sectorRefs.includes(v)&&i.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},Li(i.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),I.createElement(mk,hs({option:p,isActive:f,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,s=i.sectors,o=i.isAnimationActive,c=i.animationBegin,l=i.animationDuration,u=i.animationEasing,d=i.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return I.createElement(yn,{begin:c,duration:l,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var m=g.t,v=[],y=s&&s[0],b=y.startAngle;return s.forEach(function(j,S){var N=h&&h[S],w=S>0?Fr(j,"paddingAngle",0):0;if(N){var A=qt(N.endAngle-N.startAngle,j.endAngle-j.startAngle),O=wt(wt({},j),{},{startAngle:b+w,endAngle:b+A(m)+w});v.push(O),b=O.endAngle}else{var _=j.endAngle,P=j.startAngle,C=qt(0,_-P),E=C(m),k=wt(wt({},j),{},{startAngle:b+w,endAngle:b+E+w});v.push(k),b=k.endAngle}}),I.createElement(nt,null,n.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var c=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[c].focus(),i.setState({sectorToFocus:c});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,s=n.isAnimationActive,o=this.state.prevSectors;return s&&i&&i.length&&(!o||!Bi(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,s=i.hide,o=i.sectors,c=i.className,l=i.label,u=i.cx,d=i.cy,f=i.innerRadius,h=i.outerRadius,p=i.isAnimationActive,g=this.state.isAnimationFinished;if(s||!o||!o.length||!pe(u)||!pe(d)||!pe(f)||!pe(h))return null;var m=Ge("recharts-pie",c);return I.createElement(nt,{tabIndex:this.props.rootTabIndex,className:m,ref:function(y){n.pieRef=y}},this.renderSectors(),l&&this.renderLabels(o),er.renderCallByParent(this.props,null,!1),(!p||g)&&Rn.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,s){if(I.isValidElement(n))return I.cloneElement(n,i);if(Ue(n))return n(i);var o=Ge("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return I.createElement(Ai,hs({},i,{key:s,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,i,s){if(I.isValidElement(n))return I.cloneElement(n,i);var o=s;if(Ue(n)&&(o=n(i),I.isValidElement(o)))return o;var c=Ge("recharts-pie-label-text",typeof n!="boolean"&&!Ue(n)?n.className:"");return I.createElement(Fi,hs({},i,{alignmentBaseline:"middle",className:c}),o)}}])}(x.PureComponent);au=Wn;Yr(Wn,"displayName","Pie");Yr(Wn,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Ya.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Yr(Wn,"parseDeltaAngle",function(e,t){var r=vr(t-e),n=Math.min(Math.abs(t-e),360);return r*n});Yr(Wn,"getRealPieData",function(e){var t=e.data,r=e.children,n=Re(e,!1),i=Br(r,kc);return t&&t.length?t.map(function(s,o){return wt(wt(wt({payload:s},n),s),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(s){return wt(wt({},n),s.props)}):[]});Yr(Wn,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,i=t.width,s=t.height,o=G_(i,s),c=n+xr(e.cx,i,i/2),l=r+xr(e.cy,s,s/2),u=xr(e.innerRadius,o,0),d=xr(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:c,cy:l,innerRadius:u,outerRadius:d,maxRadius:f}});Yr(Wn,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?wt(wt({},t.type.defaultProps),t.props):t.props,i=au.getRealPieData(n);if(!i||!i.length)return null;var s=n.cornerRadius,o=n.startAngle,c=n.endAngle,l=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,p=Math.abs(n.minAngle),g=au.parseCoordinateOfPie(n,r),m=au.parseDeltaAngle(o,c),v=Math.abs(m),y=u;qe(u)&&qe(f)?(pn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y="value"):qe(u)&&(pn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y=f);var b=i.filter(function(O){return It(O,y,0)!==0}).length,j=(v>=360?b:b-1)*l,S=v-b*p-j,N=i.reduce(function(O,_){var P=It(_,y,0);return O+(pe(P)?P:0)},0),w;if(N>0){var A;w=i.map(function(O,_){var P=It(O,y,0),C=It(O,d,_),E=(pe(P)?P:0)/N,k;_?k=A.endAngle+vr(m)*l*(P!==0?1:0):k=o;var $=k+vr(m)*((P!==0?p:0)+E*S),T=(k+$)/2,M=(g.innerRadius+g.outerRadius)/2,D=[{name:C,value:P,payload:O,dataKey:y,type:h}],W=At(g.cx,g.cy,M,T);return A=wt(wt(wt({percent:E,cornerRadius:s,name:C,tooltipPayload:D,midAngle:T,middleRadius:M,tooltipPosition:W},O),g),{},{value:It(O,y),startAngle:k,endAngle:$,payload:O,paddingAngle:vr(m)*l}),A})}return wt(wt({},g),{},{sectors:w,data:i})});var Cre=Math.ceil,Ere=Math.max;function $re(e,t,r,n){for(var i=-1,s=Ere(Cre((t-e)/(r||1)),0),o=Array(s);s--;)o[n?s:++i]=e,e+=r;return o}var Dre=$re,Ire=IO,Ij=1/0,Mre=17976931348623157e292;function Rre(e){if(!e)return e===0?e:0;if(e=Ire(e),e===Ij||e===-Ij){var t=e<0?-1:1;return t*Mre}return e===e?e:0}var vk=Rre,Lre=Dre,Fre=_f,Uh=vk;function Bre(e){return function(t,r,n){return n&&typeof n!="number"&&Fre(t,r,n)&&(r=n=void 0),t=Uh(t),r===void 0?(r=t,t=0):r=Uh(r),n=n===void 0?t<r?1:-1:Uh(n),Lre(t,r,n,e)}}var Vre=Bre,zre=Vre,Ure=zre(),Wre=Ure;const xd=yt(Wre);function Qc(e){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qc(e)}function Mj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Rj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mj(Object(r),!0).forEach(function(n){xk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xk(e,t,r){return t=Hre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hre(e){var t=qre(e,"string");return Qc(t)=="symbol"?t:t+""}function qre(e,t){if(Qc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kre=["Webkit","Moz","O","ms"],Gre=function(t,r){var n=t.replace(/(\w)/,function(s){return s.toUpperCase()}),i=Kre.reduce(function(s,o){return Rj(Rj({},s),{},xk({},o+n,r))},{});return i[t]=r,i};function Us(e){"@babel/helpers - typeof";return Us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Us(e)}function yd(){return yd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yd.apply(this,arguments)}function Lj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Wh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lj(Object(r),!0).forEach(function(n){Cr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zre(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bk(n.key),n)}}function Xre(e,t,r){return t&&Fj(e.prototype,t),r&&Fj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yre(e,t,r){return t=bd(t),Jre(e,yk()?Reflect.construct(t,r||[],bd(e).constructor):t.apply(e,r))}function Jre(e,t){if(t&&(Us(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qre(e)}function Qre(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yk=function(){return!!e})()}function bd(e){return bd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bd(e)}function ene(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ep(e,t)}function Ep(e,t){return Ep=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ep(e,t)}function Cr(e,t,r){return t=bk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bk(e){var t=tne(e,"string");return Us(t)=="symbol"?t:t+""}function tne(e,t){if(Us(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Us(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var rne=function(t){var r=t.data,n=t.startIndex,i=t.endIndex,s=t.x,o=t.width,c=t.travellerWidth;if(!r||!r.length)return{};var l=r.length,u=Jo().domain(xd(0,l)).range([s,s+o-c]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(i),scale:u,scaleValues:d}},Bj=function(t){return t.changedTouches&&!!t.changedTouches.length},Ws=function(e){function t(r){var n;return Zre(this,t),n=Yre(this,t,[r]),Cr(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Cr(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Cr(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,s=i.endIndex,o=i.onDragEnd,c=i.startIndex;o==null||o({endIndex:s,startIndex:c})}),n.detachDragEndListener()}),Cr(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Cr(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Cr(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Cr(n,"handleSlideDragStart",function(i){var s=Bj(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return ene(t,e),Xre(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,s=n.endX,o=this.state.scaleValues,c=this.props,l=c.gap,u=c.data,d=u.length-1,f=Math.min(i,s),h=Math.max(i,s),p=t.getIndexInRange(o,f),g=t.getIndexInRange(o,h);return{startIndex:p-p%l,endIndex:g===d?d:g-g%l}}},{key:"getTextOfTick",value:function(n){var i=this.props,s=i.data,o=i.tickFormatter,c=i.dataKey,l=It(s[n],c,n);return Ue(o)?o(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,s=i.slideMoveStartX,o=i.startX,c=i.endX,l=this.props,u=l.x,d=l.width,f=l.travellerWidth,h=l.startIndex,p=l.endIndex,g=l.onChange,m=n.pageX-s;m>0?m=Math.min(m,u+d-f-c,u+d-f-o):m<0&&(m=Math.max(m,u-o,u-c));var v=this.getIndex({startX:o+m,endX:c+m});(v.startIndex!==h||v.endIndex!==p)&&g&&g(v),this.setState({startX:o+m,endX:c+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var s=Bj(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,s=i.brushMoveStartX,o=i.movingTravellerId,c=i.endX,l=i.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,g=d.onChange,m=d.gap,v=d.data,y={startX:this.state.startX,endX:this.state.endX},b=n.pageX-s;b>0?b=Math.min(b,f+h-p-u):b<0&&(b=Math.max(b,f-u)),y[o]=u+b;var j=this.getIndex(y),S=j.startIndex,N=j.endIndex,w=function(){var O=v.length-1;return o==="startX"&&(c>l?S%m===0:N%m===0)||c<l&&N===O||o==="endX"&&(c>l?N%m===0:S%m===0)||c>l&&N===O};this.setState(Cr(Cr({},o,u+b),"brushMoveStartX",n.pageX),function(){g&&w()&&g(j)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var s=this,o=this.state,c=o.scaleValues,l=o.startX,u=o.endX,d=this.state[i],f=c.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=c.length)){var p=c[h];i==="startX"&&p>=u||i==="endX"&&p<=l||this.setState(Cr({},i,p),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,c=n.height,l=n.fill,u=n.stroke;return I.createElement("rect",{stroke:u,fill:l,x:i,y:s,width:o,height:c})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,c=n.height,l=n.data,u=n.children,d=n.padding,f=x.Children.only(u);return f?I.cloneElement(f,{x:i,y:s,width:o,height:c,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,i){var s,o,c=this,l=this.props,u=l.y,d=l.travellerWidth,f=l.height,h=l.traveller,p=l.ariaLabel,g=l.data,m=l.startIndex,v=l.endIndex,y=Math.max(n,this.props.x),b=Wh(Wh({},Re(this.props,!1)),{},{x:y,y:u,width:d,height:f}),j=p||"Min value: ".concat((s=g[m])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=g[v])===null||o===void 0?void 0:o.name);return I.createElement(nt,{tabIndex:0,role:"slider","aria-label":j,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(N){["ArrowLeft","ArrowRight"].includes(N.key)&&(N.preventDefault(),N.stopPropagation(),c.handleTravellerMoveKeyboard(N.key==="ArrowRight"?1:-1,i))},onFocus:function(){c.setState({isTravellerFocused:!0})},onBlur:function(){c.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,b))}},{key:"renderSlide",value:function(n,i){var s=this.props,o=s.y,c=s.height,l=s.stroke,u=s.travellerWidth,d=Math.min(n,i)+u,f=Math.max(Math.abs(i-n)-u,0);return I.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:o,width:f,height:c})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,s=n.endIndex,o=n.y,c=n.height,l=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,p=5,g={pointerEvents:"none",fill:u};return I.createElement(nt,{className:"recharts-brush-texts"},I.createElement(Fi,yd({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:o+c/2},g),this.getTextOfTick(i)),I.createElement(Fi,yd({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+p,y:o+c/2},g),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,i=n.data,s=n.className,o=n.children,c=n.x,l=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,g=h.endX,m=h.isTextActive,v=h.isSlideMoving,y=h.isTravellerMoving,b=h.isTravellerFocused;if(!i||!i.length||!pe(c)||!pe(l)||!pe(u)||!pe(d)||u<=0||d<=0)return null;var j=Ge("recharts-brush",s),S=I.Children.count(o)===1,N=Gre("userSelect","none");return I.createElement(nt,{className:j,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(p,g),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(g,"endX"),(m||v||y||b||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,s=n.y,o=n.width,c=n.height,l=n.stroke,u=Math.floor(s+c/2)-1;return I.createElement(I.Fragment,null,I.createElement("rect",{x:i,y:s,width:o,height:c,fill:l,stroke:"none"}),I.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),I.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var s;return I.isValidElement(n)?s=I.cloneElement(n,i):Ue(n)?s=n(i):s=t.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(n,i){var s=n.data,o=n.width,c=n.x,l=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(s!==i.prevData||u!==i.prevUpdateId)return Wh({prevData:s,prevTravellerWidth:l,prevUpdateId:u,prevX:c,prevWidth:o},s&&s.length?rne({data:s,width:o,x:c,travellerWidth:l,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||c!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([c,c+o-l]);var h=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:s,prevTravellerWidth:l,prevUpdateId:u,prevX:c,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,i){for(var s=n.length,o=0,c=s-1;c-o>1;){var l=Math.floor((o+c)/2);n[l]>i?c=l:o=l}return i>=n[c]?c:o}}])}(x.PureComponent);Cr(Ws,"displayName","Brush");Cr(Ws,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var nne=sv;function ane(e,t){var r;return nne(e,function(n,i,s){return r=t(n,i,s),!r}),!!r}var ine=ane,sne=cO,one=Gn,cne=ine,lne=Pr,une=_f;function dne(e,t,r){var n=lne(e)?sne:cne;return r&&une(e,t,r)&&(t=void 0),n(e,one(t))}var fne=dne;const hne=yt(fne);var Ln=function(t,r){var n=t.alwaysShow,i=t.ifOverflow;return n&&(i="extendDomain"),i===r},Vj=TO;function mne(e,t,r){t=="__proto__"&&Vj?Vj(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var pne=mne,gne=pne,vne=kO,xne=Gn;function yne(e,t){var r={};return t=xne(t),vne(e,function(n,i,s){gne(r,i,t(n,i,s))}),r}var bne=yne;const jne=yt(bne);function wne(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var Nne=wne,Sne=sv;function Ane(e,t){var r=!0;return Sne(e,function(n,i,s){return r=!!t(n,i,s),r}),r}var One=Ane,_ne=Nne,kne=One,Pne=Gn,Tne=Pr,Cne=_f;function Ene(e,t,r){var n=Tne(e)?_ne:kne;return r&&Cne(e,t,r)&&(t=void 0),n(e,Pne(t))}var $ne=Ene;const jk=yt($ne);var Dne=["x","y"];function el(e){"@babel/helpers - typeof";return el=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},el(e)}function $p(){return $p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$p.apply(this,arguments)}function zj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Uo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zj(Object(r),!0).forEach(function(n){Ine(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ine(e,t,r){return t=Mne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mne(e){var t=Rne(e,"string");return el(t)=="symbol"?t:t+""}function Rne(e,t){if(el(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(el(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lne(e,t){if(e==null)return{};var r=Fne(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Fne(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Bne(e,t){var r=e.x,n=e.y,i=Lne(e,Dne),s="".concat(r),o=parseInt(s,10),c="".concat(n),l=parseInt(c,10),u="".concat(t.height||i.height),d=parseInt(u,10),f="".concat(t.width||i.width),h=parseInt(f,10);return Uo(Uo(Uo(Uo(Uo({},t),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function Uj(e){return I.createElement(mk,$p({shapeType:"rectangle",propTransformer:Bne,activeClassName:"recharts-active-bar"},e))}var Vne=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof t=="number")return t;var s=pe(n)||h6(n);return s?t(n,i):(s||zi(),r)}},zne=["value","background"],wk;function Hs(e){"@babel/helpers - typeof";return Hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hs(e)}function Une(e,t){if(e==null)return{};var r=Wne(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Wne(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function jd(){return jd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jd.apply(this,arguments)}function Wj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ft(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Wj(Object(r),!0).forEach(function(n){Ia(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Sk(n.key),n)}}function qne(e,t,r){return t&&Hj(e.prototype,t),r&&Hj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Kne(e,t,r){return t=wd(t),Gne(e,Nk()?Reflect.construct(t,r||[],wd(e).constructor):t.apply(e,r))}function Gne(e,t){if(t&&(Hs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zne(e)}function Zne(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Nk=function(){return!!e})()}function wd(e){return wd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wd(e)}function Xne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dp(e,t)}function Dp(e,t){return Dp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Dp(e,t)}function Ia(e,t,r){return t=Sk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sk(e){var t=Yne(e,"string");return Hs(t)=="symbol"?t:t+""}function Yne(e,t){if(Hs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var qa=function(e){function t(){var r;Hne(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=Kne(this,t,[].concat(i)),Ia(r,"state",{isAnimationFinished:!1}),Ia(r,"id",Gi("recharts-bar-")),Ia(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Ia(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return Xne(t,e),qne(t,[{key:"renderRectanglesStatically",value:function(n){var i=this,s=this.props,o=s.shape,c=s.dataKey,l=s.activeIndex,u=s.activeBar,d=Re(this.props,!1);return n&&n.map(function(f,h){var p=h===l,g=p?u:o,m=Ft(Ft(Ft({},d),f),{},{isActive:p,option:g,index:h,dataKey:c,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return I.createElement(nt,jd({className:"recharts-bar-rectangle"},Li(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),I.createElement(Uj,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,s=i.data,o=i.layout,c=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,d=i.animationEasing,f=i.animationId,h=this.state.prevData;return I.createElement(yn,{begin:l,duration:u,isActive:c,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var g=p.t,m=s.map(function(v,y){var b=h&&h[y];if(b){var j=qt(b.x,v.x),S=qt(b.y,v.y),N=qt(b.width,v.width),w=qt(b.height,v.height);return Ft(Ft({},v),{},{x:j(g),y:S(g),width:N(g),height:w(g)})}if(o==="horizontal"){var A=qt(0,v.height),O=A(g);return Ft(Ft({},v),{},{y:v.y+v.height-O,height:O})}var _=qt(0,v.width),P=_(g);return Ft(Ft({},v),{},{width:P})});return I.createElement(nt,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,s=n.isAnimationActive,o=this.state.prevData;return s&&i&&i.length&&(!o||!Bi(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,s=i.data,o=i.dataKey,c=i.activeIndex,l=Re(this.props.background,!1);return s.map(function(u,d){u.value;var f=u.background,h=Une(u,zne);if(!f)return null;var p=Ft(Ft(Ft(Ft(Ft({},h),{},{fill:"#eee"},f),l),Li(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return I.createElement(Uj,jd({key:"background-bar-".concat(d),option:n.props.background,isActive:d===c},p))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,c=s.xAxis,l=s.yAxis,u=s.layout,d=s.children,f=Br(d,bl);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,p=function(v,y){var b=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:b,errorVal:It(v,y)}},g={clipPath:n?"url(#clipPath-".concat(i,")"):null};return I.createElement(nt,g,f.map(function(m){return I.cloneElement(m,{key:"error-bar-".concat(i,"-").concat(m.props.dataKey),data:o,xAxis:c,yAxis:l,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,s=n.data,o=n.className,c=n.xAxis,l=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,p=n.isAnimationActive,g=n.background,m=n.id;if(i||!s||!s.length)return null;var v=this.state.isAnimationFinished,y=Ge("recharts-bar",o),b=c&&c.allowDataOverflow,j=l&&l.allowDataOverflow,S=b||j,N=qe(m)?this.id:m;return I.createElement(nt,{className:y},b||j?I.createElement("defs",null,I.createElement("clipPath",{id:"clipPath-".concat(N)},I.createElement("rect",{x:b?u:u-f/2,y:j?d:d-h/2,width:b?f:f*2,height:j?h:h*2}))):null,I.createElement(nt,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(N,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,N),(!p||v)&&Rn.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(x.PureComponent);wk=qa;Ia(qa,"displayName","Bar");Ia(qa,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ya.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ia(qa,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,i=e.bandSize,s=e.xAxis,o=e.yAxis,c=e.xAxisTicks,l=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=CY(n,r);if(!p)return null;var g=t.layout,m=r.type.defaultProps,v=m!==void 0?Ft(Ft({},m),r.props):r.props,y=v.dataKey,b=v.children,j=v.minPointSize,S=g==="horizontal"?o:s,N=u?S.scale.domain():null,w=LY({numericAxis:S}),A=Br(b,kc),O=f.map(function(_,P){var C,E,k,$,T,M;u?C=EY(u[d+P],N):(C=It(_,y),Array.isArray(C)||(C=[w,C]));var D=Vne(j,wk.defaultProps.minPointSize)(C[1],P);if(g==="horizontal"){var W,R=[o.scale(C[0]),o.scale(C[1])],Y=R[0],F=R[1];E=D0({axis:s,ticks:c,bandSize:i,offset:p.offset,entry:_,index:P}),k=(W=F??Y)!==null&&W!==void 0?W:void 0,$=p.size;var ie=Y-F;if(T=Number.isNaN(ie)?0:ie,M={x:E,y:o.y,width:$,height:o.height},Math.abs(D)>0&&Math.abs(T)<Math.abs(D)){var z=vr(T||D)*(Math.abs(D)-Math.abs(T));k-=z,T+=z}}else{var H=[s.scale(C[0]),s.scale(C[1])],de=H[0],Le=H[1];if(E=de,k=D0({axis:o,ticks:l,bandSize:i,offset:p.offset,entry:_,index:P}),$=Le-de,T=p.size,M={x:s.x,y:k,width:s.width,height:T},Math.abs(D)>0&&Math.abs($)<Math.abs(D)){var he=vr($||D)*(Math.abs(D)-Math.abs($));$+=he}}return Ft(Ft(Ft({},_),{},{x:E,y:k,width:$,height:T,value:u?C:C[1],payload:_,background:M},A&&A[P]&&A[P].props),{},{tooltipPayload:[q_(r,_)],tooltipPosition:{x:E+$/2,y:k+T/2}})});return Ft({data:O,layout:g},h)});function tl(e){"@babel/helpers - typeof";return tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tl(e)}function Jne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ak(n.key),n)}}function Qne(e,t,r){return t&&qj(e.prototype,t),r&&qj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Kj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function on(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kj(Object(r),!0).forEach(function(n){Wf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wf(e,t,r){return t=Ak(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ak(e){var t=eae(e,"string");return tl(t)=="symbol"?t:t+""}function eae(e,t){if(tl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Iv=function(t,r,n,i,s){var o=t.width,c=t.height,l=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:c-n.bottom,bottomMirror:c-n.bottom},h=!!$r(u,qa);return d.reduce(function(p,g){var m=r[g],v=m.orientation,y=m.domain,b=m.padding,j=b===void 0?{}:b,S=m.mirror,N=m.reversed,w="".concat(v).concat(S?"Mirror":""),A,O,_,P,C;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var E=y[1]-y[0],k=1/0,$=m.categoricalDomain.sort(g6);if($.forEach(function(H,de){de>0&&(k=Math.min((H||0)-($[de-1]||0),k))}),Number.isFinite(k)){var T=k/E,M=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(A=T*M/2),m.padding==="no-gap"){var D=xr(t.barCategoryGap,T*M),W=T*M/2;A=W-D-(W-D)/M*D}}}i==="xAxis"?O=[n.left+(j.left||0)+(A||0),n.left+n.width-(j.right||0)-(A||0)]:i==="yAxis"?O=l==="horizontal"?[n.top+n.height-(j.bottom||0),n.top+(j.top||0)]:[n.top+(j.top||0)+(A||0),n.top+n.height-(j.bottom||0)-(A||0)]:O=m.range,N&&(O=[O[1],O[0]]);var R=z_(m,s,h),Y=R.scale,F=R.realScaleType;Y.domain(y).range(O),U_(Y);var ie=W_(Y,on(on({},m),{},{realScaleType:F}));i==="xAxis"?(C=v==="top"&&!S||v==="bottom"&&S,_=n.left,P=f[w]-C*m.height):i==="yAxis"&&(C=v==="left"&&!S||v==="right"&&S,_=f[w]-C*m.width,P=n.top);var z=on(on(on({},m),ie),{},{realScaleType:F,x:_,y:P,scale:Y,width:i==="xAxis"?n.width:m.width,height:i==="yAxis"?n.height:m.height});return z.bandSize=sd(z,ie),!m.hide&&i==="xAxis"?f[w]+=(C?-1:1)*z.height:m.hide||(f[w]+=(C?-1:1)*z.width),on(on({},p),{},Wf({},g,z))},{})},Ok=function(t,r){var n=t.x,i=t.y,s=r.x,o=r.y;return{x:Math.min(n,s),y:Math.min(i,o),width:Math.abs(s-n),height:Math.abs(o-i)}},tae=function(t){var r=t.x1,n=t.y1,i=t.x2,s=t.y2;return Ok({x:r,y:n},{x:i,y:s})},_k=function(){function e(t){Jne(this,e),this.scale=t}return Qne(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var c=this.bandwidth?this.bandwidth():0;return this.scale(r)+c}default:return this.scale(r)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],s=n[n.length-1];return i<=s?r>=i&&r<=s:r>=s&&r<=i}}],[{key:"create",value:function(r){return new e(r)}}])}();Wf(_k,"EPS",1e-4);var Mv=function(t){var r=Object.keys(t).reduce(function(n,i){return on(on({},n),{},Wf({},i,_k.create(t[i])))},{});return on(on({},r),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,c=s.position;return jne(i,function(l,u){return r[u].apply(l,{bandAware:o,position:c})})},isInRange:function(i){return jk(i,function(s,o){return r[o].isInRange(s)})}})};function rae(e){return(e%180+180)%180}var nae=function(t){var r=t.width,n=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=rae(i),o=s*Math.PI/180,c=Math.atan(n/r),l=o>c&&o<Math.PI-c?n/Math.sin(o):r/Math.cos(o);return Math.abs(l)},aae=Gn,iae=pl,sae=Af;function oae(e){return function(t,r,n){var i=Object(t);if(!iae(t)){var s=aae(r);t=sae(t),r=function(c){return s(i[c],c,i)}}var o=e(t,r,n);return o>-1?i[s?t[o]:o]:void 0}}var cae=oae,lae=vk;function uae(e){var t=lae(e),r=t%1;return t===t?r?t-r:t:0}var dae=uae,fae=wO,hae=Gn,mae=dae,pae=Math.max;function gae(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var i=r==null?0:mae(r);return i<0&&(i=pae(n+i,0)),fae(e,hae(t),i)}var vae=gae,xae=cae,yae=vae,bae=xae(yae),jae=bae;const wae=yt(jae);var Nae=y5(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),Rv=x.createContext(void 0),Lv=x.createContext(void 0),kk=x.createContext(void 0),Pk=x.createContext({}),Tk=x.createContext(void 0),Ck=x.createContext(0),Ek=x.createContext(0),Gj=function(t){var r=t.state,n=r.xAxisMap,i=r.yAxisMap,s=r.offset,o=t.clipPathId,c=t.children,l=t.width,u=t.height,d=Nae(s);return I.createElement(Rv.Provider,{value:n},I.createElement(Lv.Provider,{value:i},I.createElement(Pk.Provider,{value:s},I.createElement(kk.Provider,{value:d},I.createElement(Tk.Provider,{value:o},I.createElement(Ck.Provider,{value:u},I.createElement(Ek.Provider,{value:l},c)))))))},Sae=function(){return x.useContext(Tk)},$k=function(t){var r=x.useContext(Rv);r==null&&zi();var n=r[t];return n==null&&zi(),n},Aae=function(){var t=x.useContext(Rv);return Ea(t)},Oae=function(){var t=x.useContext(Lv),r=wae(t,function(n){return jk(n.domain,Number.isFinite)});return r||Ea(t)},Dk=function(t){var r=x.useContext(Lv);r==null&&zi();var n=r[t];return n==null&&zi(),n},_ae=function(){var t=x.useContext(kk);return t},kae=function(){return x.useContext(Pk)},Fv=function(){return x.useContext(Ek)},Bv=function(){return x.useContext(Ck)};function qs(e){"@babel/helpers - typeof";return qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qs(e)}function Pae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tae(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Mk(n.key),n)}}function Cae(e,t,r){return t&&Tae(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Eae(e,t,r){return t=Nd(t),$ae(e,Ik()?Reflect.construct(t,r||[],Nd(e).constructor):t.apply(e,r))}function $ae(e,t){if(t&&(qs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dae(e)}function Dae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ik(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ik=function(){return!!e})()}function Nd(e){return Nd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nd(e)}function Iae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ip(e,t)}function Ip(e,t){return Ip=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ip(e,t)}function Zj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Xj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zj(Object(r),!0).forEach(function(n){Vv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vv(e,t,r){return t=Mk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mk(e){var t=Mae(e,"string");return qs(t)=="symbol"?t:t+""}function Mae(e,t){if(qs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Rae(e,t){return Vae(e)||Bae(e,t)||Fae(e,t)||Lae()}function Lae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fae(e,t){if(e){if(typeof e=="string")return Yj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yj(e,t)}}function Yj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Bae(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,c=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(l=(n=s.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return c}}function Vae(e){if(Array.isArray(e))return e}function Mp(){return Mp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mp.apply(this,arguments)}var zae=function(t,r){var n;return I.isValidElement(t)?n=I.cloneElement(t,r):Ue(t)?n=t(r):n=I.createElement("line",Mp({},r,{className:"recharts-reference-line-line"})),n},Uae=function(t,r,n,i,s,o,c,l,u){var d=s.x,f=s.y,h=s.width,p=s.height;if(n){var g=u.y,m=t.y.apply(g,{position:o});if(Ln(u,"discard")&&!t.y.isInRange(m))return null;var v=[{x:d+h,y:m},{x:d,y:m}];return l==="left"?v.reverse():v}if(r){var y=u.x,b=t.x.apply(y,{position:o});if(Ln(u,"discard")&&!t.x.isInRange(b))return null;var j=[{x:b,y:f+p},{x:b,y:f}];return c==="top"?j.reverse():j}if(i){var S=u.segment,N=S.map(function(w){return t.apply(w,{position:o})});return Ln(u,"discard")&&hne(N,function(w){return!t.isInRange(w)})?null:N}return null};function Wae(e){var t=e.x,r=e.y,n=e.segment,i=e.xAxisId,s=e.yAxisId,o=e.shape,c=e.className,l=e.alwaysShow,u=Sae(),d=$k(i),f=Dk(s),h=_ae();if(!u||!h)return null;pn(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=Mv({x:d.scale,y:f.scale}),g=Gt(t),m=Gt(r),v=n&&n.length===2,y=Uae(p,g,m,v,h,e.position,d.orientation,f.orientation,e);if(!y)return null;var b=Rae(y,2),j=b[0],S=j.x,N=j.y,w=b[1],A=w.x,O=w.y,_=Ln(e,"hidden")?"url(#".concat(u,")"):void 0,P=Xj(Xj({clipPath:_},Re(e,!0)),{},{x1:S,y1:N,x2:A,y2:O});return I.createElement(nt,{className:Ge("recharts-reference-line",c)},zae(o,P),er.renderCallByParent(e,tae({x1:S,y1:N,x2:A,y2:O})))}var zv=function(e){function t(){return Pae(this,t),Eae(this,t,arguments)}return Iae(t,e),Cae(t,[{key:"render",value:function(){return I.createElement(Wae,this.props)}}])}(I.Component);Vv(zv,"displayName","ReferenceLine");Vv(zv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Rp(){return Rp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rp.apply(this,arguments)}function Ks(e){"@babel/helpers - typeof";return Ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ks(e)}function Jj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Qj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jj(Object(r),!0).forEach(function(n){Hf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qae(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Lk(n.key),n)}}function Kae(e,t,r){return t&&qae(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Gae(e,t,r){return t=Sd(t),Zae(e,Rk()?Reflect.construct(t,r||[],Sd(e).constructor):t.apply(e,r))}function Zae(e,t){if(t&&(Ks(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xae(e)}function Xae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Rk=function(){return!!e})()}function Sd(e){return Sd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sd(e)}function Yae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lp(e,t)}function Lp(e,t){return Lp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Lp(e,t)}function Hf(e,t,r){return t=Lk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lk(e){var t=Jae(e,"string");return Ks(t)=="symbol"?t:t+""}function Jae(e,t){if(Ks(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ks(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Qae=function(t){var r=t.x,n=t.y,i=t.xAxis,s=t.yAxis,o=Mv({x:i.scale,y:s.scale}),c=o.apply({x:r,y:n},{bandAware:!0});return Ln(t,"discard")&&!o.isInRange(c)?null:c},qf=function(e){function t(){return Hae(this,t),Gae(this,t,arguments)}return Yae(t,e),Kae(t,[{key:"render",value:function(){var n=this.props,i=n.x,s=n.y,o=n.r,c=n.alwaysShow,l=n.clipPathId,u=Gt(i),d=Gt(s);if(pn(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=Qae(this.props);if(!f)return null;var h=f.x,p=f.y,g=this.props,m=g.shape,v=g.className,y=Ln(this.props,"hidden")?"url(#".concat(l,")"):void 0,b=Qj(Qj({clipPath:y},Re(this.props,!0)),{},{cx:h,cy:p});return I.createElement(nt,{className:Ge("recharts-reference-dot",v)},t.renderDot(m,b),er.renderCallByParent(this.props,{x:h-o,y:p-o,width:2*o,height:2*o}))}}])}(I.Component);Hf(qf,"displayName","ReferenceDot");Hf(qf,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Hf(qf,"renderDot",function(e,t){var r;return I.isValidElement(e)?r=I.cloneElement(e,t):Ue(e)?r=e(t):r=I.createElement(jl,Rp({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function Fp(){return Fp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fp.apply(this,arguments)}function Gs(e){"@babel/helpers - typeof";return Gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gs(e)}function ew(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ew(Object(r),!0).forEach(function(n){Kf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ew(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tie(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Bk(n.key),n)}}function rie(e,t,r){return t&&tie(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function nie(e,t,r){return t=Ad(t),aie(e,Fk()?Reflect.construct(t,r||[],Ad(e).constructor):t.apply(e,r))}function aie(e,t){if(t&&(Gs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iie(e)}function iie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Fk=function(){return!!e})()}function Ad(e){return Ad=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ad(e)}function sie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bp(e,t)}function Bp(e,t){return Bp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Bp(e,t)}function Kf(e,t,r){return t=Bk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bk(e){var t=oie(e,"string");return Gs(t)=="symbol"?t:t+""}function oie(e,t){if(Gs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var cie=function(t,r,n,i,s){var o=s.x1,c=s.x2,l=s.y1,u=s.y2,d=s.xAxis,f=s.yAxis;if(!d||!f)return null;var h=Mv({x:d.scale,y:f.scale}),p={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(c,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Ln(s,"discard")&&(!h.isInRange(p)||!h.isInRange(g))?null:Ok(p,g)},Gf=function(e){function t(){return eie(this,t),nie(this,t,arguments)}return sie(t,e),rie(t,[{key:"render",value:function(){var n=this.props,i=n.x1,s=n.x2,o=n.y1,c=n.y2,l=n.className,u=n.alwaysShow,d=n.clipPathId;pn(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Gt(i),h=Gt(s),p=Gt(o),g=Gt(c),m=this.props.shape;if(!f&&!h&&!p&&!g&&!m)return null;var v=cie(f,h,p,g,this.props);if(!v&&!m)return null;var y=Ln(this.props,"hidden")?"url(#".concat(d,")"):void 0;return I.createElement(nt,{className:Ge("recharts-reference-area",l)},t.renderRect(m,tw(tw({clipPath:y},Re(this.props,!0)),v)),er.renderCallByParent(this.props,v))}}])}(I.Component);Kf(Gf,"displayName","ReferenceArea");Kf(Gf,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Kf(Gf,"renderRect",function(e,t){var r;return I.isValidElement(e)?r=I.cloneElement(e,t):Ue(e)?r=e(t):r=I.createElement(Dv,Fp({},t,{className:"recharts-reference-area-rect"})),r});function Vk(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function lie(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return nae(n,r)}function uie(e,t,r){var n=r==="width",i=e.x,s=e.y,o=e.width,c=e.height;return t===1?{start:n?i:s,end:n?i+o:s+c}:{start:n?i+o:s+c,end:n?i:s}}function Od(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-i)<=0}function die(e,t){return Vk(e,t+1)}function fie(e,t,r,n,i){for(var s=(n||[]).slice(),o=t.start,c=t.end,l=0,u=1,d=o,f=function(){var g=n==null?void 0:n[l];if(g===void 0)return{v:Vk(n,u)};var m=l,v,y=function(){return v===void 0&&(v=r(g,m)),v},b=g.coordinate,j=l===0||Od(e,b,y,d,c);j||(l=0,d=o,u+=1),j&&(d=b+e*(y()/2+i),l+=u)},h;u<=s.length;)if(h=f(),h)return h.v;return[]}function rl(e){"@babel/helpers - typeof";return rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rl(e)}function rw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function lr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rw(Object(r),!0).forEach(function(n){hie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hie(e,t,r){return t=mie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mie(e){var t=pie(e,"string");return rl(t)=="symbol"?t:t+""}function pie(e,t){if(rl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gie(e,t,r,n,i){for(var s=(n||[]).slice(),o=s.length,c=t.start,l=t.end,u=function(h){var p=s[h],g,m=function(){return g===void 0&&(g=r(p,h)),g};if(h===o-1){var v=e*(p.coordinate+e*m()/2-l);s[h]=p=lr(lr({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate})}else s[h]=p=lr(lr({},p),{},{tickCoord:p.coordinate});var y=Od(e,p.tickCoord,m,c,l);y&&(l=p.tickCoord-e*(m()/2+i),s[h]=lr(lr({},p),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return s}function vie(e,t,r,n,i,s){var o=(n||[]).slice(),c=o.length,l=t.start,u=t.end;if(s){var d=n[c-1],f=r(d,c-1),h=e*(d.coordinate+e*f/2-u);o[c-1]=d=lr(lr({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var p=Od(e,d.tickCoord,function(){return f},l,u);p&&(u=d.tickCoord-e*(f/2+i),o[c-1]=lr(lr({},d),{},{isShow:!0}))}for(var g=s?c-1:c,m=function(b){var j=o[b],S,N=function(){return S===void 0&&(S=r(j,b)),S};if(b===0){var w=e*(j.coordinate-e*N()/2-l);o[b]=j=lr(lr({},j),{},{tickCoord:w<0?j.coordinate-w*e:j.coordinate})}else o[b]=j=lr(lr({},j),{},{tickCoord:j.coordinate});var A=Od(e,j.tickCoord,N,l,u);A&&(l=j.tickCoord+e*(N()/2+i),o[b]=lr(lr({},j),{},{isShow:!0}))},v=0;v<g;v++)m(v);return o}function Uv(e,t,r){var n=e.tick,i=e.ticks,s=e.viewBox,o=e.minTickGap,c=e.orientation,l=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!i||!i.length||!n)return[];if(pe(l)||Ya.isSsr)return die(i,typeof l=="number"&&pe(l)?l:0);var h=[],p=c==="top"||c==="bottom"?"width":"height",g=d&&p==="width"?Yo(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(j,S){var N=Ue(u)?u(j.value,S):j.value;return p==="width"?lie(Yo(N,{fontSize:t,letterSpacing:r}),g,f):Yo(N,{fontSize:t,letterSpacing:r})[p]},v=i.length>=2?vr(i[1].coordinate-i[0].coordinate):1,y=uie(s,v,p);return l==="equidistantPreserveStart"?fie(v,y,m,i,o):(l==="preserveStart"||l==="preserveStartEnd"?h=vie(v,y,m,i,o,l==="preserveStartEnd"):h=gie(v,y,m,i,o),h.filter(function(b){return b.isShow}))}var xie=["viewBox"],yie=["viewBox"],bie=["ticks"];function Zs(e){"@babel/helpers - typeof";return Zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zs(e)}function ms(){return ms=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ms.apply(this,arguments)}function nw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ut(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nw(Object(r),!0).forEach(function(n){Wv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hh(e,t){if(e==null)return{};var r=jie(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jie(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function wie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Uk(n.key),n)}}function Nie(e,t,r){return t&&aw(e.prototype,t),r&&aw(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Sie(e,t,r){return t=_d(t),Aie(e,zk()?Reflect.construct(t,r||[],_d(e).constructor):t.apply(e,r))}function Aie(e,t){if(t&&(Zs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oie(e)}function Oie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zk=function(){return!!e})()}function _d(e){return _d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_d(e)}function _ie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vp(e,t)}function Vp(e,t){return Vp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Vp(e,t)}function Wv(e,t,r){return t=Uk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uk(e){var t=kie(e,"string");return Zs(t)=="symbol"?t:t+""}function kie(e,t){if(Zs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ao=function(e){function t(r){var n;return wie(this,t),n=Sie(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return _ie(t,e),Nie(t,[{key:"shouldComponentUpdate",value:function(n,i){var s=n.viewBox,o=Hh(n,xie),c=this.props,l=c.viewBox,u=Hh(c,yie);return!Ns(s,l)||!Ns(o,u)||!Ns(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,s=i.x,o=i.y,c=i.width,l=i.height,u=i.orientation,d=i.tickSize,f=i.mirror,h=i.tickMargin,p,g,m,v,y,b,j=f?-1:1,S=n.tickSize||d,N=pe(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=g=n.coordinate,v=o+ +!f*l,m=v-j*S,b=m-j*h,y=N;break;case"left":m=v=n.coordinate,g=s+ +!f*c,p=g-j*S,y=p-j*h,b=N;break;case"right":m=v=n.coordinate,g=s+ +f*c,p=g+j*S,y=p+j*h,b=N;break;default:p=g=n.coordinate,v=o+ +f*l,m=v+j*S,b=m+j*h,y=N;break}return{line:{x1:p,y1:m,x2:g,y2:v},tick:{x:y,y:b}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,o;switch(i){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,c=n.height,l=n.orientation,u=n.mirror,d=n.axisLine,f=Ut(Ut(Ut({},Re(this.props,!1)),Re(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);f=Ut(Ut({},f),{},{x1:i,y1:s+h*c,x2:i+o,y2:s+h*c})}else{var p=+(l==="left"&&!u||l==="right"&&u);f=Ut(Ut({},f),{},{x1:i+p*o,y1:s,x2:i+p*o,y2:s+c})}return I.createElement("line",ms({},f,{className:Ge("recharts-cartesian-axis-line",Fr(d,"className"))}))}},{key:"renderTicks",value:function(n,i,s){var o=this,c=this.props,l=c.tickLine,u=c.stroke,d=c.tick,f=c.tickFormatter,h=c.unit,p=Uv(Ut(Ut({},this.props),{},{ticks:n}),i,s),g=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),v=Re(this.props,!1),y=Re(d,!1),b=Ut(Ut({},v),{},{fill:"none"},Re(l,!1)),j=p.map(function(S,N){var w=o.getTickLineCoord(S),A=w.line,O=w.tick,_=Ut(Ut(Ut(Ut({textAnchor:g,verticalAnchor:m},v),{},{stroke:"none",fill:u},y),O),{},{index:N,payload:S,visibleTicksCount:p.length,tickFormatter:f});return I.createElement(nt,ms({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},Li(o.props,S,N)),l&&I.createElement("line",ms({},b,A,{className:Ge("recharts-cartesian-axis-tick-line",Fr(l,"className"))})),d&&t.renderTickItem(d,_,"".concat(Ue(f)?f(S.value,N):S.value).concat(h||"")))});return I.createElement("g",{className:"recharts-cartesian-axis-ticks"},j)}},{key:"render",value:function(){var n=this,i=this.props,s=i.axisLine,o=i.width,c=i.height,l=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var f=this.props,h=f.ticks,p=Hh(f,bie),g=h;return Ue(l)&&(g=h&&h.length>0?l(this.props):l(p)),o<=0||c<=0||!g||!g.length?null:I.createElement(nt,{className:Ge("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},s&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),er.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,s){var o,c=Ge(i.className,"recharts-cartesian-axis-tick-value");return I.isValidElement(n)?o=I.cloneElement(n,Ut(Ut({},i),{},{className:c})):Ue(n)?o=n(Ut(Ut({},i),{},{className:c})):o=I.createElement(Fi,ms({},i,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])}(x.Component);Wv(Ao,"displayName","CartesianAxis");Wv(Ao,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Pie=["x1","y1","x2","y2","key"],Tie=["offset"];function Ui(e){"@babel/helpers - typeof";return Ui=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ui(e)}function iw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iw(Object(r),!0).forEach(function(n){Cie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cie(e,t,r){return t=Eie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eie(e){var t=$ie(e,"string");return Ui(t)=="symbol"?t:t+""}function $ie(e,t){if(Ui(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ui(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gi(){return gi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gi.apply(this,arguments)}function sw(e,t){if(e==null)return{};var r=Die(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Die(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Iie=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,i=t.x,s=t.y,o=t.width,c=t.height,l=t.ry;return I.createElement("rect",{x:i,y:s,ry:l,width:o,height:c,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function Wk(e,t){var r;if(I.isValidElement(e))r=I.cloneElement(e,t);else if(Ue(e))r=e(t);else{var n=t.x1,i=t.y1,s=t.x2,o=t.y2,c=t.key,l=sw(t,Pie),u=Re(l,!1);u.offset;var d=sw(u,Tie);r=I.createElement("line",gi({},d,{x1:n,y1:i,x2:s,y2:o,fill:"none",key:c}))}return r}function Mie(e){var t=e.x,r=e.width,n=e.horizontal,i=n===void 0?!0:n,s=e.horizontalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(c,l){var u=dr(dr({},e),{},{x1:t,y1:c,x2:t+r,y2:c,key:"line-".concat(l),index:l});return Wk(i,u)});return I.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Rie(e){var t=e.y,r=e.height,n=e.vertical,i=n===void 0?!0:n,s=e.verticalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(c,l){var u=dr(dr({},e),{},{x1:c,y1:t,x2:c,y2:t+r,key:"line-".concat(l),index:l});return Wk(i,u)});return I.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Lie(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,i=e.y,s=e.width,o=e.height,c=e.horizontalPoints,l=e.horizontal,u=l===void 0?!0:l;if(!u||!t||!t.length)return null;var d=c.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var g=!d[p+1],m=g?i+o-h:d[p+1]-h;if(m<=0)return null;var v=p%t.length;return I.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:m,width:s,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return I.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Fie(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,i=e.fillOpacity,s=e.x,o=e.y,c=e.width,l=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+s-s)}).sort(function(h,p){return h-p});s!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var g=!d[p+1],m=g?s+c-h:d[p+1]-h;if(m<=0)return null;var v=p%n.length;return I.createElement("rect",{key:"react-".concat(p),x:h,y:o,width:m,height:l,stroke:"none",fill:n[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return I.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Bie=function(t,r){var n=t.xAxis,i=t.width,s=t.height,o=t.offset;return V_(Uv(dr(dr(dr({},Ao.defaultProps),n),{},{ticks:oa(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.left,o.left+o.width,r)},Vie=function(t,r){var n=t.yAxis,i=t.width,s=t.height,o=t.offset;return V_(Uv(dr(dr(dr({},Ao.defaultProps),n),{},{ticks:oa(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.top,o.top+o.height,r)},as={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function os(e){var t,r,n,i,s,o,c=Fv(),l=Bv(),u=kae(),d=dr(dr({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:as.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:as.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:as.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:as.horizontalFill,vertical:(s=e.vertical)!==null&&s!==void 0?s:as.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:as.verticalFill,x:pe(e.x)?e.x:u.left,y:pe(e.y)?e.y:u.top,width:pe(e.width)?e.width:u.width,height:pe(e.height)?e.height:u.height}),f=d.x,h=d.y,p=d.width,g=d.height,m=d.syncWithTicks,v=d.horizontalValues,y=d.verticalValues,b=Aae(),j=Oae();if(!pe(p)||p<=0||!pe(g)||g<=0||!pe(f)||f!==+f||!pe(h)||h!==+h)return null;var S=d.verticalCoordinatesGenerator||Bie,N=d.horizontalCoordinatesGenerator||Vie,w=d.horizontalPoints,A=d.verticalPoints;if((!w||!w.length)&&Ue(N)){var O=v&&v.length,_=N({yAxis:j?dr(dr({},j),{},{ticks:O?v:j.ticks}):void 0,width:c,height:l,offset:u},O?!0:m);pn(Array.isArray(_),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ui(_),"]")),Array.isArray(_)&&(w=_)}if((!A||!A.length)&&Ue(S)){var P=y&&y.length,C=S({xAxis:b?dr(dr({},b),{},{ticks:P?y:b.ticks}):void 0,width:c,height:l,offset:u},P?!0:m);pn(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ui(C),"]")),Array.isArray(C)&&(A=C)}return I.createElement("g",{className:"recharts-cartesian-grid"},I.createElement(Iie,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),I.createElement(Mie,gi({},d,{offset:u,horizontalPoints:w,xAxis:b,yAxis:j})),I.createElement(Rie,gi({},d,{offset:u,verticalPoints:A,xAxis:b,yAxis:j})),I.createElement(Lie,gi({},d,{horizontalPoints:w})),I.createElement(Fie,gi({},d,{verticalPoints:A})))}os.displayName="CartesianGrid";var zie=["type","layout","connectNulls","ref"],Uie=["key"];function Xs(e){"@babel/helpers - typeof";return Xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xs(e)}function ow(e,t){if(e==null)return{};var r=Wie(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Wie(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function nc(){return nc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nc.apply(this,arguments)}function cw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Tr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cw(Object(r),!0).forEach(function(n){cn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function is(e){return Gie(e)||Kie(e)||qie(e)||Hie()}function Hie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qie(e,t){if(e){if(typeof e=="string")return zp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zp(e,t)}}function Kie(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Gie(e){if(Array.isArray(e))return zp(e)}function zp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Zie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qk(n.key),n)}}function Xie(e,t,r){return t&&lw(e.prototype,t),r&&lw(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yie(e,t,r){return t=kd(t),Jie(e,Hk()?Reflect.construct(t,r||[],kd(e).constructor):t.apply(e,r))}function Jie(e,t){if(t&&(Xs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qie(e)}function Qie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Hk=function(){return!!e})()}function kd(e){return kd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kd(e)}function ese(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Up(e,t)}function Up(e,t){return Up=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Up(e,t)}function cn(e,t,r){return t=qk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qk(e){var t=tse(e,"string");return Xs(t)=="symbol"?t:t+""}function tse(e,t){if(Xs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Oi=function(e){function t(){var r;Zie(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=Yie(this,t,[].concat(i)),cn(r,"state",{isAnimationFinished:!0,totalLength:0}),cn(r,"generateSimpleStrokeDasharray",function(o,c){return"".concat(c,"px ").concat(o-c,"px")}),cn(r,"getStrokeDasharray",function(o,c,l){var u=l.reduce(function(y,b){return y+b});if(!u)return r.generateSimpleStrokeDasharray(c,o);for(var d=Math.floor(o/u),f=o%u,h=c-o,p=[],g=0,m=0;g<l.length;m+=l[g],++g)if(m+l[g]>f){p=[].concat(is(l.slice(0,g)),[f-m]);break}var v=p.length%2===0?[0,h]:[h];return[].concat(is(t.repeat(l,d)),is(p),v).map(function(y){return"".concat(y,"px")}).join(", ")}),cn(r,"id",Gi("recharts-line-")),cn(r,"pathRef",function(o){r.mainCurve=o}),cn(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),cn(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return ese(t,e),Xie(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.points,c=s.xAxis,l=s.yAxis,u=s.layout,d=s.children,f=Br(d,bl);if(!f)return null;var h=function(m,v){return{x:m.x,y:m.y,value:m.value,errorVal:It(m.payload,v)}},p={clipPath:n?"url(#clipPath-".concat(i,")"):null};return I.createElement(nt,p,f.map(function(g){return I.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:o,xAxis:c,yAxis:l,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,i,s){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var c=this.props,l=c.dot,u=c.points,d=c.dataKey,f=Re(this.props,!1),h=Re(l,!0),p=u.map(function(m,v){var y=Tr(Tr(Tr({key:"dot-".concat(v),r:3},f),h),{},{index:v,cx:m.x,cy:m.y,value:m.value,dataKey:d,payload:m.payload,points:u});return t.renderDotItem(l,y)}),g={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return I.createElement(nt,nc({className:"recharts-line-dots",key:"dots"},g),p)}},{key:"renderCurveStatically",value:function(n,i,s,o){var c=this.props,l=c.type,u=c.layout,d=c.connectNulls;c.ref;var f=ow(c,zie),h=Tr(Tr(Tr({},Re(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:n},o),{},{type:l,layout:u,connectNulls:d});return I.createElement(Ai,nc({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var s=this,o=this.props,c=o.points,l=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,p=o.animationId,g=o.animateNewValues,m=o.width,v=o.height,y=this.state,b=y.prevPoints,j=y.totalLength;return I.createElement(yn,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var N=S.t;if(b){var w=b.length/c.length,A=c.map(function(E,k){var $=Math.floor(k*w);if(b[$]){var T=b[$],M=qt(T.x,E.x),D=qt(T.y,E.y);return Tr(Tr({},E),{},{x:M(N),y:D(N)})}if(g){var W=qt(m*2,E.x),R=qt(v/2,E.y);return Tr(Tr({},E),{},{x:W(N),y:R(N)})}return Tr(Tr({},E),{},{x:E.x,y:E.y})});return s.renderCurveStatically(A,n,i)}var O=qt(0,j),_=O(N),P;if(l){var C="".concat(l).split(/[,\s]+/gim).map(function(E){return parseFloat(E)});P=s.getStrokeDasharray(_,j,C)}else P=s.generateSimpleStrokeDasharray(j,_);return s.renderCurveStatically(c,n,i,{strokeDasharray:P})})}},{key:"renderCurve",value:function(n,i){var s=this.props,o=s.points,c=s.isAnimationActive,l=this.state,u=l.prevPoints,d=l.totalLength;return c&&o&&o.length&&(!u&&d>0||!Bi(u,o))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(o,n,i)}},{key:"render",value:function(){var n,i=this.props,s=i.hide,o=i.dot,c=i.points,l=i.className,u=i.xAxis,d=i.yAxis,f=i.top,h=i.left,p=i.width,g=i.height,m=i.isAnimationActive,v=i.id;if(s||!c||!c.length)return null;var y=this.state.isAnimationFinished,b=c.length===1,j=Ge("recharts-line",l),S=u&&u.allowDataOverflow,N=d&&d.allowDataOverflow,w=S||N,A=qe(v)?this.id:v,O=(n=Re(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},_=O.r,P=_===void 0?3:_,C=O.strokeWidth,E=C===void 0?2:C,k=$A(o)?o:{},$=k.clipDot,T=$===void 0?!0:$,M=P*2+E;return I.createElement(nt,{className:j},S||N?I.createElement("defs",null,I.createElement("clipPath",{id:"clipPath-".concat(A)},I.createElement("rect",{x:S?h:h-p/2,y:N?f:f-g/2,width:S?p:p*2,height:N?g:g*2})),!T&&I.createElement("clipPath",{id:"clipPath-dots-".concat(A)},I.createElement("rect",{x:h-M/2,y:f-M/2,width:p+M,height:g+M}))):null,!b&&this.renderCurve(w,A),this.renderErrorBar(w,A),(b||o)&&this.renderDots(w,T,A),(!m||y)&&Rn.renderCallByParent(this.props,c))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var s=n.length%2!==0?[].concat(is(n),[0]):n,o=[],c=0;c<i;++c)o=[].concat(is(o),is(s));return o}},{key:"renderDotItem",value:function(n,i){var s;if(I.isValidElement(n))s=I.cloneElement(n,i);else if(Ue(n))s=n(i);else{var o=i.key,c=ow(i,Uie),l=Ge("recharts-line-dot",typeof n!="boolean"?n.className:"");s=I.createElement(jl,nc({key:o},c,{className:l}))}return s}}])}(x.PureComponent);cn(Oi,"displayName","Line");cn(Oi,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Ya.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});cn(Oi,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,i=e.xAxisTicks,s=e.yAxisTicks,o=e.dataKey,c=e.bandSize,l=e.displayedData,u=e.offset,d=t.layout,f=l.map(function(h,p){var g=It(h,o);return d==="horizontal"?{x:id({axis:r,ticks:i,bandSize:c,entry:h,index:p}),y:qe(g)?null:n.scale(g),value:g,payload:h}:{x:qe(g)?null:r.scale(g),y:id({axis:n,ticks:s,bandSize:c,entry:h,index:p}),value:g,payload:h}});return Tr({points:f,layout:d},u)});var rse=["layout","type","stroke","connectNulls","isRange","ref"],nse=["key"],Kk;function Ys(e){"@babel/helpers - typeof";return Ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ys(e)}function Gk(e,t){if(e==null)return{};var r=ase(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ase(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function vi(){return vi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vi.apply(this,arguments)}function uw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ka(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uw(Object(r),!0).forEach(function(n){$n(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ise(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Xk(n.key),n)}}function sse(e,t,r){return t&&dw(e.prototype,t),r&&dw(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ose(e,t,r){return t=Pd(t),cse(e,Zk()?Reflect.construct(t,r||[],Pd(e).constructor):t.apply(e,r))}function cse(e,t){if(t&&(Ys(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lse(e)}function lse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Zk=function(){return!!e})()}function Pd(e){return Pd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pd(e)}function use(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wp(e,t)}function Wp(e,t){return Wp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Wp(e,t)}function $n(e,t,r){return t=Xk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xk(e){var t=dse(e,"string");return Ys(t)=="symbol"?t:t+""}function dse(e,t){if(Ys(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ys(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Fn=function(e){function t(){var r;ise(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=ose(this,t,[].concat(i)),$n(r,"state",{isAnimationFinished:!0}),$n(r,"id",Gi("recharts-area-")),$n(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Ue(o)&&o()}),$n(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Ue(o)&&o()}),r}return use(t,e),sse(t,[{key:"renderDots",value:function(n,i,s){var o=this.props.isAnimationActive,c=this.state.isAnimationFinished;if(o&&!c)return null;var l=this.props,u=l.dot,d=l.points,f=l.dataKey,h=Re(this.props,!1),p=Re(u,!0),g=d.map(function(v,y){var b=ka(ka(ka({key:"dot-".concat(y),r:3},h),p),{},{index:y,cx:v.x,cy:v.y,dataKey:f,value:v.value,payload:v.payload,points:d});return t.renderDotItem(u,b)}),m={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return I.createElement(nt,vi({className:"recharts-area-dots"},m),g)}},{key:"renderHorizontalRect",value:function(n){var i=this.props,s=i.baseLine,o=i.points,c=i.strokeWidth,l=o[0].x,u=o[o.length-1].x,d=n*Math.abs(l-u),f=Da(o.map(function(h){return h.y||0}));return pe(s)&&typeof s=="number"?f=Math.max(s,f):s&&Array.isArray(s)&&s.length&&(f=Math.max(Da(s.map(function(h){return h.y||0})),f)),pe(f)?I.createElement("rect",{x:l<u?l:l-d,y:0,width:d,height:Math.floor(f+(c?parseInt("".concat(c),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var i=this.props,s=i.baseLine,o=i.points,c=i.strokeWidth,l=o[0].y,u=o[o.length-1].y,d=n*Math.abs(l-u),f=Da(o.map(function(h){return h.x||0}));return pe(s)&&typeof s=="number"?f=Math.max(s,f):s&&Array.isArray(s)&&s.length&&(f=Math.max(Da(s.map(function(h){return h.x||0})),f)),pe(f)?I.createElement("rect",{x:0,y:l<u?l:l-d,width:f+(c?parseInt("".concat(c),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,i,s,o){var c=this.props,l=c.layout,u=c.type,d=c.stroke,f=c.connectNulls,h=c.isRange;c.ref;var p=Gk(c,rse);return I.createElement(nt,{clipPath:s?"url(#clipPath-".concat(o,")"):null},I.createElement(Ai,vi({},Re(p,!0),{points:n,connectNulls:f,type:u,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),d!=="none"&&I.createElement(Ai,vi({},Re(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:n})),d!=="none"&&h&&I.createElement(Ai,vi({},Re(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(n,i){var s=this,o=this.props,c=o.points,l=o.baseLine,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,p=o.animationId,g=this.state,m=g.prevPoints,v=g.prevBaseLine;return I.createElement(yn,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var b=y.t;if(m){var j=m.length/c.length,S=c.map(function(O,_){var P=Math.floor(_*j);if(m[P]){var C=m[P],E=qt(C.x,O.x),k=qt(C.y,O.y);return ka(ka({},O),{},{x:E(b),y:k(b)})}return O}),N;if(pe(l)&&typeof l=="number"){var w=qt(v,l);N=w(b)}else if(qe(l)||xo(l)){var A=qt(v,0);N=A(b)}else N=l.map(function(O,_){var P=Math.floor(_*j);if(v[P]){var C=v[P],E=qt(C.x,O.x),k=qt(C.y,O.y);return ka(ka({},O),{},{x:E(b),y:k(b)})}return O});return s.renderAreaStatically(S,N,n,i)}return I.createElement(nt,null,I.createElement("defs",null,I.createElement("clipPath",{id:"animationClipPath-".concat(i)},s.renderClipRect(b))),I.createElement(nt,{clipPath:"url(#animationClipPath-".concat(i,")")},s.renderAreaStatically(c,l,n,i)))})}},{key:"renderArea",value:function(n,i){var s=this.props,o=s.points,c=s.baseLine,l=s.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return l&&o&&o.length&&(!d&&h>0||!Bi(d,o)||!Bi(f,c))?this.renderAreaWithAnimation(n,i):this.renderAreaStatically(o,c,n,i)}},{key:"render",value:function(){var n,i=this.props,s=i.hide,o=i.dot,c=i.points,l=i.className,u=i.top,d=i.left,f=i.xAxis,h=i.yAxis,p=i.width,g=i.height,m=i.isAnimationActive,v=i.id;if(s||!c||!c.length)return null;var y=this.state.isAnimationFinished,b=c.length===1,j=Ge("recharts-area",l),S=f&&f.allowDataOverflow,N=h&&h.allowDataOverflow,w=S||N,A=qe(v)?this.id:v,O=(n=Re(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},_=O.r,P=_===void 0?3:_,C=O.strokeWidth,E=C===void 0?2:C,k=$A(o)?o:{},$=k.clipDot,T=$===void 0?!0:$,M=P*2+E;return I.createElement(nt,{className:j},S||N?I.createElement("defs",null,I.createElement("clipPath",{id:"clipPath-".concat(A)},I.createElement("rect",{x:S?d:d-p/2,y:N?u:u-g/2,width:S?p:p*2,height:N?g:g*2})),!T&&I.createElement("clipPath",{id:"clipPath-dots-".concat(A)},I.createElement("rect",{x:d-M/2,y:u-M/2,width:p+M,height:g+M}))):null,b?null:this.renderArea(w,A),(o||b)&&this.renderDots(w,T,A),(!m||y)&&Rn.renderCallByParent(this.props,c))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:n.points!==i.curPoints||n.baseLine!==i.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(x.PureComponent);Kk=Fn;$n(Fn,"displayName","Area");$n(Fn,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Ya.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});$n(Fn,"getBaseValue",function(e,t,r,n){var i=e.layout,s=e.baseValue,o=t.props.baseValue,c=o??s;if(pe(c)&&typeof c=="number")return c;var l=i==="horizontal"?n:r,u=l.scale.domain();if(l.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return c==="dataMin"?f:c==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return c==="dataMin"?u[0]:c==="dataMax"?u[1]:u[0]});$n(Fn,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,i=e.yAxis,s=e.xAxisTicks,o=e.yAxisTicks,c=e.bandSize,l=e.dataKey,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=t.layout,g=u&&u.length,m=Kk.getBaseValue(t,r,n,i),v=p==="horizontal",y=!1,b=f.map(function(S,N){var w;g?w=u[d+N]:(w=It(S,l),Array.isArray(w)?y=!0:w=[m,w]);var A=w[1]==null||g&&It(S,l)==null;return v?{x:id({axis:n,ticks:s,bandSize:c,entry:S,index:N}),y:A?null:i.scale(w[1]),value:w,payload:S}:{x:A?null:n.scale(w[1]),y:id({axis:i,ticks:o,bandSize:c,entry:S,index:N}),value:w,payload:S}}),j;return g||y?j=b.map(function(S){var N=Array.isArray(S.value)?S.value[0]:null;return v?{x:S.x,y:N!=null&&S.y!=null?i.scale(N):null}:{x:N!=null?n.scale(N):null,y:S.y}}):j=v?i.scale(m):n.scale(m),ka({points:b,baseLine:j,layout:p,isRange:y},h)});$n(Fn,"renderDotItem",function(e,t){var r;if(I.isValidElement(e))r=I.cloneElement(e,t);else if(Ue(e))r=e(t);else{var n=Ge("recharts-area-dot",typeof e!="boolean"?e.className:""),i=t.key,s=Gk(t,nse);r=I.createElement(jl,vi({},s,{key:i,className:n}))}return r});function Js(e){"@babel/helpers - typeof";return Js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Js(e)}function fse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hse(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Qk(n.key),n)}}function mse(e,t,r){return t&&hse(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function pse(e,t,r){return t=Td(t),gse(e,Yk()?Reflect.construct(t,r||[],Td(e).constructor):t.apply(e,r))}function gse(e,t){if(t&&(Js(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vse(e)}function vse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Yk=function(){return!!e})()}function Td(e){return Td=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Td(e)}function xse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hp(e,t)}function Hp(e,t){return Hp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Hp(e,t)}function Jk(e,t,r){return t=Qk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qk(e){var t=yse(e,"string");return Js(t)=="symbol"?t:t+""}function yse(e,t){if(Js(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Js(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function qp(){return qp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qp.apply(this,arguments)}function bse(e){var t=e.xAxisId,r=Fv(),n=Bv(),i=$k(t);return i==null?null:x.createElement(Ao,qp({},i,{className:Ge("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return oa(o,!0)}}))}var _n=function(e){function t(){return fse(this,t),pse(this,t,arguments)}return xse(t,e),mse(t,[{key:"render",value:function(){return x.createElement(bse,this.props)}}])}(x.Component);Jk(_n,"displayName","XAxis");Jk(_n,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Qs(e){"@babel/helpers - typeof";return Qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qs(e)}function jse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wse(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rP(n.key),n)}}function Nse(e,t,r){return t&&wse(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Sse(e,t,r){return t=Cd(t),Ase(e,eP()?Reflect.construct(t,r||[],Cd(e).constructor):t.apply(e,r))}function Ase(e,t){if(t&&(Qs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ose(e)}function Ose(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eP=function(){return!!e})()}function Cd(e){return Cd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cd(e)}function _se(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kp(e,t)}function Kp(e,t){return Kp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Kp(e,t)}function tP(e,t,r){return t=rP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rP(e){var t=kse(e,"string");return Qs(t)=="symbol"?t:t+""}function kse(e,t){if(Qs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Gp(){return Gp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gp.apply(this,arguments)}var Pse=function(t){var r=t.yAxisId,n=Fv(),i=Bv(),s=Dk(r);return s==null?null:x.createElement(Ao,Gp({},s,{className:Ge("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(c){return oa(c,!0)}}))},kn=function(e){function t(){return jse(this,t),Sse(this,t,arguments)}return _se(t,e),Nse(t,[{key:"render",value:function(){return x.createElement(Pse,this.props)}}])}(x.Component);tP(kn,"displayName","YAxis");tP(kn,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function fw(e){return $se(e)||Ese(e)||Cse(e)||Tse()}function Tse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cse(e,t){if(e){if(typeof e=="string")return Zp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Zp(e,t)}}function Ese(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $se(e){if(Array.isArray(e))return Zp(e)}function Zp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Xp=function(t,r,n,i,s){var o=Br(t,zv),c=Br(t,qf),l=[].concat(fw(o),fw(c)),u=Br(t,Gf),d="".concat(i,"Id"),f=i[0],h=r;if(l.length&&(h=l.reduce(function(m,v){if(v.props[d]===n&&Ln(v.props,"extendDomain")&&pe(v.props[f])){var y=v.props[f];return[Math.min(m[0],y),Math.max(m[1],y)]}return m},h)),u.length){var p="".concat(f,"1"),g="".concat(f,"2");h=u.reduce(function(m,v){if(v.props[d]===n&&Ln(v.props,"extendDomain")&&pe(v.props[p])&&pe(v.props[g])){var y=v.props[p],b=v.props[g];return[Math.min(m[0],y,b),Math.max(m[1],y,b)]}return m},h)}return s&&s.length&&(h=s.reduce(function(m,v){return pe(v)?[Math.min(m[0],v),Math.max(m[1],v)]:m},h)),h},nP={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function s(l,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new i(d,f||l,h),g=r?r+u:u;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],p]:l._events[g].push(p):(l._events[g]=p,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function c(){this._events=new n,this._eventsCount=0}c.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},c.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,g=new Array(p);h<p;h++)g[h]=f[h].fn;return g},c.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},c.prototype.emit=function(u,d,f,h,p,g){var m=r?r+u:u;if(!this._events[m])return!1;var v=this._events[m],y=arguments.length,b,j;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,p),!0;case 6:return v.fn.call(v.context,d,f,h,p,g),!0}for(j=1,b=new Array(y-1);j<y;j++)b[j-1]=arguments[j];v.fn.apply(v.context,b)}else{var S=v.length,N;for(j=0;j<S;j++)switch(v[j].once&&this.removeListener(u,v[j].fn,void 0,!0),y){case 1:v[j].fn.call(v[j].context);break;case 2:v[j].fn.call(v[j].context,d);break;case 3:v[j].fn.call(v[j].context,d,f);break;case 4:v[j].fn.call(v[j].context,d,f,h);break;default:if(!b)for(N=1,b=new Array(y-1);N<y;N++)b[N-1]=arguments[N];v[j].fn.apply(v[j].context,b)}}return!0},c.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},c.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},c.prototype.removeListener=function(u,d,f,h){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return o(this,p),this;var g=this._events[p];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&o(this,p);else{for(var m=0,v=[],y=g.length;m<y;m++)(g[m].fn!==d||h&&!g[m].once||f&&g[m].context!==f)&&v.push(g[m]);v.length?this._events[p]=v.length===1?v[0]:v:o(this,p)}return this},c.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=r,c.EventEmitter=c,e.exports=c})(nP);var Dse=nP.exports;const Ise=yt(Dse);var qh=new Ise,Kh="recharts.syncMouseEvents";function nl(e){"@babel/helpers - typeof";return nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nl(e)}function Mse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rse(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,aP(n.key),n)}}function Lse(e,t,r){return t&&Rse(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Gh(e,t,r){return t=aP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aP(e){var t=Fse(e,"string");return nl(t)=="symbol"?t:t+""}function Fse(e,t){if(nl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Bse=function(){function e(){Mse(this,e),Gh(this,"activeIndex",0),Gh(this,"coordinateList",[]),Gh(this,"layout","horizontal")}return Lse(e,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,s=i===void 0?null:i,o=r.container,c=o===void 0?null:o,l=r.layout,u=l===void 0?null:l,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=c??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,o=i.y,c=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=s+l+u,h=o+this.offset.top+c/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function Vse(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],i=e==null?void 0:e[1];if(n&&i&&pe(n)&&pe(i))return!0}return!1}function zse(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function iP(e){var t=e.cx,r=e.cy,n=e.radius,i=e.startAngle,s=e.endAngle,o=At(t,r,n,i),c=At(t,r,n,s);return{points:[o,c],cx:t,cy:r,radius:n,startAngle:i,endAngle:s}}function Use(e,t,r){var n,i,s,o;if(e==="horizontal")n=t.x,s=n,i=r.top,o=r.top+r.height;else if(e==="vertical")i=t.y,o=i,n=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var c=t.cx,l=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=At(c,l,u,f),p=At(c,l,d,f);n=h.x,i=h.y,s=p.x,o=p.y}else return iP(t);return[{x:n,y:i},{x:s,y:o}]}function al(e){"@babel/helpers - typeof";return al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},al(e)}function hw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Wl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hw(Object(r),!0).forEach(function(n){Wse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wse(e,t,r){return t=Hse(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hse(e){var t=qse(e,"string");return al(t)=="symbol"?t:t+""}function qse(e,t){if(al(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(al(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kse(e){var t,r,n=e.element,i=e.tooltipEventType,s=e.isActive,o=e.activeCoordinate,c=e.activePayload,l=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!s||!o||h!=="ScatterChart"&&i!=="axis")return null;var g,m=Ai;if(h==="ScatterChart")g=o,m=tte;else if(h==="BarChart")g=zse(f,o,l,d),m=Dv;else if(f==="radial"){var v=iP(o),y=v.cx,b=v.cy,j=v.radius,S=v.startAngle,N=v.endAngle;g={cx:y,cy:b,startAngle:S,endAngle:N,innerRadius:j,outerRadius:j},m=J_}else g={points:Use(f,o,l)},m=Ai;var w=Wl(Wl(Wl(Wl({stroke:"#ccc",pointerEvents:"none"},l),g),Re(p,!1)),{},{payload:c,payloadIndex:u,className:Ge("recharts-tooltip-cursor",p.className)});return x.isValidElement(p)?x.cloneElement(p,w):x.createElement(m,w)}var Gse=["item"],Zse=["children","className","width","height","style","compact","title","desc"];function eo(e){"@babel/helpers - typeof";return eo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eo(e)}function ps(){return ps=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ps.apply(this,arguments)}function mw(e,t){return Jse(e)||Yse(e,t)||oP(e,t)||Xse()}function Xse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yse(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,c=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(l=(n=s.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return c}}function Jse(e){if(Array.isArray(e))return e}function pw(e,t){if(e==null)return{};var r=Qse(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Qse(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function eoe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function toe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cP(n.key),n)}}function roe(e,t,r){return t&&toe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function noe(e,t,r){return t=Ed(t),aoe(e,sP()?Reflect.construct(t,r||[],Ed(e).constructor):t.apply(e,r))}function aoe(e,t){if(t&&(eo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ioe(e)}function ioe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sP=function(){return!!e})()}function Ed(e){return Ed=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ed(e)}function soe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yp(e,t)}function Yp(e,t){return Yp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Yp(e,t)}function to(e){return loe(e)||coe(e)||oP(e)||ooe()}function ooe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oP(e,t){if(e){if(typeof e=="string")return Jp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jp(e,t)}}function coe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function loe(e){if(Array.isArray(e))return Jp(e)}function Jp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ae(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gw(Object(r),!0).forEach(function(n){ze(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ze(e,t,r){return t=cP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cP(e){var t=uoe(e,"string");return eo(t)=="symbol"?t:t+""}function uoe(e,t){if(eo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(eo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var doe={xAxis:["bottom","top"],yAxis:["left","right"]},foe={width:"100%",height:"100%"},lP={x:0,y:0};function Hl(e){return e}var hoe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},moe=function(t,r,n,i){var s=r.find(function(d){return d&&d.index===n});if(s){if(t==="horizontal")return{x:s.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:s.coordinate};if(t==="centric"){var o=s.coordinate,c=i.radius;return ae(ae(ae({},i),At(i.cx,i.cy,c,o)),{},{angle:o,radius:c})}var l=s.coordinate,u=i.angle;return ae(ae(ae({},i),At(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return lP},Zf=function(t,r){var n=r.graphicalItems,i=r.dataStartIndex,s=r.dataEndIndex,o=(n??[]).reduce(function(c,l){var u=l.props.data;return u&&u.length?[].concat(to(c),to(u)):c},[]);return o.length>0?o:t&&t.length&&pe(i)&&pe(s)?t.slice(i,s+1):[]};function uP(e){return e==="number"?[0,"auto"]:void 0}var Qp=function(t,r,n,i){var s=t.graphicalItems,o=t.tooltipAxis,c=Zf(r,t);return n<0||!s||!s.length||n>=c.length?null:s.reduce(function(l,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=f===void 0?c:f;h=Cu(p,o.dataKey,i)}else h=f&&f[n]||c[n];return h?[].concat(to(l),[q_(u,h)]):l},[])},vw=function(t,r,n,i){var s=i||{x:t.chartX,y:t.chartY},o=hoe(s,n),c=t.orderedTooltipTicks,l=t.tooltipAxis,u=t.tooltipTicks,d=AY(o,c,u,l);if(d>=0&&u){var f=u[d]&&u[d].value,h=Qp(t,r,d,f),p=moe(n,c,d,s);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},poe=function(t,r){var n=r.axes,i=r.graphicalItems,s=r.axisType,o=r.axisIdKey,c=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,p=B_(d,s);return n.reduce(function(g,m){var v,y=m.type.defaultProps!==void 0?ae(ae({},m.type.defaultProps),m.props):m.props,b=y.type,j=y.dataKey,S=y.allowDataOverflow,N=y.allowDuplicatedCategory,w=y.scale,A=y.ticks,O=y.includeHidden,_=y[o];if(g[_])return g;var P=Zf(t.data,{graphicalItems:i.filter(function(ie){var z,H=o in ie.props?ie.props[o]:(z=ie.type.defaultProps)===null||z===void 0?void 0:z[o];return H===_}),dataStartIndex:l,dataEndIndex:u}),C=P.length,E,k,$;Vse(y.domain,S,b)&&(E=fp(y.domain,null,S),p&&(b==="number"||w!=="auto")&&($=Qo(P,j,"category")));var T=uP(b);if(!E||E.length===0){var M,D=(M=y.domain)!==null&&M!==void 0?M:T;if(j){if(E=Qo(P,j,b),b==="category"&&p){var W=p6(E);N&&W?(k=E,E=xd(0,C)):N||(E=R0(D,E,m).reduce(function(ie,z){return ie.indexOf(z)>=0?ie:[].concat(to(ie),[z])},[]))}else if(b==="category")N?E=E.filter(function(ie){return ie!==""&&!qe(ie)}):E=R0(D,E,m).reduce(function(ie,z){return ie.indexOf(z)>=0||z===""||qe(z)?ie:[].concat(to(ie),[z])},[]);else if(b==="number"){var R=TY(P,i.filter(function(ie){var z,H,de=o in ie.props?ie.props[o]:(z=ie.type.defaultProps)===null||z===void 0?void 0:z[o],Le="hide"in ie.props?ie.props.hide:(H=ie.type.defaultProps)===null||H===void 0?void 0:H.hide;return de===_&&(O||!Le)}),j,s,d);R&&(E=R)}p&&(b==="number"||w!=="auto")&&($=Qo(P,j,"category"))}else p?E=xd(0,C):c&&c[_]&&c[_].hasStack&&b==="number"?E=h==="expand"?[0,1]:H_(c[_].stackGroups,l,u):E=F_(P,i.filter(function(ie){var z=o in ie.props?ie.props[o]:ie.type.defaultProps[o],H="hide"in ie.props?ie.props.hide:ie.type.defaultProps.hide;return z===_&&(O||!H)}),b,d,!0);if(b==="number")E=Xp(f,E,_,s,A),D&&(E=fp(D,E,S));else if(b==="category"&&D){var Y=D,F=E.every(function(ie){return Y.indexOf(ie)>=0});F&&(E=Y)}}return ae(ae({},g),{},ze({},_,ae(ae({},y),{},{axisType:s,domain:E,categoricalDomain:$,duplicateDomain:k,originalDomain:(v=y.domain)!==null&&v!==void 0?v:T,isCategorical:p,layout:d})))},{})},goe=function(t,r){var n=r.graphicalItems,i=r.Axis,s=r.axisType,o=r.axisIdKey,c=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=Zf(t.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:u}),p=h.length,g=B_(d,s),m=-1;return n.reduce(function(v,y){var b=y.type.defaultProps!==void 0?ae(ae({},y.type.defaultProps),y.props):y.props,j=b[o],S=uP("number");if(!v[j]){m++;var N;return g?N=xd(0,p):c&&c[j]&&c[j].hasStack?(N=H_(c[j].stackGroups,l,u),N=Xp(f,N,j,s)):(N=fp(S,F_(h,n.filter(function(w){var A,O,_=o in w.props?w.props[o]:(A=w.type.defaultProps)===null||A===void 0?void 0:A[o],P="hide"in w.props?w.props.hide:(O=w.type.defaultProps)===null||O===void 0?void 0:O.hide;return _===j&&!P}),"number",d),i.defaultProps.allowDataOverflow),N=Xp(f,N,j,s)),ae(ae({},v),{},ze({},j,ae(ae({axisType:s},i.defaultProps),{},{hide:!0,orientation:Fr(doe,"".concat(s,".").concat(m%2),null),domain:N,originalDomain:S,isCategorical:g,layout:d})))}return v},{})},voe=function(t,r){var n=r.axisType,i=n===void 0?"xAxis":n,s=r.AxisComp,o=r.graphicalItems,c=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(i,"Id"),h=Br(d,s),p={};return h&&h.length?p=poe(t,{axes:h,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:c,dataStartIndex:l,dataEndIndex:u}):o&&o.length&&(p=goe(t,{Axis:s,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:c,dataStartIndex:l,dataEndIndex:u})),p},xoe=function(t){var r=Ea(t),n=oa(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:ov(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:sd(r,n)}},xw=function(t){var r=t.children,n=t.defaultShowTooltip,i=$r(r,Ws),s=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},yoe=function(t){return!t||!t.length?!1:t.some(function(r){var n=da(r&&r.type);return n&&n.indexOf("Bar")>=0})},yw=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},boe=function(t,r){var n=t.props,i=t.graphicalItems,s=t.xAxisMap,o=s===void 0?{}:s,c=t.yAxisMap,l=c===void 0?{}:c,u=n.width,d=n.height,f=n.children,h=n.margin||{},p=$r(f,Ws),g=$r(f,wi),m=Object.keys(l).reduce(function(N,w){var A=l[w],O=A.orientation;return!A.mirror&&!A.hide?ae(ae({},N),{},ze({},O,N[O]+A.width)):N},{left:h.left||0,right:h.right||0}),v=Object.keys(o).reduce(function(N,w){var A=o[w],O=A.orientation;return!A.mirror&&!A.hide?ae(ae({},N),{},ze({},O,Fr(N,"".concat(O))+A.height)):N},{top:h.top||0,bottom:h.bottom||0}),y=ae(ae({},v),m),b=y.bottom;p&&(y.bottom+=p.props.height||Ws.defaultProps.height),g&&r&&(y=kY(y,i,n,r));var j=u-y.left-y.right,S=d-y.top-y.bottom;return ae(ae({brushBottom:b},y),{},{width:Math.max(j,0),height:Math.max(S,0)})},joe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},Xf=function(t){var r=t.chartName,n=t.GraphicalChild,i=t.defaultTooltipEventType,s=i===void 0?"axis":i,o=t.validateTooltipEventTypes,c=o===void 0?["axis"]:o,l=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(y,b){var j=b.graphicalItems,S=b.stackGroups,N=b.offset,w=b.updateId,A=b.dataStartIndex,O=b.dataEndIndex,_=y.barSize,P=y.layout,C=y.barGap,E=y.barCategoryGap,k=y.maxBarSize,$=yw(P),T=$.numericAxisName,M=$.cateAxisName,D=yoe(j),W=[];return j.forEach(function(R,Y){var F=Zf(y.data,{graphicalItems:[R],dataStartIndex:A,dataEndIndex:O}),ie=R.type.defaultProps!==void 0?ae(ae({},R.type.defaultProps),R.props):R.props,z=ie.dataKey,H=ie.maxBarSize,de=ie["".concat(T,"Id")],Le=ie["".concat(M,"Id")],he={},Te=l.reduce(function(V,ne){var se=b["".concat(ne.axisType,"Map")],Ee=ie["".concat(ne.axisType,"Id")];se&&se[Ee]||ne.axisType==="zAxis"||zi();var J=se[Ee];return ae(ae({},V),{},ze(ze({},ne.axisType,J),"".concat(ne.axisType,"Ticks"),oa(J)))},he),ce=Te[M],be=Te["".concat(M,"Ticks")],ye=S&&S[de]&&S[de].hasStack&&FY(R,S[de].stackGroups),re=da(R.type).indexOf("Bar")>=0,Ve=sd(ce,be),$e=[],rt=D&&OY({barSize:_,stackGroups:S,totalSize:joe(Te,M)});if(re){var at,ct,L=qe(H)?k:H,G=(at=(ct=sd(ce,be,!0))!==null&&ct!==void 0?ct:L)!==null&&at!==void 0?at:0;$e=_Y({barGap:C,barCategoryGap:E,bandSize:G!==Ve?G:Ve,sizeList:rt[Le],maxBarSize:L}),G!==Ve&&($e=$e.map(function(V){return ae(ae({},V),{},{position:ae(ae({},V.position),{},{offset:V.position.offset-G/2})})}))}var X=R&&R.type&&R.type.getComposedData;X&&W.push({props:ae(ae({},X(ae(ae({},Te),{},{displayedData:F,props:y,dataKey:z,item:R,bandSize:Ve,barPosition:$e,offset:N,stackedData:ye,layout:P,dataStartIndex:A,dataEndIndex:O}))),{},ze(ze(ze({key:R.key||"item-".concat(Y)},T,Te[T]),M,Te[M]),"animationId",w)),childIndex:_6(R,y.children),item:R})}),W},p=function(y,b){var j=y.props,S=y.dataStartIndex,N=y.dataEndIndex,w=y.updateId;if(!Cy({props:j}))return null;var A=j.children,O=j.layout,_=j.stackOffset,P=j.data,C=j.reverseStackOrder,E=yw(O),k=E.numericAxisName,$=E.cateAxisName,T=Br(A,n),M=RY(P,T,"".concat(k,"Id"),"".concat($,"Id"),_,C),D=l.reduce(function(ie,z){var H="".concat(z.axisType,"Map");return ae(ae({},ie),{},ze({},H,voe(j,ae(ae({},z),{},{graphicalItems:T,stackGroups:z.axisType===k&&M,dataStartIndex:S,dataEndIndex:N}))))},{}),W=boe(ae(ae({},D),{},{props:j,graphicalItems:T}),b==null?void 0:b.legendBBox);Object.keys(D).forEach(function(ie){D[ie]=d(j,D[ie],W,ie.replace("Map",""),r)});var R=D["".concat($,"Map")],Y=xoe(R),F=h(j,ae(ae({},D),{},{dataStartIndex:S,dataEndIndex:N,updateId:w,graphicalItems:T,stackGroups:M,offset:W}));return ae(ae({formattedGraphicalItems:F,graphicalItems:T,offset:W,stackGroups:M},Y),D)},g=function(v){function y(b){var j,S,N;return eoe(this,y),N=noe(this,y,[b]),ze(N,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ze(N,"accessibilityManager",new Bse),ze(N,"handleLegendBBoxUpdate",function(w){if(w){var A=N.state,O=A.dataStartIndex,_=A.dataEndIndex,P=A.updateId;N.setState(ae({legendBBox:w},p({props:N.props,dataStartIndex:O,dataEndIndex:_,updateId:P},ae(ae({},N.state),{},{legendBBox:w}))))}}),ze(N,"handleReceiveSyncEvent",function(w,A,O){if(N.props.syncId===w){if(O===N.eventEmitterSymbol&&typeof N.props.syncMethod!="function")return;N.applySyncEvent(A)}}),ze(N,"handleBrushChange",function(w){var A=w.startIndex,O=w.endIndex;if(A!==N.state.dataStartIndex||O!==N.state.dataEndIndex){var _=N.state.updateId;N.setState(function(){return ae({dataStartIndex:A,dataEndIndex:O},p({props:N.props,dataStartIndex:A,dataEndIndex:O,updateId:_},N.state))}),N.triggerSyncEvent({dataStartIndex:A,dataEndIndex:O})}}),ze(N,"handleMouseEnter",function(w){var A=N.getMouseInfo(w);if(A){var O=ae(ae({},A),{},{isTooltipActive:!0});N.setState(O),N.triggerSyncEvent(O);var _=N.props.onMouseEnter;Ue(_)&&_(O,w)}}),ze(N,"triggeredAfterMouseMove",function(w){var A=N.getMouseInfo(w),O=A?ae(ae({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};N.setState(O),N.triggerSyncEvent(O);var _=N.props.onMouseMove;Ue(_)&&_(O,w)}),ze(N,"handleItemMouseEnter",function(w){N.setState(function(){return{isTooltipActive:!0,activeItem:w,activePayload:w.tooltipPayload,activeCoordinate:w.tooltipPosition||{x:w.cx,y:w.cy}}})}),ze(N,"handleItemMouseLeave",function(){N.setState(function(){return{isTooltipActive:!1}})}),ze(N,"handleMouseMove",function(w){w.persist(),N.throttleTriggeredAfterMouseMove(w)}),ze(N,"handleMouseLeave",function(w){N.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};N.setState(A),N.triggerSyncEvent(A);var O=N.props.onMouseLeave;Ue(O)&&O(A,w)}),ze(N,"handleOuterEvent",function(w){var A=O6(w),O=Fr(N.props,"".concat(A));if(A&&Ue(O)){var _,P;/.*touch.*/i.test(A)?P=N.getMouseInfo(w.changedTouches[0]):P=N.getMouseInfo(w),O((_=P)!==null&&_!==void 0?_:{},w)}}),ze(N,"handleClick",function(w){var A=N.getMouseInfo(w);if(A){var O=ae(ae({},A),{},{isTooltipActive:!0});N.setState(O),N.triggerSyncEvent(O);var _=N.props.onClick;Ue(_)&&_(O,w)}}),ze(N,"handleMouseDown",function(w){var A=N.props.onMouseDown;if(Ue(A)){var O=N.getMouseInfo(w);A(O,w)}}),ze(N,"handleMouseUp",function(w){var A=N.props.onMouseUp;if(Ue(A)){var O=N.getMouseInfo(w);A(O,w)}}),ze(N,"handleTouchMove",function(w){w.changedTouches!=null&&w.changedTouches.length>0&&N.throttleTriggeredAfterMouseMove(w.changedTouches[0])}),ze(N,"handleTouchStart",function(w){w.changedTouches!=null&&w.changedTouches.length>0&&N.handleMouseDown(w.changedTouches[0])}),ze(N,"handleTouchEnd",function(w){w.changedTouches!=null&&w.changedTouches.length>0&&N.handleMouseUp(w.changedTouches[0])}),ze(N,"handleDoubleClick",function(w){var A=N.props.onDoubleClick;if(Ue(A)){var O=N.getMouseInfo(w);A(O,w)}}),ze(N,"handleContextMenu",function(w){var A=N.props.onContextMenu;if(Ue(A)){var O=N.getMouseInfo(w);A(O,w)}}),ze(N,"triggerSyncEvent",function(w){N.props.syncId!==void 0&&qh.emit(Kh,N.props.syncId,w,N.eventEmitterSymbol)}),ze(N,"applySyncEvent",function(w){var A=N.props,O=A.layout,_=A.syncMethod,P=N.state.updateId,C=w.dataStartIndex,E=w.dataEndIndex;if(w.dataStartIndex!==void 0||w.dataEndIndex!==void 0)N.setState(ae({dataStartIndex:C,dataEndIndex:E},p({props:N.props,dataStartIndex:C,dataEndIndex:E,updateId:P},N.state)));else if(w.activeTooltipIndex!==void 0){var k=w.chartX,$=w.chartY,T=w.activeTooltipIndex,M=N.state,D=M.offset,W=M.tooltipTicks;if(!D)return;if(typeof _=="function")T=_(W,w);else if(_==="value"){T=-1;for(var R=0;R<W.length;R++)if(W[R].value===w.activeLabel){T=R;break}}var Y=ae(ae({},D),{},{x:D.left,y:D.top}),F=Math.min(k,Y.x+Y.width),ie=Math.min($,Y.y+Y.height),z=W[T]&&W[T].value,H=Qp(N.state,N.props.data,T),de=W[T]?{x:O==="horizontal"?W[T].coordinate:F,y:O==="horizontal"?ie:W[T].coordinate}:lP;N.setState(ae(ae({},w),{},{activeLabel:z,activeCoordinate:de,activePayload:H,activeTooltipIndex:T}))}else N.setState(w)}),ze(N,"renderCursor",function(w){var A,O=N.state,_=O.isTooltipActive,P=O.activeCoordinate,C=O.activePayload,E=O.offset,k=O.activeTooltipIndex,$=O.tooltipAxisBandSize,T=N.getTooltipEventType(),M=(A=w.props.active)!==null&&A!==void 0?A:_,D=N.props.layout,W=w.key||"_recharts-cursor";return I.createElement(Kse,{key:W,activeCoordinate:P,activePayload:C,activeTooltipIndex:k,chartName:r,element:w,isActive:M,layout:D,offset:E,tooltipAxisBandSize:$,tooltipEventType:T})}),ze(N,"renderPolarAxis",function(w,A,O){var _=Fr(w,"type.axisType"),P=Fr(N.state,"".concat(_,"Map")),C=w.type.defaultProps,E=C!==void 0?ae(ae({},C),w.props):w.props,k=P&&P[E["".concat(_,"Id")]];return x.cloneElement(w,ae(ae({},k),{},{className:Ge(_,k.className),key:w.key||"".concat(A,"-").concat(O),ticks:oa(k,!0)}))}),ze(N,"renderPolarGrid",function(w){var A=w.props,O=A.radialLines,_=A.polarAngles,P=A.polarRadius,C=N.state,E=C.radiusAxisMap,k=C.angleAxisMap,$=Ea(E),T=Ea(k),M=T.cx,D=T.cy,W=T.innerRadius,R=T.outerRadius;return x.cloneElement(w,{polarAngles:Array.isArray(_)?_:oa(T,!0).map(function(Y){return Y.coordinate}),polarRadius:Array.isArray(P)?P:oa($,!0).map(function(Y){return Y.coordinate}),cx:M,cy:D,innerRadius:W,outerRadius:R,key:w.key||"polar-grid",radialLines:O})}),ze(N,"renderLegend",function(){var w=N.state.formattedGraphicalItems,A=N.props,O=A.children,_=A.width,P=A.height,C=N.props.margin||{},E=_-(C.left||0)-(C.right||0),k=R_({children:O,formattedGraphicalItems:w,legendWidth:E,legendContent:u});if(!k)return null;var $=k.item,T=pw(k,Gse);return x.cloneElement($,ae(ae({},T),{},{chartWidth:_,chartHeight:P,margin:C,onBBoxUpdate:N.handleLegendBBoxUpdate}))}),ze(N,"renderTooltip",function(){var w,A=N.props,O=A.children,_=A.accessibilityLayer,P=$r(O,ur);if(!P)return null;var C=N.state,E=C.isTooltipActive,k=C.activeCoordinate,$=C.activePayload,T=C.activeLabel,M=C.offset,D=(w=P.props.active)!==null&&w!==void 0?w:E;return x.cloneElement(P,{viewBox:ae(ae({},M),{},{x:M.left,y:M.top}),active:D,label:T,payload:D?$:[],coordinate:k,accessibilityLayer:_})}),ze(N,"renderBrush",function(w){var A=N.props,O=A.margin,_=A.data,P=N.state,C=P.offset,E=P.dataStartIndex,k=P.dataEndIndex,$=P.updateId;return x.cloneElement(w,{key:w.key||"_recharts-brush",onChange:Bl(N.handleBrushChange,w.props.onChange),data:_,x:pe(w.props.x)?w.props.x:C.left,y:pe(w.props.y)?w.props.y:C.top+C.height+C.brushBottom-(O.bottom||0),width:pe(w.props.width)?w.props.width:C.width,startIndex:E,endIndex:k,updateId:"brush-".concat($)})}),ze(N,"renderReferenceElement",function(w,A,O){if(!w)return null;var _=N,P=_.clipPathId,C=N.state,E=C.xAxisMap,k=C.yAxisMap,$=C.offset,T=w.type.defaultProps||{},M=w.props,D=M.xAxisId,W=D===void 0?T.xAxisId:D,R=M.yAxisId,Y=R===void 0?T.yAxisId:R;return x.cloneElement(w,{key:w.key||"".concat(A,"-").concat(O),xAxis:E[W],yAxis:k[Y],viewBox:{x:$.left,y:$.top,width:$.width,height:$.height},clipPathId:P})}),ze(N,"renderActivePoints",function(w){var A=w.item,O=w.activePoint,_=w.basePoint,P=w.childIndex,C=w.isRange,E=[],k=A.props.key,$=A.item.type.defaultProps!==void 0?ae(ae({},A.item.type.defaultProps),A.item.props):A.item.props,T=$.activeDot,M=$.dataKey,D=ae(ae({index:P,dataKey:M,cx:O.x,cy:O.y,r:4,fill:$v(A.item),strokeWidth:2,stroke:"#fff",payload:O.payload,value:O.value},Re(T,!1)),Eu(T));return E.push(y.renderActiveDot(T,D,"".concat(k,"-activePoint-").concat(P))),_?E.push(y.renderActiveDot(T,ae(ae({},D),{},{cx:_.x,cy:_.y}),"".concat(k,"-basePoint-").concat(P))):C&&E.push(null),E}),ze(N,"renderGraphicChild",function(w,A,O){var _=N.filterFormatItem(w,A,O);if(!_)return null;var P=N.getTooltipEventType(),C=N.state,E=C.isTooltipActive,k=C.tooltipAxis,$=C.activeTooltipIndex,T=C.activeLabel,M=N.props.children,D=$r(M,ur),W=_.props,R=W.points,Y=W.isRange,F=W.baseLine,ie=_.item.type.defaultProps!==void 0?ae(ae({},_.item.type.defaultProps),_.item.props):_.item.props,z=ie.activeDot,H=ie.hide,de=ie.activeBar,Le=ie.activeShape,he=!!(!H&&E&&D&&(z||de||Le)),Te={};P!=="axis"&&D&&D.props.trigger==="click"?Te={onClick:Bl(N.handleItemMouseEnter,w.props.onClick)}:P!=="axis"&&(Te={onMouseLeave:Bl(N.handleItemMouseLeave,w.props.onMouseLeave),onMouseEnter:Bl(N.handleItemMouseEnter,w.props.onMouseEnter)});var ce=x.cloneElement(w,ae(ae({},_.props),Te));function be(ne){return typeof k.dataKey=="function"?k.dataKey(ne.payload):null}if(he)if($>=0){var ye,re;if(k.dataKey&&!k.allowDuplicatedCategory){var Ve=typeof k.dataKey=="function"?be:"payload.".concat(k.dataKey.toString());ye=Cu(R,Ve,T),re=Y&&F&&Cu(F,Ve,T)}else ye=R==null?void 0:R[$],re=Y&&F&&F[$];if(Le||de){var $e=w.props.activeIndex!==void 0?w.props.activeIndex:$;return[x.cloneElement(w,ae(ae(ae({},_.props),Te),{},{activeIndex:$e})),null,null]}if(!qe(ye))return[ce].concat(to(N.renderActivePoints({item:_,activePoint:ye,basePoint:re,childIndex:$,isRange:Y})))}else{var rt,at=(rt=N.getItemByXY(N.state.activeCoordinate))!==null&&rt!==void 0?rt:{graphicalItem:ce},ct=at.graphicalItem,L=ct.item,G=L===void 0?w:L,X=ct.childIndex,V=ae(ae(ae({},_.props),Te),{},{activeIndex:X});return[x.cloneElement(G,V),null,null]}return Y?[ce,null,null]:[ce,null]}),ze(N,"renderCustomized",function(w,A,O){return x.cloneElement(w,ae(ae({key:"recharts-customized-".concat(O)},N.props),N.state))}),ze(N,"renderMap",{CartesianGrid:{handler:Hl,once:!0},ReferenceArea:{handler:N.renderReferenceElement},ReferenceLine:{handler:Hl},ReferenceDot:{handler:N.renderReferenceElement},XAxis:{handler:Hl},YAxis:{handler:Hl},Brush:{handler:N.renderBrush,once:!0},Bar:{handler:N.renderGraphicChild},Line:{handler:N.renderGraphicChild},Area:{handler:N.renderGraphicChild},Radar:{handler:N.renderGraphicChild},RadialBar:{handler:N.renderGraphicChild},Scatter:{handler:N.renderGraphicChild},Pie:{handler:N.renderGraphicChild},Funnel:{handler:N.renderGraphicChild},Tooltip:{handler:N.renderCursor,once:!0},PolarGrid:{handler:N.renderPolarGrid,once:!0},PolarAngleAxis:{handler:N.renderPolarAxis},PolarRadiusAxis:{handler:N.renderPolarAxis},Customized:{handler:N.renderCustomized}}),N.clipPathId="".concat((j=b.id)!==null&&j!==void 0?j:Gi("recharts"),"-clip"),N.throttleTriggeredAfterMouseMove=MO(N.triggeredAfterMouseMove,(S=b.throttleDelay)!==null&&S!==void 0?S:1e3/60),N.state={},N}return soe(y,v),roe(y,[{key:"componentDidMount",value:function(){var j,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var j=this.props,S=j.children,N=j.data,w=j.height,A=j.layout,O=$r(S,ur);if(O){var _=O.props.defaultIndex;if(!(typeof _!="number"||_<0||_>this.state.tooltipTicks.length-1)){var P=this.state.tooltipTicks[_]&&this.state.tooltipTicks[_].value,C=Qp(this.state,N,_,P),E=this.state.tooltipTicks[_].coordinate,k=(this.state.offset.top+w)/2,$=A==="horizontal",T=$?{x:E,y:k}:{y:E,x:k},M=this.state.formattedGraphicalItems.find(function(W){var R=W.item;return R.type.name==="Scatter"});M&&(T=ae(ae({},T),M.props.points[_].tooltipPosition),C=M.props.points[_].tooltipPayload);var D={activeTooltipIndex:_,isTooltipActive:!0,activeLabel:P,activePayload:C,activeCoordinate:T};this.setState(D),this.renderCursor(O),this.accessibilityManager.setIndex(_)}}}},{key:"getSnapshotBeforeUpdate",value:function(j,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==j.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==j.margin){var N,w;this.accessibilityManager.setDetails({offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0}})}return null}},{key:"componentDidUpdate",value:function(j){_m([$r(j.children,ur)],[$r(this.props.children,ur)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var j=$r(this.props.children,ur);if(j&&typeof j.props.shared=="boolean"){var S=j.props.shared?"axis":"item";return c.indexOf(S)>=0?S:s}return s}},{key:"getMouseInfo",value:function(j){if(!this.container)return null;var S=this.container,N=S.getBoundingClientRect(),w=Qq(N),A={chartX:Math.round(j.pageX-w.left),chartY:Math.round(j.pageY-w.top)},O=N.width/S.offsetWidth||1,_=this.inRange(A.chartX,A.chartY,O);if(!_)return null;var P=this.state,C=P.xAxisMap,E=P.yAxisMap,k=this.getTooltipEventType(),$=vw(this.state,this.props.data,this.props.layout,_);if(k!=="axis"&&C&&E){var T=Ea(C).scale,M=Ea(E).scale,D=T&&T.invert?T.invert(A.chartX):null,W=M&&M.invert?M.invert(A.chartY):null;return ae(ae({},A),{},{xValue:D,yValue:W},$)}return $?ae(ae({},A),$):null}},{key:"inRange",value:function(j,S){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,w=this.props.layout,A=j/N,O=S/N;if(w==="horizontal"||w==="vertical"){var _=this.state.offset,P=A>=_.left&&A<=_.left+_.width&&O>=_.top&&O<=_.top+_.height;return P?{x:A,y:O}:null}var C=this.state,E=C.angleAxisMap,k=C.radiusAxisMap;if(E&&k){var $=Ea(E);return B0({x:A,y:O},$)}return null}},{key:"parseEventsOfWrapper",value:function(){var j=this.props.children,S=this.getTooltipEventType(),N=$r(j,ur),w={};N&&S==="axis"&&(N.props.trigger==="click"?w={onClick:this.handleClick}:w={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var A=Eu(this.props,this.handleOuterEvent);return ae(ae({},A),w)}},{key:"addListener",value:function(){qh.on(Kh,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){qh.removeListener(Kh,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(j,S,N){for(var w=this.state.formattedGraphicalItems,A=0,O=w.length;A<O;A++){var _=w[A];if(_.item===j||_.props.key===j.key||S===da(_.item.type)&&N===_.childIndex)return _}return null}},{key:"renderClipPath",value:function(){var j=this.clipPathId,S=this.state.offset,N=S.left,w=S.top,A=S.height,O=S.width;return I.createElement("defs",null,I.createElement("clipPath",{id:j},I.createElement("rect",{x:N,y:w,height:A,width:O})))}},{key:"getXScales",value:function(){var j=this.state.xAxisMap;return j?Object.entries(j).reduce(function(S,N){var w=mw(N,2),A=w[0],O=w[1];return ae(ae({},S),{},ze({},A,O.scale))},{}):null}},{key:"getYScales",value:function(){var j=this.state.yAxisMap;return j?Object.entries(j).reduce(function(S,N){var w=mw(N,2),A=w[0],O=w[1];return ae(ae({},S),{},ze({},A,O.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(j){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[j])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(j){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[j])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(j){var S=this.state,N=S.formattedGraphicalItems,w=S.activeItem;if(N&&N.length)for(var A=0,O=N.length;A<O;A++){var _=N[A],P=_.props,C=_.item,E=C.type.defaultProps!==void 0?ae(ae({},C.type.defaultProps),C.props):C.props,k=da(C.type);if(k==="Bar"){var $=(P.data||[]).find(function(W){return Iee(j,W)});if($)return{graphicalItem:_,payload:$}}else if(k==="RadialBar"){var T=(P.data||[]).find(function(W){return B0(j,W)});if(T)return{graphicalItem:_,payload:T}}else if(zf(_,w)||Uf(_,w)||Jc(_,w)){var M=Nre({graphicalItem:_,activeTooltipItem:w,itemData:E.data}),D=E.activeIndex===void 0?M:E.activeIndex;return{graphicalItem:ae(ae({},_),{},{childIndex:D}),payload:Jc(_,w)?E.data[M]:_.props.data[M]}}}return null}},{key:"render",value:function(){var j=this;if(!Cy(this))return null;var S=this.props,N=S.children,w=S.className,A=S.width,O=S.height,_=S.style,P=S.compact,C=S.title,E=S.desc,k=pw(S,Zse),$=Re(k,!1);if(P)return I.createElement(Gj,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},I.createElement(Pm,ps({},$,{width:A,height:O,title:C,desc:E}),this.renderClipPath(),$y(N,this.renderMap)));if(this.props.accessibilityLayer){var T,M;$.tabIndex=(T=this.props.tabIndex)!==null&&T!==void 0?T:0,$.role=(M=this.props.role)!==null&&M!==void 0?M:"application",$.onKeyDown=function(W){j.accessibilityManager.keyboardEvent(W)},$.onFocus=function(){j.accessibilityManager.focus()}}var D=this.parseEventsOfWrapper();return I.createElement(Gj,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},I.createElement("div",ps({className:Ge("recharts-wrapper",w),style:ae({position:"relative",cursor:"default",width:A,height:O},_)},D,{ref:function(R){j.container=R}}),I.createElement(Pm,ps({},$,{width:A,height:O,title:C,desc:E,style:foe}),this.renderClipPath(),$y(N,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(x.Component);ze(g,"displayName",r),ze(g,"defaultProps",ae({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),ze(g,"getDerivedStateFromProps",function(v,y){var b=v.dataKey,j=v.data,S=v.children,N=v.width,w=v.height,A=v.layout,O=v.stackOffset,_=v.margin,P=y.dataStartIndex,C=y.dataEndIndex;if(y.updateId===void 0){var E=xw(v);return ae(ae(ae({},E),{},{updateId:0},p(ae(ae({props:v},E),{},{updateId:0}),y)),{},{prevDataKey:b,prevData:j,prevWidth:N,prevHeight:w,prevLayout:A,prevStackOffset:O,prevMargin:_,prevChildren:S})}if(b!==y.prevDataKey||j!==y.prevData||N!==y.prevWidth||w!==y.prevHeight||A!==y.prevLayout||O!==y.prevStackOffset||!Ns(_,y.prevMargin)){var k=xw(v),$={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},T=ae(ae({},vw(y,j,A)),{},{updateId:y.updateId+1}),M=ae(ae(ae({},k),$),T);return ae(ae(ae({},M),p(ae({props:v},M),y)),{},{prevDataKey:b,prevData:j,prevWidth:N,prevHeight:w,prevLayout:A,prevStackOffset:O,prevMargin:_,prevChildren:S})}if(!_m(S,y.prevChildren)){var D,W,R,Y,F=$r(S,Ws),ie=F&&(D=(W=F.props)===null||W===void 0?void 0:W.startIndex)!==null&&D!==void 0?D:P,z=F&&(R=(Y=F.props)===null||Y===void 0?void 0:Y.endIndex)!==null&&R!==void 0?R:C,H=ie!==P||z!==C,de=!qe(j),Le=de&&!H?y.updateId:y.updateId+1;return ae(ae({updateId:Le},p(ae(ae({props:v},y),{},{updateId:Le,dataStartIndex:ie,dataEndIndex:z}),y)),{},{prevChildren:S,dataStartIndex:ie,dataEndIndex:z})}return null}),ze(g,"renderActiveDot",function(v,y,b){var j;return x.isValidElement(v)?j=x.cloneElement(v,y):Ue(v)?j=v(y):j=I.createElement(jl,y),I.createElement(nt,{className:"recharts-active-dot",key:b},j)});var m=x.forwardRef(function(y,b){return I.createElement(g,ps({},y,{ref:b}))});return m.displayName=g.displayName,m},woe=Xf({chartName:"LineChart",GraphicalChild:Oi,axisComponents:[{axisType:"xAxis",AxisComp:_n},{axisType:"yAxis",AxisComp:kn}],formatAxisMap:Iv}),bw=Xf({chartName:"BarChart",GraphicalChild:qa,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:_n},{axisType:"yAxis",AxisComp:kn}],formatAxisMap:Iv}),jw=Xf({chartName:"PieChart",GraphicalChild:Wn,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Vf},{axisType:"radiusAxis",AxisComp:Ff}],formatAxisMap:ZY,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),ww=Xf({chartName:"AreaChart",GraphicalChild:Fn,axisComponents:[{axisType:"xAxis",AxisComp:_n},{axisType:"yAxis",AxisComp:kn}],formatAxisMap:Iv});const Nw=["#8884d8","#82ca9d","#ffc658","#ff8042","#0088FE","#00C49F"],Zh=[{name:"T1",revenue:4e3,bookings:240},{name:"T2",revenue:3e3,bookings:139},{name:"T3",revenue:2e3,bookings:980},{name:"T4",revenue:2780,bookings:390},{name:"T5",revenue:1890,bookings:480},{name:"T6",revenue:2390,bookings:380},{name:"T7",revenue:3490,bookings:430}],Noe=[{name:"T1",confirmed:240,cancelled:24,pending:12},{name:"T2",confirmed:139,cancelled:13,pending:8},{name:"T3",confirmed:980,cancelled:98,pending:45},{name:"T4",confirmed:390,cancelled:39,pending:18},{name:"T5",confirmed:480,cancelled:48,pending:22},{name:"T6",confirmed:380,cancelled:38,pending:15},{name:"T7",confirmed:430,cancelled:43,pending:20}],Sw=[{name:"室內",value:400,color:"#3B82F6"},{name:"戶外",value:300,color:"#10B981"},{name:"無障礙",value:100,color:"#F59E0B"}],Soe=[{name:"王小明",bookings:45,totalSpent:125e4,lastBooking:"2024-01-15"},{name:"李小華",bookings:38,totalSpent:98e4,lastBooking:"2024-01-14"},{name:"張大偉",bookings:32,totalSpent:85e4,lastBooking:"2024-01-13"},{name:"陳美玲",bookings:28,totalSpent:72e4,lastBooking:"2024-01-12"},{name:"劉志強",bookings:25,totalSpent:65e4,lastBooking:"2024-01-11"}],Aoe=[{hour:"6:00",bookings:12},{hour:"7:00",bookings:25},{hour:"8:00",bookings:45},{hour:"9:00",bookings:38},{hour:"10:00",bookings:32},{hour:"11:00",bookings:28},{hour:"12:00",bookings:55},{hour:"13:00",bookings:42},{hour:"14:00",bookings:35},{hour:"15:00",bookings:48},{hour:"16:00",bookings:62},{hour:"17:00",bookings:58},{hour:"18:00",bookings:45},{hour:"19:00",bookings:38},{hour:"20:00",bookings:25},{hour:"21:00",bookings:18},{hour:"22:00",bookings:12},{hour:"23:00",bookings:8}],Aw=()=>{var w,A,O,_,P,C,E;const[e,t]=x.useState(!0),[r,n]=x.useState(null),[i,s]=x.useState(null);console.log(i);const[o,c]=x.useState([]),[l,u]=x.useState(null),[d,f]=x.useState("overview"),[h,p]=x.useState("7d");x.useEffect(()=>{g()},[]);const g=async()=>{try{t(!0);const[k,$,T,M]=await Promise.all([qE(),KE("today"),GE(),ZE()]);n(k),s($),c(T),u(M)}catch{Z.error("無法載入儀表板資料")}finally{t(!1)}},m=()=>{Z.success("報告匯出成功")},v=k=>k.toLocaleString("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0,maximumFractionDigits:0}),y=k=>new Date(k).toLocaleString("zh-TW",{month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),b=k=>new Date(k).toLocaleDateString("zh-TW"),j=k=>{const $={pending:{label:"等待確認",variant:"secondary",color:"bg-yellow-100 text-yellow-800"},confirmed:{label:"預約成功",variant:"default",color:"bg-blue-100 text-blue-800"},"checked-in":{label:"已進入停車場",variant:"default",color:"bg-green-100 text-green-800"},"checked-out":{label:"已離開停車場",variant:"secondary",color:"bg-gray-100 text-gray-800"},cancelled:{label:"已取消",variant:"destructive",color:"bg-red-100 text-red-800"}},T=$[k]||$.pending;return a.jsx(Me,{variant:T.variant,className:T.color,children:T.label})},S=k=>k>=0?a.jsx(la,{className:"h-4 w-4 text-green-500"}):a.jsx(du,{className:"h-4 w-4 text-red-500"}),N=o.map(k=>({name:k.name,value:k.occupancyRate}));return e?a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}):a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"儀表板"}),a.jsx("p",{className:"text-gray-600",children:"停車場系統概覽"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(Tn,{value:h,onValueChange:p,children:[a.jsx(fn,{className:"w-32",children:a.jsx(Cn,{})}),a.jsxs(hn,{children:[a.jsx(it,{value:"7d",children:"7天"}),a.jsx(it,{value:"30d",children:"30天"}),a.jsx(it,{value:"90d",children:"90天"}),a.jsx(it,{value:"1y",children:"1年"})]})]}),a.jsxs(q,{variant:"outline",onClick:g,children:[a.jsx(Hn,{className:"h-4 w-4 mr-2"}),"重新整理"]}),a.jsxs(q,{onClick:m,children:[a.jsx(v1,{className:"h-4 w-4 mr-2"}),"匯出報告"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[a.jsxs(le,{children:[a.jsxs(ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ve,{className:"text-sm font-medium",children:"今日預約"}),a.jsx(Dt,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ue,{children:[a.jsx("div",{className:"text-2xl font-bold",children:(r==null?void 0:r.todayBookings)||0}),a.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[S(8.2),a.jsx("span",{className:"ml-1",children:"比昨天增加8.2%"})]})]})]}),a.jsxs(le,{children:[a.jsxs(ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ve,{className:"text-sm font-medium",children:"今日營收"}),a.jsx(cs,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ue,{children:[a.jsx("div",{className:"text-2xl font-bold",children:v((r==null?void 0:r.todayRevenue)||0)}),a.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[S(12.5),a.jsx("span",{className:"ml-1",children:"比昨天增加12.5%"})]})]})]}),a.jsxs(le,{children:[a.jsxs(ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ve,{className:"text-sm font-medium",children:"剩餘空位"}),a.jsx(ir,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ue,{children:[a.jsx("div",{className:"text-2xl font-bold",children:(r==null?void 0:r.availableSpaces)||0}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["總共 ",(r==null?void 0:r.totalSpaces)||0," 個停車位"]})]})]}),a.jsxs(le,{children:[a.jsxs(ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ve,{className:"text-sm font-medium",children:"正在停車"}),a.jsx(aa,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ue,{children:[a.jsx("div",{className:"text-2xl font-bold",children:(r==null?void 0:r.parkedVehicles)||0}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[(r==null?void 0:r.leavingToday)||0," 輛車今天即將離開"]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[a.jsxs(le,{children:[a.jsxs(ge,{children:[a.jsxs(ve,{className:"flex items-center space-x-2",children:[a.jsx(la,{className:"h-5 w-5"}),a.jsx("span",{children:"營收趨勢"})]}),a.jsx(tt,{children:"按時間的營收"})]}),a.jsx(ue,{style:{height:300},children:a.jsx(ti,{width:"100%",height:"100%",children:a.jsxs(ww,{data:Zh,children:[a.jsx(os,{strokeDasharray:"3 3"}),a.jsx(_n,{dataKey:"name"}),a.jsx(kn,{}),a.jsx(ur,{}),a.jsx(Fn,{type:"monotone",dataKey:"revenue",stroke:"#3B82F6",fill:"#3B82F6",fillOpacity:.3})]})})})]}),a.jsxs(le,{children:[a.jsxs(ge,{children:[a.jsxs(ve,{className:"flex items-center space-x-2",children:[a.jsx(ki,{className:"h-5 w-5"}),a.jsx("span",{children:"停車場使用率"})]}),a.jsx(tt,{children:"各類型停車場的使用分布"})]}),a.jsx(ue,{style:{height:300},children:a.jsx(ti,{width:"100%",height:"100%",children:a.jsxs(jw,{children:[a.jsx(Wn,{data:N,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:100,label:!0,children:N.map((k,$)=>a.jsx(kc,{fill:Nw[$%Nw.length]},`cell-${$}`))}),a.jsx(ur,{}),a.jsx(wi,{})]})})})]})]}),a.jsxs(le,{className:"mb-8",children:[a.jsxs(ge,{children:[a.jsxs(ve,{className:"flex items-center space-x-2",children:[a.jsx(_r,{className:"h-5 w-5"}),a.jsx("span",{children:"高峰時段"})]}),a.jsx(tt,{children:"每日各時段的預約數量"})]}),a.jsx(ue,{style:{height:300},children:a.jsx(ti,{width:"100%",height:"100%",children:a.jsxs(bw,{data:Aoe,children:[a.jsx(os,{strokeDasharray:"3 3"}),a.jsx(_n,{dataKey:"hour"}),a.jsx(kn,{}),a.jsx(ur,{}),a.jsx(qa,{dataKey:"bookings",fill:"#10B981"})]})})})]}),a.jsxs(fl,{value:d,onValueChange:f,className:"space-y-6",children:[a.jsxs(co,{className:"grid w-full grid-cols-5",children:[a.jsx(Kt,{value:"overview",children:"概覽"}),a.jsx(Kt,{value:"revenue",children:"營收"}),a.jsx(Kt,{value:"bookings",children:"預約"}),a.jsx(Kt,{value:"customers",children:"客戶"}),a.jsx(Kt,{value:"parking",children:"停車場"})]}),a.jsx(Qt,{value:"overview",className:"space-y-6",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(le,{children:[a.jsxs(ge,{children:[a.jsxs(ve,{className:"flex items-center space-x-2",children:[a.jsx(zC,{className:"h-5 w-5"}),a.jsx("span",{children:"最近預約"})]}),a.jsx(tt,{children:"最新預約清單"})]}),a.jsx(ue,{children:a.jsx("div",{className:"space-y-4",children:(w=r==null?void 0:r.recentBookings)==null?void 0:w.slice(0,5).map(k=>a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx(Nr,{className:"h-5 w-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:k.driverName}),a.jsx("p",{className:"text-sm text-gray-600",children:k.licensePlate})]})]}),a.jsxs("div",{className:"text-right",children:[j(k.status),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:y(k.checkInTime)})]})]},k._id))})})]}),a.jsxs(le,{children:[a.jsxs(ge,{children:[a.jsxs(ve,{className:"flex items-center space-x-2",children:[a.jsx(ic,{className:"h-5 w-5"}),a.jsx("span",{children:"快速操作"})]}),a.jsx(tt,{children:"常用操作"})]}),a.jsx(ue,{children:a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs(q,{className:"h-20 flex flex-col space-y-2",children:[a.jsx(Wr,{className:"h-6 w-6"}),a.jsx("span",{children:"創建預約"})]}),a.jsxs(q,{variant:"outline",className:"h-20 flex flex-col space-y-2",children:[a.jsx(m1,{className:"h-6 w-6"}),a.jsx("span",{children:"報告"})]}),a.jsxs(q,{variant:"outline",className:"h-20 flex flex-col space-y-2",children:[a.jsx(aa,{className:"h-6 w-6"}),a.jsx("span",{children:"管理客戶"})]}),a.jsxs(q,{variant:"outline",className:"h-20 flex flex-col space-y-2",children:[a.jsx(ic,{className:"h-6 w-6"}),a.jsx("span",{children:"設定"})]})]})})]})]})}),a.jsxs(Qt,{value:"revenue",className:"space-y-6",children:[a.jsxs(le,{children:[a.jsxs(ge,{children:[a.jsx(ve,{children:"營收分析"}),a.jsx(tt,{children:"按時間的詳細營收"})]}),a.jsx(ue,{children:a.jsx(ti,{width:"100%",height:400,children:a.jsxs(ww,{data:Zh,children:[a.jsx(os,{strokeDasharray:"3 3"}),a.jsx(_n,{dataKey:"name"}),a.jsx(kn,{}),a.jsx(ur,{}),a.jsx(Fn,{type:"monotone",dataKey:"revenue",stroke:"#3B82F6",fill:"#3B82F6",fillOpacity:.3}),a.jsx(Fn,{type:"monotone",dataKey:"bookings",stroke:"#10B981",fill:"#10B981",fillOpacity:.3})]})})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs(le,{children:[a.jsx(ge,{children:a.jsx(ve,{className:"text-lg",children:"平均每日營收"})}),a.jsxs(ue,{children:[a.jsx("div",{className:"text-3xl font-bold text-green-600",children:v(516e3)}),a.jsx("p",{className:"text-sm text-gray-500",children:"比上個月增長12.5%"})]})]}),a.jsxs(le,{children:[a.jsx(ge,{children:a.jsx(ve,{className:"text-lg",children:"最高營收"})}),a.jsxs(ue,{children:[a.jsx("div",{className:"text-3xl font-bold text-blue-600",children:v(349e4)}),a.jsx("p",{className:"text-sm text-gray-500",children:"2024年7月"})]})]}),a.jsxs(le,{children:[a.jsx(ge,{children:a.jsx(ve,{className:"text-lg",children:"增長率"})}),a.jsxs(ue,{children:[a.jsx("div",{className:"text-3xl font-bold text-purple-600",children:"+15.2%"}),a.jsx("p",{className:"text-sm text-gray-500",children:"與去年同期相比"})]})]})]})]}),a.jsxs(Qt,{value:"bookings",className:"space-y-6",children:[a.jsxs(le,{children:[a.jsxs(ge,{children:[a.jsx(ve,{children:"預約趨勢"}),a.jsx(tt,{children:"按狀態的預約統計"})]}),a.jsx(ue,{children:a.jsx(ti,{width:"100%",height:400,children:a.jsxs(woe,{data:Noe,children:[a.jsx(os,{strokeDasharray:"3 3"}),a.jsx(_n,{dataKey:"name"}),a.jsx(kn,{}),a.jsx(ur,{}),a.jsx(Oi,{type:"monotone",dataKey:"confirmed",stroke:"#10B981",strokeWidth:2}),a.jsx(Oi,{type:"monotone",dataKey:"cancelled",stroke:"#EF4444",strokeWidth:2}),a.jsx(Oi,{type:"monotone",dataKey:"pending",stroke:"#F59E0B",strokeWidth:2})]})})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs(le,{children:[a.jsx(ge,{children:a.jsx(ve,{className:"text-lg",children:"成功預約"})}),a.jsxs(ue,{children:[a.jsx("div",{className:"text-3xl font-bold text-green-600",children:"2,679"}),a.jsx("p",{className:"text-sm text-gray-500",children:"94.2% 總預約數"})]})]}),a.jsxs(le,{children:[a.jsx(ge,{children:a.jsx(ve,{className:"text-lg",children:"已取消預約"})}),a.jsxs(ue,{children:[a.jsx("div",{className:"text-3xl font-bold text-red-600",children:"168"}),a.jsx("p",{className:"text-sm text-gray-500",children:"5.8% 總預約數"})]})]}),a.jsxs(le,{children:[a.jsx(ge,{children:a.jsx(ve,{className:"text-lg",children:"等待確認"})}),a.jsxs(ue,{children:[a.jsx("div",{className:"text-3xl font-bold text-yellow-600",children:"45"}),a.jsx("p",{className:"text-sm text-gray-500",children:"1.6% 總預約數"})]})]})]})]}),a.jsxs(Qt,{value:"customers",className:"space-y-6",children:[a.jsxs(le,{children:[a.jsxs(ge,{children:[a.jsx(ve,{children:"頂級客戶"}),a.jsx(tt,{children:"預約數量最高的前5名客戶"})]}),a.jsx(ue,{children:a.jsx("div",{className:"space-y-4",children:Soe.map((k,$)=>a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-sm font-semibold text-blue-600",children:$+1})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold",children:k.name}),a.jsxs("p",{className:"text-sm text-gray-500",children:[k.bookings," 預約 • ",v(k.totalSpent)]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm text-gray-500",children:"最後預約"}),a.jsx("p",{className:"text-sm font-medium",children:b(k.lastBooking)})]})]},$))})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs(le,{children:[a.jsxs(ge,{children:[a.jsx(ve,{children:"新客戶"}),a.jsx(tt,{children:"按月份的新客戶統計"})]}),a.jsx(ue,{children:a.jsx(ti,{width:"100%",height:300,children:a.jsxs(bw,{data:Zh,children:[a.jsx(os,{strokeDasharray:"3 3"}),a.jsx(_n,{dataKey:"name"}),a.jsx(kn,{}),a.jsx(ur,{}),a.jsx(qa,{dataKey:"bookings",fill:"#3B82F6"})]})})})]}),a.jsxs(le,{children:[a.jsxs(ge,{children:[a.jsx(ve,{children:"客戶統計"}),a.jsx(tt,{children:"客戶概覽"})]}),a.jsxs(ue,{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{children:"總客戶數"}),a.jsx("span",{className:"font-semibold",children:"1,247"})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{children:"本月新客戶"}),a.jsx("span",{className:"font-semibold text-green-600",children:"156"})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{children:"VIP客戶"}),a.jsx("span",{className:"font-semibold text-purple-600",children:"89"})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{children:"回訪率"}),a.jsx("span",{className:"font-semibold text-blue-600",children:"78.5%"})]})]})]})]})]}),a.jsxs(Qt,{value:"parking",className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(le,{children:[a.jsxs(ge,{children:[a.jsxs(ve,{className:"flex items-center space-x-2",children:[a.jsx(ki,{className:"h-5 w-5"}),a.jsx("span",{children:"停車場狀態"})]}),a.jsx(tt,{children:"各停車場狀況概覽"})]}),a.jsx(ue,{children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.map(k=>a.jsx(le,{className:"hover:shadow-md transition-shadow",children:a.jsxs(ue,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h3",{className:"font-semibold",children:k.name}),a.jsx(Me,{variant:(k.type||"indoor")==="indoor"?"default":"secondary",children:(k.type||"indoor")==="indoor"?"🏢 Trong nhà":(k.type||"indoor")==="outdoor"?"🌤 Ngoài trời":"♿️ Khuyết tật"})]}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"空位:"}),a.jsxs("span",{className:"font-medium",children:[k.availableSpaces,"/",k.totalSpaces]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"使用率:"}),a.jsxs("span",{className:"font-medium",children:[k.occupancyRate,"%"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"基本價格:"}),a.jsxs("span",{className:"font-medium",children:[v(k.pricePerDay),"/天"]})]})]}),a.jsx("div",{className:"mt-3",children:a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-[#39653f] h-2 rounded-full",style:{width:`${100-k.occupancyRate}%`}})})})]})},k._id))})})]}),a.jsxs(le,{children:[a.jsxs(ge,{children:[a.jsx(ve,{children:"停車場效能"}),a.jsx(tt,{children:"各類型停車場的使用率"})]}),a.jsx(ue,{children:a.jsx(ti,{width:"100%",height:300,children:a.jsxs(jw,{children:[a.jsx(Wn,{data:Sw,cx:"50%",cy:"50%",labelLine:!1,label:({name:k,percent:$})=>`${k} ${($*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:Sw.map((k,$)=>a.jsx(kc,{fill:k.color},`cell-${$}`))}),a.jsx(ur,{})]})})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs(le,{children:[a.jsxs(ge,{children:[a.jsxs(ve,{className:"flex items-center space-x-2",children:[a.jsx(ir,{className:"h-5 w-5"}),a.jsxs("span",{children:["正在停車 (",((A=l==null?void 0:l.parkedVehicles)==null?void 0:A.length)||0,")"]})]}),a.jsx(tt,{children:"停車場內的車輛清單"})]}),a.jsx(ue,{children:a.jsx("div",{className:"space-y-3",children:(O=l==null?void 0:l.parkedVehicles)==null?void 0:O.slice(0,5).map(k=>a.jsxs("div",{className:"p-3 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"font-medium",children:k.driverName}),a.jsx(mr,{className:"h-4 w-4 text-green-600"})]}),a.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[a.jsx("div",{children:k.licensePlate}),a.jsxs("div",{children:["進入: ",y(k.actualCheckInTime||k.checkInTime)]}),a.jsxs("div",{children:["預計離開: ",y(k.checkOutTime)]})]})]},k._id))})})]}),a.jsxs(le,{children:[a.jsxs(ge,{children:[a.jsxs(ve,{className:"flex items-center space-x-2",children:[a.jsx(_r,{className:"h-5 w-5"}),a.jsxs("span",{children:["即將到達 (",((_=l==null?void 0:l.arrivingToday)==null?void 0:_.length)||0,")"]})]}),a.jsx(tt,{children:"今天預計到達的車輛"})]}),a.jsx(ue,{children:a.jsx("div",{className:"space-y-3",children:(P=l==null?void 0:l.arrivingToday)==null?void 0:P.slice(0,5).map(k=>a.jsxs("div",{className:"p-3 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"font-medium",children:k.driverName}),a.jsx(vs,{className:"h-4 w-4 text-yellow-600"})]}),a.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[a.jsx("div",{children:k.licensePlate}),a.jsxs("div",{children:["預計: ",y(k.estimatedArrivalTime||k.checkInTime)]}),a.jsxs("div",{children:["航班: ",k.flightNumber||"N/A"]})]})]},k._id))})})]}),a.jsxs(le,{children:[a.jsxs(ge,{children:[a.jsxs(ve,{className:"flex items-center space-x-2",children:[a.jsx(qr,{className:"h-5 w-5"}),a.jsxs("span",{children:["即將離開 (",((C=l==null?void 0:l.leavingToday)==null?void 0:C.length)||0,")"]})]}),a.jsx(tt,{children:"今天預計離開的車輛"})]}),a.jsx(ue,{children:a.jsx("div",{className:"space-y-3",children:(E=l==null?void 0:l.leavingToday)==null?void 0:E.slice(0,5).map(k=>a.jsxs("div",{className:"p-3 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"font-medium",children:k.driverName}),a.jsx(qr,{className:"h-4 w-4 text-red-600"})]}),a.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[a.jsx("div",{children:k.licensePlate}),a.jsxs("div",{children:["預計離開: ",y(k.checkOutTime)]}),a.jsxs("div",{children:["已停車: ",y(k.actualCheckInTime||k.checkInTime)]})]})]},k._id))})})]})]})]})]})]})},Vr=x.forwardRef(({className:e,...t},r)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:r,className:Qe("w-full caption-bottom text-sm",e),...t})}));Vr.displayName="Table";const zr=x.forwardRef(({className:e,...t},r)=>a.jsx("thead",{ref:r,className:Qe("[&_tr]:border-b",e),...t}));zr.displayName="TableHeader";const Ur=x.forwardRef(({className:e,...t},r)=>a.jsx("tbody",{ref:r,className:Qe("[&_tr:last-child]:border-0",e),...t}));Ur.displayName="TableBody";const Ooe=x.forwardRef(({className:e,...t},r)=>a.jsx("tfoot",{ref:r,className:Qe("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));Ooe.displayName="TableFooter";const Pt=x.forwardRef(({className:e,...t},r)=>a.jsx("tr",{ref:r,className:Qe("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Pt.displayName="TableRow";const Ae=x.forwardRef(({className:e,...t},r)=>a.jsx("th",{ref:r,className:Qe("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Ae.displayName="TableHead";const Oe=x.forwardRef(({className:e,...t},r)=>a.jsx("td",{ref:r,className:Qe("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Oe.displayName="TableCell";const _oe=x.forwardRef(({className:e,...t},r)=>a.jsx("caption",{ref:r,className:Qe("mt-4 text-sm text-muted-foreground",e),...t}));_oe.displayName="TableCaption";const koe=()=>{const[e,t]=x.useState([]),[r,n]=x.useState(!0),[i,s]=x.useState(0),[o,c]=x.useState(1),[l,u]=x.useState(1),[d,f]=x.useState({status:"all",dateFrom:"",dateTo:"",search:""}),[h,p]=x.useState(null),[g,m]=x.useState(!1);x.useEffect(()=>{v()},[o,d]);const v=async()=>{try{n(!0);const _={...d,status:d.status==="all"?"":d.status,page:o,limit:10},P=await XE(_);t(P.bookings),s(P.total),u(P.totalPages)}catch{Z.error("無法載入預約清單")}finally{n(!1)}},y=async(_,P)=>{var C,E;try{await YE(_,P),Z.success("狀態更新成功"),v()}catch(k){console.error("Status update error:",k);const $=((E=(C=k.response)==null?void 0:C.data)==null?void 0:E.message)||k.message||"狀態更新失敗";Z.error($)}},b=(_,P)=>()=>y(_,P),j=_=>{const P=window.open("","_blank");if(!P)return;const C=`
      <!DOCTYPE html>
      <html>
      <head>
        <title>預約詳情 - ${_.driverName}</title>
        <style>
          body { font-family: Arial, sans-serif; margin: 20px; }
          .header { text-align: center; border-bottom: 2px solid #333; padding-bottom: 10px; margin-bottom: 20px; }
          .section { margin-bottom: 20px; }
          .section h3 { color: #333; border-bottom: 1px solid #ccc; padding-bottom: 5px; }
          .info-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
          .info-item { margin-bottom: 8px; }
          .label { font-weight: bold; }
          .status { padding: 4px 8px; border-radius: 4px; font-size: 12px; }
          .status-pending { background-color: #fef3c7; color: #92400e; }
          .status-confirmed { background-color: #fef3c7; color: #92400e; }
          .status-checked-in { background-color: #d1fae5; color: #065f46; }
          .status-checked-out { background-color: #f3f4f6; color: #374151; }
          .status-cancelled { background-color: #fee2e2; color: #991b1b; }
          .services { display: flex; flex-wrap: wrap; gap: 5px; }
          .service-badge { background-color: #f3f4f6; padding: 2px 6px; border-radius: 4px; font-size: 12px; }
          .total { font-size: 18px; font-weight: bold; color: #333; }
          @media print {
            body { margin: 0; }
            .no-print { display: none; }
          }
        </style>
      </head>
      <body>
        <div class="header">
          <h1>預約詳細資訊</h1>
          <p>預約編號: ${_._id}</p>
        </div>

        <div class="section">
          <h3>客戶資訊</h3>
          <div class="info-grid">
            <div class="info-item">
              <span class="label">姓名:</span> ${_.driverName}
            </div>
            <div class="info-item">
              <span class="label">電話:</span> ${_.phone}
            </div>
            <div class="info-item">
              <span class="label">電子郵件:</span> ${_.email||"無"}
            </div>
            <div class="info-item">
              <span class="label">車牌號碼:</span> ${_.licensePlate}
            </div>
            <div class="info-item">
              <span class="label">乘客:</span> ${_.passengerCount} 人
            </div>
            <div class="info-item">
              <span class="label">行李:</span> ${_.luggageCount} 件
            </div>
          </div>
        </div>

        <div class="section">
          <h3>預約資訊</h3>
          <div class="info-grid">
            <div class="info-item">
              <span class="label">停車場:</span> ${_.parkingType.name}
            </div>
            <div class="info-item">
              <span class="label">類型:</span> ${(_.parkingType.type||"indoor")==="indoor"?"室內":(_.parkingType.type||"indoor")==="outdoor"?"戶外":"無障礙"}
            </div>
            <div class="info-item">
              <span class="label">進入時間:</span> ${new Date(_.checkInTime).toLocaleString("zh-TW")}
            </div>
            <div class="info-item">
              <span class="label">離開時間:</span> ${new Date(_.checkOutTime).toLocaleString("zh-TW")}
            </div>
            <div class="info-item">
              <span class="label">狀態:</span> 
              <span class="status status-${_.status}">
                ${_.status==="pending"?"等待進入停車場":_.status==="confirmed"?"等待進入停車場 (舊)":_.status==="checked-in"?"已進入停車場":_.status==="checked-out"?"已離開停車場":"已取消"}
              </span>
            </div>
            <div class="info-item">
              <span class="label">VIP:</span> ${_.isVIP?"是":"否"}
            </div>
          </div>
        </div>

        ${_.addonServices.length>0?`
        <div class="section">
          <h3>附加服務</h3>
          <div class="services">
            ${_.addonServices.map(E=>`<span class="service-badge">${E.service.icon} ${E.service.name} - ${E.price.toLocaleString("zh-TW")} TWD</span>`).join("")}
          </div>
        </div>
        `:""}

        <div class="section">
          <h3>付款資訊</h3>
          <div class="info-grid">
            <div class="info-item">
              <span class="label">總金額:</span> ${_.totalAmount.toLocaleString("zh-TW")} TWD
            </div>
            ${_.discountAmount>0?`
            <div class="info-item">
              <span class="label">折扣:</span> -${_.discountAmount.toLocaleString("zh-TW")} TWD
            </div>
            `:""}
            <div class="info-item total">
              <span class="label">應付金額:</span> ${_.finalAmount.toLocaleString("zh-TW")} TWD
            </div>
            <div class="info-item">
              <span class="label">付款方式:</span> ${_.paymentMethod}
            </div>
            <div class="info-item">
              <span class="label">付款狀態:</span> ${_.paymentStatus}
            </div>
          </div>
        </div>

        ${_.notes?`
        <div class="section">
          <h3>備註</h3>
          <p>${_.notes}</p>
        </div>
        `:""}

        <div class="no-print" style="margin-top: 30px; text-align: center;">
          <button onclick="window.print()">列印</button>
          <button onclick="window.close()">關閉</button>
        </div>
      </body>
      </html>
    `;P.document.write(C),P.document.close()},S=_=>{const P={pending:{label:"等待進入停車場",variant:"secondary",color:"bg-yellow-100 text-yellow-800"},confirmed:{label:"等待進入停車場",variant:"secondary",color:"bg-yellow-100 text-yellow-800"},"checked-in":{label:"已進入停車場",variant:"default",color:"bg-green-100 text-green-800"},"checked-out":{label:"已離開停車場",variant:"secondary",color:"bg-gray-100 text-gray-800"},cancelled:{label:"已取消",variant:"destructive",color:"bg-red-100 text-red-800"}},C=P[_]||P.pending;return a.jsx(Me,{variant:C.variant,className:C.color,children:C.label})},N=_=>new Date(_).toLocaleString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),w=_=>_.toLocaleString("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0,maximumFractionDigits:0}),A=(_,P)=>{f(C=>({...C,[_]:P})),c(1)},O=d.status||"all";return r&&e.length===0?a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})})}):a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold",children:"預約管理"}),a.jsx("p",{className:"text-gray-600",children:"管理系統中的所有預約"})]}),a.jsxs(le,{className:"mb-6",children:[a.jsx(ge,{children:a.jsxs(ve,{className:"flex items-center space-x-2",children:[a.jsx(hr,{className:"h-5 w-5"}),a.jsx("span",{children:"篩選"})]})}),a.jsx(ue,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"search",children:"搜尋"}),a.jsxs("div",{className:"relative",children:[a.jsx(Hr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),a.jsx(oe,{id:"search",placeholder:"姓名、電話、車牌號碼...",value:d.search,onChange:_=>A("search",_.target.value),className:"pl-10"})]})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"status",children:"狀態"}),a.jsxs(Tn,{value:O,onValueChange:_=>A("status",_),defaultValue:"all",children:[a.jsx(fn,{children:a.jsx(Cn,{placeholder:"所有狀態"})}),a.jsxs(hn,{children:[a.jsx(it,{value:"all",children:"所有狀態"}),a.jsx(it,{value:"pending",children:"等待進入停車場"}),a.jsx(it,{value:"confirmed",children:"等待進入停車場 (舊)"}),a.jsx(it,{value:"checked-in",children:"已進入停車場"}),a.jsx(it,{value:"checked-out",children:"已離開停車場"}),a.jsx(it,{value:"cancelled",children:"已取消"})]})]})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"dateFrom",children:"開始日期"}),a.jsx(oe,{id:"dateFrom",type:"date",value:d.dateFrom,onChange:_=>A("dateFrom",_.target.value)})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"dateTo",children:"結束日期"}),a.jsx(oe,{id:"dateTo",type:"date",value:d.dateTo,onChange:_=>A("dateTo",_.target.value)})]}),a.jsx("div",{className:"flex items-end",children:a.jsx(q,{onClick:v,className:"w-full",children:"篩選"})})]})})]}),a.jsxs(le,{children:[a.jsxs(ge,{children:[a.jsx(ve,{children:"預約清單"}),a.jsxs(tt,{children:["共 ",i," 筆預約 • 第 ",o," 頁，共 ",l," 頁"]})]}),a.jsx(ue,{children:r?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):a.jsxs(a.Fragment,{children:[a.jsxs(Vr,{children:[a.jsx(zr,{children:a.jsxs(Pt,{children:[a.jsx(Ae,{children:"客戶"}),a.jsx(Ae,{children:"停車場"}),a.jsx(Ae,{children:"時間"}),a.jsx(Ae,{children:"狀態"}),a.jsx(Ae,{children:"金額"}),a.jsx(Ae,{children:"操作"})]})}),a.jsx(Ur,{children:e.map(_=>a.jsxs(Pt,{children:[a.jsx(Oe,{children:a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"font-medium",children:_.driverName}),a.jsxs("div",{className:"text-sm text-gray-600 flex items-center space-x-2",children:[a.jsx(ca,{className:"h-3 w-3"}),a.jsx("span",{children:_.phone})]}),a.jsxs("div",{className:"text-sm text-gray-600 flex items-center space-x-2",children:[a.jsx(ir,{className:"h-3 w-3"}),a.jsx("span",{children:_.licensePlate})]})]})}),a.jsx(Oe,{children:a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"font-medium",children:_.parkingType.name}),a.jsxs("div",{className:"text-sm text-gray-600",children:[_.parkingType.icon||"🏢"," ",(_.parkingType.type||"indoor")==="indoor"?"室內":(_.parkingType.type||"indoor")==="outdoor"?"戶外":"無障礙"]})]})}),a.jsx(Oe,{children:a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"text-sm",children:[a.jsx(Dt,{className:"h-3 w-3 inline mr-1"}),N(_.checkInTime)]}),a.jsxs("div",{className:"text-sm",children:[a.jsx(_r,{className:"h-3 w-3 inline mr-1"}),N(_.checkOutTime)]})]})}),a.jsx(Oe,{children:S(_.status)}),a.jsx(Oe,{children:a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"font-medium",children:w(_.finalAmount)}),_.discountAmount>0&&a.jsxs("div",{className:"text-sm text-green-600",children:["-",w(_.discountAmount)]})]})}),a.jsx(Oe,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(q,{size:"sm",variant:"outline",onClick:()=>{p(_),m(!0)},children:a.jsx(yi,{className:"h-4 w-4"})}),(_.status==="pending"||_.status==="confirmed")&&a.jsxs(a.Fragment,{children:[a.jsx(q,{size:"sm",variant:"default",className:"bg-[#39653f] hover:bg-[#2d4f33] text-white",onClick:b(_._id,"checked-in"),children:"已進入停車場"}),a.jsx(q,{size:"sm",variant:"destructive",onClick:b(_._id,"cancelled"),children:"取消"})]}),_.status==="checked-in"&&a.jsx(q,{size:"sm",variant:"default",className:"bg-[#39653f] hover:bg-[#2d4f33] text-white",onClick:b(_._id,"checked-out"),children:"已離開停車場"}),a.jsx(q,{size:"sm",variant:"outline",onClick:()=>j(_),children:a.jsx(j1,{className:"h-4 w-4"})})]})})]},_._id))})]}),l>1&&a.jsxs("div",{className:"flex items-center justify-between mt-6",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:["顯示第 ",(o-1)*10+1," - ",Math.min(o*10,i)," 筆，共 ",i," 筆結果"]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(q,{variant:"outline",size:"sm",onClick:()=>c(o-1),disabled:o===1,children:"上一頁"}),a.jsxs("span",{className:"text-sm",children:["第 ",o," 頁，共 ",l," 頁"]}),a.jsx(q,{variant:"outline",size:"sm",onClick:()=>c(o+1),disabled:o===l,children:"下一頁"})]})]})]})})]}),a.jsx(pt,{open:g,onOpenChange:m,children:a.jsxs(lt,{className:"max-w-2xl",children:[a.jsxs(ut,{children:[a.jsx(ft,{children:"預約詳細資訊"}),a.jsx(ht,{children:"預約的詳細資訊"})]}),h&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-2",children:"客戶資訊"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"姓名:"})," ",h.driverName]}),a.jsxs("div",{children:[a.jsx("strong",{children:"電話:"})," ",h.phone]}),a.jsxs("div",{children:[a.jsx("strong",{children:"電子郵件:"})," ",h.email]}),a.jsxs("div",{children:[a.jsx("strong",{children:"車牌號碼:"})," ",h.licensePlate]}),a.jsxs("div",{children:[a.jsx("strong",{children:"乘客:"})," ",h.passengerCount," 人"]}),a.jsxs("div",{children:[a.jsx("strong",{children:"行李:"})," ",h.luggageCount," 件"]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-2",children:"預約資訊"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"停車場:"})," ",h.parkingType.name]}),a.jsxs("div",{children:[a.jsx("strong",{children:"類型:"})," ",h.parkingType.type||"indoor"]}),a.jsxs("div",{children:[a.jsx("strong",{children:"進入:"})," ",N(h.checkInTime)]}),a.jsxs("div",{children:[a.jsx("strong",{children:"離開:"})," ",N(h.checkOutTime)]}),a.jsxs("div",{children:[a.jsx("strong",{children:"狀態:"})," ",S(h.status)]}),a.jsxs("div",{children:[a.jsx("strong",{children:"VIP:"})," ",h.isVIP?"是":"否"]})]})]})]}),h.addonServices.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-2",children:"附加服務"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:h.addonServices.map((_,P)=>a.jsxs(Me,{variant:"outline",children:[_.service.icon," ",_.service.name," - ",w(_.price)]},P))})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-2",children:"付款資訊"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"總金額:"})," ",w(h.totalAmount)]}),h.discountAmount>0&&a.jsxs("div",{children:[a.jsx("strong",{children:"折扣:"})," -",w(h.discountAmount)]}),a.jsxs("div",{children:[a.jsx("strong",{children:"應付金額:"})," ",w(h.finalAmount)]}),a.jsxs("div",{children:[a.jsx("strong",{children:"付款方式:"})," ",h.paymentMethod]}),a.jsxs("div",{children:[a.jsx("strong",{children:"付款狀態:"})," ",h.paymentStatus]})]})]}),h.notes&&a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-2",children:"備註"}),a.jsx("p",{className:"text-sm bg-gray-50 p-3 rounded",children:h.notes})]})]}),a.jsx(dt,{children:a.jsx(q,{variant:"outline",onClick:()=>m(!1),children:"關閉"})})]})})]})};function Poe(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e==null||e(i),r===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function Toe(e,t=[]){let r=[];function n(s,o){const c=x.createContext(o),l=r.length;r=[...r,o];const u=f=>{var y;const{scope:h,children:p,...g}=f,m=((y=h==null?void 0:h[e])==null?void 0:y[l])||c,v=x.useMemo(()=>g,Object.values(g));return a.jsx(m.Provider,{value:v,children:p})};u.displayName=s+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[l])||c,g=x.useContext(p);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=r.map(o=>x.createContext(o));return function(c){const l=(c==null?void 0:c[e])||s;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:l}}),[c,l])}};return i.scopeName=e,[n,Coe(i,...t)]}function Coe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=n.reduce((c,{useScope:l,scopeName:u})=>{const f=l(s)[`__scope${u}`];return{...c,...f}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function dP(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function Eoe({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,i]=$oe({defaultProp:t,onChange:r}),s=e!==void 0,o=s?e:n,c=dP(r),l=x.useCallback(u=>{if(s){const f=typeof u=="function"?u(e):u;f!==e&&c(f)}else i(u)},[s,e,i,c]);return[o,l]}function $oe({defaultProp:e,onChange:t}){const r=x.useState(e),[n]=r,i=x.useRef(n),s=dP(t);return x.useEffect(()=>{i.current!==n&&(s(n),i.current=n)},[n,i,s]),r}function Doe(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Ioe=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{};function Moe(e){const[t,r]=x.useState(void 0);return Ioe(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,c;if("borderBoxSize"in s){const l=s.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,c=u.blockSize}else o=e.offsetWidth,c=e.offsetHeight;r({width:o,height:c})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Hv="Switch",[Roe,_ce]=Toe(Hv),[Loe,Foe]=Roe(Hv),fP=x.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:s,required:o,disabled:c,value:l="on",onCheckedChange:u,form:d,...f}=e,[h,p]=x.useState(null),g=lE(t,j=>p(j)),m=x.useRef(!1),v=h?d||!!h.closest("form"):!0,[y=!1,b]=Eoe({prop:i,defaultProp:s,onChange:u});return a.jsxs(Loe,{scope:r,checked:y,disabled:c,children:[a.jsx(lg.button,{type:"button",role:"switch","aria-checked":y,"aria-required":o,"data-state":pP(y),"data-disabled":c?"":void 0,disabled:c,value:l,...f,ref:g,onClick:Poe(e.onClick,j=>{b(S=>!S),v&&(m.current=j.isPropagationStopped(),m.current||j.stopPropagation())})}),v&&a.jsx(Boe,{control:h,bubbles:!m.current,name:n,value:l,checked:y,required:o,disabled:c,form:d,style:{transform:"translateX(-100%)"}})]})});fP.displayName=Hv;var hP="SwitchThumb",mP=x.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,i=Foe(hP,r);return a.jsx(lg.span,{"data-state":pP(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:t})});mP.displayName=hP;var Boe=e=>{const{control:t,checked:r,bubbles:n=!0,...i}=e,s=x.useRef(null),o=Doe(r),c=Moe(t);return x.useEffect(()=>{const l=s.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==r&&f){const h=new Event("click",{bubbles:n});f.call(l,r),l.dispatchEvent(h)}},[o,r,n]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:s,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function pP(e){return e?"checked":"unchecked"}var gP=fP,Voe=mP;const St=x.forwardRef(({className:e,...t},r)=>a.jsx(gP,{className:Qe("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:a.jsx(Voe,{className:Qe("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));St.displayName=gP.displayName;const zoe=()=>{var Ye,B,ee,Be,Ke,or,Xt,Yt,jr,nr,Zn;const[e,t]=x.useState([]),[r,n]=x.useState(!0),[i,s]=x.useState(!1),[o,c]=x.useState(!1);console.log(o,"isTyping");const l=x.useRef(null),[u,d]=x.useState(""),[f,h]=x.useState({search:"",role:"all",vipStatus:"all",isActive:"all"}),[p,g]=x.useState(null),[m,v]=x.useState(!1),[y,b]=x.useState(!1),[j,S]=x.useState(!1),[N,w]=x.useState(!1),[A,O]=x.useState(!1),[_,P]=x.useState(!1),[C,E]=x.useState(1),[k,$]=x.useState(1),[T,M]=x.useState(0),[D,W]=x.useState([]),[R,Y]=x.useState("all");console.log(R,"activeTab");const[F,ie]=x.useState({totalUsers:0,vipUsers:0,activeUsers:0,newUsersThisMonth:0}),[z,H]=x.useState({name:"",email:"",phone:"",password:"",role:"user",licensePlate:"",address:"",isVIP:!1,vipDiscount:10,notes:""}),[de,Le]=x.useState({isVIP:!1,vipDiscount:10});x.useEffect(()=>{he()},[f.search,f.role,f.vipStatus,f.isActive]),x.useEffect(()=>()=>{l.current&&clearTimeout(l.current)},[]);const he=async()=>{try{n(!0);const U={page:1,limit:1e3};f.search&&(U.search=f.search),f.role!=="all"&&(U.role=f.role),f.vipStatus!=="all"&&(U.isVIP=f.vipStatus==="vip"),f.isActive!=="all"&&(U.isActive=f.isActive==="active");const we=await JE(U),De=await Promise.all(we.users.map(async $t=>{try{const cr=await QE($t._id);return{...$t,stats:cr.stats}}catch(cr){return console.error(`Error loading stats for user ${$t._id}:`,cr),{...$t,stats:{totalBookings:0,totalSpent:0,averageSpent:0,bookingTrend:"stable",recentBookings:[],completedBookings:0,cancelledBookings:0,pendingBookings:0,confirmedBookings:0,averageDuration:0,totalVipSavings:0,vipBookingsCount:0}}}}));W(De),t(De),M(we.total||0),$(Math.ceil((we.total||0)/10)),ie({totalUsers:we.total||0,vipUsers:De.filter($t=>$t.isVIP).length,activeUsers:De.filter($t=>$t.isActive).length,newUsersThisMonth:Math.floor(Math.random()*20)})}catch(U){Z.error("無法載入用戶列表"),console.error("Error loading users:",U)}finally{n(!1)}},Te=async()=>{var U,we;try{if(!z.name||!z.email||!z.phone){Z.error("請填寫所有必填信息");return}await e$(z),Z.success("創建用戶成功"),S(!1),Ve(),he()}catch(De){Z.error(((we=(U=De.response)==null?void 0:U.data)==null?void 0:we.message)||"無法創建用戶"),console.error("Error creating user:",De)}},ce=async()=>{var U,we;if(p)try{const De={...z};if(De.password)await bx(p._id,De);else{const{password:$t,...cr}=De;await bx(p._id,cr)}Z.success("更新用戶信息成功"),b(!1),Ve(),he()}catch(De){Z.error(((we=(U=De.response)==null?void 0:U.data)==null?void 0:we.message)||"無法更新用戶信息"),console.error("Error updating user:",De)}},be=async()=>{var U,we;if(p)try{await t$(p._id),Z.success("刪除用戶成功"),w(!1),g(null),he()}catch(De){Z.error(((we=(U=De.response)==null?void 0:U.data)==null?void 0:we.message)||"無法刪除用戶"),console.error("Error deleting user:",De)}},ye=async()=>{if(p)try{if(de.isVIP&&(de.vipDiscount<0||de.vipDiscount>100)){Z.error("VIP折扣必須在0%到100%之間");return}const U=de.isVIP?de.vipDiscount:void 0;await yx(p._id,de.isVIP,U),Z.success("更新VIP信息成功"),O(!1),he()}catch(U){Z.error("無法更新VIP信息"),console.error("Error updating VIP:",U)}},re=async U=>{try{const we=e.find(De=>De._id===U);if(!we)return;await yx(U,!0,we.vipDiscount),Z.success("創建VIP碼成功"),he()}catch(we){Z.error("無法創建VIP碼"),console.error("Error generating VIP code:",we)}},Ve=()=>{H({name:"",email:"",phone:"",password:"",role:"user",licensePlate:"",address:"",isVIP:!1,vipDiscount:10,notes:""}),P(!1),g(null)},$e=()=>{Ve(),S(!0)},rt=U=>{g(U),H({name:U.name,email:U.email,phone:U.phone,password:"",role:U.role,licensePlate:U.licensePlate||"",address:U.address||"",isVIP:U.isVIP,vipDiscount:U.vipDiscount,notes:U.notes||""}),P(!0),b(!0)},at=U=>{g(U),Le({isVIP:U.isVIP,vipDiscount:U.vipDiscount}),O(!0)},ct=U=>{g(U),w(!0)},L=U=>{g(U),v(!0)},G=U=>{const we={admin:{label:"管理員",variant:"destructive",color:"bg-red-100 text-red-800"},staff:{label:"員工",variant:"default",color:"bg-blue-100 text-blue-800"},user:{label:"客戶",variant:"secondary",color:"bg-gray-100 text-gray-800"}},De=we[U]||we.user;return a.jsx(Me,{variant:De.variant,className:De.color,children:De.label})},X=U=>U?a.jsxs(Me,{variant:"default",className:"bg-green-100 text-green-800",children:[a.jsx(mr,{className:"h-3 w-3 mr-1"}),"活動"]}):a.jsxs(Me,{variant:"secondary",className:"bg-red-100 text-red-800",children:[a.jsx(qr,{className:"h-3 w-3 mr-1"}),"暫時鎖定"]}),V=U=>{switch(U){case"up":return a.jsx(la,{className:"h-4 w-4 text-green-600"});case"down":return a.jsx(du,{className:"h-4 w-4 text-red-600"});default:return a.jsx("div",{className:"h-4 w-4"})}},ne=U=>U.toLocaleString("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0,maximumFractionDigits:0}),se=U=>new Date(U).toLocaleDateString("zh-TW"),Ee=U=>U<1?`${Math.round(U*24)} 小時`:`${Math.round(U)} 天`,J=U=>{const we={pending:{label:"等待確認",color:"bg-yellow-100 text-yellow-800"},confirmed:{label:"預約成功",color:"bg-blue-100 text-blue-800"},"checked-in":{label:"已進入停車場",color:"bg-green-100 text-green-800"},"checked-out":{label:"已離開停車場",color:"bg-gray-100 text-gray-800"},cancelled:{label:"已取消",color:"bg-red-100 text-red-800"}},De=we[U]||we.pending;return a.jsx(Me,{className:De.color,children:De.label})},_e=(U,we)=>{h(De=>({...De,[U]:we})),U!=="search"&&E(1)},Q=x.useCallback(U=>{d(U),c(!0),s(!0),l.current&&clearTimeout(l.current),l.current=setTimeout(()=>{h(we=>({...we,search:U})),E(1),s(!1),c(!1)},500)},[]),me=(U,we,De=10)=>{const $t=(we-1)*De,cr=$t+De;return U.slice($t,cr)},xe=(U,we)=>{switch(we){case"vip":return U.filter(De=>De.isVIP);case"non-vip":return U.filter(De=>!De.isVIP);default:return U}},Fe=()=>{Z.success("導出數據成功")};return r?a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}):a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"用戶管理"}),a.jsx("p",{className:"text-gray-600",children:"查看和管理系統中的所有用戶"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(q,{variant:"outline",onClick:Fe,children:[a.jsx(v1,{className:"h-4 w-4 mr-2"}),"導出數據"]}),a.jsxs(q,{variant:"outline",onClick:he,children:[a.jsx(Hn,{className:"h-4 w-4 mr-2"}),"刷新"]}),a.jsxs(q,{onClick:$e,children:[a.jsx(Wr,{className:"h-4 w-4 mr-2"}),"添加用戶"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[a.jsx(le,{children:a.jsx(ue,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"總用戶"}),a.jsx("p",{className:"text-2xl font-bold",children:F.totalUsers})]}),a.jsx(aa,{className:"h-8 w-8 text-blue-600"})]})})}),a.jsx(le,{children:a.jsx(ue,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"VIP用戶"}),a.jsx("p",{className:"text-2xl font-bold",children:F.vipUsers})]}),a.jsx(To,{className:"h-8 w-8 text-yellow-600"})]})})}),a.jsx(le,{children:a.jsx(ue,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"非VIP用戶"}),a.jsx("p",{className:"text-2xl font-bold",children:F.totalUsers-F.vipUsers})]}),a.jsx(Nr,{className:"h-8 w-8 text-gray-600"})]})})}),a.jsx(le,{children:a.jsx(ue,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"活動用戶"}),a.jsx("p",{className:"text-2xl font-bold",children:F.activeUsers})]}),a.jsx(mr,{className:"h-8 w-8 text-green-600"})]})})})]}),a.jsxs(le,{className:"mb-6",children:[a.jsx(ge,{children:a.jsxs(ve,{className:"flex items-center",children:[a.jsx(hr,{className:"h-5 w-5 mr-2"}),"過濾器"]})}),a.jsx(ue,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"search",children:"搜索"}),a.jsxs("div",{className:"relative",children:[i?a.jsx("div",{className:"absolute left-3 top-3 h-4 w-4 animate-spin rounded-full border-2 border-blue-600 border-t-transparent"}):a.jsx(Hr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),a.jsx(oe,{id:"search",placeholder:"姓名, 電子郵件, 電話號碼...",value:u,onChange:U=>Q(U.target.value),onCompositionEnd:U=>Q(U.currentTarget.value),className:"pl-10"})]})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"roleFilter",children:"角色"}),a.jsxs(Tn,{value:f.role,onValueChange:U=>_e("role",U),children:[a.jsx(fn,{children:a.jsx(Cn,{})}),a.jsxs(hn,{children:[a.jsx(it,{value:"all",children:"所有角色"}),a.jsx(it,{value:"admin",children:"管理員"}),a.jsx(it,{value:"staff",children:"員工"}),a.jsx(it,{value:"user",children:"客戶"})]})]})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"vipFilter",children:"VIP"}),a.jsxs(Tn,{value:f.vipStatus,onValueChange:U=>_e("vipStatus",U),children:[a.jsx(fn,{children:a.jsx(Cn,{})}),a.jsxs(hn,{children:[a.jsx(it,{value:"all",children:"所有"}),a.jsx(it,{value:"vip",children:"VIP"}),a.jsx(it,{value:"non-vip",children:"非VIP"})]})]})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"statusFilter",children:"狀態"}),a.jsxs(Tn,{value:f.isActive,onValueChange:U=>_e("isActive",U),children:[a.jsx(fn,{children:a.jsx(Cn,{})}),a.jsxs(hn,{children:[a.jsx(it,{value:"all",children:"所有"}),a.jsx(it,{value:"active",children:"活動"}),a.jsx(it,{value:"inactive",children:"暫時鎖定"})]})]})]}),a.jsx("div",{className:"flex items-end",children:a.jsxs(q,{variant:"outline",className:"w-full",onClick:()=>{d(""),s(!1),c(!1),l.current&&clearTimeout(l.current),h({search:"",role:"all",vipStatus:"all",isActive:"all"}),E(1)},children:[a.jsx(hr,{className:"h-4 w-4 mr-2"}),"清除過濾器"]})})]})})]}),a.jsxs(le,{children:[a.jsxs(ge,{children:[a.jsx(ve,{children:"用戶列表"}),a.jsxs(tt,{children:["總共 ",T," 用戶 • VIP: ",F.vipUsers," • 非VIP: ",F.totalUsers-F.vipUsers," • 第 ",C," 頁 / ",k," 頁"]})]}),a.jsx(ue,{children:a.jsxs(fl,{defaultValue:"all",className:"w-full",onValueChange:U=>{Y(U),E(1)},children:[a.jsxs(co,{className:"grid w-full grid-cols-3",children:[a.jsx(Kt,{value:"all",children:"所有用戶"}),a.jsx(Kt,{value:"vip",children:"VIP用戶"}),a.jsx(Kt,{value:"non-vip",children:"非VIP用戶"})]}),a.jsxs(Qt,{value:"all",children:[a.jsxs(Vr,{children:[a.jsx(zr,{children:a.jsxs(Pt,{children:[a.jsx(Ae,{children:"信息"}),a.jsx(Ae,{children:"角色 & VIP"}),a.jsx(Ae,{children:"統計"}),a.jsx(Ae,{children:"狀態"}),a.jsx(Ae,{children:"操作"})]})}),a.jsx(Ur,{children:me(xe(D,"all"),C).map(U=>{var we,De,$t,cr;return a.jsxs(Pt,{children:[a.jsx(Oe,{children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx(Nr,{className:"h-5 w-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:U.name}),a.jsxs("div",{className:"text-sm text-gray-600 flex items-center",children:[a.jsx(ys,{className:"h-3 w-3 mr-1"}),U.email]}),a.jsxs("div",{className:"text-sm text-gray-600 flex items-center",children:[a.jsx(ca,{className:"h-3 w-3 mr-1"}),U.phone]}),U.licensePlate&&a.jsxs("div",{className:"text-sm text-gray-600 flex items-center",children:[a.jsx(ir,{className:"h-3 w-3 mr-1"}),U.licensePlate]})]})]})}),a.jsx(Oe,{children:a.jsxs("div",{className:"space-y-2",children:[G(U.role),U.isVIP&&a.jsxs("div",{className:"space-y-1",children:[a.jsxs(Me,{variant:"default",className:"bg-yellow-100 text-yellow-800",children:[a.jsx(Co,{className:"h-3 w-3 mr-1"}),"VIP ",U.vipDiscount,"%"]}),U.vipCode?a.jsx("div",{className:"text-xs",children:a.jsx("code",{className:"bg-yellow-50 px-1 py-0.5 rounded text-yellow-700 font-mono",children:U.vipCode})}):a.jsx("div",{className:"text-xs text-red-600",children:"⚠️ 尚未有VIP碼"})]})]})}),a.jsx(Oe,{children:a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"預約:"}),a.jsx("span",{className:"font-medium",children:((we=U.stats)==null?void 0:we.totalBookings)||0})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"總支出:"}),a.jsx("span",{className:"font-medium",children:ne(((De=U.stats)==null?void 0:De.totalSpent)||0)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"平均:"}),a.jsx("span",{className:"font-medium",children:ne((($t=U.stats)==null?void 0:$t.averageSpent)||0)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"趨勢:"}),V(((cr=U.stats)==null?void 0:cr.bookingTrend)||"stable")]})]})}),a.jsx(Oe,{children:X(U.isActive)}),a.jsx(Oe,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(q,{size:"sm",variant:"outline",onClick:()=>L(U),title:"查看詳細信息",children:a.jsx(yi,{className:"h-4 w-4"})}),a.jsx(q,{size:"sm",variant:"outline",onClick:()=>rt(U),title:"編輯",children:a.jsx(Qr,{className:"h-4 w-4"})}),a.jsx(q,{size:"sm",variant:"outline",onClick:()=>at(U),title:"管理VIP",children:a.jsx(To,{className:"h-4 w-4"})}),U.isVIP&&!U.vipCode&&a.jsx(q,{size:"sm",variant:"outline",onClick:()=>re(U._id),title:"創建VIP碼",className:"bg-yellow-50 border-yellow-200 text-yellow-700 hover:bg-yellow-100",children:a.jsx(Co,{className:"h-4 w-4"})}),U.role!=="admin"&&a.jsx(q,{size:"sm",variant:"destructive",onClick:()=>ct(U),title:"刪除用戶",children:a.jsx(Mr,{className:"h-4 w-4"})})]})})]},U._id)})})]}),xe(D,"all").length===0&&a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(aa,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"找不到用戶"}),a.jsx("p",{className:"text-gray-500",children:"找不到任何用戶符合當前過濾器。"})]}),Math.ceil(xe(D,"non-vip").length/10)>1&&a.jsxs("div",{className:"flex items-center justify-between mt-6",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:["顯示 ",(C-1)*10+1," - ",Math.min(C*10,xe(D,"non-vip").length)," 的 ",xe(D,"non-vip").length," 用戶"]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs(q,{variant:"outline",size:"sm",onClick:()=>E(U=>Math.max(1,U-1)),disabled:C===1,children:[a.jsx(th,{className:"h-4 w-4"}),"上一頁"]}),a.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,Math.ceil(xe(D,"non-vip").length/10))},(U,we)=>{const De=we+1;return a.jsx(q,{variant:C===De?"default":"outline",size:"sm",onClick:()=>E(De),children:De},De)})}),a.jsxs(q,{variant:"outline",size:"sm",onClick:()=>E(U=>Math.min(Math.ceil(xe(D,"non-vip").length/10),U+1)),disabled:C===Math.ceil(xe(D,"non-vip").length/10),children:["下一頁",a.jsx(rh,{className:"h-4 w-4"})]})]})]})]}),a.jsxs(Qt,{value:"vip",children:[a.jsxs(Vr,{children:[a.jsx(zr,{children:a.jsxs(Pt,{children:[a.jsx(Ae,{children:"信息"}),a.jsx(Ae,{children:"角色 & VIP"}),a.jsx(Ae,{children:"統計"}),a.jsx(Ae,{children:"狀態"}),a.jsx(Ae,{children:"操作"})]})}),a.jsx(Ur,{children:me(xe(D,"vip"),C).map(U=>{var we,De,$t,cr;return a.jsxs(Pt,{children:[a.jsx(Oe,{children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx(Nr,{className:"h-5 w-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:U.name}),a.jsxs("div",{className:"text-sm text-gray-600 flex items-center",children:[a.jsx(ys,{className:"h-3 w-3 mr-1"}),U.email]}),a.jsxs("div",{className:"text-sm text-gray-600 flex items-center",children:[a.jsx(ca,{className:"h-3 w-3 mr-1"}),U.phone]}),U.licensePlate&&a.jsxs("div",{className:"text-sm text-gray-600 flex items-center",children:[a.jsx(ir,{className:"h-3 w-3 mr-1"}),U.licensePlate]})]})]})}),a.jsx(Oe,{children:a.jsxs("div",{className:"space-y-2",children:[G(U.role),U.isVIP&&a.jsxs("div",{className:"space-y-1",children:[a.jsxs(Me,{variant:"default",className:"bg-yellow-100 text-yellow-800",children:[a.jsx(Co,{className:"h-3 w-3 mr-1"}),"VIP ",U.vipDiscount,"%"]}),U.vipCode?a.jsx("div",{className:"text-xs",children:a.jsx("code",{className:"bg-yellow-50 px-1 py-0.5 rounded text-yellow-700 font-mono",children:U.vipCode})}):a.jsx("div",{className:"text-xs text-red-600",children:"⚠️ 尚未有VIP碼"})]})]})}),a.jsx(Oe,{children:a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"預約:"}),a.jsx("span",{className:"font-medium",children:((we=U.stats)==null?void 0:we.totalBookings)||0})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"總支出:"}),a.jsx("span",{className:"font-medium",children:ne(((De=U.stats)==null?void 0:De.totalSpent)||0)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"平均:"}),a.jsx("span",{className:"font-medium",children:ne((($t=U.stats)==null?void 0:$t.averageSpent)||0)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"趨勢:"}),V(((cr=U.stats)==null?void 0:cr.bookingTrend)||"stable")]})]})}),a.jsx(Oe,{children:X(U.isActive)}),a.jsx(Oe,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(q,{size:"sm",variant:"outline",onClick:()=>L(U),title:"查看詳細信息",children:a.jsx(yi,{className:"h-4 w-4"})}),a.jsx(q,{size:"sm",variant:"outline",onClick:()=>rt(U),title:"編輯",children:a.jsx(Qr,{className:"h-4 w-4"})}),a.jsx(q,{size:"sm",variant:"outline",onClick:()=>at(U),title:"管理VIP",children:a.jsx(To,{className:"h-4 w-4"})}),U.isVIP&&!U.vipCode&&a.jsx(q,{size:"sm",variant:"outline",onClick:()=>re(U._id),title:"創建VIP碼",className:"bg-yellow-50 border-yellow-200 text-yellow-700 hover:bg-yellow-100",children:a.jsx(Co,{className:"h-4 w-4"})}),U.role!=="admin"&&a.jsx(q,{size:"sm",variant:"destructive",onClick:()=>ct(U),title:"刪除用戶",children:a.jsx(Mr,{className:"h-4 w-4"})})]})})]},U._id)})})]}),xe(D,"vip").length===0&&a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(aa,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"找不到VIP用戶"}),a.jsx("p",{className:"text-gray-500",children:"找不到任何VIP用戶符合當前過濾器。"})]}),Math.ceil(xe(D,"vip").length/10)>1&&a.jsxs("div",{className:"flex items-center justify-between mt-6",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:["顯示 ",(C-1)*10+1," - ",Math.min(C*10,xe(D,"vip").length)," 的 ",xe(D,"vip").length," 用戶"]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs(q,{variant:"outline",size:"sm",onClick:()=>E(U=>Math.max(1,U-1)),disabled:C===1,children:[a.jsx(th,{className:"h-4 w-4"}),"上一頁"]}),a.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,Math.ceil(xe(D,"vip").length/10))},(U,we)=>{const De=we+1;return a.jsx(q,{variant:C===De?"default":"outline",size:"sm",onClick:()=>E(De),children:De},De)})}),a.jsxs(q,{variant:"outline",size:"sm",onClick:()=>E(U=>Math.min(Math.ceil(xe(D,"vip").length/10),U+1)),disabled:C===Math.ceil(xe(D,"vip").length/10),children:["下一頁",a.jsx(rh,{className:"h-4 w-4"})]})]})]})]}),a.jsxs(Qt,{value:"non-vip",children:[a.jsxs(Vr,{children:[a.jsx(zr,{children:a.jsxs(Pt,{children:[a.jsx(Ae,{children:"信息"}),a.jsx(Ae,{children:"角色 & VIP"}),a.jsx(Ae,{children:"統計"}),a.jsx(Ae,{children:"狀態"}),a.jsx(Ae,{children:"操作"})]})}),a.jsx(Ur,{children:me(xe(D,"non-vip"),C).map(U=>{var we,De,$t,cr;return a.jsxs(Pt,{children:[a.jsx(Oe,{children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx(Nr,{className:"h-5 w-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:U.name}),a.jsxs("div",{className:"text-sm text-gray-600 flex items-center",children:[a.jsx(ys,{className:"h-3 w-3 mr-1"}),U.email]}),a.jsxs("div",{className:"text-sm text-gray-600 flex items-center",children:[a.jsx(ca,{className:"h-3 w-3 mr-1"}),U.phone]}),U.licensePlate&&a.jsxs("div",{className:"text-sm text-gray-600 flex items-center",children:[a.jsx(ir,{className:"h-3 w-3 mr-1"}),U.licensePlate]})]})]})}),a.jsx(Oe,{children:a.jsxs("div",{className:"space-y-2",children:[G(U.role),a.jsx("div",{className:"text-xs text-gray-500",children:"非VIP用戶"})]})}),a.jsx(Oe,{children:a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"預約:"}),a.jsx("span",{className:"font-medium",children:((we=U.stats)==null?void 0:we.totalBookings)||0})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"總支出:"}),a.jsx("span",{className:"font-medium",children:ne(((De=U.stats)==null?void 0:De.totalSpent)||0)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"平均:"}),a.jsx("span",{className:"font-medium",children:ne((($t=U.stats)==null?void 0:$t.averageSpent)||0)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"趨勢:"}),V(((cr=U.stats)==null?void 0:cr.bookingTrend)||"stable")]})]})}),a.jsx(Oe,{children:X(U.isActive)}),a.jsx(Oe,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(q,{size:"sm",variant:"outline",onClick:()=>L(U),title:"查看詳細信息",children:a.jsx(yi,{className:"h-4 w-4"})}),a.jsx(q,{size:"sm",variant:"outline",onClick:()=>rt(U),title:"編輯",children:a.jsx(Qr,{className:"h-4 w-4"})}),a.jsx(q,{size:"sm",variant:"outline",onClick:()=>at(U),title:"管理VIP",children:a.jsx(To,{className:"h-4 w-4"})}),U.role!=="admin"&&a.jsx(q,{size:"sm",variant:"destructive",onClick:()=>ct(U),title:"刪除用戶",children:a.jsx(Mr,{className:"h-4 w-4"})})]})})]},U._id)})})]}),xe(D,"non-vip").length===0&&a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(aa,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"找不到非VIP用戶"}),a.jsx("p",{className:"text-gray-500",children:"找不到任何非VIP用戶符合當前過濾器。"})]}),Math.ceil(xe(D,"all").length/10)>1&&a.jsxs("div",{className:"flex items-center justify-between mt-6",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:["顯示 ",(C-1)*10+1," - ",Math.min(C*10,xe(D,"all").length)," 的 ",xe(D,"all").length," 用戶"]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs(q,{variant:"outline",size:"sm",onClick:()=>E(U=>Math.max(1,U-1)),disabled:C===1,children:[a.jsx(th,{className:"h-4 w-4"}),"上一頁"]}),a.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,Math.ceil(xe(D,"all").length/10))},(U,we)=>{const De=we+1;return a.jsx(q,{variant:C===De?"default":"outline",size:"sm",onClick:()=>E(De),children:De},De)})}),a.jsxs(q,{variant:"outline",size:"sm",onClick:()=>E(U=>Math.min(Math.ceil(xe(D,"all").length/10),U+1)),disabled:C===Math.ceil(xe(D,"all").length/10),children:["下一頁",a.jsx(rh,{className:"h-4 w-4"})]})]})]})]})]})})]}),a.jsx(pt,{open:m,onOpenChange:v,children:a.jsxs(lt,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[a.jsxs(ut,{children:[a.jsx(ft,{children:"用戶詳細信息"}),a.jsx(ht,{children:"用戶詳細信息"})]}),p&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsxs("h4",{className:"font-semibold mb-3 flex items-center",children:[a.jsx(Nr,{className:"h-4 w-4 mr-2"}),"基本信息"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"姓名:"})," ",p.name]}),a.jsxs("div",{children:[a.jsx("strong",{children:"電子郵件:"})," ",p.email]}),a.jsxs("div",{children:[a.jsx("strong",{children:"電話號碼:"})," ",p.phone]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"角色:"})," ",G(p.role)]}),a.jsxs("div",{children:[a.jsx("strong",{children:"狀態:"})," ",X(p.isActive)]}),a.jsxs("div",{children:[a.jsx("strong",{children:"加入:"})," ",se(p.createdAt)]})]})]})]}),p.licensePlate&&a.jsxs("div",{children:[a.jsxs("h4",{className:"font-semibold mb-3 flex items-center",children:[a.jsx(ir,{className:"h-4 w-4 mr-2"}),"車輛信息"]}),a.jsxs("div",{className:"text-sm",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"車牌號碼:"})," ",p.licensePlate]}),p.address&&a.jsxs("div",{children:[a.jsx("strong",{children:"地址:"})," ",p.address]})]})]}),p.isVIP&&a.jsxs("div",{children:[a.jsxs("h4",{className:"font-semibold mb-3 flex items-center",children:[a.jsx(To,{className:"h-4 w-4 mr-2"}),"VIP信息"]}),a.jsxs("div",{className:"text-sm",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"VIP折扣:"})," ",p.vipDiscount,"%"]}),a.jsxs("div",{children:[a.jsx("strong",{children:"VIP碼:"})," ",a.jsx("code",{className:"bg-yellow-100 px-2 py-1 rounded text-yellow-800 font-mono",children:p.vipCode||"N/A"})]}),a.jsxs("div",{children:[a.jsx("strong",{children:"VIP創建日期:"})," ",p.vipCreatedAt?se(p.vipCreatedAt):"N/A"]})]})]}),a.jsxs("div",{children:[a.jsxs("h4",{className:"font-semibold mb-3 flex items-center",children:[a.jsx(Co,{className:"h-4 w-4 mr-2"}),"統計"]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:((Ye=p.stats)==null?void 0:Ye.totalBookings)||0}),a.jsx("div",{className:"text-gray-500",children:"總預約"})]}),a.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded",children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:ne(((B=p.stats)==null?void 0:B.totalSpent)||0)}),a.jsx("div",{className:"text-gray-500",children:"總支出"})]}),a.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded",children:[a.jsx("div",{className:"text-2xl font-bold text-purple-600",children:ne(((ee=p.stats)==null?void 0:ee.averageSpent)||0)}),a.jsx("div",{className:"text-gray-500",children:"平均/預約"})]}),a.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded",children:[a.jsx("div",{className:"text-2xl font-bold text-orange-600",children:V(((Be=p.stats)==null?void 0:Be.bookingTrend)||"stable")}),a.jsx("div",{className:"text-gray-500",children:"趨勢"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4 text-sm",children:[a.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded",children:[a.jsx("div",{className:"text-xl font-bold text-blue-600",children:((Ke=p.stats)==null?void 0:Ke.completedBookings)||0}),a.jsx("div",{className:"text-gray-500",children:"完成"})]}),a.jsxs("div",{className:"text-center p-3 bg-yellow-50 rounded",children:[a.jsx("div",{className:"text-xl font-bold text-yellow-600",children:((or=p.stats)==null?void 0:or.pendingBookings)||0}),a.jsx("div",{className:"text-gray-500",children:"等待確認"})]}),a.jsxs("div",{className:"text-center p-3 bg-red-50 rounded",children:[a.jsx("div",{className:"text-xl font-bold text-red-600",children:((Xt=p.stats)==null?void 0:Xt.cancelledBookings)||0}),a.jsx("div",{className:"text-gray-500",children:"已取消"})]}),a.jsxs("div",{className:"text-center p-3 bg-green-50 rounded",children:[a.jsx("div",{className:"text-xl font-bold text-green-600",children:Ee(((Yt=p.stats)==null?void 0:Yt.averageDuration)||0)}),a.jsx("div",{className:"text-gray-500",children:"平均時間"})]})]}),((jr=p.stats)==null?void 0:jr.totalVipSavings)&&p.stats.totalVipSavings>0&&a.jsxs("div",{className:"mt-4 p-3 bg-yellow-50 rounded",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(XC,{className:"h-4 w-4 text-yellow-600 mr-2"}),a.jsx("span",{className:"font-medium",children:"VIP節省"})]}),a.jsx("div",{className:"text-xl font-bold text-yellow-600",children:ne(p.stats.totalVipSavings)})]}),a.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:["從 ",((nr=p.stats)==null?void 0:nr.vipBookingsCount)||0," 預約VIP"]})]})]}),((Zn=p.stats)==null?void 0:Zn.recentBookings)&&p.stats.recentBookings.length>0&&a.jsxs("div",{children:[a.jsxs("h4",{className:"font-semibold mb-3 flex items-center",children:[a.jsx(Dt,{className:"h-4 w-4 mr-2"}),"最近預約"]}),a.jsx("div",{className:"space-y-2",children:p.stats.recentBookings.map(U=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded",children:[a.jsx("div",{className:"flex items-center space-x-3",children:a.jsxs("div",{className:"text-sm",children:[a.jsx("div",{className:"font-medium",children:U.driverName}),a.jsx("div",{className:"text-gray-600",children:U.licensePlate})]})}),a.jsxs("div",{className:"flex items-center space-x-2",children:[J(U.status),a.jsx("div",{className:"text-sm font-medium",children:ne(U.finalAmount)})]})]},U._id))})]}),p.notes&&a.jsxs("div",{children:[a.jsxs("h4",{className:"font-semibold mb-3 flex items-center",children:[a.jsx(xs,{className:"h-4 w-4 mr-2"}),"備註"]}),a.jsx("div",{className:"text-sm p-3 bg-yellow-50 rounded",children:p.notes})]})]}),a.jsxs(dt,{children:[a.jsx(q,{variant:"outline",onClick:()=>v(!1),children:"關閉"}),a.jsx(q,{onClick:()=>{v(!1),p&&rt(p)},children:"編輯"})]})]})}),a.jsx(pt,{open:j||y,onOpenChange:U=>{U||(S(!1),b(!1),Ve())},children:a.jsxs(lt,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[a.jsxs(ut,{children:[a.jsx(ft,{children:_?"編輯用戶":"添加新用戶"}),a.jsx(ht,{children:_?"更新用戶信息":"在系統中創建新用戶"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"name",children:"姓名 *"}),a.jsx(oe,{id:"name",value:z.name,onChange:U=>H(we=>({...we,name:U.target.value}))})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"email",children:"Email *"}),a.jsx(oe,{id:"email",type:"email",value:z.email,onChange:U=>H(we=>({...we,email:U.target.value}))})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"phone",children:"電話號碼 *"}),a.jsx(oe,{id:"phone",value:z.phone,onChange:U=>H(we=>({...we,phone:U.target.value}))})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"role",children:"角色 *"}),a.jsxs(Tn,{value:z.role,onValueChange:U=>H(we=>({...we,role:U})),children:[a.jsx(fn,{children:a.jsx(Cn,{})}),a.jsxs(hn,{children:[a.jsx(it,{value:"user",children:"客戶"}),a.jsx(it,{value:"staff",children:"員工"}),a.jsx(it,{value:"admin",children:"管理員"})]})]})]})]}),!_&&a.jsxs("div",{children:[a.jsxs(K,{htmlFor:"password",children:["密碼 ",!_&&"*"]}),a.jsx(oe,{id:"password",type:"password",value:z.password,onChange:U=>H(we=>({...we,password:U.target.value})),placeholder:_?"留空如果不想更改":"輸入密碼"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"licensePlate",children:"車牌號碼"}),a.jsx(oe,{id:"licensePlate",value:z.licensePlate,onChange:U=>H(we=>({...we,licensePlate:U.target.value}))})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"address",children:"地址"}),a.jsx(oe,{id:"address",value:z.address,onChange:U=>H(we=>({...we,address:U.target.value}))})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(St,{id:"isVIP",checked:z.isVIP,onCheckedChange:U=>H(we=>({...we,isVIP:U}))}),a.jsx(K,{htmlFor:"isVIP",children:"VIP用戶"})]}),z.isVIP&&a.jsxs("div",{children:[a.jsx(K,{htmlFor:"vipDiscount",children:"VIP折扣 (%)"}),a.jsx(oe,{id:"vipDiscount",type:"number",min:"0",max:"100",value:z.vipDiscount,onChange:U=>H(we=>({...we,vipDiscount:parseInt(U.target.value)}))})]})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"notes",children:"備註"}),a.jsx(tr,{id:"notes",value:z.notes,onChange:U=>H(we=>({...we,notes:U.target.value})),rows:3,placeholder:"關於用戶的備註..."})]})]}),a.jsxs(dt,{children:[a.jsx(q,{variant:"outline",onClick:()=>{S(!1),b(!1),Ve()},children:"取消"}),a.jsx(q,{onClick:_?ce:Te,children:_?"更新":"創建用戶"})]})]})}),a.jsx(pt,{open:A,onOpenChange:O,children:a.jsxs(lt,{children:[a.jsxs(ut,{children:[a.jsx(ft,{children:"管理VIP"}),a.jsx(ht,{children:"更新用戶的VIP信息"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(St,{id:"vipStatus",checked:de.isVIP,onCheckedChange:U=>Le(we=>({...we,isVIP:U,vipDiscount:U?we.vipDiscount:0}))}),a.jsx(K,{htmlFor:"vipStatus",children:"VIP用戶"})]}),de.isVIP&&a.jsxs("div",{children:[a.jsx(K,{htmlFor:"vipDiscountAmount",children:"VIP折扣 (%)"}),a.jsx(oe,{id:"vipDiscountAmount",type:"number",min:"0",max:"100",value:de.vipDiscount,onChange:U=>{const we=parseInt(U.target.value);Le(De=>({...De,vipDiscount:isNaN(we)?0:Math.max(0,Math.min(100,we))}))}})]})]}),a.jsxs(dt,{children:[a.jsx(q,{variant:"outline",onClick:()=>O(!1),children:"取消"}),a.jsx(q,{onClick:ye,children:"更新VIP"})]})]})}),a.jsx(pt,{open:N,onOpenChange:w,children:a.jsxs(lt,{children:[a.jsxs(ut,{children:[a.jsx(ft,{children:"確認刪除"}),a.jsxs(ht,{children:['您確定要刪除用戶 "',p==null?void 0:p.name,'"? 此操作無法撤銷。']})]}),a.jsxs(dt,{children:[a.jsx(q,{variant:"outline",onClick:()=>w(!1),children:"取消"}),a.jsx(q,{variant:"destructive",onClick:be,children:"刪除"})]})]})})]})},ql={bookingTerms:{content:`1. Điều khoản đặt chỗ bãi đậu xe

• Khách hàng phải đặt chỗ trước ít nhất 1 giờ
• Thời gian đặt chỗ tối đa là 30 ngày
• Mỗi lần đặt chỗ tối thiểu 1 giờ
• Hủy đặt chỗ trước 2 giờ để được hoàn tiền

2. Thông tin cần thiết khi đặt chỗ

• Họ tên khách hàng
• Số điện thoại liên hệ
• Biển số xe
• Thời gian đặt chỗ (giờ đến và giờ đi)
• Loại bãi đậu xe mong muốn

3. Xác nhận đặt chỗ

• Hệ thống sẽ gửi SMS/Email xác nhận
• Khách hàng cần xác nhận trong vòng 15 phút
• Nếu không xác nhận, đặt chỗ sẽ tự động hủy`,isActive:!0},bookingRules:{content:`1. Quy định sử dụng bãi đậu xe

• Tuân thủ hướng dẫn của nhân viên
• Đậu xe đúng vị trí được chỉ định
• Không để xe quá thời gian đã đặt
• Giữ gìn vệ sinh chung

2. Quy định về an toàn

• Tắt động cơ khi đậu xe
• Khóa xe cẩn thận
• Không để vật có giá trị trong xe
• Báo cáo ngay khi có sự cố

3. Quy định về thanh toán

• Thanh toán đầy đủ trước khi sử dụng
• Chấp nhận tiền mặt và thẻ tín dụng
• Hóa đơn sẽ được cung cấp sau khi thanh toán`,isActive:!0},privacyPolicy:{content:`1. Thu thập thông tin

• Thông tin cá nhân: tên, số điện thoại, email
• Thông tin xe: biển số, loại xe
• Thông tin đặt chỗ: thời gian, vị trí

2. Sử dụng thông tin

• Để xử lý đặt chỗ và thanh toán
• Để liên lạc với khách hàng
• Để cải thiện dịch vụ

3. Bảo mật thông tin

• Mã hóa dữ liệu nhạy cảm
• Không chia sẻ thông tin với bên thứ ba
• Tuân thủ quy định bảo mật dữ liệu`,isActive:!0},contactInfo:{content:`Thông tin liên hệ:

Điện thoại: +886 2 1234 5678
Email: info@parkingzone.com
Địa chỉ: 123 Parking Street, Taipei, Taiwan
Website: https://parkingzone.com

Giờ làm việc:
Thứ 2 - Thứ 6: 06:00 - 22:00
Thứ 7 - Chủ nhật: 07:00 - 21:00

Hỗ trợ khách hàng 24/7 qua hotline`,isActive:!0},timeSlotInterval:{content:`Cài đặt khoảng thời gian đặt chỗ:

• Khoảng thời gian mặc định: 15 phút
• Tùy chọn: 15, 30, 45, 60 phút
• Khách hàng có thể chọn thời gian phù hợp
• Hệ thống sẽ hiển thị các slot có sẵn`,isActive:!0},cancellationPolicy:{content:`Chính sách hủy đặt chỗ:

1. Hủy miễn phí
• Hủy trước 2 giờ: hoàn tiền 100%
• Hủy trước 1 giờ: hoàn tiền 50%

2. Hủy có phí
• Hủy trong vòng 1 giờ: không hoàn tiền
• Không đến đúng giờ: tính phí 1 giờ

3. Hoàn tiền
• Xử lý trong vòng 3-5 ngày làm việc
• Hoàn tiền qua phương thức thanh toán ban đầu`,isActive:!0},refundPolicy:{content:`Chính sách hoàn tiền:

1. Điều kiện hoàn tiền
• Hủy đặt chỗ đúng quy định
• Dịch vụ không đạt chất lượng
• Lỗi hệ thống kỹ thuật

2. Thời gian xử lý
• Hoàn tiền trong vòng 3-5 ngày làm việc
• Thông báo qua email/SMS

3. Phương thức hoàn tiền
• Hoàn tiền qua phương thức thanh toán ban đầu
• Chuyển khoản ngân hàng (nếu cần)`,isActive:!0}},Uoe=()=>{const[e,t]=x.useState(!0),[r,n]=x.useState(!1),[i,s]=x.useState({contactInfo:{phone:"",email:"",address:"",website:""},businessHours:{open:"06:00",close:"22:00",is24Hours:!1},bookingTerms:"",bookingRules:"",defaultVIPDiscount:10,bookingAdvanceHours:24,maxBookingDays:30,minBookingDays:3,timeSlotInterval:15,autoCancelMinutes:15,notificationSettings:{emailNotifications:!0,smsNotifications:!1,reminderHours:1,confirmationEmail:!0,reminderEmail:!0},paymentSettings:{acceptCash:!0,acceptCreditCard:!0,acceptOnlinePayment:!1,currency:"TWD",taxRate:0},luggageSettings:{freeLuggageCount:1,luggagePricePerItem:100},maintenanceMode:{enabled:!1,message:""}}),[o,c]=x.useState(ql),[l,u]=x.useState(null),[d,f]=x.useState("");x.useEffect(()=>{h(),p()},[]);const h=async()=>{var w,A,O;try{t(!0);const _=await mg();console.log("🔍 Loaded settings:",_),s(P=>({...P,..._,contactInfo:{...P.contactInfo,..._.contactInfo},businessHours:{...P.businessHours,..._.businessHours},notificationSettings:{...P.notificationSettings,..._.notificationSettings},paymentSettings:{...P.paymentSettings,..._.paymentSettings},luggageSettings:{...P.luggageSettings,..._.luggageSettings},maintenanceMode:{...P.maintenanceMode,..._.maintenanceMode}}))}catch(_){console.error("Error loading settings:",_);const P=((A=(w=_.response)==null?void 0:w.data)==null?void 0:A.message)||_.message||"無法載入系統設定";if(Z.error(P),((O=_.response)==null?void 0:O.status)===401)return}finally{t(!1)}},p=async()=>{try{const w=await h$();console.log("🔍 Loaded terms:",w),w.success?c(w.terms||ql):c(ql)}catch(w){console.error("Error loading terms:",w),c(ql)}},g=async()=>{var w,A;try{n(!0),console.log("🔍 Saving settings:",i),await A$(i),Z.success("設定儲存成功！")}catch(O){console.error("Error saving settings:",O);const _=((A=(w=O.response)==null?void 0:w.data)==null?void 0:A.message)||O.message||"無法儲存設定";Z.error(_)}finally{n(!1)}},m=async()=>{var w,A;try{n(!0),console.log("🔍 Saving booking terms:",{bookingTerms:i.bookingTerms,bookingRules:i.bookingRules}),await O$({bookingTerms:i.bookingTerms,bookingRules:i.bookingRules}),Z.success("預約條款儲存成功！")}catch(O){console.error("Error saving booking terms:",O);const _=((A=(w=O.response)==null?void 0:w.data)==null?void 0:A.message)||O.message||"無法儲存預約條款";Z.error(_)}finally{n(!1)}},v=async()=>{var w,A;try{n(!0),console.log("🔍 Saving all terms:",o),await m$(o),Z.success("儲存所有條款成功！")}catch(O){console.error("Error saving terms:",O);const _=((A=(w=O.response)==null?void 0:w.data)==null?void 0:A.message)||O.message||"無法儲存條款";Z.error(_)}finally{n(!1)}},y=w=>{u(w),f(o[w].content)},b=async()=>{var w,A;if(l)try{n(!0),console.log("🔍 Updating section:",l,{content:d,isActive:o[l].isActive}),await jx(l,{content:d,isActive:o[l].isActive});const O={...o,[l]:{...o[l],content:d}};c(O),u(null),f(""),Z.success("更新條款成功！")}catch(O){console.error("Error updating section:",O);const _=((A=(w=O.response)==null?void 0:w.data)==null?void 0:A.message)||O.message||"無法更新條款";Z.error(_)}finally{n(!1)}},j=async w=>{var A,O;try{console.log("🔍 Toggling section:",w,{content:o[w].content,isActive:!o[w].isActive}),await jx(w,{content:o[w].content,isActive:!o[w].isActive});const _={...o,[w]:{...o[w],isActive:!o[w].isActive}};c(_),Z.success(`${o[w].isActive?"停用":"啟用"}條款成功！`)}catch(_){console.error("Error toggling section:",_);const P=((O=(A=_.response)==null?void 0:A.data)==null?void 0:O.message)||_.message||"無法變更條款狀態";Z.error(P)}},S=w=>({bookingTerms:"預約條款",bookingRules:"預約規定",privacyPolicy:"隱私政策",contactInfo:"聯絡資訊",timeSlotInterval:"時段間隔",cancellationPolicy:"取消政策",refundPolicy:"退款政策"})[w],N=w=>({bookingTerms:a.jsx(bi,{className:"h-4 w-4"}),bookingRules:a.jsx(lu,{className:"h-4 w-4"}),privacyPolicy:a.jsx(cu,{className:"h-4 w-4"}),contactInfo:a.jsx(ca,{className:"h-4 w-4"}),timeSlotInterval:a.jsx(_r,{className:"h-4 w-4"}),cancellationPolicy:a.jsx(qr,{className:"h-4 w-4"}),refundPolicy:a.jsx(mr,{className:"h-4 w-4"})})[w];return e?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"系統設定"}),a.jsx("p",{className:"text-gray-600",children:"系統配置和一般資訊"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(q,{variant:"outline",onClick:h,children:[a.jsx(Hn,{className:"h-4 w-4 mr-2"}),"重新整理"]}),a.jsxs(q,{onClick:g,disabled:r,children:[a.jsx(Wo,{className:"h-4 w-4 mr-2"}),r?"儲存中...":"儲存全部"]})]})]}),a.jsxs(fl,{defaultValue:"general",className:"space-y-6",children:[a.jsxs(co,{children:[a.jsx(Kt,{value:"general",children:"一般"}),a.jsx(Kt,{value:"booking",children:"預約"}),a.jsx(Kt,{value:"notifications",children:"通知"}),a.jsx(Kt,{value:"payment",children:"付款"}),a.jsx(Kt,{value:"luggage",children:"行李"})]}),a.jsx(Qt,{value:"general",className:"space-y-6",children:a.jsxs(le,{children:[a.jsx(ge,{children:a.jsxs(ve,{className:"flex items-center space-x-2",children:[a.jsx(ic,{className:"h-5 w-5 text-blue-600"}),a.jsx("span",{children:"一般設定"})]})}),a.jsxs(ue,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"website",children:"Website"}),a.jsx(oe,{id:"website",value:i.contactInfo.website,onChange:w=>s(A=>({...A,contactInfo:{...A.contactInfo,website:w.target.value}})),placeholder:"https://example.com"})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"contactEmail",children:"聯絡電子郵件"}),a.jsx(oe,{id:"contactEmail",type:"email",value:i.contactInfo.email,onChange:w=>s(A=>({...A,contactInfo:{...A.contactInfo,email:w.target.value}})),placeholder:"info@example.com"})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"contactPhone",children:"電話號碼"}),a.jsx(oe,{id:"contactPhone",value:i.contactInfo.phone,onChange:w=>s(A=>({...A,contactInfo:{...A.contactInfo,phone:w.target.value}})),placeholder:"+886 2 1234 5678"})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"address",children:"地址"}),a.jsx(oe,{id:"address",value:i.contactInfo.address,onChange:w=>s(A=>({...A,contactInfo:{...A.contactInfo,address:w.target.value}})),placeholder:"123 Parking Street, Taipei, Taiwan"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{children:"營業時間"}),a.jsx(oe,{type:"time",value:i.businessHours.open,onChange:w=>s(A=>({...A,businessHours:{...A.businessHours,open:w.target.value}})),disabled:i.businessHours.is24Hours})]}),a.jsxs("div",{children:[a.jsx(K,{children:"關門時間"}),a.jsx(oe,{type:"time",value:i.businessHours.close,onChange:w=>s(A=>({...A,businessHours:{...A.businessHours,close:w.target.value}})),disabled:i.businessHours.is24Hours})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(St,{id:"maintenanceMode",checked:i.maintenanceMode.enabled,onCheckedChange:w=>s(A=>({...A,maintenanceMode:{...A.maintenanceMode,enabled:w}}))}),a.jsx(K,{htmlFor:"maintenanceMode",children:"維護模式"})]}),i.maintenanceMode.enabled&&a.jsxs("div",{children:[a.jsx(K,{htmlFor:"maintenanceMessage",children:"維護通知"}),a.jsx(tr,{id:"maintenanceMessage",value:i.maintenanceMode.message,onChange:w=>s(A=>({...A,maintenanceMode:{...A.maintenanceMode,message:w.target.value}})),placeholder:"系統正在維護中，請稍後再試。",rows:3})]}),a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"💡 注意事項"}),a.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[a.jsx("li",{children:"• 聯絡資訊將顯示在首頁"}),a.jsx("li",{children:"• 營業時間會影響預約功能"}),a.jsx("li",{children:"• 維護模式將暫停整個系統"})]})]})]})]})}),a.jsxs(Qt,{value:"booking",className:"space-y-6",children:[a.jsxs(le,{children:[a.jsx(ge,{children:a.jsxs(ve,{className:"flex items-center space-x-2",children:[a.jsx(_r,{className:"h-5 w-5 text-blue-600"}),a.jsx("span",{children:"Cài đặt đặt chỗ"})]})}),a.jsxs(ue,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"defaultVIPDiscount",children:"預設VIP折扣 (%)"}),a.jsx(oe,{id:"defaultVIPDiscount",type:"number",min:"0",max:"100",value:i.defaultVIPDiscount,onChange:w=>s(A=>({...A,defaultVIPDiscount:parseInt(w.target.value)}))})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"bookingAdvanceHours",children:"提前預約 (小時)"}),a.jsx(oe,{id:"bookingAdvanceHours",type:"number",min:"0",value:i.bookingAdvanceHours,onChange:w=>s(A=>({...A,bookingAdvanceHours:parseInt(w.target.value)}))})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"maxBookingDays",children:"最大 (天)"}),a.jsx(oe,{id:"maxBookingDays",type:"number",min:"1",value:i.maxBookingDays,onChange:w=>s(A=>({...A,maxBookingDays:parseInt(w.target.value)}))})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"minBookingDays",children:"最少 (天)"}),a.jsx(oe,{id:"minBookingDays",type:"number",min:"1",value:i.minBookingDays,onChange:w=>s(A=>({...A,minBookingDays:parseInt(w.target.value)}))})]})]}),a.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-semibold text-yellow-800 mb-2",children:"⚙️ 預約設定"}),a.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[a.jsx("li",{children:"• VIP折扣：適用於VIP客戶"}),a.jsx("li",{children:"• 提前預約：預約的最短時間"}),a.jsx("li",{children:"• 最少：客戶必須預約的最少天數"}),a.jsx("li",{children:"• 最大：可提前預約的最大天數"}),a.jsx("li",{children:"• 時段間隔：預約時段的精確度"}),a.jsx("li",{children:"• 自動取消：等待確認的時間"})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(St,{id:"is24Hours",checked:i.businessHours.is24Hours,onCheckedChange:w=>s(A=>({...A,businessHours:{...A.businessHours,is24Hours:w}}))}),a.jsx(K,{htmlFor:"is24Hours",children:"24/7營業"})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"timeSlotInterval",children:"預約時段間隔 (分鐘)"}),a.jsxs("select",{id:"timeSlotInterval",value:i.timeSlotInterval,onChange:w=>s(A=>({...A,timeSlotInterval:parseInt(w.target.value)})),className:"w-full p-2 border border-gray-300 rounded-md",children:[a.jsx("option",{value:15,children:"15 分鐘"}),a.jsx("option",{value:30,children:"30 分鐘"}),a.jsx("option",{value:45,children:"45 分鐘"}),a.jsx("option",{value:60,children:"60 分鐘"})]})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"autoCancelMinutes",children:"自動取消時間 (分鐘)"}),a.jsx(oe,{id:"autoCancelMinutes",type:"number",min:"0",max:"120",value:i.autoCancelMinutes,onChange:w=>s(A=>({...A,autoCancelMinutes:parseInt(w.target.value)}))})]})]})]}),a.jsxs(le,{children:[a.jsx(ge,{children:a.jsxs(ve,{className:"flex items-center space-x-2",children:[a.jsx(bi,{className:"h-5 w-5 text-blue-600"}),a.jsx("span",{children:"Điều khoản đặt chỗ"})]})}),a.jsxs(ue,{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"請在預約停車位前仔細閱讀相關規定和條款。"}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"bookingTerms",children:"預約條款"}),a.jsx(tr,{id:"bookingTerms",value:i.bookingTerms,onChange:w=>s(A=>({...A,bookingTerms:w.target.value})),rows:10,placeholder:"輸入預約條款..."})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"bookingRules",children:"預約規定"}),a.jsx(tr,{id:"bookingRules",value:i.bookingRules,onChange:w=>s(A=>({...A,bookingRules:w.target.value})),rows:10,placeholder:"輸入預約規定..."})]}),a.jsxs(q,{onClick:m,disabled:r,children:[a.jsx(Wo,{className:"h-4 w-4 mr-2"}),"儲存條款"]})]})]})]}),a.jsx(Qt,{value:"notifications",className:"space-y-6",children:a.jsxs(le,{children:[a.jsx(ge,{children:a.jsxs(ve,{className:"flex items-center space-x-2",children:[a.jsx(Yl,{className:"h-5 w-5 text-blue-600"}),a.jsx("span",{children:"Cài đặt thông báo"})]})}),a.jsxs(ue,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(St,{id:"emailNotifications",checked:i.notificationSettings.emailNotifications,onCheckedChange:w=>s(A=>({...A,notificationSettings:{...A.notificationSettings,emailNotifications:w}}))}),a.jsx(K,{htmlFor:"emailNotifications",children:"電子郵件通知"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(St,{id:"smsNotifications",checked:i.notificationSettings.smsNotifications,onCheckedChange:w=>s(A=>({...A,notificationSettings:{...A.notificationSettings,smsNotifications:w}}))}),a.jsx(K,{htmlFor:"smsNotifications",children:"簡訊通知"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(St,{id:"confirmationEmail",checked:i.notificationSettings.confirmationEmail,onCheckedChange:w=>s(A=>({...A,notificationSettings:{...A.notificationSettings,confirmationEmail:w}}))}),a.jsx(K,{htmlFor:"confirmationEmail",children:"預約確認電子郵件"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(St,{id:"reminderEmail",checked:i.notificationSettings.reminderEmail,onCheckedChange:w=>s(A=>({...A,notificationSettings:{...A.notificationSettings,reminderEmail:w}}))}),a.jsx(K,{htmlFor:"reminderEmail",children:"提醒電子郵件"})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"reminderHours",children:"提前提醒時間 (小時)"}),a.jsx(oe,{id:"reminderHours",type:"number",min:"0",max:"24",value:i.notificationSettings.reminderHours,onChange:w=>s(A=>({...A,notificationSettings:{...A.notificationSettings,reminderHours:parseInt(w.target.value)}}))})]})]})]})}),a.jsx(Qt,{value:"payment",className:"space-y-6",children:a.jsxs(le,{children:[a.jsx(ge,{children:a.jsxs(ve,{className:"flex items-center space-x-2",children:[a.jsx(ig,{className:"h-5 w-5 text-blue-600"}),a.jsx("span",{children:"Cài đặt thanh toán"})]})}),a.jsxs(ue,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"currency",children:"貨幣單位"}),a.jsx(oe,{id:"currency",value:i.paymentSettings.currency,onChange:w=>s(A=>({...A,paymentSettings:{...A.paymentSettings,currency:w.target.value}}))})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"taxRate",children:"稅率 (%)"}),a.jsx(oe,{id:"taxRate",type:"number",min:"0",max:"100",value:i.paymentSettings.taxRate,onChange:w=>s(A=>({...A,paymentSettings:{...A.paymentSettings,taxRate:parseFloat(w.target.value)}}))})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(St,{id:"acceptCash",checked:i.paymentSettings.acceptCash,onCheckedChange:w=>s(A=>({...A,paymentSettings:{...A.paymentSettings,acceptCash:w}}))}),a.jsx(K,{htmlFor:"acceptCash",children:"接受現金"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(St,{id:"acceptCreditCard",checked:i.paymentSettings.acceptCreditCard,onCheckedChange:w=>s(A=>({...A,paymentSettings:{...A.paymentSettings,acceptCreditCard:w}}))}),a.jsx(K,{htmlFor:"acceptCreditCard",children:"接受信用卡"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(St,{id:"acceptOnlinePayment",checked:i.paymentSettings.acceptOnlinePayment,onCheckedChange:w=>s(A=>({...A,paymentSettings:{...A.paymentSettings,acceptOnlinePayment:w}}))}),a.jsx(K,{htmlFor:"acceptOnlinePayment",children:"接受線上付款"})]})]})]})]})}),a.jsx(Qt,{value:"luggage",className:"space-y-6",children:a.jsxs(le,{children:[a.jsxs(ge,{children:[a.jsxs(ve,{className:"flex items-center space-x-2",children:[a.jsx(sm,{className:"h-5 w-5 text-blue-600"}),a.jsx("span",{children:"Cài đặt hành lý"})]}),a.jsx(tt,{children:"配置行李費用和免費行李數量"})]}),a.jsxs(ue,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"freeLuggageCount",children:"免費行李數量"}),a.jsx(oe,{id:"freeLuggageCount",type:"number",min:"0",value:i.luggageSettings.freeLuggageCount,onChange:w=>s(A=>({...A,luggageSettings:{...A.luggageSettings,freeLuggageCount:parseInt(w.target.value)||0}})),placeholder:"1"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"每個預約的免費行李數量"})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"luggagePricePerItem",children:"每件額外行李價格 (NT$)"}),a.jsx(oe,{id:"luggagePricePerItem",type:"number",min:"0",value:i.luggageSettings.luggagePricePerItem,onChange:w=>s(A=>({...A,luggageSettings:{...A.luggageSettings,luggagePricePerItem:parseInt(w.target.value)||0}})),placeholder:"100"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"超過免費數量後每件行李的費用"})]})]}),a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"費用計算範例："}),a.jsxs("div",{className:"text-sm text-blue-800 space-y-1",children:[a.jsxs("p",{children:["• 如果客戶選擇1件行李：免費 (≤ ",i.luggageSettings.freeLuggageCount,")"]}),a.jsxs("p",{children:["• 如果客戶選擇2件行李：額外費用 ",i.luggageSettings.luggagePricePerItem," NT$"]}),a.jsxs("p",{children:["• 如果客戶選擇3件行李：額外費用 ",i.luggageSettings.luggagePricePerItem*2," NT$"]})]})]})]})]})}),a.jsx(Qt,{value:"terms",className:"space-y-6",children:a.jsxs(le,{children:[a.jsxs(ge,{children:[a.jsxs(ve,{className:"flex items-center space-x-2",children:[a.jsx(bi,{className:"h-5 w-5 text-blue-600"}),a.jsx("span",{children:"條款管理"})]}),a.jsx(tt,{children:"管理系統的所有條款和規定"})]}),a.jsxs(ue,{className:"space-y-4",children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.keys(o).map(w=>a.jsxs(le,{className:"relative",children:[a.jsx(ge,{className:"pb-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[N(w),a.jsx(ve,{className:"text-sm",children:S(w)})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Me,{variant:o[w].isActive?"default":"secondary",children:o[w].isActive?"啟用":"停用"}),a.jsx(q,{variant:"outline",size:"sm",onClick:()=>y(w),children:a.jsx(Qr,{className:"h-3 w-3"})})]})]})}),a.jsxs(ue,{children:[a.jsxs("div",{className:"text-sm text-gray-600 line-clamp-3",children:[o[w].content.substring(0,100),"..."]}),a.jsx("div",{className:"mt-2",children:a.jsx(q,{variant:"outline",size:"sm",onClick:()=>j(w),children:o[w].isActive?"停用":"啟用"})})]})]},w))}),a.jsxs(q,{onClick:v,disabled:r,className:"w-full",children:[a.jsx(Wo,{className:"h-4 w-4 mr-2"}),"儲存所有條款"]})]})]})})]}),a.jsx(pt,{open:!!l,onOpenChange:()=>u(null),children:a.jsxs(lt,{className:"max-w-4xl",children:[a.jsxs(ut,{children:[a.jsxs(ft,{children:["編輯 ",l?S(l):""]}),a.jsx(ht,{children:"更新此條款內容"})]}),a.jsx("div",{className:"space-y-4",children:a.jsx(tr,{value:d,onChange:w=>f(w.target.value),rows:15,placeholder:"輸入條款內容..."})}),a.jsxs(dt,{children:[a.jsx(q,{variant:"outline",onClick:()=>u(null),children:"取消"}),a.jsxs(q,{onClick:b,disabled:r,children:[a.jsx(Wo,{className:"h-4 w-4 mr-2"}),"儲存變更"]})]})]})})]})},Woe=()=>{const[e,t]=x.useState([]),[r,n]=x.useState(!0),[i,s]=x.useState(""),[o,c]=x.useState(!1),[l,u]=x.useState(!1),[d,f]=x.useState(!1),[h,p]=x.useState(null),[g,m]=x.useState(!1),[v,y]=x.useState({code:"",name:"",type:"indoor",description:"",icon:"🏢",color:"#3B82F6",pricePerDay:100,totalSpaces:50,features:[""],isActive:!0});x.useEffect(()=>{b()},[]);const b=async()=>{try{n(!0);const T=await qd();console.log("🔍 Parking types data:",T),t(T.parkingTypes)}catch(T){console.error("Error loading parking types:",T),Z.error("無法載入停車場清單")}finally{n(!1)}},j=async()=>{try{const{type:T,...M}=v;console.log("🔍 Creating parking type:",M),await r$(M),Z.success("創建停車場成功"),c(!1),w(),b()}catch(T){console.error("Error creating parking type:",T),Z.error("無法創建停車場")}},S=async()=>{if(h)try{const{type:T,...M}=v;if((h.code||v.code)&&(M.code=h.code||v.code),console.log("🔍 Updating parking type:",{selectedType:h,_id:h._id,selectedTypeCode:h.code,formDataCode:v.code,finalCode:M.code,updateData:M}),!h._id){Z.error("Không tìm thấy ID bãi đậu xe");return}await n$(h._id,M),Z.success("Cập nhật bãi đậu xe thành công"),u(!1),w(),b()}catch(T){console.error("Error updating parking type:",T),Z.error("Không thể cập nhật bãi đậu xe")}},N=async()=>{if(h)try{await a$(h.code),Z.success("Xóa bãi đậu xe thành công"),f(!1),p(null),b()}catch{Z.error("Không thể xóa bãi đậu xe")}},w=()=>{y({code:"",name:"",type:"indoor",description:"",icon:"🏢",color:"#3B82F6",pricePerDay:100,totalSpaces:50,features:[""],isActive:!0}),m(!1),p(null)},A=()=>{y({code:"",name:"",type:"indoor",description:"",icon:"🏢",color:"#3B82F6",pricePerDay:100,totalSpaces:50,features:[""],isActive:!0}),c(!0)},O=T=>{console.log("🔍 Opening edit dialog for parking type:",T),p(T),y({code:T.code,name:T.name,type:T.type||"indoor",description:T.description,icon:T.icon,color:T.color||"#3B82F6",pricePerDay:T.pricePerDay||100,totalSpaces:T.totalSpaces||50,features:T.features||[""],isActive:T.isActive}),m(!0),u(!0)},_=T=>{p(T),f(!0)},P=()=>{y({...v,features:[...v.features,""]})},C=T=>{y({...v,features:v.features.filter((M,D)=>D!==T)})},E=(T,M)=>{const D=[...v.features];D[T]=M,y({...v,features:D})},k=T=>T==null?"0 TWD":T.toLocaleString("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0,maximumFractionDigits:0}),$=e.filter(T=>T.name.toLowerCase().includes(i.toLowerCase())||T.description.toLowerCase().includes(i.toLowerCase()));return r?a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}):a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"停車場"}),a.jsx("p",{className:"text-gray-600",children:"管理系統中的停車場"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(q,{variant:"outline",onClick:b,children:[a.jsx(Hn,{className:"h-4 w-4 mr-2"}),"重新整理"]}),a.jsxs(q,{onClick:A,children:[a.jsx(Wr,{className:"h-4 w-4 mr-2"}),"新增停車場"]})]})]}),a.jsxs(le,{className:"mb-6",children:[a.jsx(ge,{children:a.jsxs(ve,{className:"flex items-center",children:[a.jsx(hr,{className:"h-5 w-5 mr-2"}),"篩選"]})}),a.jsx(ue,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"search",children:"搜尋"}),a.jsxs("div",{className:"relative",children:[a.jsx(Hr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),a.jsx(oe,{id:"search",placeholder:"名稱、描述...",value:i,onChange:T=>s(T.target.value),className:"pl-10"})]})]}),a.jsx("div",{className:"flex items-end",children:a.jsxs(q,{variant:"outline",className:"w-full",children:[a.jsx(hr,{className:"h-4 w-4 mr-2"}),"篩選"]})})]})})]}),a.jsxs(le,{children:[a.jsxs(ge,{children:[a.jsx(ve,{children:"停車場清單"}),a.jsxs(tt,{children:["總共 ",$.length," 個停車場"]})]}),a.jsxs(ue,{children:[a.jsxs(Vr,{children:[a.jsx(zr,{children:a.jsxs(Pt,{children:[a.jsx(Ae,{children:"資訊"}),a.jsx(Ae,{children:"價格"}),a.jsx(Ae,{children:"容量"}),a.jsx(Ae,{children:"功能"}),a.jsx(Ae,{children:"狀態"}),a.jsx(Ae,{children:"操作"})]})}),a.jsx(Ur,{children:$.map(T=>(console.log("🔍 Rendering parking type:",T),a.jsxs(Pt,{children:[a.jsx(Oe,{children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-2xl",style:{backgroundColor:(T.color||"#3B82F6")+"20"},children:T.icon}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:T.name}),a.jsx("div",{className:"text-sm text-gray-600",children:T.description}),a.jsxs("div",{className:"text-sm text-gray-500",children:["代碼: ",T.code]})]})]})}),a.jsx(Oe,{children:a.jsx("div",{className:"space-y-1 text-sm",children:a.jsxs("div",{children:["基本: ",k(T.pricePerDay),"/天"]})})}),a.jsx(Oe,{children:a.jsx("div",{className:"text-sm",children:a.jsxs("div",{children:["最大: ",T.totalSpaces||0," 位"]})})}),a.jsx(Oe,{children:a.jsxs("div",{className:"flex flex-wrap gap-1",children:[(T.features||[]).slice(0,2).map((M,D)=>a.jsx(Me,{variant:"outline",className:"text-xs",children:M},D)),(T.features||[]).length>2&&a.jsxs(Me,{variant:"outline",className:"text-xs",children:["+",(T.features||[]).length-2," 更多"]})]})}),a.jsx(Oe,{children:a.jsx(Me,{variant:T.isActive?"default":"secondary",children:T.isActive?a.jsxs(a.Fragment,{children:[a.jsx(mr,{className:"h-3 w-3 mr-1"}),"啟用"]}):a.jsxs(a.Fragment,{children:[a.jsx(qr,{className:"h-3 w-3 mr-1"}),"暫停"]})})}),a.jsx(Oe,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(q,{size:"sm",variant:"outline",onClick:()=>O(T),children:a.jsx(Qr,{className:"h-4 w-4"})}),a.jsx(q,{size:"sm",variant:"destructive",onClick:()=>_(T),children:a.jsx(Mr,{className:"h-4 w-4"})})]})})]},T._id||T.code)))})]}),$.length===0&&a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(ir,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"找不到停車場"}),a.jsx("p",{className:"text-gray-500",children:"沒有符合當前篩選條件的停車場。"})]})]})]}),a.jsx(pt,{open:o||l,onOpenChange:T=>{T||(c(!1),u(!1),w())},children:a.jsxs(lt,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[a.jsxs(ut,{children:[a.jsx(ft,{children:g?"編輯停車場":"新增停車場"}),a.jsx(ht,{children:g?"更新停車場資訊":"創建新的停車場並提供必要資訊"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"name",children:"停車場名稱 *"}),a.jsx(oe,{id:"name",value:v.name,onChange:T=>y(M=>({...M,name:T.target.value})),placeholder:"例如: 停車場A、停車場B、VIP區域..."})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"code",children:"停車場代碼 *"}),a.jsx(oe,{id:"code",value:v.code,onChange:T=>y(M=>({...M,code:T.target.value})),placeholder:"例如: A001、B002、VIP001"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"icon",children:"圖示"}),a.jsx(oe,{id:"icon",value:v.icon,onChange:T=>y(M=>({...M,icon:T.target.value})),placeholder:"🏢 🌤 ♿️"})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"color",children:"顏色"}),a.jsx(oe,{id:"color",type:"color",value:v.color,onChange:T=>y(M=>({...M,color:T.target.value}))})]})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"description",children:"描述"}),a.jsx(tr,{id:"description",value:v.description,onChange:T=>y(M=>({...M,description:T.target.value})),placeholder:"停車場的詳細描述...",rows:3})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"pricePerDay",children:"基本價格 (TWD/天) *"}),a.jsx(oe,{id:"pricePerDay",type:"number",value:v.pricePerDay,onChange:T=>y(M=>({...M,pricePerDay:parseInt(T.target.value)}))})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"totalSpaces",children:"最大車位數 *"}),a.jsx(oe,{id:"totalSpaces",type:"number",value:v.totalSpaces,onChange:T=>y(M=>({...M,totalSpaces:parseInt(T.target.value)}))})]})]}),a.jsxs("div",{children:[a.jsx(K,{children:"功能"}),a.jsxs("div",{className:"space-y-2",children:[v.features.map((T,M)=>a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(oe,{value:T,onChange:D=>E(M,D.target.value),placeholder:"輸入功能..."}),a.jsx(q,{variant:"outline",size:"sm",onClick:()=>C(M),children:a.jsx(Mr,{className:"h-4 w-4"})})]},M)),a.jsxs(q,{variant:"outline",size:"sm",onClick:P,children:[a.jsx(Wr,{className:"h-4 w-4 mr-2"}),"新增功能"]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(St,{id:"isActive",checked:v.isActive,onCheckedChange:T=>y(M=>({...M,isActive:T}))}),a.jsx(K,{htmlFor:"isActive",children:"啟用此停車場"})]})]}),a.jsxs(dt,{children:[a.jsx(q,{variant:"outline",onClick:()=>{c(!1),u(!1),w()},children:"取消"}),a.jsx(q,{onClick:g?S:j,children:g?"更新":"創建停車場"})]})]})}),a.jsx(pt,{open:d,onOpenChange:f,children:a.jsxs(lt,{children:[a.jsxs(ut,{children:[a.jsx(ft,{children:"確認刪除"}),a.jsxs(ht,{children:['您確定要刪除停車場 "',h==null?void 0:h.name,'"? 此操作無法撤銷。']})]}),a.jsxs(dt,{children:[a.jsx(q,{variant:"outline",onClick:()=>f(!1),children:"取消"}),a.jsx(q,{variant:"destructive",onClick:N,children:"刪除"})]})]})})]})},Hoe=()=>{const[e,t]=x.useState([]),[r,n]=x.useState(!0),[i,s]=x.useState(""),[o,c]=x.useState("all"),[l,u]=x.useState(!1),[d,f]=x.useState(!1),[h,p]=x.useState(!1),[g,m]=x.useState(null),[v,y]=x.useState(!1),[b,j]=x.useState({code:"",name:"",description:"",discountType:"percentage",discountValue:10,minOrderAmount:0,maxDiscount:0,maxUsage:100,isActive:!0,validFrom:"",validTo:""});x.useEffect(()=>{S()},[]);const S=async()=>{try{n(!0);const D=await c$();t(D.discountCodes)}catch{Z.error("無法載入折扣碼清單")}finally{n(!1)}},N=async()=>{try{await l$(b),Z.success("創建折扣碼成功"),u(!1),O(),S()}catch{Z.error("無法創建折扣碼")}},w=async()=>{if(g)try{await u$(g._id,b),Z.success("更新折扣碼成功"),f(!1),O(),S()}catch{Z.error("無法更新折扣碼")}},A=async()=>{if(g)try{await d$(g._id),Z.success("刪除折扣碼成功"),p(!1),m(null),S()}catch{Z.error("無法刪除折扣碼")}},O=()=>{j({code:"",name:"",description:"",discountType:"percentage",discountValue:10,minOrderAmount:0,maxDiscount:0,maxUsage:100,isActive:!0,validFrom:"",validTo:""}),y(!1),m(null)},_=()=>{O(),u(!0)},P=D=>{m(D),j({code:D.code,name:D.name,description:D.description,discountType:D.discountType,discountValue:D.discountValue,minOrderAmount:D.minOrderAmount||0,maxDiscount:D.maxDiscount||0,maxUsage:D.maxUsage,isActive:D.isActive,validFrom:D.validFrom,validTo:D.validTo}),y(!0),f(!0)},C=D=>{m(D),p(!0)},E=D=>{navigator.clipboard.writeText(D),Z.success("Đã sao chép mã giảm giá")},k=D=>new Date(D).toLocaleDateString("zh-TW"),$=(D,W)=>Math.round(D/W*100),T=D=>{const W=new Date,R=new Date(D.validFrom),Y=new Date(D.validTo);return D.isActive?W<R?a.jsx(Me,{variant:"outline",className:"bg-yellow-100 text-yellow-800",children:"未開始"}):W>Y?a.jsx(Me,{variant:"secondary",className:"bg-gray-100 text-gray-800",children:"過期"}):D.currentUsage>=D.maxUsage?a.jsx(Me,{variant:"secondary",className:"bg-orange-100 text-orange-800",children:"已用完"}):a.jsx(Me,{className:"bg-green-100 text-green-800",children:"啟用"}):a.jsx(Me,{variant:"secondary",className:"bg-red-100 text-red-800",children:"暫停"})},M=e.filter(D=>{const W=D.name.toLowerCase().includes(i.toLowerCase())||D.code.toLowerCase().includes(i.toLowerCase())||D.description.toLowerCase().includes(i.toLowerCase()),R=o==="all"||D.discountType===o;return W&&R});return r?a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}):a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"折扣碼"}),a.jsx("p",{className:"text-gray-600",children:"管理折扣碼和優惠"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(q,{variant:"outline",onClick:S,children:[a.jsx(Hn,{className:"h-4 w-4 mr-2"}),"重新整理"]}),a.jsxs(q,{onClick:_,children:[a.jsx(Wr,{className:"h-4 w-4 mr-2"}),"新增折扣碼"]})]})]}),a.jsxs(le,{className:"mb-6",children:[a.jsx(ge,{children:a.jsxs(ve,{className:"flex items-center",children:[a.jsx(hr,{className:"h-5 w-5 mr-2"}),"篩選"]})}),a.jsx(ue,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"search",children:"搜尋"}),a.jsxs("div",{className:"relative",children:[a.jsx(Hr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),a.jsx(oe,{id:"search",placeholder:"名稱, 代碼, 描述...",value:i,onChange:D=>s(D.target.value),className:"pl-10"})]})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"type",children:"折扣類型"}),a.jsxs("select",{id:"type",value:o,onChange:D=>c(D.target.value),className:"w-full p-2 border border-gray-300 rounded-md",children:[a.jsx("option",{value:"all",children:"所有類型"}),a.jsx("option",{value:"percentage",children:"百分比 (%)"}),a.jsx("option",{value:"fixed",children:"固定金額"})]})]}),a.jsx("div",{className:"flex items-end",children:a.jsxs(q,{variant:"outline",className:"w-full",children:[a.jsx(hr,{className:"h-4 w-4 mr-2"}),"篩選"]})})]})})]}),a.jsxs(le,{children:[a.jsxs(ge,{children:[a.jsx(ve,{children:"折扣碼清單"}),a.jsxs(tt,{children:["總共 ",M.length," 個折扣碼"]})]}),a.jsxs(ue,{children:[a.jsxs(Vr,{children:[a.jsx(zr,{children:a.jsxs(Pt,{children:[a.jsx(Ae,{children:"資訊"}),a.jsx(Ae,{children:"價值"}),a.jsx(Ae,{children:"使用"}),a.jsx(Ae,{children:"期限"}),a.jsx(Ae,{children:"狀態"}),a.jsx(Ae,{children:"操作"})]})}),a.jsx(Ur,{children:M.map(D=>a.jsxs(Pt,{children:[a.jsx(Oe,{children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx(uu,{className:"h-5 w-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:D.name}),a.jsx("div",{className:"text-sm text-gray-600 font-mono",children:D.code}),a.jsx("div",{className:"text-sm text-gray-500",children:D.description})]})]})}),a.jsx(Oe,{children:a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsx("div",{className:"font-medium",children:D.discountType==="percentage"?`${D.discountValue}%`:`${D.discountValue} TWD`}),D.minOrderAmount&&D.minOrderAmount>0&&a.jsxs("div",{className:"text-gray-500",children:["最低: ",D.minOrderAmount," TWD"]}),D.maxDiscount&&D.maxDiscount>0&&a.jsxs("div",{className:"text-gray-500",children:["最高: ",D.maxDiscount," TWD"]})]})}),a.jsx(Oe,{children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"text-sm",children:[a.jsxs("div",{children:[D.currentUsage,"/",D.maxUsage]}),a.jsx("div",{className:"text-gray-500",children:"已使用"})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-[#39653f] h-2 rounded-full transition-all",style:{width:`${$(D.currentUsage,D.maxUsage)}%`}})})]})}),a.jsx(Oe,{children:a.jsxs("div",{className:"text-sm text-gray-600",children:[a.jsxs("div",{children:["從: ",k(D.validFrom)]}),a.jsxs("div",{children:["到: ",k(D.validTo)]})]})}),a.jsx(Oe,{children:T(D)}),a.jsx(Oe,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(q,{size:"sm",variant:"outline",onClick:()=>P(D),children:a.jsx(Qr,{className:"h-4 w-4"})}),a.jsx(q,{size:"sm",variant:"outline",onClick:()=>E(D.code),children:a.jsx(Jl,{className:"h-4 w-4"})}),a.jsx(q,{size:"sm",variant:"destructive",onClick:()=>C(D),children:a.jsx(Mr,{className:"h-4 w-4"})})]})})]},D._id))})]}),M.length===0&&a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(uu,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"找不到折扣碼"}),a.jsx("p",{className:"text-gray-500",children:"沒有找到符合目前篩選條件的折扣碼。"})]})]})]}),a.jsx(pt,{open:l||d,onOpenChange:D=>{D||(u(!1),f(!1),O())},children:a.jsxs(lt,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[a.jsxs(ut,{children:[a.jsx(ft,{children:v?"編輯折扣碼":"新增折扣碼"}),a.jsx(ht,{children:v?"更新折扣碼資訊":"創建新的折扣碼並提供必要資訊"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"code",children:"折扣碼 *"}),a.jsx(oe,{id:"code",value:b.code,onChange:D=>j(W=>({...W,code:D.target.value.toUpperCase()})),placeholder:"Ví dụ: WELCOME10"})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"name",children:"折扣碼名稱 *"}),a.jsx(oe,{id:"name",value:b.name,onChange:D=>j(W=>({...W,name:D.target.value})),placeholder:"例如: 歡迎折扣"})]})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"description",children:"描述"}),a.jsx(tr,{id:"description",value:b.description,onChange:D=>j(W=>({...W,description:D.target.value})),placeholder:"輸入折扣碼詳細描述...",rows:3})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"discountType",children:"折扣類型"}),a.jsxs("select",{id:"discountType",value:b.discountType,onChange:D=>j(W=>({...W,discountType:D.target.value})),className:"w-full p-2 border border-gray-300 rounded-md",children:[a.jsx("option",{value:"percentage",children:"百分比 (%)"}),a.jsx("option",{value:"fixed",children:"固定金額 (TWD)"})]})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"discountValue",children:"折扣價值 *"}),a.jsx(oe,{id:"discountValue",type:"number",value:b.discountValue,onChange:D=>j(W=>({...W,discountValue:parseInt(D.target.value)})),placeholder:b.discountType==="percentage"?"10":"50"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"minOrderAmount",children:"最低訂單金額 (TWD)"}),a.jsx(oe,{id:"minOrderAmount",type:"number",value:b.minOrderAmount,onChange:D=>j(W=>({...W,minOrderAmount:parseInt(D.target.value)})),placeholder:"0"})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"maxDiscount",children:"最高折扣金額 (TWD)"}),a.jsx(oe,{id:"maxDiscount",type:"number",value:b.maxDiscount,onChange:D=>j(W=>({...W,maxDiscount:parseInt(D.target.value)})),placeholder:"0 (不限制)"})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.jsxs("div",{children:[a.jsx(K,{htmlFor:"maxUsage",children:"使用限制"}),a.jsx(oe,{id:"maxUsage",type:"number",value:b.maxUsage,onChange:D=>j(W=>({...W,maxUsage:parseInt(D.target.value)})),placeholder:"100"})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"validFrom",children:"開始日期"}),a.jsx(oe,{id:"validFrom",type:"date",value:b.validFrom,onChange:D=>j(W=>({...W,validFrom:D.target.value}))})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"validTo",children:"結束日期"}),a.jsx(oe,{id:"validTo",type:"date",value:b.validTo,onChange:D=>j(W=>({...W,validTo:D.target.value}))})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(St,{id:"isActive",checked:b.isActive,onCheckedChange:D=>j(W=>({...W,isActive:D}))}),a.jsx(K,{htmlFor:"isActive",children:"啟用此折扣碼"})]})]}),a.jsxs(dt,{children:[a.jsx(q,{variant:"outline",onClick:()=>{u(!1),f(!1),O()},children:"取消"}),a.jsx(q,{onClick:v?w:N,children:v?"更新":"創建"})]})]})}),a.jsx(pt,{open:h,onOpenChange:p,children:a.jsxs(lt,{children:[a.jsxs(ut,{children:[a.jsx(ft,{children:"確認刪除"}),a.jsxs(ht,{children:['您確定要刪除折扣碼 "',g==null?void 0:g.name,'" (',g==null?void 0:g.code,")? 此操作無法撤銷。"]})]}),a.jsxs(dt,{children:[a.jsx(q,{variant:"outline",onClick:()=>p(!1),children:"取消"}),a.jsx(q,{variant:"destructive",onClick:A,children:"刪除"})]})]})})]})},qoe=()=>{const[e,t]=x.useState([]),[r,n]=x.useState(!0),[i,s]=x.useState(""),[o,c]=x.useState("all"),[l,u]=x.useState(!1),[d,f]=x.useState(!1),[h,p]=x.useState(!1),[g,m]=x.useState(null),[v,y]=x.useState(!1),[b,j]=x.useState({name:"",description:"",icon:"🚐",price:0,category:"other",duration:30,features:[""],isActive:!0});x.useEffect(()=>{S()},[]);const S=async()=>{try{n(!0);const R=await M1();t(R.services)}catch{Z.error("無法載入服務清單")}finally{n(!1)}},N=async()=>{try{await i$(b),Z.success("創建服務成功"),u(!1),O(),S()}catch{Z.error("無法創建服務")}},w=async()=>{if(g)try{await s$(g._id,b),Z.success("更新服務成功"),f(!1),O(),S()}catch{Z.error("無法更新服務")}},A=async()=>{if(g)try{await o$(g._id),Z.success("刪除服務成功"),p(!1),m(null),S()}catch{Z.error("無法刪除服務")}},O=()=>{j({name:"",description:"",icon:"🚐",price:0,category:"other",duration:30,features:[""],isActive:!0}),y(!1),m(null)},_=()=>{O(),u(!0)},P=R=>{m(R),j({name:R.name,description:R.description,icon:R.icon,price:R.price,category:R.category,duration:R.duration||30,features:R.features||[""],isActive:R.isActive}),y(!0),f(!0)},C=R=>{m(R),p(!0)},E=()=>{j({...b,features:[...b.features,""]})},k=R=>{j({...b,features:b.features.filter((Y,F)=>F!==R)})},$=(R,Y)=>{const F=[...b.features];F[R]=Y,j({...b,features:F})},T=R=>({transport:ir,cleaning:GC,security:lu,convenience:ls,other:ls})[R]||ls,M=R=>({transport:"bg-blue-100 text-blue-800",cleaning:"bg-purple-100 text-purple-800",security:"bg-red-100 text-red-800",convenience:"bg-green-100 text-green-800",other:"bg-gray-100 text-gray-800"})[R]||"bg-gray-100 text-gray-800",D=R=>R===0?"免費":R.toLocaleString("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0,maximumFractionDigits:0}),W=e.filter(R=>{const Y=R.name.toLowerCase().includes(i.toLowerCase())||R.description.toLowerCase().includes(i.toLowerCase()),F=o==="all"||R.category===o;return Y&&F});return r?a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}):a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"附加服務"}),a.jsx("p",{className:"text-gray-600",children:"管理客戶的附加服務"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(q,{variant:"outline",onClick:S,children:[a.jsx(Hn,{className:"h-4 w-4 mr-2"}),"重新整理"]}),a.jsxs(q,{onClick:_,children:[a.jsx(Wr,{className:"h-4 w-4 mr-2"}),"新增服務"]})]})]}),a.jsxs(le,{className:"mb-6",children:[a.jsx(ge,{children:a.jsxs(ve,{className:"flex items-center",children:[a.jsx(hr,{className:"h-5 w-5 mr-2"}),"篩選"]})}),a.jsx(ue,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"search",children:"搜尋"}),a.jsxs("div",{className:"relative",children:[a.jsx(Hr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),a.jsx(oe,{id:"search",placeholder:"名稱、描述...",value:i,onChange:R=>s(R.target.value),className:"pl-10"})]})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"category",children:"類別"}),a.jsxs("select",{id:"category",value:o,onChange:R=>c(R.target.value),className:"w-full p-2 border border-gray-300 rounded-md",children:[a.jsx("option",{value:"all",children:"所有類別"}),a.jsx("option",{value:"transport",children:"運輸"}),a.jsx("option",{value:"cleaning",children:"清潔"}),a.jsx("option",{value:"security",children:"安全"}),a.jsx("option",{value:"convenience",children:"便利"}),a.jsx("option",{value:"other",children:"其他"})]})]}),a.jsx("div",{className:"flex items-end",children:a.jsxs(q,{variant:"outline",className:"w-full",children:[a.jsx(hr,{className:"h-4 w-4 mr-2"}),"篩選"]})})]})})]}),a.jsxs(le,{children:[a.jsxs(ge,{children:[a.jsx(ve,{children:"服務清單"}),a.jsxs(tt,{children:["共 ",W.length," 項服務"]})]}),a.jsxs(ue,{children:[a.jsxs(Vr,{children:[a.jsx(zr,{children:a.jsxs(Pt,{children:[a.jsx(Ae,{children:"資訊"}),a.jsx(Ae,{children:"類別"}),a.jsx(Ae,{children:"價格"}),a.jsx(Ae,{children:"時間"}),a.jsx(Ae,{children:"功能"}),a.jsx(Ae,{children:"狀態"}),a.jsx(Ae,{children:"操作"})]})}),a.jsx(Ur,{children:W.map(R=>{const Y=T(R.category);return a.jsxs(Pt,{children:[a.jsx(Oe,{children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-2xl",children:R.icon}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:R.name}),a.jsx("div",{className:"text-sm text-gray-600",children:R.description})]})]})}),a.jsx(Oe,{children:a.jsxs(Me,{className:M(R.category),children:[a.jsx(Y,{className:"h-3 w-3 mr-1"}),R.category==="transport"&&"運輸",R.category==="cleaning"&&"清潔",R.category==="security"&&"安全",R.category==="convenience"&&"便利",R.category==="other"&&"其他",!["transport","cleaning","security","convenience","other"].includes(R.category)&&R.category]})}),a.jsx(Oe,{children:a.jsx("div",{className:"text-sm font-medium",children:D(R.price)})}),a.jsx(Oe,{children:a.jsx("div",{className:"text-sm",children:R.duration?`${R.duration} 分鐘`:"N/A"})}),a.jsx(Oe,{children:a.jsxs("div",{className:"flex flex-wrap gap-1",children:[(R.features||[]).slice(0,2).map((F,ie)=>a.jsx(Me,{variant:"outline",className:"text-xs",children:F},ie)),(R.features||[]).length>2&&a.jsxs(Me,{variant:"outline",className:"text-xs",children:["+",(R.features||[]).length-2," 更多"]})]})}),a.jsx(Oe,{children:a.jsx(Me,{variant:R.isActive?"default":"secondary",children:R.isActive?a.jsxs(a.Fragment,{children:[a.jsx(mr,{className:"h-3 w-3 mr-1"}),"啟用"]}):a.jsxs(a.Fragment,{children:[a.jsx(qr,{className:"h-3 w-3 mr-1"}),"暫停"]})})}),a.jsx(Oe,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(q,{size:"sm",variant:"outline",onClick:()=>P(R),children:a.jsx(Qr,{className:"h-4 w-4"})}),a.jsx(q,{size:"sm",variant:"destructive",onClick:()=>C(R),children:a.jsx(Mr,{className:"h-4 w-4"})})]})})]},R._id)})})]}),W.length===0&&a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(ls,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"找不到服務"}),a.jsx("p",{className:"text-gray-500",children:"沒有符合當前篩選條件的服務。"})]})]})]}),a.jsx(pt,{open:l||d,onOpenChange:R=>{R||(u(!1),f(!1),O())},children:a.jsxs(lt,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[a.jsxs(ut,{children:[a.jsx(ft,{children:v?"編輯服務":"新增服務"}),a.jsx(ht,{children:v?"更新服務資訊":"創建新的附加服務，包含必要資訊"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"name",children:"服務名稱 *"}),a.jsx(oe,{id:"name",value:b.name,onChange:R=>j(Y=>({...Y,name:R.target.value})),placeholder:"例如：洗車、機場接送..."})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"icon",children:"圖示"}),a.jsx(oe,{id:"icon",value:b.icon,onChange:R=>j(Y=>({...Y,icon:R.target.value})),placeholder:"🚐 🚗 ✨ 🧴"})]})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"description",children:"描述"}),a.jsx(tr,{id:"description",value:b.description,onChange:R=>j(Y=>({...Y,description:R.target.value})),placeholder:"詳細描述服務...",rows:3})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"price",children:"價格 (TWD)"}),a.jsx(oe,{id:"price",type:"number",value:b.price,onChange:R=>j(Y=>({...Y,price:parseInt(R.target.value)})),placeholder:"0"})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"duration",children:"時間 (分鐘)"}),a.jsx(oe,{id:"duration",type:"number",value:b.duration,onChange:R=>j(Y=>({...Y,duration:parseInt(R.target.value)})),placeholder:"30"})]})]}),a.jsxs("div",{children:[a.jsx(K,{children:"功能"}),a.jsxs("div",{className:"space-y-2",children:[b.features.map((R,Y)=>a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(oe,{value:R,onChange:F=>$(Y,F.target.value),placeholder:"輸入功能..."}),a.jsx(q,{variant:"outline",size:"sm",onClick:()=>k(Y),children:a.jsx(Mr,{className:"h-4 w-4"})})]},Y)),a.jsxs(q,{variant:"outline",size:"sm",onClick:E,children:[a.jsx(Wr,{className:"h-4 w-4 mr-2"}),"新增功能"]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(St,{id:"isActive",checked:b.isActive,onCheckedChange:R=>j(Y=>({...Y,isActive:R}))}),a.jsx(K,{htmlFor:"isActive",children:"啟用此服務"})]})]}),a.jsxs(dt,{children:[a.jsx(q,{variant:"outline",onClick:()=>{u(!1),f(!1),O()},children:"取消"}),a.jsx(q,{onClick:v?w:N,children:v?"更新":"創建服務"})]})]})}),a.jsx(pt,{open:h,onOpenChange:p,children:a.jsxs(lt,{children:[a.jsxs(ut,{children:[a.jsx(ft,{children:"確認刪除"}),a.jsxs(ht,{children:['您確定要刪除服務 "',g==null?void 0:g.name,'" 嗎？ 此操作無法撤銷。']})]}),a.jsxs(dt,{children:[a.jsx(q,{variant:"outline",onClick:()=>p(!1),children:"取消"}),a.jsx(q,{variant:"destructive",onClick:A,children:"刪除"})]})]})})]})},Koe=()=>{const[e,t]=x.useState([]),[r,n]=x.useState(!0),[i,s]=x.useState("email"),[o,c]=x.useState(""),[l,u]=x.useState(!1),[d,f]=x.useState(!1),[h,p]=x.useState(!1),[g,m]=x.useState(!1),[v,y]=x.useState(!1),[b,j]=x.useState(!1),[S,N]=x.useState(null),[w,A]=x.useState(""),[O,_]=x.useState(!1),[P,C]=x.useState(null),[E,k]=x.useState(!1),[$,T]=x.useState(!1),[M,D]=x.useState({name:"",type:"email",subject:"",content:"",description:"",variables:[],isActive:!0}),[W,R]=x.useState({templateName:"",type:"email",recipient:"",variables:{}}),[Y,F]=x.useState({templateName:"",type:"email",recipients:"",variables:{}});x.useEffect(()=>{ie(),z()},[]);const ie=async()=>{try{n(!0);const V=await p$({type:i,search:o});t(V.templates)}catch(V){Z.error("無法載入通知模板清單"),console.error("Load templates error:",V)}finally{n(!1)}},z=async()=>{try{const V=await j$();C(V)}catch(V){console.error("Load stats error:",V)}},H=async()=>{try{await g$(M),Z.success("創建通知模板成功"),u(!1),ce(),ie(),z()}catch(V){Z.error("無法創建通知模板"),console.error("Create template error:",V)}},de=async()=>{if(S)try{await v$(S._id,M),Z.success("更新通知模板成功"),f(!1),ce(),ie(),z()}catch(V){Z.error("無法更新通知模板"),console.error("Update template error:",V)}},Le=async()=>{if(S)try{await x$(S._id),Z.success("刪除通知模板成功"),p(!1),N(null),ie(),z()}catch(V){Z.error("無法刪除通知模板"),console.error("Delete template error:",V)}},he=async()=>{try{k(!0);const V=await y$(W);console.log("Test notification result:",V),Z.success("發送測試通知成功"),y(!1),be()}catch(V){Z.error("無法發送測試通知"),console.error("Test notification error:",V)}finally{k(!1)}},Te=async()=>{try{T(!0);const V=Y.recipients.split(",").map(se=>se.trim()).filter(se=>se),ne=await b$({...Y,recipients:V});Z.success(`發送批量通知成功: ${ne.message}`),j(!1),ye()}catch(V){Z.error("無法發送批量通知"),console.error("Bulk notification error:",V)}finally{T(!1)}},ce=()=>{D({name:"",type:"email",subject:"",content:"",description:"",variables:[],isActive:!0}),_(!1),N(null)},be=()=>{R({templateName:"",type:"email",recipient:"",variables:{}})},ye=()=>{F({templateName:"",type:"email",recipients:"",variables:{}})},re=()=>{ce(),D(V=>({...V,type:i})),u(!0)},Ve=V=>{N(V),D({name:V.name,type:V.type,subject:V.subject||"",content:V.content,description:V.description,variables:V.variables||[],isActive:V.isActive}),_(!0),f(!0)},$e=V=>{N(V),p(!0)},rt=V=>{N(V),R({templateName:V.name,type:V.type,recipient:"",variables:{}}),y(!0)},at=V=>{N(V),F({templateName:V.name,type:V.type,recipients:"",variables:{}}),j(!0)},ct=V=>{let ne=V.content;V.variables.forEach(se=>{const Ee={customerName:"Nguyễn Văn A",bookingId:"BK2024001",bookingDate:"15/01/2024",startTime:"08:00",endTime:"12:00",parkingType:"Trong nhà",totalAmount:"400",location:"Tầng 1, Khu A",reminderTime:"30 phút",amount:"400",paymentMethod:"Thẻ tín dụng",paymentTime:"15/01/2024 07:30",refundAmount:"400",refundTime:"15/01/2024 10:00",discountPercent:"20",promoCode:"SAVE20",expiryDate:"31/01/2024"};ne=ne.replace(new RegExp(`{{${se}}}`,"g"),Ee[se]||`[${se}]`)}),A(ne),N(V),m(!0)},L=V=>({email:ys,sms:b1,push:JC})[V]||Yl,G=V=>({email:"bg-blue-100 text-blue-800",sms:"bg-green-100 text-green-800",push:"bg-purple-100 text-purple-800"})[V]||"bg-gray-100 text-gray-800",X=e.filter(V=>{const ne=V.type===i,se=V.name.toLowerCase().includes(o.toLowerCase())||V.description.toLowerCase().includes(o.toLowerCase());return ne&&se});return x.useEffect(()=>{ie()},[i,o]),r?a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}):a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"通知模板"}),a.jsx("p",{className:"text-gray-600",children:"管理系統通知模板"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(q,{variant:"outline",onClick:ie,children:[a.jsx(Hn,{className:"h-4 w-4 mr-2"}),"重新整理"]}),a.jsxs(q,{onClick:re,children:[a.jsx(Wr,{className:"h-4 w-4 mr-2"}),"新增模板"]})]})]}),P&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[a.jsx(le,{children:a.jsx(ue,{className:"p-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(m1,{className:"h-5 w-5 text-blue-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"總共模板"}),a.jsx("p",{className:"text-2xl font-bold",children:P.total})]})]})})}),a.jsx(le,{children:a.jsx(ue,{className:"p-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(mr,{className:"h-5 w-5 text-green-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"啟用"}),a.jsx("p",{className:"text-2xl font-bold",children:P.active})]})]})})}),a.jsx(le,{children:a.jsx(ue,{className:"p-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(qr,{className:"h-5 w-5 text-red-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"暫停"}),a.jsx("p",{className:"text-2xl font-bold",children:P.inactive})]})]})})}),a.jsx(le,{children:a.jsx(ue,{className:"p-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Yl,{className:"h-5 w-5 text-purple-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"類型"}),a.jsx("p",{className:"text-2xl font-bold",children:P.stats.length})]})]})})})]}),a.jsxs(le,{className:"mb-6",children:[a.jsx(ge,{children:a.jsxs(ve,{className:"flex items-center",children:[a.jsx(Hr,{className:"h-5 w-5 mr-2"}),"搜尋"]})}),a.jsx(ue,{children:a.jsxs("div",{className:"relative",children:[a.jsx(Hr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),a.jsx(oe,{placeholder:"名稱、描述...",value:o,onChange:V=>c(V.target.value),className:"pl-10"})]})})]}),a.jsxs(fl,{value:i,onValueChange:s,className:"space-y-4",children:[a.jsxs(co,{className:"grid w-full grid-cols-3",children:[a.jsx(Kt,{value:"email",children:"Email"}),a.jsx(Kt,{value:"sms",children:"SMS"}),a.jsx(Kt,{value:"push",children:"推送通知"})]}),a.jsx(Qt,{value:i,className:"space-y-4",children:a.jsxs(le,{children:[a.jsxs(ge,{children:[a.jsx(ve,{children:"通知模板清單"}),a.jsxs(tt,{children:["總共 ",X.length," 個通知模板 ",i.toUpperCase()]})]}),a.jsxs(ue,{children:[a.jsxs(Vr,{children:[a.jsx(zr,{children:a.jsxs(Pt,{children:[a.jsx(Ae,{children:"資訊"}),a.jsx(Ae,{children:"類型"}),a.jsx(Ae,{children:"標題"}),a.jsx(Ae,{children:"變數"}),a.jsx(Ae,{children:"狀態"}),a.jsx(Ae,{children:"操作"})]})}),a.jsx(Ur,{children:X.map(V=>{const ne=L(V.type);return a.jsxs(Pt,{children:[a.jsx(Oe,{children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx(ne,{className:"h-5 w-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:V.name}),a.jsx("div",{className:"text-sm text-gray-600",children:V.description})]})]})}),a.jsx(Oe,{children:a.jsx(Me,{className:G(V.type),children:V.type.toUpperCase()})}),a.jsx(Oe,{children:a.jsx("div",{className:"text-sm text-gray-600 max-w-xs truncate",children:V.subject||"Không có tiêu đề"})}),a.jsx(Oe,{children:a.jsxs("div",{className:"flex flex-wrap gap-1",children:[(V.variables||[]).slice(0,3).map(se=>a.jsx(Me,{variant:"outline",className:"text-xs",children:`{{${se}}}`},se)),(V.variables||[]).length>3&&a.jsxs(Me,{variant:"outline",className:"text-xs",children:["+",(V.variables||[]).length-3," nữa"]})]})}),a.jsx(Oe,{children:a.jsx(Me,{variant:V.isActive?"default":"secondary",children:V.isActive?a.jsxs(a.Fragment,{children:[a.jsx(mr,{className:"h-3 w-3 mr-1"}),"啟用"]}):a.jsxs(a.Fragment,{children:[a.jsx(qr,{className:"h-3 w-3 mr-1"}),"暫停"]})})}),a.jsx(Oe,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(q,{size:"sm",variant:"outline",onClick:()=>ct(V),children:a.jsx(yi,{className:"h-4 w-4"})}),a.jsx(q,{size:"sm",variant:"outline",onClick:()=>rt(V),children:a.jsx(eE,{className:"h-4 w-4"})}),a.jsx(q,{size:"sm",variant:"outline",onClick:()=>at(V),children:a.jsx(aa,{className:"h-4 w-4"})}),a.jsx(q,{size:"sm",variant:"outline",onClick:()=>Ve(V),children:a.jsx(Qr,{className:"h-4 w-4"})}),a.jsx(q,{size:"sm",variant:"destructive",onClick:()=>$e(V),children:a.jsx(Mr,{className:"h-4 w-4"})})]})})]},V._id)})})]}),X.length===0&&a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(Yl,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"沒有通知模板"}),a.jsxs("p",{className:"text-gray-500",children:["沒有通知模板 ",i.toUpperCase(),"."]})]})]})]})})]}),a.jsx(pt,{open:l||d,onOpenChange:V=>{V||(u(!1),f(!1),ce())},children:a.jsxs(lt,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[a.jsxs(ut,{children:[a.jsx(ft,{children:O?"編輯通知模板":"新增通知模板"}),a.jsx(ht,{children:O?"更新通知模板內容":"創建新的通知模板並提供必要資訊"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"name",children:"通知模板名稱 *"}),a.jsx(oe,{id:"name",value:M.name,onChange:V=>D(ne=>({...ne,name:V.target.value})),placeholder:"例如: 確認預約"})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"type",children:"通知類型"}),a.jsxs("select",{id:"type",value:M.type,onChange:V=>D(ne=>({...ne,type:V.target.value})),className:"w-full p-2 border border-gray-300 rounded-md",children:[a.jsx("option",{value:"email",children:"Email"}),a.jsx("option",{value:"sms",children:"SMS"}),a.jsx("option",{value:"push",children:"推送通知"})]})]})]}),M.type==="email"&&a.jsxs("div",{children:[a.jsx(K,{htmlFor:"subject",children:"電郵標題"}),a.jsx(oe,{id:"subject",value:M.subject,onChange:V=>D(ne=>({...ne,subject:V.target.value})),placeholder:"輸入電郵標題..."})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"description",children:"描述"}),a.jsx(oe,{id:"description",value:M.description,onChange:V=>D(ne=>({...ne,description:V.target.value})),placeholder:"輸入通知模板描述..."})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"content",children:"內容 *"}),a.jsx(tr,{id:"content",value:M.content,onChange:V=>D(ne=>({...ne,content:V.target.value})),rows:15,className:"font-mono text-sm",placeholder:"輸入通知模板內容... 使用 {{variable}} 插入變數."})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(St,{id:"isActive",checked:M.isActive,onCheckedChange:V=>D(ne=>({...ne,isActive:V}))}),a.jsx(K,{htmlFor:"isActive",children:"啟用此通知模板"})]})]}),a.jsxs(dt,{children:[a.jsx(q,{variant:"outline",onClick:()=>{u(!1),f(!1),ce()},children:"Hủy"}),a.jsxs(q,{onClick:O?de:H,children:[a.jsx(Wo,{className:"h-4 w-4 mr-2"}),O?"更新":"創建"]})]})]})}),a.jsx(pt,{open:v,onOpenChange:y,children:a.jsxs(lt,{className:"max-w-2xl",children:[a.jsxs(ut,{children:[a.jsx(ft,{children:"測試發送通知"}),a.jsxs(ht,{children:['發送測試通知以測試模板 "',S==null?void 0:S.name,'"']})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"testRecipient",children:"接收者 *"}),a.jsx(oe,{id:"testRecipient",value:W.recipient,onChange:V=>R(ne=>({...ne,recipient:V.target.value})),placeholder:W.type==="email"?"email@example.com":W.type==="sms"?"+84901234567":"device_token"})]}),a.jsxs("div",{children:[a.jsx(K,{children:"變數 (可選)"}),a.jsx("div",{className:"space-y-2",children:((S==null?void 0:S.variables)||[]).map(V=>a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(K,{className:"w-24 text-sm",children:[V,":"]}),a.jsx(oe,{value:W.variables[V]||"",onChange:ne=>R(se=>({...se,variables:{...se.variables,[V]:ne.target.value}})),placeholder:`輸入 ${V} 的值`})]},V))})]})]}),a.jsxs(dt,{children:[a.jsx(q,{variant:"outline",onClick:()=>y(!1),children:"取消"}),a.jsxs(q,{onClick:he,disabled:E,children:[a.jsx(YC,{className:"h-4 w-4 mr-2"}),E?"正在發送...":"發送測試"]})]})]})}),a.jsx(pt,{open:b,onOpenChange:j,children:a.jsxs(lt,{className:"max-w-2xl",children:[a.jsxs(ut,{children:[a.jsx(ft,{children:"發送批量通知"}),a.jsxs(ht,{children:['發送通知 "',S==null?void 0:S.name,'" 給多個接收者']})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"bulkRecipients",children:"接收者列表 *"}),a.jsx(tr,{id:"bulkRecipients",value:Y.recipients,onChange:V=>F(ne=>({...ne,recipients:V.target.value})),placeholder:Y.type==="email"?"email1@example.com, email2@example.com":Y.type==="sms"?"+84901234567, +84987654321":"token1, token2",rows:4}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"每個接收者一行或用逗號分隔"})]}),a.jsxs("div",{children:[a.jsx(K,{children:"變數 (可選)"}),a.jsx("div",{className:"space-y-2",children:((S==null?void 0:S.variables)||[]).map(V=>a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(K,{className:"w-24 text-sm",children:[V,":"]}),a.jsx(oe,{value:Y.variables[V]||"",onChange:ne=>F(se=>({...se,variables:{...se.variables,[V]:ne.target.value}})),placeholder:`輸入 ${V} 的值`})]},V))})]})]}),a.jsxs(dt,{children:[a.jsx(q,{variant:"outline",onClick:()=>j(!1),children:"取消"}),a.jsxs(q,{onClick:Te,disabled:$,children:[a.jsx(aa,{className:"h-4 w-4 mr-2"}),$?"正在發送...":"發送批量"]})]})]})}),a.jsx(pt,{open:g,onOpenChange:m,children:a.jsxs(lt,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[a.jsxs(ut,{children:[a.jsx(ft,{children:"預覽通知模板"}),a.jsxs(ht,{children:[S==null?void 0:S.name," - ",S==null?void 0:S.type.toUpperCase()]})]}),a.jsxs("div",{className:"space-y-4",children:[(S==null?void 0:S.subject)&&a.jsxs("div",{children:[a.jsx(K,{className:"text-sm font-medium",children:"標題:"}),a.jsx("div",{className:"mt-1 p-3 bg-gray-50 rounded-lg",children:a.jsx("p",{className:"text-sm",children:S.subject})})]}),a.jsxs("div",{children:[a.jsx(K,{className:"text-sm font-medium",children:"內容:"}),a.jsx("div",{className:"mt-1 p-4 bg-gray-50 rounded-lg",children:a.jsx("pre",{className:"text-sm text-gray-700 whitespace-pre-wrap max-h-96 overflow-y-auto",children:w})})]}),a.jsxs("div",{children:[a.jsx(K,{className:"text-sm font-medium",children:"已替換的變數:"}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:((S==null?void 0:S.variables)||[]).map(V=>a.jsx(Me,{variant:"outline",className:"text-xs",children:`{{${V}}}`},V))})]})]}),a.jsx(dt,{children:a.jsx(q,{variant:"outline",onClick:()=>m(!1),children:"關閉"})})]})}),a.jsx(pt,{open:h,onOpenChange:p,children:a.jsxs(lt,{children:[a.jsxs(ut,{children:[a.jsx(ft,{children:"確認刪除"}),a.jsxs(ht,{children:['您確定要刪除通知模板 "',S==null?void 0:S.name,'"? 此操作無法撤銷。']})]}),a.jsxs(dt,{children:[a.jsx(q,{variant:"outline",onClick:()=>p(!1),children:"取消"}),a.jsx(q,{variant:"destructive",onClick:Le,children:"刪除"})]})]})})]})},Goe=()=>{const[e,t]=x.useState([]),[r,n]=x.useState([]),[i,s]=x.useState(!0),[o,c]=x.useState(""),[l,u]=x.useState(!1),[d,f]=x.useState(!1),[h,p]=x.useState(!1),[g,m]=x.useState(null),[v,y]=x.useState(!1),[b,j]=x.useState({date:"",reason:"",description:"",affectedParkingTypes:[],isActive:!0});x.useEffect(()=>{S()},[]);const S=async()=>{try{s(!0);const[$,T]=await Promise.all([_$(),qd()]);t($.maintenanceDays),n(T.parkingTypes)}catch($){console.error("Error loading data:",$),Z.error("無法載入資料")}finally{s(!1)}},N=async()=>{try{await k$(b),Z.success("創建維護日期成功"),u(!1),O(),S()}catch($){console.error("Error creating maintenance day:",$),Z.error("無法創建維護日期")}},w=async()=>{if(g)try{await P$(g._id,b),Z.success("更新維護日期成功"),f(!1),O(),S()}catch($){console.error("Error updating maintenance day:",$),Z.error("無法更新維護日期")}},A=async()=>{if(g)try{await T$(g._id),Z.success("刪除維護日期成功"),p(!1),m(null),S()}catch{Z.error("Không thể xóa ngày bảo trì")}},O=()=>{j({date:"",reason:"",description:"",affectedParkingTypes:[],isActive:!0}),y(!1),m(null)},_=()=>{j({date:"",reason:"",description:"",affectedParkingTypes:[],isActive:!0}),u(!0)},P=$=>{m($),j({date:new Date($.date).toISOString().split("T")[0],reason:$.reason,description:$.description||"",affectedParkingTypes:$.affectedParkingTypes.map(T=>T._id),isActive:$.isActive}),y(!0),f(!0)},C=$=>{m($),p(!0)},E=$=>new Date($).toLocaleDateString("zh-TW",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),k=e.filter($=>$.reason.toLowerCase().includes(o.toLowerCase())||$.description&&$.description.toLowerCase().includes(o.toLowerCase()));return i?a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}):a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"維護日期"}),a.jsx("p",{className:"text-gray-600",children:"管理不接收車輛的維護日期"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(q,{variant:"outline",onClick:S,children:[a.jsx(Hn,{className:"h-4 w-4 mr-2"}),"重新整理"]}),a.jsxs(q,{onClick:_,children:[a.jsx(Wr,{className:"h-4 w-4 mr-2"}),"新增維護日期"]})]})]}),a.jsxs(le,{className:"mb-6",children:[a.jsx(ge,{children:a.jsxs(ve,{className:"flex items-center",children:[a.jsx(hr,{className:"h-5 w-5 mr-2"}),"篩選"]})}),a.jsx(ue,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"search",children:"搜尋"}),a.jsxs("div",{className:"relative",children:[a.jsx(Hr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),a.jsx(oe,{id:"search",placeholder:"原因、描述...",value:o,onChange:$=>c($.target.value),className:"pl-10"})]})]}),a.jsx("div",{className:"flex items-end",children:a.jsxs(q,{variant:"outline",className:"w-full",children:[a.jsx(hr,{className:"h-4 w-4 mr-2"}),"篩選"]})})]})})]}),a.jsxs(le,{children:[a.jsxs(ge,{children:[a.jsx(ve,{children:"維護日期清單"}),a.jsxs(tt,{children:["總共 ",k.length," 個維護日期"]})]}),a.jsxs(ue,{children:[a.jsxs(Vr,{children:[a.jsx(zr,{children:a.jsxs(Pt,{children:[a.jsx(Ae,{children:"日期"}),a.jsx(Ae,{children:"原因"}),a.jsx(Ae,{children:"受影響的停車場"}),a.jsx(Ae,{children:"狀態"}),a.jsx(Ae,{children:"操作"})]})}),a.jsx(Ur,{children:k.map($=>a.jsxs(Pt,{children:[a.jsx(Oe,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Dt,{className:"h-4 w-4 text-gray-500"}),a.jsx("span",{className:"font-medium",children:E($.date)})]})}),a.jsx(Oe,{children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:$.reason}),$.description&&a.jsx("div",{className:"text-sm text-gray-600",children:$.description})]})}),a.jsx(Oe,{children:a.jsx("div",{className:"flex flex-wrap gap-1",children:$.affectedParkingTypes.map((T,M)=>a.jsx(Me,{variant:"outline",className:"text-xs",children:T.name},M))})}),a.jsx(Oe,{children:a.jsx(Me,{variant:$.isActive?"default":"secondary",children:$.isActive?a.jsxs(a.Fragment,{children:[a.jsx(mr,{className:"h-3 w-3 mr-1"}),"啟用"]}):a.jsxs(a.Fragment,{children:[a.jsx(qr,{className:"h-3 w-3 mr-1"}),"暫停"]})})}),a.jsx(Oe,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(q,{size:"sm",variant:"outline",onClick:()=>P($),children:a.jsx(Qr,{className:"h-4 w-4"})}),a.jsx(q,{size:"sm",variant:"destructive",onClick:()=>C($),children:a.jsx(Mr,{className:"h-4 w-4"})})]})})]},$._id))})]}),k.length===0&&a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(xs,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"沒有維護日期"}),a.jsx("p",{className:"text-gray-500",children:"沒有維護日期。"})]})]})]}),a.jsx(pt,{open:l||d,onOpenChange:$=>{$||(u(!1),f(!1),O())},children:a.jsxs(lt,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[a.jsxs(ut,{children:[a.jsx(ft,{children:v?"編輯維護日期":"新增維護日期"}),a.jsx(ht,{children:v?"更新維護日期資訊":"創建新的維護日期"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"date",children:"維護日期 *"}),a.jsx(oe,{id:"date",type:"date",value:b.date,onChange:$=>j(T=>({...T,date:$.target.value}))})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"reason",children:"維護原因 *"}),a.jsx(oe,{id:"reason",value:b.reason,onChange:$=>j(T=>({...T,reason:$.target.value})),placeholder:"例如: 系統維護, 修理..."})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"description",children:"詳細描述"}),a.jsx(tr,{id:"description",value:b.description,onChange:$=>j(T=>({...T,description:$.target.value})),placeholder:"輸入維護詳細描述...",rows:3})]}),a.jsxs("div",{children:[a.jsx(K,{children:"受影響的停車場"}),a.jsx("div",{className:"space-y-2 mt-2",children:r.map($=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",id:`parking-${$._id}`,checked:b.affectedParkingTypes.includes($._id),onChange:T=>{T.target.checked?j(M=>({...M,affectedParkingTypes:[...M.affectedParkingTypes,$._id]})):j(M=>({...M,affectedParkingTypes:M.affectedParkingTypes.filter(D=>D!==$._id)}))}}),a.jsxs(K,{htmlFor:`parking-${$._id}`,className:"text-sm",children:[$.name," (",$.code,")"]})]},$._id))})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(St,{id:"isActive",checked:b.isActive,onCheckedChange:$=>j(T=>({...T,isActive:$}))}),a.jsx(K,{htmlFor:"isActive",children:"啟用此維護日期"})]})]}),a.jsxs(dt,{children:[a.jsx(q,{variant:"outline",onClick:()=>{u(!1),f(!1),O()},children:"Hủy"}),a.jsx(q,{onClick:v?w:N,children:v?"更新":"創建"})]})]})}),a.jsx(pt,{open:h,onOpenChange:p,children:a.jsxs(lt,{children:[a.jsxs(ut,{children:[a.jsx(ft,{children:"確認刪除"}),a.jsxs(ht,{children:['您確定要刪除維護日期 "',g==null?void 0:g.reason,'"? 此操作無法撤銷。']})]}),a.jsxs(dt,{children:[a.jsx(q,{variant:"outline",onClick:()=>p(!1),children:"取消"}),a.jsx(q,{variant:"destructive",onClick:A,children:"刪除"})]})]})})]})},Zoe=()=>{const[e,t]=x.useState([]),[r,n]=x.useState(null),[i,s]=x.useState([]),[o,c]=x.useState(!0),[l,u]=x.useState(""),[d,f]=x.useState(!1),[h,p]=x.useState(!1),[g,m]=x.useState(!1),[v,y]=x.useState(!1),[b,j]=x.useState(null),[S,N]=x.useState(!1),[w,A]=x.useState("single"),[O,_]=x.useState([]),[P,C]=x.useState([]),[E,k]=x.useState(!1),[$,T]=x.useState(!1),[M,D]=x.useState(!1),[W,R]=x.useState(""),[Y,F]=x.useState(!1),[ie,z]=x.useState(!1),[H,de]=x.useState({startDate:"",endDate:"",price:0,reason:"",isActive:!0}),[Le,he]=x.useState(!1);x.useEffect(()=>{Te()},[]);const Te=async()=>{try{c(!0);const B=await qd(),ee=await Promise.all(B.parkingTypes.map(async Be=>{try{const Ke=await N$(Be._id);return{...Be,specialPrices:Ke.specialPrices||[]}}catch{return{...Be,specialPrices:[]}}}));t(ee),ee.length>0&&(n(ee[0]),s(ee[0].specialPrices))}catch(B){console.error("Error loading parking types:",B),Z.error("Không thể tải danh sách bãi đậu xe")}finally{c(!1)}},ce=async B=>{const ee=e.find(Be=>Be._id===B);n(ee||null),ee&&s(ee.specialPrices)},be=async()=>{var ee,Be;if(!r)return;if(!H.startDate||!H.price||!H.reason.trim()){Z.error("Vui lòng điền đầy đủ thông tin bao gồm lý do");return}if(!Le&&!H.endDate){Z.error("Vui lòng chọn ngày kết thúc");return}const B={...H,endDate:Le?H.startDate:H.endDate,forceOverride:ie};try{const Ke=await w$(r._id,B);Z.success(Ke.message||"新增特殊價格成功"),f(!1),$e(),await Te()}catch(Ke){console.error("Error creating special price:",Ke);const or=((Be=(ee=Ke.response)==null?void 0:ee.data)==null?void 0:Be.message)||"無法新增特殊價格";Z.error(or)}},ye=async()=>{var ee,Be,Ke,or;if(O.length===0){Z.error("Vui lòng chọn ít nhất một bãi đậu xe");return}if(!H.startDate||!H.price||!H.reason.trim()){Z.error("Vui lòng điền đầy đủ thông tin bao gồm lý do");return}const B={...H,endDate:Le?H.startDate:H.endDate};try{const Xt=[];for(const nr of O)try{const Zn=await wx(nr,[B],Y);Xt.push({parkingTypeId:nr,success:!0,result:Zn})}catch(Zn){Xt.push({parkingTypeId:nr,success:!1,error:((Be=(ee=Zn.response)==null?void 0:ee.data)==null?void 0:Be.message)||"Lỗi không xác định"})}const Yt=Xt.filter(nr=>nr.success).length,jr=Xt.filter(nr=>!nr.success).length;Yt>0&&Z.success(`成功創建 ${Yt} 個特殊價格`),jr>0&&Z.error(`${jr} 個特殊價格創建失敗`),p(!1),$e(),_([]),await Te()}catch(Xt){console.error("Error creating bulk special prices:",Xt),Z.error(((or=(Ke=Xt.response)==null?void 0:Ke.data)==null?void 0:or.message)||"批量創建特殊價格時發生錯誤")}},re=async()=>{if(!b||!r)return;if(!H.startDate||!H.price||!H.reason.trim()){Z.error("Vui lòng điền đầy đủ thông tin bao gồm lý do");return}const B={...H,endDate:Le?H.startDate:H.endDate};try{await Nx(r._id,b._id,B),Z.success("更新特殊價格成功"),m(!1),$e(),await Te()}catch(ee){console.error("Error updating special price:",ee),Z.error("無法更新特殊價格")}},Ve=async()=>{if(!(!b||!r))try{await Sx(r._id,b._id),Z.success("刪除特殊價格成功"),y(!1),j(null),await Te()}catch{Z.error("無法刪除特殊價格")}},$e=()=>{de({startDate:"",endDate:"",price:0,reason:"",isActive:!0}),N(!1),j(null),R(""),he(!1),z(!1)},rt=()=>{de({startDate:"",endDate:"",price:0,reason:"",isActive:!0}),he(!1),z(!1),f(!0)},at=()=>{de({startDate:"",endDate:"",price:0,reason:"",isActive:!0}),he(!1),p(!0)},ct=B=>{j(B);const ee=new Date(B.startDate).toISOString().split("T")[0],Be=new Date(B.endDate).toISOString().split("T")[0];de({startDate:ee,endDate:Be,price:B.price,reason:B.reason,isActive:B.isActive}),he(ee===Be),N(!0),m(!0)},L=B=>{j(B),y(!0)},G=B=>new Date(B).toLocaleDateString("zh-TW",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),X=(B,ee)=>{const Be=new Date(B),Ke=new Date(ee);return Be.toDateString()===Ke.toDateString()?G(B):`${G(B)} - ${G(ee)}`},V=B=>B.toLocaleString("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0,maximumFractionDigits:0}),ne=(B,ee,Be)=>{const Ke=new Date;switch(B){case"weekend":const or=[];if(!ee||!Be)return[];const Xt=new Date(ee),Yt=new Date(Be);let jr=new Date(Xt);for(;jr.getDay()!==6;)jr.setDate(jr.getDate()+1);let nr=new Date(jr);for(;nr<=Yt;){const Zn=new Date(nr);Zn.setDate(nr.getDate()+1),or.push({startDate:nr.toISOString().split("T")[0],endDate:Zn.toISOString().split("T")[0],price:r?Math.round(r.pricePerDay*1.2):0,reason:"週末",isActive:!0}),nr.setDate(nr.getDate()+7)}return or;case"holiday":return[{startDate:Ke.toISOString().split("T")[0],endDate:new Date(Ke.getTime()+7*24*60*60*1e3).toISOString().split("T")[0],price:r?Math.round(r.pricePerDay*1.5):0,reason:"節日",isActive:!0}];case"peak":return[{startDate:Ke.toISOString().split("T")[0],endDate:new Date(Ke.getTime()+30*24*60*60*1e3).toISOString().split("T")[0],price:r?Math.round(r.pricePerDay*1.3):0,reason:"旺季",isActive:!0}];default:return[H]}},se=B=>{if(R(B),B==="weekend"&&(!H.startDate||!H.endDate)){Z.error("Vui lòng chọn khoảng ngày trước khi sử dụng template cuối tuần");return}const ee=ne(B,H.startDate,H.endDate);ee.length===1?de(ee[0]):ee.length>1?(C(ee),k(!0)):B==="weekend"&&Z.error("Không tìm thấy cuối tuần nào trong khoảng ngày đã chọn")},Ee=()=>{if(O.length===0){Z.error("Vui lòng chọn ít nhất một bãi đậu xe");return}if(P.length===0){Z.error("Không có dữ liệu template");return}(async()=>{var ee,Be;try{const Ke=[];for(const Yt of O)try{const jr=await wx(Yt,P,Y);Ke.push({parkingTypeId:Yt,success:!0,result:jr})}catch(jr){Ke.push({parkingTypeId:Yt,success:!1,error:((Be=(ee=jr.response)==null?void 0:ee.data)==null?void 0:Be.message)||"Lỗi không xác định"})}const or=Ke.filter(Yt=>Yt.success).length,Xt=Ke.filter(Yt=>!Yt.success).length;or>0&&Z.success(`Áp dụng thành công ${P.length} template cho ${or} bãi đậu xe`),Xt>0&&Z.error(`${Xt} bãi đậu xe áp dụng thất bại`),k(!1),C([]),_([]),await Te()}catch(Ke){console.error("Error applying bulk templates:",Ke),Z.error("Không thể áp dụng template hàng loạt")}})()},J=async()=>{if(O.length===0){Z.error("Vui lòng chọn ít nhất một bãi đậu xe");return}try{const B=e.filter(Be=>O.includes(Be._id)).flatMap(Be=>Be.specialPrices);if(B.length===0){Z.error("Không có giá đặc biệt nào để xóa");return}const ee=[];for(const Be of e)if(O.includes(Be._id))for(const Ke of Be.specialPrices)ee.push(Sx(Be._id,Ke._id));await Promise.all(ee),Z.success(`Đã xóa ${B.length} giá đặc biệt từ ${O.length} bãi đậu xe`),T(!1),_([]),await Te()}catch(B){console.error("Error bulk deleting special prices:",B),Z.error("Không thể xóa giá đặc biệt hàng loạt")}},_e=async()=>{if(O.length===0){Z.error("Vui lòng chọn ít nhất một bãi đậu xe");return}if(!H.startDate||!H.price||!H.reason.trim()){Z.error("Vui lòng điền đầy đủ thông tin bao gồm lý do");return}try{const B=e.filter(Be=>O.includes(Be._id)).flatMap(Be=>Be.specialPrices);if(B.length===0){Z.error("Không có giá đặc biệt nào để sửa");return}const ee=[];for(const Be of e)if(O.includes(Be._id))for(const Ke of Be.specialPrices)ee.push(Nx(Be._id,Ke._id,H));await Promise.all(ee),Z.success(`Đã cập nhật ${B.length} giá đặc biệt từ ${O.length} bãi đậu xe`),D(!1),_([]),$e(),await Te()}catch(B){console.error("Error bulk updating special prices:",B),Z.error("Không thể cập nhật giá đặc biệt hàng loạt")}},Q=()=>{O.length===e.length?_([]):_(e.map(B=>B._id))},me=B=>{_(ee=>ee.includes(B)?ee.filter(Be=>Be!==B):[...ee,B])},xe=i.filter(B=>B.reason.toLowerCase().includes(l.toLowerCase())),Ye=e.flatMap(B=>B.specialPrices.map(ee=>({...ee,parkingTypeName:B.name,parkingTypeCode:B.code}))).filter(B=>B.reason.toLowerCase().includes(l.toLowerCase())||B.parkingTypeName.toLowerCase().includes(l.toLowerCase()));return o?a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}):a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"特殊價格"}),a.jsx("p",{className:"text-gray-600",children:"管理特定日期的特殊價格"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(q,{variant:"outline",onClick:Te,children:[a.jsx(Hn,{className:"h-4 w-4 mr-2"}),"重新整理"]}),a.jsxs(q,{variant:"outline",onClick:at,children:[a.jsx(mx,{className:"h-4 w-4 mr-2"}),"批量配置"]}),a.jsxs(q,{onClick:rt,disabled:!r,children:[a.jsx(Wr,{className:"h-4 w-4 mr-2"}),"新增特殊價格"]})]})]}),a.jsxs(fl,{value:w,onValueChange:B=>A(B),className:"space-y-6",children:[a.jsxs(co,{className:"grid w-full grid-cols-2",children:[a.jsxs(Kt,{value:"single",className:"flex items-center space-x-2",children:[a.jsx(ic,{className:"h-4 w-4"}),a.jsx("span",{children:"個別停車場配置"})]}),a.jsxs(Kt,{value:"overview",className:"flex items-center space-x-2",children:[a.jsx(hx,{className:"h-4 w-4"}),a.jsx("span",{children:"全部概覽"})]})]}),a.jsxs(Qt,{value:"single",className:"space-y-6",children:[a.jsxs(le,{children:[a.jsx(ge,{children:a.jsxs(ve,{className:"flex items-center",children:[a.jsx(la,{className:"h-5 w-5 mr-2"}),"選擇停車場"]})}),a.jsx(ue,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"parkingType",children:"停車場"}),a.jsx("select",{id:"parkingType",value:(r==null?void 0:r._id)||"",onChange:B=>ce(B.target.value),className:"w-full p-2 border border-gray-300 rounded-md",children:e.map(B=>a.jsxs("option",{value:B._id,children:[B.name," (",B.code,") - ",V(B.pricePerDay),"/天"]},B._id))})]}),a.jsx("div",{className:"flex items-end",children:a.jsxs("div",{className:"text-sm text-gray-600",children:["基本價格: ",r?V(r.pricePerDay):"N/A"]})})]})})]}),a.jsxs(le,{children:[a.jsx(ge,{children:a.jsxs(ve,{className:"flex items-center",children:[a.jsx(hr,{className:"h-5 w-5 mr-2"}),"篩選"]})}),a.jsx(ue,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"search",children:"搜尋"}),a.jsxs("div",{className:"relative",children:[a.jsx(Hr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),a.jsx(oe,{id:"search",placeholder:"原因...",value:l,onChange:B=>u(B.target.value),className:"pl-10"})]})]}),a.jsx("div",{className:"flex items-end",children:a.jsxs(q,{variant:"outline",className:"w-full",children:[a.jsx(hr,{className:"h-4 w-4 mr-2"}),"篩選"]})})]})})]}),a.jsxs(le,{children:[a.jsxs(ge,{children:[a.jsx(ve,{children:"特殊價格清單"}),a.jsxs(tt,{children:[r&&`停車場: ${r.name}`," - 共 ",xe.length," 個特殊價格"]})]}),a.jsxs(ue,{children:[a.jsxs(Vr,{children:[a.jsx(zr,{children:a.jsxs(Pt,{children:[a.jsx(Ae,{children:"日期"}),a.jsx(Ae,{children:"價格"}),a.jsx(Ae,{children:"原因"}),a.jsx(Ae,{children:"狀態"}),a.jsx(Ae,{children:"操作"})]})}),a.jsx(Ur,{children:xe.map(B=>a.jsxs(Pt,{children:[a.jsx(Oe,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Dt,{className:"h-4 w-4 text-gray-500"}),a.jsx("span",{className:"font-medium",children:X(B.startDate,B.endDate)})]})}),a.jsx(Oe,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(cs,{className:"h-4 w-4 text-green-500"}),a.jsx("span",{className:"font-bold text-green-600",children:V(B.price)})]})}),a.jsx(Oe,{children:a.jsx("div",{className:"font-medium",children:B.reason})}),a.jsx(Oe,{children:a.jsx(Me,{variant:B.isActive?"default":"secondary",children:B.isActive?a.jsxs(a.Fragment,{children:[a.jsx(mr,{className:"h-3 w-3 mr-1"}),"Hoạt động"]}):a.jsxs(a.Fragment,{children:[a.jsx(qr,{className:"h-3 w-3 mr-1"}),"Tạm khóa"]})})}),a.jsx(Oe,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(q,{size:"sm",variant:"outline",onClick:()=>ct(B),children:a.jsx(Qr,{className:"h-4 w-4"})}),a.jsx(q,{size:"sm",variant:"destructive",onClick:()=>L(B),children:a.jsx(Mr,{className:"h-4 w-4"})})]})})]},B._id))})]}),xe.length===0&&a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(la,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"沒有特殊價格"}),a.jsx("p",{className:"text-gray-500",children:"此停車場尚未設置任何特殊價格。"})]})]})]})]}),a.jsxs(Qt,{value:"overview",className:"space-y-6",children:[a.jsxs(le,{children:[a.jsx(ge,{children:a.jsxs(ve,{className:"flex items-center",children:[a.jsx(mx,{className:"h-5 w-5 mr-2"}),"選擇停車場進行批量操作"]})}),a.jsx(ue,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx($a,{id:"selectAllOverview",checked:O.length===e.length,onCheckedChange:Q}),a.jsx(K,{htmlFor:"selectAllOverview",className:"font-medium",children:"選擇所有停車場"})]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 max-h-40 overflow-y-auto border rounded-md p-3",children:e.map(B=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx($a,{id:`overview-${B._id}`,checked:O.includes(B._id),onCheckedChange:()=>me(B._id)}),a.jsxs(K,{htmlFor:`overview-${B._id}`,className:"text-sm",children:[B.name," (",B.code,")"]})]},B._id))}),a.jsxs("div",{className:"text-sm text-gray-600",children:["已選擇: ",O.length,"/",e.length," 個停車場"]})]})})]}),a.jsxs(le,{children:[a.jsx(ge,{children:a.jsxs(ve,{className:"flex items-center",children:[a.jsx(hr,{className:"h-5 w-5 mr-2"}),"概覽篩選"]})}),a.jsx(ue,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"overviewSearch",children:"搜尋"}),a.jsxs("div",{className:"relative",children:[a.jsx(Hr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),a.jsx(oe,{id:"overviewSearch",placeholder:"原因或停車場名稱...",value:l,onChange:B=>u(B.target.value),className:"pl-10"})]})]}),a.jsx("div",{className:"flex items-end",children:a.jsxs("div",{className:"text-sm text-gray-600",children:["總計: ",Ye.length," 個特殊價格"]})})]})})]}),a.jsxs(le,{children:[a.jsxs(ge,{children:[a.jsx(ve,{children:"所有特殊價格概覽"}),a.jsx(tt,{children:"查看所有停車場的特殊價格"})]}),a.jsxs(ue,{children:[a.jsxs(Vr,{children:[a.jsx(zr,{children:a.jsxs(Pt,{children:[a.jsx(Ae,{children:"停車場"}),a.jsx(Ae,{children:"日期"}),a.jsx(Ae,{children:"價格"}),a.jsx(Ae,{children:"原因"}),a.jsx(Ae,{children:"狀態"})]})}),a.jsx(Ur,{children:Ye.map(B=>a.jsxs(Pt,{children:[a.jsx(Oe,{children:a.jsxs("div",{className:"font-medium",children:[B.parkingTypeName,a.jsx(Me,{variant:"outline",className:"ml-2",children:B.parkingTypeCode})]})}),a.jsx(Oe,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Dt,{className:"h-4 w-4 text-gray-500"}),a.jsx("span",{className:"font-medium",children:X(B.startDate,B.endDate)})]})}),a.jsx(Oe,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(cs,{className:"h-4 w-4 text-green-500"}),a.jsx("span",{className:"font-bold text-green-600",children:V(B.price)})]})}),a.jsx(Oe,{children:a.jsx("div",{className:"font-medium",children:B.reason})}),a.jsx(Oe,{children:a.jsx(Me,{variant:B.isActive?"default":"secondary",children:B.isActive?a.jsxs(a.Fragment,{children:[a.jsx(mr,{className:"h-3 w-3 mr-1"}),"Hoạt động"]}):a.jsxs(a.Fragment,{children:[a.jsx(qr,{className:"h-3 w-3 mr-1"}),"Tạm khóa"]})})})]},`${B.parkingTypeCode}-${B._id}`))})]}),Ye.length===0&&a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(hx,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"沒有特殊價格"}),a.jsx("p",{className:"text-gray-500",children:"尚未為任何停車場設置特殊價格。"})]})]})]})]})]}),a.jsx(pt,{open:d||g,onOpenChange:B=>{B||(f(!1),m(!1),$e())},children:a.jsxs(lt,{className:"max-w-md",children:[a.jsxs(ut,{children:[a.jsx(ft,{children:S?"編輯特殊價格":"新增特殊價格"}),a.jsx(ht,{children:S?"更新特殊價格資訊":"為特定日期創建新的特殊價格"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[a.jsx(St,{id:"singleDayMode",checked:Le,onCheckedChange:he}),a.jsx(K,{htmlFor:"singleDayMode",className:"font-medium",children:Le?"單日模式":"日期範圍模式"})]}),Le?a.jsxs("div",{children:[a.jsx(K,{htmlFor:"singleDate",children:"選擇日期 *"}),a.jsx(oe,{id:"singleDate",type:"date",value:H.startDate,onChange:B=>de(ee=>({...ee,startDate:B.target.value,endDate:B.target.value}))})]}):a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"startDate",children:"開始日期 *"}),a.jsx(oe,{id:"startDate",type:"date",value:H.startDate,onChange:B=>de(ee=>({...ee,startDate:B.target.value}))})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"endDate",children:"結束日期 *"}),a.jsx(oe,{id:"endDate",type:"date",value:H.endDate,onChange:B=>de(ee=>({...ee,endDate:B.target.value}))})]})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"price",children:"價格 (TWD) *"}),a.jsx(oe,{id:"price",type:"number",value:H.price,onChange:B=>de(ee=>({...ee,price:parseFloat(B.target.value)})),placeholder:"Nhập giá..."})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"reason",children:"原因 *"}),a.jsx(tr,{id:"reason",value:H.reason,onChange:B=>de(ee=>({...ee,reason:B.target.value})),placeholder:"Ví dụ: Cuối tuần, Ngày lễ Tết, Sự kiện đặc biệt, Mùa cao điểm, Lễ hội, Ngày nghỉ lễ...",rows:3}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"💡 Nhập lý do cụ thể để khách hàng hiểu rõ tại sao giá thay đổi"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(St,{id:"isActive",checked:H.isActive,onCheckedChange:B=>de(ee=>({...ee,isActive:B}))}),a.jsx(K,{htmlFor:"isActive",children:"啟用此特殊價格"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(St,{id:"singleForceOverride",checked:ie,onCheckedChange:z}),a.jsx(K,{htmlFor:"singleForceOverride",className:"text-orange-600",children:"覆蓋已存在的特殊價格"})]})]}),a.jsxs(dt,{children:[a.jsx(q,{variant:"outline",onClick:()=>{f(!1),m(!1),$e()},children:"取消"}),a.jsx(q,{onClick:S?re:be,children:S?"更新":"創建特殊價格"})]})]})}),a.jsx(pt,{open:E,onOpenChange:k,children:a.jsxs(lt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(ut,{children:[a.jsx(ft,{children:"選擇要應用的模板"}),a.jsx(ht,{children:"選擇一個模板應用到已選擇的停車場。"})]}),a.jsx("div",{className:"space-y-4",children:P.map((B,ee)=>a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-md",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Dt,{className:"h-4 w-4 text-gray-500"}),a.jsx("span",{children:X(B.startDate,B.endDate)})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(cs,{className:"h-4 w-4 text-green-500"}),a.jsx("span",{children:V(B.price)})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx(Me,{variant:B.isActive?"default":"secondary",children:B.isActive?"啟用":"暫停"})}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(q,{size:"sm",variant:"outline",onClick:()=>{de(B),k(!1),C([])},children:a.jsx(Qr,{className:"h-4 w-4"})}),a.jsx(q,{size:"sm",variant:"destructive",onClick:()=>{C(P.filter((Be,Ke)=>Ke!==ee))},children:a.jsx(Mr,{className:"h-4 w-4"})})]})]},ee))}),a.jsxs(dt,{children:[a.jsx(q,{variant:"outline",onClick:()=>{k(!1),C([])},children:"Hủy"}),a.jsxs(q,{onClick:Ee,disabled:P.length===0,children:[a.jsx(Jl,{className:"h-4 w-4 mr-2"}),"應用到 ",O.length," 個停車場"]})]})]})}),a.jsx(pt,{open:h,onOpenChange:p,children:a.jsxs(lt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(ut,{children:[a.jsx(ft,{children:"批量特殊價格配置"}),a.jsx(ht,{children:"同時為多個停車場應用特殊價格"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx(K,{className:"text-sm font-medium",children:"快速模板"}),W==="weekend"&&H.startDate&&H.endDate&&a.jsxs("div",{className:"text-xs text-blue-600 bg-blue-50 p-2 rounded-md mt-1",children:['💡 "週末"模板將為 ',H.startDate," 到 ",H.endDate," 期間的所有週末創建特殊價格"]}),a.jsxs("div",{className:"grid grid-cols-3 gap-2 mt-2",children:[a.jsxs(q,{variant:W==="weekend"?"default":"outline",size:"sm",onClick:()=>se("weekend"),className:"flex items-center space-x-2",children:[a.jsx(rE,{className:"h-3 w-3"}),a.jsx("span",{children:"週末"})]}),a.jsxs(q,{variant:W==="holiday"?"default":"outline",size:"sm",onClick:()=>se("holiday"),className:"flex items-center space-x-2",children:[a.jsx(Dt,{className:"h-3 w-3"}),a.jsx("span",{children:"節日"})]}),a.jsxs(q,{variant:W==="peak"?"default":"outline",size:"sm",onClick:()=>se("peak"),className:"flex items-center space-x-2",children:[a.jsx(la,{className:"h-3 w-3"}),a.jsx("span",{children:"旺季"})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(St,{id:"bulkSingleDayMode",checked:Le,onCheckedChange:he}),a.jsx(K,{htmlFor:"bulkSingleDayMode",className:"font-medium",children:Le?"單日模式":"日期範圍模式"})]}),a.jsxs("div",{className:"space-y-4",children:[Le?a.jsxs("div",{children:[a.jsx(K,{htmlFor:"bulkSingleDate",children:"選擇日期 *"}),a.jsx(oe,{id:"bulkSingleDate",type:"date",value:H.startDate,onChange:B=>de(ee=>({...ee,startDate:B.target.value,endDate:B.target.value}))})]}):a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"bulkStartDate",children:"開始日期 *"}),a.jsx(oe,{id:"bulkStartDate",type:"date",value:H.startDate,onChange:B=>{if(de(ee=>({...ee,startDate:B.target.value})),W==="weekend"&&H.endDate){const ee=ne("weekend",B.target.value,H.endDate);C(ee)}}})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"bulkEndDate",children:"結束日期 *"}),a.jsx(oe,{id:"bulkEndDate",type:"date",value:H.endDate,onChange:B=>{if(de(ee=>({...ee,endDate:B.target.value})),W==="weekend"&&H.startDate){const ee=ne("weekend",H.startDate,B.target.value);C(ee)}}})]})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"bulkPrice",children:"價格 (TWD) *"}),a.jsx(oe,{id:"bulkPrice",type:"number",value:H.price,onChange:B=>de(ee=>({...ee,price:parseFloat(B.target.value)})),placeholder:"輸入價格..."})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"bulkReason",children:"原因 *"}),a.jsx(tr,{id:"bulkReason",value:H.reason,onChange:B=>de(ee=>({...ee,reason:B.target.value})),placeholder:"Ví dụ: Cuối tuần, Ngày lễ Tết, Sự kiện đặc biệt, Mùa cao điểm, Lễ hội, Ngày nghỉ lễ...",rows:3}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"💡 Nhập lý do cụ thể để khách hàng hiểu rõ tại sao giá thay đổi"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(St,{id:"bulkIsActive",checked:H.isActive,onCheckedChange:B=>de(ee=>({...ee,isActive:B}))}),a.jsx(K,{htmlFor:"bulkIsActive",children:"啟用此特殊價格"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(St,{id:"forceOverride",checked:Y,onCheckedChange:F}),a.jsx(K,{htmlFor:"forceOverride",className:"text-orange-600",children:"覆蓋已存在的特殊價格"})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[a.jsx($a,{id:"selectAll",checked:O.length===e.length,onCheckedChange:Q}),a.jsx(K,{htmlFor:"selectAll",className:"font-medium",children:"選擇所有停車場"})]}),a.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-40 overflow-y-auto border rounded-md p-3",children:e.map(B=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx($a,{id:B._id,checked:O.includes(B._id),onCheckedChange:()=>me(B._id)}),a.jsxs(K,{htmlFor:B._id,className:"text-sm",children:[B.name," (",B.code,")"]})]},B._id))}),a.jsxs("div",{className:"text-sm text-gray-600 mt-2",children:["已選擇: ",O.length,"/",e.length," 個停車場"]})]})]}),a.jsxs(dt,{children:[a.jsx(q,{variant:"outline",onClick:()=>{p(!1),$e(),_([])},children:"Hủy"}),a.jsxs(q,{onClick:ye,disabled:O.length===0,children:[a.jsx(Jl,{className:"h-4 w-4 mr-2"}),"應用到 ",O.length," 個停車場"]})]})]})}),a.jsx(pt,{open:E,onOpenChange:k,children:a.jsxs(lt,{className:"max-w-2xl",children:[a.jsxs(ut,{children:[a.jsx(ft,{children:"Chọn template để áp dụng"}),a.jsx(ht,{children:"Chọn một template để áp dụng cho các bãi đậu xe đã chọn."})]}),a.jsx("div",{className:"space-y-4",children:P.map((B,ee)=>a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-md",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Dt,{className:"h-4 w-4 text-gray-500"}),a.jsx("span",{children:X(B.startDate,B.endDate)})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(cs,{className:"h-4 w-4 text-green-500"}),a.jsx("span",{children:V(B.price)})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx(Me,{variant:B.isActive?"default":"secondary",children:B.isActive?"Hoạt động":"Tạm khóa"})}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(q,{size:"sm",variant:"outline",onClick:()=>{de(B),k(!1),C([])},children:a.jsx(Qr,{className:"h-4 w-4"})}),a.jsx(q,{size:"sm",variant:"destructive",onClick:()=>{C(P.filter((Be,Ke)=>Ke!==ee))},children:a.jsx(Mr,{className:"h-4 w-4"})})]})]},ee))}),a.jsxs(dt,{children:[a.jsx(q,{variant:"outline",onClick:()=>{k(!1),C([])},children:"Hủy"}),a.jsxs(q,{onClick:Ee,disabled:P.length===0,children:[a.jsx(Jl,{className:"h-4 w-4 mr-2"}),"Áp dụng cho ",O.length," bãi đậu xe"]})]})]})}),a.jsx(pt,{open:$,onOpenChange:T,children:a.jsxs(lt,{children:[a.jsxs(ut,{children:[a.jsx(ft,{children:"確認刪除"}),a.jsx(ht,{children:"您確定要刪除所選停車場的所有特殊價格嗎？ 此操作無法撤銷。"})]}),a.jsxs(dt,{children:[a.jsx(q,{variant:"outline",onClick:()=>T(!1),children:"Hủy"}),a.jsx(q,{variant:"destructive",onClick:J,children:"刪除"})]})]})}),a.jsx(pt,{open:M,onOpenChange:D,children:a.jsxs(lt,{className:"max-w-2xl",children:[a.jsxs(ut,{children:[a.jsx(ft,{children:"批量更新特殊價格"}),a.jsx(ht,{children:"更新所選停車場所有特殊價格的資訊。"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[a.jsx(St,{id:"bulkEditSingleDayMode",checked:Le,onCheckedChange:he}),a.jsx(K,{htmlFor:"bulkEditSingleDayMode",className:"font-medium",children:Le?"單日模式":"日期範圍模式"})]}),Le?a.jsxs("div",{children:[a.jsx(K,{htmlFor:"bulkEditSingleDate",children:"選擇日期 *"}),a.jsx(oe,{id:"bulkEditSingleDate",type:"date",value:H.startDate,onChange:B=>de(ee=>({...ee,startDate:B.target.value,endDate:B.target.value}))})]}):a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"bulkStartDateEdit",children:"開始日期 *"}),a.jsx(oe,{id:"bulkStartDateEdit",type:"date",value:H.startDate,onChange:B=>de(ee=>({...ee,startDate:B.target.value}))})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"bulkEndDateEdit",children:"結束日期 *"}),a.jsx(oe,{id:"bulkEndDateEdit",type:"date",value:H.endDate,onChange:B=>de(ee=>({...ee,endDate:B.target.value}))})]})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"bulkPriceEdit",children:"價格 (TWD) *"}),a.jsx(oe,{id:"bulkPriceEdit",type:"number",value:H.price,onChange:B=>de(ee=>({...ee,price:parseFloat(B.target.value)})),placeholder:"Nhập giá..."})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"bulkReasonEdit",children:"原因 *"}),a.jsx(tr,{id:"bulkReasonEdit",value:H.reason,onChange:B=>de(ee=>({...ee,reason:B.target.value})),placeholder:"Ví dụ: Cuối tuần, Ngày lễ Tết, Sự kiện đặc biệt, Mùa cao điểm, Lễ hội, Ngày nghỉ lễ...",rows:3}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"💡 Nhập lý do cụ thể để khách hàng hiểu rõ tại sao giá thay đổi"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(St,{id:"bulkIsActiveEdit",checked:H.isActive,onCheckedChange:B=>de(ee=>({...ee,isActive:B}))}),a.jsx(K,{htmlFor:"bulkIsActiveEdit",children:"啟用此特殊價格"})]})]}),a.jsxs(dt,{children:[a.jsx(q,{variant:"outline",onClick:()=>{D(!1),$e()},children:"Hủy"}),a.jsx(q,{onClick:_e,children:"Cập nhật"})]})]})}),a.jsx(pt,{open:$,onOpenChange:T,children:a.jsxs(lt,{children:[a.jsxs(ut,{children:[a.jsx(ft,{children:"確認批量刪除"}),a.jsx(ht,{children:"Bạn có chắc chắn muốn xóa tất cả giá đặc biệt cho các bãi đậu xe đã chọn? Hành động này không thể hoàn tác."})]}),a.jsxs(dt,{children:[a.jsx(q,{variant:"outline",onClick:()=>T(!1),children:"Hủy"}),a.jsx(q,{variant:"destructive",onClick:J,children:"Xóa"})]})]})}),a.jsx(pt,{open:M,onOpenChange:D,children:a.jsxs(lt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(ut,{children:[a.jsx(ft,{children:"Cập nhật giá đặc biệt hàng loạt"}),a.jsx(ht,{children:"Cập nhật thông tin giá đặc biệt cho tất cả các giá đặc biệt của các bãi đậu xe đã chọn."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"bulkStartDateEdit",children:"Từ ngày *"}),a.jsx(oe,{id:"bulkStartDateEdit",type:"date",value:H.startDate,onChange:B=>de(ee=>({...ee,startDate:B.target.value}))})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"bulkEndDateEdit",children:"Đến ngày *"}),a.jsx(oe,{id:"bulkEndDateEdit",type:"date",value:H.endDate,onChange:B=>de(ee=>({...ee,endDate:B.target.value}))})]})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"bulkPriceEdit",children:"Giá (TWD) *"}),a.jsx(oe,{id:"bulkPriceEdit",type:"number",value:H.price,onChange:B=>de(ee=>({...ee,price:parseFloat(B.target.value)})),placeholder:"Nhập giá..."})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"bulkReasonEdit",children:"Lý do *"}),a.jsx(tr,{id:"bulkReasonEdit",value:H.reason,onChange:B=>de(ee=>({...ee,reason:B.target.value})),placeholder:"Ví dụ: Cuối tuần, Ngày lễ Tết, Sự kiện đặc biệt, Mùa cao điểm, Lễ hội, Ngày nghỉ lễ...",rows:3}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"💡 Nhập lý do cụ thể để khách hàng hiểu rõ tại sao giá thay đổi"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(St,{id:"bulkIsActiveEdit",checked:H.isActive,onCheckedChange:B=>de(ee=>({...ee,isActive:B}))}),a.jsx(K,{htmlFor:"bulkIsActiveEdit",children:"啟用此特殊價格"})]})]}),a.jsxs(dt,{children:[a.jsx(q,{variant:"outline",onClick:()=>{D(!1),$e()},children:"Hủy"}),a.jsx(q,{onClick:_e,children:"更新"})]})]})}),a.jsx(pt,{open:v,onOpenChange:y,children:a.jsxs(lt,{children:[a.jsxs(ut,{children:[a.jsx(ft,{children:"確認刪除"}),a.jsxs(ht,{children:['您確定要刪除時間範圍 "',b?X(b.startDate,b.endDate):"",'" 的特殊價格嗎？ 此操作無法撤銷。']})]}),a.jsxs(dt,{children:[a.jsx(q,{variant:"outline",onClick:()=>y(!1),children:"取消"}),a.jsx(q,{variant:"destructive",onClick:Ve,children:"刪除"})]})]})})]})},Xoe=({parkingTypeId:e,checkInTime:t,checkOutTime:r,onDateSelect:n,onDateRangeSelect:i})=>{const[s,o]=x.useState([]),[c,l]=x.useState(!1),[u,d]=x.useState(new Date),[f,h]=x.useState(null),[p,g]=x.useState(null),[m,v]=x.useState(null);x.useEffect(()=>{e&&y()},[e]),x.useEffect(()=>{e&&m&&b()},[e,u,m]);const y=async()=>{try{const k=await Ne.get("/parking");if(k.data.parkingTypes){const $=k.data.parkingTypes.find(T=>T._id===e);$&&v($)}}catch(k){console.error("Error loading parking type info:",k)}},b=async()=>{l(!0);try{const k=new Date(u.getFullYear(),u.getMonth(),1),$=new Date(u.getFullYear(),u.getMonth()+1,0),T=[],M=new Date(k);for(;M<=$;){const D=M.toISOString().split("T")[0],W=t&&r&&M>=new Date(t)&&M<=new Date(r),R=(m==null?void 0:m.totalSpaces)||10,Y=(m==null?void 0:m.pricePerDay)||1200;T.push({date:D,isAvailable:!0,isSelected:!!W,isInRange:!!W,conflictingBookings:0,availableSlots:R,price:Y}),M.setDate(M.getDate()+1)}o(T),await j(T)}catch(k){console.error("Error loading availability data:",k)}finally{l(!1)}},j=async k=>{try{if(!m){console.log("Parking type info not loaded yet");return}const $=u.getFullYear(),T=u.getMonth()+1,M=await Ne.get(`/parking/${e}/month-availability`,{params:{year:$,month:T}});if(M.data.availabilityData){const D=M.data.availabilityData,W=k.map(R=>{const Y=D.find(F=>F.date===R.date);if(Y)return{...R,isAvailable:Y.isAvailable,availableSlots:Y.availableSpaces,price:Y.price,isSpecialPrice:!1,specialPriceReason:""};{const ie=new Date(R.date)<new Date;return{...R,isAvailable:!ie,availableSlots:ie?0:(m==null?void 0:m.totalSpaces)||0,price:(m==null?void 0:m.pricePerDay)||0,isSpecialPrice:!1,specialPriceReason:""}}});o(W)}}catch($){console.error("Error checking daily availability:",$);const T=new Date,M=k.map(D=>{const R=new Date(D.date)<T,Y=R?0:Math.max(1,Math.floor(Math.random()*((m==null?void 0:m.totalSpaces)||10)));return{...D,isAvailable:!R,availableSlots:Y,price:(m==null?void 0:m.pricePerDay)||1200,isSpecialPrice:!1,specialPriceReason:""}});o(M)}},S=k=>{if(!k.isAvailable||k.availableSlots===0)return"unavailable";if(t&&r){const $=new Date(k.date),T=new Date(t),M=new Date(r);if($>=T&&$<=M)return"in-booking-range"}if(f&&p){const $=new Date(k.date),T=new Date(f),M=new Date(p);if($>=T&&$<=M)return"in-range"}return f&&k.date===f?"selected":"available"},N=k=>{const $="w-full h-20 rounded-lg flex flex-col items-center justify-center text-sm font-medium cursor-pointer transition-all duration-200 border-2";switch(S(k)){case"selected":return`${$} bg-[#39653f] text-white border-[#39653f] shadow-lg hover:bg-[#2d4f33] hover:shadow-xl`;case"in-range":return`${$} bg-blue-200 text-blue-800 border-blue-300 hover:bg-blue-300 hover:shadow-md`;case"in-booking-range":return`${$} bg-green-100 text-green-800 border-green-300 hover:bg-green-200 hover:shadow-md`;case"unavailable":return`${$} bg-red-50 text-red-600 border-red-200 cursor-not-allowed opacity-60`;default:return`${$} bg-white text-gray-700 border-gray-200 hover:bg-gray-50 hover:border-blue-300 hover:shadow-md`}},w=k=>k.toLocaleString("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0,maximumFractionDigits:0}),A=k=>k.toLocaleDateString("zh-TW",{year:"numeric",month:"long"}),O=()=>{d(k=>new Date(k.getFullYear(),k.getMonth()-1,1))},_=()=>{d(k=>new Date(k.getFullYear(),k.getMonth()+1,1))},P=()=>["日","一","二","三","四","五","六"],C=()=>{const k=u.getFullYear(),$=u.getMonth(),T=new Date(k,$,1),M=new Date(k,$+1,0),D=new Date(T),W=new Date(M),R=[],Y=new Date(D),F=T.getDay();for(let ie=0;ie<F;ie++)R.push(null);for(;Y<=W;){const ie=Y.toISOString().split("T")[0],z=s.find(H=>H.date===ie);R.push({date:ie,day:Y.getDate(),...z}),Y.setDate(Y.getDate()+1)}return R},E=k=>{if(!k)return;const $=s.find(T=>T.date===k);!$||!$.isAvailable||$.availableSlots===0||(n==null||n(k),!f||f&&p?(h(k),g(null)):k>=f?(g(k),i==null||i(f,k)):(h(k),g(f),i==null||i(k,f)))};return c?a.jsxs(le,{className:"border-0 shadow-lg",children:[a.jsx(ge,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-b",children:a.jsxs(ve,{className:"flex items-center space-x-3 text-blue-900",children:[a.jsx(Dt,{className:"h-6 w-6 text-blue-600"}),a.jsx("span",{children:"可用性日曆"})]})}),a.jsx(ue,{className:"p-6",children:a.jsx("div",{className:"flex items-center justify-center h-32",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})})]}):a.jsxs(le,{className:"border-0 shadow-lg",children:[a.jsx(ge,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-b",children:a.jsxs(ve,{className:"flex items-center space-x-3 text-blue-900",children:[a.jsx(Dt,{className:"h-6 w-6 text-blue-600"}),a.jsx("span",{children:"Lịch khả dụng"})]})}),a.jsxs(ue,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs(q,{variant:"outline",size:"sm",onClick:O,className:"flex items-center space-x-2 hover:bg-blue-50 hover:border-blue-300",children:[a.jsx("span",{className:"text-blue-600",children:"←"}),a.jsx("span",{className:"text-blue-600",children:"上個月"})]}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 bg-blue-50 px-4 py-2 rounded-lg",children:A(u)}),a.jsxs(q,{variant:"outline",size:"sm",onClick:_,className:"flex items-center space-x-2 hover:bg-blue-50 hover:border-blue-300",children:[a.jsx("span",{className:"text-blue-600",children:"下個月"}),a.jsx("span",{className:"text-blue-600",children:"→"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"grid grid-cols-7 gap-2",children:P().map((k,$)=>a.jsx("div",{className:"text-center text-sm font-medium text-gray-600 py-2 bg-gray-50 rounded-lg",children:k},$))}),a.jsx("div",{className:"grid grid-cols-7 gap-2",children:C().map((k,$)=>{if(!k)return a.jsx("div",{className:"w-full h-20"},$);const T=s.find(W=>W.date===k.date),M=S(T||{...k,isAvailable:!0}),D=N(T||{...k,isAvailable:!0});return a.jsxs("div",{className:`${D} cursor-pointer transition-all duration-200 hover:scale-105 hover:shadow-md ${T!=null&&T.isAvailable&&((T==null?void 0:T.availableSlots)||0)>0?"hover:bg-blue-50 hover:border-blue-300":"cursor-not-allowed opacity-60"}`,onClick:()=>E(k.date),title:`${k.date} - ${M}`,children:[a.jsx("div",{className:"text-lg font-bold mb-1 text-gray-900",children:k.day}),a.jsx("div",{className:"text-center",children:T!=null&&T.isAvailable&&((T==null?void 0:T.availableSlots)||0)>0?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-center space-x-1 mb-1",children:[a.jsx(ir,{className:"h-3 w-3 text-green-600"}),a.jsxs("span",{className:"text-xs font-medium text-green-700",children:[T.availableSlots," 位"]})]}),a.jsx("div",{className:`text-xs font-bold ${T.isSpecialPrice?"text-orange-600":"text-green-600"}`,children:w(T.price||0)}),T.isSpecialPrice&&a.jsx("div",{className:"text-xs text-orange-500 font-medium truncate",children:T.specialPriceReason})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex items-center justify-center mb-1",children:a.jsx(qr,{className:"h-4 w-4 text-red-500"})}),a.jsx("div",{className:"text-xs font-medium text-red-600",children:"已滿"})]})})]},$)})})]}),a.jsxs("div",{className:"mt-6 pt-4 border-t",children:[a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 bg-white border-2 border-gray-200 rounded"}),a.jsx("span",{className:"text-gray-600",children:"可用"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 bg-green-100 border-2 border-green-300 rounded"}),a.jsx("span",{className:"text-gray-600",children:"已預約"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 bg-red-50 border-2 border-red-200 rounded opacity-60"}),a.jsx("span",{className:"text-gray-600",children:"已滿"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 bg-[#39653f] border-2 border-blue-600 rounded"}),a.jsx("span",{className:"text-gray-600",children:"已選擇"})]})]}),a.jsxs("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx("span",{className:"text-blue-600",children:"💡"}),a.jsx("span",{className:"text-sm font-medium text-blue-800",children:"使用說明"})]}),a.jsxs("div",{className:"text-xs text-blue-700 space-y-1",children:[a.jsx("p",{children:"• 點擊日期可選擇進入時間"}),a.jsx("p",{children:"• 再次點擊其他日期可選擇離開時間"}),a.jsx("p",{children:"• 綠色數字表示可用車位數量"}),a.jsx("p",{children:"• 橙色價格表示特殊價格"})]})]})]})]})]})},Yoe=({checkInTime:e,checkOutTime:t,conflictingDays:r,totalDays:n,availableDays:i})=>{if(r.length===0)return null;const s=d=>new Date(d).toLocaleDateString("zh-TW",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),c=r.length===n?"full":r.length>n/2?"major":"minor",l=()=>{switch(c){case"full":return"所選時間範圍內的所有日期都已被預約。請選擇其他時間範圍。";case"major":return"所選時間範圍內的大部分日期已被預約。只剩下少數空閒日期。";case"minor":return"所選時間範圍內的部分日期已被預約。";default:return"預約時間有衝突。"}},u=()=>{switch(c){case"full":return"border-red-200 bg-red-50 text-red-800";case"major":return"border-orange-200 bg-orange-50 text-orange-800";case"minor":return"border-yellow-200 bg-yellow-50 text-yellow-800";default:return"border-gray-200 bg-gray-50 text-gray-800"}};return a.jsxs(le,{className:`border-2 ${u()}`,children:[a.jsx(ge,{className:"pb-3",children:a.jsxs(ve,{className:"flex items-center space-x-2 text-lg",children:[a.jsx(xs,{className:"h-5 w-5"}),a.jsx("span",{children:"時間衝突通知"})]})}),a.jsxs(ue,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Dt,{className:"h-4 w-4"}),a.jsx("span",{className:"font-medium",children:"摘要:"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs(Me,{variant:"outline",className:"bg-green-100 text-green-800",children:[i," 天空閒"]}),a.jsxs(Me,{variant:"outline",className:"bg-red-100 text-red-800",children:[r.length," 天已預約"]})]})]}),a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx(cu,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),a.jsx("p",{className:"text-sm",children:l()})]}),a.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[a.jsx(_r,{className:"h-4 w-4"}),a.jsxs("span",{children:["時間範圍: ",s(e)," - ",s(t)]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-2",children:"已被預約的日期:"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:r.map((d,f)=>a.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[a.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),a.jsx("span",{children:s(d)})]},f))})]}),a.jsxs("div",{className:"bg-white/50 p-3 rounded-lg",children:[a.jsx("h4",{className:"font-medium mb-2",children:"建議:"}),a.jsxs("ul",{className:"text-sm space-y-1",children:[c==="full"&&a.jsx("li",{children:"• 選擇完全不同的時間範圍"}),c==="major"&&a.jsxs(a.Fragment,{children:[a.jsx("li",{children:"• 選擇較短的時間範圍"}),a.jsx("li",{children:"• 選擇其他時間範圍"})]}),c==="minor"&&a.jsxs(a.Fragment,{children:[a.jsx("li",{children:"• 可以預約剩餘的空閒日期"}),a.jsx("li",{children:"• 或選擇其他時間範圍"})]}),a.jsx("li",{children:"• 聯繫我們以獲得支援"})]})]})]})]})},Joe=()=>{const[e,t]=x.useState([]),[r,n]=x.useState([]),[i,s]=x.useState(!0),[o,c]=x.useState(!1),[l,u]=x.useState(null),[d,f]=x.useState([]);console.log(d);const[h,p]=x.useState(null),[g,m]=x.useState(null),[v,y]=x.useState([]),[b,j]=x.useState([]),[S,N]=x.useState(!1),[w,A]=x.useState(null),[O,_]=x.useState({parkingTypeId:"",checkInTime:"",checkOutTime:"",driverName:"",phone:"",email:"",licensePlate:"",passengerCount:1,luggageCount:0,selectedAddonServices:[],discountCode:"",estimatedArrivalTime:"",flightNumber:"",notes:"",paymentStatus:"pending",paymentMethod:"cash",status:"confirmed"});x.useEffect(()=>{P()},[]),x.useEffect(()=>{O.parkingTypeId&&O.checkInTime&&O.checkOutTime?(C(),k()):(f([]),p(null),y([]),j([]))},[O.parkingTypeId,O.checkInTime,O.checkOutTime]),x.useEffect(()=>{const z=setTimeout(()=>{O.email&&T(O.email)},1e3);return()=>clearTimeout(z)},[O.email]),x.useEffect(()=>{O.parkingTypeId&&O.checkInTime&&O.checkOutTime&&E()},[O.selectedAddonServices,O.discountCode,S]);const P=async()=>{try{s(!0);const[z,H]=await Promise.all([qd(),M1()]);t(z.parkingTypes),n(H.services)}catch(z){console.error("Error loading data:",z),Z.error("無法載入資料")}finally{s(!1)}},C=async()=>{try{const H=(await Ne.post("/bookings/check-availability",{parkingTypeId:O.parkingTypeId,checkInTime:O.checkInTime,checkOutTime:O.checkOutTime})).data;if(H.success)f(H.availableSlots),p(H.pricing),y([]),await E();else{f([]),p(null);const de=await $();y(de),Z.error(H.message||"停車場在此時段已無空位")}}catch(z){console.error("Error checking availability:",z),Z.error("檢查可用性時發生錯誤")}},E=async()=>{if(!(!O.parkingTypeId||!O.checkInTime||!O.checkOutTime))try{const z=await BE({parkingTypeId:O.parkingTypeId,checkInTime:O.checkInTime,checkOutTime:O.checkOutTime,addonServices:O.selectedAddonServices,discountCode:O.discountCode,isVIP:S,userEmail:O.email});p(z.pricing)}catch(z){console.error("Error calculating pricing:",z)}},k=async()=>{if(!(!O.parkingTypeId||!O.checkInTime||!O.checkOutTime))try{const z=await R1(O.parkingTypeId,O.checkInTime,O.checkOutTime);j(z.maintenanceDays),z.hasMaintenance&&Z.error("此停車場在選擇的時間內正在維護")}catch(z){console.error("Error checking maintenance:",z)}},$=async()=>{if(!O.checkInTime||!O.checkOutTime)return[];const z=[],H=new Date(O.checkInTime),de=new Date(O.checkOutTime),Le=new Date(H);for(;Le<=de;){const he=Le.toISOString().split("T")[0];try{(await Ne.post("/bookings/check-availability",{parkingTypeId:O.parkingTypeId,checkInTime:`${he}T00:00:00.000Z`,checkOutTime:`${he}T23:59:59.999Z`})).data.success||z.push(he)}catch(Te){console.error("Error checking day availability:",Te),z.push(he)}Le.setDate(Le.getDate()+1)}return z},T=async z=>{if(!(!z||!z.includes("@")))try{const H=JSON.parse(localStorage.getItem("user")||"{}");if(H.email===z&&H.isVIP){A(H),N(!0),Z.success(`🎉 歡迎VIP會員！您享有 ${H.vipDiscount||0}% 折扣！`);return}const de=await r1(z);de.success&&de.user&&de.user.isVIP?(A(de.user),N(!0),Z.success(`🎉 歡迎VIP會員！您享有 ${de.user.vipDiscount||0}% 折扣！`)):(A(null),N(!1))}catch(H){console.error("Error checking VIP status:",H),A(null),N(!1)}},M=async()=>{var z,H,de,Le;if(!((z=O.discountCode)!=null&&z.trim())){Z.error("請輸入折扣碼");return}if(!O.parkingTypeId||!O.checkInTime||!O.checkOutTime){Z.error("請先選擇停車場和時間再應用折扣碼");return}try{const he=JSON.parse(localStorage.getItem("user")||"{}"),ce=(await Ne.post("/bookings/apply-discount",{discountCode:O.discountCode,parkingTypeId:O.parkingTypeId,checkInTime:O.checkInTime,checkOutTime:O.checkOutTime,addonServices:O.selectedAddonServices,isVIP:S,email:O.email||he.email})).data;ce.success?(m(ce.discountInfo),Z.success("折扣碼應用成功！")):(Z.error(ce.message||"折扣碼無效"),m(null))}catch(he){if(console.error("Error applying discount:",he),((H=he.response)==null?void 0:H.status)===401)Z.error("請登入以使用折扣碼");else{const Te=((Le=(de=he.response)==null?void 0:de.data)==null?void 0:Le.message)||he.message||"無法應用折扣碼";Z.error(Te)}m(null)}},D=async()=>{try{const z={...O,addonServices:O.selectedAddonServices},H=await f$(z);u(H.booking),c(!0),W(),Z.success("手動預約創建成功")}catch(z){console.error("Error creating manual booking:",z),Z.error("無法創建手動預約")}},W=()=>{_({parkingTypeId:"",checkInTime:"",checkOutTime:"",driverName:"",phone:"",email:"",licensePlate:"",passengerCount:1,luggageCount:0,selectedAddonServices:[],discountCode:"",estimatedArrivalTime:"",flightNumber:"",notes:"",paymentStatus:"pending",paymentMethod:"cash",status:"confirmed"}),p(null),m(null),f([]),y([]),j([])},R=z=>{_(H=>({...H,selectedAddonServices:H.selectedAddonServices.includes(z)?H.selectedAddonServices.filter(de=>de!==z):[...H.selectedAddonServices,z]}))},Y=z=>z==null?"0 TWD":z.toLocaleString("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0,maximumFractionDigits:0}),F=e.find(z=>z._id===O.parkingTypeId),ie=r.filter(z=>O.selectedAddonServices.includes(z._id));return i?a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}):a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsx("div",{className:"flex justify-between items-center mb-8",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"手動預約"}),a.jsx("p",{className:"text-gray-600",children:"為客戶創建預約"})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs(le,{children:[a.jsxs(ge,{children:[a.jsxs(ve,{className:"flex items-center",children:[a.jsx(Wr,{className:"h-5 w-5 mr-2"}),"預約資訊"]}),a.jsx(tt,{children:"輸入新預約的詳細資訊"})]}),a.jsxs(ue,{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"parkingType",children:"停車場 *"}),a.jsxs(Tn,{value:O.parkingTypeId,onValueChange:z=>_(H=>({...H,parkingTypeId:z})),children:[a.jsx(fn,{children:a.jsx(Cn,{placeholder:"選擇停車場"})}),a.jsx(hn,{children:e.map(z=>a.jsxs(it,{value:z._id,children:[z.name," (",z.code,") - ",Y(z.pricePerDay||0),"/天"]},z._id))})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"checkInTime",children:"進入時間 *"}),a.jsx(oe,{id:"checkInTime",type:"datetime-local",value:O.checkInTime,onChange:z=>_(H=>({...H,checkInTime:z.target.value}))})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"checkOutTime",children:"離開時間 *"}),a.jsx(oe,{id:"checkOutTime",type:"datetime-local",value:O.checkOutTime,onChange:z=>_(H=>({...H,checkOutTime:z.target.value}))})]})]}),O.parkingTypeId&&O.checkInTime&&O.checkOutTime&&a.jsx(Xoe,{parkingTypeId:O.parkingTypeId,checkInTime:O.checkInTime,checkOutTime:O.checkOutTime}),v.length>0&&a.jsx(Yoe,{checkInTime:O.checkInTime,checkOutTime:O.checkOutTime,conflictingDays:v,totalDays:Math.ceil((new Date(O.checkOutTime).getTime()-new Date(O.checkInTime).getTime())/(1e3*60*60*24)),availableDays:Math.ceil((new Date(O.checkOutTime).getTime()-new Date(O.checkInTime).getTime())/(1e3*60*60*24))-v.length}),b.length>0&&a.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx(vs,{className:"h-5 w-5 text-red-600"}),a.jsx("span",{className:"font-medium text-red-800",children:"⚠️ 停車場正在維護"})]}),a.jsxs("div",{className:"text-sm text-red-700",children:[a.jsx("p",{children:"所選停車場在此時段正在維護："}),a.jsx("ul",{className:"mt-2 space-y-1",children:b.map((z,H)=>a.jsxs("li",{className:"flex items-center space-x-2",children:[a.jsx("span",{children:"•"}),a.jsxs("span",{children:[new Date(z.date).toLocaleDateString("zh-TW"),": ",z.reason]})]},H))}),a.jsx("p",{className:"mt-2 font-medium",children:"請選擇其他時間或停車場。"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[a.jsx(Nr,{className:"h-4 w-4 mr-2"}),"客戶資訊"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"driverName",children:"您的姓名 *"}),a.jsx(oe,{id:"driverName",value:O.driverName,onChange:z=>_(H=>({...H,driverName:z.target.value})),placeholder:"輸入您的姓名"})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"phone",children:"電話號碼 *"}),a.jsx(oe,{id:"phone",value:O.phone,onChange:z=>_(H=>({...H,phone:z.target.value})),placeholder:"輸入電話號碼"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"email",children:"Email *"}),a.jsxs("div",{className:"relative",children:[a.jsx(oe,{id:"email",type:"email",value:O.email,onChange:z=>_(H=>({...H,email:z.target.value})),placeholder:"輸入電子郵件",className:S?"border-yellow-400 bg-yellow-50":""}),S&&w&&a.jsx("div",{className:"absolute -top-2 -right-2",children:a.jsxs(Me,{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white border-0 text-xs",children:["👑 VIP ",w.vipDiscount,"%"]})})]}),S&&w&&a.jsxs("div",{className:"text-xs text-yellow-600 bg-yellow-50 p-2 rounded",children:["✨ 歡迎VIP會員！您享有 ",w.vipDiscount,"% 自動折扣。"]})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"licensePlate",children:"車牌號碼 *"}),a.jsx(oe,{id:"licensePlate",value:O.licensePlate,onChange:z=>_(H=>({...H,licensePlate:z.target.value.toUpperCase()})),placeholder:"輸入車牌號碼"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"passengerCount",children:"乘客數量"}),a.jsx(oe,{id:"passengerCount",type:"number",min:"1",value:O.passengerCount,onChange:z=>_(H=>({...H,passengerCount:parseInt(z.target.value)}))})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"luggageCount",children:"行李數量（免費1個，第2個以上每一個加100元）"}),a.jsx(oe,{id:"luggageCount",type:"number",min:"0",value:O.luggageCount,onChange:z=>_(H=>({...H,luggageCount:parseInt(z.target.value)}))})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[a.jsx(_r,{className:"h-4 w-4 mr-2"}),"附加資訊"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"estimatedArrivalTime",children:"預計到達時間"}),a.jsx(oe,{id:"estimatedArrivalTime",type:"datetime-local",value:O.estimatedArrivalTime,onChange:z=>_(H=>({...H,estimatedArrivalTime:z.target.value}))})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"flightNumber",children:"航班號碼"}),a.jsx(oe,{id:"flightNumber",value:O.flightNumber,onChange:z=>_(H=>({...H,flightNumber:z.target.value})),placeholder:"輸入航班號碼"})]})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"notes",children:"備註"}),a.jsx(tr,{id:"notes",value:O.notes,onChange:z=>_(H=>({...H,notes:z.target.value})),placeholder:"附加備註...",rows:3})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[a.jsx(ig,{className:"h-4 w-4 mr-2"}),"付款資訊"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(K,{htmlFor:"paymentStatus",children:"付款狀態"}),a.jsxs(Tn,{value:O.paymentStatus,onValueChange:z=>_(H=>({...H,paymentStatus:z})),children:[a.jsx(fn,{children:a.jsx(Cn,{})}),a.jsxs(hn,{children:[a.jsx(it,{value:"pending",children:"等待付款"}),a.jsx(it,{value:"paid",children:"已付款"}),a.jsx(it,{value:"refunded",children:"已退款"})]})]})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"paymentMethod",children:"付款方式"}),a.jsxs(Tn,{value:O.paymentMethod,onValueChange:z=>_(H=>({...H,paymentMethod:z})),children:[a.jsx(fn,{children:a.jsx(Cn,{})}),a.jsxs(hn,{children:[a.jsx(it,{value:"cash",children:"現金"}),a.jsx(it,{value:"credit_card",children:"信用卡"}),a.jsx(it,{value:"online",children:"線上付款"})]})]})]})]}),a.jsxs("div",{children:[a.jsx(K,{htmlFor:"status",children:"預約狀態"}),a.jsxs(Tn,{value:O.status,onValueChange:z=>_(H=>({...H,status:z})),children:[a.jsx(fn,{children:a.jsx(Cn,{})}),a.jsxs(hn,{children:[a.jsx(it,{value:"pending",children:"等待確認"}),a.jsx(it,{value:"confirmed",children:"預約成功"}),a.jsx(it,{value:"checked-in",children:"已進入停車場"}),a.jsx(it,{value:"checked-out",children:"已離開停車場"})]})]})]})]}),a.jsx(q,{onClick:D,className:"w-full",children:"創建手動預約"})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs(le,{children:[a.jsxs(ge,{children:[a.jsxs(ve,{className:"flex items-center",children:[a.jsx(ir,{className:"h-5 w-5 mr-2"}),"附加服務"]}),a.jsx(tt,{children:"為客戶選擇附加服務"})]}),a.jsxs(ue,{className:"space-y-4",children:[r.map(z=>a.jsxs("div",{className:"flex items-center space-x-3 p-3 border rounded-lg",children:[a.jsx($a,{id:`service-${z._id}`,checked:O.selectedAddonServices.includes(z._id),onCheckedChange:()=>R(z._id)}),a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-2xl",children:z.icon}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:z.name}),a.jsx("div",{className:"text-sm text-gray-600",children:z.description})]})]})}),a.jsx("div",{className:"text-right",children:a.jsx("div",{className:"font-bold text-green-600",children:Y(z.price||0)})})]},z._id)),ie.length>0&&a.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[a.jsx("h4",{className:"font-semibold mb-2",children:"已選擇的服務："}),a.jsxs("div",{className:"space-y-2",children:[ie.map(z=>a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{children:z.name}),a.jsx("span",{className:"font-medium",children:Y(z.price||0)})]},z._id)),a.jsx("div",{className:"border-t pt-2",children:a.jsxs("div",{className:"flex justify-between items-center font-bold",children:[a.jsx("span",{children:"服務總計："}),a.jsx("span",{children:Y(ie.reduce((z,H)=>z+(H.price||0),0))})]})})]})]})]})]}),a.jsxs(le,{children:[a.jsxs(ge,{children:[a.jsxs(ve,{className:"flex items-center",children:[a.jsx(uu,{className:"h-5 w-5 mr-2"}),"折扣碼"]}),a.jsx(tt,{children:"如有折扣碼請輸入"})]}),a.jsxs(ue,{className:"space-y-4",children:[a.jsxs("div",{className:"flex space-x-3",children:[a.jsx(oe,{placeholder:"輸入折扣碼",value:O.discountCode,onChange:z=>_(H=>({...H,discountCode:z.target.value})),className:"flex-1"}),a.jsx(q,{onClick:M,className:"bg-[#39653f] hover:bg-[#2d4f33]",children:"應用"})]}),g&&a.jsxs("div",{className:"p-4 bg-gradient-to-r from-green-50 to-blue-50 border border-green-200 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[a.jsx(mr,{className:"h-5 w-5 text-green-600"}),a.jsx("span",{className:"font-medium text-green-800",children:"優惠已應用！"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"bg-white p-3 rounded-lg border border-green-200",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx("span",{className:"text-lg",children:"🎫"}),a.jsx("span",{className:"font-semibold text-green-700",children:"優惠券折扣"})]}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"優惠券代碼："}),a.jsx("span",{className:"font-semibold text-green-600",children:g.code})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"折扣類型："}),a.jsx("span",{className:"font-semibold",children:g.discountType==="percentage"?`${g.discountValue}%`:"固定金額"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"折扣金額："}),a.jsxs("span",{className:"font-semibold text-green-600",children:["-",Y(g.discountAmount)]})]})]})]}),g.vipDiscount>0&&a.jsxs("div",{className:"bg-white p-3 rounded-lg border border-blue-200",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx("span",{className:"text-lg",children:"👑"}),a.jsx("span",{className:"font-semibold text-blue-700",children:"VIP會員折扣"})]}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"狀態："}),a.jsx("span",{className:"font-semibold text-blue-600",children:"VIP會員"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"折扣比例："}),a.jsxs("span",{className:"font-semibold",children:[Math.round(g.vipDiscount/(g.originalAmount-g.discountAmount)*100),"%"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"折扣金額："}),a.jsxs("span",{className:"font-semibold text-blue-600",children:["-",Y(g.vipDiscount)]})]})]})]}),a.jsx("div",{className:"bg-gradient-to-r from-green-100 to-blue-100 p-3 rounded-lg border-2 border-green-300",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-semibold",children:"原始總額："}),a.jsx("span",{className:"font-semibold",children:Y(g.originalAmount)})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-semibold text-green-700",children:"總折扣："}),a.jsxs("span",{className:"font-bold text-green-700 text-lg",children:["-",Y(g.totalDiscount||g.discountAmount)]})]}),a.jsx("div",{className:"border-t pt-2",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-bold text-lg",children:"總付款："}),a.jsx("span",{className:"font-bold text-green-800 text-xl",children:Y(g.finalAmount)})]})})]})})]})]})]})]}),h&&a.jsxs(le,{children:[a.jsx(ge,{children:a.jsxs(ve,{className:"flex items-center",children:[a.jsx(cg,{className:"h-5 w-5 mr-2"}),"價格摘要"]})}),a.jsx(ue,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"bg-gray-50 p-3 rounded-lg",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-semibold text-gray-900",children:"基本價格"}),a.jsxs("div",{className:"text-sm text-gray-600",children:[F==null?void 0:F.name," • ",(h==null?void 0:h.durationDays)||0," 天"]})]}),a.jsx("span",{className:"font-semibold text-gray-900",children:Y(h==null?void 0:h.basePrice)})]})}),(h==null?void 0:h.dailyPrices)&&h.dailyPrices.length>0&&a.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[a.jsx("div",{className:"text-sm font-semibold text-blue-700 mb-2",children:"📅 每日價格詳情："}),a.jsx("div",{className:"space-y-2",children:h.dailyPrices.map((z,H)=>a.jsxs("div",{className:"flex justify-between items-center text-sm bg-white p-2 rounded",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-gray-600",children:new Date(z.date).toLocaleDateString("zh-TW",{weekday:"short",month:"short",day:"numeric"})}),z.isSpecialPrice&&a.jsxs(Me,{variant:"outline",className:"text-xs bg-orange-100 text-orange-700 border-orange-200",children:["💰 ",z.specialPriceReason]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[z.isSpecialPrice&&a.jsx("span",{className:"text-xs text-gray-500 line-through",children:Y(z.originalPrice)}),a.jsx("span",{className:`font-semibold ${z.isSpecialPrice?"text-orange-600":"text-blue-600"}`,children:Y(z.price)})]})]},H))})]}),O.selectedAddonServices.length>0&&a.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[a.jsx("div",{className:"text-sm font-semibold text-blue-700 mb-2",children:"🚀 附加服務："}),a.jsx("div",{className:"space-y-2",children:O.selectedAddonServices.map(z=>{const H=r.find(de=>de._id===z);return H?a.jsxs("div",{className:"flex justify-between items-center text-sm bg-white p-2 rounded",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-lg",children:H.icon}),a.jsx("span",{children:H.name})]}),a.jsx("span",{className:"font-semibold text-blue-600",children:Y(H.price||0)})]},z):null})})]}),S&&w&&a.jsxs("div",{className:"flex justify-between items-center py-2 bg-blue-50 rounded-lg px-3",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-blue-600",children:"👑 VIP折扣："}),a.jsxs("span",{className:"text-xs text-blue-500 bg-blue-100 px-2 py-1 rounded",children:[w.vipDiscount,"% 折扣"]})]}),g?a.jsxs("span",{className:"font-semibold text-blue-600",children:["-",Y(g.vipDiscount||0)]}):a.jsxs("span",{className:"text-sm text-blue-600",children:["~",Y(Math.round(((h==null?void 0:h.totalAmount)||0)*(w.vipDiscount/100)))]})]}),g&&g.discountAmount>0&&a.jsxs("div",{className:"flex justify-between items-center py-2 bg-green-50 rounded-lg px-3",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-green-600",children:"🎫 優惠券："}),a.jsxs("span",{className:"text-xs text-green-500 bg-green-100 px-2 py-1 rounded",children:[g.code," (",g.discountType==="percentage"?`${g.discountValue}%`:"固定",")"]})]}),a.jsxs("span",{className:"font-semibold text-green-600",children:["-",Y(g.discountAmount)]})]}),a.jsx(di,{}),a.jsx("div",{className:"bg-gradient-to-r from-emerald-100 to-teal-100 p-4 rounded-lg border-2 border-emerald-300",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-semibold text-gray-700",children:"原始總額："}),a.jsx("span",{className:"font-semibold text-gray-900",children:Y((h==null?void 0:h.totalAmount)||0)})]}),g&&(g.discountAmount>0||g.vipDiscount>0)||S&&w?a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-semibold text-green-700",children:"總折扣："}),a.jsxs("span",{className:"font-bold text-green-700 text-lg",children:["-",Y(g?g.totalDiscount||g.discountAmount||0:Math.round(((h==null?void 0:h.totalAmount)||0)*((w==null?void 0:w.vipDiscount)/100)))]})]}):null,a.jsx("div",{className:"border-t pt-2",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-bold text-lg text-gray-900",children:"總付款："}),a.jsx("span",{className:"text-2xl font-bold text-emerald-600",children:Y(g?g.finalAmount:S&&w?Math.round(((h==null?void 0:h.totalAmount)||0)*(1-w.vipDiscount/100)):(h==null?void 0:h.finalAmount)||(h==null?void 0:h.totalAmount)||0)})]})})]})})]})})]})]})]}),a.jsx(pt,{open:o,onOpenChange:c,children:a.jsxs(lt,{children:[a.jsxs(ut,{children:[a.jsxs(ft,{className:"flex items-center",children:[a.jsx(mr,{className:"h-5 w-5 mr-2 text-green-500"}),"預約成功"]}),a.jsx(ht,{children:"手動預約已成功創建"})]}),l&&a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[a.jsxs("div",{className:"font-semibold",children:["預約編號: ",l.bookingNumber]}),a.jsxs("div",{className:"text-sm text-gray-600",children:["客戶: ",l.driverName]}),a.jsxs("div",{className:"text-sm text-gray-600",children:["車牌號碼: ",l.licensePlate]}),a.jsxs("div",{className:"text-sm text-gray-600",children:["總金額: ",Y(l.finalAmount)]})]})}),a.jsx(dt,{children:a.jsx(q,{onClick:()=>c(!1),children:"關閉"})})]})})]})},Qoe=()=>{const[e,t]=x.useState(null),[r,n]=x.useState(!0),[i,s]=x.useState("checkins");x.useEffect(()=>{o()},[]);const o=async()=>{try{n(!0);const h=await S$();t(h)}catch(h){console.error("Error loading today data:",h),Z.error("無法載入今日資料")}finally{n(!1)}},c=h=>new Date(h).toLocaleString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),l=h=>h.toLocaleString("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0,maximumFractionDigits:0}),u=h=>{switch(h){case"confirmed":return a.jsxs(Me,{variant:"default",children:[a.jsx(mr,{className:"h-3 w-3 mr-1"}),"預約成功"]});case"checked-in":return a.jsxs(Me,{variant:"secondary",children:[a.jsx(ir,{className:"h-3 w-3 mr-1"}),"已進入停車場"]});case"checked-out":return a.jsxs(Me,{variant:"outline",children:[a.jsx(_r,{className:"h-3 w-3 mr-1"}),"已離開停車場"]});case"cancelled":return a.jsxs(Me,{variant:"destructive",children:[a.jsx(qr,{className:"h-3 w-3 mr-1"}),"已取消"]});default:return a.jsx(Me,{variant:"secondary",children:h})}},d=()=>{window.print()};if(r)return a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})});if(!e)return a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsxs("div",{className:"text-center",children:[a.jsx(xs,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"沒有資料"}),a.jsx("p",{className:"text-gray-500",children:"無法載入今日資料。"})]})});const f=()=>{switch(i){case"checkins":return e.checkInsToday;case"checkouts":return e.checkOutsToday;case"overdue":return e.overdueBookings;default:return e.checkInsToday}};return a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"今日概覽"}),a.jsx("p",{className:"text-gray-600",children:"今日停車場進出車輛統計"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(q,{variant:"outline",onClick:o,children:[a.jsx(Hn,{className:"h-4 w-4 mr-2"}),"重新整理"]}),a.jsxs(q,{variant:"outline",onClick:d,children:[a.jsx(j1,{className:"h-4 w-4 mr-2"}),"列印報告"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[a.jsxs(le,{children:[a.jsxs(ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ve,{className:"text-sm font-medium",children:"今日進入車輛"}),a.jsx(la,{className:"h-4 w-4 text-green-600"})]}),a.jsxs(ue,{children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.summary.totalCheckIns}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"今天將進入停車場的車輛"})]})]}),a.jsxs(le,{children:[a.jsxs(ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ve,{className:"text-sm font-medium",children:"今天離開車輛"}),a.jsx(du,{className:"h-4 w-4 text-blue-600"})]}),a.jsxs(ue,{children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.summary.totalCheckOuts}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"今天將離開停車場的車輛"})]})]}),a.jsxs(le,{children:[a.jsxs(ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ve,{className:"text-sm font-medium",children:"逾期車輛"}),a.jsx(xs,{className:"h-4 w-4 text-red-600"})]}),a.jsxs(ue,{children:[a.jsx("div",{className:"text-2xl font-bold text-red-600",children:e.summary.totalOverdue}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"已超過預約時間的車輛"})]})]})]}),a.jsxs(le,{children:[a.jsxs(ge,{children:[a.jsx(ve,{children:"今日詳情"}),a.jsx(tt,{children:"查看進出停車場車輛的詳細資訊"})]}),a.jsxs(ue,{children:[a.jsxs("div",{className:"flex space-x-2 mb-6",children:[a.jsxs(q,{variant:i==="checkins"?"default":"outline",onClick:()=>s("checkins"),children:[a.jsx(la,{className:"h-4 w-4 mr-2"}),"進入車輛 (",e.summary.totalCheckIns,")"]}),a.jsxs(q,{variant:i==="checkouts"?"default":"outline",onClick:()=>s("checkouts"),children:[a.jsx(du,{className:"h-4 w-4 mr-2"}),"離開車輛 (",e.summary.totalCheckOuts,")"]}),a.jsxs(q,{variant:i==="overdue"?"default":"outline",onClick:()=>s("overdue"),children:[a.jsx(xs,{className:"h-4 w-4 mr-2"}),"逾期 (",e.summary.totalOverdue,")"]})]}),a.jsxs(Vr,{children:[a.jsx(zr,{children:a.jsxs(Pt,{children:[a.jsx(Ae,{children:"預約編號"}),a.jsx(Ae,{children:"客戶"}),a.jsx(Ae,{children:"車牌號碼"}),a.jsx(Ae,{children:"停車場"}),a.jsx(Ae,{children:"時間"}),a.jsx(Ae,{children:"狀態"}),a.jsx(Ae,{children:"金額"})]})}),a.jsx(Ur,{children:f().map(h=>a.jsxs(Pt,{children:[a.jsx(Oe,{children:a.jsx("div",{className:"font-medium",children:h.bookingNumber})}),a.jsx(Oe,{children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:h.driverName}),a.jsx("div",{className:"text-sm text-gray-600",children:h.phone})]})}),a.jsx(Oe,{children:a.jsx("div",{className:"font-medium",children:h.licensePlate})}),a.jsx(Oe,{children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:h.parkingType.name}),a.jsx("div",{className:"text-sm text-gray-600",children:h.parkingType.code})]})}),a.jsx(Oe,{children:a.jsxs("div",{children:[a.jsxs("div",{className:"text-sm",children:[a.jsx("span",{className:"font-medium",children:"進入:"})," ",c(h.checkInTime)]}),a.jsxs("div",{className:"text-sm text-gray-600",children:[a.jsx("span",{className:"font-medium",children:"離開:"})," ",c(h.checkOutTime)]})]})}),a.jsx(Oe,{children:u(h.status)}),a.jsx(Oe,{children:a.jsx("div",{className:"font-bold text-green-600",children:l(h.finalAmount)})})]},h._id))})]}),f().length===0&&a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(Dt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsxs("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:[i==="checkins"&&"今天沒有車輛進入",i==="checkouts"&&"今天沒有車輛離開",i==="overdue"&&"沒有逾期車輛"]}),a.jsxs("p",{className:"text-gray-500",children:[i==="checkins"&&"今天還沒有車輛預約進入。",i==="checkouts"&&"今天還沒有車輛預約離開。",i==="overdue"&&"所有車輛都按時。"]})]})]})]}),a.jsx("style",{children:`
        @media print {
          .no-print {
            display: none !important;
          }
          .print-break {
            page-break-before: always;
          }
        }
      `})]})},Ow=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Dashboard"}),a.jsx("p",{className:"text-muted-foreground",children:"Tổng quan hệ thống bãi đậu xe - Staff Panel"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsxs(le,{children:[a.jsxs(ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ve,{className:"text-sm font-medium",children:"Đặt chỗ hôm nay"}),a.jsx(Dt,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ue,{children:[a.jsx("div",{className:"text-2xl font-bold",children:"0"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"+0 đặt thành công"})]})]}),a.jsxs(le,{children:[a.jsxs(ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ve,{className:"text-sm font-medium",children:"Doanh thu hôm nay"}),a.jsx(cs,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ue,{children:[a.jsx("div",{className:"text-2xl font-bold",children:"0,00 NT$"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Trung bình 0,00 NT$/đặt chỗ"})]})]}),a.jsxs(le,{children:[a.jsxs(ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ve,{className:"text-sm font-medium",children:"Chỗ trống còn lại"}),a.jsx(ir,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ue,{children:[a.jsx("div",{className:"text-2xl font-bold",children:"0"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Tổng 0 chỗ đậu xe"})]})]}),a.jsxs(le,{children:[a.jsxs(ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ve,{className:"text-sm font-medium",children:"Xe đang đỗ"}),a.jsx(Nr,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ue,{children:[a.jsx("div",{className:"text-2xl font-bold",children:"0"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"0 xe sắp rời bãi hôm nay"})]})]})]}),a.jsx("div",{className:"border-b",children:a.jsxs("nav",{className:"-mb-px flex space-x-8",children:[a.jsx("button",{className:"border-b-2 border-primary text-primary px-1 py-2 text-sm font-medium",children:"Tổng quan"}),a.jsx("button",{className:"border-b-2 border-transparent text-muted-foreground hover:text-foreground px-1 py-2 text-sm font-medium",children:"Bãi đậu xe"}),a.jsx("button",{className:"border-b-2 border-transparent text-muted-foreground hover:text-foreground px-1 py-2 text-sm font-medium",children:"Đặt chỗ"}),a.jsx("button",{className:"border-b-2 border-transparent text-muted-foreground hover:text-foreground px-1 py-2 text-sm font-medium",children:"Trạng thái hiện tại"})]})}),a.jsx("div",{className:"bg-white rounded-lg border p-6",children:a.jsxs("div",{className:"text-center text-muted-foreground",children:[a.jsx("p",{children:"Chào mừng đến với Staff Dashboard"}),a.jsx("p",{className:"text-sm mt-2",children:"Bạn có thể quản lý đặt chỗ và theo dõi trạng thái bãi đậu xe từ đây."})]})})]}),ece=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Quản lý đặt chỗ"}),a.jsx("p",{className:"text-muted-foreground",children:"Quản lý và theo dõi các đặt chỗ đậu xe"})]}),a.jsxs(q,{children:[a.jsx(Wr,{className:"h-4 w-4 mr-2"}),"Tạo đặt chỗ mới"]})]}),a.jsxs(le,{children:[a.jsx(ge,{children:a.jsx(ve,{className:"text-lg",children:"Bộ lọc"})}),a.jsx(ue,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Hr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(oe,{placeholder:"Tìm kiếm đặt chỗ...",className:"pl-10"})]}),a.jsx(oe,{placeholder:"Từ ngày",type:"date"}),a.jsx(oe,{placeholder:"Đến ngày",type:"date"}),a.jsxs(q,{variant:"outline",className:"w-full",children:[a.jsx(hr,{className:"h-4 w-4 mr-2"}),"Lọc"]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs(le,{children:[a.jsxs(ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ve,{className:"text-sm font-medium",children:"Tổng đặt chỗ"}),a.jsx(Dt,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ue,{children:[a.jsx("div",{className:"text-2xl font-bold",children:"0"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"+0 so với hôm qua"})]})]}),a.jsxs(le,{children:[a.jsxs(ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ve,{className:"text-sm font-medium",children:"Đặt thành công"}),a.jsx(Me,{variant:"default",className:"h-4 w-4",children:"✓"})]}),a.jsxs(ue,{children:[a.jsx("div",{className:"text-2xl font-bold",children:"0"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"0% tỷ lệ xác nhận"})]})]}),a.jsxs(le,{children:[a.jsxs(ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ve,{className:"text-sm font-medium",children:"Chờ xác nhận"}),a.jsx(Me,{variant:"secondary",className:"h-4 w-4",children:"⏳"})]}),a.jsxs(ue,{children:[a.jsx("div",{className:"text-2xl font-bold",children:"0"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Cần xử lý"})]})]}),a.jsxs(le,{children:[a.jsxs(ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ve,{className:"text-sm font-medium",children:"Đã hủy"}),a.jsx(Me,{variant:"destructive",className:"h-4 w-4",children:"✗"})]}),a.jsxs(ue,{children:[a.jsx("div",{className:"text-2xl font-bold",children:"0"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"0% tỷ lệ hủy"})]})]})]}),a.jsxs(le,{children:[a.jsx(ge,{children:a.jsx(ve,{children:"Danh sách đặt chỗ"})}),a.jsx(ue,{children:a.jsx("div",{className:"rounded-md border",children:a.jsxs("div",{className:"p-4 text-center text-muted-foreground",children:[a.jsx(Dt,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"Chưa có đặt chỗ nào"}),a.jsx("p",{className:"text-sm",children:"Các đặt chỗ sẽ hiển thị ở đây"})]})})})]})]}),_w=({requiredRole:e})=>{const{user:t,loading:r}=io();if(r)return a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"})});if(!t)return a.jsx(qv,{to:"/login",replace:!0});if(e){const n={user:1,staff:2,admin:3},i=n[t.role],s=n[e];if(i<s)return a.jsx(qv,{to:"/",replace:!0})}return a.jsx(Dd,{})};function tce(){return a.jsx(J2,{children:a.jsx(X2,{children:a.jsxs(vP,{children:[a.jsxs(bt,{path:"/",element:a.jsx(iE,{}),children:[a.jsx(bt,{index:!0,element:a.jsx(Ax,{})}),a.jsx(bt,{path:"booking",element:a.jsx(Ax,{})}),a.jsx(bt,{path:"booking-confirmation",element:a.jsx(C$,{})}),a.jsx(bt,{path:"lookup",element:a.jsx(lI,{})}),a.jsx(bt,{path:"login",element:a.jsx(VM,{})}),a.jsx(bt,{path:"register",element:a.jsx(UM,{})})]}),a.jsx(bt,{path:"/admin",element:a.jsx(_w,{requiredRole:"admin"}),children:a.jsxs(bt,{element:a.jsx(sE,{}),children:[a.jsx(bt,{index:!0,element:a.jsx(Aw,{})}),a.jsx(bt,{path:"dashboard",element:a.jsx(Aw,{})}),a.jsx(bt,{path:"bookings",element:a.jsx(koe,{})}),a.jsx(bt,{path:"users",element:a.jsx(zoe,{})}),a.jsx(bt,{path:"parking-types",element:a.jsx(Woe,{})}),a.jsx(bt,{path:"services",element:a.jsx(qoe,{})}),a.jsx(bt,{path:"discounts",element:a.jsx(Hoe,{})}),a.jsx(bt,{path:"notifications",element:a.jsx(Koe,{})}),a.jsx(bt,{path:"settings",element:a.jsx(Uoe,{})}),a.jsx(bt,{path:"maintenance",element:a.jsx(Goe,{})}),a.jsx(bt,{path:"special-pricing",element:a.jsx(Zoe,{})}),a.jsx(bt,{path:"manual-booking",element:a.jsx(Joe,{})}),a.jsx(bt,{path:"today-overview",element:a.jsx(Qoe,{})})]})}),a.jsx(bt,{path:"/staff",element:a.jsx(_w,{requiredRole:"staff"}),children:a.jsxs(bt,{element:a.jsx(oE,{}),children:[a.jsx(bt,{index:!0,element:a.jsx(Ow,{})}),a.jsx(bt,{path:"dashboard",element:a.jsx(Ow,{})}),a.jsx(bt,{path:"bookings",element:a.jsx(ece,{})})]})})]})})})}Xh.createRoot(document.getElementById("root")).render(a.jsx(I.StrictMode,{children:a.jsxs(xP,{children:[a.jsx(tce,{}),a.jsx(Z2,{position:"top-right"})]})}));
